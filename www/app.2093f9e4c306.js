webpackJsonp([63],[,,function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(17),s=r.extend({},o.Events,{readyEvents:{},navigate:function(t,e){o.history.navigate(t,r.extend({trigger:!0},e))},navigateBack:function(){var t=o.history.history;if(t.length<=2)return this.navigate("/");t.back()},onEvent:function(t,e,n){this.isEventReady(t)?e.call(n):s.on(t,e,n)},isEventReady:function(t){return!0===this.readyEvents[t]}});s.on("all",function(t){s.readyEvents[t]=!0}),i.exports=s}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},,function(t,e,n){var i=n(21),r=n(57),o=n(72),s=n(73),a=n(89),l=function(t,e,n){var c,u,d,h,p=t&l.F,f=t&l.G,m=t&l.S,g=t&l.P,v=t&l.B,b=f?i:m?i[e]||(i[e]={}):(i[e]||{}).prototype,y=f?r:r[e]||(r[e]={}),_=y.prototype||(y.prototype={});f&&(n=e);for(c in n)u=!p&&b&&void 0!==b[c],d=(u?b:n)[c],h=v&&u?a(d,i):g&&"function"==typeof d?a(Function.call,d):d,b&&s(b,c,d,t&l.U),y[c]!=d&&o(y,c,h),g&&_[c]!=d&&(_[c]=d)};i.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},,function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){function r(t){var e=n(7);return t.config.url===g()+"/crmws/user-data"&&!e.isLoggedIn()||l.trigger("log:error",t.message,t.stack,t.config.url),Promise.reject(t)}function o(t){var e=w(t.url);return s(t).then(function(t){return e.stop(),Promise.resolve(t)}).catch(function(t){return e.stop(),r(t)})}var s=n(353),a=n(0),l=n(2),c=n(3),u=n(95),d=n(9),h=n(1254),p=h.getCache,f=h.putCache,m=function(){return"https://"+window._app.getPlatformHost()},g=function(){return m()+"/fxclient5/controllers"},v=function(){return g()+"/withdrawal"},b=function(){return m()+"/password-changer/change-password"},y=function(){return g()+"/notification"},_=function(t){var e={"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:0};return t.headers=a.extend(e,t.headers),t},w=function(t,e){return{id:a.uniqueId(),data:e,start:function(){return this.beginTime=new Date,this.timeoutId=setTimeout(function(){this.intervalId=setInterval(this.process.bind(this),1e3)}.bind(this),2e3),this},process:function(){var t=new Date;this.beginTime},stop:function(){clearTimeout(this.timeoutId),clearInterval(this.intervalId)}}.start()};o.get=function(t){var e=w(t);return s.get(t).then(function(t){return e.stop(),Promise.resolve(t)}).catch(function(t){return e.stop(),r(t)})},o.post=function(t,e){var n=w(t);return s.post(t,e).then(function(t){return n.stop(),Promise.resolve(t)}).catch(function(t){return n.stop(),r(t)})},o.postJson=function(t,e){var n=w(t);return o({method:"post",url:t,headers:{"Content-Type":"application/json"},data:e}).then(function(t){return n.stop(),Promise.resolve(t)}).catch(function(t){return n.stop(),r(t)})},o.delete=function(t,e){var n=w(t);return s.delete(t,e).then(function(t){return n.stop(),Promise.resolve(t)}).catch(function(t){return n.stop(),r(t)})},o.put=function(t,e){var n=w(t);return s.put(t,e).then(function(t){return n.stop(),Promise.resolve(t)}).catch(function(t){return n.stop(),r(t)})},o.loadInstruments=function(){return o.post(g()+"/config/instruments").then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},o.loadLanguages=function(){return o.post(g()+"/config/languages").then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},o.loadDictionary=function(t){return o.get(g()+"/config/v2/dictionary/"+t)},o.loadDictionaryOnDemand=function(t,e){return o({method:"post",url:g()+"/config/v2/dictionary/demand/"+t,data:{keys:e}})},o.getMyAccountLink=function(t){return o({method:"get",url:g()+"/queryMT4LoginLink",headers:{"Accept-Language":t}})},o.isMetaTraderEnabled=function(){return o({method:"get",url:g()+"/mt4/enabled"})},o.applyCredentials=function(t,e){return o({method:"post",url:g()+"/mt4/password",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){var n="password="+t+"&locale="+e;return window.encodeURI(n)}],data:t}).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},o.logoutFromWidgets=function(t,e){return o.get("//"+new u.Url(t).getDomain(t)+"/"+e+"/login/QuietLogout")},o.getMetaTraderLink=function(t){return g()+"/mt4/links/"+t+"/my-account"},o.getMetaTraderAccountsAll=function(){return o.get(g()+"/metatrader/accounts").then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},o.getMetaTraderAccounts=function(t){return o.get(g()+"/metatrader/accounts/"+t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},o.getMetaTraderAccountsWithBonuses=function(t){return o.get(g()+"/metatrader/accounts/bonuses/"+t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},o.metaTraderFundsTransfer=function(t){return o({method:"post",url:g()+"/metatrader/accounts/fundstransfer",data:t})},o.getMetaTraderTradingCentral=function(){return o.get(g()+"/metatrader/tradingcentral")},o.changeMetaTraderLeverage=function(t){return o({method:"post",url:g()+"/metatrader/accounts/leverage",data:t})},o.metaTraderAddAccount=function(t){return o({method:"post",url:g()+"/metatrader/accounts",data:t})},o.fxStart=function(t){return o({method:"post",url:g()+"/fx/start",responseType:"text",headers:{"X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"}})},o.subscribeInstrumentSymbols=function(t,e){return o({method:"post",url:g()+"/subscribeInstrumentSymbols",responseType:"text",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){var e="symbols="+JSON.stringify(t.symbols);return window.encodeURI(e)}],data:{symbols:e}})},o.changeTemporaryInstrumentSubscription=function(t,e,n){return o({method:"post",url:g()+"/changeTemporaryInstrumentSubscription",responseType:"text",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){var e="addedSymbols="+t.addedSymbols+"&removedSymbols="+t.removedSymbols;return window.encodeURI(e)}],data:{addedSymbols:JSON.stringify(e),removedSymbols:JSON.stringify(n)}})},o.updateFavorites=function(t,e,n){return o({method:"post",url:g()+"/"+n+"FavouriteInstrument",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){var e="symbol="+t.symbol;return window.encodeURI(e)}],data:{symbol:e}})},o.loadSettings=function(){return o(_({method:"get",url:g()+"/config/settings"})).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},o.checkServiceSubscribed=function(t){return o.get(g()+"/services/"+t+"/subscribed?t="+a.now()).then(function(t){return Promise.resolve(t.data)}).catch(function(t){return Promise.resolve(!1)})},o.getCurrencies=function(){return o.get(g()+"/registration/currencies")},o.getRegistrationOptions=function(){return o.get(g()+"/registration/options")},o.completeFullRegistration=function(){return o.post(g()+"/registration/complete")},o.actionPost=function(t,e,n){return o({method:"POST",url:g()+"/"+t,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},transformRequest:n,data:e}).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},o.loadQueryToken=function(t){return o.post(g()+"/queryToken?data="+t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},o.simpleLogin=function(t){return o({method:"post",url:g()+"/crmws/simplelogin",data:t}).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},o.autoLogin=function(t,e){return o({method:"post",url:g()+"/crmws/autologin",data:{rememberMeToken:t,appSource:e}}).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},o.externalAuthLogin=function(t,e){return o({method:"post",url:g()+"/crmws/login/"+e,data:t}).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},o.orderCancel=function(t,e){return o({method:"post",url:g()+"/fx/cancelOrder",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){var e="orderChainId="+t.orderChainId;return window.encodeURI(e)}],data:{orderChainId:e}})},o.calculateOrderDefaultAmount=function(t,e){return o({method:"post",url:g()+"/fx/calculateOrderDefaultAmount",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){var e="instrumentId="+t.instrumentId;return window.encodeURI(e)}],data:{instrumentId:e}})},o.placeOrder=function(t,e){return o({method:"post",url:g()+"/fx/placeOrder",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){var e="order="+JSON.stringify(t);return window.encodeURI(e)}],data:e})},o.getPendingDeposit=function(){return o({method:"get",url:g()+"/deposit/pending",headers:{"X-Requested-With":"XMLHttpRequest"}})},o.updateChartsSubscription=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return o({method:"post",url:g()+"/updateChartsSubscription",responseType:"text",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(){return window.encodeURI("chartIds="+JSON.stringify(n)+"&requests="+JSON.stringify(e))}]})},o.unsubscribeCharts=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return o({method:"post",url:g()+"/unsubscribeCharts",responseType:"text",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(){return window.encodeURI("chartIds="+JSON.stringify(e))}]})},o.subscribeTradingCentral=function(t,e,n){return o({method:"post",url:g()+"/tradingcentral/subscribeAnalysis",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(){return"&symbol="+e+"&term="+n+"&lang="+__("lang")}]}).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},o.unsubscribeTradingCentral=function(t){return o({method:"post",url:g()+"/tradingcentral/unsubscribeAnalysis",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"}}).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},o.loadCommonData=function(){return o.post(g()+"/loadCommonData").then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject()})},o.getDepositUrl=function(t){return o.post(g()+"/deposit/url",t)},o.subscribePositionsFilters=function(t,e){return o({method:"post",url:g()+"/subscribePositionsFilters",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){t.symbol="null"===t.symbol?null:t.symbol;var e="filters="+JSON.stringify(t);return window.encodeURI(e)}],data:e})},o.subscribeOrdersFilters=function(t,e){return o({method:"post",url:g()+"/subscribeOrdersFilters",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){t.symbol="null"===t.symbol?null:t.symbol;var e="filters="+JSON.stringify(t);return window.encodeURI(e)}],data:e})},o.changeSubscriptionByPositions=function(t,e,n){return o({method:"post",url:g()+"/changeSubscriptionByPositions",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){var e=void 0;return e=n?'addedCodes=["'+t.positionCode+'"]&removedCodes=[]':'addedCodes=[]&removedCodes=["'+t.positionCode+'"]',window.encodeURI(e)}],data:{positionCode:e}})},o.requiredMarginPositionCandidateUpdate=function(t,e){return o({method:"post",url:g()+"/requiredMarginPositionCandidateUpdate",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){var e="positionCandidateTO="+JSON.stringify(t);return window.encodeURI(e)}],data:e})},o.unsubscribeRequiredMarginPositionCandidateUpdate=function(t,e){return o({method:"post",url:g()+"/unsubscribeRequiredMarginPositionCandidateUpdate",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){var e="symbol="+t.symbol;return window.encodeURI(e)}],data:{symbol:e}})},o.requiredMarginByPositionUpdate=function(t,e){return o({method:"post",url:g()+"/requiredMarginByPositionUpdate",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){var e="positionCode="+t.positionCode;return window.encodeURI(e)}],data:{positionCode:e}})},o.unsubscribeRequiredMarginByPositionUpdate=function(t,e){return o({method:"post",url:g()+"/unsubscribeRequiredMarginByPositionUpdate",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){var e="positionCode="+t.positionCode;return window.encodeURI(e)}],data:{positionCode:e}})},o.getDocuments=function(){return o({method:"get",url:g()+"/v3/documents/status",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"}}).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},o.getCreditCards=function(){return o.post(g()+"/cards")},o.approveCreditCard=function(t){return o.post(g()+"/cards/"+t+"/approve")},o.queryCreditCardsDetailed=function(){return o.post(g()+"/cards/details")},o.uploadDocument=function(t,e){return o({method:"post",url:g()+"/v3/documents/"+t.docType,data:e}).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},o.uploadSchedule=function(t){return o({method:"post",url:g()+"/documents/schedule",data:t}).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},o.editPosition=function(t,e,n){return o({method:"post",url:g()+"/fx/attachToPosition",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){var e="positionCode="+n+"&protectionOrders="+JSON.stringify(t);return window.encodeURI(e)}],data:e})},o.closePosition=function(t,e){return o({method:"post",url:g()+"/fx/closePosition",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){var e="order="+JSON.stringify(t);return window.encodeURI(e)}],data:e})},o.subscribeSwapRates=function(t,e,n){return o({method:"post",url:g()+"/"+(n?"s":"unS")+"ubscribeSwapRates",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){var e="symbol="+t;return window.encodeURI(e)}],data:e})},o.getMarginingSettings=function(t,e){return o({method:"post",url:g()+"/getMarginingSettings",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){var e="instrumentSymbol="+t;return window.encodeURI(e)}],data:e})},o.getTradingCalendarsSettings=function(t,e){return o({method:"post",url:g()+"/getTradingCalendarsSettings",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){var e="instrumentSymbol="+t;return window.encodeURI(e)}],data:e})},o.loadRollovers=function(){return o.post(g()+"/config/rolloverDates")},o.queryDataCompliance=function(){return o.post(g()+"/compliance/data")},o.withdrawRequest=function(t,e,n){return e?o({method:"post",url:g()+e,headers:{"Content-Type":"application/json","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"},data:n}).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)}):Promise.reject()},o.switchTo=function(t,e){return o({method:"post",url:g()+"/switchTo/"+e,headers:{"Content-Type":"application/json","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"}})},o.makeLogout=function(t){return o({method:"post",url:g()+"/logout",headers:{"Content-Type":"application/json","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"}})},o.loadCustomerInfo=function(){return o({method:"post",url:g()+"/crmws/user-data",headers:{"X-Requested-With":"XMLHttpRequest"},data:{}})},o.conversionFromUsdToCny=function(t,e){return o({method:"post",url:g()+"/crmws/conversion",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){var e=t.from,n=t.to,i="from="+e+"&to="+n;return window.encodeURI(i)}],data:e})},o.updatePassword=function(t,e){var i=n(22),r={oldPassword:t,newPassword:e},s=i.getAtmosphereId();return o({method:"post",url:g()+"/v2/account/password",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":s,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){var e=a.chain(t).keys().map(function(e){return e+"="+t[e]}).value();return window.encodeURI(e.join("&"))}],data:r})},o.loadAccountNotification=function(){return o.get(g()+"/v2/account/notification")},o.updateAccountNotification=function(t,e){return o.post(g()+"/v2/account/notification",{subscribe:t,unsubscribe:e})},o.loadLeverage=function(){return o.get(g()+"/v3/leverage")},o.saveLeverage=function(t){return o.post(g()+"/v2/leverage/"+t)},o.register=function(t){var e=u.getQueryParam("qaoriginip")||"",n=e?"?qaoriginip="+e:"";return o.post(g()+"/crmws/register"+n,t).then(function(t){return Promise.resolve(t)}).catch(function(t){var e=t&&t.response&&t.response.data&&t.response.data.error;return Promise.reject(t,e)})},o.queryComplianceStage=function(){return o.post(g()+"/compliance/stage")},o.storeSettings=function(t){return o({method:"post",url:g()+"/storeSetting",responseType:"text",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},transformRequest:[function(t){return t=a.mapObject(t,function(t){return JSON.stringify(t)}),window.encodeURI("&settings="+JSON.stringify(t))}],data:t}).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t.response)})},o.deleteSetting=function(t){return o({method:"post",url:g()+"/deleteSetting",transformRequest:[function(t){return t=a.mapObject(t,function(t){return JSON.stringify(t)}),window.encodeURI("&settings="+JSON.stringify(t))}],data:t}).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t.response)})},o.updateAccount=function(t){return o({method:"post",url:g()+"/updateAccount",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},data:t,transformRequest:[function(t){var e=a.chain(t).keys().map(function(e){return a.isObject(t[e])?e+"="+JSON.stringify(t[e],function(t,e){return"boolean"==typeof e?String(e):e}):e+"="+t[e]}).value();return window.encodeURI(e.join("&"))}]}).then(function(t){return t.data.success?Promise.resolve(t):Promise.reject(t)}).catch(function(t){return Promise.reject(t.response)})},o.updateAccountV2=function(t){return o({method:"post",url:g()+"/v2/updateAccount",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){var e="data="+JSON.stringify(t.data);return window.encodeURI(e)}],data:t}).then(function(t){return t.data.success?Promise.resolve(t.data):Promise.reject(t)}).catch(function(t){return Promise.reject(t)})},o.getAccount=function(t){return o({method:"post",url:g()+"/getAccount",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},data:t,transformRequest:[function(t){var e=a.chain(t).keys().map(function(e){return a.isObject(t[e])?e+"="+JSON.stringify(t[e]):e+"="+t[e]}).value();return window.encodeURI(e.join("&"))}]}).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t.response)})},o.loadDepositAmountsConfig=function(){return o.get(g()+"/deposit/amounts")},o.loadDepositFirstAtm=function(){return o.get(g()+"/deposit/first/atm")},o.loadDepositAmountsConfigForTradingAccount=function(t){return o.get(g()+"/deposit/amounts/account/"+t)},o.loadLoginMessages=function(t,e,n){return o.get(g()+"/v2/campaigns/"+t+"/"+e+"?isFirstLogin="+n)},o.loginMessageInteract=function(t,e){return o.post(g()+"/campaigns/interact/"+t+"/"+e)},o.priceAlertsGetTypes=function(){return o(_({method:"get",url:g()+"/vamos/pricealerts/alert_types"}))},o.priceAlertsList=function(t){return o(_({method:"get",url:g()+"/vamos/pricealerts/customers/"+t+"/alerts"}))},o.priceAlertsAdd=function(t,e){return o.post(g()+"/vamos/pricealerts/customers/"+t+"/alerts",e)},o.priceAlertsGet=function(t){return o(_({method:"get",url:g()+"/vamos/pricealerts/alert/"+t}))},o.priceAlertsDelete=function(t){return o({method:"delete",url:g()+"/vamos/pricealerts/alert/"+t,timeout:5e3}).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},o.priceAlertsUpdate=function(t,e){return o({method:"put",url:g()+"/vamos/pricealerts/alert/"+t,data:e,timeout:5e3}).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},o.requestConversionSubscription=function(t,e,n){return o({method:"post",url:g()+"/subscribeConversion",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":n,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){return window.encodeURI("from="+t.from+"&to="+t.to)}],data:{from:t,to:e}})},o.requestConversionUnsubscription=function(t,e,n){return o({method:"post",url:g()+"/unsubscribeConversion",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":n,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){return window.encodeURI("from="+t.from+"&to="+t.to)}],data:{from:t,to:e}})},o.getInstrumentsSearchOrder=function(t){return o({method:"get",url:g()+"/v2/instrument_ranking"}).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},o.getAnalystRecommendations=function(t){return o.get(g()+"/vamos/tipranks?dateRange="+t)},o.loadSignals=function(){return o.get(g()+"/vamos/signals")},o.getInsiders=function(){return o({method:"get",url:g()+"/vamos/tipranks/insiders"}).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},o.getInsider=function(t){return o({method:"get",url:g()+"/vamos/tipranks/insider/"+t}).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},o.loadNewsSentiment=function(){return o.get(g()+"/vamos/tipranks/news_sentiment")},o.loadNewsSentimentByTicker=function(t){return o.get(g()+"/vamos/tipranks/news_sentiment/"+t)},o.getTipRanksRequestUrl=function(){return g()+"/vamos/tipranks"},o.loadTipRanks=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"last 7 days";return o.get(g()+"/tipranks?dateRange="+t)},o.loadEventsAndTrade=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"e45892caa4262b6a36ccb412458e0f79",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:517,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"liveUser",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"en",r=p("eventsAndTrade");return r?Promise.resolve(r.data):o.get(d.getEventsAndTradeApiUrl()+"/v2/results?token="+t+"&broker_id="+e+"&user="+n+"&locale="+i).then(function(t){return f("eventsAndTrade",t,"10m"),t})},o.loadBloggers=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"last 7 days";return o.get(g()+"/vamos/tipranks/bloggers?dateRange="+t)},o.loadHedgefunds=function(){return o.get(g()+"/vamos/tipranks/hedgefunds")},o.loadHedgefund=function(t){return o.get(g()+"/vamos/tipranks/hedgefund/"+t)},o.loadTutorials=function(){return o({method:"get",url:g()+"/vamos/tutorial_videos"}).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},o.getWebinars=function(t){return o.get(g()+"/vamos/webinars/"+t)},o.registerWebinar=function(t,e,n){var i=n?"register":"unregister";return o({method:"put",url:g()+"/vamos/webinars/"+i+"/"+e+"/"+t+"/"})},o.joinWebinar=function(t,e){return o({method:"put",url:g()+"/vamos/webinars/join/"+e+"/"+t+"/"})},o.watchWebinar=function(t,e){return o({method:"put",url:g()+"/vamos/webinars/view/"+e+"/"+t+"/"})},o.webinarChatMessage=function(t,e,n){return o({method:"post",url:g()+"/vamos/webinars/chat/"+e+"/"+t+"/",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){return JSON.stringify({message:t})}],data:n})},o.webinarFeedback=function(t,e,n,i){return o({method:"post",url:g()+"/vamos/webinars/feedback/"+e+"/"+t+"/",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){return JSON.stringify({feedbackContent:t.text,feedbackRate:t.rate})}],data:{text:n,rate:i}})},o.forgotPassword=function(t){return o({method:"post",url:g()+"/crmws/forgot_password",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){return JSON.stringify(t)}],data:t})},o.forgotPasswordById=function(t){return o({method:"post",url:g()+"/crmws/forgot_password_by_id",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){return JSON.stringify(t)}],data:t})},o.resetPassword=function(t,e){return o({method:"post",url:b(),headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){return JSON.stringify(t)}],data:{token:t,password:e}})},o.loadRegulationGslStatus=function(){return o({method:"get",url:g()+"/regulation/gsl/enabled"})},o.getLocation=function(){return o(g()+"/vamos/location")};var S=function(t,e){return o({method:"POST",url:g()+"/"+t,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},transformRequest:[function(t){return JSON.stringify(t)}],data:{data:e||{}}}).then(function(t){return t.data.error?Promise.reject(t.data.error):t.data.body?t.data.body:t.data}).catch(function(t){return Promise.reject(t)})};o.registrationGetAccount=a.partial(S,"registration/account"),o.registrationGetCountries=a.partial(S,"registration/countries"),o.log=function(t){return t=a.chain(t).map(function(t){return{timestamp:c().unix(),level:t.level,platform:"INDIGO",userAgent:navigator.userAgent,message:t.message,stack:t.stack,data:t.data}}).map(function(t){return JSON.stringify(t)}).value(),o({method:"POST",url:g()+"/log",responseType:"text",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},data:t})},o.loadAwards=function(){return o.get(g()+"/bonuses/config")},o.loadActiveBonusesAmount=function(){return o.get(g()+"/bonuses/progress/active/amount")},o.loadActiveBonusesAmountForTradingAccount=function(t){return o.get(g()+"/bonuses/progress/account/"+t+"/active/amount")},o.queryBonusProgress=function(){return o.get(g()+"/bonuses/progress")},o.queryBonusProgressForMtAccount=function(t){return o.get(g()+"/bonuses/progress/account/"+t)},o.queryActiveBonus=function(){return o.get(g()+"/bonuses/progress/active")},o.queryBonusRequests=function(){return o.get(g()+"/bonuses/requests")},o.approveBonusRequest=function(t){return o.post(g()+"/bonuses/requests/"+t+"/approve")},o.rejectBonusRequest=function(t){return o.post(g()+"/bonuses/requests/"+t+"/reject")},o.loadInstrumentBasketsData=function(){return o({method:"get",url:g()+"/vamos/instrument_baskets",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}})},o.loadDepositAmounts=function(t,e,n,i){return o({method:"get",url:g()+"/vamos/deposit_amounts/?userId="+t+"&hashPassword="+e+"&country="+i+"&currency="+n})},o.changeLanguage=function(t){return o({method:"post",url:g()+"/changeLanguage?locale="+t})},o.loadCountries=function(){return o.post(g()+"/crmws/countries")},o.loadWithdrawalInfo=function(){return o.post(v()+"/info")},o.loadAllWithdrawalMethods=function(){return o.post(v()+"/methods/all")},o.addWithdrawalMethod=function(t,e){return o.postJson(v()+"/methods/add?methodTypeId="+t,e)},o.revokeWithdrawalMethod=function(t,e){return o.postJson(v()+"/methods/revoke?id="+t,{documentId:e})},o.requestEpaQuestionnaireAnswers=function(t){return o.postJson(g()+"/epa/questionnaire/answers",t)},o.submitWithdrawal=function(t,e,n,i){return o({method:"post",url:v()+"/submit",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},transformRequest:[function(){return"tpId="+t+(e?"&pmId="+e:"")+"&currency="+String(n).toUpperCase()+"&amount="+i}]})},o.checkSession=function(){return o.post(g()+"/checkSession")},o.loadWithdrawalHistory=function(){return o.post(v()+"/history")},o.cancelWithdrawalRequest=function(t){return o.post(v()+"/cancel?id="+t)},o.loadWithdrawalCandidates=function(){return o.post(v()+"/methods/candidates")},o.uploadWithdrawalMethodFile=function(t,e,n,i,r){return s.post(v()+"/methods/upload?paymentAccountId="+t+"&methodTypeId="+e+"&fileTypeId="+n,i,r)},o.conversion=function(t,e,n){return o.conversionFromUsdToCny(t,{from:String(e).toUpperCase(),to:String(n).toUpperCase()})},o.submitSignature=function(t){return o.post(g()+"/registration/signature",t)},o.getSpreadRebate=function(t){return o.post(g()+"/querySpreadRebate?accountCode="+t)},o.unsubscribeSpreadRebate=function(t){return o.post(g()+"/unsubscribeSpreadRebate?accountCode="+t)},o.subscribeToWebPush=function(t,e){return o.post(g()+"/vamos/push_notification",{cId:t,subscription:JSON.stringify(e)})},o.getProfessionalAccountFlow=function(){return o.get(g()+"/epa/questionnaire/?tm="+ +new Date).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},o.getProfessionalAccAnswers=function(){return o.get(g()+"/epa/questionnaire/answers/?tm="+ +new Date).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},o.getProfessionalAccountStatuses=function(){return o.get(g()+"/epa/questionnaire/status/?tm="+ +new Date).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},o.getTinValidations=function(){return o.get(g()+"/registration/tin/validations")},o.loadRelatedInstruments=function(t){return o.get(g()+"/vamos/related_instruments/"+t.replace("/","~").toLowerCase()).then(function(t){return t.data.success?Promise.resolve(t.data.recommended_symbols):Promise.resolve()}).catch(function(t){return Promise.resolve()})},o.getAnalystResearchReport=function(t){return o.get(g()+"/vamos/reuters/"+t)},o.getStockFundamental=function(t){return o.get(g()+"/vamos/reuters/fundamental/"+t)},o.getStockFundamentals=function(){return o.get(g()+"/vamos/reuters/fundamentals")},o.downloadICSReminder=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"e45892caa4262b6a36ccb412458e0f79",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:517,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"liveUser";return o.get(d.getEventsAndTradeApiUrl()+"/reminder/ics?token="+n+"&broker_id="+i+"&user="+r+"&country="+String(t).toUpperCase()+"&name="+e)},o.getCustomerLevels=function(){return o.get(g()+"/customerlevel")},o.isShowLevelPromotion=function(){return o.get(g()+"/customerlevel/promotion/show")},o.isTcAccepted=function(){return o.get(g()+"/customerlevel/tc/accept")},o.acceptTcForMarketsX=function(){return o.post(g()+"/customerlevel/tc/accept")},o.declineTcForMarketsX=function(){return o.post(g()+"/customerlevel/tc/decline")},o.acceptForMarketsX=function(t){return o({method:"post",url:g()+"/customerlevel/accept",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:"levelId="+t})},o.declineForMarketsX=function(){return o.post(g()+"/customerlevel/decline")},o.loadCommentaries=function(){return o.get(g()+"/vamos/forexlive/all")},o.loadCommentary=function(t){return o.get(g()+"/vamos/forexlive/"+t)},o.loadNews=function(){return o.get(g()+"/vamos/wire/latest")},o.loadNewsForInstrument=function(t){return o.get(g()+"/vamos/wire/news/"+t)},o.queryCustomerMultipleQuizStatus=function(){return o.get(g()+"/quizzes/eligible/status")},o.queryCustomerEligibleQuiz=function(){return o.get(g()+"/quizzes/eligible")},o.updateCustomerEligibleQuizAnswers=function(t){return o.post(g()+"/quizzes/eligible",t)},o.hasLiveChatAgents=function(t){return o.get(g()+"/livechat/hasAgents?groupId="+t)},o.getTimezoneAll=function(){return o.get(g()+"/timezone/all")},o.getTimezoneCurrent=function(){return o.get(g()+"/timezone/current")},o.loadPremiumSupportPhone=function(){return o.get(g()+"/support/premium/phone?t="+a.now()).then(function(t){var e=t.data;return Promise.resolve(String(e).replace(/"/g,""))}).catch(function(){return Promise.resolve(!1)})},o.loadAcuityClasses=function(){return o.get(g()+"/vamos/acuity/asset_classes")},o.loadAcuityAlerts=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return o.get(g()+"/vamos/acuity/alerts/"+t+"/"+e)},o.loadAcuityAlertsBySymbol=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return o.get(g()+"/vamos/acuity/alerts_by_symbol/"+t+"/"+e)},o.loadAcuitySentiment=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return o.get(g()+"/vamos/acuity/sentiment/"+t+"/"+e)},o.loadNotificationCenterMessages=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.get(y()+"/notification_center?offset="+t+"&limit="+e)},o.loadDealingMessages=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.get(y()+"/dealing?offset="+t+"&limit="+e)},o.loadNotificationCenterMessagesCount=function(){return o.get(y()+"/count")},o.subscribeNotificationCenter=function(t){return o({method:"get",url:y()+"/subscribe",responseType:"text",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":t,"X-Requested-With":"XMLHttpRequest"}})},o.setNotificationCenterAction=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{messageIds:[]};return o.put(y()+"/update/"+t+"/"+e,n)},o.registrationRegulationCompanyProbeQuery=function(t){return o.get(g()+"/registration/company/probe/"+t)},o.registrationConfirmRegulationCompanyMismatch=function(){return o.post(g()+"/registration/company/mismatch/confirm")},o.registrationRejectRegulationCompanyMismatch=function(){return o.post(g()+"/registration/company/mismatch/reject")},o.loadCryptoInfo=function(){return Promise.resolve({Bitcoin:{startDate:"03/01/2009",maxSupply:"21.00M",algorithm:"SHA256",networkHS:"42119872499.90646",twitter:"",coinType:"PoW",blockPr:"50%",blockNo:"560184"},BCHUSD:{startDate:"01/08/2017",maxSupply:"21.00M",algorithm:"SHA256",networkHS:"38059545001497110000",twitter:"BITCOlNCASH",coinType:"PoW",blockPr:"50%",blockNo:"560185"},Dash:{startDate:"18/01/2014",maxSupply:"22.00M",algorithm:"X11",networkHS:"1909932056519780",twitter:"Dashpay",coinType:"PoW/PoS,",blockPr:"50%",blockNo:"1010771"},Ethereum:{startDate:"30/07/2015",maxSupply:"",algorithm:"Ethash",networkHS:"166615058900042.8",twitter:"ethereum",coinType:"PoW",blockPr:"",blockNo:"7129159"},Litecoin:{startDate:"13/10/2011",maxSupply:"84.00M",algorithm:"Scrypt",networkHS:"192844584372254.3",twitter:"litecoin",coinType:"PoW",blockPr:"50%",blockNo:"1568328"},RIPPLE:{startDate:"02/02/2013",maxSupply:"100.00B",algorithm:"",networkHS:"",twitter:"Ripple",coinType:"",blockPr:"",blockNo:""}})},o.getTradingViewSavedCharts=function(t,e){return o.get("https://saveload.tradingview.com/1.1/charts?client="+window.encodeURI(t)+"&user="+window.encodeURI(e))},o.deleteTradingViewSavedChart=function(t,e,n){return o.delete("https://saveload.tradingview.com/1.1/charts?client="+window.encodeURI(t)+"&user="+window.encodeURI(e)+"&chart="+window.encodeURI(n))},o.getTradingViewSavedChart=function(t,e,n){return o.get("https://saveload.tradingview.com/1.1/charts?client="+window.encodeURI(t)+"&user="+window.encodeURI(e)+"&chart="+window.encodeURI(n))},i.exports=o}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(17),o=n(2),s=n(1255),a=n(1256),l=n(1335),c=n(1336),u=n(1337),d=n(1338),h=n(23),p=n(58),f=n(6),m=n(1339),g=n(1340),v=n(1341),b=n(1342),y=n(1343),_=n(1344),w=n(1345),S=n(1346),E=n(1347),x=n(839),C=n(1348),T=n(1351),k=n(1352),O=n(1353),P=n(1354),I=n(1355),A=n(1369),M=n(0),N=n(136),D=N.setUserPendingDeposit,L=r.Model.extend({defaults:function(){return{role:"guest",lang:this.getDefaultLanguage(),data:{},guaranteedStopLoss:!1}},socket:null,initialize:function(){this._userInfo=new s,this._userFavorites=new a,this._userAccountMetrics=new l,this._userAccountSettings=new c,this._session=new u({user:this}),this._pendingDeposits=0,this._userDataCompliance=new g,this._userCreditCards=new v,this._userApplicationSettings=m,this._userData=new b,this._userLogin=new y,this._userToken=new _,this._priceAlerts=new C,this._userCommonData=new w,this._userAwards=new S,this._userBonusRequests=new E,this._userLeverageLevels=new x,this._userDocuments=new T,this._accountServices=new k,this._userWebinars=new P,this._accountLevels=new I,this._userLogin.setUserModel(this),this._addToHomeScreen=new O,this._userQuizStatus=new A,this.isLoggedIn()&&this.updateUserPendingDeposit()},getDefaultLanguage:function(){return M.isEmpty(navigator.languages)?navigator.language||navigator.userLanguage:navigator.languages[0]},isLoggedIn:function(){return this._userLogin.isLoggedIn()},wasLoggedIn:function(){return this._userLogin.wasLoggedIn()},login:function(t,e){return this._userLogin.login(t,e)},externalAuthLogin:function(t,e){return this._userLogin.externalAuthLogin(t,e)},autoLogin:function(){return this._userLogin.autoLoginRequest()},logout:function(){return this._userLogin.logout()},getUserData:function(){return this._userData},getUserCommonData:function(){return this._userCommonData},getUserLogin:function(){return this._userLogin},getUserTokenModel:function(){return this._userToken},getUserInfoModel:function(){return this._userInfo},getUserAwardsModel:function(){return this._userAwards},getUserQuizStatus:function(){return this._userQuizStatus},getUserBonusRequests:function(){return this._userBonusRequests},getUserLeverageLevels:function(){return this._userLeverageLevels},getUserDocumentsModel:function(){return this._userDocuments},getUserWebinarsModel:function(){return this._userWebinars},getUserFavoritesModel:function(){return this._userFavorites.getFavorites()},getApplicationSettings:function(){return this._userApplicationSettings},updateUserFavorites:function(t,e){return this._userFavorites.updateFavorites(t,e)},getUserAccountMetricsModel:function(){return this._userAccountMetrics},getUserAccountSettingsModel:function(){return this._userAccountSettings},getSessionModel:function(){return this._session},isRemembered:function(){return this._userLogin.isRemembered()},isLogoutReasonEqual:function(t){return this._userLogin.isLogoutReasonEqual(t)},getSession:function(){return this._session},getUserTotalDeposits:function(){return this.getUserData().getUserTotalDeposits()},getAdditionalDepositForMarketX:function(){return this.getUserData().getAdditionalDepositForMarketX()},getMarketxThreshold:function(){return this.getUserData().getMarketxThreshold()},getUserLoginData:function(){throw new Error("Use user.getUserData()")},getUserAccountData:function(){return this._userData.getAccount()},getUserDataCompliance:function(){return this._userDataCompliance},getUserCreditCards:function(){return this._userCreditCards},getUserAccountServices:function(){return this._accountServices},getUserLanguage:function(){return this.getUserData().getCrmboCustomer().language},getUserCurrency:function(){var t=this.getUserData().getAccount(),e=this.getUserData().getCrmboCustomer();return t=M.isEmpty(t)?e.accounts[0]:t,t.currency&&t.currency.toUpperCase()},getUserCountry:function(){return this.getUserData().getCrmboCustomer().country},getUserCurrencySymbol:function(){return __currency(this.getUserCurrency())},newAccount:function(t){return(new d).createNewAccount(t)},updateUserPendingDeposit:function(){return f.getPendingDeposit().then(this.pendingDepositSuccess.bind(this)).catch(this.pendingDepositError.bind(this))},pendingDepositSuccess:function(t){var e=t.data;return this._pendingDeposits!==e&&(o.trigger("pending:deposit:updated"),this._pendingDeposits=Number(e)||0),window.store.dispatch(D(this._pendingDeposits)),this._pendingDeposits},pendingDepositError:function(t){return Promise.reject(t)},getUserPendingDeposit:function(){return this._pendingDeposits},hasOpenPositions:function(){return p.length>0},getSessionId:function(){return this.getUserInfoModel().getSessionId()},getUserScore:function(){return this.getUserData().get("scoreLevel")},getCountry:function(){return this.getUserData().getCrmboCustomer().country},getCitizenship:function(){return this.getUserData().getCrmboCustomer().citizenship},getNationalCountryIdentifier:function(){return this.getUserData().getCrmboCustomer().nationalCountryIdentifier},setCountry:function(t){this.getUserData().getCrmboCustomer().country=t},setCitizenship:function(t){this.getUserData().getCrmboCustomer().citizenship=t},setFirstName:function(t){this.getUserData().getCrmboCustomer().firstName=t},setLastName:function(t){this.getUserData().getCrmboCustomer().lastName=t},setPhone:function(t){this.getUserData().getCrmboCustomer().phone=t},setDateOfBirth:function(t){this.getUserData().getCrmboCustomer().birthDate=t},setAddress:function(t){this.getUserData().getCrmboCustomer().address=t},setZipCode:function(t){this.getUserData().getCrmboCustomer().zip=t},setCity:function(t){this.getUserData().getCrmboCustomer().city=t},setNationalCountryIdentifier:function(t){this.getUserData().getCrmboCustomer().nationalCountryIdentifier=t},isElectiveProfessionalEnabled:function(){return this.getUserData().isElectiveProfessionalEnabled()},setGuaranteedStopLoss:function(t){return this.set("guaranteedStopLoss",t)},isGuaranteedStopLossEnabled:function(){return this.get("guaranteedStopLoss")},getMetaTraderLink:function(){return f.getMetaTraderLink(h.getCurrentLanguage())},updateHashedPassword:function(t){this.getUserData().getCrmboCustomer().password=t},getAlertsStorage:function(){return this._priceAlerts},getAddToHomeScreen:function(){return this._addToHomeScreen},getCustomerId:function(){var t=this.getUserData();if(M.isEmpty(t))return null;var e=t.getCrmboCustomer();return M.isEmpty(e)?null:e.id},getUserLevelsModel:function(){return this._accountLevels},isEligibleForMarketsX:function(){return this.getUserLevelsModel().isEligibleForMarketsX()},isPromotionMarketsX:function(){return this.getUserData().isPromotionMarketsX()||this.getUserLevelsModel().isPromotionMarketsX()},isCustomerLevelGoalAlert:function(){return this.getUserData().isCustomerLevelGoalAlert()},hasCustomerSelectedCompany:function(){return this.getUserData().hasCustomerSelectedCompany()},hasPendingConfirmSelectedCompany:function(){return this.getUserData().hasPendingConfirmSelectedCompany()},confirmRegulationCompanyMismatch:function(){this.getUserData().confirmRegulationCompanyMismatch()},rejectRegulationCompanyMismatch:function(){this.getUserData().rejectRegulationCompanyMismatch()},updateCustomerBrandCompany:function(t){this.getUserData().setBrandCompanyData(t)}});i.exports=new L}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},,function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(2),o=n(13),s=n(0),a=n(173).SECTION,l=n(15),c=o.extend({initialize:function(){r.on("settings:reload",this.loadSettings,this)},getOrDefault:function(t,e){var n=this.get(t);return void 0===n&&(n=e),String(n)},getInteger:function(t,e){return parseInt(this.getOrDefault(t,e))},getBoolean:function(t,e){return"true"===this.getOrDefault(t,e)},getArray:function(t,e,n){var i=this.getOrDefault(t,"");return n=n||[],s.isEmpty(i)?n:i.split(e)},getIntArray:function(t,e){return this.getArray(t,e).map(function(t){return parseInt(t)})},checkSubscribedService:function(t,e,i){if(!0!==t){i=s.isUndefined(i)?"false":String(i);var r=this.getOrDefault(t,i);if("crm"!==r)return Promise.resolve("false"!==r)}var o=this;return n(6).checkServiceSubscribed(e).then(function(e){return!0!==t&&o.set(t,String(e)),Promise.resolve(e)})},loadSettings:function(){return n(6).loadSettings().then(this.loadSettingsSuccess.bind(this)).catch(this.loadSettingsError.bind(this))},load:function(){return this.loadSettings()},loadSettingsSuccess:function(t){return this.set(t.data),r.trigger("settings:load:success"),Promise.resolve(t)},loadSettingsError:function(t){return Promise.reject(t)},getDefaultDistancePipsMultiplier:function(){return Number(this.get("default.distance.pips.multiplier"))},getPlatformTypeId:function(){return this.isLive()?0:1},getPlatformType:function(){return this.getOrDefault("platformType","Live")},isLive:function(){return"live"===this.getPlatformType().toLowerCase()},isDemo:function(){return!this.isLive()},isAdvancedShortRegistration:function(){return this.getBoolean("short.registration.phone.validation.enabled",!1)},isMarketingProgramCheckboxMandatory:function(){return this.getBoolean("short.registration.marketing.program.mandatory",!1)},isOldRegistration:function(){return this.getBoolean("temp.new_registration.switcher",!1)},isNewCfdGlobalReg:function(){return this.getBoolean("temp.new_registration.cfdglobal.switcher",!1)},getLeverageMostPopular:function(){return this.get("leverage.most.popular")},isRegistrationLeverageSelectionEnabled:function(){return this.getBoolean("registration.step.leverage.enabled",!1)},isGuaranteedStopLossEnabled:function(){return this.getBoolean("order.guaranteed_stop_loss.enabled",!1)},isRegistrationLowScoreDisclaimerEnabled:function(){return this.getBoolean("full_registration.low_score_disclaimer.enabled",!1)},isSpreadRebateEnabled:function(){return this.isAccountSettingsSectionEnabled(a.SPREAD_REBATE)},isLeverageChangeEnabled:function(){return this.isAccountSettingsSectionEnabled(a.LEVERAGE)},isAccountSettingsSectionEnabled:function(t){return this.getBoolean("account.settings."+t+".enabled",!1)},isTradingSettingsSectionEnabled:function(){return this.isAccountSettingsSectionEnabled(a.TRADING_SETTINGS)},isViewSettingsSectionEnabled:function(){return this.isAccountSettingsSectionEnabled(a.VIEW_SETTINGS)},isLocalizationSettingsSectionEnabled:function(){return this.isAccountSettingsSectionEnabled(a.LOCALIZATION)},isAccountClassificationEnabled:function(){return this.isAccountSettingsSectionEnabled(a.ACCOUNT_CLASSIFICATION)},isAccountClassificationBenefitsSectionHidden:function(){return this.getBoolean("account.settings.account-classification.benefits-section.hidden",!1)},isAccountClassificationConfidentialSectionHidden:function(){return this.getBoolean("account.settings.account-classification.confidential-section.hidden",!1)},isRegistrationFinalStepAllowBack:function(t){return t=String(t).toLowerCase(),!this.getBoolean("full_registration."+t+"_score.hide_final_back.enabled",!1)},isRegistrationRiskWarningEnabled:function(){return this.getBoolean("full_registration.risk_warning.enabled",!1)},isRegistrationRiskWarningMetaTraderHidden:function(){return this.getBoolean("full_registration.risk_warning.meta_trader.hidden",!1)},getRegistrationRiskWarningMinCustomerId:function(){return this.getInteger("full_registration.risk_warning.min.customer.id",0)},isTradingPositionRiskWarningEnabled:function(){return this.getBoolean("trading.position_risk_warning.enabled",!1)},getInactivityConfirmationTimeout:function(){return this.getInteger("inactivity.user.actions.timeout",72e5)},getLogoutTimeout:function(){var t=this.getInteger("inactivity.confirmation.timeout",18e5);return this.getInactivityConfirmationTimeout()+t},isManualDepositAmountNeeded:function(){return this.getBoolean("manual.deposit.amount.needed",!1)},isDepositAmountsEnabled:function(){return this.getBoolean("vamos.proxy.deposit_amounts.enabled",!1)},getDepositAmountSizes:function(){return this.getIntArray("vamos.proxy.deposit_amounts.sizes",";")},isRegistrationAutocompleteEnabled:function(){return this.getBoolean("registration.dummy.autocomplete.enabled",!1)},isAutomaticWithdrawalEnabled:function(){return this.getBoolean("automatic.withdrawal.enabled",!1)},isCreditCardFastVerificationEnabled:function(){return this.getBoolean("credit_card_verification.fast_mode.enabled",!1)},isMetaTraderEnabled:function(){return this.getBoolean("userinfo.menuitem.mt4-accounts.enabled",!0)},isMetaTraderInternalEnabled:function(){return this.getBoolean("metatrader.internal.enabled",!1)},isDocumentsExpirationEnabled:function(){return this.getBoolean("documents.expiration.enabled",!1)},isDocumentsExpirationPreventTradingEnabled:function(){return this.isDocumentsExpirationEnabled()&&this.getBoolean("documents.expiration.prevent_trading.enabled",!1)},getBrandName:function(){return this.get("platform.brand.name")},getEventsAndTradeScriptLocation:function(){return this.get("events_and_trade.url")},getTradableInstruments_24_7:function(){return this.getArray("everyday.trading.instrument.symbols",",")},checkTipranksEnabled:function(){return this.checkSubscribedService("tipranks.enabled","tip_ranks")},checkForexliveEnabled:function(){return this.checkSubscribedService("forexlive.enabled","forexlive")},checkNewsFeedEnabled:function(){return this.checkSubscribedService("news.feed.enabled","news_feed")},checkEducationEnabled:function(){return this.checkSubscribedService("education_on_demand.enabled","education_on_demand")},checkBlogEnabled:function(){return this.checkSubscribedService("blog.enabled","blog")},getTipranksScriptLocation:function(){return this.get("tipranks.url")},isPlatformMessagingEnabled:function(){return this.getBoolean("in_platform_messaging.enabled",!1)},isReferralCodeEnabled:function(){return this.getBoolean("registration.show.referral.code",!1)},getPlatformMessagingScriptLocation:function(){return this.get("in_platform_messaging.url")},getInstalledRelatedAppsKey:function(){return this.get("home.screen.installed.related.apps.key")},isSocialLoginGoogleEnabled:function(){return this.getBoolean("social.login.google.enabled",!1)},getSocialLoginGoogleClientId:function(){return this.get("social.login.google.client.id")},isSocialLoginFacebookEnabled:function(){return this.getBoolean("social.login.facebook.enabled",!1)},getSocialLoginFacebookAppId:function(){return this.get("social.login.facebook.app.id")},isSocialLoginEnabled:function(){return this.isSocialLoginGoogleEnabled()||this.isSocialLoginFacebookEnabled()},isGtmTrackingEnabled:function(){return this.getBoolean("gtm.enabled",!1)},getGtmTrackingId:function(){return this.get("gtm.tracking.id")},isDcmTrackingEnabled:function(){return this.getBoolean("tracking.google.dcm.enabled",!1)},getDcmTrackingId:function(){return this.get("tracking.google.dcm.id")},getIosAppStoreURL:function(){return this.get("mobile.iphone.app-market.link")},getAndroidStoreURL:function(){return this.get("mobile.android.app-market.link")},getMiniChartsServiceUrl:function(){return this.get("mini.charts.service.url")},getMiniChartsUpdateInterval:function(){return this.getInteger("mini.charts.update.interval",3e5)},getPriceAlertsTypes:function(){return this.getIntArray("price.alerts.types",",")},isPriceAlertsEnabled:function(){return this.getBoolean("price.alerts.enabled",!1)},isLiveChatEnabled:function(){return this.getBoolean("live.chat.enabled",!1)&&this.getLiveChatLicenseId()>0},needShowTinInAccountSettings:function(){return this.getBoolean("account.settings.show.tin",!1)},needShowPersonalDataUsage:function(){return this.getBoolean("registration.show.personal_data_usage",!1)},isCompliantMenuEnabled:function(){return this.getBoolean("menu.compliant.enabled",!0)},getLiveChatLicenseId:function(){return this.getInteger("live.chat.license",0)},getTabsWithBadge:function(){return this.getArray("tabs.with.badge",",")},getPracticeAmount:function(t){return this.getOrDefault("practice.grant.amount."+String(t).toUpperCase(),"10,000")},getEventosTrackingUrl:function(){return this.get("event-tracking.external.url")},getCrmTrackingServiceUrl:function(){return this.getOrDefault("crm.tracking.service.url","")},getPasswordMinLength:function(){return this.getInteger("account.settings.validation.password.min.length",6)},isPasswordClientValidationEnabled:function(){return this.getBoolean("password.validation.client.enabled",!1)},isForcePasswordChangeEnabled:function(){return this.getBoolean("force_password_change.enabled",!1)},getPasswordMaxLength:function(){return this.getInteger("account.settings.validation.password.max.length",15)},getTestInstrumentNames:function(){return this.getArray("test.instrument.names",",")},isAddToHomeScreenEnabled:function(){return this.getBoolean("android.add.to.home.screen.enabled",!1)},isSpanishRegulationForOpenPositionEnabled:function(){return this.getBoolean("spanish.regulation.open_position.enabled",!0)},isMiddleScoreRiskWarningConfirmationEditEnabled:function(){return this.getBoolean("full_registration.risk_warning.middle_score.confirmation_edit.enabled",!0)},isRiskWarningConfirmationEditEnabled:function(){return this.getBoolean("full_registration.risk_warning.confirmation_edit.enabled",!0)},isBonusesAwardsEnabled:function(){return this.getBoolean("bonuses.awards.enabled",!1)},isFaqOpenNewTabEnabled:function(){return this.getBoolean("external.faq.open_new_tab.enabled",!1)},isTradingAnnouncementEnabled:function(){return this.getBoolean("trading.announcement.enabled",!1)},isTradingCentralEnabled:function(){return this.getBoolean("trading.central.enabled",!0)},isTradingToolsEnabled:function(){return this.getBoolean("trading.tools.enabled",!1)},getLegalDocumentsPopupLinks:function(){return this.getArray("legal_documents.popup.links",",",["terms_and_conditions","risk_disclosure","conflict_of_interest","privacy_policy","terms_and_conditions_bonus"])},isLegalDocumentsOpenNewTab:function(){return this.getBoolean("external.legal_documents.enabled",!1)},isPendingCreditCardWithdrawEnabled:function(){return this.getBoolean("external.pending.credit.card.withdraw.enabled",!1)},isInternalCampaignMessageEnabled:function(){return this.getBoolean("internal_campaign.message.enabled",!1)},isPriceAlertWebPushEnabled:function(){return this.getBoolean("price.alerts.webpush.enabled",!1)},isOpenPositionChangePriceEnabled:function(){return this.getBoolean("open.position.change.price.enabled",!1)},isComplianceECDDCheckEnabled:function(){return this.getBoolean("compliance.enhanced_cysec_due_diligence.check.enabled",!1)},isComplianceNationalCountryIdentifierEnabled:function(){return this.getBoolean("compliance.national_country_identifier.enabled",!1)},isPorScheduleCallEnabled:function(){return this.getBoolean("por.schedule_call.enabled",!1)},checkWebinarsEnabled:function(){return this.checkSubscribedService("webinars.enabled","webinars")},checkWebinarsPremiumEnabled:function(){return this.checkSubscribedService("webinars.premium.enabled","webinars_premium")},isFBTrackingEnabled:function(){return this.getBoolean("tracking.facebook.fbq.enabled",!1)},getFBTrackingID:function(){return this.get("tracking.facebook.fbq.id")},getWebinarsFeedbackMinViewTime:function(){return this.getInteger("webinars.feedback.min.view.time",3e4)},getWebinarsActiveAdditionTime:function(){return this.getInteger("webinars.active.addition.time",3e5)},getWebinarsPreActiveAdditionTime:function(){return this.getInteger("webinars.pre.active.addition.time",12e4)},getWebinarsFeedbackMaxLength:function(){return this.getInteger("webinars.feedback.max.length",4e3)},isInstrumentInfoRelatedInstrumentsEnabled:function(){return this.getBoolean("instrument.info.related.instruments.enabled",!1)},getMobileAndroidLaunchLink:function(){return this.getOrDefault("mobile.android.launch.link","cosmos://")},getMobileIOSLaunchLink:function(){return this.getOrDefault("mobile.iphone.launch.link","cosmos://")},getVerifyPoiDocuments:function(){return this.getArray("verify.document.poi.model",",")},getEventsAndTradeApiUrl:function(){return this.getOrDefault("events.and.trade.api.url","https://eia.delkos.com/eia/resources")},getThemesList:function(){return this.getArray("themes.list",",",["light"])},isWithdrawMethodEnabled:function(t){return this.getBoolean("withdrawal."+t+".enabled",!0)},isTradingViewModeSwitcherEnabled:function(){return this.getBoolean("trading_view.mode.switcher.enabled",!1)},isChartModeSwitcherEnabled:function(){return l.desktop()&&this.isNewInstrumentDetailsBehaviourEnabled()&&this.getBoolean("chart.mode.switcher.enabled",!1)},isBonusesEnabled:function(){return this.getBoolean("bonuses.enabled",!1)},isMtFirstDepositBonusEnabled:function(){return this.getBoolean("mt.first.deposit.bonus.enabled",!0)},getPaymentsServiceVendor:function(){return this.getOrDefault("payments.service.vendor","SAFE_CHARGE")},getAuPaymentsServiceVendor:function(){return this.getOrDefault("au.payments.service.vendor","")},getTtmBviPaymentsServiceVendor:function(){return this.getOrDefault("ttm_bvi.payments.service.vendor","")},getBonusRequestsRefreshPeriodSec:function(){return this.getInteger("bonus.requests.refresh.period",900)},canMergeMultipleBonusRequests:function(){return this.getBoolean("merge_multiple_bonus_requests.enabled",!1)},checkEventsAndTradeEnabled:function(){return this.checkSubscribedService("events_and_trade.enabled","event_and_trade")},checkTradingCentralEnabled:function(){var t=this;return this.checkSubscribedService(!0,"trading_central").then(function(e){return e?Promise.resolve(!0):t.checkSubscribedService(!0,"trading_central_limited")})},checkInsidersEnabled:function(){return this.checkSubscribedService("tipranks.insiders.enabled","insiders")},checkNewsSentimentEnabled:function(){return this.checkSubscribedService("tipranks.news.sentiment.enabled","news_sentiment")},checkBloggersEnabled:function(){return this.checkSubscribedService("tipranks.bloggers.enabled","bloggers")},checkHedgeFundsEnabled:function(){return this.checkSubscribedService("tipranks.hedgefunds.enabled","hedgefunds")},checkMultiChartsEnabled:function(){return this.checkSubscribedService("multi.charts.enabled","multi_charts",!0)},checkPriceAlertsEnabled:function(){return this.checkSubscribedService("price.alerts.enabled","price_alerts")},checkVideoTutorialsEnabled:function(){return this.checkSubscribedService("menu.learn.enabled","video_tutorials")},checkAnalystResearchEnabled:function(){return this.checkSubscribedService("reuters.analyst_research.enabled","analyst_research")},isMediumRegistrationPopupEnabled:function(){return this.getBoolean("full_registration.medium_score.risk_warning.enabled",!1)},isChartInstrumentsComparisonEnabled:function(){return this.getBoolean("chart.instruments_comparison.enabled",!1)},getChartRateLineTypes:function(){return this.getArray("chart.rate_line.types",",",["sell","buy","middle"])},isMetaTraderInternalFundsTransferEnabled:function(){return this.getBoolean("metatrader.internal.funds-transfer.enabled",!0)},isMT5PlatformEnabled:function(){return this.getBoolean("metatrader.mt5-platform.enabled",!0)},isMetaTraderInternalLeverageEnabled:function(){return this.getBoolean("metatrader.internal.leverage.enabled",!0)},isMetaTraderInternalLeverageCreateAccountDefault:function(){return this.getBoolean("metatrader.internal.leverage.create.account.default",!0)},isPaymentsUrlReplaceEnabled:function(){return this.getBoolean("payments.service.url.replace.enabled",!1)},checkCustomerLevelsEnabled:function(){return this.checkSubscribedService("customer_levels.enabled","customer_levels")},getPremiumToolsBadge:function(){return this.getArray("premium.tools.badge",",")},checkPremiumSupportPhoneEnabled:function(){return n(7).getUserLevelsModel().isMarketsX()?this.loadPremiumSupportPhone():Promise.resolve(!1)},loadPremiumSupportPhone:function(){var t=n(6);return this.$loadPremiumSupportPhone?this.$loadPremiumSupportPhone:(this.$loadPremiumSupportPhone=t.loadPremiumSupportPhone(),this.$loadPremiumSupportPhone)},getCheckKnowledgeLink:function(){return this.getOrDefault("link.check_knowledge","")},getTimeOutForRegistrationEyeCatcher:function(){return 1e3*this.getInteger("eyecatcher.inactivity.timeout.registration.seconds",5)},getTimeOutForEyeCatcher:function(){return 1e3*this.getInteger("eyecatcher.inactivity.timeout.platform.seconds",10)},getIntervalForEyeCatcher:function(){return 36e5*Number(this.getOrDefault("eyecatcher.min.interval.hours",.05))},getTimesPerWeekforEyeCatcher:function(){return this.getInteger("eyecatcher.max.shows.per.week",3)},getLangsForEyeCatcher:function(){return this.getArray("eyecatcher.available.languages",",",["en"])},isEyeCatcherEnabled:function(){return this.isLiveChatEnabled()&&this.getBoolean("eyecatcher.enabled",!1)},isForexliveEnabled:function(){return this.getBoolean("forexlive.enabled",!1)},getBlogUrl:function(){return this.getOrDefault("blog.url","")},isMultipleQuizEnabled:function(){return this.getBoolean("multiple.quiz.enabled",!1)},getNewsFeedIntervalUpdateTime:function(){return this.getInteger("news.feed.interval.update.time",18e4)},isShowVerificationCenterPopupEnabled:function(){return this.getBoolean("show.verification_center.popup.enabled",!1)},isTimezoneEnabled:function(){return this.getBoolean("user.timezone.enabled",!1)},checkAcuityNewsSentimentEnabled:function(){return this.checkSubscribedService("acuity.news.sentiment.enabled","acuity")},isRegistrationCustomerSelectedCompanyEnabled:function(){return this.getBoolean("registration.customer_selected_company.enabled",!1)},showCustomRiskWarningForCustomerSelectedCompany:function(){return this.getArray("registration.customer_selected_company.custom_risk_warning.company_ids",",")},getSessionRandom:function(){var t=this.get("sessionRandom");return s.isUndefined(t)?(t=Math.random(),this.set("sessionRandom",t),t):t},isPlatformTypePopupVisible:function(){if(this.getBoolean("platform.type.popup.enabled",!1)){var t=this.getSessionRandom(),e=n(7),i=this.percentageOfUsersToShowPlatformPopup();return e.getUserCommonData().isFirstLogin()&&t<i/100}return!1},isPlatformTypeSettingOnDemo:function(){return this.getBoolean("platform_type_popup",!1)},percentageOfUsersToShowPlatformPopup:function(){return this.getInteger("platform.type.popup.percentage",50)},isDefaultAdvancedViewsEnabled:function(){return this.getBoolean("default.advanced.views.enabled",!1)},isNotificationCenterEnabled:function(){return this.getBoolean("user.notification_center.enabled",!1)},getCaptchaKey:function(){return this.getOrDefault("google.recaptcha.key.site","")},isCaptchaEnabled:function(){return!s.isEmpty(this.getCaptchaKey())},checkIsNewAdvancedDashboardAvailable:function(){if(this.get("isNewAdvancedDashboardAvailable"))return this.get("isNewAdvancedDashboardAvailable");var t=n(7),e=this.getArray("left_navigation.layout.users",",",[]),i=t.getUserData().getAccount().platformAccountId,r=s.isEmpty(e)||i&&s.some(e,function(t){return t&&String(t).toLowerCase()===String(i).toLowerCase()});return this.set("isNewAdvancedDashboardAvailable",r),r},isNewAdvancedDashboardEnabled:function(){return l.desktop()&&this.checkIsNewAdvancedDashboardAvailable()&&this.getBoolean("dashboard.new_advanced.enabled",!1)},isNewInstrumentDetailsBehaviourEnabled:function(){return this.checkIsNewAdvancedDashboardAvailable()&&this.getBoolean("instrument_details.new_behaviour.enabled",!1)},isNewAdvancedDashboardCollapsibleListEnabled:function(){return this.isNewAdvancedDashboardEnabled()&&this.getBoolean("new_advanced_dashboard.collapsible_list.enabled",!1)},isChartTradingViewTradingLinesEnabled:function(){return this.getBoolean("chart.trading_view.trading_lines.enabled",!0)},isHotjarEnabled:function(){var t=this.getHotjarId();return this.getBoolean("hotjar.enabled",!1)&&t},getHotjarId:function(){return this.getInteger("hotjar.id",0)},getPraxisRedirectUrl:function(){return this.getOrDefault("praxis.redirect.url","")}});i.exports=new c}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"SUCCESS",function(){return i}),n.d(e,"ERROR",function(){return r}),n.d(e,"EMPTY",function(){return o}),n.d(e,"LOADING",function(){return s}),n.d(e,"OPEN",function(){return a}),n.d(e,"CLOSED",function(){return l}),n.d(e,"PENDING",function(){return c}),n.d(e,"CONFIRM",function(){return u}),n.d(e,"REJECT",function(){return d}),n.d(e,"LOADED",function(){return h}),n.d(e,"REJECTED",function(){return p}),n.d(e,"APPROVED",function(){return f}),n.d(e,"FORBIDDEN",function(){return m}),n.d(e,"IN_PROCESS",function(){return g}),n.d(e,"PROCESSING",function(){return v}),n.d(e,"WORKING",function(){return b}),n.d(e,"EXPANDED",function(){return y}),n.d(e,"COLLAPSED",function(){return _}),n.d(e,"MAXIMIZED",function(){return w}),n.d(e,"MINIMIZED",function(){return S}),n.d(e,"AUTO",function(){return E}),n.d(e,"VISIBLE",function(){return x}),n.d(e,"HIDDEN",function(){return C}),n.d(e,"NONE",function(){return T}),n.d(e,"MILLISECONDS",function(){return k}),n.d(e,"SECONDS",function(){return O}),n.d(e,"MINUTES",function(){return P}),n.d(e,"HOURS",function(){return I}),n.d(e,"BUY",function(){return A}),n.d(e,"STRONGBUY",function(){return M}),n.d(e,"SELL",function(){return N}),n.d(e,"STRONGSELL",function(){return D}),n.d(e,"HOLD",function(){return L}),n.d(e,"TRADING_MODE",function(){return R}),n.d(e,"CALENDAR_MONTH",function(){return F}),n.d(e,"CALENDAR_WEEK",function(){return B}),n.d(e,"CALENDAR_WORK_WEEK",function(){return U}),n.d(e,"CALENDAR_DAY",function(){return j}),n.d(e,"DP_PARAM_POSITION_MODE",function(){return z}),n.d(e,"DP_PARAM_TRADING_VIEW",function(){return V}),n.d(e,"DP_PARAM_TIMEZONE_ID",function(){return H}),n.d(e,"DP_PARAM_TIMEZONE_OFFSET",function(){return G}),n.d(e,"DP_PARAM_TIMEZONE_GMT",function(){return W}),n.d(e,"DP_PARAM_TIMEZONE_NAME",function(){return q}),n.d(e,"PATH_PARAM_NAME",function(){return $}),n.d(e,"PATH_SYNC_PARAM_NAME",function(){return Y}),n.d(e,"PLATFORM_TYPE_POPUP",function(){return X}),n.d(e,"MAX_RATING_VALUE",function(){return K}),n.d(e,"INSTRUMENT_TYPES",function(){return Q}),n.d(e,"INSTRUMENT_CATEGORIES",function(){return J}),n.d(e,"NA",function(){return Z}),n.d(e,"HTTP_STATUS_CODE",function(){return tt}),n.d(e,"SIGNALS_SERVICES",function(){return et}),n.d(e,"SENTIMENT_BULLISH",function(){return nt}),n.d(e,"SENTIMENT_BEARISH",function(){return it}),n.d(e,"UI_SECTION_TRADING",function(){return rt}),n.d(e,"UI_SECTION_FEATURED",function(){return ot}),n.d(e,"UI_SECTION_FAVORITES",function(){return st}),n.d(e,"UI_SECTION_OPEN_POSITION",function(){return at}),n.d(e,"UI_SECTION_ORDERS",function(){return lt}),n.d(e,"UI_SECTION_CLOSED_POSITIONS",function(){return ct}),n.d(e,"UI_SECTION_CANCELED_ORDERS",function(){return ut}),n.d(e,"UI_SECTION_PRICE_ALERTS",function(){return dt}),n.d(e,"UI_SECTION_MULTI_CHARTS",function(){return ht}),n.d(e,"SORT_DIRECTION_ASC",function(){return pt}),n.d(e,"SORT_DIRECTION_DESC",function(){return ft}),n.d(e,"ORDER_EXECUTION_STATUS_WAITING_GSL",function(){return mt}),n.d(e,"TIME_IN_FORCE_GTC",function(){return gt}),n.d(e,"LOW_SCORE",function(){return vt}),n.d(e,"PLATFORM_PREFIX",function(){return bt}),n.d(e,"CURRENCY_EUR",function(){return yt}),n.d(e,"SESSION_EXPIRED_POPUP_TIMEOUT",function(){return _t}),n.d(e,"SERVICE_SIGNALS",function(){return wt}),n.d(e,"SERVICE_COMMENTARY",function(){return St}),n.d(e,"SERVICE_NEWS",function(){return Et}),n.d(e,"YES",function(){return xt}),n.d(e,"NO",function(){return Ct}),n.d(e,"INSTRUMENT_TYPE_FOREX",function(){return Tt}),n.d(e,"POSITION_DIRECTION_BUY",function(){return kt}),n.d(e,"POSITION_DIRECTION_SELL",function(){return Ot}),n.d(e,"DEFAULT_POSITION_PIPS_STEP",function(){return Pt}),n.d(e,"RANGE_1_MONTH",function(){return It}),n.d(e,"RANGE_3_MONTHS",function(){return At}),n.d(e,"RANGE_1_YEAR",function(){return Mt}),n.d(e,"PERCENTS_100",function(){return Nt}),n.d(e,"PERCENTS_50",function(){return Dt}),n.d(e,"SECOND_IN_MILLISECONDS",function(){return Lt}),n.d(e,"MINUTE_IN_MILLISECONDS",function(){return Rt}),n.d(e,"PERCENTS_100_DECIMAL",function(){return Ft}),n.d(e,"PERCENTS_50_DECIMAL",function(){return Bt}),n.d(e,"TODAY",function(){return Ut}),n.d(e,"YESTERDAY",function(){return jt}),n.d(e,"LAST_THREE_DAYS",function(){return zt}),n.d(e,"LAST_SEVEN_DAYS",function(){return Vt}),n.d(e,"THIS_WEEK",function(){return Ht}),n.d(e,"LAST_WEEK",function(){return Gt}),n.d(e,"PERIODS",function(){return Wt}),n.d(e,"QUARTERLY",function(){return qt}),n.d(e,"QUARTER",function(){return $t}),n.d(e,"ANNUAL",function(){return Yt}),n.d(e,"BREAKPOINT_SCREEN_LG_MAX",function(){return Xt}),n.d(e,"BASIC_VIEW_INITIAL_CHART_HEIGHT",function(){return Kt}),n.d(e,"BASIC_VIEW_MIN_CHART_HEIGHT",function(){return Qt}),n.d(e,"BASIC_VIEW_COLLAPSED_CHART_HEIGHT",function(){return Jt}),n.d(e,"STEP_DONE",function(){return Zt}),n.d(e,"STEP_PENDING",function(){return te}),n.d(e,"STEP_IN_PROGRESS",function(){return ee}),n.d(e,"DASHBOARD_ADVANCED_TYPE_ID",function(){return ne}),n.d(e,"DASHBOARD_BASIC_TYPE_ID",function(){return ie}),n.d(e,"DASHBOARD_NEW_ADVANCED_TYPE_ID",function(){return re}),n.d(e,"BASIC_VIEW_INSTRUMENT_LIST_ITEM_MIN_HEIGHT",function(){return oe}),n.d(e,"CHARS",function(){return se}),n.d(e,"INSTRUMENT_SORT",function(){return ae}),n.d(e,"OPEN_POSITION_MODE",function(){return le});var i="SUCCESS",r="ERROR",o="EMPTY",s="LOADING",a="OPEN",l="CLOSED",c="PENDING",u="CONFIRM",d="REJECT",h="LOADED",p="REJECTED",f="APPROVED",m="FORBIDDEN",g="IN_PROCESS",v="PROCESSING",b="WORKING",y="EXPANDED",_="COLLAPSED",w="MAXIMIZED",S="MINIMIZED",E="AUTO",x="VISIBLE",C="HIDDEN",T="NONE",k="milliseconds",O="seconds",P="minutes",I="hours",A="buy",M="strongbuy",N="sell",D="strongsell",L="hold",R={NO:"NO",CLOSE_ONLY:"CLOSE_ONLY",SHORT_ONLY:"SHORT_ONLY",LONG_ONLY:"LONG_ONLY",FULL:"FULL"},F="month",B="week",U="work_week",j="day",z="position_mode",V="trading_view",H="timezone_id",G="timezone_offset",W="timezone_gmt",q="timezone_name",$="path",Y="platform_path",X="platform_type_popup",K=5,Q={FOREX:"FOREX"},J={CRYPTO:"crypto",CURRENCY:"currency",SHARES:"shares",INDEX:"index",TRANDING_NOW:"tranding_now",COMMODITY:"commodity",ETFS:"etfs",BLENDS:"blends",BONDS:"bonds"},Z="N/A",tt={BAD_REQUEST:400,UNAUTHORIZED:401,NOT_MODIFIED:304,FORBIDDEN:403},et={BLOGGERS:"bloggers",ANALYSTS:"analysts",INSIDERS:"insiders",HEDGEFUNDS:"hedgefunds"},nt="Bullish",it="Bearish",rt="trading",ot="featured",st="favorites",at="open-positions",lt="orders",ct="closed-positions",ut="canceled-orders",dt="price-alerts",ht="multi-charts",pt="asc",ft="desc",mt="WAITING_GSL",gt="GTC",vt="LOW",bt="COSMOS",yt="EUR",_t=2e3,wt="signals",St="commentary",Et="news",xt="yes",Ct="no",Tt="FOREX",kt="buy",Ot="sell",Pt=1,It="1mn",At="3mn",Mt="1y",Nt=100,Dt=50,Lt=1e3,Rt=6e4,Ft=1,Bt=.5,Ut="today",jt="yesterday",zt="last 3 days",Vt="last 7 days",Ht="this week",Gt="last week",Wt=[Ut,jt,zt,Vt,Ht,Gt],qt="quarterly",$t="quarter",Yt="annual",Xt=1200,Kt=326,Qt=326,Jt=40,Zt="done",te="pending",ee="in-progress",ne="advanced",ie="basic",re="new-advanced",oe=37,se={DOT:".",COMMA:",",SLASH:"/",QUOTE:"'"},ae={INSTRUMENT:"instrument",NAME:"name",CHANGE:"change",SENTIMENT:"SENTIMENT"},le={BASIC:"basic",ADVANCED:"advanced",INTERACTIVE:"interactive"}},function(t,e){function n(t){var e="";if("object"==typeof t)for(var n in t)t.hasOwnProperty(n)&&t[n]&&(e+=n+" ");else for(var i=0;i<arguments.length;i++)null!=arguments[i]&&(e+=arguments[i]+" ");return e.trim()}t.exports=n},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var r=n(17),o=n(2),s=n(0),a=n(5),l=r.View.extend({events:{"click .no-action":function(t){t.preventDefault()},"click .fn-help-live-chat-link":function(t){t.preventDefault(),t.stopPropagation(),o.trigger("ui:need-help")},"click [data-url]":function(t){var e=a(t.currentTarget).attr("data-url");e&&(location.href=e)}},addEvents:function(t){return function(e){return s.extend({},t?s.result(t.prototype,"events"):{},e)}},getOptions:function(t){return t||{}},initialize:function(t){this._rendered=!1,this.childViews={},this.options=this.getOptions(t),s.extend(this,s.pick(this.options,"parent")),t&&t.additionalEvents&&this.delegateEvents(s.extend({},s.result(this,"events"),s.result(t,"additionalEvents"))),this.listenTo(o,"app:destroy",this.destroy)},render:function(){return this.parent&&a(this.parent).append(this.el),this._rendered=!0,this},destroy:function(){this.removeChildViews(),this.undelegateEvents(),this.stopListening(),a(this.el).remove(),this.trigger("destroy")},addChildView:function(t,e,n){this.removeChildView(t);var i=s.isFunction(e)?new e(n):e;return this.childViews[t]=i,this.$el.find(t).append(i.render().el),i},removeChildView:function(t){var e=this.childViews,n=e[t];n&&(n.remove(),delete e[t])},removeChildViews:function(){for(var t in this.childViews)this.removeChildView(t)},getChildView:function(t){return this.childViews[t]}});i.exports=l}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(5),n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(17).Model;r.exports=o.extend({control:function(t,e){var n=this;return function(e,r,o){var s={};s[t]=e,n.set(i.extend({},r,s),o)}}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(134);i.exports=r}.call(e,n,e,t))&&(t.exports=i)},,,,function(t,e,n){var i=n(27);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},,,function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){function r(){u&&(u.destroy(),u=null)}var o=n(17),s=n(1257),a=n(2),l=n(0),c=n(40);n(23),n(55);n(1262);var u=null,d=l.extend({},o.Events,{atmosphereId:null,initialize:function(){this.listenTo(a,"user:login",this.open),this.listenTo(a,"user:logout",this.close)},open:function(){this.driver=new s(c.webSocketUrl),this.listenTo(this.driver,"close",this.onClosed),this.listenTo(this.driver,"message",this.onMessage),this.listenTo(this.driver,"open",this.onOpened),this.listenTo(this.driver,"error",this.onError)},close:function(){},onClosed:function(){n(7).getSessionModel().isSessionInactive()||(a.trigger("ui:connection-lost"),a.trigger("stream:closed"))},onOpened:function(){a.trigger("stream:opened")},onError:function(t){},onMessage:function(t){if(/^(\d\d\|)[a-zA-Z0-9\-]{1,}(\|0\|X\|)$/g.test(t)){var e=t.split("|")[1];this.atmosphereId=e,this.trigger("ready"),a.trigger("stream:ready")}else{var n=t.indexOf("|"),i=t.substr(n);if("{"!=i[1])return;try{i=JSON.parse(i.substr(1))}catch(t){return t}u&&r();var o=i.type,s="stream:type:"+o;this.trigger("type:"+o,i.body),a.trigger(s,i.body)}},send:function(t){},getAtmosphereId:function(){return this.atmosphereId}});d.initialize(),i.exports=d}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i,r){var o,s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};void 0!==(o=function(t,e,i){function o(t,e){for(var n=String(t).toLowerCase(),i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];var s=e.apply(void 0,[n].concat(r));return s===n?t:s}function a(t,e,n){function i(t,e){var i=Number(e);return f.isArray(n)?n[i]:r[i+2]}e=t?t+e:e;var r=arguments;return(E[e]?E[e]:e).replace(/{([0-9])}/gi,i)}function l(t,e){var n=Array.prototype.slice.call(arguments);return E["indigo."+t]?a.apply(null,["indigo."].concat(n)):a.apply(null,[null].concat(n))}function c(t){var e="currency.symbol."+t;return E[e]?E[e]:t}function u(t){return Object.keys(t).reduce(function(e,n){return e[n.toLowerCase()]=t[n],e},{})}var d=n(17),h=n(6),p=n(2),f=n(0),m=n(52).startWith,g=n(1258),v=n(95),b=n(10),y=b.HTTP_STATUS_CODE,_=n(1259).LANGUAGE,w={cs:"cz",cn:"zh"},S=["ar"],E={};window.__=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=o.apply(void 0,[t,l].concat(n));return r},window.__currency=function(t){return o(t,c)},window.__default=function(t,e){for(var n,i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];var s=(n=window).__.apply(n,[t].concat(r));if(s===t){var a;s=(a=window).__.apply(a,[e].concat(r))}return s},window.__group=function(t){return function(e){return __(t+e)}};var x=d.Model.extend({defaults:{lang:"en",languages:[]},initialize:function(){d.Model.prototype.initialize.apply(this,arguments),this.on("language:changed",this.onLanguageChange),p.on("localization:reload",this.loadDictionary,this),this.fetch(),this.onLanguageChange()},mergeDictionary:function(t){var e={},n=g.split("\n");return f.each(n,function(t){var n=t.indexOf("=");if(-1!==n){var i=t.slice(0,n).trim();e[String(i).toLowerCase()]=t.slice(n+1).trim()}}),t=u(t),f.extend({},t,e)},save:function(){var t=JSON.stringify(s({},this.toJSON(),{dictionary:E}));localStorage.setItem("localization",t)},fetch:function(){var t=localStorage.getItem("localization"),e=void 0;t&&(e=JSON.parse(t),this.set(f.omit(e,"dictionary"))),E=this.mergeDictionary(f.result(e,"dictionary",{}))},loadDictionary:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getCurrentLanguage(),e=arguments[1],n=h.loadDictionary(t).then(this.loadDictionarySuccess.bind(this,t,e));return!1!==e&&n.then(this.generateLanguageChangedEvent.bind(this)),n.catch(this.loadDictionaryError.bind(this,e))},loadDictionarySuccess:function(t,e,n){if(n.status===y.NOT_MODIFIED)return Promise.resolve();var i=n.data;return E=this.mergeDictionary(i),this.set({lang:t}),this.save(),Promise.resolve()},mergeDictionaryWithRequired:function(t){Object.assign(E,t),this.save()},hasTranslationKey:function(t){return f.has(E,t)},loadDictionaryError:function(t,e){E=this.mergeDictionary(),!1!==e&&this.trigger("language:changing:after")},loadLanguages:function(){return this.requestLanguages()},requestLanguages:function(){return h.loadLanguages().then(this.requestLanguagesSuccess.bind(this)).catch(this.requestLanguagesError.bind(this))},requestLanguagesSuccess:function(t){this.set("languages",t.data),this.save()},requestLanguagesError:function(t){},getLanguage:function(){return this.get("lang")},getCurrentLanguage:function(){return this.getLanguage()},getCurrentLanguageFullName:function(){var t=this.getLanguage();return f.findKey(_,function(e){return e===t})},getDetectedLanguage:function(t){var e=this,n=this.validate(v.deleteQueryParam("lang"));if(n)return this.set("queryLanguage",n),this.unset("sessionLanguage"),Promise.resolve(n);if(n=this.validateKey("sessionLanguage"))return Promise.resolve(n);if(n=this.validateKey("queryLanguage"))return Promise.resolve(n);if(n=this.validateKey("browserLanguage"))return Promise.resolve(n);var i=navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage;return(i=this.validate(i.substr(0,2)))&&"en"!==i?(this.set("browserLanguage",i),Promise.resolve(i)):(n=this.validate(t))?(this.set("sessionLanguage",n),Promise.resolve(n)):(n=this.validateKey("locationLanguage"),n?Promise.resolve(n):h.getLocation().then(function(t){if(f.has(t.data,"language")){var n=e.validate(t.data.language);return n?(e.set("locationLanguage",n),Promise.resolve(n)):Promise.resolve("en")}return Promise.resolve("en")}).catch(function(t){return Promise.resolve("en")}))},validate:function(t){return t&&f.contains(this.getLanguages(),t)?t:(t=w[t],t&&f.contains(this.getLanguages(),t)?t:null)},validateKey:function(t){return this.validate(this.get(t))},getLanguages:function(){return this.get("languages")},setLanguage:function(t){return this.validate(t)?(this.set("sessionLanguage",t),this.trigger("language:changing:before"),this.loadDictionary(t)):Promise.resolve(!1)},generateLanguageChangedEvent:function(){this.trigger("language:changed"),this.trigger("language:changing:after")},checkRtl:function(){var t=f.contains(S,this.getLanguage())?"rtl":"ltr";r("html").attr("dir",t)},getKeysGroup:function(t){return f.reduce(E,function(e,n,i){return m(t,i)&&e.push(i.slice(i.lastIndexOf(".")+1)),e},[])},onLanguageChange:function(){this.checkRtl(),r("html").attr("lang",this.getLanguage())},splitByComma:function(t){return t.indexOf("،")>-1?t.split("،"):t.split(",")},fixCategoryName:function(t,e){var n=__(t),i=String(e).replace(/_/gi," "),r=i.charAt(0).toUpperCase()+i.substr(1);return n===t?r:n}});i.exports=new x}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){function r(t){var e=s.map(t.split(" "),function(t){return t.toUpperCase()});return"<span>"+s.map(s.initial(e),function(t){return"<span class='color-platform-text-color'>"+t+" </span>"}).join("")+"<span class='color-platform-accent'>"+s.last(e)+"</span></span>"}var o=n(5),s=n(0),a=n(2),l=n(12),c=n(671),u=n(198),d=s.template(n(1357));i.exports=l.extend({name:"",className:"x-popup responsive-popup x-popup-stretch-xs x-popup-no-padding-xs",timingMs:200,isOpened:!1,attributes:{tabindex:"-1"},events:function(){return s.extend({},s.result(l.prototype,"events"),{"click .fn-close-popup":"closePopup","click .fn-close":"close","click .fn-previous":"onPrevious","click .fn-size":"onSize",keydown:"onKeyDown"})},template:d,getOptions:function(t){return s.extend({},{position:"absolute",caption:"",isHeaderShowed:!1,closeIconStyle:"blue",headerBgStyle:"grey",headerStyle:"default",translucent:"1",isTranslucent:!0,zIndex:"auto",boxWidth:"",maxBoxWidth:"100%",isDraggable:!1,isMinimizable:!1,draggableOptions:[-480,600,480,-600],showBoxShadow:!1,showHeader:!0,overlayTranslucent:"1",previousCaption:"",style:"",closeOnESC:!0,onPrevious:function(){},onNext:function(){}},t)},initialize:function(t){l.prototype.initialize.apply(this,arguments),this.options.zIndex=u.getZindexForPopup(this.options.zIndex),u.addPopup({name:this.name,zIndex:this.options.zIndex})},onKeyDown:function(t){this.options.closeOnESC&&(t=t||window.event,27===t.keyCode&&this.close())},getDraggableContainer:function(){return this.$el.find(".x-popup-content")[0]},getDraggableTrigger:function(t){var e=this.$el.find(".responsive-header");return e.addClass(t||"cursor--move"),e[0]},render:function(){var t=this;l.prototype.render.call(this),this.el.focus(),this.$el.html(o(this.template(this.getRenderTemplateData()))),this.$el.addClass("responsive-popup-"+this.options.position+" x-popup-"+this.options.position),this.$el.addClass("responsive-popup-translucent-"+this.options.translucent+" x-popup-translucent-"+this.options.translucent+" responsive-popup-translucent-"+this.options.translucent),this.$el.attr("id",this.cid),"auto"!==this.options.zIndex&&this.$el.css({zIndex:this.options.zIndex}),this.show(),this.options.isDraggable&&(this.$el.addClass("draggable"),this.options.isTranslucent||this.$el.addClass("draggable--bg-transparent"),o("body").removeClass("scroll-lock"),new c(this.getDraggableTrigger()).draggable({restrict:{restriction:{top:this.options.draggableOptions[0],bottom:window.innerHeight+this.options.draggableOptions[2],left:this.options.draggableOptions[3],right:window.innerWidth+this.options.draggableOptions[1]},endOnly:!0,elementRect:{top:0,left:0,bottom:1,right:1}},autoScroll:!1,onmove:function(e){var n=t.getDraggableContainer(e),i=(parseFloat(n.getAttribute("data-x"))||0)+e.dx,r=(parseFloat(n.getAttribute("data-y"))||0)+e.dy;n.style.webkitTransform=n.style.transform="translate("+i+"px, "+r+"px)",n.setAttribute("data-x",i),n.setAttribute("data-y",r)}}).styleCursor(!1).ignoreFrom(".btn"))},getRenderTemplateData:function(){return{cid:this.cid,options:this.options,parseWizardHeader:r}},showLoading:function(){return this.hide(),this.$el.find(".responsive-container").addClass("loader-bg"),this},hideLoading:function(){return this.$el.find(".responsive-container").removeClass("loader-bg"),this.show(),this},hide:function(){return this.$el.removeClass("show-popup"),o("html").removeClass("scroll-lock"),this},show:function(){return this.openPanel(),this.$el.addClass("show-popup"),this.lockScrollOnBody(),a.trigger("popup:stack:added",this.options),this},unbind:function(){this.undelegateEvents()},destroy:function(){o("html").removeClass("scroll-lock"),u.deletePopup(this.name),l.prototype.destroy.call(this)},closePopup:function(){this.close()},close:function(){this.closePanel();var t=this.options.onClose;s.isFunction(t)&&t()},setContent:function(t){this.$el.find(".responsive-popup-body").html(t)},getPopupViewId:function(){return this.cid},lockScrollOnBody:function(){o("body").addClass("scroll-lock")},unlockScrollOnBody:function(){o("body").removeClass("scroll-lock")},openPanel:function(){this.showOverlay(),setTimeout(this.addOpenStateClass.bind(this),10),this.isOpened=!0},closePanel:function(){var t=this;this.hideOverlay(),this.removeOpenStateClass(),t.hide(),t.destroy(),t.unlockScrollOnBody(),this.isOpened=!1},onPrevious:function(){this.close(),this.options.onPrevious()},onSize:function(){var t=this.$el.find(".size i");t.hasClass("icon-minimize")?(this.$el.addClass("minimized"),t.removeClass("icon-minimize").addClass("icon-maximize")):(this.$el.removeClass("minimized"),t.removeClass("icon-maximize").addClass("icon-minimize"))},addOpenStateClass:function(){this.$el.addClass("responsive-popup-opened")},removeOpenStateClass:function(){this.$el.removeClass("responsive-popup-opened")},showOverlay:function(){var t=this.getOverlayEl(),e=t.css("opacity");t.css("opacity",0),setTimeout(function(){t.css("opacity",e)},0)},hideOverlay:function(){this.getOverlayEl().css("opacity",0)},getOverlayEl:function(){return o(this.$(".slide-box-overlay"))}},{parseWizardHeader:r})}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},,function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},,function(t,e,n){"use strict";var i=n(1),r=n(1172);if(void 0===i)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new i.Component).updater;t.exports=r(i.Component,i.isValidElement,o)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(12),o=n(0),s=o.template(n(1401)),a=r.extend({className:"loading-container",getOptions:function(t){return o.extend({},{position:"absolute",translucent:"1"},t)},initialize:function(t){r.prototype.initialize.apply(this,arguments),this.render()},getRenderTemplateData:function(){return{options:this.options,cid:this.cid}},render:function(){return r.prototype.render.call(this),this.$el.addClass("loading-"+this.options.position),this.$el.addClass("loading-translucent-"+this.options.translucent),this.$el.attr("id",this.cid),this.$el.attr("style",this.options.style),this.$el.html(s()),this},getEl:function(){return this.$("#"+this.cid)},hide:function(){return this.getEl().css("display","none"),this},show:function(){return this.getEl().css("display","block"),this}});i.exports=a}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},,function(t,e,n){var i=n(189)("wks"),r=n(139),o=n(21).Symbol,s="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=i},function(t,e,n){t.exports=n(1310)},,function(t,e,n){var i=n(91),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(){return"rtl"===document.documentElement.getAttribute("dir")}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=n(11),g=n.n(m),v=n(1),b=n.n(v),y=(n(1312),function(t){var e=t.className,n=t.contentClassName,r=t.children,o=t.title,s=t.horizontal,a=void 0!==s&&s,l=t.noPadding,c=void 0!==l&&l,u=g()(i({"information-block":!0,"information-block--horizontal":a},e,!!e)),d=g()(i({"information-block__content":!0,"information-block__content--no-padding":c},n,!!n));return b.a.createElement("div",{className:u},o&&b.a.createElement("div",{className:"information-block__title"},o),b.a.createElement("div",{className:d},r))}),_=y,w=n(251),S=n(252),E=n(277),x=n.n(E),C=(n(1327),n(33)),T=n.n(C),k=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),O=function(t){function e(t){s(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={sliderWidth:1},T()(n),n}return l(e,t),k(e,[{key:"componentDidMount",value:function(){var t=this.refs.container.clientWidth-2;this.sliderDefaultDeltaWidth=window.innerWidth-t,this.setSliderWidth(t),window.addEventListener("resize",this.onWindowResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onWindowResize)}},{key:"onWindowResize",value:function(){this.setSliderWidth(window.innerWidth-this.sliderDefaultDeltaWidth)}},{key:"setSliderWidth",value:function(t){this.setState({sliderWidth:t})}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,i=o(t,["children","className"]),s=this.state.sliderWidth;return b.a.createElement("div",{className:g()(r({"slider-component":!0},n,!!n)),ref:"container"},b.a.createElement("div",{style:{maxWidth:s}},b.a.createElement(x.a,i,e)))}}]),e}(b.a.Component);O.defaultProps={nextArrow:b.a.createElement(w.a,null),prevArrow:b.a.createElement(S.a,null),dots:!1,infinite:!1,adaptiveHeight:!1};var P=O,I=n(254),A=n(795),M=n(249),N=n(418),D=n(283),L=n(831),R=n(0),F=n.n(R),B=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),U=F.a.property(["viewOptions","className"]),j=function(t){var e=t.offsetWidth,n=t.scrollWidth,i=t.scrollLeft;return c()?n>e&&e-i<n:n>e&&e+i<n},z=function(t){function e(){return d(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,t),B(e,[{key:"shouldComponentUpdate",value:function(t,e){return!(F.a.isEqual(t,this.props)&&F.a.isEqual(e,this.state))}}]),e}(L.Tab),V=function(t){function e(){return d(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,t),B(e,[{key:"shouldComponentUpdate",value:function(t,e){return!(F.a.isEqual(t,this.props)&&F.a.isEqual(e,this.state))}}]),e}(L.TabPanel),H=function(t){function e(t){d(this,e);var n=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={selectedTabIndex:0,tabListFaded:!1},n.shouldSelect=n.shouldSelect.bind(n),n.onScroll=n.onScroll.bind(n),n}return p(e,t),B(e,[{key:"componentDidMount",value:function(){this.setListFaded(this._tabListEl),this.props.selectedTabId&&this.updateSelectedTabById(this.props.selectedTabId,this.props.tabList)}},{key:"componentDidUpdate",value:function(t,e){if(this._tabListEl){var n=j(this._tabListEl);n!==e.tabListFaded&&this.setState({tabListFaded:n})}}},{key:"isTabVisible",value:function(t){return F.a.result(t,"visible",!0)}},{key:"createTabs",value:function(t,e){var n=this;this.tabList=t,this.tabs=[],this.panels=[],this.tabList.forEach(function(t,i){if(n.isTabVisible(t)){var r;n.tabs.push(b.a.createElement(z,{key:i,disabled:t.disabled,className:(r={"react-tabs__tab":!0},u(r,t.className,!!t.className),u(r,"autotests-instrument-details-tab-"+t.id,!0),r)},F.a.isFunction(e)?e(t):t.title,t.badge?t.badge:null));var o=U(t);n.panels.push(b.a.createElement(V,{key:i,className:u({"react-tabs__tab-panel":!0},o,!!o)},t.view))}})}},{key:"getTabs",value:function(){return this.tabs}},{key:"getPanels",value:function(){return this.panels}},{key:"getFirstAvailableTabIndex",value:function(){var t=this;return F.a.findIndex(this.props.tabList,function(e){return t.isTabVisible(e)})}},{key:"checkCurrentTabAvailable",value:function(t){t=t||this.props.tabList,F.a.isArray(t)&&!this.isTabVisible(t[this.state.selectedTabIndex])&&this.moveToTabIndex(this.getFirstAvailableTabIndex())}},{key:"shouldSelect",value:function(t,e){var n=this.props,i=n.shouldSelect,r=n.tabList,o=n.onSelect,s=i(t,e,r[t]);return s||(this.moveToTabIndex(t),o(r[t],t)),s}},{key:"moveToTabIndex",value:function(t){this.setState({selectedTabIndex:t})}},{key:"componentWillReceiveProps",value:function(t,e){var n=e.tabList;this.checkCurrentTabAvailable(n),t.selectedTabId===this.props.selectedTabId&&F.a.isEqual(t.tabList,this.props.tabList)||this.updateSelectedTabById(t.selectedTabId,t.tabList)}},{key:"updateSelectedTabById",value:function(t,e){var n=F.a.findIndex(e,function(e){return e.id===t});-1===n&&(n=0),this.setState({selectedTabIndex:n})}},{key:"setListFaded",value:function(t){this.setState({tabListFaded:j(t)})}},{key:"onScroll",value:function(t){this.setListFaded(t.target)}},{key:"render",value:function(){var t=this,e=this.props,n=e.tabList,i=e.className,r=e.transformTitle,o=this.state.tabListFaded;if(F.a.isArray(n)){this.createTabs(n,r);var s=g()({"react-tabs__tab-list":!0,"horizontal-fading":o});return b.a.createElement(L.Tabs,{className:u({"react-tabs":!0},i,!!i),onSelect:this.shouldSelect,selectedIndex:this.state.selectedTabIndex},b.a.createElement(L.TabList,{className:s},b.a.createElement("div",{className:"react-tabs__tab-list__container",ref:function(e){t._tabListEl=e},onScroll:this.onScroll},this.getTabs())),this.getPanels())}}}]),e}(b.a.Component);H.defaultProps={shouldSelect:F.a.noop,onSelect:F.a.noop};var G=H,W=n(31),q=n.n(W),$=n(10),Y=(n(1328),function(t){var e=t.rating,n=t.className,i=t.size,r=void 0===i?$.MAX_RATING_VALUE:i;return b.a.createElement("div",{className:g()(f({"rating-stars":!0},n,!!n))},b.a.createElement("div",{className:"rating-stars__fill",style:{width:q()(e/r).toPercent()}}))}),X=Y,K=(n(107),n(1329),function(t){var e=t.consensus,n=t.bullishRatio;switch(e){case $.SENTIMENT_BULLISH:"long","bloggers.bullish","icon-bullish";break;case $.SENTIMENT_BEARISH:"short","bloggers.bearish","icon-bearish";break;default:"hold","sentiment.hold",""}var i=q()(1-n).toPercent(0),r=q()(n).toPercent(0);return b.a.createElement("div",{className:"consensus-container"},b.a.createElement("div",{className:"consensus-graph"},b.a.createElement("div",{className:"consensus-bearish"},b.a.createElement("i",{className:"icon icon-bearish"}),b.a.createElement("div",null,__("bloggers.bearish")),b.a.createElement("div",null,i)),b.a.createElement("div",{className:"bar"},b.a.createElement("b",{style:{width:i}}),b.a.createElement("i",{style:{width:r}})),b.a.createElement("div",{className:"consensus-bullish"},b.a.createElement("i",{className:"icon icon-bullish"}),b.a.createElement("div",null,__("bloggers.bullish")),b.a.createElement("div",null,r))))}),Q=K,J=n(288),Z=n(118),tt=n(159),et=n(664),nt=(n(1331),function(t){var e=t.children;return b.a.createElement("div",{className:"settings-description"},e)}),it=nt,rt=(n(1332),function(t){var e=t.children,n=t.className,i=void 0===n?"":n;return b.a.createElement("div",{className:"settings-template "+i},e)}),ot=rt,st=(n(1333),function(t){var e=t.children;return b.a.createElement("div",{className:"settings-title"},e)}),at=st;n.d(e,"c",function(){return _}),n.d(e,!1,function(){return w.a}),n.d(e,!1,function(){return S.a}),n.d(e,"l",function(){return P}),n.d(e,"s",function(){return I.b}),n.d(e,"u",function(){return I.d}),n.d(e,"t",function(){return I.c}),n.d(e,"r",function(){return A.b}),n.d(e,!1,function(){return A.a}),n.d(e,"m",function(){return M.d}),n.d(e,"o",function(){return M.a}),n.d(e,"q",function(){return M.c}),n.d(e,"p",function(){return M.b}),n.d(e,!1,function(){return N.a}),n.d(e,"b",function(){return D.a}),n.d(e,"n",function(){return G}),n.d(e,"f",function(){return X}),n.d(e,"a",function(){return Q}),n.d(e,"e",function(){return J.a}),n.d(e,"g",function(){return Z.default}),n.d(e,"d",function(){return tt.a}),n.d(e,"h",function(){return et.a}),n.d(e,"i",function(){return it}),n.d(e,"j",function(){return ot}),n.d(e,"k",function(){return at})},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(31);r.defaultCurrencyFormat("$0,0.00"),r.fn.toPercent=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,e=Array(t).fill(0);return r(this.value()).format("0[.]"+e.join("")+"%")},i.exports=r}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){"use strict";e.__esModule=!0;var i=n(752),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()},function(t,e,n){var i;void 0!==(i=function(t,e,n){return{get applicationHost(){return"https://"+_app.getPlatformHost()},get wsProtocol(){return"https:"===location.protocol||"file:"===location.protocol?"wss:":"ws:"},get webSocketHost(){return _app.getPlatformHost()},get webSocketUrl(){return this.wsProtocol+"//"+this.webSocketHost+"/fxclient5/client/connector?X-Atmosphere-tracking-id=0&X-Atmosphere-Framework=2.3.2-javascript&X-Atmosphere-Transport=websocket&X-Atmosphere-TrackMessageSize=true&Content-Type=text/x-gwt-rpc;%20charset=UTF-8&X-atmo-protocol=true&sessionState=dx-new&osVersion="+device.version},creditCards:{VISA:2,MASTER_CARD:1,DINERS:3,AMERICAN_EXPRESS:4,JCB:5,DISCOVER:6,LASERCARD:7,MAESTRO:8,SOLO:9,SWITCH:10},tradePlatformIds2NameMap:{1:"ACT",2:"MT4",3:"FOREX_TRADER",4:"IFP_GAMING",5:"MULTI_TRADER",6:"WEB_FX",7:"TRADENCY_MT4",8:"SPOT_OPTION",9:"CURRENSEE_MT4",10:"SIGNAL_TRADER_MT4",11:"COSMOS",12:"FOREX_STRATEGY_MT4",14:"BINARYOPTIONS",15:"PLUS500",16:"MT5"},get accountStatementURL(){return this.applicationHost+"/fxclient5/controllers/reports/account/?from=<%=beginPeriod%>&to=<%=endPeriod%>&isToday=<%=isToday%>"},get accountStatementDeepLinkUrl(){return this.applicationHost+"/fxclient5/controllers/reports/deeplink?period=<%=period%>"},rateGraynessDelayMs:6e4,uploadDocumentsFileExt:/\.(jpe?g|jpg|png|bmp?|pdf|webp|img|art|dwg|dxf|gif|ico|jfif|jfif-tbnl|pct|pcx|pict?|pm|qtif|docx?|odt|txt|rtf|tif?f|pptx?)$/i,uploadDocumentsFileMimeTypes:"image/*,application/pdf,application/msword,application/doc,application/vnd.ms-powerpoint,application/vnd.oasis.opendocument.text,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.openxmlformats-officedocument.presentationml.presentation,text/richtext,text/plain,text/rtf,application/rtf,application/x-rtf,application/x-soffice",uploadDocumentsFileMaxSize:10485760,registrationSource:{REGULAR:0,GOOGLE_ONE_TAP:1,GOOGLE_CONNECT:2,FACEBOOK_CONNECT:3},tooltip:{crosshair:{indicators:{splitBy:".",defaultSeparator:" : ",list:{SMA:{propPath:["title","parameters.1.value"],multiPropsBitwise:"&&",separator:[" : "]}}}}},commentaries:{updateInterval:18e4,newStateHighlightTimeout:6e4},news:{headlines:{minPostsCount:3,maxPostsCount:20}},notificationCenter:{limiter:{newCount:9,unreadCount:99,exceedSymbol:"+"},messages:{flushDelay:5e3,viewDelay:3e3,preloadOnScrollDelay:500,preloadBefore:0,preloadCount:10},loader:{displayDelay:2e3}}}}.call(e,n,e,t))&&(t.exports=i)},,function(t,e,n){t.exports=!n(26)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(18),r=n(439),o=n(100),s=Object.defineProperty;e.f=n(42)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";function i(t,e){return t===e}function r(t,e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var i=e.length,r=0;r<i;r++)if(!t(e[r],n[r]))return!1;return!0}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,n=null,o=null;return function(){return r(e,n,arguments)||(o=t.apply(null,arguments)),n=arguments,o}}function s(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(t){return"function"==typeof t})){var n=e.map(function(t){return typeof t}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return e}n.d(e,"a",function(){return a});var a=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return function(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];var o=0,a=i.pop(),l=s(i),c=t.apply(void 0,[function(){return o++,a.apply(null,arguments)}].concat(n)),u=t(function(){for(var t=[],e=l.length,n=0;n<e;n++)t.push(l[n].apply(null,arguments));return c.apply(null,t)});return u.resultFunc=a,u.dependencies=l,u.recomputations=function(){return o},u.resetRecomputations=function(){return o=0},u}}(o)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(17),s=o.Collection.extend({isBoundedModelsEnabled:!1,enableBoundModels:function(){var t=this;this.isBoundedModelsEnabled=!0,this.on("reset",function(e,n,r){i.each(n.previousModels,function(t){t.off(),t.stopListening()}),t.off("reset")}),this.on("remove",function(t,e,n){t.off(),t.stopListening()})},disableBoundModels:function(){this.isBoundedModelsEnabled=!1,this.off("reset"),this.off("remove")},boundArr:function(t){var e=this;i.each(t,function(t){e.bound.apply(e,t)})},bound:function(){var t=i.map(arguments,function(t){return t.toJSON()}),e=i.extend.apply(null,[{}].concat(t));delete e.id;var n=new o.Model(e);i.each(arguments,function(t){var e=this;this.listenTo(t,"all",function(t,n){e.set(n.toJSON())})},n),this.add(n)}});r.exports=s}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},,function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e){return function(n){n({type:N.a,payload:{messageType:t,array:[e]}}),n(R._debounceFlushRequest),n(T())}}function o(t,e){return function(n){n({type:N.a,payload:{messageType:t,array:e}}),n(R._debounceFlushRequest),n(T(F.TAB_CHECKBOX_UNCHECKED))}}function s(){return{type:N.b}}function a(){return function(t){R._debounceFlushRequest.cancel(),t({type:N.c}),t(T())}}function l(t,e){return{type:N.e,payload:{messageType:t,array:e}}}function c(t,e){return{type:N.h,payload:{messageType:t,array:[e]}}}function u(t,e){return{type:N.h,payload:{messageType:t,array:e}}}function d(t,e){return{type:N.o,payload:{messageType:t,array:[e]}}}function h(t,e){return{type:N.i,payload:{messageType:t,isRead:e}}}function p(t,e){return function(n){n({type:N.d,payload:{messageType:t,array:e}}),n(T())}}function f(t){return{type:N.l,payload:{messageType:t}}}function m(t,e){return function(n,i){var r=i().notificationCenter[t].newIds;r.count&&U.a.contains(r.list,e)&&(t===F.TYPE_PERSONAL&&n(R._debouncePersonalSeenRequest),n(R._debouncePlatformSeenRequest),n({type:N.r,payload:{messageType:t,array:[e]}}))}}function g(t,e){return function(n){n({type:N.m,payload:{messageType:t,array:[e]}}),n(T())}}function v(t,e){return function(n){n({type:N.n,payload:{messageType:t,selected:e}}),n(T())}}function b(t,e){return function(n){n({type:N.p,payload:{messageType:t,array:[e]}}),n(T())}}function y(){return function(t){t({type:N.q}),t(T())}}function _(t){return function(e,n){Object(j.l)(n())!==t&&e({type:N.s,payload:t})}}function w(t){return function(e,n){e({type:N.u,payload:t}),Object(j.k)(n())&&e(E(!1))}}function S(t,e){return function(n){var i=e?z({},e,{type:t}):null;n({type:N.t,payload:i}),e&&!e.isRead&&n(O(t,e.id)),e&&e.isNew&&n(m(t,e.id))}}function E(t){return{type:N.v,payload:t}}function x(t,e){return{type:N.g,payload:{messageType:t,count:e}}}function C(t,e){return{type:N.f,payload:{messageType:t,count:e}}}function T(t){return{type:N.C,payload:t}}function k(t,e,n){return function(i){i({types:[N.A,N.B,N.z],callApi:function(){return Object(R.getMessagesService)(t,e,n).then(function(e){try{var n=JSON.parse(e.data),r=U.a.map(n,function(e){return Object(R.switchMessageAdaptorService)(t,e)});i(l(t,r))}catch(e){return Promise.reject("Unable to exec "+t+" response")}}).catch(function(t){})},shouldCallApi:function(){return!!n}})}}function O(t,e){return function(n){n({types:[N.x,N.y,N.w],callApi:function(){return L.a.setNotificationCenterAction(F.API_ACTION_READ,t,{messageIds:[e]}).then(function(){n(c(t,e))}).catch(function(t){})},shouldCallApi:function(){return!!e}})}}function P(t,e){return function(n){n({types:[N.x,N.y,N.w],callApi:function(){return L.a.setNotificationCenterAction(F.API_ACTION_READ,t,{messageIds:e}).then(function(){n(u(t,e))}).catch(function(t){})},shouldCallApi:function(){return!U.a.isEmpty(e)}})}}function I(t,e){return function(n){n({types:[N.x,N.y,N.w],callApi:function(){return L.a.setNotificationCenterAction(F.API_ACTION_UNREAD,t,{messageIds:[e]}).then(function(){n(d(t,e))}).catch(function(t){})},shouldCallApi:function(){return!!e}})}}function A(t,e){return function(n){n({types:[N.k,N.l,N.j],callApi:function(){return L.a.setNotificationCenterAction(F.API_ACTION_SEEN,t,{messageIds:e})},additionalData:{messageType:t},shouldCallApi:function(){return!U.a.isEmpty(e)}})}}function M(t,e){return function(n,r){var o=e?F.API_ACTION_READ:F.API_ACTION_UNREAD,s=r().notificationCenter[t].marked;n({types:[N.x,N.y,N.w],callApi:function(){return L.a.setNotificationCenterAction(o,t,{messageIds:[].concat(i(s.list))}).then(function(){n(h(t,e))}).catch(function(t){})},shouldCallApi:function(){return!U.a.isNil(e)||!!s.count}})}}Object.defineProperty(e,"__esModule",{value:!0}),e.garbageAdd=r,e.garbageAddMultiple=o,e.garbageFlush=s,e.garbageRestore=a,e.messagesAddOld=l,e.messageRead=c,e.messagesRead=u,e.messageUnread=d,e.messagesReadSelected=h,e.messagesAddNew=p,e.messagesSeenReset=f,e.messageView=m,e.messageSelect=g,e.messagesSelectAll=v,e.messageUnselect=b,e.messagesUnselectAll=y,e.setOpenPopupState=_,e.setActiveTab=w,e.setActiveMessage=S,e.setIsActiveMessageVisible=E,e.setTypeMessagesCountUnread=x,e.setTypeMessagesCountNew=C,e.updateSelectAllCheckboxState=T,e.messagesAddOldRequest=k,e.messageReadRequest=O,e.messagesReadRequest=P,e.messageUnreadRequest=I,e.messagesSeenRequest=A,e.messagesToggleReadSelectedRequest=M;var N=n(366),D=n(6),L=n.n(D),R=n(373),F=n(115),B=n(0),U=n.n(B),j=n(53),z=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}},function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i;void 0!==(i=function(t,e,n){n.exports={EMPTY:"EMPTY",PENDING:"PENDING",SUCCESS:"SUCCESS",ERROR:"ERROR",UPDATE:"UPDATE",FIRST_UPDATE:"FIRST_UPDATE",CHANGED:"CHANGED",NOT_USED:"NOT_USED",USE:"USE",YES:"YES",NO:"NO",FOUND:"FOUND",NOT_FOUND:"NOT_FOUND",READY:"READY",NOT_READY:"NOT_READY",DISABLED:"DISABLED",ENABLED:"ENABLED",CALCULATED:"CALCULATED",TYPE_MARKET:"market",TYPE_LIMIT:"limit",TYPE_STOP:"stop",SELL:"sell",BUY:"buy"}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i=n(101);t.exports=function(t){return Object(i(t))}},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(80),s=n(71),a=n(7),l=r.template(n(1360)),c=o.extend({events:function(){return r.extend({},r.result(o.prototype,"events"),{"click .fn-ok":"onOK","click .fn-cancel":"onCancel"})},getOptions:function(t){return r.extend({},r.result(o.prototype,"getOptions"),{showLogo:!1,isMarketsXPromotion:a.isPromotionMarketsX(),showConfirmCaption:!0,closeIconStyle:"grey",size:"small",headerBgStyle:"transparent",confirmOKBtnText:__("ok"),confirmCancelBtnText:__("cancel"),confirmCaption:__("reports.request.popup.title"),confirmMessage:"",isLightTheme:s.isLightTheme(),onOK:r.noop,onCancel:r.noop,template:l},t)},initialize:function(t){o.prototype.initialize.apply(this,arguments),this.render();var e=this.$(".btn-primary").get(0);e&&e.focus()},render:function(){return o.prototype.render.call(this),this.setContent(this.options.template({options:this.options})),this.$el.addClass("popup-type-confirm"),this},onOK:function(t){this.options.onOK(),this.close()},onCancel:function(t){this.options.onCancel(),this.close()}});i.exports=c}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(1),o=n(0);i.exports.startWith=function(t,e){return 0===e.indexOf(t)},i.exports.duplicateChar=function(t,e){return o.range(e).map(function(){return t}).join("")},i.exports.resizeString=function(t,e,n){if(!o.isString(t)||!o.isNumber(e)||t.length<=e)return t;var r=o.isString(n)?i.exports.duplicateChar(n,4):"";return t.slice(0,e-4*r.length)+r},i.exports.toUnderscore=function(t){return t.replace(/([A-Z])/g,function(t){return"_"+t.toLowerCase()})},i.exports.insertAt=function(t,e,n){return[t.slice(0,e),n,t.slice(e)].join("")},i.exports.contains=function(t,e){return t&&"function"==typeof t.indexOf&&t.indexOf(e)>=0},i.exports.divideValueByPipSize=function(t,e){if(!t)return t;var n=String(t).split("."),i=n[0]||"",r=n[1]||"",s=function(t,e,n){return o.isUndefined(n)?t.slice(e):t.slice(e,n)},a=[],l=void 0;if(e>0){if(1===e)return l=s(r,0,e-1),a.push({value:i+"."+l,isBigDigits:!1}),l=s(r,e-1,e),l&&a.push({value:""+l,isBigDigits:!0}),l=s(r,e),l&&a.push({value:""+l,isBigDigits:!1}),a;l=s(r,0,e-2),a.push({value:i+"."+l,isBigDigits:!1}),l=s(r,e-2,e),l&&a.push({value:""+l,isBigDigits:!0}),l=s(r,e),l&&a.push({value:""+l,isBigDigits:!1})}else{if(0===e)return l=s(i,0,e-2),l&&a.push({value:""+l,isBigDigits:!1}),l=s(i,e-2),l&&a.push({value:""+l,isBigDigits:!0}),r&&a.push({value:"."+r,isBigDigits:!1}),a;l=s(i,0,e-2),l&&a.push({value:""+l,isBigDigits:!1}),l=s(i,e-2,e),l&&a.push({value:""+l,isBigDigits:!0}),l=s(i,e),a.push({value:l+"."+r,isBigDigits:!1})}return a},i.exports.formatValueToStringOrComponent=function(t,e){if(e){var n="";return t.forEach(function(t){n+=t.isBigDigits?"<i>"+t.value+"</i>":t.value}),n}return t.map(function(t,e){return t.isBigDigits?r.createElement("i",{key:e},t.value):t.value})},i.exports.stringInject=function(t,e){if("string"==typeof t&&e instanceof Array)return t.replace(/({\d})/g,function(t){return e[t.replace(/{/,"").replace(/}/,"")]});if(!("string"==typeof t&&e instanceof Object))return!1;for(var n in e)return t.replace(/({([^}]+)})/g,function(t){var n=t.replace(/{/,"").replace(/}/,"");return e[n]?e[n]:t})}}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){"use strict";n.d(e,"i",function(){return u}),n.d(e,"b",function(){return d}),n.d(e,"a",function(){return h}),n.d(e,"h",function(){return p}),n.d(e,"d",function(){return f}),n.d(e,"g",function(){return m}),n.d(e,"j",function(){return g}),n.d(e,"c",function(){return b}),n.d(e,"l",function(){return y}),n.d(e,"k",function(){return _}),n.d(e,"f",function(){return w}),n.d(e,"e",function(){return S});var i=n(44),r=n(0),o=n.n(r),s=n(115),a=function(t){return t.notificationCenter},l=Object(i.a)(a,function(t){return t[t.activeTab]}),c=function(t){return Object(i.a)(a,function(e){return e[t]})},u=Object(i.a)(a,function(t){return t.tabs}),d=Object(i.a)(a,function(t){return t.activeTab}),h=Object(i.a)(a,function(t){return t.activeMessage}),p=Object(i.a)(l,function(t){return t.messages}),f=(Object(i.a)(l,function(t){return t.newIds}),Object(i.a)(l,function(t){return t.garbage})),m=Object(i.a)(l,function(t){return t.marked}),g=function(t){return Object(i.a)(c(t),function(t){return t.unread.count})},v=function(t){return Object(i.a)(c(t),function(t){return t.new.count})},b=Object(i.a)([a,u],function(t,e){return o.a.reduce(e,function(e,n){return e+t[n].garbage.count},0)}),y=Object(i.a)(a,function(t){return t.isOpened}),_=Object(i.a)(a,function(t){return t.isActiveMessageVisible}),w=Object(i.a)(a,function(t){return t.markAllCheckboxState}),S=function(t){return v(t)}(s.TYPE_PERSONAL)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){function r(){return E===w||E===_?x:new Promise(function(t,e){E=_;var n=function(t,e,n){return v.trigger(e),t(E=n)};x=m.fxStart(g.getAtmosphereId()).then(function(){return n(t,"request:fxstart:success",w)}).catch(function(){return n(e,"request:fxstart:error",S)})})}function o(t){return p.isEmpty(t)?[]:p.chain(t).filter(function(t){return b.getInstrumentBySymbol(t)}).each(function(t){var e=y[t];e?e.refs++:y[t]={refs:1}}).map(function(t){return t}).value()}function s(t){return p.isEmpty(t)?[]:p.chain(t).filter(function(t){return y[t]&&b.getInstrumentBySymbol(t)&&y[t].refs>0}).each(function(t){return y[t].refs--}).filter(function(t){return 0===y[t].refs}).value()}function a(){for(var t in y)0===y[t].refs&&delete y[t]}function l(t){p.isEmpty(t)||m.subscribeInstrumentSymbols(g.getAtmosphereId(),t)}function c(t){return t?(t=p.isArray(t)?t:[t],t[0]&&t[0]instanceof f?p.map(t,function(t){return t.get("symbol")}):t):[]}function u(t){var e=o(c(t));return C(),e}function d(t){var e=s(c(t));return C(),e}function h(t,e){return{addedSymbols:u(t),removedSymbols:d(e)}}var p=n(0),f=n(13),m=n(6),g=n(22),v=n(2),b=n(14),y={},_=1,w=2,S=3,E=0,x=null,C=p.debounce(function(){var t=p.chain(y).map(function(t,e){return[e,t.refs]}).filter(function(t){return!y[t[0]].subscribed}).map(function(t){return t[0]}).each(function(t){return y[t].subscribed=!0}).value(),e=p.chain(y).map(function(t,e){return[e,t.refs]}).filter(function(t){return 0===t[1]&&y[t[0]].subscribed}).map(function(t){return t[0]}).value();if(!p.isEmpty(t)||!p.isEmpty(e))return p.isEmpty(t)||l(t),a(),r().then(function(){return m.changeTemporaryInstrumentSubscription(g.getAtmosphereId(),t,e)})},500);i.exports={add:u,remove:d,update:h},g.on("type:USER_LOGIN_INFO",r),window.subs={add:u,remove:d,map:y}}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(80),s=r.template(n(1261)),a=o.extend({events:function(){return r.extend({},r.result(o.prototype,"events"),{"click .btn":"onOK","click .fn-close-popup":"onClose"})},getOptions:function(t){return r.extend({},r.result(o.prototype,"getOptions"),{parent:document.body,isHeaderShowed:!0,closeIconStyle:"blue",headerBgStyle:"transparent",headerStyle:"default",type:"default",size:"small",okBtnText:"Ok",isShowCloseForMobile:!1,isShowOkButton:!0},t)},initialize:function(t){o.prototype.initialize.apply(this,arguments),this.render()},render:function(){return o.prototype.render.call(this),this.setContent((this.options.template||s)(this.getRenderTemplateData())),this.options.additionalClassName&&this.$(".message-box").addClass(this.options.additionalClassName),this},onOK:function(t){var e=t.currentTarget.attributes.getNamedItem("action");e&&r.isFunction(this.options.actions[e.value])?this.options.actions[e.value]():r.isFunction(this.options.onOK)&&this.options.onOK(),this.close()},onClose:function(t){t.stopImmediatePropagation(),this.options.actions&&r.isFunction(this.options.actions.onClose)&&this.options.actions.onClose(),this.close()}});i.exports=a}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(7),o=n(9),s=n(137),a=n(153),l=n(154),c=n(695),u=n(15),d=n(0),h=n(856).MARKETS_COMPANY;i.exports={MOBILE:function(){return u.mobile()},FULL_REGISTRATION_COMPLETED:function(){return r.getUserData().isFullRegistrationCompleted()},ELIGIBLE_FOR_BONUS:function(){return!r.getUserData().get("inBonusRestrictedCountries")&&r.getUserAwardsModel().hasFullRegistrationBonus(r.getUserCurrency())},FIRST_DEPOSIT_MADE:function(){return r.getUserData().isFirstDeposit()},MANUAL_DEPOSIT_AMOUNT_NEEDED:function(){return o.isManualDepositAmountNeeded()},FIRST_LOGIN:function(){return!1!==r.getUserCommonData().get("settings").firstLogin},REAL_ACCOUNT:function(){return o.isLive()},R_BONUS_TC_ACCEPTED:function(){return r.getUserDataCompliance().get("fullRegistrationBonusTermsAndConditionsAccepted")},PROOF_OF_ID:function(){return r.getUserDataCompliance().get("proofOfId")},PROOF_OF_RESIDENCE:function(){return r.getUserDataCompliance().get("proofOfResidence")},REQUIRES_ADDITIONAL_DATA:function(){return r.getUserDataCompliance().get("requiresAdditionalData")},DEPOSIT_ENABLED:function(){return r.getUserData().get("depositEnabled")},USABLE_MARGIN_IS_ZERO:function(){return 0===r.getUserAccountMetricsModel().get("buyingPower")},BUYING_POWER:function(){return r.getUserAccountMetricsModel().get("buyingPower")>0},U_DOC_UPLOADED:function(){return r.getUserData().isCompliance()||r.getUserDocumentsModel().documentsApprovedByEV()||r.getUserDocumentsModel().isDocumentsUploaded()},U_PENDING:function(){return r.getUserData().isCompliance()},U_IN_REVIEW:function(){return r.getUserDocumentsModel().hasDocumentInReview()},U_REJECTED:function(){return o.isDocumentsExpirationEnabled()&&r.getUserDocumentsModel().hasDocumentRejected()},U_REJECTED_AND_BUYING_POWER:function(){return o.isDocumentsExpirationPreventTradingEnabled()&&r.getUserDocumentsModel().hasDocumentRejected()&&r.getUserAccountMetricsModel().get("buyingPower")>0},U_EXPIRED:function(){return o.isDocumentsExpirationEnabled()&&r.getUserDocumentsModel().hasDocumentExpired()},U_EXPIRED_AND_BUYING_POWER:function(){return o.isDocumentsExpirationPreventTradingEnabled()&&r.getUserDocumentsModel().hasDocumentExpired()&&r.getUserAccountMetricsModel().get("buyingPower")>0},U_PENDING_EXPIRATION_SOON:function(){return o.isDocumentsExpirationEnabled()&&r.getUserDocumentsModel().hasDocumentPendingExpirationSoon()},U_PENDING_EXPIRATION:function(){return o.isDocumentsExpirationEnabled()&&r.getUserDocumentsModel().hasDocumentPendingExpiration()},U_VERIFIED:function(){return r.getUserDocumentsModel().isDocumentsApproved()||r.getUserData().isCompliance()},U_SOME_VERIFIED:function(){return r.getUserDocumentsModel().isSomeDocumentsApproved()},U_SOME_DOC_UPLOADED:function(){return r.getUserDocumentsModel().isSomeDocumentsUploaded()},U_APPROVED_BY_EV:function(){return r.getUserDocumentsModel().isDocumentsApprovedByEV()},U_BOTH_DOCS_IN_REVIEW:function(){return r.getUserDocumentsModel().hasBothDocumentsInReview()},COMPLIANCE:function(){return r.getUserData().isCompliance()},COMPLIANCE_SUSPENDED:function(){return o.isDocumentsExpirationEnabled()&&r.getUserData().isComplianceSuspended()},COMPLIANCE_SUSPENDED_GROUND_INACTIVITY:function(){return r.getUserData().isComplianceSuspendedGroundInactivity()},COMPLIANCE_SUSPENDED_GROUND_EXPIRATION:function(){return r.getUserData().isComplianceSuspendedGroundExpiration()},COMPLIANCE_SUSPENDED_OTHER:function(){return r.getUserData().isComplianceSuspendedGroundOther()},PENDING_COMPLIANCE:function(){return r.getUserData().isPendingCompliance()},PENDING_COMPLIANCE_GROUND_ECDD:function(){return o.isComplianceECDDCheckEnabled()&&r.getUserData().isPendingComplianceGroundPendingECDD()},PENDING_COMPLIANCE_GROUND_PHONE_VERIFICATION:function(){return o.isComplianceECDDCheckEnabled()&&r.getUserData().isPendingComplianceGroundPhoneVerification()},LIMITED_COMPLIED:function(){return o.isDocumentsExpirationEnabled()&&r.getUserData().isLimitedCompliance()},COMPLIANCE_OR_COMPLIANCE_SUSPENDED:function(){return r.getUserData().isComplianceSuspended()||r.getUserData().isCompliance()},C_VERIFIED:function(){return r.getUserCreditCards().isVerified()},MONEY_FOR_WITHDRAW:function(){return r.getUserData().get("firstDeposit")},AUTO_WITHDRAWAL:function(){return o.isAutomaticWithdrawalEnabled()},PENDING_DEPOSIT:function(){return r.getUserPendingDeposit()>0},DEEP_LINK:function(){return s.isDetected()},DL_FULLREG:function(){return"fullreg"===s.path},LOW_SCORE:function(){return d.contains(["UNKNOWN","NONE","LOW"],r.getUserScore())},MEDIUM_SCORE:function(){return"MEDIUM"===r.getUserScore()},HIGH_SCORE:function(){return"HIGH"===r.getUserScore()},COMMON_REGULATION:function(){return a.isCommonRegulation()},SPANISH_REGULATION:function(){return a.isSpanishRegulation()},FRENCH_REGULATION:function(){return a.isFrenchRegulation()},SPANISH_REG_CONFIRMATION_REQUIRED:function(){return l.isFullRegistrationRiskWarningRequired()},REGISTRATION_EDIT_ALLOWED:function(){return"HIGH"!==r.getUserScore()&&o.isRegistrationFinalStepAllowBack(r.getUserScore())&&!r.getUserData().isFullRegistrationCompleted()},MEDIUM_REGISTRATION_POPUP:function(){return o.isMediumRegistrationPopupEnabled()},CHECK_KNOWLEDGE_POPUP:function(){return r.getUserData().getPartnerCompanyNameKey()===h.PRELIUM_LTD||r.getUserData().getPartnerCompanyNameKey()===h.STA_GLOBAL},MULTIPLE_QUIZ:function(){return o.isMultipleQuizEnabled()},ELIGIBLE_QUIZ:function(){return r.getUserQuizStatus().isQuizEligible()},POSTPONED_QUIZ:function(){return r.getUserQuizStatus().isQuizPostponed()},FIRST_TIME_LOADING:function(){return c.needShowLoginMessage()},REGISTRATION_LEVERAGE_SELECTION_ENABLED:function(){return o.isRegistrationLeverageSelectionEnabled()},MARKETS_X_ENABLE:function(){return r.getUserLevelsModel().isEnable()},SHOW_VERIFICATION_CENTER_POPUP:function(){return o.isShowVerificationCenterPopupEnabled()},SHOW_UPGRADE_MARKETS_X_POPUP:function(){return r.getUserLevelsModel().isShowUpgradePopup()},IS_TC_ACCEPTED_FOR_MARKETS_X:function(){return r.getUserLevelsModel().isTcAccepted()},MARKETS_X_ELIGIBLE:function(){return r.getUserLevelsModel().isEligibleForMarketsX()},MARKETS_X:function(){return r.getUserLevelsModel().isMarketsX()},MARKETS_X_PROMOTION:function(){return r.isPromotionMarketsX()},IS_ADVANCED_VIEW:function(){return r.getUserCommonData().isAdvancedTradingView()},IS_PLATFORM_TYPE_POPUP_VISIBLE:function(){return o.isPlatformTypePopupVisible()},PLATFORM_TYPE_POPUP_DEMO_ENABLED:function(){return o.isPlatformTypeSettingOnDemo()}}}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(45),s=n(1263),a=(n(2),o.extend({model:s,_isReady:!1,initialize:function(){o.prototype.initialize.apply(this,arguments),this._instrumentIds={}},ready:function(){this._isReady||(this._isReady=!0,this.trigger("ready"))},isReady:function(){return this._isReady},getPositionByCode:function(t){var e=this.where({positionCode:t});return!!e.length&&e[0]},getOpenPosition:function(){return this.where({})},createPosition:function(t){var e=new this.model(t);return this.add(e),this.addInstrumentId(t.instrumentId),e},removePositionsByCode:function(){var t=i.isArray(arguments[0])?arguments[0]:arguments;i.chain(t).map(function(t){return this.findWhere({positionCode:t})},this).each(function(t){var e=t.collection.length-1==0;this.remove(t),e&&this.removeInstrumentId(t.get("instrumentId"))},this)},getClosablePositions:function(){var t=n(14);return i.filter(this.models,function(e){var n=e.getInstrumentId(),i=t.getInstrumentById(n);return!!i&&i.status.isClosable()})},addInstrumentId:function(t){this._instrumentIds[t]=!0,this.trigger("add-instrument",t)},removeInstrumentId:function(t){delete this._instrumentIds[t],this.trigger("remove-instrument",t)}}));r.exports=new a}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i,r;!function(){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++){var i=arguments[e];if(i){var r=typeof i;if("string"===r||"number"===r)t.push(i);else if(Array.isArray(i)&&i.length){var s=n.apply(null,i);s&&t.push(s)}else if("object"===r)for(var a in i)o.call(i,a)&&i[a]&&t.push(a)}}return t.join(" ")}var o={}.hasOwnProperty;void 0!==t&&t.exports?(n.default=n,t.exports=n):(i=[],void 0!==(r=function(){return n}.apply(e,i))&&(t.exports=r))}()},function(t,e,n){"use strict";e.__esModule=!0;var i=n(433),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,r.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(1775),o=i(r),s=n(1779),a=i(s),l=n(433),c=i(l);e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,c.default)(e)));t.prototype=(0,a.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(o.default?(0,o.default)(t,e):t.__proto__=e)}},function(t,e,n){"use strict";n.d(e,"n",function(){return u}),n.d(e,"p",function(){return d}),n.d(e,"f",function(){return h}),n.d(e,"o",function(){return p}),n.d(e,"g",function(){return f}),n.d(e,"h",function(){return m}),n.d(e,"j",function(){return g}),n.d(e,"m",function(){return v}),n.d(e,"d",function(){return y}),n.d(e,"e",function(){return _}),n.d(e,"i",function(){return w}),n.d(e,"k",function(){return S}),n.d(e,"l",function(){return E}),n.d(e,"q",function(){return x}),n.d(e,"b",function(){return T}),n.d(e,"a",function(){return k}),n.d(e,"c",function(){return O});var i=n(0),r=n.n(i),o=n(44),s=n(150),a=function(t){return t.user},l=Object(o.a)(a,function(t){return t.ACCOUNT_METRICS}),c=Object(o.a)(a,function(t){return t.ACCOUNT_SETTINGS}),u=Object(o.a)(a,function(t){return t.pendingDeposit}),d=Object(o.a)(l,function(t){var e=Math.round(t.riskLevel);return r.a.isNaN(e)||Math.abs(e)===s.MARGIN_VALUES.RISK_LEVEL_MAX?null:e}),h=Object(o.a)(l,function(t){return t.balance}),p=Object(o.a)(l,function(t){return t.profitLoss}),f=Object(o.a)(l,function(t){return t.buyingPower}),m=Object(o.a)(l,function(t){return t.equity}),g=Object(o.a)(l,function(t){return t.maintenanceMargin}),v=Object(o.a)(l,function(t){return t.margin}),b=Object(o.a)(l,function(t){return t.availableBalanceForWithdrawal}),y=Object(o.a)(l,function(t){return t.activeBonusesAmount}),_=Object(o.a)([b,y,u],function(t,e,n){var i=t-e+n;return i<n&&(i=n),i<0&&(i=0),i}),w=Object(o.a)(c,function(t){return t.liquidationLevel}),S=Object(o.a)(c,function(t){return t.marginAlertLevel2}),E=Object(o.a)(d,function(t){return t||(t=s.MARGIN_VALUES.RISK_LEVEL_MAX),t>=s.MARGIN_VALUES.MARGIN_LEVEL_OK?s.MARGIN_VALUES.MARGIN_LEVEL_OK:s.MARGIN_VALUES.MARGIN_LEVEL_2<t&&t<=s.MARGIN_VALUES.MARGIN_LEVEL_1?s.MARGIN_VALUES.MARGIN_LEVEL_1:s.MARGIN_VALUES.LIQUIDATION_LEVEL_BUFFER<t&&t<=s.MARGIN_VALUES.MARGIN_LEVEL_2?s.MARGIN_VALUES.MARGIN_LEVEL_2:s.MARGIN_VALUES.LIQUIDATION_LEVEL<=t&&t<=s.MARGIN_VALUES.LIQUIDATION_LEVEL_BUFFER?s.MARGIN_VALUES.LIQUIDATION_LEVEL_BUFFER:t<s.MARGIN_VALUES.LIQUIDATION_LEVEL?s.MARGIN_VALUES.LIQUIDATION_LEVEL:void 0}),x=Object(o.a)(E,function(t){return t<=s.MARGIN_VALUES.MARGIN_LEVEL_2}),C=Object(o.a)(a,function(t){return t.favoriteInstrumentSymbols}),T=Object(o.a)(C,function(t){return r.a.keys(t)}),k=Object(o.a)(a,function(t){return t.favorites}),O=Object(o.a)(T,function(t){return t.length})},function(t,e,n){t.exports={default:n(1752),__esModule:!0}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},,function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var i=n(386)("wks"),r=n(265),o=n(66).Symbol,s="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=i},function(t,e,n){(function(i){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0!==(o=function(t,e,i){var o=n(0),a=n(119),l=n(10),c=l.MINUTES,u=n(23),d=Symbol("instance"),h=function(){function t(){r(this,t)}return s(t,[{key:"chartOffset",value:function(){return this.timezone.getInvertedOffsetAs(c)}},{key:"positionTime",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY HH:mm";return t?this.timezone.applyOffset(t,e,e)+" ("+this.timezone.GMTPostfix()+")":t}},{key:"positionTimestamp",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY HH:mm";return t?this.timezone.applyOffsetToTimestamp(t,e):t}},{key:"orderTimestamp",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY HH:mm";return t?this.timezone.applyOffsetToTimestamp(t,e):t}},{key:"tradingHours",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t||!(e&&e.startDay&&e.endDay))return t;var r=t.split(" - "),s=[];return s[0]=e.startDay+" "+e.tradingHours[0],s[1]=e.endDay+" "+e.tradingHours[1],s=s.map(function(t,e){var i=n.timezone.applyOffset(t,"dddd HH:mm","HH:mm");return r[e].split(" ")[0]+" "+i}),(i?o.template('<span class="text-right"><span class="text-nowrap"><%= startTime %> - <%= endTime %></span> <span class="text-nowrap">(<%=offset%>)</span></span>'):o.template("<%= startTime %> - <%= endTime %> (<%=offset%>)"))({startTime:s[0],endTime:s[1],offset:this.timezone.GMTPostfix()})}},{key:"overnightInterestTime",value:function(t){return t?o.template('<span class="text-right"><%= time %> <span class="text-nowrap">(<%= offset %>)</span></span>')({time:this.timezone.applyOffset(t,"HH:mm","HH:mm"),offset:this.timezone.GMTPostfix()}):t}},{key:"gridCellTimestamp",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY HH:mm",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return t;var i=this.timezone.formatUTCTimestamp(t,e);if(n){return i+" ("+this.timezone.GMTPostfix()+")"}return i}},{key:"gridCellOrderPlaceTime",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY HH:mm";return t?this.timezone.formatUTCTimestamp(t,e)+" ("+this.timezone.GMTPostfix()+")":t}},{key:"gridCellLongText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY HH:mm";return t?this.timezone.applyOffset(t,"ddd MMM DD HH:mm:ss",e)+" ("+this.timezone.GMTPostfix()+")":t}},{key:"servicesDate",value:function(t){return t?this.timezone.applyOffset(t,void 0,"D MMM YYYY HH:mm:ss")+" ("+this.timezone.GMTPostfix()+")":t}},{key:"notificationCenterItemDate",value:function(t){if(!t)return t;var e=this.timezone.applyOffset(t,void 0,"MMM DD, HH:mm:ss");return o.isNumber(t)&&(e=this.timezone.applyOffsetToTimestamp(t,"MMM DD, HH:mm:ss")),e+" ("+this.timezone.GMTPostfix()+")"}},{key:"popupGMTPostfix",value:function(){return" ("+this.timezone.GMTPostfix()+")"}},{key:"columnGMTPostfix",value:function(){return" ("+this.timezone.GMTPostfix()+")"}},{key:"newsSentimentArticleDate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY HH:mm";return t?""+this.timezone.formatUTCTimestamp(t,e):t}},{key:"webinarDateTime",value:function(t){if(!t)return t;var e=this.timezone.convertTimestampToMoment(t),n=this.localization.getMonthsNames()[e.month()],i=this.localization.getDaysShortNames()[e.day()],r=this.timezone.GMTPostfix();return i+", "+e.format("D")+" "+n+" "+e.format(" Y, h:mma")+" ("+r+")"}},{key:"webinarStartTime",value:function(t){if(!t)return t;var e=this.timezone.setTimestampToMoment(t),n=this.timezone.GMTPostfix();return e.format("h:mma")+" ("+n+")"}},{key:"timezone",get:function(){return this[d]?this[d]:(this[d]=a.user,this[d])}},{key:"localization",get:function(){return{getMonthsNames:function(){return u.splitByComma(__("calendar_monthNames"))},getDaysShortNames:function(){return u.splitByComma(__("calendar_shortDays"))}}}}]),t}();i.exports=new h}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"GMT",function(){return i}),n.d(e,"LOCAL",function(){return r}),n.d(e,"OPEN_POSITION_OPTIONS",function(){return o}),n.d(e,"THEME_OPTIONS",function(){return s}),n.d(e,"CHART_MODE_BASIC",function(){return a}),n.d(e,"CHART_MODE_ADVANCED",function(){return l}),n.d(e,"CHART_MODE_OPTIONS",function(){return c}),n.d(e,"TRADING_VIEW_BASIC",function(){return u}),n.d(e,"TRADING_VIEW_ADVANCED",function(){return d}),n.d(e,"TRADING_VIEW_OPTIONS",function(){return h});var i="GMT",r="local",o=["basic","advanced","interactive"],s=[0,1],a="basic",l="advanced",c=[a,l],u="basic",d="advanced",h=[u,d]},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(76),o=n(1388),s=n(217),a=n(689),l=n(1389),c=n(185),u=n(1390),d=n(114),h=n(1393),p=n(1394),f=n(1395),m=n(690),g=n(691),v=n(1396),b=n(855),y=n(1397),_=n(1398),w=n(1399),S=n(1400),E=n(12),x=n(0),C=n(2),T=E.extend({className:"form",events:function(){return x.extend({},x.result(E.prototype,"events"),{"click .submit":"submit","click .cancel":"cancel"})},initialize:function(){E.prototype.initialize.apply(this,arguments),this.render()},render:function(){return E.prototype.render.call(this),this._fields={},this.options.template&&this.$el.html(this.options.template(this.options.templateOptions)),this.findFields(),this},findFields:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$el,e=t.find(".field"),n=0;n<e.length;n++){var i=e[n],r=i.className,o=this.detectType(r),s=this.createField(o,i);x.isUndefined(this._fields[s.getName()])&&(this.addField(s),s.on("change",this.onFieldChange,this),s.on("focus",this.onFocusChange,this))}},addField:function(t){if(t){var e=t.getName();if(this._fields[e])throw"The field '"+e+"' is already added in from. Try another name.";this._fields[e]=t}},removeField:function(t){var e=this.getField(t);x.isNull(e)||(e.off("change",this.onFieldChange,this),e.off("focus",this.onFocusChange,this),delete this._fields[t],e.destroy())},destroy:function(){for(var t in this._fields)this.removeField(t);E.prototype.destroy.call(this)},createField:function(t,e){var n={el:e,form:this};switch(t){case"input":case"input-addon":return new s(n);case"textarea":return new b(n);case"spin":return new a(n);case"spin-relative":return new l(n);case"checkbox":return new d(n);case"rollout":return new h(n);case"fieldset":return new p(n);case"date":return new o(n);case"select":case"select-country":return new c(n);case"multi-select":return new u(n);case"multi-checkbox":return new f(n);case"phone":return new m(n);case"radio":case"financial-exp":case"fatca":case"radio-description":return new g(n);case"yes-no-details":return new v(n);case"remind":return new y(n);case"file":return new _(n);case"datepicker":return new w(n);case"timepicker":return new S(n);default:return new r(n)}},detectType:function(t){for(var e=t.split(" "),n=0;n<e.length;n++){var i=e[n];if(-1!=i.indexOf("field-type-"))return i.replace("field-type-","")}return null},getField:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._fields[t];return!n&&e?null:n},getFieldsList:function(){return this._fields},field:function(t){return this.getField(t)},validate:function(t){var e=[];for(var n in this._fields){var i=this._fields[n];if(!i.isDisabled()){var r=i.validate(t);r&&e.push(x.values(r))}}var o=0!=e.length;return o&&this.trigger("validation:error",x.flatten(e)),o},getErrorFields:function(){return x.filter(this._fields,function(t){return t.hasError()})},getData:function(t){var e={};for(var n in this._fields){var i=this._fields[n],r=i.getName();(t||!i.isDisabled()&&r)&&(e[r]=i.value(),i.hasDetails()&&(e[r+"_details"]=i.detailsValue()))}return e},submit:function(){var t=this.validate();return t||this.trigger("submit"),t},cancel:function(t){t.preventDefault(),this.trigger("cancel")},onFieldChange:function(t){this.triggerEvent(t,"change",x.toArray(arguments))},onFocusChange:function(t){this.triggerEvent(t,"focus",x.toArray(arguments))},triggerEvent:function(t,e,n){var i="field:"+e+":"+t.getName();n.unshift(i),this.trigger.apply(this,n),C.trigger(i)},setRules:function(t){var e=this;x.isObject(t)&&x.each(t,function(t,n){var i=e.field(n);i&&i.setRules(t)})},setFilters:function(t){var e=this;x.isObject(t)&&x.each(t,function(t,n){var i=e.field(n);i&&i.setFilters(t)})}});i.exports=T}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0!==(o=function(t,e,i){function o(t){return("0"+parseInt(t,10).toString(16)).slice(-2)}function a(t){return t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),t&&4===t.length?"#"+o(t[1])+o(t[2])+o(t[3]):""}var l=n(5),c=(n(0),n(2)),u=n(9),d=n(95),h=n(7),p=n(75),f={light:{},dark:{chart:{colors:{common:{background:"#272a39",foreground:"#8e949f",grid:"#8e949f",volume:"#35374f"}}}}},m=function(){function t(){r(this,t)}return s(t,[{key:"init",value:function(e){var n=t.getNameFromURL();if(this._storedNameURL=n,n&&this.isAvailable(n))e=n;else{var i=t.getNameFromStorage();i&&this.isAvailable(i)&&(e=i)}this.load(e)}},{key:"loadOnLogin",value:function(){var e=!1,n=t.getNameFromSettings();if(this._storedNameURL)e=n!==this._storedNameURL,n=this._storedNameURL,this._storedNameURL=void 0;else if(t.isThemeChanged()){var i=t.getNameFromStorage();i&&this.isAvailable(i)&&(e=!0,n=i)}n&&this.isAvailable(n)||(n=this.defaultTheme,e=!0),this.load(n,e)}},{key:"initBrandTitle",value:function(){l("title").html(u.isLive()?__("window.title.live"):__("window.title.demo")),t.addMeta("application-name",__("brand.name")),t.addMeta("apple-mobile-web-app-title",__("brand.name")),t.addMeta("theme-color","#2e86ab"),t.addMeta("msapplication-navbutton-color","#2e86ab"),t.addMeta("msapplication-starturl","./")}},{key:"loadThemeForBrand",value:function(){this.themes=u.getThemesList(),this.init(this.defaultTheme)}},{key:"load",value:function(e,i){var r=this;this.name=e||this.name,this.name&&n(1311)("./"+e+".scss").then(function(){r.applyTheme(e),t.updateBrowserThemeColor(),t.saveNameToStorage(e),i&&t.saveNameToSettings(e),r.applyMarketsX(p.isMarketsX()||h.isPromotionMarketsX()||h.getUserLevelsModel().isMarketsX()),c.trigger("ui:change-theme",e)}).catch(function(t){})}},{key:"isEnabled",value:function(){return this.switcherConfig.length>1}},{key:"isAvailable",value:function(t){return this.switcherConfig.indexOf(t)>=0}},{key:"isLightTheme",value:function(){return"light"===this.name}},{key:"change",value:function(e,n){var i=this.themes[e];return this.load(i,n),n&&t.setThemeChanged(),i}},{key:"applyTheme",value:function(t){document.documentElement.setAttribute("theme",t)}},{key:"applyMarketsX",value:function(t){document.documentElement.setAttribute("marketsx",!!t)}},{key:"name",get:function(){return this._name},set:function(t){this._name=t}},{key:"defaultTheme",get:function(){return this.themes[0]}},{key:"currentThemeSettings",get:function(){return f[this.name]||{}}},{key:"switcherConfig",get:function(){return this.themes.slice(0,2)}}],[{key:"getNameFromURL",value:function(){return d.deleteQueryParam("theme")}},{key:"getNameFromStorage",value:function(){return localStorage.getItem("theme")}},{key:"saveNameToStorage",value:function(t){localStorage.setItem("theme",t)}},{key:"getNameFromSettings",value:function(){return h.getUserCommonData().getAppTheme()}},{key:"saveNameToSettings",value:function(t){h.getUserCommonData().saveAppTheme(t)}},{key:"isThemeChanged",value:function(){var t=localStorage.getItem("theme_changed");return t&&localStorage.removeItem("theme_changed"),!!t}},{key:"setThemeChanged",value:function(){localStorage.setItem("theme_changed",!0)}},{key:"addMeta",value:function(t,e){l("<meta>",{name:t,content:e}).appendTo("head")}},{key:"updateBrowserThemeColor",value:function(){var t=l("head").css("background-color");t.indexOf("rgb")>=0&&(t=a(t)),"#000000"===t&&(t="#2e86ab"),l("meta[name=theme-color]").attr("content",t)}}]),t}(),g=new m;window.light=function(){g.load("light")},window.dark=function(){g.load("dark")},i.exports=g}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(5))},function(t,e,n){var i=n(43),r=n(138);t.exports=n(42)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(21),r=n(72),o=n(81),s=n(139)("src"),a=n(894),l=(""+a).split("toString");n(57).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var c="function"==typeof n;c&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(c&&(o(n,s)||r(n,s,t[e]?""+t[e]:l.join(String(e)))),t===i?t[e]=n:a?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||a.call(this)})},function(t,e,n){var i=n(4),r=n(26),o=n(101),s=/"/g,a=function(t,e,n,i){var r=String(o(t)),a="<"+e;return""!==n&&(a+=" "+n+'="'+String(i).replace(s,"&quot;")+'"'),a+">"+r+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(a),i(i.P+i.F*r(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e,n){(function(i){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0!==(o=function(t,e,i){function o(){var t=parseInt(localStorage.getItem(w));return!!t&&t<Date.now()}function a(){var t=localStorage.getItem(_);return o()||!t?(l(),{}):JSON.parse(t)}function l(){localStorage.removeItem(_),localStorage.removeItem(w)}function c(t,e){localStorage.setItem(_,JSON.stringify(t));var n=E;(p.has(t,"pid")&&t.pid.toLowerCase().indexOf("google")>-1||p.has(t,"utm_source")&&t.utm_source.toLowerCase().indexOf("google")>-1)&&(n*=3),e&&localStorage.setItem(w,Date.now()+n)}function u(){var t=f.getCookie("_eh2_ref");if(null===t)return null;try{var e=O(k(unescape(t)));return!p.isEmpty(e)&&p.has(e,"pid")?e:null}catch(t){return null}}function d(){var t=f.getCookie("tracking");if(null===t)return null;try{var e=JSON.parse(unescape(t));return!p.isEmpty(e)&&p.has(e,"pid")?e:null}catch(t){return null}}var h=n(17),p=n(0),f=n(250),m=n(6),g=n(95),v=(n(2),n(9)),b=n(853).BRAND,y=n(873).default,_="tracking_aff",w="tracking_aff_expiration",S="_dcm_uid",E=2592e6,x=3*E,C=function(t){return y((navigator.userAgent||"")+(navigator.platform||"")+(new Date).getTime()+Math.random()).slice(0,t||16)},T=function(){return C(8)+"-"+C(4)+"-"+C(4)+"-"+C(4)+"-"+C(12)},k=function(t){return t?new g.Url(t).getQueryString():g.getQueryString()},O=function(t){return p.reduce(t.split("&"),function(t,e){if(!p.isEmpty(e)){var n=e.split("=");2===n.length&&(t[n[0]]=decodeURIComponent(n[1]))}return t},{})},P=function(){return v.isLive()},I=function(t){var e=f.getCookie(S);return e||(e=T(),f.setCookie(S+"="+e,new Date(Date.now()+x),t)),e},A=function(){function t(t,i){try{if(!v.isDcmTrackingEnabled()||!window.gtag||!P())return Promise.resolve();if(f.getCookie(S)&&"sitev"===t)return Promise.resolve();e||(window._uid=I(n));var o=r[t];return o?o(i):Promise.resolve()}catch(t){Promise.resolve()}}var e=null,n=g.getDomainName(),i=function(t){var e=p.extend({allow_custom_scripts:!0},t);gtag("event","conversion",e)},r={sitev:function(){return i({u1:window._uid,send_to:v.getDcmTrackingId()+"/sitev0/sitev0+unique"}),__eventos("test:dcm:sitev",{},!0)},leadw:function(t){return __eventos("test:dcm:leadwBefore",{},!0),i({u1:window._uid,u2:t,send_to:v.getDcmTrackingId()+"/leadw0/leadc0+unique"}),__eventos("test:dcm:leadw",{u2:t},!0)},fullr:function(t){return i({u2:t,send_to:v.getDcmTrackingId()+"/fullr0/fullr0+unique"}),__eventos("test:dcm:fullr",{u2:t})},first:function(t){return i({u2:t,send_to:v.getDcmTrackingId()+"/first0/first0+unique"}),__eventos("test:dcm:first",{u2:t})}};return{trackEvent:t}},M=function(){function t(){r(this,t)}return s(t,[{key:"trackEvent",value:function(e){if(t.SUPPORTED_FB_EVENTS[e]&&P()&&"function"==typeof window.fbq)return window.fbq("track",e),__eventos("test:fb:"+e,{},!0)}}],[{key:"SUPPORTED_FB_EVENTS",get:function(){return{PageView:!0,Lead:!0,CompleteRegistration:!0,Purchase:!0}}}]),t}(),N=h.Model.extend({defaults:{machineId:"en",affiliateTracking:{}},initialize:function(){this.loadMachineId(),this.dcmTracking=A(),this.fbTracking=new M},trackDcmEvent:function(t,e){return v.isDcmTrackingEnabled()&&this.dcmTracking?this.dcmTracking.trackEvent(t,e):Promise.resolve()},trackFBEvent:function(t){return v.isFBTrackingEnabled()?this.fbTracking.trackEvent(t):Promise.resolve()},loadMachineId:function(){if(this.machineId=localStorage.getItem("tracking_uid"),!this.machineId){var t=O(k());p.has(t,"uid")?this.machineId=t.uid:this.machineId=T(),localStorage.setItem("tracking_uid",this.machineId)}},loadAffiliateTracking:function(){var t=this,e=a();this.set("affiliateTracking",e);var n=O(k());if(p.has(n,"intent_group")||(n.intent_group="Brand",n.intent_instrument="na"),v.getBrandName()===b.MARKETS&&this.updateReferrers(n),p.has(e,"marketsx")&&(n.marketsx=e.marketsx),p.isEmpty(n))return Promise.resolve();"1"!==p.pick(n,"marketsx").marketsx&&(n=p.omit(n,"marketsx"));var i=v.getCrmTrackingServiceUrl();return i?m.get(i+"?"+g.paramsToQueryString(n)).then(function(e){return!e.data||e.data.error?Promise.resolve(e):p.keys(e.data).length<=2?Promise.resolve(e):(c(n,!0),t.set("affiliateTracking",n),Promise.resolve(e))}).catch(function(e){return c(n,!0),t.set("affiliateTracking",n),Promise.resolve()}):Promise.resolve()},getMachineId:function(){return this.machineId},getAffiliateTracking:function(){var t=this.get("affiliateTracking");return!p.isEmpty(t)&&p.has(t,"pid")?t:d()||u()||{}},getLoginTracking:function(){var t=this.get("affiliateTracking");return p.reduce(["affiliateId","campaignName"],function(e,n){return p.has(t,n)&&(e[n]=t[n]),e},{})},storeMarketsxFlag:function(){var t=a();p.isObject(t)||(t={}),t.marketsx="1",c(t,!0)},isMarketsX:function(){return p.has(this.get("affiliateTracking"),"marketsx")},removeAffiliateTracking:function(){l(),this.set("affiliateTracking",{}),localStorage.removeItem(w)},getReferrer:function(){var t={},e=f.getCookie("_eh2_ref");return null!==e&&(t.referrer=e),t},updateReferrers:function(t){var e=document.referrer;p.isEmpty(e)||-1!==p.indexOf(e,"markets.com")||f.setCookie("external_referrer="+e,new Date(Date.now()+30),g.getDomainName());var n=f.getCookie("internal_referrer");if(p.isNull(n)&&f.setCookie("internal_referrer="+window.location,new Date(Date.now()+30),g.getDomainName()),n){var i=g.getQueryParam("pid")||0;(0===i&&p.has(t,"pid")||0!==i&&p.has(t,"pid")&&i!==t.pid)&&f.setCookie("internal_referrer="+window.location,new Date(Date.now()+30),g.getDomainName())}}});i.exports=new N}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0))},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var r=n(12),o=n(0),s=n(86),a=n(5),l=[8,9,13,16,17,18,19,20,27,33,34,35,36,37,38,39,40,45,46,91,92,93,106,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,144,145,186,188,189,190,191,192,219,220,221,222],c=r.extend({inputBuffer:"",initialize:function(t){this.defaultOnClientEvent=this.defaultOnClientEvent.bind(this),this.clearBuffer=o.debounce(this.clearBuffer,3e3),r.prototype.initialize.apply(this,arguments);var e=this.getHtmlTemplate();e&&this.$el.html(e),this._events={},this._name="",this._value=t.value||"",this._filters={},this.options=o.extend(this.getDefaultOptions(),t),this.state=this.getDefaultState(),this.update(),o.each(this.getDependentFieldNames(),function(t){this.listenTo(this.options.form,"field:change:"+t,this.onDependentFieldChanged)},this),document.addEventListener("click",this.defaultOnClientEvent)},defaultOnClientEvent:function(){},setEvent:function(t,e){this._events[t]=e.bind(this)},onChange:function(t){this.fireChangeEvent(),this.executeCustomOnChange(t)},executeCustomOnChange:function(t){o.isFunction(this._events.onchange)&&this._events.onchange(t)},getName:function(){return this._name},setName:function(t){var e=this._name;return this._name=t,e},destroy:function(){this.$el=null,document.removeEventListener("click",this.defaultOnClientEvent)},value:function(t){var e=this.$el.find("input");if(void 0===t)return e.val();e.val(t)},getValue:function(){return this.value()},setValue:function(t){this.value(t)},setValueWithFireChangeEvent:function(t){var e=this.getValue();this.setValue(t),e!==t&&this.fireChangeValueEvent(t)},getFilters:function(){var t={};return t[this.getName()]=this._filters,t},getRules:function(){var t={};return t[this.getName()]=this._rules,t},setFilters:function(t){return this._filters=t,this},setRules:function(t){return this._rules=t,this},fieldError:function(t){var e=this.getName(),n=t[e][0];this.$el.removeClass("field-ok"),this.$el.addClass("field-error"),this.setTooltipMessage(n),this.showTooltip()},fieldVerified:function(){this.$el.addClass("field-ok")},setTooltipMessage:function(t){this.$el.find(".field-tooltip .content").html(t),this.showTooltip()},data:function(){var t={};return t[this.getName()]=this.value(),t},hasRules:function(){return this._rules},validate:function(t){var e=this.getFilters(),n=this.getRules(),i=new s(e,n),r=this.data(),o=i.validate(r);return t?!1!==o:(this.hasRules()&&this.setDefaultState(),!1!==o?this.fieldError(o):this.fieldVerified(),o)},hideTooltip:function(){this.$el.find(".field-tooltip").removeClass("field-tooltip-visible").addClass("field-tooltip-hidden")},showTooltip:function(){this.$el.find(".field-tooltip").removeClass("field-tooltip-hidden").addClass("field-tooltip-visible")},showNotErrorTooltip:function(){this.showTooltip(),this.$el.find(".field-tooltip .content").addClass("non-error")},hideErrorTooltip:function(){this.isNotErrorTooltipShown()||this.hideTooltip()},isNotErrorTooltipShown:function(){return this.$el.find(".field-tooltip .content").hasClass("non-error")},disable:function(){return this.setState({disabled:!0,pristine:!0}),this},enable:function(){return this.setState({disabled:!1}),this},isDisabled:function(){return this.$el.hasClass("field-disabled")},isEnabled:function(){return!this.isDisabled()},setDefaultState:function(){return this.$el.removeClass("field-error"),this.$el.removeClass("field-ok"),this.hideErrorTooltip(),this},setError:function(t){return this.$el.addClass("field-error"),this.setTooltipMessage(t),this.showTooltip(),this},getDefaultOptions:function(){return{filterFunction:function(t,e){return t[0].textContent.toLowerCase().trim().startsWith(e)},getValueFunction:function(t){return t[0].innerHTML},setValueFunction:function(t,e){return a(t[0].previousElementSibling).find("select").val(e).trigger("change")}}},setOptions:function(t,e){return this.options=o.extend({},this.getDefaultOptions(),this.options,t),!0!==(e&&e.silent)&&this.validate(),this},getOption:function(t){return this.options[t]},getOptions:function(t){return this.options||t},getDefaultState:function(){return{disabled:this.$el.hasClass("field-disabled"),pristine:!0}},setState:function(t){var e=this;o.each(o.keys(t),function(n){e.state[n]!==t[n]&&(e.state[n]=t[n],e.trigger("field:change:state:"+n,e,t[n]))}),this.update()},getState:function(){return this.state},enableElement:function(){},disableElement:function(){},update:function(){this.state.disabled?this.disableElement():this.enableElement()},filter:function(t,e){var n=s.prototype.filters[t];return o.isFunction(n)?n(e):e},hasDepends:function(){return!o.isEmpty(this.getDependentFieldNames())},getDependentFieldNames:function(){return o.isEmpty(this.$el.attr("data-field-depends"))?[]:this.$el.attr("data-field-depends").split(" ")},onDependentFieldChanged:function(t){this.trigger("dependent:field:"+t.getName()+":change",t,this.options.form)},fireChangeEvent:function(){this.fireChangeValueEvent(this.value())},fireChangeValueEvent:function(t){this.trigger("change",this,t)},getDependentFields:function(){return o.map(this.getDependentFieldNames(),function(t){return this.options.form.getField(t)},this)},getDependentFieldByName:function(t){return o.contains(this.getDependentFieldNames(),t)?this.options.form.getField(t):null},getDefaultValue:function(){return""},setDefaultValue:function(){this.value(this.getDefaultValue()),this.setDefaultState()},setDefaultValueWithFireChangeEvent:function(){this.setDefaultValue(),this.fireChangeEvent()},focus:function(){window.setTimeout(function(){this.$input[0].focus()}.bind(this),1)},hide:function(){this.disable(),this.$el.css("display","none")},show:function(){this.$el.css("display","flex"),this.enable()},isPristine:function(){return this.getState().pristine},hasError:function(){return this.$el.hasClass("field-error")},clearBuffer:function(){this.inputBuffer=""},processKey:function(t,e,n,i){var r=this;if(this.isDisabled())return e;switch(this.clearBuffer(),t.which){case 40:case 38:if(e.length>0){var s=a(40===t.which?e[0].nextElementSibling:e[0].previousElementSibling),c=40===t.which?1:-1;s.length>0&&(e.removeClass("selected"),e=s.addClass("selected"),n.find("ul")[0].scrollTop+=c*e[0].clientHeight)}else e=i.eq(0).addClass("selected");break;case 8:this.inputBuffer=this.inputBuffer.slice(0,-1);break;case 13:e.trigger("click");break;default:if(-1!==l.indexOf(t.which))break;var u=n.find("ul");this.inputBuffer+=t.key;var d=u.find("li").filter(function(t){return r.options.filterFunction(a(t),r.inputBuffer)})[0];o.isUndefined(d)||(e.length>0&&e.removeClass("selected"),e=a(d).addClass("selected"),d.scrollIntoView())}return e},hasDetails:function(){return!1},defineControl:function(){},getHtmlTemplate:function(){}});i.exports=c}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){"use strict";(function(t){function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}n.d(e,"c",function(){return m}),n.d(e,"f",function(){return g}),n.d(e,"d",function(){return v}),n.d(e,"g",function(){return b}),n.d(e,"a",function(){return y}),n.d(e,"b",function(){return _}),n.d(e,"e",function(){return w});var r=n(7),o=n.n(r),s=n(0),a=n.n(s),l=n(2),c=n.n(l),u=n(31),d=n.n(u),h=n(55),p=n.n(h),f=a.a.template(n(382)),m=function(){return[].concat(i(o.a.getUserCommonData().getMyAccountActiveFields()||[]))},g=function(t){var e=o.a.getUserCommonData();return t?e.saveMyAccountActiveFields(t):Promise.reject()},v=function(){return o.a.getUserCommonData().getMyAccountPosition()},b=function(t){return o.a.getUserCommonData().saveMyAccountPosition(t)},y=function(t){var e=o.a.getUserCurrencySymbol();return d()(t).formatForeignCurrency(e)},_=function(t){return a.a.isNull(t)?__("numeric.value.not.available.upper_case"):t+"%"},w=function(e){new p.a(a.a.extend({parent:t("body"),isHeaderShowed:!0,template:f,actions:{"fn-deposit":function(){return c.a.trigger("flow:deposit")},"fn-close-positions":a.a.partial(c.a.navigate,"/open-positions")}},e))}}).call(e,n(5))},function(t,e,n){"use strict";function i(t){var e=t.user.favoriteInstrumentSymbols;return s.a.first(s.a.keys(e))}function r(t){var e=t.ui.selectedInstrumentCategorySymbols;return s.a.first(s.a.keys(e))}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"isInstrumentMarginLevelLow",function(){return p}),n.d(e,"getInstruments",function(){return f}),n.d(e,"getFxInstruments",function(){return m}),n.d(e,"getInstrument",function(){return g}),n.d(e,"getInstrumentSymbolMap",function(){return v}),n.d(e,"getInstrumentLastQuoteTime",function(){return b}),n.d(e,"getInstrumentId",function(){return y}),n.d(e,"getInstrumentCategory",function(){return _}),n.d(e,"getInstrumentCategoryPath",function(){return w}),n.d(e,"getInstrumentDescription",function(){return S}),n.d(e,"getInstrumentName",function(){return E}),n.d(e,"getInstrumentTicker",function(){return x}),n.d(e,"getInstrumentSentiment",function(){return C}),n.d(e,"getInstrumentSentimentLongs",function(){return T}),n.d(e,"getInstrumentSentimentShorts",function(){return k}),n.d(e,"getInstrumentFxSystemSettings",function(){return O}),n.d(e,"getInstrumentOvernightInterestTime",function(){return P}),n.d(e,"getInstrumentRolloverDates",function(){return I}),n.d(e,"getInstrumentRolloverDatesValue",function(){return A}),n.d(e,"getInstrumentSwapRates",function(){return M}),n.d(e,"getInstrumentBuyRate",function(){return N}),n.d(e,"getInstrumentSellRate",function(){return D}),n.d(e,"getInstrumentsSettingsUpdate",function(){return L}),n.d(e,"getInstrumentSettingsUpdate",function(){return R}),n.d(e,"getInstrumentMinOrderSize",function(){return F}),n.d(e,"getInstrumentTradingMode",function(){return B}),n.d(e,"isInstrumentVisible",function(){return U}),n.d(e,"isInstrumentAllowOrdersOutsideOfTradingHours",function(){return j}),n.d(e,"getInstrumentsMarginingSettings",function(){return z}),n.d(e,"getInstrumentMarginingSettings",function(){return V}),n.d(e,"getInstrumentMarginRatePercent",function(){return H}),n.d(e,"getInstrumentMarginRateValue",function(){return G}),n.d(e,"getInstrumentMaintenanceMarginValue",function(){return W}),n.d(e,"getQuoteInstruments",function(){return q}),n.d(e,"getInstrumentQuote",function(){return $}),n.d(e,"getInstrumentAsk",function(){return Y}),n.d(e,"getInstrumentBid",function(){return X}),n.d(e,"getInstrumentCurrentAskDirection",function(){return K}),n.d(e,"getInstrumentAskDirection",function(){return Q}),n.d(e,"getInstrumentCurrentBidDirection",function(){return J}),n.d(e,"getInstrumentBidDirection",function(){return Z}),n.d(e,"getInstrumentSpread",function(){return tt}),n.d(e,"getInstrumentSpreadDirection",function(){return et}),n.d(e,"getInstrumentCurrency",function(){return nt}),n.d(e,"getInstrumentPrecision",function(){return it}),n.d(e,"getInstrumentLotSize",function(){return rt}),n.d(e,"getInstrumentBaseCurrency",function(){return ot}),n.d(e,"getInstrumentType",function(){return st}),n.d(e,"getSummaryInstruments",function(){return at}),n.d(e,"getInstrumentSummary",function(){return lt}),n.d(e,"getInstrumentDayOpen",function(){return ct}),n.d(e,"getInstrumentPercentChange",function(){return ut}),n.d(e,"getInstrumentDayHigh",function(){return dt}),n.d(e,"getInstrumentDayLow",function(){return ht}),n.d(e,"getInstrumentChange",function(){return pt}),n.d(e,"isTradersTrendsDataAvailable",function(){return ft}),n.d(e,"getInstrumentAmountWordUsed",function(){return mt}),n.d(e,"getTradingCalendarsSettings",function(){return gt}),n.d(e,"getInstrumentTradingCalendarsSettings",function(){return vt}),n.d(e,"getCryptoInfo",function(){return bt}),n.d(e,"getInstrumentCryptoStartDate",function(){return yt}),n.d(e,"getInstrumentCryptoMaxSupply",function(){return _t}),n.d(e,"getInstrumentCryptoAlgorithm",function(){return wt}),n.d(e,"getInstrumentCryptoNetworkHS",function(){return St}),n.d(e,"getInstrumentCryptoTwitter",function(){return Et}),n.d(e,"getInstrumentCryptoCoinType",function(){return xt}),n.d(e,"getInstrumentCryptoBlockPr",function(){return Ct}),n.d(e,"getInstrumentCryptoBlockNo",function(){return Tt}),n.d(e,"getTradeStatuses",function(){return kt}),n.d(e,"getInstrumentTradeStatuses",function(){return Ot}),n.d(e,"getInstrumentOutOfMarketHours",function(){return Pt}),n.d(e,"isInstrumentTradable",function(){return It}),n.d(e,"isInstrumentBuyTradable",function(){return At}),n.d(e,"isInstrumentSellTradable",function(){return Mt}),n.d(e,"getInstrumentPriceAlerts",function(){return Nt}),n.d(e,"hasInstrumentPriceAlerts",function(){return Dt}),e.getFirstFavoritesInstrumentSymbol=i,e.getFirstInstrumentSymbolInSelectedCategory=r,n.d(e,"getInstrumentsTreePathsMap",function(){return Lt}),n.d(e,"getInstrumentCategoryByPath",function(){return Rt}),n.d(e,"getFirstElementInInstrumentCategoryByPath",function(){return Ft}),n.d(e,"getInstrumentsChildCategories",function(){return Bt}),n.d(e,"getInstrumentSymbolsInFeaturedCategory",function(){return Ut});var o=n(0),s=n.n(o),a=n(44),l=n(10),c=n(62),u=n(244),d=n(245),h=n(109),p=Object(a.a)(c.q,function(t){return t}),f=function(t){return t.instruments},m=Object(a.a)(f,function(t){return t.FX_INSTRUMENT}),g=Object(a.a)([m,h.a],function(t,e){return t[e]}),v=Object(a.a)(f,function(t){return t.instrumentSymbolMap}),b=Object(a.a)(f,function(t){return t.instrumentLastQuoteTime}),y=Object(a.a)([v,h.a],function(t,e){return t[e]&&t[e].id}),_=Object(a.a)([v,h.a],function(t,e){return t[e]&&t[e].category||""}),w=Object(a.a)([v,h.a],function(t,e){return t[e]&&t[e]._categoryPath||""}),S=Object(a.a)([v,h.a],function(t,e){return t[e]&&t[e].description}),E=Object(a.a)([v,m,h.a],function(t,e,n){return t[n]&&t[n].name||e[n]&&e[n].displayName}),x=Object(a.a)([v,h.a],function(t,e){return t[e]&&t[e].ticker}),C=Object(a.a)([v,h.a],function(t,e){return t[e]&&t[e].sentiment}),T=Object(a.a)(C,function(t){return t&&t.longs}),k=Object(a.a)(C,function(t){return t&&t.shorts}),O=Object(a.a)(f,function(t){return t.FX_SYSTEM_SETTINGS}),P=Object(a.a)(O,function(t){return t&&t.overnightInterestTime}),I=Object(a.a)(f,function(t){return t.ROLLOVER_DATES}),A=Object(a.a)([I,h.a],function(t,e){return e=String(e).toLowerCase(),t[e]&&t[e].value}),M=Object(a.a)(f,function(t){return t.SWAP_RATES}),N=Object(a.a)([M,h.a],function(t,e){return t[e]&&t[e].buyRate}),D=Object(a.a)([M,h.a],function(t,e){return t[e]&&t[e].sellRate}),L=Object(a.a)(f,function(t){return t.INSTRUMENT_SETTINGS_UPDATE}),R=Object(a.a)([L,h.a],function(t,e){return t[e]}),F=Object(a.a)(R,function(t){return t&&t.minOrderSize}),B=Object(a.a)(R,function(t){return t&&t.trading||""}),U=Object(a.a)(R,function(t){return t&&t.visible}),j=Object(a.a)(R,function(t){return t&&t.allowOrdersOutsideOfTradingHours}),z=Object(a.a)(f,function(t){return t.MARGINING_SETTINGS}),V=Object(a.a)([z,h.a],function(t,e){return t[e]}),H=Object(a.a)(V,function(t){return t&&t.marginRatePercent}),G=Object(a.a)(V,function(t){return t&&t.marginRateValue}),W=Object(a.a)(V,function(t){return t&&t.maintenanceMarginValue}),q=Object(a.a)(f,function(t){return t.QUOTE}),$=Object(a.a)([q,h.a],function(t,e){return t[e]}),Y=Object(a.a)($,function(t){return t&&t.ask}),X=Object(a.a)($,function(t){return t&&t.bid}),K=Object(a.a)($,function(t){return t&&t._currentAskDirection}),Q=Object(a.a)($,function(t){return t&&t.askDirection}),J=Object(a.a)($,function(t){return t&&t._currentBidDirection}),Z=Object(a.a)($,function(t){return t&&t.bidDirection}),tt=Object(a.a)($,function(t){return t&&t._spread}),et=Object(a.a)($,function(t){return t&&t._spreadDirection}),nt=Object(a.a)(g,function(t){return t&&t.currency}),it=Object(a.a)(g,function(t){return t&&t.precision}),rt=Object(a.a)(g,function(t){return t&&t.lotSize}),ot=Object(a.a)(g,function(t){return t&&t.baseCurrency}),st=Object(a.a)(g,function(t){return t&&t.type}),at=Object(a.a)(f,function(t){return t.SUMMARY}),lt=Object(a.a)([at,h.a],function(t,e){return t[e]}),ct=Object(a.a)(lt,function(t){return t&&t.dayOpen}),ut=Object(a.a)(lt,function(t){return t&&t._percentChange}),dt=Object(a.a)(lt,function(t){return t&&t.dayHigh}),ht=Object(a.a)(lt,function(t){return t&&t.dayLow}),pt=Object(a.a)(lt,function(t){return t&&t._change}),ft=Object(a.a)([T,k],function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return s.a.every(e,function(t){return!!t})}),mt=Object(a.a)([st,_],function(t,e){return t===l.INSTRUMENT_TYPES.FOREX&&e!==l.INSTRUMENT_CATEGORIES.CRYPTO}),gt=Object(a.a)(f,function(t){return t.TRADING_CALENDARS_SETTINGS}),vt=Object(a.a)([gt,h.a],function(t,e){return t&&t[e]}),bt=Object(a.a)(f,function(t){return t.CRYPTO_INFO||d.b}),yt=Object(a.a)([bt,h.a],function(t,e){return t[e]&&t[e].startDate}),_t=Object(a.a)([bt,h.a],function(t,e){return t[e]&&t[e].maxSupply}),wt=Object(a.a)([bt,h.a],function(t,e){return t[e]&&t[e].algorithm}),St=Object(a.a)([bt,h.a],function(t,e){return t[e]&&t[e].networkHS}),Et=Object(a.a)([bt,h.a],function(t,e){return t[e]&&t[e].twitter}),xt=Object(a.a)([bt,h.a],function(t,e){return t[e]&&t[e].coinType}),Ct=Object(a.a)([bt,h.a],function(t,e){return t[e]&&t[e].blockPr}),Tt=Object(a.a)([bt,h.a],function(t,e){return t[e]&&t[e].blockNo}),kt=Object(a.a)(f,function(t){return t.INSTRUMENT_TRADE_STATUSES}),Ot=Object(a.a)([kt,h.a],function(t,e){return t&&t[e]}),Pt=Object(a.a)(Ot,function(t){return t&&t.outOfMarketHours}),It=Object(a.a)([U,c.q,Pt],function(t,e,n){return t&&!e&&!n}),At=Object(a.a)([It,Y,B],function(t,e,n){return t&&e>0&&(n===l.TRADING_MODE.FULL||n===l.TRADING_MODE.LONG_ONLY)}),Mt=Object(a.a)([It,X,B],function(t,e,n){return t&&e>0&&(n===l.TRADING_MODE.FULL||n===l.TRADING_MODE.SHORT_ONLY)}),Nt=Object(a.a)([y,u.getPriceAlerts],function(t,e){return e[t]||[]}),Dt=Object(a.a)(Nt,function(t){return!s.a.isEmpty(t)}),Lt=Object(a.a)(f,function(t){return t.treePathsMap}),Rt=Object(a.a)([Lt,h.a],function(t,e){return t[e]}),Ft=Object(a.a)(Rt,function(t){return t&&t.elements}),Bt=Object(a.a)(Ft,function(t){return t&&t[0]&&t[0]._path&&t}),Ut=Object(a.a)(Lt,function(t){var e=t["/Trending_now/Popular/"];return s.a.map(e&&e.elements,function(t){return t.symbol})})},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(52).startWith,o=n(0);i.exports=function(){var t=document.createElement("div");t.innerHTML=n(1377);var e=o.partial(r,"field-type-"),i=o.reduce(t.children,function(t,n){return t[o.find(n.className.split(" "),e)]=o.template(o.unescape(n.outerHTML)),t},{});return{selectBox:i["field-type-select"],selectBoxOverflowWidth:function(t){return i["field-type-select"](o.extend({overflowOptions:!0},t))},countriesSelectBox:i["field-type-select-country"],multiSelect:i["field-type-multi-select"],multiSelectDefault:i["field-type-multi-select-default"],checkBox:i["field-type-checkbox"],multiCheckBox:i["field-type-multi-checkbox"],inputBox:i["field-type-input"],phoneBox:i["field-type-phone"],dateBox:i["field-type-date"],fatcaBox:i["field-type-fatca"],financialExpBox:i["field-type-financial-exp"],textArea:i["field-type-textarea"],file:i["field-type-file"],inputAddon:i["field-type-input-addon"],radio:i["field-type-radio"],radioWithDescription:i["field-type-radio-description"],datepicker:i["field-type-datepicker"],timepicker:i["field-type-timepicker"],yesNoDetails:i["field-type-yes-no-details"],textLabel:i["field-type-text-label"]}}()}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var r=n(5),o=n(0),s=n(12),a=n(2),l=o.isFunction,c=n(198),u=s.extend({name:"",className:"popup-container",events:function(){return o.extend({},o.result(s.prototype,"events"),{"click .fn-close-popup":"onPopupClose"})},template:o.template(n(1260)),getOptions:function(t){return o.extend({},{position:"absolute",caption:"",isHeaderShowed:!1,closeIconStyle:"blue",headerBgStyle:"grey",headerStyle:"default",translucent:"1",zIndex:"auto",boxWidth:"",maxBoxWidth:"",size:"default",nameClass:"",valign:"middle",halign:"center",onCloseClick:function(){},onEnterClick:function(){},ignorableByLoginMessage:!1},t)},initialize:function(t){s.prototype.initialize.apply(this,arguments),this.$el[0].addEventListener("keypress",this.onKeyPress.bind(this)),this.options.zIndex=c.getZindexForPopup(this.options.zIndex),c.addPopup({name:this.name,zIndex:this.options.zIndex})},onKeyPress:function(t){13===(t.which||t.keyCode)&&this.options.onEnterClick()},render:function(){s.prototype.render.call(this),this.$el.addClass("popup-"+this.options.position),this.$el.addClass("popup-translucent-"+this.options.translucent),this.$el.attr("id",this.cid),"auto"!=this.options.zIndex&&this.$el.css({zIndex:this.options.zIndex}),this.$el.html(r(this.template(this.getRenderTemplateData()))),this.show()},getRenderTemplateData:function(){var t=this.options,e=t.caption;return t.caption=o.isArray(e)?e:String(e).split(" "),{cid:this.cid,options:t}},showLoading:function(){return this.hide(),this.$el.find(".popup-box").addClass("loader-bg"),this},hideLoading:function(){return this.$el.find(".popup-box").removeClass("loader-bg"),this.show(),this},hide:function(){return this.$el.css("display","none"),r(document.body).removeClass("scroll-lock"),this},show:function(){return this.$el.css("display","block"),r(document.body).addClass("scroll-lock"),a.trigger("popup:stack:added",this.options),this},unbind:function(){this.undelegateEvents()},destroy:function(){this.$el[0].removeEventListener("keypress",this.onKeyPress),r(document.body).removeClass("scroll-lock"),c.deletePopup(this.name),s.prototype.destroy.call(this)},onPopupClose:function(){var t=this.options,e=t.onButtonCloseClicked;o.isFunction(e)&&e(),this.close()},close:function(){var t=this.options,e=t.onClose,n=t.onCloseClick;l(n)&&n(),l(e)&&e(),this.destroy()},setContent:function(t){this.options.nameClass&&this.$el.find(".popup-content").addClass("popup-"+this.options.nameClass),this.$el.find(".popup-body").html(t)},getPopupViewId:function(){return this.cid},getPopupElement:function(){return this.$el}});i.exports=u}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(190),r=n(101);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(191),r=n(138),o=n(82),s=n(100),a=n(81),l=n(439),c=Object.getOwnPropertyDescriptor;e.f=n(42)?c:function(t,e){if(t=o(t),e=s(e,!0),l)try{return c(t,e)}catch(t){}if(a(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e,n){var i=n(81),r=n(50),o=n(306)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},,function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){function r(t,e){this._filters=t,this._rules=e,this._errors={},this._data={}}var o=n(0);r.prototype.messages=function(t,e){return{not_empty:'The field "'+t+'" must not be empty',email:'The field "'+t+'" must be an email',regexp:'The field "'+t+'" must be a valid regular expression '+e}},r.prototype.filters={string:function(t){return String(t)},float:function(t){return parseFloat(t)},integer:function(t){return parseInt(t,10)},trim:function(t){return t.trim()},number:function(t){return String(t).replace(/[^\d.]/g,"")}},r.prototype.rules={required:function(t,e){return this.not_empty(t)},not_empty:function(t,e){return o.isArray(t)?t.length:(o.isString(t)&&(t=t.trim()),o.isObject(t)||o.isString(t)?!o.isEmpty(t):o.isNumber(t)?0!=t:t)},email:function(t,e){return/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@([a-z0-9!#$%&'*+\/=?^_`{|}~-]+(\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)+)/i.test(t)},password:function(t,e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{6,15}$/.test(t)},regexp:function(t,e){return e.test(t)},min:function(t,e){return t>=e},min_gt:function(t,e){return t>e},max_lt:function(t,e){return t<e},max:function(t,e){return t<=e},min_length:function(t,e){return t.length>=e},max_length:function(t,e){return t.length<=e},credit_card:function(t){return o.some([/^3[47][0-9]{13}$/,/^(6541|6556)[0-9]{12}$/,/^389[0-9]{11}$/,/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,/^65[4-9][0-9]{13}|64[4-9][0-9]{13}|6011[0-9]{12}|(622(?:12[6-9]|1[3-9][0-9]|[2-8][0-9][0-9]|9[01][0-9]|92[0-5])[0-9]{10})$/,/^63[7-9][0-9]{13}$/,/^(?:2131|1800|35\d{3})\d{11}$/,/^9[0-9]{15}$/,/^(6304|6706|6709|6771)[0-9]{12,15}$/,/^(5018|5020|5038|6304|6759|6761|6763)[0-9]{8,15}$/,/^5[1-5][0-9]{14}$/,/^(6334|6767)[0-9]{12}|(6334|6767)[0-9]{14}|(6334|6767)[0-9]{15}$/,/^(4903|4905|4911|4936|6333|6759)[0-9]{12}|(4903|4905|4911|4936|6333|6759)[0-9]{14}|(4903|4905|4911|4936|6333|6759)[0-9]{15}|564182[0-9]{10}|564182[0-9]{12}|564182[0-9]{13}|633110[0-9]{10}|633110[0-9]{12}|633110[0-9]{13}$/,/^(62[0-9]{14,17})$/,/^4[0-9]{12}(?:[0-9]{3})?$/,/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14})$/],function(e){return e.test(t)})},between:function(t,e,n){return o.isNumber(t)?this.min(t,e)&&this.max(t,n):this.min_length(t,e)&&this.max_length(t,n)},alpha_numeric:function(t){return new RegExp(/^[a-z0-9]+$/i).test(t)},strict_equals:function(t,e){return"function"==typeof e?t===e():void 0!==e&&"string"==typeof t&&e instanceof RegExp?!!t.match(e):t===e},not_equals:function(t,e){return t!==e},not_equals_array:function(t,e){return t.length!==e.length||!o.isEqual(o.sortBy(t,function(t){return t}),o.sortBy(e,function(t){return t}))},numeric:function(t){return new RegExp(/^[0-9]+$/i).test(t)},divisible:function(t,e,n){return n&&(t=Math.round(t*n),e=Math.round(e*n)),t%e==0}},r.prototype.addError=function(t,e,n){var i=n;if(!i){i=this.messages(e,t)[t]}this._errors[e]||(this._errors[e]=[]),this._errors[e].push(i)},r.prototype.checkRule=function(t,e,n,i){var r=i,s=i;return o.isArray(i)&&(r=o.initial(i),s=o.last(i)),!!this.rules[t].apply(this.rules,[n].concat(r))||(this.addError(t,e,s),!1)},r.prototype.errors=function(){return!o.isEmpty(this._errors)&&this._errors},r.prototype.validate=function(t){var e=this;return this._errors={},o.each(this._filters,function(n,i){if(o.isString(n))return void(t[i]=e.filters[n](t[i]));o.each(n,function(n){t[i]=e.filters[n](t[i])})}),this._data=t,o.each(this._rules,function(n,i){o.isArray(n)?o.each(n,function(n){e.checkRule(n,i,t[i])}):o.isObject(n)&&o.each(n,function(n,r){if(o.isFunction(n)){var s=n(t,i);o.isString(s)&&!o.isEmpty(s)&&e.addError(r,i,s)}else e.checkRule(r,i,t[i],n)})}),this.prepareErrors(),this.errors()},r.prototype.check=function(t){return!1===this.validate(t)},r.prototype.prepareErrors=function(){var t=this.errors();!1!==t&&(t&&(t=o.mapObject(t,function(t,e,n){return[o.first(t)]})),this._errors=t)},r.prototype.data=function(t){return this._data[t]},i.exports=r}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){"use strict";function i(){return{type:Q.f}}function r(t){return function(e,n){var i=Object(K.getInstruments)(n()),r=i.treePathsMap,s=i.defaultInstrumentTreeCategoryPath,a=Object(q.d)(t,r,s),l=r[a],c=l&&Object(q.a)(l);c&&(e({type:Q.n,payload:c&&c._pathUrl,instrumentsState:Object(K.getInstruments)(n())}),e(U()),e(o()))}}function o(){return function(t,e){t({type:Q.v,payload:Object($.getSortedInstrumentSymbols)(e())})}}function s(t){return function(e,n){var i=Object(K.getInstruments)(n()),r=i.instrumentSymbolMap;t=r[t]?t:"";var o=Object($.getSelectedInstrumentCategoryTreePath)(n()),s=Object(J.getUiSection)(n());e(X.a.contains([V.UI_SECTION_FAVORITES,V.UI_SECTION_ORDERS,V.UI_SECTION_OPEN_POSITION],s)?S(s+"/"+t,{trigger:!1}):S(s+o+t,{trigger:!1})),e(l(t))}}function a(t,e){return function(n,i){var r=Object($.getUiSelectedInstrumentCategorySymbol)(i());n(s(X.a.indexOf(t,r)>=0||!e?r:e?e:""))}}function l(t){return function(e,n){var i=Object(K.getInstruments)(n()),r=i.instrumentSymbolMap;(t=r[t]?t:null)&&(e({type:Q.m,payload:t}),Z(t))}}function c(t){return{type:Q.q,payload:t}}function u(t){return{type:Q.b,payload:t}}function d(t){return function(e,n){var i=n().ui,r=i.instrumentDetailsState,o=i.selectedInstrumentCategorySymbol;e(r===V.CLOSED?h(t):o===t?p(t):h(t))}}function h(t){return function(e,n){n().ui.instrumentDetailsState===V.CLOSED&&X.a.delay(function(){return G.a.trigger("ui:chart:reflow")},0),e({type:Q.i,symbol:t})}}function p(t){return function(e,n){n().ui.instrumentDetailsState===V.OPEN&&setTimeout(function(){return G.a.trigger("ui:chart:reflow")},0),e({type:Q.d,payload:t})}}function f(t){return function(e){e({type:Q.r,payload:t}),e(m()),e(U())}}function m(){return function(t){t(x({}))}}function g(){return function(t,e){t(f(V.UI_SECTION_TRADING));var n=e().ui.selectedInstrumentCategoryTreePath,i=X.a.compact(String(n).split("/")),r=X.a.first(i),o="tab."+r,s=__(o);t(x({title:s!==o?s:r}))}}function v(){return function(t){t(f(V.UI_SECTION_ORDERS)),t(x({title:__("tab.orders")}))}}function b(){return function(t){t(f(V.UI_SECTION_OPEN_POSITION)),t(x({title:__("tab.open_positions")}))}}function y(t){return function(t,e){t(f(V.UI_SECTION_FAVORITES)),t(x({title:__("tab.favorites")}))}}function _(){return function(t,e){t(w(Object(K.getInstruments)(e()).defaultInstrumentTreeCategoryPath))}}function w(t){return function(e,n){var i=Object(K.getInstruments)(n()),r=i.treePathsMap,o=r[t],s=o&&Object(q.a)(o);if(s){var a=Object(W.o)(X.a.pluck(s.elements,"symbol"));e(l(X.a.first(a)||""))}}}function S(t,e){return function(){G.a.navigate(t,e)}}function E(t){return function(e,n){var i=Object($.getSelectedInstrumentCategoryTreePath)(n());e({type:Q.g,payload:i}),i&&G.a.navigate("trading"+i,t)}}function x(t){return{type:Q.z,payload:t||{}}}function C(){return function(t,e){var n=X.a.first(Object($.getSelectedInstrumentCategorySymbols)(e()));t({type:Q.l,payload:n}),t(s(n))}}function T(t){return{type:Q.A,payload:t}}function k(){return{type:Q.h}}function O(){return{type:Q.c}}function P(){return{type:Q.w}}function I(t){return{type:Q.k,payload:t}}function A(t){return{type:Q.p,payload:t}}function M(t){return{type:Q.y,payload:t}}function N(){return{type:Q.u}}function D(){return{type:Q.e}}function L(t){return{type:Q.a,payload:t}}function R(){return function(t,e){t({type:Q.x,payload:{instruments:Object(K.getInstruments)(e()),selectedCategoryPath:Object($.getSelectedInstrumentCategoryTreePath)(e())}})}}function F(t){return function(e,n){var i=n(),o=(i.ui,i.user),a=i.instruments,l=o.favorites;if(X.a.indexOf(l,t)>=0)return e(f(V.UI_SECTION_FAVORITES)),e(s(t)),void G.a.trigger("ui:instrument",t,!1);var c=a.instrumentSymbolMap[t];e(r(c&&c._categoryPath)),e(R()),e(s(t)),e(f(V.UI_SECTION_TRADING))}}function B(t,e){return{type:Q.s,payload:{name:t,direction:e}}}function U(){return{type:Q.j}}function j(t){return{type:Q.t,payload:t}}function z(t){return{type:Q.o,payload:t}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"debouncedSelectInstrument",function(){return Z}),e.initAppUi=i,e.selectInstrumentCategoryTreePath=r,e.sortSelectedCategorySymbols=o,e.selectInstrumentSymbolAndUpdateUrl=s,e.updateUrlWithSelectingInstrumentSymbol=a,e.selectInstrumentCategorySymbol=l,e.setInstrumentDetailsSymbol=c,e.clearInstrumentDetailsSymbol=u,e.toggleInstrumentDetails=d,e.openInstrumentDetails=h,e.closeInstrumentDetails=p,e.setSection=f,e.clearHeader=m,e.setTradingSection=g,e.setOrdersSection=v,e.setOpenPositionsSection=b,e.setFavoritesSection=y,e.selectFirstSymbolInDefaultCategoryPath=_,e.selectFirstSymbolInCategoryPath=w,e.navigateSection=S,e.updateUrlBySelectedCategoryPath=E,e.updateHeader=x,e.selectFirstSymbolInSymbolList=C,e.updateInstrumentCategorySymbols=T,e.openAsideBox=k,e.closeAsideBox=O,e.toggleAsideBox=P,e.resizeChart=I,e.setTabIdInstrumentDetails=A,e.updateChartState=M,e.showChart=N,e.hideChart=D,e.changeInstrumentInfoVisibility=L,e.updateCategorySections=R,e.setSectionAndNavigateBySymbol=F,e.setSymbolsSort=B,e.resetSymbolsSort=U,e.setShouldInstrumentBeCentered=j,e.selectInstrumentNewsId=z;var V=n(10),H=n(2),G=n.n(H),W=n(206),q=n(296),$=n(158),Y=n(0),X=n.n(Y),K=n(78),Q=n(678),J=n(158),Z=(n(62),X.a.debounce(function(t){G.a.trigger("ui:instruments:instrument-selected",t)},10))},function(t,e,n){"use strict";n.d(e,"e",function(){return c}),n.d(e,"c",function(){return u}),n.d(e,"a",function(){return d}),n.d(e,"g",function(){return h}),n.d(e,"h",function(){return p}),n.d(e,"j",function(){return f}),n.d(e,"k",function(){return m}),n.d(e,"l",function(){return g}),n.d(e,"i",function(){return v}),n.d(e,"m",function(){return b}),n.d(e,"o",function(){return y}),n.d(e,"d",function(){return _}),n.d(e,"b",function(){return w}),n.d(e,"f",function(){return S}),n.d(e,"q",function(){return x}),n.d(e,"p",function(){return C}),n.d(e,"n",function(){return T});var i=n(44),r=n(10),o=n(0),s=n.n(o),a=n(109),l=function(t){return t.commentaries},c=Object(i.a)(l,function(t){return t.sortedItemsId}),u=Object(i.a)(l,function(t){return t.lastUpdated}),d=Object(i.a)(l,function(t){return t.all}),h=Object(i.a)([d,a.a],function(t,e){return t[e]}),p=Object(i.a)(h,function(t){return t&&t.content}),f=Object(i.a)(h,function(t){return t&&t.source}),m=Object(i.a)(h,function(t){return t&&t.sourceName}),g=Object(i.a)(h,function(t){return t&&t.title}),v=Object(i.a)(h,function(t){return t&&t.publish_date}),b=Object(i.a)(l,function(t){return t.selectedCommentaryId}),y=Object(i.a)([b,a.a],function(t,e){return t===e}),_=Object(i.a)(l,function(t){return t.newItemsId}),w=Object(i.a)(l,function(t){return t.isFirstLoad}),S=Object(i.a)(l,function(t){return t.status}),E=Object(i.a)(l,function(t){return t.selectedCommentaryStatus}),x=Object(i.a)(E,function(t){return t===r.LOADING}),C=Object(i.a)(E,function(t){return t===r.SUCCESS}),T=Object(i.a)(l,function(t){return!s.a.isEmpty(t.all)})},function(t,e,n){var i=n(64);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){"use strict";var i=n(26);t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},,,function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),s=function(){function t(e){return i(this,t),this.href=e||window.location.href,this}return r(t,[{key:"getQueryParams",value:function(){var t=this.getQueryString();return this.convertQueryToObject(t)}},{key:"convertQueryToObject",value:function(t){if(o.isString(t))return o.chain(t.split("&")).compact().map(function(t){var e=t.split("=");return[e[0],decodeURIComponent(decodeURIComponent(e[1]))]}).object().value()}},{key:"getAddress",value:function(){var t=this.href,e=t.indexOf("?");return-1===e&&(e=t.length),t.slice(0,e)}},{key:"getProtocol",value:function(t){t=t||this.href;var e=t.indexOf("//");return e=-1===e?0:e+2,t.substring(0,e)}},{key:"getDomain",value:function(t){t=t||this.href;var e=t.indexOf("//");e=-1===e?0:e+2;var n=t.indexOf("/",e);return n=-1===n?t.length:n,t.substring(e,n)}},{key:"getPort",value:function(t){t=t||this.href;var e=this.getDomain(t),n=t.indexOf(":");return-1===n?"":Number(e.substring(n+1,e.length))}},{key:"getHost",value:function(t){return t=t||this.href,this.getProtocol(t)+this.getDomain(t)}},{key:"getQueryString",value:function(){var t=this.href,e=t.indexOf("?")+1,n=t.indexOf("#");return e?n&&n>e?t.slice(e,n):t.slice(e,t.length):""}},{key:"getQueryParam",value:function(t){return this.getQueryParams()[t]}},{key:"createQueryString",value:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e=e.join("&"),o.isEmpty(e)?e:"?"+e}},{key:"deleteQueryParam",value:function(t){var e=this.getQueryString(),n=this.getQueryParams(e),i=n[t];if(void 0!==i){delete n[t];var r=this.createQueryString(n),o=window.location.pathname+r+window.location.hash;try{window.history.replaceState({},"/",o),this.href=window.location.href}catch(t){return i}return i}}},{key:"deleteAllQueryParams",value:function(){try{window.history.replaceState({},"/",window.location.pathname+window.location.hash)}catch(t){return!1}}},{key:"getDomainName",value:function(){var t=location.hostname;return t.substring(t.lastIndexOf(".",t.lastIndexOf(".")-1)+1)}},{key:"paramsToQueryString",value:function(t){return o.map(t,function(t,e){return e+"="+t}).join("&")}}],[{key:"normalize",value:function(t,e,n,i){var r=Function.prototype.call.bind(String.prototype.toLowerCase),s=Function.prototype.call.bind(String.prototype.toUpperCase);e=!!o.isBoolean(e)&&e;try{var a=t.split("/").map(function(t){return function(e){return t(e.charAt(0))+e.slice(1)}}(e?s:r)).join("/");return n&&(a.charAt(0)!==n&&(a=n+a),a.charAt(a.length-1)!==n&&(a+=n)),i&&a.charAt(a.length-1)===n?a.substring(0,a.length-1):a}catch(e){return t}}}]),t}();t.exports=new s,t.exports.Url=s,t.exports.normalize=s.normalize},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=Object.freeze({CREDIT_DEBIT_CARD:"credit_debit_card",GLOBE_PAY:"globe_pay",MONEYBOOKERS:"moneybookers",NETELLER:"neteller",PAYPAL:"paypal",UNION_PAY:"union_pay",WIRE_TRANSFER:"wire_transfer",SEA_SOLUTION:"sea_solution",properties:{credit_debit_card:{instantiate:function(){return new(n(1468))},endpoint:"/withdrawal/creditcard"},globe_pay:{instantiate:function(){return new(n(1469))},endpoint:"/withdrawal/globepay"},moneybookers:{instantiate:function(){return new(n(1470))},endpoint:"/withdrawal/moneybookers"},neteller:{instantiate:function(){return new(n(1471))},endpoint:"/withdrawal/neteller"},paypal:{instantiate:function(){return new(n(1472))},endpoint:"/withdrawal/paypal"},union_pay:{instantiate:function(){return new(n(1473))},endpoint:"/withdrawal/unionpay"},wire_transfer:{instantiate:function(){return new(n(1474))},endpoint:"/withdrawal/wiretransfer"},sea_solution:{instantiate:function(){return new(n(1475))},endpoint:"/withdrawal/seasolution"}}});i.exports={WITHDRAW_METHOD:r}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,n){n.exports={EMPTY:"EMPTY",SUCCESS:"SUCCESS",ERROR:"ERROR",LOADING:"LOADING",CANCELLED:"CANCELLED",REJECTED:"REJECTED",SELECTED:"SELECTED",MANUAL_SELECT_AMOUNT:"MANUAL_SELECT_AMOUNT",PAY_GATE:"PAY_GATE",SOLID_PAYMENTS:"SOLID_PAYMENTS",ZOTA:"ZOTA",PRAXIS:"PRAXIS"}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){"use strict";e.__esModule=!0;var i=n(760),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=r.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}},function(t,e,n){var i=n(66),r=n(48),o=n(188),s=n(156),a=n(155),l=function(t,e,n){var c,u,d,h=t&l.F,p=t&l.G,f=t&l.S,m=t&l.P,g=t&l.B,v=t&l.W,b=p?r:r[e]||(r[e]={}),y=b.prototype,_=p?i:f?i[e]:(i[e]||{}).prototype;p&&(n=e);for(c in n)(u=!h&&_&&void 0!==_[c])&&a(b,c)||(d=u?_[c]:n[c],b[c]=p&&"function"!=typeof _[c]?n[c]:g&&u?o(d,i):v&&_[c]==d?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(d):m&&"function"==typeof d?o(Function.call,d):d,m&&((b.virtual||(b.virtual={}))[c]=d,t&l.R&&y&&!y[c]&&s(y,c,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e,n){var i=n(27);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var i=n(4),r=n(57),o=n(26);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*o(function(){n(1)}),"Object",s)}},function(t,e,n){var i=n(89),r=n(190),o=n(50),s=n(35),a=n(322);t.exports=function(t,e){var n=1==t,l=2==t,c=3==t,u=4==t,d=6==t,h=5==t||d,p=e||a;return function(e,a,f){for(var m,g,v=o(e),b=r(v),y=i(a,f,3),_=s(b.length),w=0,S=n?p(e,_):l?p(e,0):void 0;_>w;w++)if((h||w in b)&&(m=b[w],g=y(m,w,v),t))if(n)S[w]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return w;case 2:S.push(m)}else if(u)return!1;return d?-1:c||u?u:S}}},,function(t,e,n){var i=n(129);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){"use strict";n.d(e,"c",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return l}),n.d(e,"h",function(){return c}),n.d(e,"g",function(){return u}),n.d(e,"l",function(){return d}),n.d(e,"k",function(){return h}),n.d(e,"f",function(){return p}),n.d(e,"b",function(){return f}),n.d(e,"j",function(){return m}),n.d(e,"i",function(){return g}),n.d(e,"a",function(){return v});var i=n(44),r=n(430),o=function(t){return t.settings},s=Object(i.a)(o,function(t){return t&&t.isAnalystsEnabled}),a=Object(i.a)(o,function(t){return t&&t.isBloggersEnabled}),l=Object(i.a)(o,function(t){return t&&t.isCustomerLevelsEnabled}),c=Object(i.a)(o,function(t){return t&&t.isInsidersEnabled}),u=Object(i.a)(o,function(t){return t&&t.isHedgeFundsEnabled}),d=Object(i.a)(o,function(t){return t&&t.isNewsSentimentEnabled}),h=Object(i.a)(o,function(t){return t&&t.isNewsFeedEnabled}),p=Object(i.a)(o,function(t){return t&&t.isEventsAndTradeEnabled}),f=Object(i.a)(o,function(t){return t&&t.isAcuityNewsSentimentEnabled}),m=function(t){return o(t)[r.b]},g=function(t){return o(t)[r.a]},v=function(t){return o(t)[r.c]}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.htmlparser2=e.convertNodeToElement=e.processNodes=void 0;var r=n(354);Object.defineProperty(e,"processNodes",{enumerable:!0,get:function(){return i(r).default}});var o=n(647);Object.defineProperty(e,"convertNodeToElement",{enumerable:!0,get:function(){return i(o).default}});var s=n(174);Object.defineProperty(e,"htmlparser2",{enumerable:!0,get:function(){return i(s).default}});var a=n(1306),l=i(a);e.default=l.default},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(45),s=n(1264),a=(n(2),o.extend({model:s,_isReady:!1,initialize:function(){o.prototype.initialize.apply(this,arguments),this._instrumentIds={}},ready:function(){this._isReady||(this._isReady=!0,this.trigger("ready"))},isReady:function(){return this._isReady},getOrderById:function(t){return this.get(t)},createOrder:function(t){var e=new this.model(t);return this.add(e),this.addInstrumentId(t.instrumentId),e},remove:function(t){var e=n(14);if(t){var i=e.getInstrumentById(t.get("instrumentId"));0===(i&&i.getOrders()||[]).length&&this.removeInstrumentId(t.get("instrumentId"))}o.prototype.remove.apply(this,arguments)},removeOrdersByIds:function(){var t=this,e=i.isArray(arguments[0])?arguments[0]:arguments;i.chain(e).map(this.get,this).each(function(e){e&&t.remove(e)})},getCancelableOrders:function(){var t=n(14);return i.filter(this.models,function(e){var n=e.getInstrumentId(),i=t.getInstrumentById(n);return!!i&&i.status.isClosable()})},addInstrumentId:function(t){this._instrumentIds[t]=!0,this.trigger("add-instrument",t)},removeInstrumentId:function(t){delete this._instrumentIds[t],this.trigger("remove-instrument",t)}}));r.exports=new a}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t,e){return e}},function(t,e,n){"use strict";if(n(42)){var i=n(123),r=n(21),o=n(26),s=n(4),a=n(234),l=n(333),c=n(89),u=n(145),d=n(138),h=n(72),p=n(147),f=n(91),m=n(35),g=n(466),v=n(141),b=n(100),y=n(81),_=n(163),w=n(27),S=n(50),E=n(319),x=n(142),C=n(84),T=n(143).f,k=n(321),O=n(139),P=n(32),I=n(103),A=n(222),M=n(193),N=n(324),D=n(165),L=n(229),R=n(144),F=n(323),B=n(458),U=n(43),j=n(83),z=U.f,V=j.f,H=r.RangeError,G=r.TypeError,W=r.Uint8Array,q=Array.prototype,$=l.ArrayBuffer,Y=l.DataView,X=I(0),K=I(2),Q=I(3),J=I(4),Z=I(5),tt=I(6),et=A(!0),nt=A(!1),it=N.values,rt=N.keys,ot=N.entries,st=q.lastIndexOf,at=q.reduce,lt=q.reduceRight,ct=q.join,ut=q.sort,dt=q.slice,ht=q.toString,pt=q.toLocaleString,ft=P("iterator"),mt=P("toStringTag"),gt=O("typed_constructor"),vt=O("def_constructor"),bt=a.CONSTR,yt=a.TYPED,_t=a.VIEW,wt=I(1,function(t,e){return Tt(M(t,t[vt]),e)}),St=o(function(){return 1===new W(new Uint16Array([1]).buffer)[0]}),Et=!!W&&!!W.prototype.set&&o(function(){new W(1).set({})}),xt=function(t,e){var n=f(t);if(n<0||n%e)throw H("Wrong offset!");return n},Ct=function(t){if(w(t)&&yt in t)return t;throw G(t+" is not a typed array!")},Tt=function(t,e){if(!(w(t)&&gt in t))throw G("It is not a typed array constructor!");return new t(e)},kt=function(t,e){return Ot(M(t,t[vt]),e)},Ot=function(t,e){for(var n=0,i=e.length,r=Tt(t,i);i>n;)r[n]=e[n++];return r},Pt=function(t,e,n){z(t,e,{get:function(){return this._d[n]}})},It=function(t){var e,n,i,r,o,s,a=S(t),l=arguments.length,u=l>1?arguments[1]:void 0,d=void 0!==u,h=k(a);if(void 0!=h&&!E(h)){for(s=h.call(a),i=[],e=0;!(o=s.next()).done;e++)i.push(o.value);a=i}for(d&&l>2&&(u=c(u,arguments[2],2)),e=0,n=m(a.length),r=Tt(this,n);n>e;e++)r[e]=d?u(a[e],e):a[e];return r},At=function(){for(var t=0,e=arguments.length,n=Tt(this,e);e>t;)n[t]=arguments[t++];return n},Mt=!!W&&o(function(){pt.call(new W(1))}),Nt=function(){return pt.apply(Mt?dt.call(Ct(this)):Ct(this),arguments)},Dt={copyWithin:function(t,e){return B.call(Ct(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return J(Ct(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return F.apply(Ct(this),arguments)},filter:function(t){return kt(this,K(Ct(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Z(Ct(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Ct(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){X(Ct(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(Ct(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(Ct(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ct.apply(Ct(this),arguments)},lastIndexOf:function(t){return st.apply(Ct(this),arguments)},map:function(t){return wt(Ct(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return at.apply(Ct(this),arguments)},reduceRight:function(t){return lt.apply(Ct(this),arguments)},reverse:function(){for(var t,e=this,n=Ct(e).length,i=Math.floor(n/2),r=0;r<i;)t=e[r],e[r++]=e[--n],e[n]=t;return e},some:function(t){return Q(Ct(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ut.call(Ct(this),t)},subarray:function(t,e){var n=Ct(this),i=n.length,r=v(t,i);return new(M(n,n[vt]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,m((void 0===e?i:v(e,i))-r))}},Lt=function(t,e){return kt(this,dt.call(Ct(this),t,e))},Rt=function(t){Ct(this);var e=xt(arguments[1],1),n=this.length,i=S(t),r=m(i.length),o=0;if(r+e>n)throw H("Wrong length!");for(;o<r;)this[e+o]=i[o++]},Ft={entries:function(){return ot.call(Ct(this))},keys:function(){return rt.call(Ct(this))},values:function(){return it.call(Ct(this))}},Bt=function(t,e){return w(t)&&t[yt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Ut=function(t,e){return Bt(t,e=b(e,!0))?d(2,t[e]):V(t,e)},jt=function(t,e,n){return!(Bt(t,e=b(e,!0))&&w(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?z(t,e,n):(t[e]=n.value,t)};bt||(j.f=Ut,U.f=jt),s(s.S+s.F*!bt,"Object",{getOwnPropertyDescriptor:Ut,defineProperty:jt}),o(function(){ht.call({})})&&(ht=pt=function(){return ct.call(this)});var zt=p({},Dt);p(zt,Ft),h(zt,ft,Ft.values),p(zt,{slice:Lt,set:Rt,constructor:function(){},toString:ht,toLocaleString:Nt}),Pt(zt,"buffer","b"),Pt(zt,"byteOffset","o"),Pt(zt,"byteLength","l"),Pt(zt,"length","e"),z(zt,mt,{get:function(){return this[yt]}}),t.exports=function(t,e,n,l){l=!!l;var c=t+(l?"Clamped":"")+"Array",d="get"+t,p="set"+t,f=r[c],v=f||{},b=f&&C(f),y=!f||!a.ABV,S={},E=f&&f.prototype,k=function(t,n){var i=t._d;return i.v[d](n*e+i.o,St)},O=function(t,n,i){var r=t._d;l&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),r.v[p](n*e+r.o,i,St)},P=function(t,e){z(t,e,{get:function(){return k(this,e)},set:function(t){return O(this,e,t)},enumerable:!0})};y?(f=n(function(t,n,i,r){u(t,f,c,"_d");var o,s,a,l,d=0,p=0;if(w(n)){if(!(n instanceof $||"ArrayBuffer"==(l=_(n))||"SharedArrayBuffer"==l))return yt in n?Ot(f,n):It.call(f,n);o=n,p=xt(i,e);var v=n.byteLength;if(void 0===r){if(v%e)throw H("Wrong length!");if((s=v-p)<0)throw H("Wrong length!")}else if((s=m(r)*e)+p>v)throw H("Wrong length!");a=s/e}else a=g(n),s=a*e,o=new $(s);for(h(t,"_d",{b:o,o:p,l:s,e:a,v:new Y(o)});d<a;)P(t,d++)}),E=f.prototype=x(zt),h(E,"constructor",f)):o(function(){f(1)})&&o(function(){new f(-1)})&&L(function(t){new f,new f(null),new f(1.5),new f(t)},!0)||(f=n(function(t,n,i,r){u(t,f,c);var o;return w(n)?n instanceof $||"ArrayBuffer"==(o=_(n))||"SharedArrayBuffer"==o?void 0!==r?new v(n,xt(i,e),r):void 0!==i?new v(n,xt(i,e)):new v(n):yt in n?Ot(f,n):It.call(f,n):new v(g(n))}),X(b!==Function.prototype?T(v).concat(T(b)):T(v),function(t){t in f||h(f,t,v[t])}),f.prototype=E,i||(E.constructor=f));var I=E[ft],A=!!I&&("values"==I.name||void 0==I.name),M=Ft.values;h(f,gt,!0),h(E,yt,c),h(E,_t,!0),h(E,vt,f),(l?new f(1)[mt]==c:mt in E)||z(E,mt,{get:function(){return c}}),S[c]=f,s(s.G+s.W+s.F*(f!=v),S),s(s.S,c,{BYTES_PER_ELEMENT:e}),s(s.S+s.F*o(function(){v.of.call(f,1)}),c,{from:It,of:At}),"BYTES_PER_ELEMENT"in E||h(E,"BYTES_PER_ELEMENT",e),s(s.P,c,Dt),R(c),s(s.P+s.F*Et,c,{set:Rt}),s(s.P+s.F*!A,c,Ft),i||E.toString==ht||(E.toString=ht),s(s.P+s.F*o(function(){new f(1).slice()}),c,{slice:Lt}),s(s.P+s.F*(o(function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()})||!o(function(){E.toLocaleString.call([1,2])})),c,{toLocaleString:Nt}),D[c]=A?I:M,i||A||h(E,ft,M)}}else t.exports=function(){}},function(t,e,n){var i=n(330),r=n(4),o=n(189)("metadata"),s=o.store||(o.store=new(n(332))),a=function(t,e,n){var r=s.get(t);if(!r){if(!n)return;s.set(t,r=new i)}var o=r.get(e);if(!o){if(!n)return;r.set(e,o=new i)}return o},l=function(t,e,n){var i=a(e,n,!1);return void 0!==i&&i.has(t)},c=function(t,e,n){var i=a(e,n,!1);return void 0===i?void 0:i.get(t)},u=function(t,e,n,i){a(n,i,!0).set(t,e)},d=function(t,e){var n=a(t,e,!1),i=[];return n&&n.forEach(function(t,e){i.push(e)}),i},h=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},p=function(t){r(r.S,"Reflect",t)};t.exports={store:s,map:a,has:l,get:c,set:u,keys:d,key:h,exp:p}},,,function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(76),s=o.extend({events:function(){return i.extend({},i.result(o.prototype,"events"),{"click input[type=checkbox]":"onChange"})},initialize:function(){o.prototype.initialize.apply(this,arguments),this.setName(this.$el.find("input").attr("name")),this.getDefaultValue()&&this.check()},value:function(){return this.$el.find("input").attr("parse-string")?String(this.$el.find("[type=checkbox]")[0].checked):this.$el.find("[type=checkbox]")[0].checked},check:function(){var t=this.$("input[type=checkbox]"),e=t[0];return t&&!this.value()&&(e.click(),e.checked||t.attr("checked",!0)),this},uncheck:function(){var t=this.$("input[type=checkbox]"),e=t[0];return t&&this.value()&&(e.click(),e.checked&&t.attr("checked",!1)),this},setChecked:function(t){!0===t?this.check():this.uncheck()},isChecked:function(){return this.value()},update:function(){var t=this.$el.find("input");this.state.disabled?t.attr("disabled","disabled"):t.removeAttr("disabled","disabled")},getDefaultValue:function(){return"true"===this.$el.find("input").attr("default-value")},getHtmlTemplate:function(){var t=this.options.template,e=i.extend({},{checked:!1},this.options);return t?t(i.pick(e,["disable","dependent","savedData","options","translationKey","name","title","checked"])):""}});r.exports=s}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"TYPE_PERSONAL",function(){return i}),n.d(e,"TYPE_PLATFORM",function(){return r}),n.d(e,"TYPE_DEFAULT",function(){return o}),n.d(e,"TAB_CHECKBOX_UNCHECKED",function(){return s}),n.d(e,"TAB_CHECKBOX_INDETERMINATE",function(){return a}),n.d(e,"TAB_CHECKBOX_CHECKED",function(){return l}),n.d(e,"MESSAGE_TYPE_PROMOTION",function(){return c}),n.d(e,"MESSAGE_TYPE_TUTORIAL",function(){return u}),n.d(e,"MESSAGE_TYPE_NEW_FEATURE",function(){return d}),n.d(e,"MESSAGE_TYPE_ALERT",function(){return h}),n.d(e,"MESSAGE_ACTION_OPEN_NEW_TAB",function(){return p}),n.d(e,"MESSAGE_ACTION_OPEN_DEEP_LINK",function(){return f}),n.d(e,"MESSAGE_ACTION_OPEN_HASH",function(){return m}),n.d(e,"MESSAGE_ACTION_CLOSE",function(){return g}),n.d(e,"MESSAGE_ACTION_OPEN_REGISTRATION_DIALOG",function(){return v}),n.d(e,"MESSAGE_ACTION_OPEN_DEPOSIT_DIALOG",function(){return b}),n.d(e,"MESSAGE_ACTION_OPEN_VERIFICATION_CENTER",function(){return y}),n.d(e,"MESSAGE_ACTION_SWITCH_TO_REAL",function(){return _}),n.d(e,"MESSAGE_ACTION_OPEN_TRADE_DIALOG",function(){return w}),n.d(e,"MESSAGE_ACTION_OPEN_INSTRUMENT_PAGE",function(){return S}),n.d(e,"MESSAGE_ACTION_INTERNAL_ACTION",function(){return E}),n.d(e,"MESSAGE_ACTION_OPEN_URL",function(){return x}),n.d(e,"API_ACTION_REMOVE",function(){return C}),n.d(e,"API_ACTION_READ",function(){return T}),n.d(e,"API_ACTION_UNREAD",function(){return k}),n.d(e,"API_ACTION_SEEN",function(){return O}),n.d(e,"API_RESPONSE_SUCCESS",function(){return P}),n.d(e,"FLOW_ON_BOARDING",function(){return I});var i="NOTIFICATION_CENTER",r="DEALING_MESSAGE",o=i,s="UNCHECKED",a="INDETERMINATE",l="CHECKED",c="Promotion",u="Tutorial",d="New Feature",h="Alert",p="openNewTab",f="openDeepLink",m="openHash",g="close",v="openRegistrationDialog",b="openDepositDialog",y="openVerificationCenter",_="switchToReal",w="openTradeDialog",S="openInstPage",E="internalAction",x="openUrl",C="remove",T="read",k="unread",O="seen",P="ok",I="flow:onBoarding"},function(t,e,n){(function(e){function i(){this.id="base.withdraw.method"}var r=n(7),o=n(6),s=n(22),a=n(96).WITHDRAW_METHOD;e.extend(i.prototype,{getId:function(){return this.id},setData:function(t){var e=r.getUserData().getCrmboCustomer(),n=r.getUserData().getAccount();this.data={commonData:{beneficiaryName:t.beneficiary,firstName:e.firstName,lastName:e.lastName,tradingAccount:Number(n.id),currency:r.getUserCurrency(),amount:t.amount,hashPassword:e.password,comment:t.comment}}},proceed:function(){var t=a.properties[this.id].endpoint;return o.withdrawRequest(s.getAtmosphereId(),t,this.data)}}),t.exports=i}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(13),o=(n(0),n(7)),s=n(9),a=n(178),l=n(49),c=l.EMPTY,u=l.TYPE_MARKET,d=l.TYPE_LIMIT,h=l.TYPE_STOP;i.exports=r.extend({order:function(){return this.get("order")},instrument:function(){return this.instrumentDriver().value()},instrumentDriver:function(){return this.get("instrumentDriver")},amount:function(){return this.get("amount")},type:function(){return this.get("type")},direction:function(){return this.get("direction")},conversion:function(){return this.get("conversion")},requiredMargin:function(){return this.get("requiredMargin")},entry:function(){return this.get("entry")},gsl:function(){return this.get("gsl")},stopLoss:function(){return this.get("stopLoss")},takeProfit:function(){return this.get("takeProfit")},setEntry:function(t){this.set("entry",t)},removeEntry:function(){this.set("entry",0)},isSell:function(){return this.direction().isSell()},isBuy:function(){return this.direction().isBuy()},setConversion:function(t){this.set({conversion:t})},setRequiredMargin:function(t){this.set({requiredMargin:t})},statusOfInstrument:function(){return this.instrumentDriver().get("statusOfInstrument")},statusOfInstrumentInfo:function(){return this.instrumentDriver().get("statusOfInstrumentInfo")},statusOfAmount:function(){return this.amount().get("statusOfAmount")},getCommonData:function(){var t=this.amount(),e=this.type(),n=e.value()!==u?this.entry():0,i=this.direction(),r=this.instrument(),a=this.conversion(),l=this.requiredMargin(),c=r&&r.getBid(),p=r&&r.getAsk(),f=i?i.isBuy()?r?r.getAsk():0:r?r.getBid():0:0,m=i?i.isBuy()?r?r.getBid():0:r?r.getAsk():0:0,g=n&&Number(n.value()),v=l&&l.get("calculated");return{bid:c,ask:p,isEntry:!!n,entryPrice:g,price:n?g:f,currentSellPrice:c,currentBuyPrice:p,currentPrice:f,currentOppositePrice:m,isBuy:i&&i.isBuy(),isSell:i&&i.isSell(),amount:t&&t.value(),requiredMargin:l&&l.value(),calculatedRequiredMargin:v,calculatedRequiredMarginInAccountCurrency:v&&Number(v.requiredMarginInAccountCurrency),power:o.getUserAccountMetricsModel().getBuyingPower(),maxOrderSize:r&&r.getMaxOrderSize(),minOrderSize:r&&r.getMinOrderSize(),minOrderIncrement:r&&r.getMinOrderIncrement(),precision:r&&r.getPrecision(),pipsPrecision:r&&r.getPipsPrecision(),precisionSize:r&&r.getPrecisionSize(),pipsPrecisionSize:r&&r.getPipsPrecisionSize(),diffPipsPrecision:r&&r.getPipsPrecisionDiff(),isFractionalAmountEnabled:r&&r.isFractionalAmountEnabled(),isAmountWordUsed:r&&r.isAmountWordUsed(),limitStopDistance:r&&r.getLimitStopDistance(),defaultDistancePipsMultiplier:s.getDefaultDistancePipsMultiplier(),conversionRate:a&&a.value()||1,lotSize:r&&(r.isTypeForex()?1:r.getLotSize()),marginRate:r&&r.getMarginRate(),isEntryLimit:n&&n.name===d,isEntryStop:n&&n.name===h,gsl:this.gsl(),currency:o.getUserCurrencySymbol()}},divisible:function(t,e,n){return n&&(t=Math.round(t*n),e=Math.round(e*n)),t%e==0},minOrderDistance:function(t){var e=this.getCommonData(),n=e.limitStopDistance,i=e.pipsPrecisionSize,r=e.precision,o=e.defaultDistancePipsMultiplier,s=void 0;return o=o.toFixed(r),n=Number(n).toFixed(r),s=t?n*i:n*o*i,Number(Number(s).toFixed(r))},minAllowedOrderDistance:function(){var t=this.getCommonData(),e=t.precision,n=t.limitStopDistance,i=t.pipsPrecisionSize;return Number((n*i).toFixed(e))},roundPrice:function(t,e){return this.getCommonData().isBuy?a.roundUp(t,e):a.roundDown(t,e)},getSpread:function(){var t=this.getCommonData(),e=t.ask,n=t.bid,i=t.amount,r=t.conversionRate;return i!==c?Number((e-n)*(i||1)*r).toFixed(2):0}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(1),a=n.n(s),l=n(0),c=n.n(l),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),d=function(t){function e(){i(this,e);var t=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.updateDimensions=c.a.debounce(function(){t.setState({width:window.innerWidth})},300),t.state={width:window.innerWidth},t}return o(e,t),u(e,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){var t=this.props,e=t.maxWidth,n=t.minWidth,i=t.children,r=this.state.width;return e&&n?n<=r&&e>=r?i:null:e&&!n?e>=r?i:null:!e&&n?n<=r?i:null:void 0}}]),e}(a.a.Component);e.default=d},function(t,e,n){(function(i){function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a,l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0!==(a=function(t,e,i){var a=n(0),c=n(3),u=n(9),d=n(10),h=d.MILLISECONDS,p=d.MINUTES,f=Symbol("scoped"),m=function(){function t(){s(this,t),this[f]={},this[f].offset=0}return l(t,[{key:"getOffset",value:function(){return this[f].offset}},{key:"getOffsetAs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=a.capitalize(t);return c.duration(this[f].offset)["as"+e]()}},{key:"getInvertedOffsetAs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return-1*this.getOffsetAs(t)}},{key:"getUserTimezoneObjectItem",value:function(){return{offset:this.getOffsetAs(h),gmt:this.GMTPostfix()}}},{key:"getTimestamp",value:function(){return Date.now()}},{key:"getTimestampAsUTC",value:function(){return this.applyOffsetToTimestamp()}},{key:"getMoment",value:function(){return c()}},{key:"setDateAsNewDate",value:function(t,e){if(!t)return new Date;var n=-1*(new Date).getTimezoneOffset();return c.utc(t,e).utcOffset(n-this.getOffsetAs(p),!0).toDate()}},{key:"setTimestampAsNewDate",value:function(t){return c.utc(t).utcOffset(this.getInvertedOffsetAs(p),!0).toDate()}},{key:"setDateToMoment",value:function(t,e){return c.utc(t,e).utcOffset(this.getOffsetAs(p))}},{key:"setDateObjectToMoment",value:function(t){var e=-1*t.getTimezoneOffset();return c.utc(t).utcOffset(e+this.getOffsetAs(p))}},{key:"setTimestampToMoment",value:function(t){return c.utc(t).utcOffset(this.getOffsetAs(p),!1)}},{key:"setDateToTimestamp",value:function(t,e){return c.utc(t,e).utcOffset(this.getInvertedOffsetAs(p),!0).valueOf()}},{key:"convertDateAsNewDate",value:function(t,e){return c(t,e).toDate()}},{key:"convertTimestampAsNewDate",value:function(t){return c(t).toDate()}},{key:"convertDateToMoment",value:function(t,e){return c(t,e)}},{key:"convertTimestampToMoment",value:function(t){return c(t)}},{key:"convertDateToTimestamp",value:function(t,e){return c(t,e).valueOf()}},{key:"formatDate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY HH:mm",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"DD/MM/YYYY HH:mm";return c(t,e).format(n)}},{key:"formatUTCDate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY HH:mm",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"DD/MM/YYYY HH:mm";return c.utc(t,e).format(n)}},{key:"formatTimestamp",value:function(t,e){return c(t).format(e)}},{key:"formatUTCTimestamp",value:function(t,e){return c.utc(t).format(e)}},{key:"applyOffsetToTimestamp",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e?c.utc(t).utcOffset(n?this.getInvertedOffsetAs(p):this.getOffsetAs(p)).format(e):c.utc(t).utcOffset(n?this.getOffsetAs(p):this.getInvertedOffsetAs(p),!0).valueOf()}},{key:"applyOffset",value:function(t,e,n){return c.utc(t,e).utcOffset(this.getOffsetAs(p)).format(n)}},{key:"GMTPostfix",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GMT",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.formatOffset();return""+(t=""===n?t:t+" ")+n+e}},{key:"formatOffset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"H",e=0===this[f].offset?"":this[f].offset>0?"+":"-";t=+this[f].offset%3600>0?t+":mm":t;var n=c.utc(Math.abs(this[f].offset)).format(t);return""+e+("0"===n?"":n)}}]),t}(),g=function(t){function e(){var t;s(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),o=n(7);return i[f].offset=o.getUserCommonData().getUserTimezoneObject().offset,t=i,r(i,t)}return o(e,t),e}(m),v=function(t){function e(){var t;s(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),i=new Date;return n[f].offset=c.duration(-1*i.getTimezoneOffset(),p).asMilliseconds(),t=n,r(n,t)}return o(e,t),e}(m),b=function(t){function e(t){var n;s(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(!Number.isInteger(t))throw new Error("Argument should be Int");return i[f].offset=t,n=i,r(i,n)}return o(e,t),e}(m),y=function(){function t(){s(this,t)}return l(t,[{key:"defined",value:function(t){return new b(t)}},{key:"user",get:function(){return u.isTimezoneEnabled()?new g:new m}},{key:"local",get:function(){return new v}},{key:"default",get:function(){return new m}}]),t}();i.exports=new y}.call(e,n,e,t))&&(t.exports=a)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=n(133),s=n(40),a=n(14),l=n(431),c=n(432);i.exports=r.createClass({displayName:"exports",getDefaultProps:function(){return{type:"Buy",className:"",display:"",standardLayout:!0,onClick:function(){}}},getInitialState:function(){return{type:this.props.type,id:this.props.model.get("instrumentId"),rate:this.props.model.get(this.props.column.key),eventName:"change:"+this.props.column.key,eventNameDirection:"change:"+this.props.column.direction,dir:this.props.model.get(this.props.column.direction)}},componentDidMount:function(){this.props.model.on(this.state.eventName,this.update,this),this.props.model.on(this.state.eventNameDirection,this.update,this),this.props.model.on("change:buyTradable",this.update,this),this.props.model.on("change:sellTradable",this.update,this)},componentWillUnmount:function(){this.props.model.off(this.state.eventName,this.update,this),this.props.model.off(this.state.eventNameDirection,this.update,this),this.props.model.off("change:buyTradable",this.update,this),this.props.model.off("change:sellTradable",this.update,this)},update:function(){this.setState({id:this.props.model.get("instrumentId"),dir:this.props.model.get(this.props.column.direction),rate:this.props.model.get(this.props.column.key)})},render:function(){var t=a.getInstrumentBySymbol(this.props.model.attributes.symbol),e=t.getPrecision(),n=t.getPipsPrecision(),i=Number(this.state.rate).toFixed(e);i=0===i?"":i;var u=["rate-with-button",this.props.display,this.props.className],d=this.state.type.toLowerCase(),h="buy"===d?l:c;return this.props.standardLayout?r.createElement("td",{className:u.join(" ")},r.createElement("div",null,r.createElement("div",{className:"rate"},r.createElement(o,{dir:this.state.dir,value:i,precision:e,pipsPrecision:n,positiveSymbol:"",alwaysPrecision:!0,shouldZeroHide:!0,greynessDelay:s.rateGraynessDelayMs})),r.createElement("div",{className:"button"},r.createElement(h,{type:"primary",size:"xs",id:t.getInstrumentId(),model:t,onClick:this.props.onClick},__("actions."+d))))):r.createElement("td",{className:u.join(" ")},r.createElement("div",{className:"button"},r.createElement(h,{type:"primary",size:"xs",id:t.getInstrumentId(),model:t,onClick:this.props.onClick},r.createElement("div",{className:"caption"},__("actions."+d)),r.createElement("div",{className:"rate"},r.createElement(o,{dir:this.state.dir,value:i,precision:e,pipsPrecision:n,positiveSymbol:"",alwaysPrecision:!0,shouldZeroHide:!0,greynessDelay:s.rateGraynessDelayMs})))))}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i=n(105),r=n(751),o=n(389),s=Object.defineProperty;e.f=n(130)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){function o(t){return t&&t.newCustomer&&(t.crmboCustomerId?(l.trackFBEvent("Lead"),s.trigger("gtm:lead",t.userData),l.trackDcmEvent("leadw",t.crmboCustomerId)):window.__eventos("test:dcm:missingUser",{},!0)),Promise.resolve(t)}var s=n(2),a=n(9),l=n(75),c=n(258).DEVICES,u=n(0);i.exports={addScript:function(t){return new Promise(function(e){var n=document.createElement("script");n.onload=e,n.src=t,document.getElementsByTagName("head")[0].appendChild(n)})},closeOneTap:function(){googleyolo&&googleyolo.cancelLastOperation()},makeExternalAuth:function(t,e,i){var s=n(7),a=n(199),d={token:t,locale:__("lang"),appSource:c[a.device()],registrationSource:i,params:u.extend({uid:l.getMachineId()},l.getAffiliateTracking(),l.getLoginTracking(),l.getReferrer())};return r("input[name='registration[currency]']")&&r("input[name='registration[currency]']:checked").val()&&(d.currency=r("input[name='registration[currency]']:checked").val()),s.externalAuthLogin(d,e).then(function(t){return o(t.data)}).catch(function(t){var e=t.response,i="";if(400===e.status)switch(e.data.errorCode){case 2026:i=__("create.account.restricted");break;case 2008:i=__("create.account.exist")+'<br><a href="#forgetpassword" id="auth-forgot-password-link">'+__("create.account.exist.have_account")+"</a>";break;case 100001:i=__("social.login.user.empty.email");break;default:i="Unknown error"}var o=u.template(n(127));return r(".form .error-block").html(o({errors:[[i]]})),r(".form .error-block").css("display","block"),Promise.reject(t)})},saveSelectedAuthMethod:function(t){localStorage.authMethod=t},getSelectedAuthMethod:function(t){return localStorage.authMethod},isExternalLoginDetected:function(){return u.contains(["google","facebook","tap"],localStorage.authMethod)},externalLogout:function(){if(a.isSocialLoginEnabled()){var t=n(666),e=n(667),i=n(668);return Promise.all([t.logout(),e.logout(),i.logout()]).then(function(){localStorage.removeItem("authMethod")})}}}}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports=!1},function(t,e,n){var i=n(139)("meta"),r=n(27),o=n(81),s=n(43).f,a=0,l=Object.isExtensible||function(){return!0},c=!n(26)(function(){return l(Object.preventExtensions({}))}),u=function(t){s(t,i,{value:{i:"O"+ ++a,w:{}}})},d=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[i].i},h=function(t,e){if(!o(t,i)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[i].w},p=function(t){return c&&f.NEED&&l(t)&&!o(t,i)&&u(t),t},f=t.exports={KEY:i,NEED:!1,fastKey:d,getWeak:h,onFreeze:p}},function(t,e,n){var i=n(32)("unscopables"),r=Array.prototype;void 0==r[i]&&n(72)(r,i,{}),t.exports=function(t){r[i][t]=!0}},,function(t,e){t.exports='<% _.each(errors, function(v, i) { %> <% _.each(v, function(errorMessage) { %> <div class="row"><div class="col-sm-12 error-message"><i class="icon-warning"></i> <%=errorMessage%> </div></div> <% }); %> <% }); %>'},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){function r(t){if(t.length){t.find(".dk-select-options").attr("aria-expanded",!1),t.find(".dk-selected")[0].focus();var e=s(t[0].previousElementSibling).find("select");if("EMPTY"===e.val()){var n=e[0].options[1];t.find(".dk-selected").html(n.text),e.val(n.value).trigger("change"),e.attr("default-value",n.value),s(t).parent().removeClass("field-error"),(t.hasClass("dk-day")||t.hasClass("dk-month")||t.hasClass("dk-year"))&&t.addClass("field-ok")}}}var o=n(76),s=n(5),a=n(0),l=n(367).default,c=o.extend({events:function(){return a.extend({},a.result(o.prototype,"events"),{"click .dk-selected":"toggleList",keydown:"keyAction"})},defaultOnClientEvent:function(t){this.closeSelectBox(t)},destroy:function(){o.prototype.destroy.call(this)},getHeightToOpen:function(){var t=this.$el.find(".dk-select-options")[0];return t.offsetHeight+t.offsetTop},toggleList:function(t){var e=s(t.target).parent();if("true"!==e.find(".dk-select-options").attr("aria-expanded")){if(e.trigger("click"),e.addClass("dk-select-open-down").find(".dk-select-options").attr("aria-expanded",!0),this.parent&&this.options.overflowComponentSelector){var n=this.parent.parentElement.offsetTop+this.getHeightToOpen(),i=l(this.$el,this.options.overflowComponentSelector);n>i.offsetHeight+i.offsetTop&&(e.removeClass("dk-select-open-down"),e.addClass("dk-select-open-up"))}var r=e.find("li"),o=e.find("li.selected");r.on("mouseover",function(t){r.removeClass("selected"),o=s(t.currentTarget).addClass("selected")})}else e.removeClass("dk-select-open-down dk-select-open-up").find(".dk-select-options").attr("aria-expanded",!1);t.target.focus(),t.stopPropagation()},keyAction:function(t){if(s(t.target).hasClass("dk-selected")){var e=s(t.target).parent(),n=e.find("li"),i=e.find("li.selected");i=this.processKey(t,i,e,n),i.length&&!this.options.disableChangeByKeyboard&&(s(t.target).html(this.options.getValueFunction(i)),this.options.setValueFunction(e,i.attr("data-value")),e.removeClass("field-error"))}},shouldClose:function(t){return!(t.target===this.el||this.el.contains(t.target))},closeSelectBox:function(t){if(this.shouldClose(t)){var e=this.$el.find(".dk-select.dk-select-open-down").removeClass("dk-select-open-down"),n=this.$el.find(".dk-select.dk-select-open-up").removeClass("dk-select-open-up");r(e),r(n)}}});i.exports=c}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(180)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=n(1),o=n.n(r),s=n(29),a=n.n(s),l=n(185),c=n.n(l),u=n(1376),d=n.n(u),h=n(79),p=n.n(h),f=n(0),m=n.n(f),g=n(11),v=n.n(g),b=n(1378),y=(n.n(b),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}),_=c.a.extend({initialize:function(){var t=this;c.a.prototype.initialize.apply(this,arguments),this._events={onchange:function(e){return t.options.onChange(e)}}}}),w=d.a.extend({initialize:function(){var t=this;d.a.prototype.initialize.apply(this,arguments),this._events={onchange:function(e){return t.options.onChange(e)}}},getHtmlTemplate:c.a.prototype.getHtmlTemplate});e.a=a()({displayName:"Dropdown",getDefaultProps:function(){return{as:"div",name:"dropdown",title:"",options:[],selected:"",isDisabled:!1,onChange:m.a.noop,childClassName:null,emptyText:void 0,defaultValue:void 0,overflowComponentSelector:"",transformOptionText:function(t){return t},transformOptionsValue:function(t){return t},transformOptionToAriaLabel:function(t){return""},isOptionDisabled:function(t){return!1},multiselect:!1,totalSelectedText:void 0,resetText:void 0,allTranslationKey:""}},getComposedOptions:function(){var t=this;return{className:this.props.childClassName,name:this.props.name,options:this.props.options,selected:this.props.selected,disable:this.props.isDisabled,template:this.props.multiselect?p.a.multiSelectDefault:p.a.selectBox,translationKey:"",allTranslationKey:this.props.allTranslationKey,translationGroupPrefix:"",dependent:"",totalSelectedText:this.props.totalSelectedText,resetText:this.props.resetText,disableChangeByKeyboard:!0,transformOptionsValue:this.props.transformOptionsValue,transformOptionToAriaLabel:this.props.transformOptionToAriaLabel,isOptionDisabled:this.props.isOptionDisabled,transformOptionText:this.props.transformOptionText,title:this.props.title,emptyText:this.props.emptyText,defaultValue:this.props.defaultValue,onChange:function(){return t.onChange()},overflowComponentSelector:this.props.overflowComponentSelector}},componentDidMount:function(){this.createField()},getValue:function(){return this.field&&this.field.value()},setValue:function(t){this.field&&this.field.value(t)},createField:function(){this.field||(this.field=new(this.props.multiselect?w:_)(y({parent:this.refs.el},this.getComposedOptions())),this.field.value(this.props.selected),this.field.render())},destroyField:function(){this.field&&(this.field.remove(),this.field=null)},onChange:function(t){this.props.onChange(this.field.value())},componentWillUnmount:function(){this.destroyField()},componentDidUpdate:function(){this.destroyField(),this.createField()},render:function(){var t=m.a.omit(this.props,["allTranslationKey","resetText","totalSelectedText","multiselect","children","overflowComponentSelector","options","selected","onChange","childClassName","transformOptionText","emptyText","defaultValue","transformOptionsValue","transformOptionToAriaLabel","name","title","isOptionDisabled","isDisabled"]),e=v()(i({"dropdown-component":!0},this.props.className,!!this.props.className));return o.a.createElement(t.as,y({},t,{ref:"el",className:e}))}})},,function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){function r(t){var e=t.val.split(".");return 1===e.length?[t.symbol+t.prefix+e[0]+t.postfix]:(e[1]=e[1]||"",[t.symbol+t.prefix+e[0],".",e[1]+t.postfix])}var o=n(1),s=n(0),a=n(52),l=o.createClass({displayName:"Change",getDefaultProps:function(){return{inline:!1,dir:null,value:0,precision:0,pipsPrecision:0,prefix:"",postfix:"",positiveSymbol:"",negativeSymbol:"-",alwaysPrecision:!1,shouldZeroHide:!1,greynessDelay:!1,bold:!1,text:"",className:""}},getInitialState:function(){return{greyness:!1,currentDirection:this.props.dir,value:this.props.value}},componentWillUnmount:function(){this.clearGreynessTimeout()},componentWillMount:function(){this.createGreynessTimeout()},componentWillUpdate:function(t,e){if(!1!==this.props.greynessDelay){var n=t.dir;0!=n&&(e.currentDirection=n,this.createGreynessTimeout())}},clearGreynessTimeout:function(){if(!1!==this.props.greynessDelay){var t=this.fnGreynessDelay;t&&t()}},createGreynessTimeout:function(){var t=this,e=this.props.greynessDelay,n=this.fnGreynessDelay;if(!1!==e){n&&n();this.fnGreynessDelay=function(){var n=function(){return t.setState({currentDirection:0})},i=setTimeout(function(){return n()},e);return function(){i&&clearTimeout(i),t.fnGreynessDelay=null}}()}},render:function(){var t=this.state,e=this.props,n={"-1":"down",0:"equally",1:"up"},i=Number(e.value),l=0==i?"equally":i>0?"up":"down",c=i>=0?e.positiveSymbol:e.negativeSymbol,u=i%1?e.precision:0,d=!1!==e.precision,h=e.dir,p=e.greynessDelay,f=t.currentDirection,m=(t.greyness,e.text);!0===e.alwaysPrecision&&(u=e.precision),s.isNull(h)||!1===p||(l=n[f]);var g=["change",l,e.className].join(" ");!1===e.value||0!==i||e.shouldZeroHide||null!==h?!s.isNumber(i)||s.isNaN(i)||0==i&&!1===e.alwaysPrecision?i="":(i=Math.abs(i),0==i&&e.shouldZeroHide?(i="",m=""):(i=d?i.toFixed(u):String(i),i=r({symbol:c||"",prefix:e.prefix||"",postfix:e.postfix||"",val:i}))):i=[e.prefix,"0.00",e.postfix];var v=void 0;if(!0===e.inline)v=o.createElement("span",{className:g},i);else{if(!i)return null;i=i.join(""),"%"!==i.substr(i.length-1)?(i=a.divideValueByPipSize(i,e.pipsPrecision),v=o.createElement("div",{className:g},o.createElement("span",null,i.map(function(t,e){return t.isBigDigits?o.createElement("i",{key:e},t.value):t.value})))):v=o.createElement("div",{className:g},o.createElement("span",null,i||" "))}return v=!0===e.bold?o.createElement("b",null,v):v,m?o.createElement("span",null,m," ",v):v}});i.exports=l}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var o;void 0!==(o=function(t,e,i){var o=n(45),s=n(1173),a=n(676),l=n(2),c=n(0),u=n(95).normalize,d=n(6),h=n(274),p=h.loadInstrumentsSuccess,f=o.extend({_selectedCategory:null,_isFakeData:!1,overnightInterestTime:null,_theMostDeepestCategoryMap:{},_theMostDeepestCategoryMapArray:[],_instrumentSymbolMap:{},_instrumentIdMap:{},setData:function(t){this.data=t,t=this.transform(t),this.initTheMostDeepestCategoryMap(t),this.setSelectedCategory(this.getFirstCategory()),o.prototype.set.apply(this,arguments)},transform:function(t){var e=this,n=this._instrumentSymbolMap,i=this._instrumentIdMap;return function t(o,l,u){return c.map(o,function(o){var d=c.isArray(o.elements),h=o.symbol||o.name;if(o.isCategory=!!d,o.isInstrument=!d,o.categoryList=o.isInstrument?[].concat(r(u)):[].concat(r(u),[o.category]),d)return o.elements=t(o.elements,o,o.categoryList),o;o.id,o.basket=a.getBasketData(h),-1===o.category.indexOf(l.category)&&(o.category+="."+l.category);var p=e.getInstrumentBySymbol(h);return p?p.set(o):p=new s(o),n[h]=p,i[o.id]=p,p})}(t,{},[])},setFakeData:function(t){this._isFakeData=t},isFakeData:function(){return this._isFakeData},clean:function(){this._selectedCategory=null,this._theMostDeepestCategoryMap={},this._theMostDeepestCategoryMapArray=[],this._instrumentSymbolMap={},this.reset()},initTheMostDeepestCategoryMap:function(t){var e=this._theMostDeepestCategoryMap,n=this._theMostDeepestCategoryMapArray;!function t(i,r){for(var o=0;o<i.length;o++){if(!(i[o]instanceof Backbone.Model)){var s=i[o].category,a=i[o].elements,l=a[0]instanceof Backbone.Model;r=u(r,!0,"/");var c=u(r+s,!0,"/");i[o].parentPath=r,i[o].path=c,s&&a&&(t(a,c,l),l&&(e[c]=i[o],n.push(i[o])))}}}(t,"/")},setSelectedCategory:function(t){if(t&&this._selectedCategory!==t)return this._selectedCategory=t,l.trigger("instruments:category:changed",[t]),this},getSelectedCategory:function(){return this._selectedCategory},getCategoryName:function(t){return t?(t.category.charAt(0).toUpperCase()+t.category.slice(1)).replace(new RegExp("_","g")," "):null},getSelectedCategoryName:function(){return this.getCategoryName(this.getSelectedCategory())},getSelectedCategoryInstruments:function(){return this.getInstrumentsByCategory(this._selectedCategory)},getInstrumentsByCategoryPath:function(t){return this._theMostDeepestCategoryMap[t]?this._theMostDeepestCategoryMap[t].elements:[]},getInstrumentsByCategory:function(t){return t?t.elements:[]},getPopularCategory:function(){return this.getCategoryByName("popular")},getInstrumentById:function(t){return this._instrumentIdMap[t]},getInstrumentBySymbol:function(t,e){return e?(t=t.toLowerCase(),this._instrumentSymbolMap[c.findKey(this._instrumentSymbolMap,function(e,n){return n.toLowerCase()===t})]):this._instrumentSymbolMap[t]},getCategoryByPath:function(t){return this._theMostDeepestCategoryMap[t]},getCategoryByName:function(t){return c.chain(this._theMostDeepestCategoryMapArray).filter(function(e){return e.category===t}).first().value()},getInstrumentCategory:function(t){return c.find(this._theMostDeepestCategoryMapArray,function(e){if(c.find(e.elements,function(e){return e.id===t}))return e})},getData:function(){return this.data},getAllInstruments:function(){return this._instrumentSymbolMap},filterInstruments:function(t){return c.filter(this._instrumentSymbolMap,t)},createInstrument:function(t){t.basket=a.getBasketData(t.symbol),t.id=t.instrumentId,t.name=t.displayName;var e=new s(t);return this._instrumentSymbolMap[e.getSymbol()]=e,this._instrumentIdMap[e.getInstrumentId()]=e,e},setSelectedCategoryByPath:function(t){var e=this.getCategoryByPath(t);this.setSelectedCategory(e)},getSelectedCategoryPath:function(){var t=this.getSelectedCategory();return t&&t.path},getFirstCategory:function(){return c.first(this._theMostDeepestCategoryMapArray)},getFirstCategoryPath:function(){var t=c.first(this._theMostDeepestCategoryMapArray);return t?t.path:""},load:function(){return l.trigger("instruments:load:before"),d.loadInstruments().then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this))},loadSuccess:function(t){return store.dispatch(p(JSON.parse(JSON.stringify(t.data)))),this.clean(),this.setData(t.data),this.setFakeData(!1),l.trigger("instruments:load:after"),Promise.resolve(t)},loadError:function(t){return l.trigger("instruments:load:after"),Promise.reject(t)},analyzePath:function(t){var e={categoryPath:null,category:null,instrument:null,instrumentSymbol:null};if(!t)return e;for(var n=t.split("/"),i=c.compact(n),r=[],o="";i.length;){var s=i.join("/");if(o=this.getCategoryByPath("/"+s+"/"))break;r.splice(0,0,i.pop())}var a=r.join("/");return{categoryPath:o&&o.path,category:o,instrument:this.getInstrumentBySymbol(a),instrumentSymbol:a}},isAmountWordUsed:function(t){var e=this.getInstrumentBySymbol(t);return e&&e.isAmountWordUsed()}});i.exports=new f}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0))},function(t,e,n){var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};void 0!==(i=function(t,e,n){function i(t,e,n){return function(i){var o=i.keyCode||i.which,s=a[o],l=e;s&&("object"==(void 0===t?"undefined":r(t))?l=t[s]:s!==t&&(l=null),"function"==typeof l&&l.call(n,i))}}function o(t,e,n){this.handle=i(t,e,n),document.addEventListener("keydown",this.handle,!1)}function s(t,e,n){return new o(t,e,n)}var a={13:"enter",27:"escape"};o.prototype.off=function(){document.removeEventListener("keydown",this.handle),this.handle=null},n.exports=s}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){"use strict";function i(t){return{type:m.h,payload:t}}function r(t){return{type:m.i,payload:t}}function o(t){return{type:m.k,payload:t}}function s(t){return{type:m.g,payload:t}}function a(t){return function(e){e({type:m.a,payload:t}),e(h())}}function l(t){return function(e){e({type:m.b,payload:t}),e(h())}}function c(t){return function(e,n){var i=n().user,r=i.favoriteSymbols;i.favorites;e(-1===r.indexOf(t)?a(t):l(t))}}function u(t){return{type:m.f,payload:t}}function d(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,i){var r=i().user.favorites;f.a.isArray(t)&&!f.a.isEmpty(t)&&!f.a.isEqual(r,t)&&(n({type:m.j,payload:t}),e&&n(h()))}}function h(){return function(t,e){t({types:[m.c,m.e,m.d],callApi:function(){return v.a.storeSettings({favorites:e().user.favorites})}})}}Object.defineProperty(e,"__esModule",{value:!0}),e.updateAccountMetrics=i,e.updateAccountSettings=r,e.setUserPendingDeposit=o,e.totals=s,e.addFavoriteInstrument=a,e.removeFavoriteInstrument=l,e.toggleFavoriteInstrument=c,e.setFavoriteInstruments=u,e.updateFavorites=d,e.saveFavorites=h;var p=n(0),f=n.n(p),m=n(360),g=n(6),v=n.n(g)},function(t,e,n){(function(i){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0!==(o=function(t,e,i){var o=n(2),a=n(0),l=n(40),c=n(95),u=n(10),d=u.PATH_PARAM_NAME,h=u.PATH_SYNC_PARAM_NAME,p=u.VISIBLE,f=n(694),m=f.setDeepLinks,g=f.updateDeepLinks,v=f.clearDeepLinks,b=n(87),y=b.updateUrlBySelectedCategoryPath,_=b.openInstrumentDetails,w=b.setSectionAndNavigateBySymbol,S=b.changeInstrumentInfoVisibility,E=n(694),x=(E.clearDeepLinkParam,function(){function t(){r(this,t),this.path=null,this.mainMenu={map:{popular:"trading",openposlist:"open-positions",poshist:"closed-positions",orders:"orders",ordlist:"canceled-orders",closedPositions:"closed-positions",favorites:"favorites",alerts:"price-alerts"},active:null}}return s(t,[{key:"isDetected",value:function(){var t=this.get(d)||this.get(h);return!a.isEmpty(this.getParams())||!!t&&void 0}},{key:"getParams",value:function(){return store.getState().deepLinks.list}},{key:"setParams",value:function(){var t=c.getQueryParams();return!a.isEmpty(t)&&(c.deleteAllQueryParams(),store.dispatch(m(t)),!0)}},{key:"updateParams",value:function(t){if(!a.isString(t)||a.isEmpty(t))return!1;var e=new c.Url(t).getQueryParams();return!a.isEmpty(e)&&(c.deleteAllQueryParams(),store.dispatch(g(e)),!0)}},{key:"clearParams",value:function(){store.dispatch(v())}},{key:"isPlatformSwitchingNeeded",value:function(t){var e=this.getPlatform();return!!e&&e!==String(t).toLowerCase()}},{key:"getQueryString",value:function(){var t=window.location.href,e=t.indexOf("?"),n=t.indexOf("#");return e<0?"":t.slice(e,n<0?void 0:n)}},{key:"get",value:function(t){return c.getQueryParams()[t]||null}},{key:"getPlatform",value:function(){var t=String(store.getState().deepLinks.list.platform).toLowerCase();return a.contains(["live","demo"],t)?t:null}},{key:"navigateOnTab",value:function(t){this.mainMenu.active=t,o.navigate(this.mainMenu.map[t])}},{key:"path_videoTutorial",value:function(t){t||o.trigger("ui:tutorials")}},{key:"path_indicators",value:function(t){t||o.trigger("ui:chart-indicator-settings:show")}},{key:"path_popular",value:function(t){this.navigateOnTab("popular")}},{key:"path_favorites",value:function(t){this.navigateOnTab("favorites")}},{key:"path_poshist",value:function(t){this.navigateOnTab("poshist")}},{key:"path_orders",value:function(t){this.navigateOnTab("orders")}},{key:"path_openposlist",value:function(t){this.navigateOnTab("openposlist")}},{key:"path_load_acc_stat",value:function(t){if(!t){var e=store.getState().deepLinks.list.period,n=a.template(l.accountStatementDeepLinkUrl),i=n({period:e}),r=window.open(i,"_blank");r?r.focus&&r.focus():window.location=i}}},{key:"path_ordlist",value:function(t){this.navigateOnTab("ordlist")}},{key:"path_closedPositions",value:function(t){this.navigateOnTab("closedPositions")}},{key:"path_withdrawal",value:function(t){t||o.trigger("ui:withdraw")}},{key:"path_deposit",value:function(t){t||o.trigger("flow:deposit")}},{key:"path_upload",value:function(t){t||o.trigger("flow:verify")}},{key:"path_ccverify",value:function(t){t||o.trigger("flow:verify")}},{key:"path_deposit_failed",value:function(t){t||o.trigger("ui:message-box:fail_deposit")}},{key:"path_deposit_sucess",value:function(t){if(!t){var e={totalAmount:store.getState().deepLinks.list.totalAmount,currency:store.getState().deepLinks.list.currency,doFirstDeposit:store.getState().deepLinks.list.first_deposit,atmAmount:store.getState().deepLinks.list.atmAmount,payment_method:"cc_card"};o.trigger("ui:deposit-message",e)}}},{key:"path_metatrader",value:function(t){if(!t){if(!n(153).isMetaTraderVisible())return;o.trigger("ui:open-metatrader","metatrader-accounts")}}},{key:"path_details",value:function(t){if(!t){var e=n(7),i=n(14),r=store.getState().deepLinks.list.symbol,o=i.getInstrumentBySymbol(r,!0);if(!o)return;r=o.getSymbol(),e.getApplicationSettings().set({selectedInstrumentSymbol:r,deeplinkNavigate:!0,deeplink:!0,chart:store.getState().deepLinks.list.chart}),store.dispatch(w(r)),store.dispatch(y({trigger:!1})),store.dispatch(_(r)),store.dispatch(S(p))}}},{key:"path_price_alerts",value:function(t){t||o.trigger("ui:alert",store.getState().deepLinks.list.symbol)}},{key:"path_category",value:function(t){t||o.trigger("ui:instruments:select-category",store.getState().deepLinks.list.category)}},{key:"path_fullreg",value:function(t){t||o.trigger("sm","registration_open")}},{key:"path_faq",value:function(t){t||o.trigger("ui:help-center")}},{key:"path_sms",value:function(t){}},{key:"path_bonus",value:function(t){}},{key:"path_account_settings",value:function(t){if(!t){var e=n(173).SECTION,i=store.getState().deepLinks.list.section?store.getState().deepLinks.list.section.toUpperCase():void 0;o.trigger("ui:account-settings",e[i])}}},{key:"path_pro_app_form",value:function(t){t||o.trigger("ui:account-classification")}},{key:"path_leverage_settings",value:function(t){t||o.trigger("ui:account-settings","leverage-settings")}},{key:"path_account_level",value:function(t){t||o.trigger("ui:account-settings","account-level")}},{key:"path_trade",value:function(t){if(!t){var e={direction:store.getState().deepLinks.list.side,symbolOrId:store.getState().deepLinks.list.symbol,quantity:store.getState().deepLinks.list.quantity,type:store.getState().deepLinks.list.type,tp:"true"===store.getState().deepLinks.list.tp,sl:"true"===store.getState().deepLinks.list.sl,source:"deeplink"};e.symbolOrId&&e.direction&&o.trigger("ui:new-position",e)}}},{key:"path_finevents",value:function(t){t||o.trigger("flow:events-and-trade")}},{key:"path_verification_center",value:function(t){t||o.trigger("flow:verify")}},{key:"path_retake_quiz",value:function(t){o.trigger("ui:retake-quiz")}},{key:"path_analyst",value:function(t){t||o.trigger("ui:tip-ranks")}},{key:"path_insiders",value:function(t){t||o.trigger("ui:insiders")}},{key:"path_news_sentiment",value:function(t){t||o.trigger("ui:newsSentiment")}},{key:"path_bloggers",value:function(t){t||o.trigger("ui:bloggers")}},{key:"path_hedgefunds",value:function(t){t||o.trigger("ui:hedgefunds")}},{key:"path_webinars",value:function(t){t||o.trigger("flow:webinars")}},{key:"path_webinar",value:function(t){var e=store.getState().deepLinks.list.webinar_id;e&&(t||o.trigger("flow:webinar",e))}},{key:"path_sync",value:function(t){if(t){var e=store.getState().deepLinks.list,n=e.position_mode,i=e.trading_view,r=e.timezone_id,s=e.timezone_offset,a=e.timezone_gmt,l=e.timezone_name,c=e.platform_type_popup;o.trigger("settings:update",{position_mode:n,trading_view:i,timezone_id:r,timezone_offset:s,timezone_gmt:a,timezone_name:l,platform_type_popup:c})}}},{key:"path_blog",value:function(t){t||o.trigger("flow:blog")}},{key:"getMainMenuActiveTab",value:function(){return this.mainMenu.map[this.mainMenu.active]}},{key:"mobileToWeb",value:function(t){var e=n(9),i=e.getMobileAndroidLaunchLink(),r=e.getMobileIOSLaunchLink();return t.indexOf(i)>=0&&(t=t.replace(i,d+"=")),t.indexOf(r)>=0&&(t=t.replace(r,d+"=")),t.indexOf("?")>=0&&(t=t.replace("?","&")),t}},{key:"campaignsInternalAction",value:function(t){var e=n(9);t="?"+this.mobileToWeb(t),e.isLive()?this.run(!1,t):o.trigger("platform:switch","live",t)}},{key:"run",value:function(t,e){var n=this.get(d)||this.get(h);e&&this.updateParams(e),t&&n&&this.setParams();var i=store.getState().deepLinks.list;!!i[h]&&this.path_sync(t);var r=i.path;if(r){this.path=r;var o="path_"+String(r).replace("-","_"),s=this[o];if(a.isFunction(s))return s.call(this,t),!0}}},{key:"prepare",value:function(){this.run(!0)}}]),t}());i.exports=new x}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0))},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){var i=n(441),r=n(307);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(91),r=Math.max,o=Math.min;t.exports=function(t,e){return t=i(t),t<0?r(t+e,0):o(t,e)}},function(t,e,n){var i=n(18),r=n(442),o=n(307),s=n(306)("IE_PROTO"),a=function(){},l=function(){var t,e=n(304)("iframe"),i=o.length;for(e.style.display="none",n(308).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l.prototype[o[i]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=i(t),n=new a,a.prototype=null,n[s]=t):n=l(),void 0===e?n:r(n,e)}},function(t,e,n){var i=n(441),r=n(307).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){"use strict";var i=n(21),r=n(43),o=n(42),s=n(32)("species");t.exports=function(t){var e=i[t];o&&e&&!e[s]&&r.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(89),r=n(456),o=n(319),s=n(18),a=n(35),l=n(321),c={},u={},e=t.exports=function(t,e,n,d,h){var p,f,m,g,v=h?function(){return t}:l(t),b=i(n,d,e?2:1),y=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(p=a(t.length);p>y;y++)if((g=e?b(s(f=t[y])[0],f[1]):b(t[y]))===c||g===u)return g}else for(m=v.call(t);!(f=m.next()).done;)if((g=r(m,b,f.value,e))===c||g===u)return g};e.BREAK=c,e.RETURN=u},function(t,e,n){var i=n(73);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e,n){var i=n(27);t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"DEFAULT_OPEN_POSITION_MODE",function(){return r}),n.d(e,"DEFAULT_TRADING_VIEW_MODE",function(){return o}),n.d(e,"DEFAULT_CHART_MODE",function(){return s}),n.d(e,"DEFAULT_CHART_MODE_MARKETSX",function(){return a}),n.d(e,"TRADING_CENTRAL_ENABLED_KEY",function(){return l}),n.d(e,"MARGIN_VALUES",function(){return c}),n.d(e,"MARGIN_VALUES_WARNING_LEVELS",function(){return u});var i=n(69),r="basic",o="basic",s=i.CHART_MODE_BASIC,a=i.CHART_MODE_ADVANCED,l="indigo_tradingCentralEnabled",c={MARGIN_LEVEL_1:120,MARGIN_LEVEL_2:100,LIQUIDATION_LEVEL:50,LIQUIDATION_LEVEL_BUFFER:60,MARGIN_LEVEL_OK:121,BONUS_AMOUNT_CHECK_PERIOD:3e5,CHECK_PENDING_DEPOSIT_INTERVAL:18e4,CHECK_PENDING_DEPOSIT_FORCE_INTERVAL:5e3,CHECK_PENDING_DEPOSIT_FORCE_MAX_COUNT:20,MAX_NUMBER_SIZE:9,RISK_LEVEL_MAX:1e4},u=[c.MARGIN_LEVEL_2,c.LIQUIDATION_LEVEL_BUFFER,c.LIQUIDATION_LEVEL]},function(t,e){},function(t,e,n){(function(i){var r,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};void 0!==(r=function(t,e,i){var r=n(76),s=n(0),a=n(217),l=n(79),c=n(1379),u=n(687),d=a.extend({initialize:function(t){a.prototype.initialize.apply(this,arguments),this._value=t.value},onFocus:function(t){this.setState({pristine:!1,focus:!0}),this.trigger("focus",this,!0)},onBlur:function(){this.setState({focus:!1}),this.trigger("focus",this,!1)},value:function(t){return void 0!==t&&(this._value=t=this.filter(t,this._value)),a.prototype.value.call(this,t)},filter:function(t,e){var n=String(t);if(!s.isEmpty(n)){var i=n.split("."),r=Number(i[0]);n=s.size(i)>1?r+"."+i[1]:r}var o=this.options,a=o.intMax,l=o.precision,c="^\\s*\\d{0,"+a+"}";return l>0&&(c+="\\.?\\d{0,"+l+"}"),c+="\\s*$",new RegExp(c).test(String(n))?n:e}}),h=r.extend({className:"field field-type-spin-number flex flex-row",prevValue:"",events:function(){return this.addEvents(r)({"click .spin-number__control-up":"up","click .spin-number__control-down":"down","mousedown .spin-number__control-slide":"startSlide","keydown input":"keyDown",mousewheel:"mouseWheel"})},initialize:function(t){var e=this;t=s.extend({},{name:s.uniq("spin-"),value:"",step:1,intMax:10,minValue:0,precision:0,filter:function(t){return t}},t),r.prototype.initialize.apply(this,arguments),this.drag=u({onStart:function(){return{initial:parseInt(e.input.value(),10)||0}},onDrag:function(t){return t.dirY<0?e.down():t.dirY>0&&e.up()}})},value:function(t,e){return void 0!==t&&(t=this.minmax(t),this.input.value(t),this.input.setDefaultValue(t),!0!==e&&this.fireChangeEvent()),this.input.value(t)},minmax:function(t){var e=this.options,n=e.minValue,i=e.maxValue,r=e.precision;return void 0!==t&&s.isNumber(t)&&(s.isNumber(n)||s.isNumber(i))&&(t<n?t=n:t>i&&(t=i),t=Number(t).toFixed(r)),t},silentValue:function(t){return this.value(t,!0)},getHtmlTemplate:function(){return(this.options&&this.options.template||s.template(c))({disable:this.options.disable})},render:function(){var t=this;this.$el.html(this.getHtmlTemplate());var e={translationKey:"",disable:!1,title:__("wizard.form.label.DEFAULT_EMPTY"),defaultValue:this.options.value},n={template:l.inputBox,name:this.options.name+"__input",type:"text"};return this.input=this.addChildView(".spin-number__input-container",d,s.extend({},e,this.options,n)),this.input.$el.addClass("no-bg"),this.listenTo(this.input,"change",function(e,n){return t.trigger("change",t,n)}),this.listenTo(this.input,"focus",function(e,n){return t.trigger("focus",t,n)}),this.input.update(),this.options.disable&&this.disableElement(),this},disableElement:function(){this.input&&this.input.disable(),this.$el.addClass("field-disabled")},enableElement:function(){this.input&&this.input.enable(),this.$el.removeClass("field-disabled")},filter:function(t){if(void 0!==t)return Number(t)},up:function(){this.setState({pristine:!1});var t=Number(this.input.value());this.setValueWithFireChangeEvent(t+=this.options.step)},down:function(){this.setState({pristine:!1});var t=Number(this.input.value());this.setValueWithFireChangeEvent(t-=this.options.step)},startSlide:function(t){this.drag.start(t)},keyDown:function(t){if(!this.isDisabled()&&this.input.state.focus){var e=t.keyCode||t.which;40===e&&this.down(),38===e&&this.up()}},mouseWheel:function(t){t.preventDefault(),!this.isDisabled()&&this.input.state.focus&&(t.deltaY>0?this.up():this.down())},setOptions:function(t){r.prototype.setOptions.apply(this,arguments),this.input.setOptions(o({},t))}});i.exports=h}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(17),o=n(2),s=(n(6),n(9)),a=(n(7),n(154)),l=n(1407),c=r.Model.extend({defaults:function(){return{metaTraderEnabled:!1}},initialize:function(){o.on("app:ready",this.checkIsMetaTraderEnabled,this),o.on("registration:filled",this.checkIsMetaTraderEnabled,this),o.on("settings:load:success",this.checkIsMetaTraderEnabled,this)},isMetaTraderVisible:function(){return!this.hideMetaTraderLink()},hideMetaTraderLink:function(){return this.hideMetaTraderLinkByDefault()||a.hideMetaTraderLink()||l.hideMetaTraderLink()},hideMetaTraderLinkByDefault:function(){var t=n(56);return t.LOW_SCORE()||!t.FULL_REGISTRATION_COMPLETED()||!this.get("metaTraderEnabled")},checkIsMetaTraderEnabled:function(){var t=s.isMetaTraderEnabled();this.set("metaTraderEnabled",t,{silent:!0}),this.trigger("change:metaTraderEnabled",this,t)},isCommonRegulation:function(){return!this.isSpanishRegulation()&&!this.isFrenchRegulation()},isSpanishRegulation:function(){return a.isSpanishRegulation()},isFrenchRegulation:function(){return l.isFrenchRegulation()}});i.exports=new c}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(17),s=n(9),a=n(7),l=o.Model.extend({initialize:function(){},isSpainCountry:function(){var t=a.getCountry();return t&&i.isString(t)&&"es"===t.toLowerCase()},isSpanishRegulation:function(){return this.isSpainCountry()},hideMetaTraderLink:function(){return this.isSpanishRegulation()&&s.isRegistrationRiskWarningMetaTraderHidden()&&a.getUserData().getCrmboCustomer().id>s.getRegistrationRiskWarningMinCustomerId()},isFullRegistrationRiskWarningRequired:function(){return this.isSpanishRegulation()&&a.getUserDataCompliance().isTradeConfirmationRequired()&&s.isRegistrationRiskWarningEnabled()},isTradingPositionRiskWarningRequired:function(){return this.isSpanishRegulation()&&a.getUserDataCompliance().isTradeConfirmationRequired()&&s.isTradingPositionRiskWarningEnabled()}});r.exports=new l}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(121),r=n(219);t.exports=n(130)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(756),r=n(384);t.exports=function(t){return i(r(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"getUi",function(){return m}),n.d(e,"getUiSection",function(){return g}),n.d(e,"getInstrumentDetailsSymbol",function(){return v}),n.d(e,"getInstrumentDetailsNormalizedSymbol",function(){return b}),n.d(e,"getSelectedInstrumentNewsId",function(){return y}),n.d(e,"getUiSelectedInstrumentCategorySymbol",function(){return _}),n.d(e,"getSelectedInstrumentCategorySymbols",function(){return w}),n.d(e,"getSelectedInstrumentCategoryTreePath",function(){return S}),n.d(e,"getAsideBoxState",function(){return E}),n.d(e,"getChartVisibility",function(){return x}),n.d(e,"getChartState",function(){return C}),n.d(e,"getChartHeight",function(){return T}),n.d(e,"getInstrumentDetailsState",function(){return k}),n.d(e,"isInstrumentInsightTabAvailable",function(){return O}),n.d(e,"getInstrumentInfo",function(){return P}),n.d(e,"getInstrumentInfoVisibility",function(){return I}),n.d(e,"getSetSelectedCategorySections",function(){return A}),n.d(e,"getInstrumentSymbolMap",function(){return M}),n.d(e,"getSelectedCategorySectionsSymbols",function(){return N}),n.d(e,"getSelectedCategorySectionsSortName",function(){return D}),n.d(e,"getSelectedCategorySectionsSortDir",function(){return L}),n.d(e,"getSelectedTabId",function(){return R}),n.d(e,"getRootCategoryUrlInSelectedCategory",function(){return F}),n.d(e,"getRootCategoryInSelectedCategory",function(){return B}),n.d(e,"getSymbolsSortName",function(){return U}),n.d(e,"getSymbolsSortDirection",function(){return j}),n.d(e,"getSortedInstrumentSymbols",function(){return z}),n.d(e,"getSortedFavoritesSymbols",function(){return V});var i=n(78),r=n(206),o=n(275),s=n(410),a=n(411),l=n(415),c=n(815),u=n(44),d=n(0),h=n.n(d),p=n(62),f=n(412),m=function(t){return t.ui},g=Object(u.a)(m,function(t){return t.section}),v=Object(u.a)(m,function(t){return t.instrumentDetailsSymbol}),b=Object(u.a)(m,function(t){return String(t.instrumentDetailsSymbol).replace(/\//g,"~")}),y=Object(u.a)(m,function(t){return t.selectedInstrumentDetailsNewsId}),_=Object(u.a)(m,function(t){return t.selectedInstrumentCategorySymbol}),w=Object(u.a)(m,function(t){return t.selectedInstrumentCategorySymbols}),S=Object(u.a)(m,function(t){return t.selectedInstrumentCategoryTreePath}),E=Object(u.a)(m,function(t){return t.asideBoxState}),x=Object(u.a)(m,function(t){return t.chart.visibility}),C=Object(u.a)(m,function(t){return t.chart.state}),T=Object(u.a)(m,function(t){return t.chart.height}),k=Object(u.a)(m,function(t){return t.instrumentDetailsState}),O=Object(u.a)([f.m,o.s,s.g,a.l,l.c,c.a],function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return h.a.some(e,function(t){return!!t})}),P=Object(u.a)(m,function(t){return t.instrumentInfo}),I=Object(u.a)(P,function(t){return t.visibility}),A=Object(u.a)(m,function(t){return t.selectedCategorySections}),M=Object(u.a)(i.getInstruments,function(t){return t.instrumentSymbolMap}),N=Object(u.a)(A,function(t){return t.symbols}),D=Object(u.a)(A,function(t){return t.sortName}),L=Object(u.a)(A,function(t){return t.sortDir}),R=Object(u.a)(m,function(t){return t.selectedTabIdInstrumentDetails}),F=Object(u.a)(S,function(t){return"/"+String(t).split("/")[1]+"/"}),B=Object(u.a)([F,i.getInstrumentsTreePathsMap],function(t,e){return e[t]}),U=Object(u.a)(m,function(t){return t.symbolsSortName}),j=Object(u.a)(m,function(t){return t.symbolsSortDirection}),z=Object(u.a)([M,w,U,j],r.n),V=Object(u.a)([M,p.b,U,j],r.n)},function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}var r=n(1),o=n.n(r),s=n(29),a=n.n(s),l=n(10),c=n(0),u=n.n(c),d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.a=function(t){return a()({displayName:"Lazy",getDefaultProps:function(){return{loader:t}},getInitialState:function(){return{status:l.LOADING,component:null}},shouldComponentUpdate:function(t,e){return!u.a.isEqual(t,this.props)||!u.a.isEqual(e,this.state)},componentDidMount:function(){this.mounted=!0,this.load()},load:function(){var t=this.props.loader;if(!u.a.isFunction(t))throw new Error("Attr 'loader' should be a function.");this.setState({status:l.LOADING,component:null}),t().then(this.loadSuccess).catch(this.loadError)},loadSuccess:function(t){var e=t&&t.default||t;this.mounted&&(e?this.setState({status:l.LOADED,component:e}):this.setState({status:l.ERROR}))},loadError:function(t){this.mounted&&this.setState({status:l.ERROR})},componentWillUnmount:function(){this.mounted=!1},handleTryAgain:function(){var t=this;this.setState({status:l.LOADING}),u.a.delay(function(){return t.mounted&&t.load()},500)},render:function(){var t=this.state,e=t.status,n=t.component,r=this.props,s=(r.loader,r.children),a=i(r,["loader","children"]);return e===l.LOADING?o.a.createElement("div",{className:"pane pane__fluid pane--center pane--middle"},o.a.createElement("div",{className:"cssload-jumping"},o.a.createElement("span",null),o.a.createElement("span",null),o.a.createElement("span",null))):e===l.ERROR?o.a.createElement("div",{className:"pane pane__fluid pane--center pane--middle"},o.a.createElement("div",{className:"pane pane__column pane--center"},o.a.createElement("div",{className:"pane flex-align-center bold"},__("generic.error.message")),o.a.createElement("button",{className:"pane btn btn-default",onClick:this.handleTryAgain},__("actions.try_again")))):e===l.LOADED?o.a.createElement(n,d({},a),s):null}})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"POSITIVE_COLOR",function(){return i}),n.d(e,"NEGATIVE_COLOR",function(){return r}),n.d(e,"NEUTRAL_COLOR",function(){return o}),n.d(e,"BRAND_PRIMARY",function(){return s}),n.d(e,"MAIN_TEXT_COLOR",function(){return a}),n.d(e,"TEXT_MUTED_COLOR",function(){return l}),n.d(e,"NEWS_SENTIMENT_COLORS",function(){return c}),n.d(e,"OPINIONS_COLORS",function(){return u});var i="#1ecd93",r="#ff433d",o="#979797",s="#2e86ab",a="#38424b",l="#81878c",c={lineColor:l},u=["#de67a7","#673bb2",s,l]},function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=n(1),c=n.n(l),u=function(t){var e=t.value,n=t.name,r=t.checkedStatus,o=t.onCheck,s=i(t,["value","name","checkedStatus","onCheck"]);return c.a.createElement(s.as,null,c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",value:e,name:n,checked:r,onChange:o}),c.a.createElement("span",null,n)))};u.defaultProps={as:"li"};var d=u,h=n(11),p=n.n(h),f=n(0),m=n.n(f),g=(n(1381),function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()),v={selected:!0},b=function(t){function e(t){o(this,e);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={opened:!1,placeholder:"",options:[],selected:[],searchText:"",text:""},n.onDocumentClick=n.onDocumentClick.bind(n),n.searchHandler=n.searchHandler.bind(n),n.onCheck=n.onCheck.bind(n),n.uncheckAll=n.uncheckAll.bind(n),n.toggle=n.toggle.bind(n),n}return a(e,t),g(e,[{key:"componentDidMount",value:function(){this.normalize(this.props),document.addEventListener("click",this.onDocumentClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onDocumentClick)}},{key:"onDocumentClick",value:function(t){!this.dropdown.contains(t.target)&&this.state.opened&&this.setState({opened:!1,searchText:""})}},{key:"componentWillReceiveProps",value:function(t){this.normalize(t)}},{key:"toggle",value:function(){this.setState({opened:!this.state.opened})}},{key:"searchHandler",value:function(t){this.setState({searchText:t.target.value})}},{key:"normalize",value:function(t){var e=t.options,n=t.transformOptionValue,i=t.transformOptionText,r=t.selected,o=m.a.map(e,function(t){return{origin:t,text:i(t),value:n(t),selected:!1}});this.updateState(o,r)}},{key:"getPlaceholder",value:function(t,e){if(1===t){var n=m.a.find(e,v);return n?n.text:""}return t>1?t+" "+__("autochartist.text.pairs_selected"):__(this.props.placeholder)}},{key:"updateState",value:function(t,e){var n=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];m.a.isEmpty(e)||m.a.chain(t).filter(function(t){return m.a.contains(e,t.value)}).each(function(t){return t.selected=i});var o=m.a.size(m.a.groupBy(m.a.where(t,v),"value"));return this.setState(function(){return{options:[].concat(r(t)),countSelected:o,placeholder:n.getPlaceholder(o,t)}}),o}},{key:"onCheck",value:function(t){var e=t.target,n=e.value,i=e.checked,r=this.state.options,o=this.updateState(r,[n],i);this.props.onChange(!o&&this.props.needOrigin?m.a.pluck(r,"origin"):m.a.pluck(m.a.where(r,v),"origin"))}},{key:"uncheckAll",value:function(){var t=this.state.options;m.a.each(t,function(t){return t.selected=!1}),this.updateState(t),this.props.onChange(this.props.needOrigin?m.a.pluck(t,"origin"):[])}},{key:"getFilteredOptions",value:function(){var t=this.state,e=t.options,n=t.searchText,i=String(n).toLowerCase();return m.a.isEmpty(i)?m.a.uniq(e,function(t){return t.text}):m.a.chain(e).filter(function(t){return-1!==String(t.text).toLowerCase().indexOf(i)}).uniq(function(t){return t.text}).value()}},{key:"render",value:function(){var t=this,e=this.state,n=e.countSelected,i=e.opened,r=e.placeholder,o=e.searchText,s=this.props.inputPlaceholder,a=p()({arrow_up:i,arrow_down:!i});return c.a.createElement("div",{className:"filteredDropdownWrapper",ref:function(e){return t.dropdown=e}},c.a.createElement("div",{className:"defaultOption pane pane__row",onClick:this.toggle},c.a.createElement("div",{className:"pane pane__fluid filteredDropdown__text"},r),c.a.createElement("div",{className:"pane arrowWrapper"},c.a.createElement("div",{className:a}))),i&&c.a.createElement("div",{className:"filterDropdown"},c.a.createElement("div",{className:"filterWrapper"},c.a.createElement("input",{type:"text",className:"filter",placeholder:__(s),onChange:this.searchHandler,value:o}),c.a.createElement("div",{className:"totalSelected"},c.a.createElement("div",{className:"totalCount"},__("indigo.wizard.form.total_selected")+" "+n),c.a.createElement("div",{className:"uncheckAll",onClick:this.uncheckAll},__("autochartist.text.uncheck_all"))),c.a.createElement("div",{className:"options"},c.a.createElement("ul",{className:"optionList"},m.a.map(this.getFilteredOptions(),function(e,n){var i=e.text,r=e.value,o=e.selected;return c.a.createElement(d,{as:"li",name:i,value:r,checkedStatus:o,key:n,onCheck:t.onCheck})}))))))}}]),e}(l.Component);b.defaultProps={options:[],selected:[],inputPlaceholder:"faq.search.placeholder",placeholder:"indigo.wizard.form.label.DEFAULT_EMPTY",transformOptionText:function(t){return t},transformOptionValue:function(t){return t},needOrigin:!0};e.default=b},function(t,e,n){var i=n(43).f,r=n(81),o=n(32)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){var i=n(90),r=n(32)("toStringTag"),o="Arguments"==i(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),r))?n:o?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var i=n(4),r=n(101),o=n(26),s=n(310),a="["+s+"]",l="​",c=RegExp("^"+a+a+"*"),u=RegExp(a+a+"*$"),d=function(t,e,n){var r={},a=o(function(){return!!s[t]()||l[t]()!=l}),c=r[t]=a?e(h):s[t];n&&(r[n]=c),i(i.P+i.F*a,"String",r)},h=d.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},function(t,e){t.exports={}},,,,,,,,function(t,e,n){var i;void 0!==(i=function(t,e,n){var i=Object.freeze({CUSTOMER_INFO:"customer-info",ACCOUNT_CLASSIFICATION:"account-classification",LEVERAGE:"leverage-settings",SPREAD_REBATE:"spread-rebate",PASSWORD:"change-password",NOTIFICATIONS:"notifications",PLATFORM_FEATURES:"platform-features",TRADING_SETTINGS:"trading-settings",ACCOUNT_LEVEL:"account-level",LOCALIZATION:"localization",VIEW_SETTINGS:"view-settings"});n.exports={SECTION:i}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){function i(e,n){return delete t.exports[e],t.exports[e]=n,n}var r=n(648),o=n(652);t.exports={Parser:r,Tokenizer:n(649),ElementType:n(175),DomHandler:o,get FeedHandler(){return i("FeedHandler",n(1277))},get Stream(){return i("Stream",n(1288))},get WritableStream(){return i("WritableStream",n(655))},get ProxyHandler(){return i("ProxyHandler",n(1295))},get DomUtils(){return i("DomUtils",n(654))},get CollectingHandler(){return i("CollectingHandler",n(1296))},DefaultHandler:o,get RssHandler(){return i("RssHandler",this.FeedHandler)},parseDOM:function(t,e){var n=new o(e);return new r(n,e).end(t),n.dom},parseFeed:function(e,n){var i=new t.exports.FeedHandler(n);return new r(i,n).end(e),i.dom},createDomStream:function(t,e,n){var i=new o(t,e,n);return new r(i,e)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},function(t,e){t.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(t){return"tag"===t.type||"script"===t.type||"style"===t.type}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"TRADING_SETTINGS__GET_SETTINGS",function(){return i}),n.d(e,"TRADING_SETTINGS__EDIT_SETTINGS",function(){return r}),n.d(e,"TRADING_SETTINGS__EDIT_SETTING_START",function(){return o}),n.d(e,"TRADING_SETTINGS__EDIT_SETTING_SUCCESS",function(){return s}),n.d(e,"TRADING_SETTINGS__EDIT_SETTING_ERROR",function(){return a}),n.d(e,"TRADING_SETTINGS__ADD_SETTING_START",function(){return l}),n.d(e,"TRADING_SETTINGS__ADD_SETTING_SUCCESS",function(){return c}),n.d(e,"TRADING_SETTINGS__ADD_SETTING_ERROR",function(){return u}),n.d(e,"TRADING_SETTINGS__REMOVE_SETTING_START",function(){return d}),n.d(e,"TRADING_SETTINGS__REMOVE_SETTING_SUCCESS",function(){return h}),n.d(e,"TRADING_SETTINGS__REMOVE_SETTING_ERROR",function(){return p}),n.d(e,"ORDER_TYPE",function(){return f}),n.d(e,"DROPDOWN_DEFAULT_VALUE",function(){return m}),n.d(e,"PREFIX",function(){return g});var i="trading_settings/GET_SETTINGS",r="trading_settings/EDIT_SETTINGS",o="trading_settings/EDIT_SETTING_START",s="trading_settings/EDIT_SETTING_SUCCESS",a="trading_settings/EDIT_SETTING_ERROR",l="trading_settings/ADD_SETTING_START",c="trading_settings/ADD_SETTING_SUCCESS",u="trading_settings/ADD_SETTING_ERROR",d="trading_settings/REMOVE_SETTING_START",h="trading_settings/REMOVE_SETTING_SUCCESS",p="trading_settings/REMOVE_SETTING_ERROR",f={LONG:"LONG",SHORT:"SHORT",LONG_SHORT:"LONG_SHORT"},m="",g="trad-sett-"},function(t,e,n){"use strict";n.d(e,"g",function(){return i}),n.d(e,"e",function(){return r}),n.d(e,"f",function(){return o}),n.d(e,"d",function(){return s}),n.d(e,"k",function(){return a}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return c}),n.d(e,"h",function(){return u}),n.d(e,"a",function(){return d}),n.d(e,"c",function(){return h}),n.d(e,"b",function(){return p}),n.d(e,"l",function(){return f}),n.d(e,"n",function(){return m}),n.d(e,"m",function(){return g});var i="account_info/MY_ACCOUNT_GET_FIELDS_SUCCESS",r="account_info/MY_ACCOUNT_ACTIVE_FIELDS_SAVE_START",o="account_info/MY_ACCOUNT_ACTIVE_FIELDS_SAVE_SUCCESS",s="account_info/MY_ACCOUNT_ACTIVE_FIELDS_SAVE_ERROR",a="account_info/MY_ACCOUNT_SET_IS_OPENED",l="account_info/MY_ACCOUNT_IS_OPENED_SAVE_START",c="account_info/MY_ACCOUNT_IS_OPENED_SAVE_SUCCESS",u="account_info/MY_ACCOUNT_IS_OPENED_SAVE_ERROR",d=["balance","buyingPower","profitLoss"],h=1,p=5,f=100,m="pl_pos",g="pl_neg"},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){function r(t,e,n){return t>e+n?1:t<e-n?-1:(isNaN(t)?1:0)-(isNaN(e)?1:0)}function o(t){return 0===r(t,0,u)}var s=this,a=n(0),l=n(10),c=l.NA,u=5e-7;i.exports.roundUp=function(t,e){var n=Math.pow(10,e);return isFinite(t)?o(t)?0:Math.ceil((t+u)*n)/n:t},i.exports.roundDown=function(t,e){var n=Math.pow(10,e);return isFinite(t)?o(t)?0:Math.floor((t+u)*n)/n:t},i.exports.roundMToB=function(t){return t===c||Number(t)!==+t?t:Math.round(t)/1e3+"B"},i.exports.cutNumber=function(t,e){if(!a.isNumber(t)||a.isNaN(t))return t;var n=new RegExp("^-?\\d+(?:\\.\\d{0,"+e+"})?","gi"),i=t.toString().match(n)[0];return Number(i)},i.exports.cutCurrency=function(t){return s.cutNumber(t,2)},i.exports.roundToTwo=function(t){return+(Math.round(t+"e+1")+"e-1")}}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i=n(1),r=n(29),o=n(0),s=n(54),a=n(14),l=[],c=[],u=o.debounce(function(){s.update(l,c),l=[],c=[]},10),d=function(t){l.push(t),u()},h=function(t){c.push(t),u()},p=function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.reduce(String(t).split(","),function(t,e){return t+" change:"+e},"")};t.exports=r({displayName:"exports",getDefaultProps:function(){return{value:function(t){return t},properties:""}},getInitialState:function(){var t=a.getInstrumentBySymbol(this.props.symbol);return{attrs:t&&t.attributes||{},properties:""}},componentWillMount:function(){var t=this.props.symbol;this.model=a.getInstrumentBySymbol(t),this.model&&(d(t),this.model.on(p(this.props.properties),this.change,this))},componentWillUnmount:function(){this.model&&(h(this.props.symbol),this.model.off(p(this.props.properties),this.change,this),this.model=null)},change:function(){this.setState({model:this.model,attrs:this.model.attributes})},render:function(){var t=this.props,e=t.as,n=t.render,r=t.children,s=t.options,a=(t.value,{attrs:this.state.attrs,model:this.model}),l=o.isFunction(s)?s(a):a;return n&&o.isFunction(n)?i.createElement(n,l):e?i.createElement(e,{className:l.className}):o.isFunction(r)?r(l):null}})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports={}},function(t,e,n){function i(t){if(t)return r(t)}function r(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},i.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i,r=0;r<n.length;r++)if((i=n[r])===e||i.fn===e){n.splice(r,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var i=0,r=n.length;i<r;++i)n[i].apply(this,e)}return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){function i(t,n){return n("b"+e.packets[t.type]+t.data.data)}function r(t,n,i){if(!n)return e.encodeBase64Packet(t,i);var r=t.data,o=new Uint8Array(r),s=new Uint8Array(1+r.byteLength);s[0]=b[t.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return i(s.buffer)}function o(t,n,i){if(!n)return e.encodeBase64Packet(t,i);var r=new FileReader;return r.onload=function(){e.encodePacket({type:t.type,data:r.result},n,!0,i)},r.readAsArrayBuffer(t.data)}function s(t,n,i){if(!n)return e.encodeBase64Packet(t,i);if(v)return o(t,n,i);var r=new Uint8Array(1);return r[0]=b[t.type],i(new w([r.buffer,t.data]))}function a(t){try{t=f.decode(t,{strict:!1})}catch(t){return!1}return t}function l(t,e,n){for(var i=new Array(t.length),r=p(t.length,n),o=0;o<t.length;o++)!function(t,n,r){e(n,function(e,n){i[t]=n,r(e,i)})}(o,t[o],r)}var c,u=n(1870),d=n(780),h=n(1871),p=n(1872),f=n(1873);"undefined"!=typeof ArrayBuffer&&(c=n(1874));var m="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),g="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),v=m||g;e.protocol=3;var b=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},y=u(b),_={type:"error",data:"parser error"},w=n(1875);e.encodePacket=function(t,e,n,o){"function"==typeof e&&(o=e,e=!1),"function"==typeof n&&(o=n,n=null);var a=void 0===t.data?void 0:t.data.buffer||t.data;if("undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer)return r(t,e,o);if(void 0!==w&&a instanceof w)return s(t,e,o);if(a&&a.base64)return i(t,o);var l=b[t.type];return void 0!==t.data&&(l+=n?f.encode(String(t.data),{strict:!1}):String(t.data)),o(""+l)},e.encodeBase64Packet=function(t,n){var i="b"+e.packets[t.type];if(void 0!==w&&t.data instanceof w){var r=new FileReader;return r.onload=function(){var t=r.result.split(",")[1];n(i+t)},r.readAsDataURL(t.data)}var o;try{o=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){for(var s=new Uint8Array(t.data),a=new Array(s.length),l=0;l<s.length;l++)a[l]=s[l];o=String.fromCharCode.apply(null,a)}return i+=btoa(o),n(i)},e.decodePacket=function(t,n,i){if(void 0===t)return _;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(i&&!1===(t=a(t)))return _;var r=t.charAt(0);return Number(r)==r&&y[r]?t.length>1?{type:y[r],data:t.substring(1)}:{type:y[r]}:_}var o=new Uint8Array(t),r=o[0],s=h(t,1);return w&&"blob"===n&&(s=new w([s])),{type:y[r],data:s}},e.decodeBase64Packet=function(t,e){var n=y[t.charAt(0)];if(!c)return{type:n,data:{base64:!0,data:t.substr(1)}};var i=c.decode(t.substr(1));return"blob"===e&&w&&(i=new w([i])),{type:n,data:i}},e.encodePayload=function(t,n,i){function r(t){return t.length+":"+t}function o(t,i){e.encodePacket(t,!!s&&n,!1,function(t){i(null,r(t))})}"function"==typeof n&&(i=n,n=null);var s=d(t);return n&&s?w&&!v?e.encodePayloadAsBlob(t,i):e.encodePayloadAsArrayBuffer(t,i):t.length?void l(t,o,function(t,e){return i(e.join(""))}):i("0:")},e.decodePayload=function(t,n,i){if("string"!=typeof t)return e.decodePayloadAsBinary(t,n,i);"function"==typeof n&&(i=n,n=null);var r;if(""===t)return i(_,0,1);for(var o,s,a="",l=0,c=t.length;l<c;l++){var u=t.charAt(l);if(":"===u){if(""===a||a!=(o=Number(a)))return i(_,0,1);if(s=t.substr(l+1,o),a!=s.length)return i(_,0,1);if(s.length){if(r=e.decodePacket(s,n,!1),_.type===r.type&&_.data===r.data)return i(_,0,1);if(!1===i(r,l+o,c))return}l+=o,a=""}else a+=u}return""!==a?i(_,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){function i(t,n){e.encodePacket(t,!0,!0,function(t){return n(null,t)})}if(!t.length)return n(new ArrayBuffer(0));l(t,i,function(t,e){var i=e.reduce(function(t,e){var n;return n="string"==typeof e?e.length:e.byteLength,t+n.toString().length+n+2},0),r=new Uint8Array(i),o=0;return e.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var i=new Uint8Array(t.length),s=0;s<t.length;s++)i[s]=t.charCodeAt(s);n=i.buffer}r[o++]=e?0:1;for(var a=n.byteLength.toString(),s=0;s<a.length;s++)r[o++]=parseInt(a[s]);r[o++]=255;for(var i=new Uint8Array(n),s=0;s<i.length;s++)r[o++]=i[s]}),n(r.buffer)})},e.encodePayloadAsBlob=function(t,n){function i(t,n){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var i=new Uint8Array(t.length),r=0;r<t.length;r++)i[r]=t.charCodeAt(r);t=i.buffer,e[0]=0}for(var o=t instanceof ArrayBuffer?t.byteLength:t.size,s=o.toString(),a=new Uint8Array(s.length+1),r=0;r<s.length;r++)a[r]=parseInt(s[r]);if(a[s.length]=255,w){var l=new w([e.buffer,a.buffer,t]);n(null,l)}})}l(t,i,function(t,e){return n(new w(e))})},e.decodePayloadAsBinary=function(t,n,i){"function"==typeof n&&(i=n,n=null);for(var r=t,o=[];r.byteLength>0;){for(var s=new Uint8Array(r),a=0===s[0],l="",c=1;255!==s[c];c++){if(l.length>310)return i(_,0,1);l+=s[c]}r=h(r,2+l.length),l=parseInt(l);var u=h(r,0,l);if(a)try{u=String.fromCharCode.apply(null,new Uint8Array(u))}catch(t){var d=new Uint8Array(u);u="";for(var c=0;c<d.length;c++)u+=String.fromCharCode(d[c])}o.push(u),r=h(r,l)}var p=o.length;o.forEach(function(t,r){i(e.decodePacket(t,n,!0),r,p)})}},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=arguments[1],n=e.type,r=e.payload;switch(n){case l.c:var o=[].concat(i(r.responsePayload)),s=u.a.indexBy(o,"instrumentSymbol");return d({},t,{allBaskets:o,mapBySymbol:s})}return t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=n(364),c=n(0),u=n.n(c),d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},h={allBaskets:[],mapBySymbol:{}},p=n(677),f=n(44),m=n(275),g=n(109),v=function(t){return t.basket},b=Object(f.a)(v,function(t){return t.mapBySymbol}),y=Object(f.a)([b,g.a],function(t,e){return t[e]}),_=Object(f.a)(y,function(t){return t&&t.instruments}),w=Object(f.a)([_,function(t){return t}],function(t,e){return u.a.some(t,function(t){return Object(m.r)(e,t.instrumentSymbol)})}),S=n(1),E=n.n(S),x=n(3),C=n.n(x),T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},k=function(t){var e=t.basket,n=t.detailedInfo,i=C()(e.instrumentStartTime).utc().format("DD/MM/YYYY"),r=[],o=[],s=n?E.a.createElement("div",{className:"info-texts"},E.a.createElement("span",null,__("blend.start-date"),":"),E.a.createElement("span",null,i),E.a.createElement("span",null,__("blend.start-price"),":"),E.a.createElement("span",null,e.instrumentStartMidPrice)):null;return e.instruments.forEach(function(t,e){var n=e>24?{background:"hsl("+u.a.random(0,255)+", 50%, 50%)"}:{},i=T({width:t.instrumentWeight+"%"},n);r.push(E.a.createElement("span",{style:i,key:"bar-"+e})),o.push(E.a.createElement("span",{key:"label-"+e},E.a.createElement("i",{className:"label-color",style:n}),t.displayName," ",t.instrumentWeight,"%"))}),E.a.createElement("div",{className:"relation"},E.a.createElement("div",{className:"texts"},o),E.a.createElement("div",{className:"bar"},r),s)},O=k,P=n(8),I=(n(1386),function(t,e){var n=e.symbol;return{basket:y(t,n)}}),A=function(t){var e=t.basket,n=t.detailedInfo,i=void 0!==n&&n;return e?E.a.createElement("div",{className:"instrument-basket basket-block"},E.a.createElement("div",{className:"basket-bar"},E.a.createElement(O,{basket:e,detailedInfo:i}))):null},M=Object(P.connect)(I)(A),N=n(841),D=n.n(N),L=n(842),R=n.n(L),F=n(78),B=(n(1406),n(36)),U=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),j=function(t,e){var n=e.symbol;return{basket:y(t,n),instrumentName:Object(F.getInstrumentName)(t,n)}},z=function(t){function e(){return o(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),U(e,[{key:"createField",value:function(){this.field||(this.field=new D.a({parent:this.refs.el,showOnlyChart:!0,model:new R.a({displayName:this.props.instrumentName,symbol:this.props.symbol,instrumentStartTime:this.props.basket&&this.props.basket.instrumentStartTime}),direction:Object(B.u)()&&"vertical"}),this.field.render())}},{key:"componentDidMount",value:function(){this.createField()}},{key:"componentWillUnmount",value:function(){this.destroyField()}},{key:"componentDidUpdate",value:function(){this.destroyField(),this.createField()}},{key:"destroyField",value:function(){this.field&&(this.field.remove(),this.field=null)}},{key:"render",value:function(){return E.a.createElement("div",{className:"performance-chart"},E.a.createElement("div",{ref:"el"}))}}]),e}(E.a.Component),V=Object(P.connect)(j)(z);n.d(e,"basketReducer",function(){return r}),n.d(e,"loadInstrumentBasketsData",function(){return p.loadInstrumentBasketsData}),n.d(e,"BASKETS_LOAD",function(){return l.a}),n.d(e,"BASKETS_LOAD_SUCCESS",function(){return l.c}),n.d(e,"BASKETS_LOAD_ERROR",function(){return l.b}),n.d(e,"getBaskets",function(){return v}),n.d(e,"getBasketsMapBySymbol",function(){return b}),n.d(e,"getBasketBySymbol",function(){return y}),n.d(e,"getBlendInstruments",function(){return _}),n.d(e,"isInstrumentInsightsBlendsAvailable",function(){return w}),n.d(e,"Basket",function(){return O}),n.d(e,"InstrumentBasket",function(){return M}),n.d(e,"PerformanceChart",function(){return V})},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(0),s=n(128),a=s.extend({events:function(){return o.extend({},o.result(s.prototype,"events"),{"change select":"onChange","click .dk-option":"onChangeList"})},initialize:function(){s.prototype.initialize.apply(this,arguments),this.defineControl()},defineControl:function(){var t=this.$el.find("select")[0];t&&(this.setName(this.$el.attr("name")),t.onfocus=this.onFocus.bind(this),this.setDefaultValue())},onFocus:function(t){this.setDefaultState()},value:function(t){var e=this.$el.find("select");if(void 0===t)return e.val();e.val(t),this.selectOption(t)},selectOption:function(t){var e="EMPTY"!==t?this.$el.find('li.dk-option[data-value="'+t+'"]').html():this.options.emptyText||__("wizard.form.label.DEFAULT_EMPTY");this.$el.find(".dk-selected").html(e)},disableElement:function(){this.$el.addClass("field-disabled"),this.$el.find("select").attr("disabled",!0)},enableElement:function(){this.$el.removeClass("field-disabled"),this.$el.find("select").removeAttr("disabled")},getDefaultValue:function(){return this.$el.find("select").attr("default-value")},onChangeList:function(t){if(!r(t.currentTarget).hasClass("disabled")){var e=this.$el.find(".dk-select");e.removeClass("dk-select-open-down dk-select-open-up").find(".dk-select-options").attr("aria-expanded",!1),e.find(".dk-selected").html(this.options.getValueFunction(r(t.currentTarget)))[0].focus(),this.options.setValueFunction(e,r(t.currentTarget).attr("data-value"))}},getHtmlTemplate:function(){var t=this.options;if(!t)return!1;var e=t.template;return e?e(o.pick(t,["title","disable","translationKey","options","transformOptionsValue","transformOptionToAriaLabel","isOptionDisabled","transformOptionText","translationPrefix","translationGroupPrefix","emptyText","dependent","overflowOptions","value","name","totalSelectedText","resetText"])):""}});i.exports=a}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){"use strict";function i(){return function(t,e){var n=Object(b.c)(e()),i=Object(b.a)(e());return d.a.now()-n>_-y.SECOND_IN_MILLISECONDS?t({types:[c.b,c.d,c.c],callApi:function(){return m.a.loadCommentaries()},additionalData:{prevStateAll:i}}):Promise.resolve(null)}}function r(t){return{type:c.i,payload:t}}function o(t){return{types:[c.e,c.g,c.f],callApi:function(){return m.a.loadCommentary(t)},additionalData:{id:t}}}function s(){return{type:c.h}}function a(){return{type:c.a}}function l(){return function(t,e){var n=e().commentaries;if(!p.a.mobile()&&!n.selectedCommentaryId){var i=d.a.first(n.sortedItemsId);i&&t(r(i))}}}Object.defineProperty(e,"__esModule",{value:!0}),e.loadCommentaries=i,e.selectCommentary=r,e.loadCommentary=o,e.openCommentaryPage=s,e.closeCommentaryPage=a,e.selectFirstItem=l;var c=n(681),u=n(0),d=n.n(u),h=n(15),p=n.n(h),f=n(6),m=n.n(f),g=n(40),v=n.n(g),b=n(88),y=n(10),_=v.a.commentaries.updateInterval},function(t,e,n){(function(t){!function(t,n){n(e)}(0,function(e){function n(t){this._targetElement=t,this._introItems=[],this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",hidePrev:!1,hideNext:!1,tooltipPosition:"bottom",tooltipClass:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.8,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,hintPosition:"top-middle",hintButtonLabel:"Got it",hintAnimation:!0}}function i(t){var e=[],n=this;if(this._options.steps)for(var i=0,o=this._options.steps.length;i<o;i++){var s=r(this._options.steps[i]);if(s.step=e.length+1,"string"==typeof s.element&&(s.element=document.querySelector(s.element)),void 0===s.element||null==s.element){var c=document.querySelector(".introjsFloatingElement");null==c&&(c=document.createElement("div"),c.className="introjsFloatingElement",document.body.appendChild(c)),s.element=c,s.position="floating"}s.scrollTo=s.scrollTo||this._options.scrollTo,void 0===s.disableInteraction&&(s.disableInteraction=this._options.disableInteraction),null!=s.element&&e.push(s)}else{var d=t.querySelectorAll("*[data-intro]");if(d.length<1)return!1;for(var i=0,h=d.length;i<h;i++){var p=d[i];if("none"!=p.style.display){var f=parseInt(p.getAttribute("data-step"),10),m=this._options.disableInteraction;void 0!==p.getAttribute("data-disable-interaction")&&(m=!!p.getAttribute("data-disable-interaction")),f>0&&(e[f-1]={element:p,intro:p.getAttribute("data-intro"),step:parseInt(p.getAttribute("data-step"),10),tooltipClass:p.getAttribute("data-tooltipClass"),highlightClass:p.getAttribute("data-highlightClass"),position:p.getAttribute("data-position")||this._options.tooltipPosition,scrollTo:p.getAttribute("data-scrollTo")||this._options.scrollTo,disableInteraction:m})}}for(var g=0,i=0,h=d.length;i<h;i++){var p=d[i];if(null==p.getAttribute("data-step")){for(;;){if(void 0===e[g])break;g++}var m=this._options.disableInteraction;void 0!==p.getAttribute("data-disable-interaction")&&(m=!!p.getAttribute("data-disable-interaction")),e[g]={element:p,intro:p.getAttribute("data-intro"),step:g+1,tooltipClass:p.getAttribute("data-tooltipClass"),highlightClass:p.getAttribute("data-highlightClass"),position:p.getAttribute("data-position")||this._options.tooltipPosition,scrollTo:p.getAttribute("data-scrollTo")||this._options.scrollTo,disableInteraction:m}}}}for(var v=[],b=0;b<e.length;b++)e[b]&&v.push(e[b]);if(e=v,e.sort(function(t,e){return t.step-e.step}),n._introItems=e,P.call(n,t)){a.call(n);t.querySelector(".introjs-skipbutton"),t.querySelector(".introjs-nextbutton");n._onKeyDown=function(e){if(27===e.keyCode&&1==n._options.exitOnEsc)u.call(n,t);else if(37===e.keyCode)l.call(n);else if(39===e.keyCode)a.call(n);else if(13===e.keyCode){var i=e.target||e.srcElement;i&&i.className.indexOf("introjs-prevbutton")>0?l.call(n):i&&i.className.indexOf("introjs-skipbutton")>0?(n._introItems.length-1==n._currentStep&&"function"==typeof n._introCompleteCallback&&n._introCompleteCallback.call(n),u.call(n,t)):a.call(n),e.preventDefault?e.preventDefault():e.returnValue=!1}},n._onResize=function(t){n.refresh.call(n)},window.addEventListener?(this._options.keyboardNavigation&&window.addEventListener("keydown",n._onKeyDown,!0),window.addEventListener("resize",n._onResize,!0)):document.attachEvent&&(this._options.keyboardNavigation&&document.attachEvent("onkeydown",n._onKeyDown),document.attachEvent("onresize",n._onResize))}return!1}function r(e){if(null==e||"object"!=typeof e||void 0!==e.nodeType)return e;var n={};for(var i in e)void 0!==t&&e[i]instanceof t?n[i]=e[i]:n[i]=r(e[i]);return n}function o(t){this._currentStep=t-2,void 0!==this._introItems&&a.call(this)}function s(t){this._currentStepNumber=t,void 0!==this._introItems&&a.call(this)}function a(){if(this._direction="forward",void 0!==this._currentStepNumber)for(var t=0,e=this._introItems.length;t<e;t++){var n=this._introItems[t];n.step===this._currentStepNumber&&(this._currentStep=t-1,this._currentStepNumber=void 0)}if(void 0===this._currentStep?this._currentStep=0:++this._currentStep,this._introItems.length<=this._currentStep)return"function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),void u.call(this,this._targetElement);var i=this._introItems[this._currentStep];void 0!==this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,i.element),y.call(this,i)}function l(){if(this._direction="backward",0===this._currentStep)return!1;var t=this._introItems[--this._currentStep];void 0!==this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,t.element),y.call(this,t)}function c(){if(g.call(this,document.querySelector(".introjs-helperLayer")),g.call(this,document.querySelector(".introjs-tooltipReferenceLayer")),void 0!==this._currentStep&&null!==this._currentStep){var t=document.querySelector(".introjs-helperNumberLayer"),e=document.querySelector(".introjs-arrow"),n=document.querySelector(".introjs-tooltip");d.call(this,this._introItems[this._currentStep].element,n,e,t)}return M.call(this),this}function u(t,e){var n=!0;if(void 0!=this._introBeforeExitCallback&&(n=this._introBeforeExitCallback.call(self)),e||!1!==n){var i=t.querySelectorAll(".introjs-overlay");if(i&&i.length>0)for(var r=i.length-1;r>=0;r--){var o=i[r];o.style.opacity=0,setTimeout(function(){this.parentNode&&this.parentNode.removeChild(this)}.bind(o),500)}var s=t.querySelector(".introjs-helperLayer");s&&s.parentNode.removeChild(s);var a=t.querySelector(".introjs-tooltipReferenceLayer");a&&a.parentNode.removeChild(a);var l=t.querySelector(".introjs-disableInteraction");l&&l.parentNode.removeChild(l);var c=document.querySelector(".introjsFloatingElement");c&&c.parentNode.removeChild(c),w();var u=document.querySelectorAll(".introjs-fixParent");if(u&&u.length>0)for(var r=u.length-1;r>=0;r--)u[r].className=u[r].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");window.removeEventListener?window.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown),void 0!=this._introExitCallback&&this._introExitCallback.call(self),this._currentStep=void 0}}function d(t,e,n,i,r){var o,s,a,l,c,u="";if(r=r||!1,e.style.top=null,e.style.right=null,e.style.bottom=null,e.style.left=null,e.style.marginLeft=null,e.style.marginTop=null,n.style.display="inherit",void 0!==i&&null!=i&&(i.style.top=null,i.style.left=null),this._introItems[this._currentStep])switch(o=this._introItems[this._currentStep],u="string"==typeof o.tooltipClass?o.tooltipClass:this._options.tooltipClass,e.className=("introjs-tooltip "+u).replace(/^\s+|\s+$/g,""),c=this._introItems[this._currentStep].position,"floating"!=c&&(c="auto"===c?f.call(this,t,e):f.call(this,t,e,c)),a=V(t),s=V(e),l=k(),c){case"top":if(n.className="introjs-arrow bottom",r)var d=0;else var d=15;h(a,d,s,l,e),e.style.bottom=a.height+20+"px";break;case"right":e.style.left=a.width+20+"px",a.top+s.height>l.height?(n.className="introjs-arrow left-bottom",e.style.top="-"+(s.height-a.height-20)+"px"):n.className="introjs-arrow left";break;case"left":r||1!=this._options.showStepNumbers||(e.style.top="15px"),a.top+s.height>l.height?(e.style.top="-"+(s.height-a.height-20)+"px",n.className="introjs-arrow right-bottom"):n.className="introjs-arrow right",e.style.right=a.width+20+"px";break;case"floating":n.style.display="none",e.style.left="50%",e.style.top="50%",e.style.marginLeft="-"+s.width/2+"px",e.style.marginTop="-"+s.height/2+"px",void 0!==i&&null!=i&&(i.style.left="-"+(s.width/2+18)+"px",i.style.top="-"+(s.height/2+18)+"px");break;case"bottom-right-aligned":n.className="introjs-arrow top-right";p(a,0,s,e),e.style.top=a.height+20+"px";break;case"bottom-middle-aligned":n.className="introjs-arrow top-middle";var m=a.width/2-s.width/2;r&&(m+=5),p(a,m,s,e)&&(e.style.right=null,h(a,m,s,l,e)),e.style.top=a.height+20+"px";break;case"bottom-left-aligned":case"bottom":default:n.className="introjs-arrow top";var d=0;h(a,d,s,l,e),e.style.top=a.height+20+"px"}}function h(t,e,n,i,r){return t.left+e+n.width>i.width?(r.style.left=i.width-n.width-t.left+"px",!1):(r.style.left=e+"px",!0)}function p(t,e,n,i){return t.left+t.width-e-n.width<0?(i.style.left=-t.left+"px",!1):(i.style.right=e+"px",!0)}function f(t,e,n){var i=this._options.positionPrecedence.slice(),r=k(),o=V(e).height+10,s=V(e).width+20,a=V(t),l="floating";return a.left+s>r.width||a.left+a.width/2-s<0?(m(i,"bottom"),m(i,"top")):(a.height+a.top+o>r.height&&m(i,"bottom"),a.top-o<0&&m(i,"top")),a.width+a.left+s>r.width&&m(i,"right"),a.left-s<0&&m(i,"left"),i.length>0&&(l=i[0]),n&&"auto"!=n&&i.indexOf(n)>-1&&(l=n),l}function m(t,e){t.indexOf(e)>-1&&t.splice(t.indexOf(e),1)}function g(t){if(t){if(!this._introItems[this._currentStep])return;var e=this._introItems[this._currentStep],n=V(e.element),i=10;T(e.element)?t.className+=" introjs-fixedTooltip":t.className=t.className.replace(" introjs-fixedTooltip",""),"floating"==e.position&&(i=0),t.setAttribute("style","width: "+(n.width+i)+"px; height:"+(n.height+i)+"px; top:"+(n.top-5)+"px;left: "+(n.left-5)+"px;")}}function v(){var t=document.querySelector(".introjs-disableInteraction");null===t&&(t=document.createElement("div"),t.className="introjs-disableInteraction",this._targetElement.appendChild(t)),g.call(this,t)}function b(t){t.setAttribute("role","button"),t.tabIndex=0}function y(t){void 0!==this._introChangeCallback&&this._introChangeCallback.call(this,t.element);var e=this,n=document.querySelector(".introjs-helperLayer"),i=document.querySelector(".introjs-tooltipReferenceLayer"),r="introjs-helperLayer";V(t.element);if("string"==typeof t.highlightClass&&(r+=" "+t.highlightClass),"string"==typeof this._options.highlightClass&&(r+=" "+this._options.highlightClass),null!=n){var o=i.querySelector(".introjs-helperNumberLayer"),s=i.querySelector(".introjs-tooltiptext"),c=i.querySelector(".introjs-arrow"),h=i.querySelector(".introjs-tooltip"),p=i.querySelector(".introjs-skipbutton"),f=i.querySelector(".introjs-prevbutton"),m=i.querySelector(".introjs-nextbutton");if(n.className=r,h.style.opacity=0,h.style.display="none",null!=o){var y=this._introItems[t.step-2>=0?t.step-2:0];(null!=y&&"forward"==this._direction&&"floating"==y.position||"backward"==this._direction&&"floating"==t.position)&&(o.style.opacity=0)}g.call(e,n),g.call(e,i);var E=document.querySelectorAll(".introjs-fixParent");if(E&&E.length>0)for(var x=E.length-1;x>=0;x--)E[x].className=E[x].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");w(),e._lastShowElementTimer&&clearTimeout(e._lastShowElementTimer),e._lastShowElementTimer=setTimeout(function(){null!=o&&(o.innerHTML=t.step),s.innerHTML=t.intro,h.style.display="block",d.call(e,t.element,h,c,o),e._options.showBullets&&(i.querySelector(".introjs-bullets li > a.active").className="",i.querySelector('.introjs-bullets li > a[data-stepnumber="'+t.step+'"]').className="active"),i.querySelector(".introjs-progress .introjs-progressbar").setAttribute("style","width:"+H.call(e)+"%;"),h.style.opacity=1,o&&(o.style.opacity=1),void 0!==p&&null!=p&&/introjs-donebutton/gi.test(p.className)?p.focus():void 0!==m&&null!=m&&m.focus(),_.call(e,t.scrollTo,t,s)},350)}else{var C=document.createElement("div"),T=document.createElement("div"),k=document.createElement("div"),O=document.createElement("div"),P=document.createElement("div"),I=document.createElement("div"),A=document.createElement("div"),M=document.createElement("div");C.className=r,T.className="introjs-tooltipReferenceLayer",g.call(e,C),g.call(e,T),this._targetElement.appendChild(C),this._targetElement.appendChild(T),k.className="introjs-arrow",P.className="introjs-tooltiptext",P.innerHTML=t.intro,I.className="introjs-bullets",!1===this._options.showBullets&&(I.style.display="none");for(var N=document.createElement("ul"),x=0,D=this._introItems.length;x<D;x++){var L=document.createElement("li"),R=document.createElement("a");R.onclick=function(){e.goToStep(this.getAttribute("data-stepnumber"))},x===t.step-1&&(R.className="active"),b(R),R.innerHTML="&nbsp;",R.setAttribute("data-stepnumber",this._introItems[x].step),L.appendChild(R),N.appendChild(L)}I.appendChild(N),A.className="introjs-progress",!1===this._options.showProgress&&(A.style.display="none");var F=document.createElement("div");if(F.className="introjs-progressbar",F.setAttribute("style","width:"+H.call(this)+"%;"),A.appendChild(F),M.className="introjs-tooltipbuttons",!1===this._options.showButtons&&(M.style.display="none"),O.className="introjs-tooltip",O.appendChild(P),O.appendChild(I),O.appendChild(A),1==this._options.showStepNumbers){var B=document.createElement("span");B.className="introjs-helperNumberLayer",B.innerHTML=t.step,T.appendChild(B)}O.appendChild(k),T.appendChild(O);var m=document.createElement("a");m.onclick=function(){e._introItems.length-1!=e._currentStep&&a.call(e)},b(m),m.innerHTML=this._options.nextLabel;var f=document.createElement("a");f.onclick=function(){0!=e._currentStep&&l.call(e)},b(f),f.innerHTML=this._options.prevLabel;var p=document.createElement("a");p.className="introjs-button introjs-skipbutton",b(p),p.innerHTML=this._options.skipLabel,p.onclick=function(){e._introItems.length-1==e._currentStep&&"function"==typeof e._introCompleteCallback&&e._introCompleteCallback.call(e),u.call(e,e._targetElement)},M.appendChild(p),this._introItems.length>1&&(M.appendChild(f),M.appendChild(m)),O.appendChild(M),d.call(e,t.element,O,k,B),_.call(this,t.scrollTo,t,O)}var U=e._targetElement.querySelector(".introjs-disableInteraction");U&&U.parentNode.removeChild(U),t.disableInteraction&&v.call(e),void 0!==m&&null!=m&&m.removeAttribute("tabIndex"),void 0!==f&&null!=f&&f.removeAttribute("tabIndex"),0==this._currentStep&&this._introItems.length>1?(void 0!==p&&null!=p&&(p.className="introjs-button introjs-skipbutton"),void 0!==m&&null!=m&&(m.className="introjs-button introjs-nextbutton"),1==this._options.hidePrev?(void 0!==f&&null!=f&&(f.className="introjs-button introjs-prevbutton introjs-hidden"),void 0!==m&&null!=m&&(m.className+=" introjs-fullbutton")):void 0!==f&&null!=f&&(f.className="introjs-button introjs-prevbutton introjs-disabled"),void 0!==f&&null!=f&&(f.tabIndex="-1"),void 0!==p&&null!=p&&(p.innerHTML=this._options.skipLabel)):this._introItems.length-1==this._currentStep||1==this._introItems.length?(void 0!==p&&null!=p&&(p.innerHTML=this._options.doneLabel,p.className+=" introjs-donebutton"),void 0!==f&&null!=f&&(f.className="introjs-button introjs-prevbutton"),1==this._options.hideNext?(void 0!==m&&null!=m&&(m.className="introjs-button introjs-nextbutton introjs-hidden"),void 0!==f&&null!=f&&(f.className+=" introjs-fullbutton")):void 0!==m&&null!=m&&(m.className="introjs-button introjs-nextbutton introjs-disabled"),void 0!==m&&null!=m&&(m.tabIndex="-1")):(void 0!==p&&null!=p&&(p.className="introjs-button introjs-skipbutton"),void 0!==f&&null!=f&&(f.className="introjs-button introjs-prevbutton"),void 0!==m&&null!=m&&(m.className="introjs-button introjs-nextbutton"),void 0!==p&&null!=p&&(p.innerHTML=this._options.skipLabel)),void 0!==m&&null!=m&&m.focus(),S(t),void 0!==this._introAfterChangeCallback&&this._introAfterChangeCallback.call(this,t.element)}function _(t,e,n){if(this._options.scrollToElement){if("tooltip"===t)var i=n.getBoundingClientRect();else var i=e.element.getBoundingClientRect();if(!O(e.element)){var r=k().height,o=i.bottom-(i.bottom-i.top);i.bottom;o<0||e.element.clientHeight>r?window.scrollBy(0,i.top-(r/2-i.height/2)-this._options.scrollPadding):window.scrollBy(0,i.top-(r/2-i.height/2)+this._options.scrollPadding)}}}function w(){for(var t=document.querySelectorAll(".introjs-showElement"),e=0,n=t.length;e<n;e++){x(t[e],/introjs-[a-zA-Z]+/g)}}function S(t){if(t.element instanceof SVGElement)for(var e=t.element.parentNode;null!=t.element.parentNode&&e.tagName&&"body"!==e.tagName.toLowerCase();)"svg"===e.tagName.toLowerCase()&&E(e,"introjs-showElement introjs-relativePosition"),e=e.parentNode;E(t.element,"introjs-showElement");var n=C(t.element,"position");"absolute"!==n&&"relative"!==n&&"fixed"!==n&&E(t.element,"introjs-relativePosition");for(var e=t.element.parentNode;null!=e&&e.tagName&&"body"!==e.tagName.toLowerCase();){var i=C(e,"z-index"),r=parseFloat(C(e,"opacity")),o=C(e,"transform")||C(e,"-webkit-transform")||C(e,"-moz-transform")||C(e,"-ms-transform")||C(e,"-o-transform");(/[0-9]+/.test(i)||r<1||"none"!==o&&void 0!==o)&&(e.className+=" introjs-fixParent"),e=e.parentNode}}function E(t,e){if(t instanceof SVGElement){var n=t.getAttribute("class")||"";t.setAttribute("class",n+" "+e)}else t.className+=" "+e}function x(t,e){if(t instanceof SVGElement){var n=t.getAttribute("class")||"";t.setAttribute("class",n.replace(e,"").replace(/^\s+|\s+$/g,""))}else t.className=t.className.replace(e,"").replace(/^\s+|\s+$/g,"")}function C(t,e){var n="";return t.currentStyle?n=t.currentStyle[e]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),n&&n.toLowerCase?n.toLowerCase():n}function T(t){var e=t.parentNode;return!(!e||"HTML"===e.nodeName)&&("fixed"==C(t,"position")||T(e))}function k(){if(void 0!=window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var t=document.documentElement;return{width:t.clientWidth,height:t.clientHeight}}function O(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom+80<=window.innerHeight&&e.right<=window.innerWidth}function P(t){var e=document.createElement("div"),n="",i=this;if(e.className="introjs-overlay",t.tagName&&"body"!==t.tagName.toLowerCase()){var r=V(t);r&&(n+="width: "+r.width+"px; height:"+r.height+"px; top:"+r.top+"px;left: "+r.left+"px;",e.setAttribute("style",n))}else n+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",e.setAttribute("style",n);return t.appendChild(e),e.onclick=function(){1==i._options.exitOnOverlayClick&&u.call(i,t)},setTimeout(function(){n+="opacity: "+i._options.overlayOpacity.toString()+";",e.setAttribute("style",n)},10),!0}function I(){var t=this._targetElement.querySelector(".introjs-hintReference");if(t){var e=t.getAttribute("data-step");return t.parentNode.removeChild(t),e}}function A(t){if(this._introItems=[],this._options.hints)for(var e=0,n=this._options.hints.length;e<n;e++){var i=r(this._options.hints[e]);"string"==typeof i.element&&(i.element=document.querySelector(i.element)),i.hintPosition=i.hintPosition||this._options.hintPosition,i.hintAnimation=i.hintAnimation||this._options.hintAnimation,null!=i.element&&this._introItems.push(i)}else{var o=t.querySelectorAll("*[data-hint]");if(o.length<1)return!1;for(var e=0,n=o.length;e<n;e++){var s=o[e],a=s.getAttribute("data-hintAnimation");a=a?"true"==a:this._options.hintAnimation,this._introItems.push({element:s,hint:s.getAttribute("data-hint"),hintPosition:s.getAttribute("data-hintPosition")||this._options.hintPosition,hintAnimation:a,tooltipClass:s.getAttribute("data-tooltipClass"),position:s.getAttribute("data-position")||this._options.tooltipPosition})}}U.call(this),document.addEventListener?(document.addEventListener("click",I.bind(this),!1),window.addEventListener("resize",M.bind(this),!0)):document.attachEvent&&(document.attachEvent("onclick",I.bind(this)),document.attachEvent("onresize",M.bind(this)))}function M(){for(var t=0,e=this._introItems.length;t<e;t++){var n=this._introItems[t];void 0!==n.targetElement&&j.call(this,n.hintPosition,n.element,n.targetElement)}}function N(t){I.call(this);var e=this._targetElement.querySelector('.introjs-hint[data-step="'+t+'"]');e&&(e.className+=" introjs-hidehint"),void 0!==this._hintCloseCallback&&this._hintCloseCallback.call(this,t)}function D(){var t=this._targetElement.querySelectorAll(".introjs-hint");if(t&&t.length>0)for(var e=0;e<t.length;e++)N.call(this,t[e].getAttribute("data-step"))}function L(){var t=this._targetElement.querySelectorAll(".introjs-hint");if(t&&t.length>0)for(var e=0;e<t.length;e++)R.call(this,t[e].getAttribute("data-step"));else A.call(this,this._targetElement)}function R(t){var e=this._targetElement.querySelector('.introjs-hint[data-step="'+t+'"]');e&&(e.className=e.className.replace(/introjs\-hidehint/g,""))}function F(){var t=this._targetElement.querySelectorAll(".introjs-hint");if(t&&t.length>0)for(var e=0;e<t.length;e++)B.call(this,t[e].getAttribute("data-step"))}function B(t){var e=this._targetElement.querySelector('.introjs-hint[data-step="'+t+'"]');e&&e.parentNode.removeChild(e)}function U(){var t=this,e=document.querySelector(".introjs-hints");if(null!=e)n=e;else{var n=document.createElement("div");n.className="introjs-hints"}for(var i=0,r=this._introItems.length;i<r;i++){var o=this._introItems[i];if(!document.querySelector('.introjs-hint[data-step="'+i+'"]')){var s=document.createElement("a");b(s),function(e,n,i){e.onclick=function(e){var n=e||window.event;n.stopPropagation&&n.stopPropagation(),null!=n.cancelBubble&&(n.cancelBubble=!0),z.call(t,i)}}(s,0,i),s.className="introjs-hint",o.hintAnimation||(s.className+=" introjs-hint-no-anim"),T(o.element)&&(s.className+=" introjs-fixedhint");var a=document.createElement("div");a.className="introjs-hint-dot";var l=document.createElement("div");l.className="introjs-hint-pulse",s.appendChild(a),s.appendChild(l),s.setAttribute("data-step",i),o.targetElement=o.element,o.element=s,j.call(this,o.hintPosition,s,o.targetElement),n.appendChild(s)}}document.body.appendChild(n),void 0!==this._hintsAddedCallback&&this._hintsAddedCallback.call(this)}function j(t,e,n){var i=V.call(this,n);switch(t){default:case"top-left":e.style.left=i.left+"px",e.style.top=i.top+"px";break;case"top-right":e.style.left=i.left+i.width-20+"px",e.style.top=i.top+"px";break;case"bottom-left":e.style.left=i.left+"px",e.style.top=i.top+i.height-20+"px";break;case"bottom-right":e.style.left=i.left+i.width-20+"px",e.style.top=i.top+i.height-20+"px";break;case"middle-left":e.style.left=i.left+"px",e.style.top=i.top+(i.height-20)/2+"px";break;case"middle-right":e.style.left=i.left+i.width-20+"px",e.style.top=i.top+(i.height-20)/2+"px";break;case"middle-middle":e.style.left=i.left+(i.width-20)/2+"px",e.style.top=i.top+(i.height-20)/2+"px";break;case"bottom-middle":e.style.left=i.left+(i.width-20)/2+"px",e.style.top=i.top+i.height-20+"px";break;case"top-middle":e.style.left=i.left+(i.width-20)/2+"px",e.style.top=i.top+"px"}}function z(t){var e=document.querySelector('.introjs-hint[data-step="'+t+'"]'),n=this._introItems[t];void 0!==this._hintClickCallback&&this._hintClickCallback.call(this,e,n,t);var i=I.call(this);if(parseInt(i,10)!=t){var r=document.createElement("div"),o=document.createElement("div"),s=document.createElement("div"),a=document.createElement("div");r.className="introjs-tooltip",r.onclick=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},o.className="introjs-tooltiptext";var l=document.createElement("p");l.innerHTML=n.hint;var c=document.createElement("a");c.className="introjs-button",c.innerHTML=this._options.hintButtonLabel,c.onclick=N.bind(this,t),o.appendChild(l),o.appendChild(c),s.className="introjs-arrow",r.appendChild(s),r.appendChild(o),this._currentStep=e.getAttribute("data-step"),a.className="introjs-tooltipReferenceLayer introjs-hintReference",a.setAttribute("data-step",e.getAttribute("data-step")),g.call(this,a),a.appendChild(r),document.body.appendChild(a),d.call(this,e,r,s,null,!0)}}function V(t){var e={},n=document.body,i=document.documentElement,r=window.pageYOffset||i.scrollTop||n.scrollTop,o=window.pageXOffset||i.scrollLeft||n.scrollLeft;if(t instanceof SVGElement){var s=t.getBoundingClientRect();e.top=s.top+r,e.width=s.width,e.height=s.height,e.left=s.left+o}else{e.width=t.offsetWidth,e.height=t.offsetHeight;for(var a=0,l=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)a+=t.offsetLeft,l+=t.offsetTop,t=t.offsetParent;e.top=l,e.left=a}return e}function H(){return parseInt(this._currentStep+1,10)/this._introItems.length*100}function G(t,e){var n={};for(var i in t)n[i]=t[i];for(var i in e)n[i]=e[i];return n}var W=function(t){if("object"==typeof t)return new n(t);if("string"==typeof t){var e=document.querySelector(t);if(e)return new n(e);throw new Error("There is no element with given selector.")}return new n(document.body)};return W.version="2.7.0",W.fn=n.prototype={clone:function(){return new n(this)},setOption:function(t,e){return this._options[t]=e,this},setOptions:function(t){return this._options=G(this._options,t),this},start:function(){return i.call(this,this._targetElement),this},goToStep:function(t){return o.call(this,t),this},addStep:function(t){return this._options.steps||(this._options.steps=[]),this._options.steps.push(t),this},addSteps:function(t){if(t.length){for(var e=0;e<t.length;e++)this.addStep(t[e]);return this}},goToStepNumber:function(t){return s.call(this,t),this},nextStep:function(){return a.call(this),this},previousStep:function(){return l.call(this),this},exit:function(t){return u.call(this,this._targetElement,t),this},refresh:function(){return c.call(this),this},onbeforechange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=t,this},onchange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=t,this},onafterchange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=t,this},oncomplete:function(t){if("function"!=typeof t)throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=t,this},onhintsadded:function(t){if("function"!=typeof t)throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=t,this},onhintclick:function(t){if("function"!=typeof t)throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=t,this},onhintclose:function(t){if("function"!=typeof t)throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=t,this},onexit:function(t){if("function"!=typeof t)throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=t,this},onbeforeexit:function(t){if("function"!=typeof t)throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=t,this},addHints:function(){return A.call(this,this._targetElement),this},hideHint:function(t){return N.call(this,t),this},hideHints:function(){return D.call(this),this},showHint:function(t){return R.call(this,t),this},showHints:function(){return L.call(this),this},removeHints:function(){return F.call(this),this},removeHint:function(t){return B.call(this,t),this},showHintDialog:function(t){return z.call(this,t),this}},e.introJs=W,W})}).call(e,n(5))},function(t,e,n){var i=n(266);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var i=n(57),r=n(21),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(123)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var i=n(90);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";var i=n(18);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var i=n(18),r=n(64),o=n(32)("species");t.exports=function(t,e){var n,s=i(t).constructor;return void 0===s||void 0==(n=i(s)[o])?e:r(n)}},,,,,function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(17),o=n(0),s=r.Model.extend({defaults:function(){return{defaultZindex:7e3,router:"",popups:[],popupOpen:!1,amountOpenPopups:0}},getDefaultZindex:function(){return Number(this.get("defaultZindex"))||0},getZindexForPopup:function(t){var e=this.getOpenPopups(),n=this.getDefaultZindex(),i=e[e.length-1];return t=Number(t),i?i.zIndex+1:o.isNaN(t)?n:t<n?n:t},isPopupOpen:function(){return this.get("popupOpen")},getRouter:function(){return this.get("router")},getOpenPopups:function(){var t=this.get("popups");return o.isArray(t)?t:(this.set({popups:[]},{silent:!0}),this.get("popups"))},getAmountOpenPopups:function(){return this.get("amountOpenPopups")},getTopPopup:function(){var t=this.getOpenPopups(),e=t.length-1;return!!o.isObject(t[e])&&t[e]},getNameForOpenPopup:function(){var t=this.getTopPopup();return o.has(t,"name")?t.name:""},setRouter:function(t){this.set({router:t})},addPopup:function(t){this.getOpenPopups().push({name:t.name,zIndex:t.zIndex}),this.set({amountOpenPopups:this.getAmountOpenPopups()+1,popupOpen:!0})},deletePopup:function(t){if(!o.isEmpty(this.getOpenPopups())){var e=this.getTopPopup();if(o.has(e,"name")&&e.name===t){this.getOpenPopups().pop();var n={amountOpenPopups:this.getAmountOpenPopups()-1,popupOpen:!1};this.getAmountOpenPopups()>1&&delete n.popupOpen,this.set(n)}}}});i.exports=new s}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(15);i.exports.device=function(){return r.tablet()?r.ios()?"iOSTabletWrapper":"androidTabletWrapper":r.mobile()?r.ios()?"iOSMobileWrapper":"androidMobileWrapper":"desktop"}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(1);r.exports=o.createClass({displayName:"exports",getDefaultProps:function(){return{type:"default",icon:"",className:"",size:"sm",tag:"button",isDisabled:!1,tooltipText:"",tooltipAlign:"",onClick:function(){}}},onClick:function(t){t.stopPropagation(),this.props.isDisabled||i.isFunction(this.props.onClick)&&this.props.onClick(t)},render:function(){var t=["btn",this.props.className,this.props.isDisabled?"disabled":""];return this.props.icon?t.push("btn-icon"):t.push("btn-"+this.props.type,"btn-"+this.props.size),o.createElement(this.props.tag,{onClick:this.onClick,"aria-label":this.props.tooltipText,"data-tooltip-align":this.props.tooltipAlign,className:t.join(" ")},this.props.icon&&o.createElement("i",{className:["icon","icon-"+this.props.icon].join(" ")}),this.props.children)}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(13),o=(n(2),n(9)),s=(n(6),n(22),n(14),n(178)),a=r.extend({defaults:function(){return{}},initialize:function(){r.prototype.initialize.apply(this,arguments),this.user=n(7)},setAmountIncrement:function(t){this.set("amountIncrement",Number(t))},getAmountIncrement:function(){return this.get("amountIncrement")},setOriginalAmount:function(t){this.set("originalAmount",Number(t))},getOriginalAmount:function(){return this.get("originalAmount")},setMarginInAccountCurrency:function(t){this.set("marginInAccountCurrency",t)},getMarginInAccountCurrency:function(){return this.get("marginInAccountCurrency")},setRequiredMarginInAccountCurrency:function(t){this.set("requiredMarginInAccountCurrency",t)},getRequiredMarginInAccountCurrency:function(){return this.get("requiredMarginInAccountCurrency")},setRequiredMarginInInstrumentCurrency:function(t){this.set("requiredMarginInInstrumentCurrency",t)},getRequiredMarginInInstrumentCurrency:function(){return this.get("requiredMarginInInstrumentCurrency")},setMarginInInstrumentCurrency:function(t){this.set("marginInInstrumentCurrency",t)},getMarginInInstrumentCurrency:function(){return this.get("marginInInstrumentCurrency")},updateMargins:function(){var t=this.getInstrumentModel();this.setRequiredMarginInAccountCurrency(t.get("requiredMarginInAccountCurrency")),this.setRequiredMarginInInstrumentCurrency(t.get("requiredMarginInInstrumentCurrency")),this.setTotalRequiredMargin(t.get("totalRequiredMargin"))},updateGuaranteedStopLoss:function(){var t=this.calcGuaranteedStopLoss(),e=this.calcGuaranteedStopLossEntryLimit(),n=this.calcGuaranteedStopLossEntryStop();this.setGuaranteedStopLoss(t),this.setGuaranteedStopLossEntryLimit(e),this.setGuaranteedStopLossEntryStop(n)},setAmount:function(t,e){this.set("amount",Number(t),e)},getAmount:function(){return this.get("amount")},toFixed:function(t,e){var n=Number(t).toFixed(this.getInstrumentModel().getPrecision());return!0===e?n:+n},filter:function(){var t=String(this.get("direction")).toUpperCase();["BUY","SELL"].indexOf(t)<0&&(t="BUY"),this.set("direction",t)},getInstrumentModel:function(){return this.get("instrumentModel")},getSymbol:function(){return this.getInstrumentModel().getSymbol()},getPercentChange:function(){return this.getInstrumentModel().getPercentChange()},getCurrentPrice:function(){return this.toFixed(this.get("currentPrice"))},setCurrentPrice:function(t){this.set("currentPrice",this.toFixed(t))},getTakeProfitFromEntryLimit:function(){return this.get("takeProfitFromEntryLimit")},setTakeProfitFromEntryLimit:function(t,e){this.set("takeProfitFromEntryLimit",this.toFixed(t),e)},getTakeProfit:function(){return this.toFixed(this.get("takeProfit"))},setTakeProfit:function(t,e){this.set("takeProfit",this.toFixed(t),e),this.validateTakeProfit()},isTakeProfitEmpty:function(){var t=this.get("takeProfit");return null===t||void 0===t},cleanTakeProfit:function(){this.set("takeProfit",null)},resetTakeProfit:function(){this.calcTakeProfit()},getEntryOrderPrice:function(){var t=this.getEntryLimit(),e=this.getEntryStop();return null!==t?t:null!==e?e:void 0},getPrice:function(){var t=this.getCurrentPrice(),e=this.getEntryOrderPrice();return void 0!==e&&null!==e?e:t},setMinTakeProfit:function(t,e){this.set("minTakeProfit",this.toFixed(t),e)},getMinTakeProfit:function(){return this.toFixed(this.get("minTakeProfit"))},calcMinTakeProfit:function(){var t=this.isBuy()?this.getPrice()+this.minOrderDistance():this.getPrice()-this.minOrderDistance();this.setMinTakeProfit(t),this.calcTakeProfit()},getMinTakeProfitErrorMessage:function(){var t=this.isBuy()?this.get("minTakeProfitErrorMessage_Buy"):this.get("minTakeProfitErrorMessage_Sell");return __(t,this.getMinTakeProfit())},setMinStopLoss:function(t,e){this.set("minStopLoss",this.toFixed(t),e)},getMinStopLoss:function(){return this.toFixed(this.get("minStopLoss"))},calcMinStopLoss:function(){var t=this.isBuy()?this.getPrice()-this.minOrderDistance():this.getPrice()+this.minOrderDistance();this.setMinStopLoss(t)},getMinStopLossErrorMessage:function(){var t=this.isBuy()?this.get("minStopLossErrorMessage_Buy"):this.get("minStopLossErrorMessage_Sell");return __(t,this.getMinStopLoss())},validateTakeProfit:function(){var t=void 0,e=this.getTakeProfit(),n=this.minOrderDistance(!0);t=this.getEntryLimit()?this.isSell()?this.getEntryLimit()-n:this.getEntryLimit()+n:this.getEntryStop()?this.isSell()?this.getEntryStop()-n:this.getEntryStop()+n:this.getValidationValueForProfit();var i=null;e&&(this.isSell()&&e>t&&(i=__("order.form.validation.take_profit_pips_lesser",this.toFixed(t,!0))),this.isBuy()&&e<t&&(i=__("order.form.validation.take_profit_pips_higher",this.toFixed(t,!0)))),this.set("takeProfitError",i)},validateStopLoss:function(){var t=void 0,e=void 0,n=void 0,i=this.getStopLoss(),r=this.minOrderDistance(!0),o=this.getAmount(),s=this.getConversionRate(),a=this.getGuaranteedStopLoss(),l=this.get("position");if(this.getEntryLimit())n=this.getEntryLimit(),e=this.calcClosePrice(n),t=this.isSell()?this.getEntryLimit()+r:this.getEntryLimit()-r;else if(this.getEntryStop())n=this.getEntryStop(),e=this.calcClosePrice(n),t=this.isSell()?this.getEntryStop()+r:this.getEntryStop()-r;else{if(l){var c=l.get("dividends")||0,u=l.get("financing")||0,d=l.get("rollover")||0,h=this.isBuy()?-1:1;n=l.get("costBasis"),e=n+h*((a+c+u+d)/(o*s))}else n=this.getDefiniteRate(),e=this.calcClosePrice(n);t=this.getValidationValueForLoss()}var p=null;i&&(this.isSell()&&i<t&&(p=__("order.form.validation.stop_loss_pips_higher",this.toFixed(t,!0))),this.isBuy()&&i>t&&(p=__("order.form.validation.stop_loss_pips_lesser",this.toFixed(t,!0))),this.user.isGuaranteedStopLossEnabled()&&(this.isSell()&&i>e&&(p=__("order.form.validation.stop_loss_pips_lesser",this.toFixed(e,!0))),this.isBuy()&&i<e&&(p=__("order.form.validation.stop_loss_pips_higher",this.toFixed(e,!0))))),this.set("stopLossError",p)},getGSLLimit:function(){var t=this.getAmount(),e=this.getConversionRate(),n=this.getGuaranteedStopLoss(),i=this.get("position");if(i){var r=i.get("costBasis"),o=i.get("dividends")||0,s=i.get("financing")||0,a=i.get("rollover")||0;return r+(this.isBuy()?-1:1)*((n+o+s+a)/(t*e))}return 0},getGSLLimitForOrder:function(){var t=this.getAmount(),e=this.getConversionRate(),n=this.get("order");if(n){var i=n.get("stopLimitPrice")||n.get("stopPrice"),r=this.calcGslForPrice(i);return i+(this.isBuy()?-1:1)*(r/(t*e))}return 0},validateEntryLimit:function(){var t=this.getInstrumentModel().getPrecision(),e=this.getEntryLimit(),n=this.getCurrentPrice(),i=this.minOrderDistance(!0),r=null,o=0;this.isBuy()?(o=n-i)>this.getReflectRate()&&(o=Number((this.getReflectRate()-this.getInstrumentModel().getPipsPrecisionSize()).toFixed(t))):(o=n+i)<this.getReflectRate()&&(o=Number((this.getReflectRate()+this.getInstrumentModel().getPipsPrecisionSize()).toFixed(t))),e&&(this.isSell()&&e<o&&(r=__("order.form.validation.trigger_price_higher",__("order.form.field.entry_limit"),this.toFixed(o,!0))),this.isBuy()&&e>o&&(r=__("order.form.validation.trigger_price_lesser",__("order.form.field.entry_limit"),this.toFixed(o,!0)))),this.set("entryLimitError",r)},validateEntryStop:function(){var t=this.getEntryStop(),e=this.getCurrentPrice(),n=this.minOrderDistance(!0),i=this.isSell()?e-n:e+n,r=null;t&&(this.isSell()&&t>i&&(r=__("order.form.validation.trigger_price_lesser",__("order.form.field.entry_stop"),this.toFixed(i,!0))),this.isBuy()&&t<i&&(r=__("order.form.validation.trigger_price_higher",__("order.form.field.entry_stop"),this.toFixed(i,!0)))),this.set("entryStopError",r)},getStopLossFromEntryLimit:function(){return this.get("stopLossFromEntryLimit")},setStopLossFromEntryLimit:function(t,e){this.set("stopLossFromEntryLimit",this.toFixed(t),e)},getStopLoss:function(){return this.toFixed(this.get("stopLoss"))},setStopLoss:function(t,e){this.set("stopLoss",this.toFixed(t),e),this.validateStopLoss()},cleanStopLoss:function(){this.set("stopLoss","")},resetStopLoss:function(){this.calcStopLoss()},calcTakeProfit:function(){var t=void 0,e=this.getInstrumentModel().getPrecision();return this.isBuy()?(t=this.getPrice()+this.minOrderDistance())<this.getReflectRate()&&(t=Number((this.getReflectRate()+this.getInstrumentModel().getPipsPrecisionSize()).toFixed(e))):(t=this.getPrice()-this.minOrderDistance())>this.getReflectRate()&&(t=Number((this.getReflectRate()-this.getInstrumentModel().getPipsPrecisionSize()).toFixed(e))),this.setTakeProfit(t),this},calcStopLoss:function(){var t=void 0,e=this.getInstrumentModel().getPrecision();return this.isBuy()?(t=this.getPrice()-this.minOrderDistance())>this.getReflectRate()&&(t=Number((this.getReflectRate()-this.getInstrumentModel().getPipsPrecisionSize()).toFixed(e))):(t=this.getPrice()+this.minOrderDistance())<this.getReflectRate()&&(t=Number((this.getReflectRate()+this.getInstrumentModel().getPipsPrecisionSize()).toFixed(e))),this.setStopLoss(t),this},calcTakeProfitWithEntryOrder:function(t){var e=this.isBuy()?t+this.minOrderDistance():t-this.minOrderDistance();return this.setTakeProfit(e),this},calcStopLossWithEntryOrder:function(t){var e=this.isBuy()?t-this.minOrderDistance():t+this.minOrderDistance();return this.setStopLoss(e),this},calcEntryLimit:function(){var t=void 0,e=this.getInstrumentModel().getPrecision();return this.isBuy()?(t=this.getCurrentPrice()-this.minOrderDistance())>this.getReflectRate()&&(t=Number((this.getReflectRate()-this.getInstrumentModel().getPipsPrecisionSize()).toFixed(e))):(t=this.getCurrentPrice()+this.minOrderDistance())<this.getReflectRate()&&(t=Number((this.getReflectRate()+this.getInstrumentModel().getPipsPrecisionSize()).toFixed(e))),this.setEntryLimit(t),this},calcEntryStop:function(){var t=void 0,e=this.getInstrumentModel().getPrecision();return this.isBuy()?(t=this.getCurrentPrice()+this.minOrderDistance())<this.getReflectRate()&&(t=Number((this.getReflectRate()+this.getInstrumentModel().getPipsPrecisionSize()).toFixed(e))):(t=this.getCurrentPrice()-this.minOrderDistance())>this.getReflectRate()&&(t=Number((this.getReflectRate()-this.getInstrumentModel().getPipsPrecisionSize()).toFixed(e))),this.setEntryStop(t),this},calcDefaultValues:function(){},calcDefaultValuesWithEntryLimit:function(){this.calcStopLossWithEntryOrder(),this.calcTakeProfitWithEntryOrder()},minOrderDistance:function(t){var e=void 0,n=this.getInstrumentModel(),i=n.getLimitStopDistance(),r=n.getPipsPrecisionSize(),s=n.getPrecision(),a=o.getDefaultDistancePipsMultiplier();return a=a.toFixed(s),i=i.toFixed(s),e=t?i*r:i*a*r,Number(e.toFixed(s))},updatePrice:function(){this.setCurrentPrice(this.getRate())},isBuy:function(){return"BUY"===this.getDirection()},isSell:function(){return!this.isBuy()},getAsk:function(){return this.getInstrumentModel().getAsk()},getBid:function(){return this.getInstrumentModel().getBid()},getDefiniteRate:function(){return this.isBuy()?this.getAsk():this.getBid()},getEntryLimit:function(){return this.get("entryLimit")},setEntryLimit:function(t,e){this.set("entryLimit",this.toFixed(t),e),this.validateEntryLimit()},cleanEntryLimit:function(){this.set("entryLimit",null)},getEntryStop:function(){return this.get("entryStop")},setEntryStop:function(t,e){this.set("entryStop",this.toFixed(t),e),this.validateEntryStop()},cleanEntryStop:function(){this.set("entryStop",null)},setCurrentPriceFromEntryLimit:function(t,e){this.set("currentPriceFromEntryLimit",this.toFixed(t),e)},getCurrentPriceFromEntryLimit:function(){return this.get("currentPriceFromEntryLimit")},cleanCurrentPriceFromEntryLimit:function(){this.setCurrentPriceFromEntryLimit(null)},setCurrentPriceFromEntryStop:function(t,e){this.set("currentPriceFromEntryStop",this.toFixed(t),e)},getCurrentPriceFromEntryStop:function(){return this.get("currentPriceFromEntryStop")},cleanCurrentPriceFromEntryStop:function(){this.setCurrentPriceFromEntryStop(null)},onRateChanged:function(t,e){this.setRate(e)},getPriceDirectionKey:function(){return this.getPriceKey()+"Direction"},onPriceDirection:function(t,e){this.setRateDirection(e)},setRate:function(t){this.set("rate",t)},getRate:function(){return this.toFixed(this.get("rate"))},getRateDirection:function(){return this.get("rateDirection")},setRateDirection:function(t){this.set("rateDirection",t)},getDirection:function(){return this.get("direction")},getPriceKey:function(){return this.isBuy()?"ask":"bid"},getCurrencySymbol:function(){return this.getInstrumentModel().getBaseCurrencySymbol()},setClosedPrice:function(t){this.set("closedPrice",t)},getClosedPrice:function(){return this.get("closedPrice")},calcClosePrice:function(t){var e=t||this.getCurrentPrice(),n=this.getInstrumentModel(),i=n.getMarginRate()/100,r=this.isBuy()?-1:1,o=e*(1+r*i);return this.roundPrice(o,n.getPrecision())},roundPrice:function(t,e){return this.isBuy()?s.roundUp(t,e):s.roundDown(t,e)},setGuaranteedStopLoss:function(t){this.set("guaranteedStopLoss",t)},getGuaranteedStopLoss:function(){return this.get("guaranteedStopLoss")},setGuaranteedStopLossEntryLimit:function(t){this.set("guaranteedStopLossEntryLimit",t)},getGuaranteedStopLossEntryLimit:function(t){return this.get("guaranteedStopLossEntryLimit")},setGuaranteedStopLossEntryStop:function(t){this.set("guaranteedStopLossEntryStop",t)},getGuaranteedStopLossEntryStop:function(t){return this.get("guaranteedStopLossEntryStop")},calcGuaranteedStopLoss:function(){var t=this.getDefiniteRate();return this.calcGslForPrice(t)},calcGuaranteedStopLossEntryLimit:function(){var t=this.getEntryLimit();return this.calcGslForPrice(t)},calcGuaranteedStopLossEntryStop:function(){var t=this.getEntryStop();return this.calcGslForPrice(t)},calcGslForPrice:function(t){if(!this.user.isGuaranteedStopLossEnabled())return null;var e=this.getInstrumentModel(),n=this.getConversionRate(),i=this.getAmount(),r=e.isTypeForex()?1:e.getLotSize();return t*(e.getMarginRate()/100)*n*i*r},calcRequiredMarginForOrder:function(t,e){var n=this.getInstrumentModel(),i=n.getMarginRate()/100,r=void 0,o=this.getAsk()-this.getBid(),s=o*this.getAmount();e&&(s*=this.getConversionRate()),r=this.isBuy()?(t+(t-o))/2:(t+(t+o))/2;var a=this.getAmount()*r*i;return e&&(a*=this.getConversionRate()),a+s},calcLossForStopLoss:function(){var t=this.getInstrumentModel(),e=this.getStopLoss(),n=this.isEntryStopEnabled()?this.getEntryStop():this.isEntryLimitEnabled()?this.getEntryLimit():this.getCurrentPrice(),i=this.user.getUserCurrency(),r=(this.isBuy()?-(e-n):e-n)*this.getAmount(),o=t.getCurrency(),s=this.calcProfit(i,o,r);this.setLossForStopLoss(s)},calcProfitForTakeProfit:function(){var t=this.getInstrumentModel(),e=this.getTakeProfit(),n=this.isEntryStopEnabled()?this.getEntryStop():this.isEntryLimitEnabled()?this.getEntryLimit():this.getCurrentPrice(),i=this.user.getUserCurrency(),r=(this.isBuy()?e-n:-(e-n))*this.getAmount(),o=t.getCurrency(),s=this.calcProfit(i,o,r);this.setProfitForTakeProfit(s)},calcProfit:function(t,e,n){return n*this.getConversionRate()},setProfitForTakeProfit:function(t){this.set("profitForTakeProfit",Number(t))},getProfitForTakeProfit:function(){return Number(this.get("profitForTakeProfit")).toFixed(2)},setLossForStopLoss:function(t){this.set("lossForStopLoss",Number(t))},getLossForStopLoss:function(){return Number(this.get("lossForStopLoss")).toFixed(2)},getProfit:function(){return this.get("profitForTakeProfit")},getLoss:function(){return this.get("lossForStopLoss")},getMidRateByPair:function(t,e){return t===e?1:1/this.getConversionRate()},getLabelForEntryLimit:function(){return this.isBuy()?this.get("entryLimit_Buy_Label"):this.get("entryLimit_Sell_Label")},getLabelForEntryStop:function(){return this.isBuy()?this.get("entryStop_Buy_Label"):this.get("entryStop_Sell_Label")},getEntryLimitExplanation:function(){return this.isBuy()?this.get("entryLimit_Buy_Explanation"):this.get("entryLimit_Sell_Explanation")},getEntryStopExplanation:function(){return this.isBuy()?this.get("entryStop_Buy_Explanation"):this.get("entryStop_Sell_Explanation")},getInstrument:function(){return this.get("instrumentModel")},getInstrumentDescription:function(){return this.getInstrument().get("description")},getInstrumentSentiment:function(){return this.getInstrument().get("sentiment")},getAmountLabel:function(){return this.getInstrumentModel().getAmountLabel()},getErrorAmounMax:function(){var t=this.getInstrument().getMaxOrderSize();return this.getInstrumentModel().isAmountWordUsed()?__("order.form.validation.amount_too_big",t):__("order.form.validation.quantity_too_big",t)},getErrorMoreFundsRequired:function(){return __(this.get("moreFundsRequired"))},getReflectRate:function(){return Number(this.getInstrumentModel().get(this.getReflectPriceKey()).toFixed(this.getInstrumentModel().getPrecision()))},minAllowedOrderDistance:function(){var t=this.getInstrumentModel().getLimitStopDistance(),e=this.getInstrumentModel().getPipsPrecisionSize(),n=this.getInstrumentModel().getPrecision();return Number((t*e).toFixed(n))},getErrorNotZero:function(t){return __("order.form.validation.price_empty",t)},getReflectPriceKey:function(){return this.isBuy()?"bid":"ask"},_onConversionRateChange:function(t){this.setConversionRate(t[0].value)},setConversionRate:function(t){return this.set("conversionRate",t),this},getConversionRate:function(){return this.get("conversionRate")||1},setTotalRequiredMargin:function(t){this.set("totalRequiredMargin",t)},getTotalRequiredMargin:function(){return this.get("totalRequiredMargin")}});i.exports=a}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t){var e=o(t);return!(e.length>1)&&(0===e.length||e[0].id===t.id)}function o(t){var e=t.orderType,n=t.instrument;return w.a.reduce(l(),function(t,i){return i.instrument!==n||i.orderType!==e&&i.orderType!==p.ORDER_TYPE.LONG_SHORT&&e!==p.ORDER_TYPE.LONG_SHORT||t.push(i),t},[])}function s(){return"dark"===E.getAppTheme()}function a(t,e){var n=o({instrument:t,orderType:e});return n.length>0?n[0].amount:null}function l(){return[].concat(i(E.getTradingSettings()||[]))}function c(t){return t?E.saveTradingSettings(t):Promise.reject()}function u(t){if(!r(t))return null;var e=l();if(!t.id)return[].concat(i(e),[S({},t,{id:w.a.uniqueId(p.PREFIX)})]);var n=w.a.find(e,function(e){return e.id===t.id});return w.a.extend(n,t),e}Object.defineProperty(e,"__esModule",{value:!0}),e.isAppThemeDark=s,e.getValueFromTradingSettings=a,n.d(e,"getInstrumentName",function(){return x}),e.getCurrentSettings=l,e.setTradingSettings=c,e.getChangedSettings=u,n.d(e,"getOrderType",function(){return C}),n.d(e,"loadAmountInfo",function(){return T});var d=n(134),h=n.n(d),p=n(176),f=n(22),m=n.n(f),g=n(6),v=n.n(g),b=n(7),y=n.n(b),_=n(0),w=n.n(_),S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},E=y.a.getUserCommonData(),x=function(t){var e=h.a.getInstrumentBySymbol(t);return e?e.attributes.name:""},C=function(t){switch(t){case p.ORDER_TYPE.LONG:return __("account_settings.trading-settings.order-type.long");case p.ORDER_TYPE.SHORT:return __("account_settings.trading-settings.order-type.short");case p.ORDER_TYPE.LONG_SHORT:return __("account_settings.trading-settings.order-type.long_short")}},T=function(t){return v.a.calculateOrderDefaultAmount(m.a.atmosphereId,t)}},function(t,e){t.exports=!0},function(t,e,n){var i=n(755),r=n(392);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){"use strict";function i(t){var e=P.a.getInstrumentBySymbol(t);return e&&e.isVisible()&&l(t)>0&&!(e&&e.isMarginLevelLow())&&(!o(t)||s(t))&&(a(t,D.FULL_MODE)||a(t,D.LONG_ONLY_MODE))}function r(t){var e=P.a.getInstrumentBySymbol(t);return e&&e.isVisible()&&c(t)>0&&!(e&&e.isMarginLevelLow())&&(!o(t)||s(t))&&(a(t,D.FULL_MODE)||a(t,D.SHORT_ONLY_MODE))}function o(t){var e=store.getState().instruments.INSTRUMENT_TRADE_STATUSES[t];return e&&e.outOfMarketHours}function s(t){var e=store.getState().instruments.INSTRUMENT_SETTINGS_UPDATE[t];return e&&e.allowOrdersOutsideOfTradingHours}function a(t,e){var n=store.getState().instruments.INSTRUMENT_SETTINGS_UPDATE[t];return(n&&n.trading||"")===e}function l(t){var e=store.getState().instruments.QUOTE[t];return e&&e.ask}function c(t){var e=store.getState().instruments.QUOTE[t];return e&&e.bid}function u(t){var e=P.a.getInstrumentBySymbol(t);return e&&e.isVisible()?a(t,D.NO_MODE)?__("accountInfo.outOfMarket.other"):o(t)?__("accountInfo.outOfMarket.notrade"):a(t,D.CLOSE_ONLY_MODE)?__("accountInfo.outOfMarket.close"):a(t,D.SHORT_ONLY_MODE)?__("accountInfo.outOfMarket.buy"):a(t,D.LONG_ONLY_MODE)?__("accountInfo.outOfMarket.sell"):e&&e.isMarginLevelLow()?__("margin.level_2.buy_sell_button_tooltip.description"):"":__("accountInfo.outOfMarket.other")}function d(t){return store.getState().instruments.instrumentSymbolMap[t]||{}}function h(t){var e=A.a.groupBy(t,function(t){return d(t).weight});for(var n in e){var i=A.a.groupBy(e[n],function(t){return d(t).volatility});for(var r in i)i[r]=A.a.sortBy(i[r],function(t){return String(d(t).name).toLowerCase()});e[n]=i}return A.a.reduce(A.a.keys(e).reverse(),function(t,n){return A.a.reduce(A.a.keys(e[n]).reverse(),function(t,i){return t.concat(e[n][i])},t)},[])}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=function(t,e,n){return(t<e?-1:t>e?1:0)*n},r=function(t,e,n){return t=String(t).toLowerCase(),e=String(e).toLowerCase(),i(t,e,n)};switch(e){case"default":return h(t);case"name":return t.sort(function(t,e){return r(t,e,"asc"===n?1:-1)});case"change":return t}return[]}function f(t,e,n,i){var r=Math.abs(Number(t)-Number(e))/(1/Math.pow(10,i))||!1;return!1!==r?Number(r).toFixed(n||0):0}function m(t){L.push(t),F()}function g(t){R.push(t),F()}function v(t,e){return!o(e)&&!a(e,D.NO_MODE)}function b(t,e){return(!o(e)||s(e))&&!(a(e,D.NO_MODE)||a(e,D.CLOSE_ONLY_MODE))}function y(t,e){return(!o(e)||s(e))&&!(a(e,D.NO_MODE)||a(e,D.CLOSE_ONLY_MODE))}function _(t,e){return(!o(e)||s(e))&&!a(e,D.NO_MODE)}function w(t){return a(t,D.NO_MODE)?__("accountInfo.outOfMarket.other"):o(t)?__("accountInfo.outOfMarket.notrade"):""}function S(t){return u(t)}function E(t){return t.charAt(0).toUpperCase()+t.slice(1)}function x(t,e){function n(){var e=t.refs._list||t._list;t._scrollTop=0,t._cache.clearAll(),e&&e.recomputeRowHeights()}function i(){t._cache=null,window.removeEventListener("resize",n)}var r=e.CellMeasurerCache;return t._cache=new r({fixedWidth:!0,minHeight:k.BASIC_VIEW_INSTRUMENT_LIST_ITEM_MIN_HEIGHT}),window.addEventListener("resize",n),i.resizeAll=n,i.clearCache=function(){return t._cache.clearAll()},i}function C(t,e,n,i){var r=i===k.SORT_DIRECTION_ASC?-1:1;e=A.a.reject(e,function(e){return!t[e]});var o=function(t,e,n){return(t<e?-1:t>e?1:0)*n},s=function(t,e,n){return t=String(t).toLowerCase(),e=String(e).toLowerCase(),o(t,e,n)};switch(n){case k.INSTRUMENT_SORT.INSTRUMENT:var a=A.a.groupBy(e,function(e){return t[e].weight});for(var l in a){var c=A.a.groupBy(a[l],function(e){return t[e].volatility});for(var u in c)c[u]=A.a.sortBy(c[u],function(e){return String(t[e].name).toLowerCase()});a[l]=c}return A.a.reduce(A.a.keys(a).reverse(),function(t,e){return A.a.reduce(A.a.keys(a[e]).reverse(),function(t,n){return t.concat(a[e][n])},t)},[]);case k.INSTRUMENT_SORT.NAME:var d=A.a.map(e,function(e){var n=t[e];return{name:n&&n.name,symbol:n&&n.symbol}}),h=d.sort(function(t,e){return s(t.name,e.name,r)});return A.a.pluck(h,"symbol");case k.INSTRUMENT_SORT.CHANGE:return e;case k.INSTRUMENT_SORT.SENTIMENT:var p=A.a.map(e,function(e){var n=t[e];return{symbol:n&&n.symbol,sentiment:n&&n.sentiment}}),f=p.sort(function(t,e){return A.a.isObject(t.sentiment)?A.a.isObject(e.sentiment)?o(t.sentiment.longs,e.sentiment.longs,r):-1:1});return A.a.pluck(f,"symbol")}return[]}function T(t){return String(t).replace("/","-").toLowerCase()}e.g=i,e.l=r,e.f=u,e.o=p,e.a=f,e.p=m,e.q=g,e.j=v,e.k=b,e.i=y,e.h=_,e.d=w,e.e=S,e.b=E,e.c=x,e.n=C,e.m=T;var k=n(10),O=n(14),P=n.n(O),I=n(0),A=n.n(I),M=n(54),N=n.n(M),D=n(675),L=[],R=[],F=A.a.debounce(function(){N.a.update(L,R),L=[],R=[]},3)},function(t,e,n){t.exports={Bid:n(1575),Ask:n(1576),Quote:n(179),Change:n(1577),Spread:n(1578),RateDirection:n(1579)}},function(t,e,n){"use strict";function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.a.user.getOffsetAs();return o(new Date,t).toDate()}function r(t){return o(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.a.user.getOffsetAs())}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.a.user.getOffsetAs();return a()({year:t.getUTCFullYear(),month:t.getUTCMonth(),day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}).add({minutes:e})}e.a=i,e.b=r;var s=n(3),a=n.n(s),l=n(119),c=n.n(l)},,function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(0),s=n(12),a=o.template(n(1387)),l=n(70),c=n(15);i.exports=s.extend({initialize:function(t){s.prototype.initialize.apply(this,arguments),this.$parent=t.$parent,this.render(),this.isActive=!0},show:function(){this.$parent.html(a({model:this.model,device:c})),this.form=new l({el:this.$parent.find(".form")}),o.each(this.model.getFormFields(),this._setFieldsControls,this),o.each(this.model.getFormFields(),this._updateFieldValue,this),this.setUpFormFieldValues(),c.mobile()&&c.ios()&&o.each(document.querySelectorAll("select"),function(t){return t.appendChild(document.createElement("optgroup"))});var t=document.querySelectorAll(".styled-select select"),e=c.android()?"focus":"blur";o.each(t,function(t){r(t).on(e,function(){var t=r(this);"select-one"===t[0].type&&"EMPTY"===t[0].selectedOptions[0].value&&(t[0].selectedIndex=1),t.parent().parent().removeClass("field-error"),t.trigger("change"),o.contains(["day","month","year"],t.attr("name"))&&t.parent().addClass("field-ok")})})},setUpFormFieldValues:function(){var t=this,e=this.model.setUpFormFieldValues();o.each(e,function(e,n){t.fieldValue(n,e)})},saveData:function(){var t=this.getData();return this.model.saveFormValues(t),t},validate:function(){return this.form.validate()},getErrorFields:function(){return this.form.getErrorFields()},getData:function(){return this.form.getData(!0)},fieldValue:function(t,e){var n=this.form.getField(t);n&&n.setValueWithFireChangeEvent(e)},_isActive:function(){return this.isActive},_setFieldsControls:function(t){this._setRules(t),this._setDependentHandler(t),this._setEvents(t)},_updateFieldValue:function(t){this.fieldValue(t.name,t.savedData)},_setEvents:function(t){if(!o.isEmpty(t.events)){var e=this.form.getField(t.name);e&&e.setEvent&&o.each(t.events,function(t,n){e.setEvent(n,t)})}},_setDependentHandler:function(t){if(!o.isEmpty(t.dependent)){var e=this.form.getField(t.name);e&&o.each(t.dependent,function(t){e.listenTo(e,"dependent:field:"+t.name+":change",t.handler.bind(e))})}},_setRules:function(t){if(t.validation){var e=this.form.getField(t.name);e&&(e.setRules(t.validation.rules),e.setFilters(t.validation.filters))}},remove:function(){this.form&&this.form.getFieldsList()&&o.each(this.form.getFieldsList(),function(t){t&&t.unmount&&t.unmount()}),s.prototype.remove.call(this)}})}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(13);i.exports=o.extend({setUpFormFieldValues:function(){var t=this.get("action");return r.isUndefined(t)?{}:t.before(this.getSavedData())},getFormFields:function(){return r.union(this.get("top"),this.get("bottom"),r.flatten(this.get("form")))},getSavedData:function(){return r.reduce(this.getFormFields(),function(t,e){if(r.isUndefined(e.savedData))return t;if(t[e.name]=e.savedData,e.details){var n=e.details.value;r.isUndefined(n)||(t[e.name+"_details"]=n)}return t},{})},_updateSavedData:function(t,e){if(!(r.isUndefined(t)||r.isUndefined(e)||r.isUndefined(t[e.name]))&&(e.savedData=t[e.name],e.details)){var n=t[e.name+"_details"];r.isUndefined(n)||(e.details.value=n)}},saveFormValues:function(t){var e=this.get("action");r.isUndefined(e)||(t=r.isFunction(e.after)?e.after(t):t);var n=r.each(this.get("top"),r.partial(this._updateSavedData,t)),i=r.each(this.get("bottom"),r.partial(this._updateSavedData,t)),o=r.each(this.get("form"),function(e){r.each(e,r.partial(this._updateSavedData,t))},this);this.set("top",n),this.set("bottom",i),this.set("form",o)}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};void 0!==(r=function(t,e,i){var r=n(13),s=n(14),a=n(363),l=n(6),c=n(0),u=n(244),d=u.addPriceAlerts,h=u.updatePriceAlerts,p=u.removePriceAlerts,f=r.extend({idAttribute:"id",savedState:{},defaults:function(){return{hash:"",customerId:0,tpid:"",instrumentId:0,alertTypeId:window._app.settings.getPriceAlertsTypes()[0],params:{},baseValue:0,sendTo:{sendInPlatformId:!1,sendEmail:!0,sendSms:!1,sendPush:!1,sendWebPush:!1},frequency:1,status:1,modificationTime:null,occurences:0,instrument:null}},initialize:function(t){var e=n(7),i=e.getUserData().getCrmboCustomer(),r=e.getUserData().getAccount(),o=c.extend({tpid:r.platformAccountId,customerId:parseInt(i.id)},t);!c.isUndefined(o.alertTypeId)&&c.isUndefined(o.id)&&c.isUndefined(a.get(o.alertTypeId))&&(o.alertTypeId=this.defaults().alertTypeId),this.set(o,{silent:!0}),this.loadDefaultValuesIfRequired(),this.updateHash(),this.saveState()},loadDefaultValuesIfRequired:function(){var t=this,e=this.getDefaultValue(),n={};c.each(this.getAlertTypeConfig("fieldsNames"),function(i){(c.isNull(t.get("params")[i])||c.isUndefined(t.get("params")[i]))&&(n[i]=e[i])},this),this.setParameterValues(n,!0),n={},c.each(this.get("params"),function(e,i){var r=t.getParameterType(i);c.isUndefined(r)&&(n[i]=void 0)},this),this.setParameterValues(n,!0)},getId:function(){return this.get("id")},updateHash:function(){this.set({hash:this.calculateHash()})},calculateHash:function(){return c.union(c.values(c.pick(this.attributes,["alertTypeId","instrumentId"])),c.values(c.pick(this.attributes.params,["paramValue1"]))).join("")},getHash:function(){return this.get("hash")},getTradingPlatformId:function(){return this.get("tpid")},getCustomerId:function(){return this.get("customerId")},getInstrumentId:function(){return this.get("instrumentId")},getInstrument:function(){return this.get("instrument")},setInstrument:function(t){var e=t.getId();return t.addPriceAlert(this),this.set({instrumentId:e,instrument:t})},getType:function(){return this.get("alertType")},setType:function(t){var e=t.getId();this.set({alertTypeId:e,alertType:t})},getTypeId:function(){return this.get("alertTypeId")},setTypeId:function(t){var e=parseInt(t),n=a.get(e);this.set({alertTypeId:e,alertType:n})},getParameterType:function(t){var e=this.getType().get("params");return c.isUndefined(t)?e:e[t.replace("paramValue","paramValueType")]},formatParameterValue:function(t,e){var n=this.getParameterType(e);if(c.isUndefined(n)||"string"===n)return t.toString();if("float"===n){var i=this.getFieldOptions(e);return parseFloat(t).toFixed(i.precision)}return""},getParameterValue:function(t){return c.isUndefined(t)?c.map(this.get("params"),this.formatParameterValue,this):this.formatParameterValue(this.get("params")[t],t)},setParameterValue:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i={};i[t]=e,this.setParameterValues(i,n)},setParameterValues:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];c.each(t,function(e,n){t[n]=c.isUndefined(e)?e:e.toString()},this),this.set("params",c.pick(c.extend(this.get("params"),t),function(t){return!c.isUndefined(t)}),{silent:e}),e||this.trigger("change:params",this.getParameterValue())},getNotificationSettings:function(t){var e=this.get("sendTo");return c.isUndefined(t)?e:!c.isUndefined(e[t])&&e[t]},setNotificationSettings:function(t,e){var n=c.clone(this.get("sendTo"));n[t]=e,this.set("sendTo",n),this.trigger("change:thereIsOneNotification",this.getThereIsOneNotification())},getThereIsOneNotification:function(){return c.some(this.getNotificationSettings())},prepareForServer:function(){var t=c.omit(this.toJSON(),["instrument","alertType","baseValue","modificationTime","hash"]);return c.isNumber(t.instrumentId)||(t.instrumentId=parseInt(t.instrumentId,10)),t},getAlertTypeConfig:function(t,e,n){if(c.isUndefined(this.getType()[t])||c.isUndefined(this.getType().fieldsNames))return 0;var i=c.isFunction(this.getType()[t])?this.getType()[t].bind(this)(e):this.getType()[t];return c.isUndefined(n)?i:i[n]},getDefaultValue:function(t,e){return this.getAlertTypeConfig("defaultValue",e||this.getInstrument(),t)},getFieldOptions:function(t){return this.getAlertTypeConfig("getFieldOptions",this.getInstrument(),t)},getFieldRules:function(t){return this.getAlertTypeConfig("getFieldRules",this.getInstrument(),t)},getRenderClass:function(t){return this.getAlertTypeConfig("renderClass",void 0,t)},getIsFluctuate:function(t){return this.getAlertTypeConfig("isFluctuate",void 0,t)},getParamsList:function(t){return this.getAlertTypeConfig("fieldsNames",void 0,t)},getParamTemplate:function(t){return this.getAlertTypeConfig("templates",void 0,t)},getParamTemplateData:function(t){return this.getAlertTypeConfig("templatesData",void 0,t)},isAvailableOnServer:function(){return!c.isUndefined(this.get("id"))},set:function(t,e){var n={};!c.isUndefined(t.instrumentId)&&c.isUndefined(t.instrument)&&(n.instrument=s.getInstrumentById(t.instrumentId),n.instrument.addPriceAlert(this)),!c.isUndefined(t.alertTypeId)&&c.isUndefined(t.alertType)&&(n.alertType=a.get(t.alertTypeId),c.isUndefined(n.alertType)),r.prototype.set.apply(this,[c.extend(t,n),e])},save:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isAvailableOnServer()){var n=this.prepareForServer();return this.rollbackState(!0),l.priceAlertsUpdate(this.getId(),n).then(function(n){store.dispatch(h(o({},n.data))),t.set(n.data,{silent:e}),t.updateHash()})}return l.priceAlertsAdd(this.getTradingPlatformId(),this.prepareForServer()).then(function(n){store.dispatch(d(o({},n.data))),t.set(n.data,{silent:e}),t.updateHash(),window.dispatchEvent(new CustomEvent("price-alerts:update-symbol-status",{detail:{symbol:t.getInstrument().getSymbol(),status:!0}}))})},remove:function(){var t=this;if(this.trigger("delete",this),this.isAvailableOnServer())return l.priceAlertsDelete(this.getId()).then(function(e){store.dispatch(p({priceAlertId:e.data.id,instrumentId:t.getInstrumentId()})),window.dispatchEvent(new CustomEvent("price-alerts:update-symbol-status",{detail:{symbol:t.getInstrument().getSymbol(),status:!!t.getInstrument().getPriceAlerts().length}}))})},clone:function(){return new f(c.omit(this.prepareForServer(),["id"]))},saveState:function(){this.savedState=this.toJSON()},rollbackState:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.set(this.savedState,{silent:t})}});i.exports=f}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},,function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(55);i.exports=function(t){var e=__("socket.error.title"),n=__("server.request.generic.error.body",__("link.contact_us.funded.client"));return new r({parent:document.body,caption:e,text:n,onOK:t,actions:{onClose:t},zIndex:1e6})}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(1516),s=n(24),a=n(70),l=n(51),c=n(670),u=n(363),d=n(221),h=n(7),p=n(1517),f=n(9),m=n(52),g=r.template(n(1518)),v=s.extend({isValueFluctuating:!1,previousRateValue:null,selectedAlertTypeId:null,alertTypesList:[],elements:{},form:null,getOptions:function(t){return r.extend({},r.result(s.prototype,"getOptions"),{isHeaderShowed:!0,closeIconStyle:"blue",headerStyle:"wizard",caption:this.model.getId()?__("tab.price-alerts.caption.edit"):__("tab.price-alerts.caption.new"),boxWidth:"760px"},t)},listener:function(t){this.model[t]("change:alertType",this.onAlertTypeUpdated,this),this.model[t]("change:params",this.onParamsUpdated,this),this.model[t]("change:thereIsOneNotification",this.onNotificationsValidationChanged,this),this.form[t]("field:change:price-alert-type",this.onTypeChanged,this),this.form[t]("field:change:sendInPlatformId field:change:sendEmail field:change:sendSms field:change:sendPush field:change:sendWebPush",this.onNotificationSettingsChanged,this),this.form[t]("submit",this.onSubmit,this),this.form[t]("cancel",this.onCancel,this),this.calculationModel[t]("change:rate change:rateDirection",this.onRateUpdated,this)},eventsOn:function(){this.listener("on")},eventsOff:function(){this.listener("off")},initialize:function(t){s.prototype.initialize.apply(this,arguments),this.model.saveState();var e=u.toJSON();this.alertTypesList=r.filter(e,function(t){return r.isNull(t.alertTypeGroup)}),this.alertTypesList=r.reduce(this.alertTypesList,function(t,e){return t[e.id]=e,t},{}),this.alertTypesList=r.reduce(c,function(t,e){return r.some(e.children,function(t){return!r.isUndefined(u.get(t))})&&(t[e.id]=e),t},this.alertTypesList);var n=u.get(this.model.getTypeId());n.alertTypeGroup?this.selectedAlertTypeId=n.alertTypeGroup:this.selectedAlertTypeId=this.model.getTypeId(),this.calculationModel=new o({instrumentModel:this.model.getInstrument()}),this.render(),this.form=new a({el:this.$el.find(".form")}),this.eventsOn(),this.onRateUpdated(),this.onAlertTypeUpdated(!1),this.onParamsUpdated(),this.onNotificationsValidationChanged(this.model.getThereIsOneNotification()),this.defaultFormData=this.form.getData(),this.enableSubmitButton(!this.model.getId())},onRateUpdated:function(){this.updateRate(),this.updatePercent();var t=this.calculationModel.getRate();if(this.isValueFluctuating&&this.form.field("price-alert-value").isPristine()){var e=t-this.previousRateValue,n=parseFloat(this.model.getParameterValue());this.model.setParameterValue((e+n).toFixed(this.model.getInstrument().getPrecision()))}this.previousRateValue=t},updateRate:function(){var t=this.calculationModel.getRateData();t.value=m.divideValueByPipSize(t.value,this.calculationModel.getPipsPrecision()),this.elements.rate.html(m.formatValueToStringOrComponent(t.value,!0)).removeClass(t.remove).addClass(t.add)},updatePercent:function(){var t=this.calculationModel.getPercentData();this.elements.percent.html(t.value).parent().removeClass(t.remove).addClass(t.add)},onAlertTypeUpdated:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.renderSubCategoryTypes(),this.renderParamsFields(),t){var e={};r.each(this.model.getParamsList(),function(t){e[t]=this.model.getDefaultValue(t)},this),this.model.setParameterValues(e)}this.previousRateValue=this.calculationModel.getRate()},onParamsUpdated:function(){r.each(this.model.getParamsList(),function(t){var e=this.form.getField(t);e&&e.value(this.model.getParameterValue(t))},this)},onParameterChanged:function(t){this.model.setParameterValue(t.getName(),t.value(),!0),this.onNotificationsValidationChanged(this.model.getThereIsOneNotification()),this.model.getId()&&this.enableSubmitButton(JSON.stringify(this.defaultFormData)!==JSON.stringify(this.form.getData()))},onNotificationSettingsChanged:function(t,e){this.model.setNotificationSettings(t.getName(),!0===e)},onNotificationsValidationChanged:function(t){if(!this._pendingWebPushResponse){var e=this.form.validate();this.enableSubmitButton(t&&!e)}},getParamsFieldsHtml:function(t){var e=this.model.getType().getLocalizationKey(),i=[];return r.isNull(this.form)||r.each(this.form.getFieldsList(),function(t){this.elements.alertParams.find("#"+t.getName()).length&&(this.form.removeField(t.getName()),this.form.off("field:change:"+t.getName(),this.onParameterChanged,this))},this),r.each(t,function(t){var o=r.template(n(1519)("./"+this.model.getParamTemplate(t)));i.push(o(r.extend({paramLabel:"tab.price-alerts.description-labels."+e+"."+t,paramHelp:"tab.price-alerts.description-notes."+e+"."+t,paramName:t},this.model.getParamTemplateData(t))))},this),i.join("")},getSubtypesHtml:function(t){return!r.isNull(this.form)&&this.form.getField("price-alert-subtype",!1)&&(this.form.removeField("price-alert-subtype"),this.form.off("field:change:price-alert-subtype",this.onSubtypeChanged,this)),0===t.length?"":r.template(n(1525))({localizationKey:c[this.selectedAlertTypeId].localizationKey,subtypes:t,selectedAlertTypeId:this.model.getTypeId()})},actualizeParamsFields:function(t){r.isNull(this.form)||(this.form.findFields(this.elements.alertParams),r.each(t,function(t){this.form.getField(t).setOptions(this.model.getFieldOptions(t)).setRules(this.model.getFieldRules(t)),this.form.on("field:change:"+t,this.onParameterChanged,this)},this))},renderParamsFields:function(){var t=this.model.getParamsList();this.elements.alertParams.html(this.getParamsFieldsHtml(t)),this.actualizeParamsFields(t)},renderSubCategoryTypes:function(){var t=this,e=u.toJSON();e=r.filter(e,function(e){return!r.isNull(e.alertTypeGroup)&&e.alertTypeGroup.id===t.selectedAlertTypeId}),this.elements.alertSubtypes.html(this.getSubtypesHtml(e)),r.isNull(this.form)||e.length&&(this.form.findFields(this.elements.alertSubtypes),this.form.on("field:change:price-alert-subtype",this.onSubtypeChanged,this))},getNotificationConfiguration:function(){var t=p.isWebPushDeniedByUser(),e={pushNotificationsNotice:"",smsNotificationsNotice:"",firstDepositCompleted:h.getUserData().get("firstDeposit"),fullRegistrationCompleted:h.getUserData().get("fullRegistrationCompleted"),webPushSupported:p.isWebPushSupported(),webPushDisabled:t,webPushNotificationsNotice:t?"tab.price-alerts.notification-notices.web-push-blocked":"tab.price-alerts.notification-notices.web-push-allow"};return e.fullRegistrationCompleted||(e.pushNotificationsNotice="tab.price-alerts.notification-notices.finish-registration"),e.firstDepositCompleted||(e.smsNotificationsNotice="tab.price-alerts.notification-notices.first-deposit-required"),e},render:function(){s.prototype.render.call(this);var t=this.getNotificationConfiguration();this.setContent(g({model:this.model,calculationModel:this.calculationModel,instrument:this.model.getInstrument(),alertTypes:this.alertTypesList,selectedAlertTypeId:this.selectedAlertTypeId,isGroupSelected:this.alertTypesList[this.selectedAlertTypeId].isGroup,smsNotificationsDisabled:!t.firstDepositCompleted,smsNotificationsNotice:t.smsNotificationsNotice,pushNotificationsDisabled:!t.fullRegistrationCompleted,pushNotificationsNotice:t.pushNotificationsNotice,webPushSupported:t.webPushSupported,webPushNotificationsNotice:t.webPushNotificationsNotice,webPushDisabled:t.webPushDisabled,settings:f}));var e=this.$el.find(".current-rate");this.elements={rate:e.find(".rate"),percent:e.find(".percent span"),sentimentRate:this.$el.find(".sentiment .rate"),alertParams:this.$el.find(".price-alert-parameter"),alertSubtypes:this.$el.find(".price-alert-subtypes")},this.renderSubCategoryTypes(),this.renderParamsFields()},close:function(){this.model.rollbackState(!1),s.prototype.close.call(this)},showConfirmBox:function(t){new l({boxWidth:"100%",maxBoxWidth:"400px",parent:document.body,hideCancelButton:!0,showConfirmCaption:!1,confirmMessage:__(t),confirmOKBtnText:__("actions.close")})},closePopup:function(){r.isFunction(this.options.onClose)&&this.options.onClose(),this.onCancel()},onCancel:function(){this.model.isAvailableOnServer()||this.model.remove(),this.close()},onSubmit:function(){var t=!this.model.isAvailableOnServer();if(d.isSuchAlertAvailable(this.model))return this.showConfirmBox("tab.price-alerts.messages.fail.duplication_error"),!1;this.model.getNotificationSettings("sendWebPush")&&p.subscribeUser(),this.model.save().then(function(){this.model.saveState(),t&&d.add(this.model),this.close(),t?this.showConfirmBox("tab.price-alerts.messages.success"):this.showConfirmBox("tab.price-alerts.messages.edit.success")}.bind(this)).catch(function(t){var e="tab.price-alerts.messages.fail",n=!1;400===t.response.status&&void 0!==t.response.data.error&&(e+="."+t.response.data.error,n=e!==__(e)),this.close(),this.showConfirmBox(n?e:"tab.price-alerts.messages.fail")}.bind(this)),this.eventsOff()},onTypeChanged:function(t,e){if(this.selectedAlertTypeId=parseInt(e),u.get(e))return void this.model.setTypeId(e);var n=this.alertTypesList[e].children;this.model.setTypeId(n[0])},onSubtypeChanged:function(t,e){this.model.setTypeId(e),this.enableSubmitButton(!0)},enableSubmitButton:function(t){var e=this.$el.find(".submit");t?e.removeAttr("disabled"):e.attr("disabled","disabled")}});i.exports=v}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"e",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return c}),n.d(e,"h",function(){return u});var i="services/CHECK_SERVICES",r="services/CHECK_SERVICE_SUCCESS",o="services/CHECK_SERVICE_ERROR",s="services/LOAD_SERVICES_SUCCESS",a="services/LOAD_SERVICES_ERROR",l="services/SELECT_DROPDOWN_SERVICE",c="services/SELECT_FIRST_ENABLED_SERVICE",u={SIGNALS:"signals",COMMENTARY:"commentary",NEWS:"news"}},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(128),s=o.extend({events:function(){return r.extend({},r.result(o.prototype,"events"),{"input input":"onChange"})},initialize:function(t){this.$input=this.$el.find("input"),o.prototype.initialize.apply(this,arguments),t.template&&(this.$input=this.$el.find("input")),this.setName(this.$el.find("input").attr("name")),this.$input[0].onfocus=this.onFocus.bind(this),r.isEmpty(this.value())&&this.setDefaultValue(),this.isNoPaste()&&(this.$input[0].onpaste=function(t){return t.preventDefault()})},isNoPaste:function(){return!!this.$input.attr("no-paste")},setEvent:function(t,e){this.$input[0][t]=e.bind(this)},getDefaultValue:function(){return this.$input.attr("default-value")},setDefaultValue:function(t){return void 0!==t&&this.$input.attr("default-value",t),o.prototype.setDefaultValue.call(this)},getDefaultOptions:function(){return r.extend({},r.result(o.prototype,"getDefaultOptions"))},isDefaultValue:function(){return this.value()===this.getDefaultValue()},isEmpty:function(){return r.isEmpty(this.value())||this.isDefaultValue()},onChange:function(t){t.preventDefault(),this.value(this.filterValue(this.value())),this.fireChangeEvent(),this.executeCustomOnChange(t)},filterValue:function(t){var e=t;if(this._filters)for(var n in this._filters)e=this.filter(this._filters[n],e);return e},onFocus:function(t){this.isDefaultValue()&&this.value(""),this.setDefaultState()},disableElement:function(){this.setDefaultValue(),this.$el.addClass("field-disabled"),this.$el.find("input").attr("disabled",!0)},enableElement:function(){this.$el.removeClass("field-disabled"),this.$el.find("input").removeAttr("disabled")},getHtmlTemplate:function(){var t=this.options.template;return t?t(r.pick(this.options,["disable","dependent","title","defaultValue","placeholder","type","name","conversion","type"])):""}});i.exports=s}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i=n(384);t.exports=function(t){return Object(i(t))}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var i=n(1758)(!0);n(753)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(45),s=n(212),a=n(14),l=o.extend({model:s,add:function(t,e){var n=!i.isArray(t);return t=n?[t]:t.slice(),i.each(t,function(e,n){if(this._isModel(t[n]))return!0;t[n]=new s(e),t[n].getId()||t[n].save()},this),this.addListeners(t),this.set(t,i.extend({merge:!1,remove:!1},e))},isSuchAlertAvailable:function(t){return!i.isEmpty(i(this.where({hash:t.calculateHash()})).filter(function(e){return e.getId()!==t.getId()}))},loadData:function(t){this.reset(i.filter(t,function(t){return i.isUndefined(a.getInstrumentById(t.instrumentId)),-1!==window._app.settings.getPriceAlertsTypes().indexOf(t.alertTypeId)&&!i.isUndefined(a.getInstrumentById(t.instrumentId))})),this.addListeners(this.models)},addListeners:function(t){t.map(function(t){t.on("delete",function(){this.remove(t),t.off("delete",this.addListeners)},this)},this)}});r.exports=new l}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i=n(82),r=n(35),o=n(141);t.exports=function(t){return function(e,n,s){var a,l=i(e),c=r(l.length),u=o(s,c);if(t&&n!=n){for(;c>u;)if((a=l[u++])!=a)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(90);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){"use strict";var i=n(163),r={};r[n(32)("toStringTag")]="z",r+""!="[object z]"&&n(73)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},function(t,e,n){"use strict";var i=n(227)(!0);n(315)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var i=n(91),r=n(101);t.exports=function(t){return function(e,n){var o,s,a=String(r(e)),l=i(n),c=a.length;return l<0||l>=c?t?"":void 0:(o=a.charCodeAt(l),o<55296||o>56319||l+1===c||(s=a.charCodeAt(l+1))<56320||s>57343?t?a.charAt(l):o:t?a.slice(l,l+2):s-56320+(o-55296<<10)+65536)}}},function(t,e,n){var i=n(27),r=n(90),o=n(32)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},function(t,e,n){var i=n(32)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:n=!0}},o[i]=function(){return s},t(o)}catch(t){}return n}},function(t,e,n){"use strict";var i=n(163),r=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},function(t,e,n){"use strict";n(460);var i=n(73),r=n(72),o=n(26),s=n(101),a=n(32),l=n(325),c=a("species"),u=!o(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),d=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var h=a(t),p=!o(function(){var e={};return e[h]=function(){return 7},7!=""[t](e)}),f=p?!o(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[h](""),!e}):void 0;if(!p||!f||"replace"===t&&!u||"split"===t&&!d){var m=/./[h],g=n(s,h,""[t],function(t,e,n,i,r){return e.exec===l?p&&!r?{done:!0,value:m.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),v=g[0],b=g[1];i(String.prototype,t,v),r(RegExp.prototype,h,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}}},function(t,e,n){var i=n(21),r=i.navigator;t.exports=r&&r.userAgent||""},function(t,e,n){"use strict";var i=n(21),r=n(4),o=n(73),s=n(147),a=n(124),l=n(146),c=n(145),u=n(27),d=n(26),h=n(229),p=n(162),f=n(311);t.exports=function(t,e,n,m,g,v){var b=i[t],y=b,_=g?"set":"add",w=y&&y.prototype,S={},E=function(t){var e=w[t];o(w,t,"delete"==t?function(t){return!(v&&!u(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof y&&(v||w.forEach&&!d(function(){(new y).entries().next()}))){var x=new y,C=x[_](v?{}:-0,1)!=x,T=d(function(){x.has(1)}),k=h(function(t){new y(t)}),O=!v&&d(function(){for(var t=new y,e=5;e--;)t[_](e,e);return!t.has(-0)});k||(y=e(function(e,n){c(e,y,t);var i=f(new b,e,y);return void 0!=n&&l(n,g,i[_],i),i}),y.prototype=w,w.constructor=y),(T||O)&&(E("delete"),E("has"),g&&E("get")),(O||C)&&E(_),v&&w.clear&&delete w.clear}else y=m.getConstructor(e,t,g,_),s(y.prototype,n),a.NEED=!0;return p(y,t),S[t]=y,r(r.G+r.W+r.F*(y!=b),S),v||m.setStrong(y,t,g),y}},function(t,e,n){for(var i,r=n(21),o=n(72),s=n(139),a=s("typed_array"),l=s("view"),c=!(!r.ArrayBuffer||!r.DataView),u=c,d=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(i=r[h[d++]])?(o(i.prototype,a,!0),o(i.prototype,l,!0)):u=!1;t.exports={ABV:c,CONSTR:u,TYPED:a,VIEW:l}},function(t,e,n){"use strict";t.exports=n(123)||!n(26)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(21)[t]})},function(t,e,n){"use strict";var i=n(4);t.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){"use strict";var i=n(4),r=n(64),o=n(89),s=n(146);t.exports=function(t){i(i.S,t,{from:function(t){var e,n,i,a,l=arguments[1];return r(this),e=void 0!==l,e&&r(l),void 0==t?new this:(n=[],e?(i=0,a=o(l,arguments[2],2),s(t,!1,function(t){n.push(a(t,i++))})):s(t,!1,n.push,n),new this(n))}})}},function(t,e,n){for(var i=n(324),r=n(140),o=n(73),s=n(21),a=n(72),l=n(165),c=n(32),u=c("iterator"),d=c("toStringTag"),h=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=r(p),m=0;m<f.length;m++){var g,v=f[m],b=p[v],y=s[v],_=y&&y.prototype;if(_&&(_[u]||a(_,u,h),_[d]||a(_,d,v),l[v]=h,b))for(g in i)_[g]||o(_,g,i[g],!0)}},,,,,,function(t,e,n){"use strict";function i(t){return{type:f,payload:t}}function r(t){return{type:m,payload:t}}function o(t){return{type:g,payload:t}}function s(t){return{type:v,payload:t}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,e=arguments[1],n=e.type,i=e.payload;switch(n){case f:var r=y.a.groupBy(i,"instrumentId");return _({},r);case m:var o=i.instrumentId,s=t[o]||[];return _({},t,a({},o,[].concat(l(s),[i])));case g:var c=i.instrumentId,u=i.id,d=t[c];return _({},t,a({},c,y.a.map(d,function(t){return t.id!==u?t:_({},i)})));case v:var h=i.priceAlertId,p=i.instrumentId,b=y.a.filter(t[p],function(t){return t.id!==h});return _({},t,a({},p,y.a.isEmpty(b)?null:b))}return t}Object.defineProperty(e,"__esModule",{value:!0});var u=n(44),d=n(109),h=function(t){return t.priceAlerts},p=Object(u.a)([h,d.a],function(t,e){return t[e]}),f="price-alerst/PRICE_ALERTS_LOAD_SUCCESS",m="price-alerst/PRICE_ALERTS_ADD_SUCCESS",g="price-alerst/PRICE_ALERTS_UPDATE_SUCCESS",v="price-alerst/PRICE_ALERTS_DELETE_SUCCESS",b=n(0),y=n.n(b),_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},w={};n.d(e,"getPriceAlerts",function(){return h}),n.d(e,"getPriceAlertsByInstrumentId",function(){return p}),n.d(e,"onLoadPriceAlertsSuccess",function(){return i}),n.d(e,"addPriceAlerts",function(){return r}),n.d(e,"updatePriceAlerts",function(){return o}),n.d(e,"removePriceAlerts",function(){return s}),n.d(e,"priceAlertsReducer",function(){return c}),n.d(e,"PRICE_ALERTS_LOAD_SUCCESS",function(){return f}),n.d(e,"PRICE_ALERTS_ADD_SUCCESS",function(){return m}),n.d(e,"PRICE_ALERTS_UPDATE_SUCCESS",function(){return g}),n.d(e,"PRICE_ALERTS_DELETE_SUCCESS",function(){return v})},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r});var i=Object.freeze({}),r=Object.freeze([])},,function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},,function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"b",function(){return u}),n.d(e,"c",function(){return d}),n.d(e,"a",function(){return h});var r=n(1),o=n.n(r),s=n(11),a=n.n(s),l=n(1307),c=(n.n(l),function(t){var e=t.thead,n=t.children,r=t.theadClassName,s=void 0===r?"":r,l=t.bodyClassName,c=void 0===l?"":l,u=t.className;return o.a.createElement("table",{className:a()(i({"table-component":!0},u,!!u))},e&&o.a.createElement("thead",{className:"table-component__thead "+s},e),o.a.createElement("tbody",{className:"table-component__rows "+c},n))}),u=function(t){var e=t.children,n=t.className,r=void 0===n?"":n,s=t.colSpan;return o.a.createElement("th",{className:a()(i({"table-component__column":!0},r,!!r)),colSpan:s},e)},d=function(t){var e=t.children,n=t.className,r=void 0===n?"":n;return o.a.createElement("tr",{className:a()(i({"table-component__row":!0},r,!!r))},e)},h=function(t){var e=t.children,n=t.className,r=void 0===n?"":n,s=t.colSpan;return o.a.createElement("td",{className:a()(i({"table-component__cell":!0},r,!!r)),colSpan:s},e)};e.d=c},function(t,e,n){var i;void 0!==(i=function(t,e,n){function i(t){return t?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null}function r(t){var e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0}function o(t,e,n){var i=n||window.location.host;document.cookie=[t,"Expires="+e.toGMTString(),"Path=/","Domain="+i].join(";")}n.exports.getCookie=i,n.exports.getCookieByName=r,n.exports.setCookie=o,n.exports.LOGIN_COOKIE_ID="JSESSIONID="}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=n(1),o=n.n(r),s=n(659),a=n(11),l=n.n(a),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u=function(t){var e,n=t.className,r=t.style,a=t.onClick,u=t.icon,d=void 0===u?"icon-marketsX-popup-arrow-right":u,h=t.arrowClass,p=void 0===h?"arrow arrow--right":h,f=l()((e={},i(e,n,!!n),i(e,p,!!p),e));return o.a.createElement("div",{className:f,style:c({},r),onClick:a},o.a.createElement(s.a,{icon:d}))};e.a=u},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=n(1),o=n.n(r),s=n(659),a=n(11),l=n.n(a),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u=function(t){var e,n=t.className,r=t.style,a=t.onClick,u=t.icon,d=void 0===u?"icon-marketsX-popup-arrow-left":u,h=t.arrowClass,p=void 0===h?"arrow arrow--left":h,f=l()((e={},i(e,n,!!n),i(e,p,!!p),e));return o.a.createElement("div",{className:f,style:c({},r),onClick:a},o.a.createElement(s.a,{icon:d}))};e.a=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.canUseDOM=e.slidesOnLeft=e.slidesOnRight=e.siblingDirection=e.getTotalSlides=e.getPostClones=e.getPreClones=e.getTrackLeft=e.getTrackAnimateCSS=e.getTrackCSS=e.checkSpecKeys=e.getSlideCount=e.checkNavigable=e.getNavigableIndexes=e.swipeEnd=e.swipeMove=e.swipeStart=e.keyHandler=e.changeSlide=e.slideHandler=e.initializedState=e.extractObject=e.canGoNext=e.getSwipeDirection=e.getHeight=e.getWidth=e.lazySlidesOnRight=e.lazySlidesOnLeft=e.lazyEndIndex=e.lazyStartIndex=e.getRequiredLazySlides=e.getOnDemandLazySlides=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(1),s=i(o),a=n(16),l=i(a),c=e.getOnDemandLazySlides=function(t){for(var e=[],n=u(t),i=d(t),r=n;r<i;r++)t.lazyLoadedList.indexOf(r)<0&&e.push(r);return e},u=(e.getRequiredLazySlides=function(t){for(var e=[],n=u(t),i=d(t),r=n;r<i;r++)e.push(r);return e},e.lazyStartIndex=function(t){return t.currentSlide-h(t)}),d=e.lazyEndIndex=function(t){return t.currentSlide+p(t)},h=e.lazySlidesOnLeft=function(t){return t.centerMode?Math.floor(t.slidesToShow/2)+(parseInt(t.centerPadding)>0?1:0):0},p=e.lazySlidesOnRight=function(t){return t.centerMode?Math.floor((t.slidesToShow-1)/2)+1+(parseInt(t.centerPadding)>0?1:0):t.slidesToShow},f=e.getWidth=function(t){return t&&t.offsetWidth||0},m=e.getHeight=function(t){return t&&t.offsetHeight||0},g=e.getSwipeDirection=function(t){var e,n,i,r,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e=t.startX-t.curX,n=t.startY-t.curY,i=Math.atan2(n,e),r=Math.round(180*i/Math.PI),r<0&&(r=360-Math.abs(r)),r<=45&&r>=0||r<=360&&r>=315?"left":r>=135&&r<=225?"right":!0===o?r>=35&&r<=135?"up":"down":"vertical"},v=e.canGoNext=function(t){var e=!0;return t.infinite||(t.centerMode&&t.currentSlide>=t.slideCount-1?e=!1:(t.slideCount<=t.slidesToShow||t.currentSlide>=t.slideCount-t.slidesToShow)&&(e=!1)),e},b=(e.extractObject=function(t,e){var n={};return e.forEach(function(e){return n[e]=t[e]}),n},e.initializedState=function(t){var e=s.default.Children.count(t.children),n=Math.ceil(f(l.default.findDOMNode(t.listRef))),i=Math.ceil(f(l.default.findDOMNode(t.trackRef))),r=void 0;if(t.vertical)r=n;else{var o=t.centerMode&&2*parseInt(t.centerPadding);"string"==typeof t.centerPadding&&"%"===t.centerPadding.slice(-1)&&(o*=n/100),r=Math.ceil((n-o)/t.slidesToShow)}var a=l.default.findDOMNode(t.listRef)&&m(l.default.findDOMNode(t.listRef).querySelector('[data-index="0"]')),u=a*t.slidesToShow,d=void 0===t.currentSlide?t.initialSlide:t.currentSlide;t.rtl&&void 0===t.currentSlide&&(d=e-1-t.initialSlide);var h=t.lazyLoadedList||[],p=c({currentSlide:d,lazyLoadedList:h},t);h.concat(p);var g={slideCount:e,slideWidth:r,listWidth:n,trackWidth:i,currentSlide:d,slideHeight:a,listHeight:u,lazyLoadedList:h};return null===t.autoplaying&&t.autoplay&&(g.autoplaying="playing"),g},e.slideHandler=function(t){var e=t.waitForAnimate,n=t.animating,i=t.fade,o=t.infinite,s=t.index,a=t.slideCount,l=t.lazyLoadedList,u=t.lazyLoad,d=t.currentSlide,h=t.centerMode,p=t.slidesToScroll,f=t.slidesToShow,m=t.useCSS;if(e&&n)return{};var g=s,b=void 0,y=void 0,_=void 0,w={},C={};if(i){if(!o&&(s<0||s>=a))return{};s<0?g=s+a:s>=a&&(g=s-a),u&&l.indexOf(g)<0&&l.push(g),w={animating:!0,currentSlide:g,lazyLoadedList:l},C={animating:!1}}else b=g,g<0?(b=g+a,o?a%p!=0&&(b=a-a%p):b=0):!v(t)&&g>d?g=b=d:h&&g>=a?(g=o?a:a-1,b=o?0:a-1):g>=a&&(b=g-a,o?a%p!=0&&(b=0):b=a-f),y=x(r({},t,{slideIndex:g})),_=x(r({},t,{slideIndex:b})),o||(y===_&&(g=b),y=_),u&&l.concat(c(r({},t,{currentSlide:g}))),m?(w={animating:!0,currentSlide:b,trackStyle:E(r({},t,{left:y})),lazyLoadedList:l},C={animating:!1,currentSlide:b,trackStyle:S(r({},t,{left:_})),swipeLeft:null}):w={currentSlide:b,trackStyle:S(r({},t,{left:_})),lazyLoadedList:l};return{state:w,nextState:C}},e.changeSlide=function(t,e){var n,i,o,s,a,l=t.slidesToScroll,c=t.slidesToShow,u=t.slideCount,d=t.currentSlide,h=t.lazyLoad,p=t.infinite;if(s=u%l!=0,n=s?0:(u-d)%l,"previous"===e.message)o=0===n?l:c-n,a=d-o,h&&!p&&(i=d-o,a=-1===i?u-1:i);else if("next"===e.message)o=0===n?l:n,a=d+o,h&&!p&&(a=(d+l)%u+n);else if("dots"===e.message){if((a=e.index*e.slidesToScroll)===e.currentSlide)return null}else if("children"===e.message){if((a=e.index)===e.currentSlide)return null;if(p){var f=O(r({},t,{targetSlide:a}));a>e.currentSlide&&"left"===f?a-=u:a<e.currentSlide&&"right"===f&&(a+=u)}}else if("index"===e.message&&(a=Number(e.index))===e.currentSlide)return null;return a},e.keyHandler=function(t,e,n){return t.target.tagName.match("TEXTAREA|INPUT|SELECT")||!e?"":37===t.keyCode?n?"next":"previous":39===t.keyCode?n?"previous":"next":""},e.swipeStart=function(t,e,n){return"IMG"===t.target.tagName&&t.preventDefault(),!e||!n&&-1!==t.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:t.touches?t.touches[0].pageX:t.clientX,startY:t.touches?t.touches[0].pageY:t.clientY,curX:t.touches?t.touches[0].pageX:t.clientX,curY:t.touches?t.touches[0].pageY:t.clientY}}},e.swipeMove=function(t,e){var n=e.scrolling,i=e.animating,o=e.vertical,s=e.swipeToSlide,a=e.verticalSwiping,l=e.rtl,c=e.currentSlide,u=e.edgeFriction,d=e.edgeDragged,h=e.onEdge,p=e.swiped,f=e.swiping,m=e.slideCount,b=e.slidesToScroll,y=e.infinite,_=e.touchObject,w=e.swipeEvent,E=e.listHeight,C=e.listWidth;if(!n){if(i)return t.preventDefault();o&&s&&a&&t.preventDefault();var T=void 0,k={},O=x(e);_.curX=t.touches?t.touches[0].pageX:t.clientX,_.curY=t.touches?t.touches[0].pageY:t.clientY,_.swipeLength=Math.round(Math.sqrt(Math.pow(_.curX-_.startX,2)));var P=Math.round(Math.sqrt(Math.pow(_.curY-_.startY,2)));if(!a&&!f&&P>10)return{scrolling:!0};a&&(_.swipeLength=P);var I=(l?-1:1)*(_.curX>_.startX?1:-1);a&&(I=_.curY>_.startY?1:-1);var A=Math.ceil(m/b),M=g(e.touchObject,a),N=_.swipeLength;return y||(0===c&&"right"===M||c+1>=A&&"left"===M||!v(e)&&"left"===M)&&(N=_.swipeLength*u,!1===d&&h&&(h(M),k.edgeDragged=!0)),(!p&&w&&(w(M),k.swiped=!0),T=o?O+N*(E/C)*I:l?O-N*I:O+N*I,a&&(T=O+N*I),k=r({},k,{touchObject:_,swipeLeft:T,trackStyle:S(r({},e,{left:T}))}),Math.abs(_.curX-_.startX)<.8*Math.abs(_.curY-_.startY))?k:(_.swipeLength>10&&(k.swiping=!0,t.preventDefault()),k)}},e.swipeEnd=function(t,e){var n=e.dragging,i=e.swipe,o=e.touchObject,s=e.listWidth,a=e.touchThreshold,l=e.verticalSwiping,c=e.listHeight,u=e.currentSlide,d=e.swipeToSlide,h=e.scrolling,p=e.onSwipe;if(!n)return i&&t.preventDefault(),{};var f=l?c/a:s/a,m=g(o,l),v={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h)return v;if(!o.swipeLength)return v;if(o.swipeLength>f){t.preventDefault(),p&&p(m);var b=void 0,w=void 0;switch(m){case"left":case"up":w=u+_(e),b=d?y(e,w):w,v.currentDirection=0;break;case"right":case"down":w=u-_(e),b=d?y(e,w):w,v.currentDirection=1;break;default:b=u}v.triggerSlideHandler=b}else{var S=x(e);v.trackStyle=E(r({},e,{left:S}))}return v},e.getNavigableIndexes=function(t){for(var e=t.infinite?2*t.slideCount:t.slideCount,n=t.infinite?-1*t.slidesToShow:0,i=t.infinite?-1*t.slidesToShow:0,r=[];n<e;)r.push(n),n=i+t.slidesToScroll,i+=Math.min(t.slidesToScroll,t.slidesToShow);return r}),y=e.checkNavigable=function(t,e){var n=b(t),i=0;if(e>n[n.length-1])e=n[n.length-1];else for(var r in n){if(e<n[r]){e=i;break}i=n[r]}return e},_=e.getSlideCount=function(t){var e=t.centerMode?t.slideWidth*Math.floor(t.slidesToShow/2):0;if(t.swipeToSlide){var n=void 0,i=l.default.findDOMNode(t.listRef),r=i.querySelectorAll(".slick-slide");if(Array.from(r).every(function(i){if(t.vertical){if(i.offsetTop+m(i)/2>-1*t.swipeLeft)return n=i,!1}else if(i.offsetLeft-e+f(i)/2>-1*t.swipeLeft)return n=i,!1;return!0}),!n)return 0;var o=!0===t.rtl?t.slideCount-t.currentSlide:t.currentSlide;return Math.abs(n.dataset.index-o)||1}return t.slidesToScroll},w=e.checkSpecKeys=function(t,e){return e.reduce(function(e,n){return e&&t.hasOwnProperty(n)},!0)?null:void 0},S=e.getTrackCSS=function(t){w(t,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var e=void 0,n=void 0,i=t.slideCount+2*t.slidesToShow;t.vertical?n=i*t.slideHeight:e=k(t)*t.slideWidth;var o={opacity:1,transition:"",WebkitTransition:""};if(t.useTransform){var s=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",a=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",l=t.vertical?"translateY("+t.left+"px)":"translateX("+t.left+"px)";o=r({},o,{WebkitTransform:s,transform:a,msTransform:l})}else t.vertical?o.top=t.left:o.left=t.left;return t.fade&&(o={opacity:1}),e&&(o.width=e),n&&(o.height=n),window&&!window.addEventListener&&window.attachEvent&&(t.vertical?o.marginTop=t.left+"px":o.marginLeft=t.left+"px"),o},E=e.getTrackAnimateCSS=function(t){w(t,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var e=S(t);return t.useTransform?(e.WebkitTransition="-webkit-transform "+t.speed+"ms "+t.cssEase,e.transition="transform "+t.speed+"ms "+t.cssEase):t.vertical?e.transition="top "+t.speed+"ms "+t.cssEase:e.transition="left "+t.speed+"ms "+t.cssEase,e},x=e.getTrackLeft=function(t){if(t.unslick)return 0;w(t,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var e,n,i=t.slideIndex,r=t.trackRef,o=t.infinite,s=t.centerMode,a=t.slideCount,c=t.slidesToShow,u=t.slidesToScroll,d=t.slideWidth,h=t.listWidth,p=t.variableWidth,f=t.slideHeight,m=t.fade,g=t.vertical,v=0,b=0;if(m||1===t.slideCount)return 0;var y=0;if(o?(y=-C(t),a%u!=0&&i+u>a&&(y=-(i>a?c-(i-a):a%u)),s&&(y+=parseInt(c/2))):(a%u!=0&&i+u>a&&(y=c-a%u),s&&(y=parseInt(c/2))),v=y*d,b=y*f,e=g?i*f*-1+b:i*d*-1+v,!0===p){var _,S=l.default.findDOMNode(r);if(_=i+C(t),n=S&&S.childNodes[_],e=n?-1*n.offsetLeft:0,!0===s){_=o?i+C(t):i,n=S&&S.children[_],e=0;for(var E=0;E<_;E++)e-=S&&S.children[E]&&S.children[E].offsetWidth;e-=parseInt(t.centerPadding),e+=n&&(h-n.offsetWidth)/2}}return e},C=e.getPreClones=function(t){return t.unslick||!t.infinite?0:t.variableWidth?t.slideCount:t.slidesToShow+(t.centerMode?1:0)},T=e.getPostClones=function(t){return t.unslick||!t.infinite?0:t.slideCount},k=e.getTotalSlides=function(t){return 1===t.slideCount?1:C(t)+t.slideCount+T(t)},O=e.siblingDirection=function(t){return t.targetSlide>t.currentSlide?t.targetSlide>t.currentSlide+P(t)?"left":"right":t.targetSlide<t.currentSlide-I(t)?"right":"left"},P=e.slidesOnRight=function(t){var e=t.slidesToShow,n=t.centerMode,i=t.rtl,r=t.centerPadding;if(n){var o=(e-1)/2+1;return parseInt(r)>0&&(o+=1),i&&e%2==0&&(o+=1),o}return i?0:e-1},I=e.slidesOnLeft=function(t){var e=t.slidesToShow,n=t.centerMode,i=t.rtl,r=t.centerPadding;if(n){var o=(e-1)/2+1;return parseInt(r)>0&&(o+=1),i||e%2!=0||(o+=1),o}return i?e-1:0};e.canUseDOM=function(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}},function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"e",function(){return c}),n.d(e,"d",function(){return u}),n.d(e,"c",function(){return d}),n.d(e,"b",function(){return h});var i=n(0),r=n.n(i),o=function(){return"undefined"!=typeof window&&window.innerWidth?window.innerWidth:null},s=["xs","sm","md","lg","xl"],a=[576,768,992,1200],l=function(){var t=o(),e="xl";return t&&(e="xs",a[0]&&t>=a[0]&&(e="sm"),a[1]&&t>=a[1]&&(e="md"),a[2]&&t>=a[2]&&(e="lg"),a[3]&&t>=a[3]&&(e="xl")),e},c=function(t){var e=r.a.findIndex(s,function(e){return e===t}),n=s.slice(0,e+1);return function(t){return r.a.includes(n,t)}},u=function(){return c("sm")(l())},d=function(){return c("md")(l())},h=function(){return c("lg")(l())}},function(t,e,n){t.exports=n.p+"images/8c13be018d4e.png"},function(t,e,n){"use strict";function i(t,e,n){function i(e){var n=b,i=y;return b=y=void 0,x=e,w=t.apply(i,n)}function o(t){return x=t,S=setTimeout(p,e),C?i(t):w}function s(t){var n=t-E,i=t-x,r=e-n;return T?d(r,_-i):r}function h(t){var n=t-E,i=t-x;return void 0===E||n>=e||n<0||T&&i>=_}function p(){var t=a();if(h(t))return f(t);S=setTimeout(p,s(t))}function f(t){return S=void 0,k&&b?i(t):(b=y=void 0,w)}function m(){void 0!==S&&clearTimeout(S),x=0,b=E=y=S=void 0}function g(){return void 0===S?w:f(a())}function v(){var t=a(),n=h(t);if(b=arguments,y=this,E=t,n){if(void 0===S)return o(E);if(T)return S=setTimeout(p,e),i(E)}return void 0===S&&(S=setTimeout(p,e)),w}var b,y,_,w,S,E,x=0,C=!1,T=!1,k=!0;if("function"!=typeof t)throw new TypeError(c);return e=Object(l.a)(e)||0,Object(r.a)(n)&&(C=!!n.leading,T="maxWait"in n,_=T?u(Object(l.a)(n.maxWait)||0,e):_,k="trailing"in n?!!n.trailing:k),v.cancel=m,v.flush=g,v}var r=n(359),o=n(645),s=function(){return o.a.Date.now()},a=s,l=n(665),c="Expected a function",u=Math.max,d=Math.min;e.a=i},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o={};i.exports.get=function(t){if(r.has(o,t))return o[t]},i.exports.put=function(t,e){o[t]=e},i.exports.delete=function(t){r.has(o,t)&&delete o[t]}}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,n){var i=Object.freeze({desktop:8,iOSMobile:9,androidMobile:10,iOSTablet:11,androidTablet:12,iOSMobileWrapper:13,androidMobileWrapper:14,iOSTabletWrapper:15,androidTabletWrapper:16});n.exports={DEVICES:i}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=n(1),o=n.n(r),s=n(11),a=n.n(s),l=n(7),c=n.n(l),u=function(t){var e=t.icon,n=c.a.getUserCommonData();return o.a.createElement("i",{className:a()(i({icon:!0},e+"-"+n.getAppTheme(),!!e))})};e.a=u},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(13),s=n(7),a=n(6),l=n(97),c=n(9),u=n(56),d=l.EMPTY,h=l.LOADING,p=l.SUCCESS,f=l.ERROR,m=o.extend({defaults:function(){return{accountCurrencySymbol:s.getUserCurrencySymbol()}},status:function(t){var e=this;return function(n,i){var o={};o[t]=n,e.set(r.extend({},i,o)),e.update()}},loadDepositAmountSizes:function(){var t=s.getUserData(),e=t.getCrmboCustomer(),n=t.getAccount().id,i=e.password,o=s.getUserCurrency(),l=e.country,d=this.status("statusOfDepositAmountSizes");return(s.isPromotionMarketsX()&&!u.FIRST_DEPOSIT_MADE()?a.loadDepositFirstAtm().then(function(t){return t.data}):a.loadDepositAmounts(n,i,o,l).then(function(t){var e=t.data;return(r.isArray(e)?e:[]).map(function(t){return{amount:t,emphasized:!1}})})).then(function(t){var e=c.getDepositAmountSizes(),n=r.some(e,function(e){return Number(e)%t.length==0});d(p,{amounts:t,isAmountSizeSuitable:n})}).catch(function(t){return d(f)})},loadDepositAmountConfig:function(){var t=this.status("statusOfDepositAmountConfig");return t(h),a.loadDepositAmountsConfig().then(function(e){return t(p,e.data)}).catch(function(e){return t(f)})},loadDepositAmountsConfigForTradingAccount:function(t){var e=this.status("statusOfDepositAmountConfig");return e(h),a.loadDepositAmountsConfigForTradingAccount(t).then(function(t){return e(p,t.data)}).catch(function(t){return e(f)})},getCurrentFormattedLeverageValue:function(){return this.leverage.getCurrentFormattedLeverageValue()},getCurrentLeverageValue:function(){return this.leverage.getCurrentLeverageValue()},getMinAmount:function(){return this.get("minAmount")},getMaxAmount:function(){return this.get("maxAmount")},getDefaultAmount:function(){var t=this.get("defaultAmount"),e=this.get("minAmount"),n=this.get("maxAmount");return t<=e?e:t>=n?n:t},loadLeverage:function(){var t=s.getUserLeverageLevels(),e=this.status("statusOfLeverage");e(h),t.load().then(function(t){return e(p)}).catch(function(t){return e(f)}),this.leverage=t},isDepositAmountsEnabled:function(){return c.isDepositAmountsEnabled()},isSelectingAmountEnabled:function(){return this.isDepositAmountsEnabled()&&this.get("isAmountSizeSuitable")},flushStatuses:function(){this.set({statusOfDepositAmountConfig:d,statusOfLeverage:d,statusOfDepositAmountSizes:d})},update:function(){var t=this.toJSON(),e=t.statusOfDepositAmountSizes,n=t.statusOfLeverage,i=t.statusOfDepositAmountConfig,o=function(t,r){return r([e,n,i],function(e){return e===t})},s=o(f,r.some),a=o(p,r.every);s&&this.set("status",f),a&&this.set("status",p)},getAmount:function(){return this.get("amount")}});i.exports=m}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(13),s=(r.template(n(712)),n(6)),a=(n(22),n(7)),l=n(9);i.exports=o.extend({defaults:{spreadRebate:null},load:function(){if(!l.isSpreadRebateEnabled())return this.set("enabled",!1),Promise.resolve();var t=a.getUserAccountData().platformAccountId;return s.getSpreadRebate(t).then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this))},loadSuccess:function(t){return t.data?(this.set("spreadRebate",t.data),this.getSpreadRebate().active?this.set("enabled",!0):this.set("enabled",!1),Promise.resolve(t)):Promise.reject()},loadError:function(t){return Promise.reject(t)},getSpreadRebate:function(){return this.get("spreadRebate")||{}},isEnabled:function(){return this.get("enabled")}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"SWITCH_MODE_DROPDOWN",function(){return i});var i="settings_dropdown"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"MessageType",function(){return i});var i={ORDER_REJECTED:"ORDER_REJECTED",ORDER_FILLED:"ORDER_FILLED",ORDER_LIQUIDATION:"ORDER_LIQUIDATION"}},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(13),s=n(2),a=n(6),l=n(9),c=n(7),u=n(263).MessageType,d=n(739).MessageCategory,h=o.extend({defaults:function(){return{active:{},bonuses:[],hasBonuses:!1}},initialize:function(){l.isBonusesEnabled()&&(this.listenTo(s,"user:info",this.load),this.listenTo(s,"user:active_bonus:reload",this.reloadActiveBonus),this.listenTo(s,"stream:type:MESSAGE",this.onOrderFilledMessage))},reloadActiveBonus:function(){this.loadActiveBonusProgress(),this.loadBonusProgress()},hasActiveBonus:function(){return!r.isEmpty(this.getActiveBonus())&&this.getVolume()>0},getActiveBonus:function(){return this.get("active")},hasBonuses:function(){return this.get("hasBonuses")},hasCashBonuses:function(){return!r.isEmpty(r.find(this.get("bonuses"),function(t){return"PENDING_BONUS"!==t.type}))},getBonuses:function(){return this.get("bonuses")},getVolume:function(){return this.getActiveBonus().volume},getCurrentPoints:function(){return this.getActiveBonus().currentPoints},getTargetPoints:function(){return this.getActiveBonus().targetPoints},getExpiration:function(){return this.getActiveBonus().expiration},getEventOptions:function(){return{bonusAmount:this.getVolume(),bonusCurrency:c.getUserCurrencySymbol(),currentPoints:this.getCurrentPoints(),targetPoints:this.getTargetPoints(),bonusType:this.getActiveBonus().type}},loadBonusProgress:function(){return a.queryBonusProgress().then(this.loadBonusProgressSuccess.bind(this))},loadActiveBonusProgress:function(){return a.queryActiveBonus().then(this.loadActiveBonusProgressSuccess.bind(this))},loadActiveBonusProgressSuccess:function(t){var e=t.data;return this.set({active:r.isEmpty(e)?{}:e}),Promise.resolve(this)},loadBonusProgressSuccess:function(t){var e=this,n=t.data;return r.isEmpty(n)||this.set({hasBonuses:!0,bonuses:n}),r.each(n,function(t){"IN_PROGRESS"===t.status&&e.set({active:t})}),Promise.resolve(this)},load:function(){this.loadBonusProgress()},onOrderFilledMessage:function(t){var e=this;r.each(t,function(t){t.type===u.ORDER_FILLED&&t.category===d.TRADE_LOG&&e.loadActiveBonusProgress()})}});i.exports=new h}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(121).f,r=n(155),o=n(67)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){n(1763);for(var i=n(66),r=n(156),o=n(181),s=n(67)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<a.length;l++){var c=a[l],u=i[c],d=u&&u.prototype;d&&!d[s]&&r(d,s,c),o[c]=o.Array}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){(function(i){function r(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function o(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(r++,"%c"===t&&(o=r))}),t.splice(o,0,i)}}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function l(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==i&&"env"in i&&(t=Object({NODE_ENV:"production"}).DEBUG),t}e=t.exports=n(1861),e.log=s,e.formatArgs=o,e.save=a,e.load=l,e.useColors=r,e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(l())}).call(e,n(126))},function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),i=0,r=n.length;i<r;i++){var o=n[i].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},function(t,e){t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){(function(i){function r(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function o(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(r++,"%c"===t&&(o=r))}),t.splice(o,0,i)}}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function l(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==i&&"env"in i&&(t=Object({NODE_ENV:"production"}).DEBUG),t}e=t.exports=n(1876),e.log=s,e.formatArgs=o,e.save=a,e.load=l,e.useColors=r,e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(l())}).call(e,n(126))},function(t,e,n){"use strict";function i(t){return function(e,n){e({type:T.J,instrumentDetailsSymbol:Object(j.getInstrumentDetailsSymbol)(n()),payload:t})}}function r(t){return{type:T.c,payload:t}}function o(t){return{type:T.B,payload:t}}function s(){return{type:T.e}}function a(t){return{type:T.h,payload:t}}function l(t){return{type:T.g,payload:t}}function c(){return{type:T.f}}function u(t){return function(e){e({type:T.m,payload:t}),e(s()),e(c()),e(Object(C.selectFirstSymbolInDefaultCategoryPath)())}}function d(t){return{type:T.l,payload:t}}function h(t){return{type:T.u,payload:t}}function p(t){return function(e){e({types:[T.v,T.x,T.w],callApi:function(){return U.subscribeChartFeed(t)}})}}function f(t){return function(e){e({types:[T.D,T.F,T.E],callApi:function(){return U.unsubscribeChartFeed(t)}})}}function m(t){return function(e,n){e(n().instruments.subsCounters.SWAP_RATES[t]?{type:T.y,payload:t}:{types:[T.y,T.A,T.z],additionalData:{payload:t},callApi:function(){return U.subscribeSwapRates(t)}})}}function g(t){return{type:T.C,payload:t}}function v(t){return function(e,n){e(n().instruments.subsCounters.SWAP_RATES[t]===z?{types:[T.G,T.I,T.H],additionalData:{payload:t},callApi:function(){return U.unsubscribeSwapRates(t)}}:{type:T.G,payload:t})}}function b(t){return{type:T.d,payload:t}}function y(t){return function(e,n){e(n().instruments.subsCounters.TRADING_CALENDARS_SETTINGS[t]?{type:T.q,payload:t}:{types:[T.q,T.s,T.r],additionalData:{payload:t},callApi:function(){return U.loadTradingCalendarsSettings(t)}})}}function _(t){return{type:T.b,payload:t}}function w(t){return function(e,n){e(n().instruments.subsCounters.MARGINING_SETTINGS[t]?{type:T.n,payload:t}:{types:[T.n,T.p,T.o],additionalData:{payload:t},callApi:function(){return U.loadMarginingSettings(t)}})}}function S(){return function(t,e){return e().instruments.CRYPTO_INFO?Promise.resolve():t({types:[T.i,T.k,T.j],callApi:function(){return U.loadCryptoInfo()}})}}function E(t){return{type:T.a,payload:t}}function x(t){return{type:T.t,payload:t}}Object.defineProperty(e,"__esModule",{value:!0});var C=n(87),T=n(643),k=n(6),O=n.n(k),P=void 0,I=function(){return P||(P=n(22)),P.getAtmosphereId()},A=function(t,e){return O.a.updateChartsSubscription(I(),t,e)},M=function(t){return O.a.unsubscribeCharts(I(),t)},N=function(t){return O.a.subscribeSwapRates(I(),t,!0)},D=function(t){return O.a.subscribeSwapRates(I(),t,!1)},L=function(t){return O.a.getTradingCalendarsSettings(I(),t)},R=function(t){return O.a.getMarginingSettings(I(),t)},F=function(){return O.a.loadCryptoInfo()},B={loadMarginingSettings:R,loadTradingCalendarsSettings:L,subscribeChartFeed:A,subscribeSwapRates:N,unsubscribeChartFeed:M,unsubscribeSwapRates:D,loadCryptoInfo:F},U=B,j=n(158);e.updateInstrumentsQuote=i,e.fxInstrument=r,e.summary=o,e.initInstrumentSymbolMap=s,e.instrumentTradeStatuses=a,e.instrumentSettingsUpdate=l,e.initInstrumentTreePaths=c,e.loadInstrumentsSuccess=u,e.loadInstrumentsError=d,e.setInstrumentLastQuoteTime=h,e.subscribeChartFeed=p,e.unsubscribeChartFeed=f,e.subscribeSwapRates=m,e.swapRatesReceived=g,e.unsubscribeSwapRates=v,e.fxSystemSettings=b,e.loadTradingCalendarsSettings=y,e.clearTradingCalendarsSettings=_,e.loadMarginingSettings=w,e.loadCryptoInfo=S,e.clearMarginingSettings=E,e.rolloverDates=x;var z=1},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=e.symbol;return{tipRanks:Ht(t,n)}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){var n=e.symbol;return{tipRanks:Ht(t,n)}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=e.symbol;return{tipRanks:Ht(t,n)}}function c(t){return G()({"price-target-graph__upside-price":!0,"price-target-graph__upside-price--upside":t>0,"price-target-graph__upside-price--downside":t<=0})}function u(t){return t?t+"% "+(t>0?__("tipranks.text.upside"):__("tipranks.text.downside")):X.NA}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t,e){var n=e.symbol;return n?{consensus:qt(t,n)}:dt.b}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){var n=e.symbol;return{totalAnalystsRecommendations:Yt(t,n)}}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t,e){var n=e.symbol;return{isAvailable:$t(t,n)}}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t,e){var n=e.symbol;return{tipRanks:Ht(t,n)}}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function S(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function E(t,e){var n=e.symbol;return{tipRanks:Ht(t,n)}}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C(t){return{recommendations:Xt(t),analysts:Kt(t)}}function T(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function P(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function I(t,e){var n=e.symbol;return{isBuyTradable:Object(Ot.isInstrumentBuyTradable)(t,n),isSellTradable:Object(Ot.isInstrumentSellTradable)(t,n),isOutOfMarketHours:Object(Ot.getInstrumentOutOfMarketHours)(t,n),isMarginLevelLow:Object(Ot.isInstrumentMarginLevelLow)(t),isVisible:Object(Ot.isInstrumentVisible)(t,n),tradingMode:Object(Ot.getInstrumentTradingMode)(t,n)}}function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function D(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function L(t,e){var n=e.symbol;return{tipRanks:Ht(t,n),totalRecommendations:Yt(t,n)}}function R(){return function(t,e){return zt(e())?Promise.resolve():t({types:[Jt,Zt,te],callApi:function(){return ut.loadAnalyticsRecommendations()}})}}function F(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,e=arguments[1],n=e.type,i=e.payload;switch(n){case Zt:return ee({},t,i.responsePayload.data)}return t}var B=n(1),U=n.n(B),j=n(8),z=n(0),V=n.n(z),H=n(11),G=n.n(H),W=n(107),q=n.n(W),$=function(t){var e=t.tipRanks,n=t.className,r=t.showShortDescription,o=void 0!==r&&r;if(V.a.isEmpty(e))return null;var s=G()(i({"price-target-description":!0},n,!!n)),a=e.total_analysts_recommendations,l=e.name,c=e.avg_target_price,u=e.high_target_price,d=e.low_target_price,h=__("tipranks.text.price_target_description"+(o?"_short":""),a,l,"$"+c," $"+u," $"+d);return U.a.createElement("div",{className:s},q()(h))},Y=Object(j.connect)(r)($),X=n(10),K=function(t){var e=t.tipRanks,n=t.className,i=t.showTitle,r=void 0===i||i;if(V.a.isEmpty(e))return null;var s=G()(o({"avg-target-price":!0},n,!!n)),a=e.avg_target_price,l=e.avg_upside,c=G()({"avg-target-price__avg":!0,"upside-value":!0,"upside-value--upside":l>0,"upside-value--downside":l<=0});return U.a.createElement("div",{className:s},r&&U.a.createElement("div",{className:"avg-target-price__title"},__("tipranks.text.avg_target_price")),U.a.createElement("div",{className:"avg-target-price__price"},U.a.createElement("div",{className:"avg-target-price__avg-price"},"$",a),U.a.createElement("div",{className:c},l?Math.abs(l)+"% "+(l>0?__("tipranks.text.upside"):__("tipranks.text.downside")):X.NA)))},Q=Object(j.connect)(s)(K),J=n(249),Z=n(283),tt=n(160),et=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},nt=function(t){var e=t.tipRanks,i=t.className;if(V.a.isEmpty(e))return null;var r=(n(71),G()(a({"price-target-graph":!0},i,!!i))),o=e.past_prices,s=e.avg_target_price,l=e.high_target_price,d=e.low_target_price,h=e.high_upside,p=e.avg_upside,f=e.low_upside,m={y:V.a.last(o),x:o.length-1,marker:{enabled:!1},states:{hover:{halo:!1,enabled:!1}}},g={dashStyle:"shortdot",marker:{symbol:"circle"}},v=o.length-1,b=1.5*o.length,y={verticalAlign:"bottom",style:{fontSize:"10px",fontWeight:"bold",fontFamily:"arial sans-serif",color:tt.TEXT_MUTED_COLOR,padding:"10px"}},_={chart:{backgroundColor:"transparent",height:104,width:300},series:[{data:o,marker:{enabled:!1},color:"#d69133"},et({data:[m,{y:l,x:b}]},g,{color:tt.POSITIVE_COLOR}),et({data:[m,{y:s,x:b}]},g,{color:tt.NEUTRAL_COLOR}),et({data:[m,{y:d,x:b}]},g,{color:tt.NEGATIVE_COLOR})],xAxis:{plotLines:[{value:v,color:"#000",width:1}],labels:{enabled:!1}},yAxis:{labels:{enabled:!1},title:{text:null}},tooltip:{pointFormat:"{point.y}",headerFormat:"",style:{color:tt.TEXT_MUTED_COLOR}},legend:{enabled:!1},title:et({text:__("tipranks.text.past_months"),align:"left",x:10},y),subtitle:et({text:__("tipranks.text.next_months"),align:"right",x:-10},y)};return U.a.createElement("div",{className:r},U.a.createElement("div",{className:"price-target-graph__graph"},U.a.createElement(Z.a,{config:_})),U.a.createElement("div",{className:"price-target-graph__table"},U.a.createElement(J.d,{className:"price-target-graph__table-content",bodyClassName:"price-target-graph__table-content__body"},U.a.createElement(J.c,{className:c(h)},U.a.createElement(J.a,{className:"price-target-graph__table-cell price-target-graph__table-cell--upside"},__("tipranks.text.high")),U.a.createElement(J.a,{className:"price-target-graph__table-cell"},l),U.a.createElement(J.a,{className:"price-target-graph__table-cell"},u(h))),U.a.createElement(J.c,{className:c(p)},U.a.createElement(J.a,{className:"price-target-graph__table-cell price-target-graph__table-cell--avg"},__("tipranks.text.average")),U.a.createElement(J.a,{className:"price-target-graph__table-cell"},s),U.a.createElement(J.a,{className:"price-target-graph__table-cell"},u(p))),U.a.createElement(J.c,{className:c(f)},U.a.createElement(J.a,{className:"price-target-graph__table-cell price-target-graph__table-cell--downside"},__("tipranks.text.low")),U.a.createElement(J.a,{className:"price-target-graph__table-cell"},d),U.a.createElement(J.a,{className:"price-target-graph__table-cell"},u(f))))))},it=Object(j.connect)(l)(nt),rt=(n(658),n(6)),ot=n.n(rt),st=X.LAST_SEVEN_DAYS,at=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st;return ot.a.getAnalystRecommendations(t)},lt=function(t){return t===X.HOLD?t:-1!==t.indexOf(X.BUY)?X.BUY:X.SELL},ct={loadAnalyticsRecommendations:at,getConsensusDirection:lt},ut=ct,dt=n(245),ht=function(t){var e,n=t.className,i=t.consensus;if(!V.a.isString(i))return null;i=i.toLowerCase();var r=ut.getConsensusDirection(i),o=G()((e={"consensus-text-component":!0},d(e,"consensus-text-component--"+r,!0),d(e,n,!!n),e));return U.a.createElement("div",{className:o},__("tipranks.text."+i))},pt=Object(j.connect)(h)(ht),ft=function(t){var e=t.className,n=t.totalAnalystsRecommendations,i=G()(p({"consensus-based-on fs-11":!0},e,!!e));return U.a.createElement("div",{className:i},__("tipranks.text.based_on",n))},mt=Object(j.connect)(f)(ft),gt=function(t){var e=t.isAvailable,n=t.className,i=t.symbol;if(!e)return null;var r=G()(m({"consensus-status":!0},n,!!n));return U.a.createElement("div",{className:r},U.a.createElement(pt,{className:"consensus-status__consensus",symbol:i}),U.a.createElement(mt,{className:"consensus-status__description",symbol:i}))},vt=Object(j.connect)(g)(gt),bt=function(t){var e=t.tipRanks,n=t.className;if(V.a.isEmpty(e))return null;var i=G()(v({"consensus-description":!0},n,!!n)),r=e.consensus,o=e.total_analysts_recommendations,s=__("tipranks.text.consensus_description",o,e.name,r);return U.a.createElement("div",{className:i},q()(s))},yt=Object(j.connect)(b)(bt),_t=n(36),wt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),St=function(t){function e(){return _(this,e),w(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),wt(e,[{key:"render",value:function(){var t=this.props,e=t.tipRanks,n=t.className;if(V.a.isEmpty(e))return null;var i=e.total_analysts_buy,r=e.total_analysts_sell,o=e.total_analysts_hold,s=G()(y({"analyst-pie":!0},n,!!n)),a={chart:{type:"pie",height:104,width:230},plotOptions:{pie:{allowPointSelect:!1,dataLabels:{enabled:!1},showInLegend:!0,point:{events:{legendItemClick:function(t){t.preventDefault()}}}},series:{states:{hover:{enabled:!1}}}},legend:{align:"right",verticalAlign:"middle",layout:"vertical",labelFormat:"{percentage:.1f}% {name} ({y})",itemStyle:{fontSize:"11px",fontWeight:"normal",color:tt.TEXT_MUTED_COLOR},itemMarginBottom:4},tooltip:{pointFormat:"{point.name}: {point.percentage:.1f}%",headerFormat:"",style:{color:tt.TEXT_MUTED_COLOR}},series:[{colorByPoint:!0,data:[{name:__("tipranks.text.buy"),y:i,color:tt.POSITIVE_COLOR},{name:__("tipranks.text.sell"),y:r,color:tt.NEGATIVE_COLOR},{name:__("tipranks.text.hold"),y:o,color:tt.NEUTRAL_COLOR}]}]};return U.a.createElement("div",{className:s},U.a.createElement(_t.b,{config:a,className:"analyst-pie__chart"}))}}]),e}(U.a.Component),Et=Object(j.connect)(E)(St),xt=function(t){var e=t.recommendation,n=t.analystInfo,i=t.className,r=G()(x({"analyst-recommendation":!0},i,!!i)),o=G()({"upside-value":!0,"upside-value--upside":e.analyst_upside>0,"upside-value--downside":e.analyst_upside<=0});return U.a.createElement("div",{className:r},U.a.createElement("div",{className:"analyst-recommendation__header"},U.a.createElement("div",{className:"analyst-recommendation__name"},n.name),U.a.createElement("div",{className:"analyst-recommendation__company"},n.firm),U.a.createElement(_t.f,{rating:n.rating,className:"analyst-recommendation__rating"})),U.a.createElement("div",{className:"analyst-recommendation__content"},U.a.createElement("div",{className:"analyst-recommendation__recommendation"},U.a.createElement("div",null,__("tipranks.text.change")),U.a.createElement("div",{className:"analyst-recommendation__date"},e.action)),U.a.createElement("div",{className:"analyst-recommendation__recommendation"},U.a.createElement("div",null,__("tipranks.text.target_price")),U.a.createElement("div",{className:"analyst-recommendation__price"},"$",e.analyst_target_price)),U.a.createElement("div",{className:"analyst-recommendation__recommendation"},U.a.createElement("div",null,__("tipranks.text.upside_downside")),U.a.createElement("div",{className:o},e.analyst_upside?Math.abs(e.analyst_upside)+"%":X.NA)),U.a.createElement("div",{className:"analyst-recommendation__recommendation"},U.a.createElement("div",null,__("tipranks.text.recommendation")),U.a.createElement(pt,{consensus:e.recommendation}))))},Ct=function(t){var e=t.recommendations,n=t.analysts,i=t.symbol,r=t.inSlider,o=void 0===r||r,s=t.className;if(V.a.isEmpty(e))return null;e=V.a.where(e,{symbol:i});var a=G()(x({"analysts-list":!0},s,!!s));return U.a.createElement("div",{className:a},o?U.a.createElement(_t.l,{slidesToShow:5.25,responsive:[{breakpoint:1599,settings:{slidesToShow:4.25}},{breakpoint:1420,settings:{slidesToShow:3.25}}]},V.a.map(e,function(t,e){return U.a.createElement(_t.c,{className:"analysts-list__recommendation",key:e},U.a.createElement(xt,{symbol:i,recommendation:t,analystInfo:n[t.analyst_id]}))})):V.a.map(e,function(t,e){return U.a.createElement(_t.c,{className:"analysts-list__recommendation",contentClassName:"analysts-list__recommendation-content",key:e},U.a.createElement(xt,{symbol:i,recommendation:t,analystInfo:n[t.analyst_id]}))}))},Tt=Object(j.connect)(C)(Ct),kt=n(418),Ot=n(78),Pt=n(2),It=n.n(Pt),At=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Mt=function(t){function e(){return k(this,e),O(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return P(e,t),At(e,[{key:"onConsensusBtnClick",value:function(t){var e=this.props,n=e.onClick,i=e.symbol;t===X.HOLD||this.isDisabled(t)||(It.a.trigger("ui:new-position",{direction:t,symbolOrId:i}),n())}},{key:"getNotTradableMessage",value:function(t){if(!this.isDisabled(t))return"";var e=this.props,n=e.isVisible,i=e.tradingMode,r=e.isOutOfMarketHours,o=e.isMarginLevelLow;if(!n)return __("accountInfo.outOfMarket.other");switch(i){case X.TRADING_MODE.NO:return __("accountInfo.outOfMarket.other");case X.TRADING_MODE.CLOSE_ONLY:return __("accountInfo.outOfMarket.close");case X.TRADING_MODE.SHORT_ONLY:return __("accountInfo.outOfMarket.buy");case X.TRADING_MODE.LONG_ONLY:return __("accountInfo.outOfMarket.sell")}return r?__("accountInfo.outOfMarket.notrade"):o?__("margin.level_2.buy_sell_button_tooltip.description"):""}},{key:"isDisabled",value:function(t){if(t===X.HOLD)return!1;var e=this.props,n=e.isBuyTradable,i=e.isSellTradable;return t===X.BUY?!n:!i}},{key:"render",value:function(){var t,e=this,n=this.props.className,i=this.props.consensus;i=i.toLowerCase();var r=ut.getConsensusDirection(i),o=G()((t={"consensus-btn":!0},T(t,"consensus-btn--"+r,!0),T(t,n,!!n),T(t,"disabled",this.isDisabled(r)),t));return U.a.createElement(kt.a,{className:o,onClick:function(){return e.onConsensusBtnClick(r)},"aria-label":this.getNotTradableMessage(r)},__("tipranks.text."+i))}}]),e}(U.a.Component);Mt.defaultProps={onClick:V.a.noop};var Nt=Object(j.connect)(I)(Mt),Dt=n(31),Lt=n.n(Dt),Rt=(n(1334),function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()),Ft=function(t){function e(){return M(this,e),N(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return D(e,t),Rt(e,[{key:"render",value:function(){var t=this.props,e=t.tipRanks,n=t.className,i=t.totalRecommendations;if(V.a.isEmpty(e))return null;var r=e.total_analysts_buy,o=e.total_analysts_sell,s=e.total_analysts_hold,a=G()(A({"analyst-bar":!0},n,!!n)),l=Lt()(r/i).toPercent(),c=Lt()(o/i).toPercent(),u=Lt()(s/i).toPercent();return U.a.createElement("div",{className:a},U.a.createElement("div",{className:"analyst-bar__bar"},U.a.createElement("div",{className:"analyst-bar__segment analyst-bar__segment--buy",style:{width:l}}),U.a.createElement("div",{className:"analyst-bar__segment analyst-bar__segment--sell",style:{width:c}}),U.a.createElement("div",{className:"analyst-bar__segment analyst-bar__segment--hold",style:{width:u}})),U.a.createElement("div",{className:"analyst-bar__legend"},U.a.createElement("div",{className:"analyst-bar__legend-item analyst-bar__legend-item--buy"},__("tipranks.text.buy"),": ",l),U.a.createElement("div",{className:"analyst-bar__legend-item analyst-bar__legend-item--sell"},__("tipranks.text.sell"),": ",c),U.a.createElement("div",{className:"analyst-bar__legend-item analyst-bar__legend-item--hold"},__("tipranks.text.hold"),": ",u)))}}]),e}(U.a.Component),Bt=Object(j.connect)(L)(Ft),Ut=n(44),jt=n(106),zt=function(t){return t.tipRanks},Vt=Object(Ut.a)(zt,function(t){return t&&t.stocks}),Ht=Object(Ut.a)([Vt,Ot.getInstrumentTicker],function(t,e){return t&&t[e]}),Gt=Object(Ut.a)(Ht,function(t){return t&&t.avg_target_price||null}),Wt=Object(Ut.a)(Ht,function(t){return t&&t.avg_upside||null}),qt=Object(Ut.a)(Ht,function(t){return t&&t.consensus||""}),$t=Object(Ut.a)([jt.c,Ht],function(t,e){return t&&!V.a.isEmpty(e)}),Yt=Object(Ut.a)(Ht,function(t){return t&&t.total_analysts_recommendations||null}),Xt=Object(Ut.a)(zt,function(t){return t&&t.recommendations}),Kt=Object(Ut.a)(zt,function(t){return t&&t.analysts}),Qt=Object(Ut.a)([Gt,qt,Wt],function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return V.a.every(e,function(t){return!!t})}),Jt="instruments/LOAD_TIPRANKS",Zt="instruments/LOAD_TIPRANKS_SUCCESS",te="instruments/LOAD_TIPRANKS_ERROR",ee=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ne=null;n.d(e,"i",function(){return Y}),n.d(e,"d",function(){return Q}),n.d(e,"j",function(){return it}),n.d(e,"g",function(){return vt}),n.d(e,"f",function(){return yt}),n.d(e,"b",function(){return Et}),n.d(e,"c",function(){return Tt}),n.d(e,!1,function(){return Nt}),n.d(e,"a",function(){return Bt}),n.d(e,"h",function(){return pt}),n.d(e,"e",function(){return mt}),n.d(e,!1,function(){return zt}),n.d(e,!1,function(){return Vt}),n.d(e,"m",function(){return Ht}),n.d(e,"k",function(){return Gt}),n.d(e,"o",function(){return Wt}),n.d(e,"l",function(){return qt}),n.d(e,"s",function(){return $t}),n.d(e,"n",function(){return Yt}),n.d(e,"q",function(){return Xt}),n.d(e,"p",function(){return Kt}),n.d(e,"r",function(){return Qt}),n.d(e,!1,function(){return Jt}),n.d(e,!1,function(){return Zt}),n.d(e,!1,function(){return te}),n.d(e,"t",function(){return R}),n.d(e,"u",function(){return F})},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){function o(t,e){var n=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector;if(n)return n.call(t,e)}var s=n(12),a=n(0),l=n(886),c=n(45),u=n(805),d=n(417),h=n(1591),p=n(1592),f=n(1593),m=n(810),g=n(14),v=n(2),b=n(54),y=n(87),_=y.setTradingSection,w=y.setShouldInstrumentBeCentered,S=n(367).default,E=["instrumentName","sellButton","buyButton","favouriteButton"],x=s.extend({isFocused:!1,events:function(){return a.extend({},a.result(s.prototype,"events"),{"focusin input":"onFocus","keyup input":"updateSearchString","focusout input":"onBlur",keydown:"onKeyDown"})},model:new l,template:a.template(n(1594)),initialize:function(t){this.collection=new c,t=a.extend({},{value:"",autoClear:!0,handleCloseRules:!1,placeholder:__("search.placeholder"),autoRender:!0,columnNames:null,autoFocus:!1},t),s.prototype.initialize.call(this,t),this.bindedKillerFn=this.killerFn.bind(this),this.options.autoRender&&this.render()},render:function(){return s.prototype.render.call(this),this.$el.html(this.template({value:this.options.value,placeholder:this.options.placeholder,inputClassName:this.options.inputClassName})),!0===this.options.autoFocus&&this.$("input")[0].focus(),this},getText:function(){return this.$el.find("input").val()},onFocus:function(t){this.oldValue=this.getText(),this.enableKillerFn()},onBlur:function(){var t=this;setTimeout(function(){t.$("input").val(t.oldValue)},100)},setOldValue:function(t){this.oldValue=t},closest:function(t,e){for(;t;){if(o(t,e))return t;t=t.parentElement}return null},killerFn:function(t){var e=this.options.onCancel||a.noop;null!==this.closest(t.target,".killer-container")&&(this.closeResultsBlock(),this.disableKillerFn(),e.call(this,this.oldValue),this.options.autoClear&&this.$el.find("input").val(""))},enableKillerFn:function(){this.disableKillerFn(),r(document).on("click",this.bindedKillerFn)},disableKillerFn:function(){r(document).off("click",this.bindedKillerFn)},getColumns:function(t){var e=this,n={instrumentName:{key:"name",type:d,style:{width:"100%"}},sellButton:{key:"instrumentId",type:p,cellProps:{source:"search",onClick:function(){e.closeResultsBlock(),v.trigger("close:mobile:instruments:tree")}}},buyButton:{key:"instrumentId",type:h,cellProps:{source:"search",onClick:function(){e.closeResultsBlock(),v.trigger("close:mobile:instruments:tree")}}},favouriteButton:{key:"instrumentId",type:f}};return a.reduce(t,function(t,e){return t.push(n[e]),t},[])},openResults:function(){this.$(".killer-container").removeClass("hidden");var t=this,e=this.options,i=e.handleCloseRules,r=function(t,e){var n=e.get("symbol");g.getInstrumentBySymbol(n)&&(store.dispatch(_()),v.trigger("ui:instrument",n,!0))};this.grid=u({className:"instruments-table",collection:this.collection,empty:m,shouldHideColumns:!0,source:"search",customRowsComponent:n(811),customRowComponent:n(812),columns:e.columns||this.getColumns(e.columnNames||E),onRowClick:function(n,o){var s=o.get("sellTradable")||o.get("buyTradable"),a=e.onRowClick||r;if(store.dispatch(w(!0)),!i||s){var l=!1!==a.apply(t,arguments);(i&&l||!i)&&t.closeResultsBlock()}}},this.$el.find(".results")[0]);var o=this.$el.find(".results");o.css("display","block"),this.isEnoughSpaceToOpen()||o.addClass("results--top"),this.enableKillerFn()},isEnoughSpaceToOpen:function(){if(this.parent&&this.options.overflowComponentSelector){var t=this.parent.parentElement.offsetTop+this.getHeightToOpen(),e=S(this.$el,this.options.overflowComponentSelector);return t<e.offsetHeight+e.offsetTop}return!0},getHeightToOpen:function(){var t=this.$el.find(".results")[0];return t.offsetHeight+t.offsetTop},closeResultsBlock:function(){var t=this;this.closeResults(),setTimeout(function(){return t.grid&&t.grid.destroy()},0)},closeResults:function(){this.$(".killer-container").addClass("hidden"),this.collection.reset(),b.remove(this.subscribedInstruments),this.$el.find(".results").css("display","none").removeClass("results--top"),this.disableKillerFn()},search:function(t){this.results=this.model.search(t),this.subscribedInstruments=b.update(this.results,this.subscribedInstruments).addedSymbols,this.collection.set(this.results)},updateSearchString:function(t){var e=t.keyCode||t.which,n=t.target.value;if(n.length>=2)this.search(n),13!==e&&this.openResults();else{this.closeResultsBlock();if(!(this.getText().length>0))return}},onKeyDown:function(t){this.grid&&this.grid.element.onKeyDown(t)},setPlaceholder:function(t){this.$el.find("input").attr("placeholder",t)},disable:function(){this.$el.addClass("disabled"),this.$el.find("input").attr("disabled",!0)},enable:function(){this.$el.removeClass("disabled"),this.$el.find("input").removeAttr("disabled")}});i.exports=x}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){"use strict";e.__esModule=!0;var i=n(1313),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=r.default},function(t,e,n){var i;!function(r,o){"object"==typeof t&&t.exports?(o.default=o,t.exports=r.document?o(r):o):void 0!==(i=function(){return o(r)}.call(e,n,e,t))&&(t.exports=i)}("undefined"!=typeof window?window:this,function(t){var e=function(){var e=void 0===t?"undefined"!=typeof window?window:{}:t,n=e.document,i=e.navigator&&e.navigator.userAgent||"",r=n&&n.createElementNS&&!!n.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o=/(edge|msie|trident)/i.test(i)&&!e.opera,s=-1!==i.indexOf("Firefox"),a=-1!==i.indexOf("Chrome"),l=s&&4>parseInt(i.split("Firefox/")[1],10);return e.Highcharts?e.Highcharts.error(16,!0):{product:"Highcharts",version:"7.0.3",deg2rad:2*Math.PI/360,doc:n,hasBidiBug:l,hasTouch:n&&void 0!==n.documentElement.ontouchstart,isMS:o,isWebKit:-1!==i.indexOf("AppleWebKit"),isFirefox:s,isChrome:a,isSafari:!a&&-1!==i.indexOf("Safari"),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(i),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:r,win:e,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[]}}();!function(t){t.timers=[];var e=t.charts,n=t.doc,i=t.win;t.error=function(e,n,r){var o=t.isNumber(e)?"Highcharts error #"+e+": www.highcharts.com/errors/"+e:e;if(r&&t.fireEvent(r,"displayError",{code:e}),n)throw Error(o);i.console},t.Fx=function(t,e,n){this.options=e,this.elem=t,this.prop=n},t.Fx.prototype={dSetter:function(){var t,e=this.paths[0],n=this.paths[1],i=[],r=this.now,o=e.length;if(1===r)i=this.toD;else if(o===n.length&&1>r)for(;o--;)t=parseFloat(e[o]),i[o]=isNaN(t)?n[o]:r*parseFloat(n[o]-t)+t;else i=n;this.elem.attr("d",i,null,!0)},update:function(){var t=this.elem,e=this.prop,n=this.now,i=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,n,null,!0):t.style[e]=n+this.unit,i&&i.call(t,n,this)},run:function(e,n,r){var o=this,s=o.options,a=function(t){return!a.stopped&&o.step(t)},l=i.requestAnimationFrame||function(t){setTimeout(t,13)},c=function(){for(var e=0;e<t.timers.length;e++)t.timers[e]()||t.timers.splice(e--,1);t.timers.length&&l(c)};e!==n||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=e,this.end=n,this.unit=r,this.now=this.start,this.pos=0,a.elem=this.elem,a.prop=this.prop,a()&&1===t.timers.push(a)&&l(c)):(delete s.curAnim[this.prop],s.complete&&0===Object.keys(s.curAnim).length&&s.complete.call(this.elem))},step:function(e){var n,i=+new Date,r=this.options,o=this.elem,s=r.complete,a=r.duration,l=r.curAnim;return o.attr&&!o.element?e=!1:e||i>=a+this.startTime?(this.now=this.end,this.pos=1,this.update(),n=l[this.prop]=!0,t.objectEach(l,function(t){!0!==t&&(n=!1)}),n&&s&&s.call(o),e=!1):(this.pos=r.easing((i-this.startTime)/a),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0),e},initPath:function(e,n,i){function r(t){var e,n;for(u=t.length;u--;)e="M"===t[u]||"L"===t[u],n=/[a-zA-Z]/.test(t[u+3]),e&&n&&t.splice(u+1,0,t[u+1],t[u+2],t[u+1],t[u+2])}function o(t,e){for(;t.length<l;){t[0]=e[l-t.length];var n=t.slice(0,f);[].splice.apply(t,[0,0].concat(n)),g&&(n=t.slice(t.length-f),[].splice.apply(t,[t.length,0].concat(n)),u--)}t[0]="M"}function s(t,e){for(var n=(l-t.length)/f;0<n&&n--;)c=t.slice().splice(t.length/v-f,f*v),c[0]=e[l-f-n*f],p&&(c[f-6]=c[f-2],c[f-5]=c[f-1]),[].splice.apply(t,[t.length/v,0].concat(c)),g&&n--}n=n||"";var a,l,c,u,d=e.startX,h=e.endX,p=-1<n.indexOf("C"),f=p?7:3;n=n.split(" "),i=i.slice();var m,g=e.isArea,v=g?2:1;if(p&&(r(n),r(i)),d&&h){for(u=0;u<d.length;u++){if(d[u]===h[0]){a=u;break}if(d[0]===h[h.length-d.length+u]){a=u,m=!0;break}}void 0===a&&(n=[])}return n.length&&t.isNumber(a)&&(l=i.length+a*v*f,m?(o(n,i),s(i,n)):(o(i,n),s(n,i))),[n,i]},fillSetter:function(){t.Fx.prototype.strokeSetter.apply(this,arguments)},strokeSetter:function(){this.elem.attr(this.prop,t.color(this.start).tweenTo(t.color(this.end),this.pos),null,!0)}},t.merge=function(){var e,n,i=arguments,r={},o=function(e,n){return"object"!=typeof e&&(e={}),t.objectEach(n,function(i,r){!t.isObject(i,!0)||t.isClass(i)||t.isDOMElement(i)?e[r]=n[r]:e[r]=o(e[r]||{},i)}),e};for(!0===i[0]&&(r=i[1],i=Array.prototype.slice.call(i,2)),n=i.length,e=0;e<n;e++)r=o(r,i[e]);return r},t.pInt=function(t,e){return parseInt(t,e||10)},t.isString=function(t){return"string"==typeof t},t.isArray=function(t){return"[object Array]"===(t=Object.prototype.toString.call(t))||"[object Array Iterator]"===t},t.isObject=function(e,n){return!(!e||"object"!=typeof e||n&&t.isArray(e))},t.isDOMElement=function(e){return t.isObject(e)&&"number"==typeof e.nodeType},t.isClass=function(e){var n=e&&e.constructor;return!(!t.isObject(e,!0)||t.isDOMElement(e)||!n||!n.name||"Object"===n.name)},t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)&&1/0>t&&-1/0<t},t.erase=function(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}},t.defined=function(t){return void 0!==t&&null!==t},t.attr=function(e,n,i){var r;return t.isString(n)?t.defined(i)?e.setAttribute(n,i):e&&e.getAttribute&&((r=e.getAttribute(n))||"class"!==n||(r=e.getAttribute(n+"Name"))):t.defined(n)&&t.isObject(n)&&t.objectEach(n,function(t,n){e.setAttribute(n,t)}),r},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,e,n){if(e)return setTimeout(t,e,n);t.call(0,n)},t.clearTimeout=function(e){t.defined(e)&&clearTimeout(e)},t.extend=function(t,e){var n;t||(t={});for(n in e)t[n]=e[n];return t},t.pick=function(){var t,e,n=arguments,i=n.length;for(t=0;t<i;t++)if(void 0!==(e=n[t])&&null!==e)return e},t.css=function(e,n){t.isMS&&!t.svg&&n&&void 0!==n.opacity&&(n.filter="alpha(opacity="+100*n.opacity+")"),t.extend(e.style,n)},t.createElement=function(e,i,r,o,s){e=n.createElement(e);var a=t.css;return i&&t.extend(e,i),s&&a(e,{padding:0,border:"none",margin:0}),r&&a(e,r),o&&o.appendChild(e),e},t.extendClass=function(e,n){var i=function(){};return i.prototype=new e,t.extend(i.prototype,n),i},t.pad=function(t,e,n){return Array((e||2)+1-String(t).replace("-","").length).join(n||0)+t},t.relativeLength=function(t,e,n){return/%$/.test(t)?e*parseFloat(t)/100+(n||0):parseFloat(t)},t.wrap=function(t,e,n){var i=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments),e=arguments,r=this;return r.proceed=function(){i.apply(r,arguments.length?arguments:e)},t.unshift(i),t=n.apply(this,t),r.proceed=null,t}},t.datePropsToTimestamps=function(e){t.objectEach(e,function(n,i){t.isObject(n)&&"function"==typeof n.getTime?e[i]=n.getTime():(t.isObject(n)||t.isArray(n))&&t.datePropsToTimestamps(n)})},t.formatSingle=function(e,n,i){var r=/\.([0-9])/,o=t.defaultOptions.lang;return/f$/.test(e)?(i=(i=e.match(r))?i[1]:-1,null!==n&&(n=t.numberFormat(n,i,o.decimalPoint,-1<e.indexOf(",")?o.thousandsSep:""))):n=(i||t.time).dateFormat(e,n),n},t.format=function(e,n,i){for(var r,o,s,a,l,c="{",u=!1,d=[];e&&-1!==(c=e.indexOf(c));){if(r=e.slice(0,c),u){for(r=r.split(":"),o=r.shift().split("."),a=o.length,l=n,s=0;s<a;s++)l&&(l=l[o[s]]);r.length&&(l=t.formatSingle(r.join(":"),l,i)),d.push(l)}else d.push(r);e=e.slice(c+1),c=(u=!u)?"}":"{"}return d.push(e),d.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,n,i,r,o){var s,a=e;for(i=t.pick(i,1),s=e/i,n||(n=o?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===r&&(1===i?n=n.filter(function(t){return 0==t%1}):.1>=i&&(n=[1/i]))),r=0;r<n.length&&(a=n[r],!(o&&a*i>=e||!o&&s<=(n[r]+(n[r+1]||n[r]))/2));r++);return a=t.correctFloat(a*i,-Math.round(Math.log(.001)/Math.LN10))},t.stableSort=function(t,e){var n,i,r=t.length;for(i=0;i<r;i++)t[i].safeI=i;for(t.sort(function(t,i){return n=e(t,i),0===n?t.safeI-i.safeI:n}),i=0;i<r;i++)delete t[i].safeI},t.arrayMin=function(t){for(var e=t.length,n=t[0];e--;)t[e]<n&&(n=t[e]);return n},t.arrayMax=function(t){for(var e=t.length,n=t[0];e--;)t[e]>n&&(n=t[e]);return n},t.destroyObjectProperties=function(e,n){t.objectEach(e,function(t,i){t&&t!==n&&t.destroy&&t.destroy(),delete e[i]})},t.discardElement=function(e){var n=t.garbageBin;n||(n=t.createElement("div")),e&&n.appendChild(e),n.innerHTML=""},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.setAnimation=function(e,n){n.renderer.globalAnimation=t.pick(e,n.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(e,n,i,r){e=+e||0,n=+n;var o,s,a=t.defaultOptions.lang,l=(e.toString().split(".")[1]||"").split("e")[0].length,c=e.toString().split("e");return-1===n?n=Math.min(l,20):t.isNumber(n)?n&&c[1]&&0>c[1]&&(o=n+ +c[1],0<=o?(c[0]=(+c[0]).toExponential(o).split("e")[0],n=o):(c[0]=c[0].split(".")[0]||0,e=20>n?(c[0]*Math.pow(10,c[1])).toFixed(n):0,c[1]=0)):n=2,s=(Math.abs(c[1]?c[0]:e)+Math.pow(10,-Math.max(n,l)-1)).toFixed(n),l=String(t.pInt(s)),o=3<l.length?l.length%3:0,i=t.pick(i,a.decimalPoint),r=t.pick(r,a.thousandsSep),e=(0>e?"-":"")+(o?l.substr(0,o)+r:""),e+=l.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+r),n&&(e+=i+s.slice(-n)),c[1]&&0!=+e&&(e+="e"+c[1]),e},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(e,n,r){return"width"===n?Math.max(0,Math.min(e.offsetWidth,e.scrollWidth,e.getBoundingClientRect&&"none"===t.getStyle(e,"transform",!1)?Math.floor(e.getBoundingClientRect().width):1/0)-t.getStyle(e,"padding-left")-t.getStyle(e,"padding-right")):"height"===n?Math.max(0,Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,"padding-top")-t.getStyle(e,"padding-bottom")):(i.getComputedStyle||t.error(27,!0),(e=i.getComputedStyle(e,void 0))&&(e=e.getPropertyValue(n),t.pick(r,"opacity"!==n)&&(e=t.pInt(e))),e)},t.inArray=function(t,e,n){return e.indexOf(t,n)},t.find=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){var n,i=t.length;for(n=0;n<i;n++)if(e(t[n],n))return t[n]},t.keys=Object.keys,t.offset=function(t){var e=n.documentElement;return t=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0},{top:t.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(e,n){for(var i=t.timers.length;i--;)t.timers[i].elem!==e||n&&n!==t.timers[i].prop||(t.timers[i].stopped=!0)},t.objectEach=function(t,e,n){for(var i in t)t.hasOwnProperty(i)&&e.call(n||t[i],t[i],i,t)},t.objectEach({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(e,n){t[n]=function(t){return Array.prototype[e].apply(t,[].slice.call(arguments,1))}}),t.addEvent=function(e,n,i,r){var o,s=e.addEventListener||t.addEventListenerPolyfill;return o="function"==typeof e&&e.prototype?e.prototype.protoEvents=e.prototype.protoEvents||{}:e.hcEvents=e.hcEvents||{},t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0),s&&s.call(e,n,i,!1),o[n]||(o[n]=[]),o[n].push(i),r&&t.isNumber(r.order)&&(i.order=r.order,o[n].sort(function(t,e){return t.order-e.order})),function(){t.removeEvent(e,n,i)}},t.removeEvent=function(e,n,i){function r(n,i){var r=e.removeEventListener||t.removeEventListenerPolyfill;r&&r.call(e,n,i,!1)}function o(i){var o,s;e.nodeName&&(n?(o={},o[n]=!0):o=i,t.objectEach(o,function(t,e){if(i[e])for(s=i[e].length;s--;)r(e,i[e][s])}))}var s,a;["protoEvents","hcEvents"].forEach(function(t){var l=e[t];l&&(n?(s=l[n]||[],i?(a=s.indexOf(i),-1<a&&(s.splice(a,1),l[n]=s),r(n,i)):(o(l),l[n]=[])):(o(l),e[t]={}))})},t.fireEvent=function(e,i,r,o){var s,a,l,c,u;r=r||{},n.createEvent&&(e.dispatchEvent||e.fireEvent)?(s=n.createEvent("Events"),s.initEvent(i,!0,!0),t.extend(s,r),e.dispatchEvent?e.dispatchEvent(s):e.fireEvent(i,s)):["protoEvents","hcEvents"].forEach(function(n){if(e[n])for(a=e[n][i]||[],l=a.length,r.target||t.extend(r,{preventDefault:function(){r.defaultPrevented=!0},target:e,type:i}),c=0;c<l;c++)(u=a[c])&&!1===u.call(e,r)&&r.preventDefault()}),o&&!r.defaultPrevented&&o.call(e,r)},t.animate=function(e,n,i){var r,o,s,a,l="";t.isObject(i)||(a=arguments,i={duration:a[2],easing:a[3],complete:a[4]}),t.isNumber(i.duration)||(i.duration=400),i.easing="function"==typeof i.easing?i.easing:Math[i.easing]||Math.easeInOutSine,i.curAnim=t.merge(n),t.objectEach(n,function(a,c){t.stop(e,c),s=new t.Fx(e,i,c),o=null,"d"===c?(s.paths=s.initPath(e,e.d,n.d),s.toD=n.d,r=0,o=1):e.attr?r=e.attr(c):(r=parseFloat(t.getStyle(e,c))||0,"opacity"!==c&&(l="px")),o||(o=a),o&&o.match&&o.match("px")&&(o=o.replace(/px/g,"")),s.run(r,o,l)})},t.seriesType=function(e,n,i,r,o){var s=t.getOptions(),a=t.seriesTypes;return s.plotOptions[e]=t.merge(s.plotOptions[n],i),a[e]=t.extendClass(a[n]||function(){},r),a[e].prototype.type=e,o&&(a[e].prototype.pointClass=t.extendClass(t.Point,o)),a[e]},t.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9),e=0;return function(){return"highcharts-"+t+"-"+e++}}(),t.isFunction=function(t){return"function"==typeof t},i.jQuery&&(i.jQuery.fn.highcharts=function(){var n=[].slice.call(arguments);if(this[0])return n[0]?(new(t[t.isString(n[0])?n.shift():"Chart"])(this[0],n[0],n[1]),this):e[t.attr(this[0],"data-highcharts-chart")]})}(e),function(t){var e=t.isNumber,n=t.merge,i=t.pInt;t.Color=function(e){if(!(this instanceof t.Color))return new t.Color(e);this.init(e)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[i(t[1]),i(t[2]),i(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[i(t[1]),i(t[2]),i(t[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(e){var n,i,r,o;if((this.input=e=this.names[e&&e.toLowerCase?e.toLowerCase():""]||e)&&e.stops)this.stops=e.stops.map(function(e){return new t.Color(e[1])});else if(e&&e.charAt&&"#"===e.charAt()&&(n=e.length,e=parseInt(e.substr(1),16),7===n?i=[(16711680&e)>>16,(65280&e)>>8,255&e,1]:4===n&&(i=[(3840&e)>>4|(3840&e)>>8,(240&e)>>4|240&e,(15&e)<<4|15&e,1])),!i)for(r=this.parsers.length;r--&&!i;)o=this.parsers[r],(n=o.regex.exec(e))&&(i=o.parse(n));this.rgba=i||[]},get:function(t){var i,r=this.input,o=this.rgba;return this.stops?(i=n(r),i.stops=[].concat(i.stops),this.stops.forEach(function(e,n){i.stops[n]=[i.stops[n][0],e.get(t)]})):i=o&&e(o[0])?"rgb"===t||!t&&1===o[3]?"rgb("+o[0]+","+o[1]+","+o[2]+")":"a"===t?o[3]:"rgba("+o.join(",")+")":r,i},brighten:function(t){var n,r=this.rgba;if(this.stops)this.stops.forEach(function(e){e.brighten(t)});else if(e(t)&&0!==t)for(n=0;3>n;n++)r[n]+=i(255*t),0>r[n]&&(r[n]=0),255<r[n]&&(r[n]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this},tweenTo:function(t,e){var n=this.rgba,i=t.rgba;return i.length&&n&&n.length?(t=1!==i[3]||1!==n[3],e=(t?"rgba(":"rgb(")+Math.round(i[0]+(n[0]-i[0])*(1-e))+","+Math.round(i[1]+(n[1]-i[1])*(1-e))+","+Math.round(i[2]+(n[2]-i[2])*(1-e))+(t?","+(i[3]+(n[3]-i[3])*(1-e)):"")+")"):e=t.input||"none",e}},t.color=function(e){return new t.Color(e)}}(e),function(t){var e,n,i=t.addEvent,r=t.animate,o=t.attr,s=t.charts,a=t.color,l=t.css,c=t.createElement,u=t.defined,d=t.deg2rad,h=t.destroyObjectProperties,p=t.doc,f=t.extend,m=t.erase,g=t.hasTouch,v=t.isArray,b=t.isFirefox,y=t.isMS,_=t.isObject,w=t.isString,S=t.isWebKit,E=t.merge,x=t.noop,C=t.objectEach,T=t.pick,k=t.pInt,O=t.removeEvent,P=t.splat,I=t.stop,A=t.svg,M=t.SVG_NS,N=t.symbolSizes,D=t.win;e=t.SVGElement=function(){return this},f(e.prototype,{opacity:1,SVG_NS:M,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline cursor".split(" "),init:function(e,n){this.element="span"===n?c(n):p.createElementNS(this.SVG_NS,n),this.renderer=e,t.fireEvent(this,"afterInit")},animate:function(e,n,i){var o=t.animObject(T(n,this.renderer.globalAnimation,!0));return T(p.hidden,p.msHidden,p.webkitHidden,!1)&&(o.duration=0),0!==o.duration?(i&&(o.complete=i),r(this,e,o)):(this.attr(e,null,i),t.objectEach(e,function(t,e){o.step&&o.step.call(this,t,{prop:e,pos:1})},this)),this},complexColor:function(e,n,i){var r,o,s,a,l,c,d,h,p,f,m,g,b=this.renderer,y=[];t.fireEvent(this.renderer,"complexColor",{args:arguments},function(){e.radialGradient?o="radialGradient":e.linearGradient&&(o="linearGradient"),o&&(s=e[o],l=b.gradients,d=e.stops,f=i.radialReference,v(s)&&(e[o]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&f&&!u(s.gradientUnits)&&(a=s,s=E(s,b.getRadialAttr(f,a),{gradientUnits:"userSpaceOnUse"})),C(s,function(t,e){"id"!==e&&y.push(e,t)}),C(d,function(t){y.push(t)}),y=y.join(","),l[y]?m=l[y].attr("id"):(s.id=m=t.uniqueKey(),l[y]=c=b.createElement(o).attr(s).add(b.defs),c.radAttr=a,c.stops=[],d.forEach(function(e){0===e[1].indexOf("rgba")?(r=t.color(e[1]),h=r.get("rgb"),p=r.get("a")):(h=e[1],p=1),e=b.createElement("stop").attr({offset:e[0],"stop-color":h,"stop-opacity":p}).add(c),c.stops.push(e)})),g="url("+b.url+"#"+m+")",i.setAttribute(n,g),i.gradient=y,e.toString=function(){return g})})},applyTextOutline:function(e){var n,i,r,s,a,l=this.element;if(-1!==e.indexOf("contrast")&&(e=e.replace(/contrast/g,this.renderer.getContrast(l.style.fill))),e=e.split(" "),i=e[e.length-1],(r=e[0])&&"none"!==r&&t.svg){for(this.fakeTS=!0,e=[].slice.call(l.getElementsByTagName("tspan")),this.ySetter=this.xSetter,r=r.replace(/(^[\d\.]+)(.*?)$/g,function(t,e,n){return 2*e+n}),a=e.length;a--;)n=e[a],"highcharts-text-outline"===n.getAttribute("class")&&m(e,l.removeChild(n));s=l.firstChild,e.forEach(function(t,e){0===e&&(t.setAttribute("x",l.getAttribute("x")),e=l.getAttribute("y"),t.setAttribute("y",e||0),null===e&&l.setAttribute("y",0)),t=t.cloneNode(1),o(t,{class:"highcharts-text-outline",fill:i,stroke:i,"stroke-width":r,"stroke-linejoin":"round"}),l.insertBefore(t,s)})}},symbolCustomAttribs:"x y width height r start end innerR anchorX anchorY rounded".split(" "),attr:function(e,n,i,r){var o,s,a,l,c=this.element,u=this,d=this.symbolCustomAttribs;return"string"==typeof e&&void 0!==n&&(o=e,e={},e[o]=n),"string"==typeof e?u=(this[e+"Getter"]||this._defaultGetter).call(this,e,c):(C(e,function(n,i){a=!1,r||I(this,i),this.symbolName&&-1!==t.inArray(i,d)&&(s||(this.symbolAttr(e),s=!0),a=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),a||(l=this[i+"Setter"]||this._defaultSetter,l.call(this,n,i,c),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,n,l))},this),this.afterSetters()),i&&i.call(this),u},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(t,e,n){for(var i=this.shadows,r=i.length;r--;)n.call(i[r],"height"===t?Math.max(e-(i[r].cutHeight||0),0):"d"===t?this.d:e,t,i[r])},addClass:function(t,e){var n=this.attr("class")||"";return-1===n.indexOf(t)&&(e||(t=(n+(n?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return-1!==(this.attr("class")||"").split(" ").indexOf(t)},removeClass:function(t){return this.attr("class",(this.attr("class")||"").replace(t,""))},symbolAttr:function(t){var e=this;"x y r start end width height innerR anchorX anchorY".split(" ").forEach(function(n){e[n]=T(t[n],e[n])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var n;return e=e||t.strokeWidth||0,n=Math.round(e)%2/2,t.x=Math.floor(t.x||this.x||0)+n,t.y=Math.floor(t.y||this.y||0)+n,t.width=Math.floor((t.width||this.width||0)-2*n),t.height=Math.floor((t.height||this.height||0)-2*n),u(t.strokeWidth)&&(t.strokeWidth=e),t},css:function(t){var e,n,i=this.styles,r={},s=this.element,a="",c=!i,u=["textOutline","textOverflow","width"];return t&&t.color&&(t.fill=t.color),i&&C(t,function(t,e){t!==i[e]&&(r[e]=t,c=!0)}),c&&(i&&(t=f(i,r)),t&&(null===t.width||"auto"===t.width?delete this.textWidth:"text"===s.nodeName.toLowerCase()&&t.width&&(e=this.textWidth=k(t.width))),this.styles=t,e&&!A&&this.renderer.forExport&&delete t.width,s.namespaceURI===this.SVG_NS?(n=function(t,e){return"-"+e.toLowerCase()},C(t,function(t,e){-1===u.indexOf(e)&&(a+=e.replace(/([A-Z])/g,n)+":"+t+";")}),a&&o(s,"style",a)):l(s,t),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))),this},getStyle:function(t){return D.getComputedStyle(this.element||this,"").getPropertyValue(t)},strokeWidth:function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var t,e=this.getStyle("stroke-width");return e.indexOf("px")===e.length-2?e=k(e):(t=p.createElementNS(M,"rect"),o(t,{width:e,"stroke-width":0}),this.element.parentNode.appendChild(t),e=t.getBBox().width,t.parentNode.removeChild(t)),e},on:function(t,e){var n=this,i=n.element;return g&&"click"===t?(i.ontouchstart=function(t){n.touchEventFired=Date.now(),t.preventDefault(),e.call(i,t)},i.onclick=function(t){(-1===D.navigator.userAgent.indexOf("Android")||1100<Date.now()-(n.touchEventFired||0))&&e.call(i,t)}):i["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){return this.inverted=t,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,n=this.scaleX,i=this.scaleY,r=this.inverted,o=this.rotation,s=this.matrix,a=this.element;r&&(t+=this.width,e+=this.height),t=["translate("+t+","+e+")"],u(s)&&t.push("matrix("+s.join(",")+")"),r?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+T(this.rotationOriginX,a.getAttribute("x"),0)+" "+T(this.rotationOriginY,a.getAttribute("y")||0)+")"),(u(n)||u(i))&&t.push("scale("+T(n,1)+" "+T(i,1)+")"),t.length&&a.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){var i,r,o,s,a={};r=this.renderer,o=r.alignedObjects;var l,c;return t?(this.alignOptions=t,this.alignByTranslate=e,(!n||w(n))&&(this.alignTo=i=n||"renderer",m(o,this),o.push(this),n=null)):(t=this.alignOptions,e=this.alignByTranslate,i=this.alignTo),n=T(n,r[i],r),i=t.align,r=t.verticalAlign,o=(n.x||0)+(t.x||0),s=(n.y||0)+(t.y||0),"right"===i?l=1:"center"===i&&(l=2),l&&(o+=(n.width-(t.width||0))/l),a[e?"translateX":"x"]=Math.round(o),"bottom"===r?c=1:"middle"===r&&(c=2),c&&(s+=(n.height-(t.height||0))/c),a[e?"translateY":"y"]=Math.round(s),this[this.placed?"animate":"attr"](a),this.placed=!0,this.alignAttr=a,this},getBBox:function(t,n){var i,r,o,s,a,l=this.renderer,c=this.element,h=this.styles,p=this.textStr,m=l.cache,g=l.cacheKeys,v=c.namespaceURI===this.SVG_NS;if(n=T(n,this.rotation),r=n*d,o=l.styledMode?c&&e.prototype.getStyle.call(c,"font-size"):h&&h.fontSize,u(p)&&(a=p.toString(),-1===a.indexOf("<")&&(a=a.replace(/[0-9]/g,"0")),a+=["",n||0,o,this.textWidth,h&&h.textOverflow].join()),a&&!t&&(i=m[a]),!i){if(v||l.forExport){try{(s=this.fakeTS&&function(t){[].forEach.call(c.querySelectorAll(".highcharts-text-outline"),function(e){e.style.display=t})})&&s("none"),i=c.getBBox?f({},c.getBBox()):{width:c.offsetWidth,height:c.offsetHeight},s&&s("")}catch(t){}(!i||0>i.width)&&(i={width:0,height:0})}else i=this.htmlGetBBox();if(l.isSVG&&(t=i.width,l=i.height,v&&(i.height=l={"11px,17":14,"13px,20":16}[h&&h.fontSize+","+Math.round(l)]||l),n&&(i.width=Math.abs(l*Math.sin(r))+Math.abs(t*Math.cos(r)),i.height=Math.abs(l*Math.cos(r))+Math.abs(t*Math.sin(r)))),a&&0<i.height){for(;250<g.length;)delete m[g.shift()];m[a]||g.push(a),m[a]=i}}return i},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,n=this.renderer,i=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&n.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:n.box).appendChild(i),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t=this,e=t.element||{},n=t.renderer,i=n.isSVG&&"SPAN"===e.nodeName&&t.parentGroup,r=e.ownerSVGElement,o=t.clipPath;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,I(t),o&&r&&([].forEach.call(r.querySelectorAll("[clip-path],[CLIP-PATH]"),function(t){var e=t.getAttribute("clip-path"),n=o.element.id;(-1<e.indexOf("(#"+n+")")||-1<e.indexOf('("#'+n+'")'))&&t.removeAttribute("clip-path")}),t.clipPath=o.destroy()),t.stops){for(r=0;r<t.stops.length;r++)t.stops[r]=t.stops[r].destroy();t.stops=null}for(t.safeRemoveChild(e),n.styledMode||t.destroyShadows();i&&i.div&&0===i.div.childNodes.length;)e=i.parentGroup,t.safeRemoveChild(i.div),delete i.div,i=e;return t.alignTo&&m(n.alignedObjects,t),C(t,function(e,n){delete t[n]}),null},shadow:function(t,e,n){var i,r,s,a,l,c,u=[],d=this.element;if(t){if(!this.shadows){for(a=T(t.width,3),l=(t.opacity||.15)/a,c=this.parentInverted?"(-1,-1)":"("+T(t.offsetX,1)+", "+T(t.offsetY,1)+")",i=1;i<=a;i++)r=d.cloneNode(0),s=2*a+1-2*i,o(r,{stroke:t.color||"#000000","stroke-opacity":l*i,"stroke-width":s,transform:"translate"+c,fill:"none"}),r.setAttribute("class",(r.getAttribute("class")||"")+" highcharts-shadow"),n&&(o(r,"height",Math.max(o(r,"height")-s,0)),r.cutHeight=s),e?e.element.appendChild(r):d.parentNode&&d.parentNode.insertBefore(r,d),u.push(r);this.shadows=u}}else this.destroyShadows();return this},destroyShadows:function(){(this.shadows||[]).forEach(function(t){this.safeRemoveChild(t)},this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){return t=T(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,n){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(n.setAttribute(e,t),this[e]=t)},dashstyleSetter:function(t){var e,n=this["stroke-width"];if("inherit"===n&&(n=1),t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=t.length;e--;)t[e]=k(t[e])*n;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){var e={left:"start",center:"middle",right:"end"};e[t]&&(this.alignValue=t,this.element.setAttribute("text-anchor",e[t]))},opacitySetter:function(t,e,n){this[e]=t,n.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=p.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(p.createTextNode(String(T(t),"").replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,n){"string"==typeof t?n.setAttribute(e,t):t&&this.complexColor(t,e,n)},visibilitySetter:function(t,e,n){"inherit"===t?n.removeAttribute(e):this[e]!==t&&n.setAttribute(e,t),this[e]=t},zIndexSetter:function(t,e){var n,i,r,o=this.renderer,s=this.parentGroup,a=(s||o).element||o.box,l=this.element,o=a===o.box;n=this.added;var c;if(u(t)?(l.setAttribute("data-z-index",t),t=+t,this[e]===t&&(n=!1)):u(this[e])&&l.removeAttribute("data-z-index"),this[e]=t,n){for((t=this.zIndex)&&s&&(s.handleZ=!0),e=a.childNodes,c=e.length-1;0<=c&&!i;c--)s=e[c],n=s.getAttribute("data-z-index"),r=!u(n),s!==l&&(0>t&&r&&!o&&!c?(a.insertBefore(l,e[c]),i=!0):(k(n)<=t||r&&(!u(t)||0<=t))&&(a.insertBefore(l,e[c+1]||null),i=!0));i||(a.insertBefore(l,e[o?3:0]||null),i=!0)}return i},_defaultSetter:function(t,e,n){n.setAttribute(e,t)}}),e.prototype.yGetter=e.prototype.xGetter,e.prototype.translateXSetter=e.prototype.translateYSetter=e.prototype.rotationSetter=e.prototype.verticalAlignSetter=e.prototype.rotationOriginXSetter=e.prototype.rotationOriginYSetter=e.prototype.scaleXSetter=e.prototype.scaleYSetter=e.prototype.matrixSetter=function(t,e){this[e]=t,this.doTransform=!0},e.prototype["stroke-widthSetter"]=e.prototype.strokeSetter=function(t,n,i){this[n]=t,this.stroke&&this["stroke-width"]?(e.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===n&&0===t&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)},n=t.SVGRenderer=function(){this.init.apply(this,arguments)},f(n.prototype,{Element:e,SVG_NS:M,init:function(t,e,n,r,s,a,c){var u;u=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),c||u.css(this.getStyle(r)),r=u.element,t.appendChild(r),o(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&o(r,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=r,this.boxWrapper=u,this.alignedObjects=[],this.url=(b||S)&&p.getElementsByTagName("base").length?D.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(p.createTextNode("Created with Highcharts 7.0.3")),this.defs=this.createElement("defs").add(),this.allowHTML=a,this.forExport=s,this.styledMode=c,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,n,!1);var d;b&&t.getBoundingClientRect&&(e=function(){l(t,{left:0,top:0}),d=t.getBoundingClientRect(),l(t,{left:Math.ceil(d.left)-d.left+"px",top:Math.ceil(d.top)-d.top+"px"})},e(),this.unSubPixelFix=i(D,"resize",e))},definition:function(t){function e(t,i){var r;return P(t).forEach(function(t){var o=n.createElement(t.tagName),s={};C(t,function(t,e){"tagName"!==e&&"children"!==e&&"textContent"!==e&&(s[e]=t)}),o.attr(s),o.add(i||n.defs),t.textContent&&o.element.appendChild(p.createTextNode(t.textContent)),e(t.children||[],o),r=o}),r}var n=this;return e(t)},getStyle:function(t){return this.style=f({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),h(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:x,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},truncate:function(t,e,n,i,r,o,s){var a,l,c,u=this,d=t.rotation,h=i?1:0,f=(n||i).length,m=f,g=[],v=function(t){e.firstChild&&e.removeChild(e.firstChild),t&&e.appendChild(p.createTextNode(t))},b=function(o,a){if(a=a||o,void 0===g[a])if(e.getSubStringLength)try{g[a]=r+e.getSubStringLength(0,i?a+1:a)}catch(t){}else u.getSpanWidth&&(v(s(n||i,o)),g[a]=r+u.getSpanWidth(t,e));return g[a]};if(t.rotation=0,l=b(e.textContent.length),c=r+l>o){for(;h<=f;)m=Math.ceil((h+f)/2),i&&(a=s(i,m)),l=b(m,a&&a.length-1),h===f?h=f+1:l>o?f=m-1:h=m;0===f?v(""):n&&f===n.length-1||v(a||s(n||i,m))}return i&&i.splice(0,m),t.actualWidth=l,t.rotation=d,c},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},buildText:function(t){var e,n,i,r=t.element,s=this,a=s.forExport,c=T(t.textStr,"").toString(),u=-1!==c.indexOf("<"),d=r.childNodes,h=o(r,"x"),f=t.styles,m=t.textWidth,g=f&&f.lineHeight,v=f&&f.textOutline,b=f&&"ellipsis"===f.textOverflow,y=f&&"nowrap"===f.whiteSpace,_=f&&f.fontSize,w=d.length,f=m&&!t.added&&this.box,S=function(t){var e;return s.styledMode||(e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:_||s.style.fontSize||12),g?k(g):s.fontMetrics(e,t.getAttribute("style")?t:r).h},E=function(t,e){return C(s.escapes,function(n,i){e&&-1!==e.indexOf(n)||(t=t.toString().replace(new RegExp(n,"g"),i))}),t},x=function(t,e){var n;if(n=t.indexOf("<"),t=t.substring(n,t.indexOf(">")-n),-1!==(n=t.indexOf(e+"="))&&(n=n+e.length+1,'"'===(e=t.charAt(n))||"'"===e))return t=t.substring(n+1),t.substring(0,t.indexOf(e))};if((n=[c,b,y,g,v,_,m].join())!==t.textCache){for(t.textCache=n;w--;)r.removeChild(d[w]);u||v||b||m||-1!==c.indexOf(" ")?(f&&f.appendChild(r),u?(c=s.styledMode?c.replace(/<(b|strong)>/g,'<span class="highcharts-strong">').replace(/<(i|em)>/g,'<span class="highcharts-emphasized">'):c.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">'),c=c.replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g)):c=[c],c=c.filter(function(t){return""!==t}),c.forEach(function(n,c){var u,d=0,f=0;n=n.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),u=n.split("|||"),u.forEach(function(n){if(""!==n||1===u.length){var g,v,w={},C=p.createElementNS(s.SVG_NS,"tspan");if((g=x(n,"class"))&&o(C,"class",g),(g=x(n,"style"))&&(g=g.replace(/(;| |^)color([ :])/,"$1fill$2"),o(C,"style",g)),(v=x(n,"href"))&&!a&&(o(C,"onclick",'location.href="'+v+'"'),o(C,"class","highcharts-anchor"),s.styledMode||l(C,{cursor:"pointer"}))," "!==(n=E(n.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" "))){if(C.appendChild(p.createTextNode(n)),d?w.dx=0:c&&null!==h&&(w.x=h),o(C,w),r.appendChild(C),!d&&i&&(!A&&a&&l(C,{display:"block"}),o(C,"dy",S(C))),m){var T=n.replace(/([^\^])-/g,"$1- ").split(" "),w=!y&&(1<u.length||c||1<T.length);v=0;var k=S(C);if(b)e=s.truncate(t,C,n,void 0,0,Math.max(0,m-parseInt(_||12,10)),function(t,e){return t.substring(0,e)+"…"});else if(w)for(;T.length;)T.length&&!y&&0<v&&(C=p.createElementNS(M,"tspan"),o(C,{dy:k,x:h}),g&&o(C,"style",g),C.appendChild(p.createTextNode(T.join(" ").replace(/- /g,"-"))),r.appendChild(C)),s.truncate(t,C,null,T,0===v?f:0,m,function(t,e){return T.slice(0,e).join(" ").replace(/- /g,"-")}),f=t.actualWidth,v++}d++}}}),i=i||r.childNodes.length}),b&&e&&t.attr("title",E(t.textStr,["&lt;","&gt;"])),f&&f.removeChild(r),v&&t.applyTextOutline&&t.applyTextOutline(v)):r.appendChild(p.createTextNode(E(c)))}},getContrast:function(t){return t=a(t).rgba,t[0]*=1,t[1]*=1.2,t[2]*=.5,459<t[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(t,e,n,r,o,s,a,l,c){var u=this.label(t,e,n,c,null,null,null,null,"button"),d=0,h=this.styledMode;if(u.attr(E({padding:8,r:2},o)),!h){var p,m,g,v;o=E({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},o),p=o.style,delete o.style,s=E(o,{fill:"#e6e6e6"},s),m=s.style,delete s.style,a=E(o,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},a),g=a.style,delete a.style,l=E(o,{style:{color:"#cccccc"}},l),v=l.style,delete l.style}return i(u.element,y?"mouseover":"mouseenter",function(){3!==d&&u.setState(1)}),i(u.element,y?"mouseout":"mouseleave",function(){3!==d&&u.setState(d)}),u.setState=function(t){1!==t&&(u.state=d=t),u.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),h||u.attr([o,s,a,l][t||0]).css([p,m,g,v][t||0])},h||u.attr(o).css(f({cursor:"default"},p)),u.on("click",function(t){3!==d&&r.call(u,t)})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e=this.styledMode?{}:{fill:"none"};return v(t)?e.d=t:_(t)&&f(e,t),this.createElement("path").attr(e)},circle:function(t,e,n){return t=_(t)?t:void 0===t?{}:{x:t,y:e,r:n},e=this.createElement("circle"),e.xSetter=e.ySetter=function(t,e,n){n.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,n,i,r,o){return _(t)?(i=t,e=i.y,n=i.r,t=i.x):i={innerR:i,start:r,end:o},t=this.symbol("arc",t,e,n,n,i),t.r=n,t},rect:function(t,e,n,i,r,s){r=_(t)?t.r:r;var a=this.createElement("rect");return t=_(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(n,0),height:Math.max(i,0)},this.styledMode||(void 0!==s&&(t.strokeWidth=s,t=a.crisp(t)),t.fill="none"),r&&(t.r=r),a.rSetter=function(t,e,n){o(n,{rx:t,ry:t})},a.attr(t)},setSize:function(t,e,n){var i=this.alignedObjects,r=i.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:T(n,!0)?void 0:0});r--;)i[r].align()},g:function(t){var e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e},image:function(t,e,n,r,o,s){var a,l={preserveAspectRatio:"none"},c=function(t,e){t.setAttributeNS?t.setAttributeNS("http://www.w3.org/1999/xlink","href",e):t.setAttribute("hc-svg-href",e)},u=function(e){c(a.element,t),s.call(a,e)};return 1<arguments.length&&f(l,{x:e,y:n,width:r,height:o}),a=this.createElement("image").attr(l),s?(c(a.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),l=new D.Image,i(l,"load",u),l.src=t,l.complete&&u({})):c(a.element,t),a},symbol:function(t,e,n,i,r,o){var a,d,h,m=this,g=/^url\((.*?)\)$/,v=g.test(t),b=!v&&(this.symbols[t]?t:"circle"),y=b&&this.symbols[b],_=u(e)&&y&&y.call(this.symbols,Math.round(e),Math.round(n),i,r,o);return y?(a=this.path(_),m.styledMode||a.attr("fill","none"),f(a,{symbolName:b,x:e,y:n,width:i,height:r}),o&&f(a,o)):v&&(d=t.match(g)[1],a=this.image(d),a.imgwidth=T(N[d]&&N[d].width,o&&o.width),a.imgheight=T(N[d]&&N[d].height,o&&o.height),h=function(){a.attr({width:a.width,height:a.height})},["width","height"].forEach(function(t){a[t+"Setter"]=function(t,e){var n={},i=this["img"+e],r="width"===e?"translateX":"translateY";this[e]=t,u(i)&&(this.element&&this.element.setAttribute(e,i),this.alignByTranslate||(n[r]=((this[e]||0)-i)/2,this.attr(n)))}}),u(e)&&a.attr({x:e,y:n}),a.isImg=!0,u(a.imgwidth)&&u(a.imgheight)?h():(a.attr({width:0,height:0}),c("img",{onload:function(){var t=s[m.chartIndex];0===this.width&&(l(this,{position:"absolute",top:"-999em"}),p.body.appendChild(this)),N[d]={width:this.width,height:this.height},a.imgwidth=this.width,a.imgheight=this.height,a.element&&h(),this.parentNode&&this.parentNode.removeChild(this),!--m.imgCount&&t&&t.onload&&t.onload()},src:d}),this.imgCount++)),a},symbols:{circle:function(t,e,n,i){return this.arc(t+n/2,e+i/2,n/2,i/2,{start:0,end:2*Math.PI,open:!1})},square:function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n,e+i,t,e+i,"Z"]},triangle:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i,t,e+i,"Z"]},"triangle-down":function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n/2,e+i,"Z"]},diamond:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i/2,t+n/2,e+i,t,e+i/2,"Z"]},arc:function(t,e,n,i,r){var o=r.start,s=r.r||n,a=r.r||i||n,l=r.end-.001;n=r.innerR,i=T(r.open,.001>Math.abs(r.end-r.start-2*Math.PI));var c=Math.cos(o),d=Math.sin(o),h=Math.cos(l),l=Math.sin(l);return r=.001>r.end-o-Math.PI?0:1,s=["M",t+s*c,e+a*d,"A",s,a,0,r,1,t+s*h,e+a*l],u(n)&&s.push(i?"M":"L",t+n*h,e+n*l,"A",n,n,0,r,0,t+n*c,e+n*d),s.push(i?"":"Z"),s},callout:function(t,e,n,i,r){var o=Math.min(r&&r.r||0,n,i),s=o+6,a=r&&r.anchorX;r=r&&r.anchorY;var l;return l=["M",t+o,e,"L",t+n-o,e,"C",t+n,e,t+n,e,t+n,e+o,"L",t+n,e+i-o,"C",t+n,e+i,t+n,e+i,t+n-o,e+i,"L",t+o,e+i,"C",t,e+i,t,e+i,t,e+i-o,"L",t,e+o,"C",t,e,t,e,t+o,e],a&&a>n?r>e+s&&r<e+i-s?l.splice(13,3,"L",t+n,r-6,t+n+6,r,t+n,r+6,t+n,e+i-o):l.splice(13,3,"L",t+n,i/2,a,r,t+n,i/2,t+n,e+i-o):a&&0>a?r>e+s&&r<e+i-s?l.splice(33,3,"L",t,r+6,t-6,r,t,r-6,t,e+o):l.splice(33,3,"L",t,i/2,a,r,t,i/2,t,e+o):r&&r>i&&a>t+s&&a<t+n-s?l.splice(23,3,"L",a+6,e+i,a,e+i+6,a-6,e+i,t+o,e+i):r&&0>r&&a>t+s&&a<t+n-s&&l.splice(3,3,"L",a-6,e,a,e-6,a+6,e,n-o,e),l}},clipRect:function(e,n,i,r){var o=t.uniqueKey(),s=this.createElement("clipPath").attr({id:o}).add(this.defs);return e=this.rect(e,n,i,r,0).add(s),e.id=o,e.clipPath=s,e.count=0,e},text:function(t,e,n,i){var r={};return!i||!this.allowHTML&&this.forExport?(r.x=Math.round(e||0),n&&(r.y=Math.round(n)),u(t)&&(r.text=t),t=this.createElement("text").attr(r),i||(t.xSetter=function(t,e,n){var i,r,o=n.getElementsByTagName("tspan"),s=n.getAttribute(e);for(r=0;r<o.length;r++)i=o[r],i.getAttribute(e)===s&&i.setAttribute(e,t);n.setAttribute(e,t)}),t):this.html(t,e,n)},fontMetrics:function(t,n){return t=!this.styledMode&&/px/.test(t)||!D.getComputedStyle?t||n&&n.style&&n.style.fontSize||this.style&&this.style.fontSize:n&&e.prototype.getStyle.call(n,"font-size"),t=/px/.test(t)?k(t):12,n=24>t?t+3:Math.round(1.2*t),{h:n,b:Math.round(.8*n),f:t}},rotCorr:function(t,e,n){var i=t;return e&&n&&(i=Math.max(i*Math.cos(e*d),4)),{x:-t/3*Math.sin(e*d),y:i}},label:function(n,i,r,o,s,a,l,c,d){var h,p,m,g,v,b,y,_,w,S,x,C,T=this,k=T.styledMode,P=T.g("button"!==d&&"label"),I=P.text=T.text("",0,0,l).attr({zIndex:1}),A=0,M=3,N=0,D={},L=/^url\((.*?)\)$/.test(o),R=k||L,F=function(){return k?h.strokeWidth()%2/2:(_?parseInt(_,10):0)%2/2};d&&P.addClass("highcharts-"+d),S=function(){var t=I.element.style,e={};p=(void 0===m||void 0===g||y)&&u(I.textStr)&&I.getBBox(),P.width=(m||p.width||0)+2*M+N,P.height=(g||p.height||0)+2*M,w=M+Math.min(T.fontMetrics(t&&t.fontSize,I).b,p?p.height:1/0),R&&(h||(P.box=h=T.symbols[o]||L?T.symbol(o):T.rect(),h.addClass(("button"===d?"":"highcharts-label-box")+(d?" highcharts-"+d+"-box":"")),h.add(P),t=F(),e.x=t,e.y=(c?-w:0)+t),e.width=Math.round(P.width),e.height=Math.round(P.height),h.attr(f(e,D)),D={})},x=function(){var t,e=N+M;t=c?0:w,u(m)&&p&&("center"===y||"right"===y)&&(e+={center:.5,right:1}[y]*(m-p.width)),e===I.x&&t===I.y||(I.attr("x",e),I.hasBoxWidthChanged&&(p=I.getBBox(!0),S()),void 0!==t&&I.attr("y",t)),I.x=e,I.y=t},C=function(t,e){h?h.attr(t,e):D[t]=e},P.onAdd=function(){I.add(P),P.attr({text:n||0===n?n:"",x:i,y:r}),h&&u(s)&&P.attr({anchorX:s,anchorY:a})},P.widthSetter=function(e){m=t.isNumber(e)?e:null},P.heightSetter=function(t){g=t},P["text-alignSetter"]=function(t){y=t},P.paddingSetter=function(t){u(t)&&t!==M&&(M=P.padding=t,x())},P.paddingLeftSetter=function(t){u(t)&&t!==N&&(N=t,x())},P.alignSetter=function(t){(t={left:0,center:.5,right:1}[t])!==A&&(A=t,p&&P.attr({x:v}))},P.textSetter=function(t){void 0!==t&&I.textSetter(t),S(),x()},P["stroke-widthSetter"]=function(t,e){t&&(R=!0),_=this["stroke-width"]=t,C(e,t)},k?P.rSetter=function(t,e){C(e,t)}:P.strokeSetter=P.fillSetter=P.rSetter=function(t,e){"r"!==e&&("fill"===e&&t&&(R=!0),P[e]=t),C(e,t)},P.anchorXSetter=function(t,e){s=P.anchorX=t,C(e,Math.round(t)-F()-v)},P.anchorYSetter=function(t,e){a=P.anchorY=t,C(e,t-b)},P.xSetter=function(t){P.x=t,A&&(t-=A*((m||p.width)+2*M),P["forceAnimate:x"]=!0),v=Math.round(t),P.attr("translateX",v)},P.ySetter=function(t){b=P.y=Math.round(t),P.attr("translateY",b)};var B=P.css;return l={css:function(t){if(t){var e={};t=E(t),P.textProps.forEach(function(n){void 0!==t[n]&&(e[n]=t[n],delete t[n])}),I.css(e),"width"in e&&S(),"fontSize"in e&&(S(),x())}return B.call(P,t)},getBBox:function(){return{width:p.width+2*M,height:p.height+2*M,x:p.x-M,y:p.y-M}},destroy:function(){O(P.element,"mouseenter"),O(P.element,"mouseleave"),I&&(I=I.destroy()),h&&(h=h.destroy()),e.prototype.destroy.call(P),P=T=S=x=C=null}},k||(l.shadow=function(t){return t&&(S(),h&&h.shadow(t)),P}),f(P,l)}}),t.Renderer=n}(e),function(t){var e=t.attr,n=t.createElement,i=t.css,r=t.defined,o=t.extend,s=t.isFirefox,a=t.isMS,l=t.isWebKit,c=t.pick,u=t.pInt,d=t.SVGElement,h=t.SVGRenderer,p=t.win;o(d.prototype,{htmlCss:function(t){var e,n="SPAN"===this.element.tagName&&t&&"width"in t,r=c(n&&t.width,void 0);return n&&(delete t.width,this.textWidth=r,e=!0),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=o(this.styles,t),i(this.element,t),e&&this.htmlUpdateTransform(),this},htmlGetBBox:function(){var t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,n=this.translateX||0,o=this.translateY||0,s=this.x||0,a=this.y||0,l=this.textAlign||"left",c={left:0,center:.5,right:1}[l],d=this.styles,h=d&&d.whiteSpace;if(i(e,{marginLeft:n,marginTop:o}),!t.styledMode&&this.shadows&&this.shadows.forEach(function(t){i(t,{marginLeft:n+1,marginTop:o+1})}),this.inverted&&[].forEach.call(e.childNodes,function(n){t.invertChild(n,e)}),"SPAN"===e.tagName){var p,d=this.rotation,f=this.textWidth&&u(this.textWidth),m=[d,l,e.innerHTML,this.textWidth,this.textAlign].join();(p=f!==this.oldTextWidth)&&!(p=f>this.oldTextWidth)&&((p=this.textPxLength)||(i(e,{width:"",whiteSpace:h||"nowrap"}),p=e.offsetWidth),p=p>f),p&&(/[ \-]/.test(e.textContent||e.innerText)||"ellipsis"===e.style.textOverflow)?(i(e,{width:f+"px",display:"block",whiteSpace:h||"normal"}),this.oldTextWidth=f,this.hasBoxWidthChanged=!0):this.hasBoxWidthChanged=!1,m!==this.cTT&&(h=t.fontMetrics(e.style.fontSize,e).b,!r(d)||d===(this.oldRotation||0)&&l===this.oldAlign||this.setSpanRotation(d,c,h),this.getSpanCorrection(!r(d)&&this.textPxLength||e.offsetWidth,h,c,d,l)),i(e,{left:s+(this.xCorr||0)+"px",top:a+(this.yCorr||0)+"px"}),this.cTT=m,this.oldRotation=d,this.oldAlign=l}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,n){var r={},o=this.renderer.getTransformKey();r[o]=r.transform="rotate("+t+"deg)",r[o+(s?"Origin":"-origin")]=r.transformOrigin=100*e+"% "+n+"px",i(this.element,r)},getSpanCorrection:function(t,e,n){this.xCorr=-t*n,this.yCorr=-e}}),o(h.prototype,{getTransformKey:function(){return a&&!/Edge/.test(p.navigator.userAgent)?"-ms-transform":l?"-webkit-transform":s?"MozTransform":p.opera?"-o-transform":""},html:function(i,r,s){var a=this.createElement("span"),l=a.element,u=a.renderer,h=u.isSVG,p=function(t,e){["opacity","visibility"].forEach(function(n){t[n+"Setter"]=function(t,i,r){d.prototype[n+"Setter"].call(this,t,i,r),e[i]=t}}),t.addedSetters=!0},f=t.charts[u.chartIndex],f=f&&f.styledMode;return a.textSetter=function(t){t!==l.innerHTML&&delete this.bBox,this.textStr=t,l.innerHTML=c(t,""),a.doTransform=!0},h&&p(a,a.element.style),a.xSetter=a.ySetter=a.alignSetter=a.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),a[e]=t,a.doTransform=!0},a.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},a.attr({text:i,x:Math.round(r),y:Math.round(s)}).css({position:"absolute"}),f||a.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),l.style.whiteSpace="nowrap",a.css=a.htmlCss,h&&(a.add=function(t){var i,r=u.box.parentNode,s=[];if(this.parentGroup=t){if(!(i=t.div)){for(;t;)s.push(t),t=t.parentGroup;s.reverse().forEach(function(t){function l(e,n){t[n]=e,"translateX"===n?c.left=e+"px":c.top=e+"px",t.doTransform=!0}var c,u=e(t.element,"class");u&&(u={className:u}),i=t.div=t.div||n("div",u,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},i||r),c=i.style,o(t,{classSetter:function(t){return function(e){this.element.setAttribute("class",e),t.className=e}}(i),on:function(){return s[0].div&&a.on.apply({element:s[0].div},arguments),t},translateXSetter:l,translateYSetter:l}),t.addedSetters||p(t,c)})}}else i=r;return i.appendChild(l),a.added=!0,a.alignOnAdd&&a.htmlUpdateTransform(),a}),a}})}(e),function(t){var e=t.defined,n=t.extend,i=t.merge,r=t.pick,o=t.timeUnits,s=t.win;t.Time=function(t){this.update(t,!1)},t.Time.prototype={defaultOptions:{},update:function(t){var e=r(t&&t.useUTC,!0),n=this;this.options=t=i(!0,this.options||{},t),this.Date=t.Date||s.Date||Date,this.timezoneOffset=(this.useUTC=e)&&t.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),(this.variableTimezone=!(e&&!t.getTimezoneOffset&&!t.timezone))||this.timezoneOffset?(this.get=function(t,e){var i=e.getTime(),r=i-n.getTimezoneOffset(e);return e.setTime(r),t=e["getUTC"+t](),e.setTime(i),t},this.set=function(t,e,i){var r;"Milliseconds"===t||"Seconds"===t||"Minutes"===t&&0==e.getTimezoneOffset()%60?e["set"+t](i):(r=n.getTimezoneOffset(e),r=e.getTime()-r,e.setTime(r),e["setUTC"+t](i),t=n.getTimezoneOffset(e),r=e.getTime()+t,e.setTime(r))}):e?(this.get=function(t,e){return e["getUTC"+t]()},this.set=function(t,e,n){return e["setUTC"+t](n)}):(this.get=function(t,e){return e["get"+t]()},this.set=function(t,e,n){return e["set"+t](n)})},makeTime:function(e,n,i,o,s,a){var l,c,u;return this.useUTC?(l=this.Date.UTC.apply(0,arguments),c=this.getTimezoneOffset(l),l+=c,u=this.getTimezoneOffset(l),c!==u?l+=u-c:c-36e5!==this.getTimezoneOffset(l-36e5)||t.isSafari||(l-=36e5)):l=new this.Date(e,n,r(i,1),r(o,0),r(s,0),r(a,0)).getTime(),l},timezoneOffsetFunction:function(){var e=this,n=this.options,i=s.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t).getTimezoneOffset()};if(n.timezone){if(i)return function(t){return 6e4*-i.tz(t,n.timezone).utcOffset()};t.error(25)}return this.useUTC&&n.getTimezoneOffset?function(t){return 6e4*n.getTimezoneOffset(t)}:function(){return 6e4*(e.timezoneOffset||0)}},dateFormat:function(e,n,i){if(!t.defined(n)||isNaN(n))return t.defaultOptions.lang.invalidDate||"";e=t.pick(e,"%Y-%m-%d %H:%M:%S");var r=this,o=new this.Date(n),s=this.get("Hours",o),a=this.get("Day",o),l=this.get("Date",o),c=this.get("Month",o),u=this.get("FullYear",o),d=t.defaultOptions.lang,h=d.weekdays,p=d.shortWeekdays,f=t.pad,o=t.extend({a:p?p[a]:h[a].substr(0,3),A:h[a],d:f(l),e:f(l,2," "),w:a,b:d.shortMonths[c],B:d.months[c],m:f(c+1),o:c+1,y:u.toString().substr(2,2),Y:u,H:f(s),k:s,I:f(s%12||12),l:s%12||12,M:f(r.get("Minutes",o)),p:12>s?"AM":"PM",P:12>s?"am":"pm",S:f(o.getSeconds()),L:f(Math.floor(n%1e3),3)},t.dateFormats);return t.objectEach(o,function(t,i){for(;-1!==e.indexOf("%"+i);)e=e.replace("%"+i,"function"==typeof t?t.call(r,n):t)}),i?e.substr(0,1).toUpperCase()+e.substr(1):e},resolveDTLFormat:function(e){return t.isObject(e,!0)?e:(e=t.splat(e),{main:e[0],from:e[1],to:e[2]})},getTimeTicks:function(t,i,s,a){var l,c,u=this,d=[],h={};l=new u.Date(i);var p,f=t.unitRange,m=t.count||1;if(a=r(a,1),e(i)){u.set("Milliseconds",l,f>=o.second?0:m*Math.floor(u.get("Milliseconds",l)/m)),f>=o.second&&u.set("Seconds",l,f>=o.minute?0:m*Math.floor(u.get("Seconds",l)/m)),f>=o.minute&&u.set("Minutes",l,f>=o.hour?0:m*Math.floor(u.get("Minutes",l)/m)),f>=o.hour&&u.set("Hours",l,f>=o.day?0:m*Math.floor(u.get("Hours",l)/m)),f>=o.day&&u.set("Date",l,f>=o.month?1:Math.max(1,m*Math.floor(u.get("Date",l)/m))),f>=o.month&&(u.set("Month",l,f>=o.year?0:m*Math.floor(u.get("Month",l)/m)),c=u.get("FullYear",l)),f>=o.year&&u.set("FullYear",l,c-c%m),f===o.week&&(c=u.get("Day",l),u.set("Date",l,u.get("Date",l)-c+a+(c<a?-7:0))),c=u.get("FullYear",l),a=u.get("Month",l);var g=u.get("Date",l),v=u.get("Hours",l);for(i=l.getTime(),u.variableTimezone&&(p=s-i>4*o.month||u.getTimezoneOffset(i)!==u.getTimezoneOffset(s)),i=l.getTime(),l=1;i<s;)d.push(i),i=f===o.year?u.makeTime(c+l*m,0):f===o.month?u.makeTime(c,a+l*m):!p||f!==o.day&&f!==o.week?p&&f===o.hour&&1<m?u.makeTime(c,a,g,v+l*m):i+f*m:u.makeTime(c,a,g+l*m*(f===o.day?1:7)),l++;d.push(i),f<=o.hour&&1e4>d.length&&d.forEach(function(t){0==t%18e5&&"000000000"===u.dateFormat("%H%M%S%L",t)&&(h[t]="day")})}return d.info=n(t,{higherRanks:h,totalRange:f*m}),d}}}(e),function(t){var e=t.color,n=t.merge;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:t.Time.prototype.defaultOptions,chart:{styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:t.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:t.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:e("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(e){return t.defaultOptions=n(!0,t.defaultOptions,e),t.time.update(n(t.defaultOptions.global,t.defaultOptions.time),!1),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,t.time=new t.Time(n(t.defaultOptions.global,t.defaultOptions.time)),t.dateFormat=function(e,n,i){return t.time.dateFormat(e,n,i)}}(e),function(t){var e=t.correctFloat,n=t.defined,i=t.destroyObjectProperties,r=t.fireEvent,o=t.isNumber,s=t.merge,a=t.pick,l=t.deg2rad;t.Tick=function(t,e,n,i,r){this.axis=t,this.pos=e,this.type=n||"",this.isNewLabel=this.isNew=!0,this.parameters=r||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,n||i||this.addLabel()},t.Tick.prototype={addLabel:function(){var i,r,o,l,c=this,u=c.axis,d=u.options,h=u.chart,p=u.categories,f=u.names,m=c.pos,g=a(c.options&&c.options.labels,d.labels),v=u.tickPositions,b=m===v[0],y=m===v[v.length-1],p=this.parameters.category||(p?a(p[m],f[m],m):m),_=c.label,v=v.info;u.isDatetimeAxis&&v&&(r=h.time.resolveDTLFormat(d.dateTimeLabelFormats[!d.grid&&v.higherRanks[m]||v.unitName]),i=r.main),c.isFirst=b,c.isLast=y,c.formatCtx={axis:u,chart:h,isFirst:b,isLast:y,dateTimeLabelFormat:i,tickPositionInfo:v,value:u.isLog?e(u.lin2log(p)):p,pos:m},d=u.labelFormatter.call(c.formatCtx,this.formatCtx),(l=r&&r.list)&&(c.shortenLabel=function(){for(o=0;o<l.length;o++)if(_.attr({text:u.labelFormatter.call(t.extend(c.formatCtx,{dateTimeLabelFormat:l[o]}))}),_.getBBox().width<u.getSlotWidth(c)-2*a(g.padding,5))return;_.attr({text:""})}),n(_)?_&&_.textStr!==d&&(!_.textWidth||g.style&&g.style.width||_.styles.width||_.css({width:null}),_.attr({text:d})):((c.label=_=n(d)&&g.enabled?h.renderer.text(d,0,0,g.useHTML).add(u.labelGroup):null)&&(h.styledMode||_.css(s(g.style)),_.textPxLength=_.getBBox().width),c.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,n=this.axis,i=n.options.labels,r=t.x,o=n.chart.chartWidth,s=n.chart.spacing,c=a(n.labelLeft,Math.min(n.pos,s[3])),s=a(n.labelRight,Math.max(n.isRadial?0:n.pos+n.len,o-s[1])),u=this.label,d=this.rotation,h={left:0,center:.5,right:1}[n.labelAlign||u.attr("align")],p=u.getBBox().width,f=n.getSlotWidth(this),m=f,g=1,v={};d||"justify"!==a(i.overflow,"justify")?0>d&&r-h*p<c?e=Math.round(r/Math.cos(d*l)-c):0<d&&r+h*p>s&&(e=Math.round((o-r)/Math.cos(d*l))):(o=r+(1-h)*p,r-h*p<c?m=t.x+m*(1-h)-c:o>s&&(m=s-t.x+m*h,g=-1),m=Math.min(f,m),m<f&&"center"===n.labelAlign&&(t.x+=g*(f-m-h*(f-Math.min(p,m)))),(p>m||n.autoRotation&&(u.styles||{}).width)&&(e=m)),e&&(this.shortenLabel?this.shortenLabel():(v.width=Math.floor(e),(i.style||{}).textOverflow||(v.textOverflow="ellipsis"),u.css(v)))},getPosition:function(e,n,i,o){var s=this.axis,a=s.chart,l=o&&a.oldChartHeight||a.chartHeight;return e={x:e?t.correctFloat(s.translate(n+i,null,null,o)+s.transB):s.left+s.offset+(s.opposite?(o&&a.oldChartWidth||a.chartWidth)-s.right-s.left:0),y:e?l-s.bottom+s.offset-(s.opposite?s.height:0):t.correctFloat(l-s.translate(n+i,null,null,o)-s.transB)},r(this,"afterGetPosition",{pos:e}),e},getLabelPosition:function(t,e,i,o,s,a,c,u){var d=this.axis,h=d.transA,p=d.reversed,f=d.staggerLines,m=d.tickRotCorr||{x:0,y:0},g=s.y,v=o||d.reserveSpaceDefault?0:-d.labelOffset*("center"===d.labelAlign?.5:1),b={};return n(g)||(g=0===d.side?i.rotation?-8:-i.getBBox().height:2===d.side?m.y+8:Math.cos(i.rotation*l)*(m.y-i.getBBox(!1,0).height/2)),t=t+s.x+v+m.x-(a&&o?a*h*(p?-1:1):0),e=e+g-(a&&!o?a*h*(p?1:-1):0),f&&(i=c/(u||1)%f,d.opposite&&(i=f-i-1),e+=d.labelOffset/f*i),b.x=t,b.y=Math.round(e),r(this,"afterGetLabelPosition",{pos:b,tickmarkOffset:a,index:c}),b},getMarkPath:function(t,e,n,i,r,o){return o.crispLine(["M",t,e,"L",t+(r?0:-n),e+(r?n:0)],i)},renderGridLine:function(t,e,n){var i=this.axis,r=i.options,o=this.gridLine,s={},l=this.pos,c=this.type,u=a(this.tickmarkOffset,i.tickmarkOffset),d=i.chart.renderer,h=c?c+"Grid":"grid",p=r[h+"LineWidth"],f=r[h+"LineColor"],r=r[h+"LineDashStyle"];o||(i.chart.styledMode||(s.stroke=f,s["stroke-width"]=p,r&&(s.dashstyle=r)),c||(s.zIndex=1),t&&(e=0),this.gridLine=o=d.path().attr(s).addClass("highcharts-"+(c?c+"-":"")+"grid-line").add(i.gridGroup)),o&&(n=i.getPlotLinePath(l+u,o.strokeWidth()*n,t,"pass"))&&o[t||this.isNew?"attr":"animate"]({d:n,opacity:e})},renderMark:function(t,e,n){var i=this.axis,r=i.options,o=i.chart.renderer,s=this.type,l=s?s+"Tick":"tick",c=i.tickSize(l),u=this.mark,d=!u,h=t.x;t=t.y;var p=a(r[l+"Width"],!s&&i.isXAxis?1:0),r=r[l+"Color"];c&&(i.opposite&&(c[0]=-c[0]),d&&(this.mark=u=o.path().addClass("highcharts-"+(s?s+"-":"")+"tick").add(i.axisGroup),i.chart.styledMode||u.attr({stroke:r,"stroke-width":p})),u[d?"attr":"animate"]({d:this.getMarkPath(h,t,c[0],u.strokeWidth()*n,i.horiz,o),opacity:e}))},renderLabel:function(t,e,n,i){var r=this.axis,s=r.horiz,l=r.options,c=this.label,u=l.labels,d=u.step,r=a(this.tickmarkOffset,r.tickmarkOffset),h=!0,p=t.x;t=t.y,c&&o(p)&&(c.xy=t=this.getLabelPosition(p,t,c,s,u,r,i,d),this.isFirst&&!this.isLast&&!a(l.showFirstLabel,1)||this.isLast&&!this.isFirst&&!a(l.showLastLabel,1)?h=!1:!s||u.step||u.rotation||e||0===n||this.handleOverflow(t),d&&i%d&&(h=!1),h&&o(t.y)?(t.opacity=n,c[this.isNewLabel?"attr":"animate"](t),this.isNewLabel=!1):(c.attr("y",-9999),this.isNewLabel=!0))},render:function(e,n,i){var r=this.axis,o=r.horiz,s=this.pos,l=a(this.tickmarkOffset,r.tickmarkOffset),s=this.getPosition(o,s,l,n),l=s.x,c=s.y,r=o&&l===r.pos+r.len||!o&&c===r.pos?-1:1;i=a(i,1),this.isActive=!0,this.renderGridLine(n,i,r),this.renderMark(s,i,r),this.renderLabel(s,n,i,e),this.isNew=!1,t.fireEvent(this,"afterRender")},destroy:function(){i(this,this.axis)}}}(e);var n=function(t){var e=t.addEvent,n=t.animObject,i=t.arrayMax,r=t.arrayMin,o=t.color,s=t.correctFloat,a=t.defaultOptions,l=t.defined,c=t.deg2rad,u=t.destroyObjectProperties,d=t.extend,h=t.fireEvent,p=t.format,f=t.getMagnitude,m=t.isArray,g=t.isNumber,v=t.isString,b=t.merge,y=t.normalizeTickInterval,_=t.objectEach,w=t.pick,S=t.removeEvent,E=t.splat,x=t.syncTimeout,C=t.Tick,T=function(){this.init.apply(this,arguments)};return t.extend(T.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,labels:{enabled:!0,indentation:10,x:0,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return t.numberFormat(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},init:function(t,n){var i=n.isX,r=this;r.chart=t,r.horiz=t.inverted&&!r.isZAxis?!i:i,r.isXAxis=i,r.coll=r.coll||(i?"xAxis":"yAxis"),h(this,"init",{userOptions:n}),r.opposite=n.opposite,r.side=n.side||(r.horiz?r.opposite?0:2:r.opposite?1:3),r.setOptions(n);var o=this.options,s=o.type;r.labelFormatter=o.labels.formatter||r.defaultLabelFormatter,r.userOptions=n,r.minPixelPadding=0,r.reversed=o.reversed,r.visible=!1!==o.visible,r.zoomEnabled=!1!==o.zoomEnabled,r.hasNames="category"===s||!0===o.categories,r.categories=o.categories||r.hasNames,r.names||(r.names=[],r.names.keys={}),r.plotLinesAndBandsGroups={},r.isLog="logarithmic"===s,r.isDatetimeAxis="datetime"===s,r.positiveValuesOnly=r.isLog&&!r.allowNegativeLog,r.isLinked=l(o.linkedTo),r.ticks={},r.labelEdge=[],r.minorTicks={},r.plotLinesAndBands=[],r.alternateBands={},r.len=0,r.minRange=r.userMinRange=o.minRange||o.maxZoom,r.range=o.range,r.offset=o.offset||0,r.stacks={},r.oldStacks={},r.stacksTouched=0,r.max=null,r.min=null,r.crosshair=w(o.crosshair,E(t.options.tooltip.crosshairs)[i?0:1],!1),n=r.options.events,-1===t.axes.indexOf(r)&&(i?t.axes.splice(t.xAxis.length,0,r):t.axes.push(r),t[r.coll].push(r)),r.series=r.series||[],t.inverted&&!r.isZAxis&&i&&void 0===r.reversed&&(r.reversed=!0),_(n,function(t,n){e(r,n,t)}),r.lin2log=o.linearToLogConverter||r.lin2log,r.isLog&&(r.val2lin=r.log2lin,r.lin2val=r.lin2log),h(this,"afterInit")},setOptions:function(t){this.options=b(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],b(a[this.coll],t)),h(this,"afterSetOptions",{userOptions:t})},defaultLabelFormatter:function(){var e,n=this.axis,i=this.value,r=n.chart.time,o=n.categories,s=this.dateTimeLabelFormat,l=a.lang,c=l.numericSymbols,l=l.numericSymbolMagnitude||1e3,u=c&&c.length,d=n.options.labels.format,n=n.isLog?Math.abs(i):n.tickInterval;if(d)e=p(d,this,r);else if(o)e=i;else if(s)e=r.dateFormat(s,i);else if(u&&1e3<=n)for(;u--&&void 0===e;)r=Math.pow(l,u+1),n>=r&&0==10*i%r&&null!==c[u]&&0!==i&&(e=t.numberFormat(i/r,-1)+c[u]);return void 0===e&&(e=1e4<=Math.abs(i)?t.numberFormat(i,-1):t.numberFormat(i,-1,void 0,"")),e},getSeriesExtremes:function(){var t=this,e=t.chart;h(this,"getSeriesExtremes",null,function(){t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),t.series.forEach(function(n){if(n.visible||!e.options.chart.ignoreHiddenSeries){var o,s=n.options,a=s.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&0>=a&&(a=null),t.isXAxis?(s=n.xData,s.length&&(n=r(s),o=i(s),g(n)||n instanceof Date||(s=s.filter(g),n=r(s),o=i(s)),s.length&&(t.dataMin=Math.min(w(t.dataMin,s[0],n),n),t.dataMax=Math.max(w(t.dataMax,s[0],o),o)))):(n.getExtremes(),o=n.dataMax,n=n.dataMin,l(n)&&l(o)&&(t.dataMin=Math.min(w(t.dataMin,n),n),t.dataMax=Math.max(w(t.dataMax,o),o)),l(a)&&(t.threshold=a),(!s.softThreshold||t.positiveValuesOnly)&&(t.softThreshold=!1))}})}),h(this,"afterGetSeriesExtremes")},translate:function(t,e,n,i,r,o){var s=this.linkedParent||this,a=1,l=0,c=i?s.oldTransA:s.transA;i=i?s.oldMin:s.min;var u=s.minPixelPadding;return r=(s.isOrdinal||s.isBroken||s.isLog&&r)&&s.lin2val,c||(c=s.transA),n&&(a*=-1,l=s.len),s.reversed&&(a*=-1,l-=a*(s.sector||s.len)),e?(t=(t*a+l-u)/c+i,r&&(t=s.lin2val(t))):(r&&(t=s.val2lin(t)),t=g(i)?a*(t-i)*c+l+a*u+(g(o)?c*o:0):void 0),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,n,i,r){var o,s,a,l,c,u,d=this,p=d.chart,f=d.left,m=d.top,v=n&&p.oldChartHeight||p.chartHeight,b=n&&p.oldChartWidth||p.chartWidth,y=d.transB,_=function(t,e,n){return("pass"!==i&&t<e||t>n)&&(i?t=Math.min(Math.max(e,t),n):c=!0),t};return u={value:t,lineWidth:e,old:n,force:i,translatedValue:r},h(this,"getPlotLinePath",u,function(u){r=w(r,d.translate(t,null,null,n)),r=Math.min(Math.max(-1e5,r),1e5),o=a=Math.round(r+y),s=l=Math.round(v-r-y),g(r)?d.horiz?(s=m,l=v-d.bottom,o=a=_(o,f,f+d.width)):(o=f,a=b-d.right,s=l=_(s,m,m+d.height)):(c=!0,i=!1),u.path=c&&!i?null:p.renderer.crispLine(["M",o,s,"L",a,l],e||1)}),u.path},getLinearTickPositions:function(t,e,n){var i,r=s(Math.floor(e/t)*t);n=s(Math.ceil(n/t)*t);var o,a=[];if(s(r+t)===r&&(o=20),this.single)return[e];for(e=r;e<=n&&(a.push(e),(e=s(e+t,o))!==i);)i=e;return a},getMinorTickInterval:function(){var t=this.options;return!0===t.minorTicks?w(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval},getMinorTickPositions:function(){var t=this,e=t.options,n=t.tickPositions,i=t.minorTickInterval,r=[],o=t.pointRangePadding||0,s=t.min-o,o=t.max+o,a=o-s;if(a&&a/i<t.len/3)if(t.isLog)this.paddedTicks.forEach(function(e,n,o){n&&r.push.apply(r,t.getLogTickPositions(i,o[n-1],o[n],!0))});else if(t.isDatetimeAxis&&"auto"===this.getMinorTickInterval())r=r.concat(t.getTimeTicks(t.normalizeTimeTickInterval(i),s,o,e.startOfWeek));else for(e=s+(n[0]-s)%i;e<=o&&e!==r[0];e+=i)r.push(e);return 0!==r.length&&t.trimTicks(r),r},adjustForMinRange:function(){var t,e,n,o,s,a,c,u,d=this.options,h=this.min,p=this.max;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(l(d.min)||l(d.max)?this.minRange=null:(this.series.forEach(function(t){for(a=t.xData,o=c=t.xIncrement?1:a.length-1;0<o;o--)s=a[o]-a[o-1],(void 0===n||s<n)&&(n=s)}),this.minRange=Math.min(5*n,this.dataMax-this.dataMin))),p-h<this.minRange&&(e=this.dataMax-this.dataMin>=this.minRange,u=this.minRange,t=(u-p+h)/2,t=[h-t,w(d.min,h-t)],e&&(t[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),h=i(t),p=[h+u,w(d.max,h+u)],e&&(p[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),(p=r(p))-h<u&&(t[0]=p-u,t[1]=w(d.min,p-u),h=i(t))),this.min=h,this.max=p},getClosest:function(){var t;return this.categories?t=1:this.series.forEach(function(e){var n=e.closestPointRange,i=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&l(n)&&i&&(t=l(t)?Math.min(t,n):n)}),t},nameToX:function(t){var e,n=m(this.categories),i=n?this.categories:this.names,r=t.options.x;return t.series.requireSorting=!1,l(r)||(r=!1===this.options.uniqueNames?t.series.autoIncrement():n?i.indexOf(t.name):w(i.keys[t.name],-1)),-1===r?n||(e=i.length):e=r,void 0!==e&&(this.names[e]=t.name,this.names.keys[t.name]=e),e},updateNames:function(){var t=this,e=this.names;0<e.length&&(Object.keys(e.keys).forEach(function(t){delete e.keys[t]}),e.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(e){e.xIncrement=null,e.points&&!e.isDirtyData||(t.max=Math.max(t.max,e.xData.length-1),e.processData(),e.generatePoints()),e.data.forEach(function(n,i){var r;n&&n.options&&void 0!==n.name&&void 0!==(r=t.nameToX(n))&&r!==n.x&&(n.x=r,e.xData[i]=r)})}))},setAxisTranslation:function(t){var e,n=this,i=n.max-n.min,r=n.axisPointRange||0,o=0,s=0,a=n.linkedParent,l=!!n.categories,c=n.transA,u=n.isXAxis;(u||l||r)&&(e=n.getClosest(),a?(o=a.minPointOffset,s=a.pointRangePadding):n.series.forEach(function(t){var i=l?1:u?w(t.options.pointRange,e,0):n.axisPointRange||0;t=t.options.pointPlacement,r=Math.max(r,i),n.single||(o=Math.max(o,u&&v(t)?0:i/2),s=Math.max(s,u&&"on"===t?0:i))}),a=n.ordinalSlope&&e?n.ordinalSlope/e:1,n.minPointOffset=o*=a,n.pointRangePadding=s*=a,n.pointRange=Math.min(r,i),u&&(n.closestPointRange=e)),t&&(n.oldTransA=c),n.translationSlope=n.transA=c=n.staticScale||n.len/(i+s||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=c*o,h(this,"afterSetAxisTranslation")},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var n,i,r,o,a=this,c=a.chart,u=a.options,d=a.isLog,p=a.isDatetimeAxis,m=a.isXAxis,v=a.isLinked,b=u.maxPadding,_=u.minPadding,S=u.tickInterval,E=u.tickPixelInterval,x=a.categories,C=g(a.threshold)?a.threshold:null,T=a.softThreshold;p||x||v||this.getTickAmount(),r=w(a.userMin,u.min),o=w(a.userMax,u.max),v?(a.linkedParent=c[a.coll][u.linkedTo],n=a.linkedParent.getExtremes(),a.min=w(n.min,n.dataMin),a.max=w(n.max,n.dataMax),u.type!==a.linkedParent.options.type&&t.error(11,1,c)):(!T&&l(C)&&(a.dataMin>=C?(n=C,_=0):a.dataMax<=C&&(i=C,b=0)),a.min=w(r,n,a.dataMin),a.max=w(o,i,a.dataMax)),d&&(a.positiveValuesOnly&&!e&&0>=Math.min(a.min,w(a.dataMin,a.min))&&t.error(10,1,c),a.min=s(a.log2lin(a.min),15),a.max=s(a.log2lin(a.max),15)),a.range&&l(a.max)&&(a.userMin=a.min=r=Math.max(a.dataMin,a.minFromRange()),a.userMax=o=a.max,a.range=null),h(a,"foundExtremes"),a.beforePadding&&a.beforePadding(),a.adjustForMinRange(),!(x||a.axisPointRange||a.usePercentage||v)&&l(a.min)&&l(a.max)&&(c=a.max-a.min)&&(!l(r)&&_&&(a.min-=c*_),!l(o)&&b&&(a.max+=c*b)),g(u.softMin)&&!g(a.userMin)&&(a.min=Math.min(a.min,u.softMin)),g(u.softMax)&&!g(a.userMax)&&(a.max=Math.max(a.max,u.softMax)),g(u.floor)&&(a.min=Math.min(Math.max(a.min,u.floor),Number.MAX_VALUE)),g(u.ceiling)&&(a.max=Math.max(Math.min(a.max,u.ceiling),w(a.userMax,-Number.MAX_VALUE))),T&&l(a.dataMin)&&(C=C||0,!l(r)&&a.min<C&&a.dataMin>=C?a.min=C:!l(o)&&a.max>C&&a.dataMax<=C&&(a.max=C)),a.tickInterval=a.min===a.max||void 0===a.min||void 0===a.max?1:v&&!S&&E===a.linkedParent.options.tickPixelInterval?S=a.linkedParent.tickInterval:w(S,this.tickAmount?(a.max-a.min)/Math.max(this.tickAmount-1,1):void 0,x?1:(a.max-a.min)*E/Math.max(a.len,E)),m&&!e&&a.series.forEach(function(t){t.processData(a.min!==a.oldMin||a.max!==a.oldMax)}),a.setAxisTranslation(!0),a.beforeSetTickPositions&&a.beforeSetTickPositions(),a.postProcessTickInterval&&(a.tickInterval=a.postProcessTickInterval(a.tickInterval)),a.pointRange&&!S&&(a.tickInterval=Math.max(a.pointRange,a.tickInterval)),e=w(u.minTickInterval,a.isDatetimeAxis&&a.closestPointRange),!S&&a.tickInterval<e&&(a.tickInterval=e),p||d||S||(a.tickInterval=y(a.tickInterval,null,f(a.tickInterval),w(u.allowDecimals,!(.5<a.tickInterval&&5>a.tickInterval&&1e3<a.max&&9999>a.max)),!!this.tickAmount)),this.tickAmount||(a.tickInterval=a.unsquish()),this.setTickPositions()},setTickPositions:function(){var e,n=this.options,i=n.tickPositions;e=this.getMinorTickInterval();var r=n.tickPositioner,o=n.startOnTick,s=n.endOnTick;this.tickmarkOffset=this.categories&&"between"===n.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===e&&this.tickInterval?this.tickInterval/5:e,this.single=this.min===this.max&&l(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==n.allowDecimals),this.tickPositions=e=i&&i.slice(),!e&&(!this.ordinalPositions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)?(e=[this.min,this.max],t.error(19,!1,this.chart)):e=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),e.length>this.len&&(e=[e[0],e.pop()],e[0]===e[1]&&(e.length=1)),this.tickPositions=e,r&&(r=r.apply(this,[this.min,this.max])))&&(this.tickPositions=e=r),this.paddedTicks=e.slice(0),this.trimTicks(e,o,s),this.isLinked||(this.single&&2>e.length&&(this.min-=.5,this.max+=.5),i||r||this.adjustTickAmount()),h(this,"afterSetTickPositions")},trimTicks:function(t,e,n){var i=t[0],r=t[t.length-1],o=this.minPointOffset||0;if(h(this,"trimTicks"),!this.isLinked){if(e&&-1/0!==i)this.min=i;else for(;this.min-o>t[0];)t.shift();if(n)this.max=r;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&l(i)&&!this.options.tickPositions&&t.push((r+i)/2)}},alignToOthers:function(){var t,e={},n=this.options;return!1===this.chart.options.chart.alignTicks||!1===n.alignTicks||!1===n.startOnTick||!1===n.endOnTick||this.isLog||this.chart[this.coll].forEach(function(n){var i=n.options,i=[n.horiz?i.left:i.top,i.width,i.height,i.pane].join();n.series.length&&(e[i]?t=!0:e[i]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,n=t.tickPixelInterval;!l(t.tickInterval)&&this.len<n&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/n)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t,e=this.options,n=this.tickInterval,i=this.tickPositions,r=this.tickAmount,o=this.finalTickAmt,a=i&&i.length,c=w(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(a<r){for(t=this.min;i.length<r;)i.length%2||t===c?i.push(s(i[i.length-1]+n)):i.unshift(s(i[0]-n));this.transA*=(a-1)/(r-1),this.min=e.startOnTick?i[0]:Math.min(this.min,i[0]),this.max=e.endOnTick?i[i.length-1]:Math.max(this.max,i[i.length-1])}else a>r&&(this.tickInterval*=2,this.setTickPositions());if(l(o)){for(n=e=i.length;n--;)(3===o&&1==n%2||2>=o&&0<n&&n<e-1)&&i.splice(n,1);this.finalTickAmt=void 0}}},setScale:function(){var t,e=this.series.some(function(t){return t.isDirtyData||t.isDirty||t.xAxis.isDirty});this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),(t=this.len!==this.oldAxisLength)||e||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=t||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks(),h(this,"afterSetScale")},setExtremes:function(t,e,n,i,r){var o=this,s=o.chart;n=w(n,!0),o.series.forEach(function(t){delete t.kdTree}),r=d(r,{min:t,max:e}),h(o,"setExtremes",r,function(){o.userMin=t,o.userMax=e,o.eventArgs=r,n&&s.redraw(i)})},zoom:function(t,e){var n=this.dataMin,i=this.dataMax,r=this.options,o=Math.min(n,w(r.min,n)),s=Math.max(i,w(r.max,i));return t={newMin:t,newMax:e},h(this,"zoom",t,function(t){var e=t.newMin,r=t.newMax;e===this.min&&r===this.max||(this.allowZoomOutside||(l(n)&&(e<o&&(e=o),e>s&&(e=s)),l(i)&&(r<o&&(r=o),r>s&&(r=s))),this.displayBtn=void 0!==e||void 0!==r,this.setExtremes(e,r,!1,void 0,{trigger:"zoom"})),t.zoomed=!0}),t.zoomed},setAxisSize:function(){var e=this.chart,n=this.options,i=n.offsets||[0,0,0,0],r=this.horiz,o=this.width=Math.round(t.relativeLength(w(n.width,e.plotWidth-i[3]+i[1]),e.plotWidth)),s=this.height=Math.round(t.relativeLength(w(n.height,e.plotHeight-i[0]+i[2]),e.plotHeight)),a=this.top=Math.round(t.relativeLength(w(n.top,e.plotTop+i[0]),e.plotHeight,e.plotTop)),n=this.left=Math.round(t.relativeLength(w(n.left,e.plotLeft+i[3]),e.plotWidth,e.plotLeft));this.bottom=e.chartHeight-s-a,this.right=e.chartWidth-o-n,this.len=Math.max(r?o:s,0),this.pos=r?n:a},getExtremes:function(){var t=this.isLog;return{min:t?s(this.lin2log(this.min)):this.min,max:t?s(this.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,n=e?this.lin2log(this.min):this.min,e=e?this.lin2log(this.max):this.max;return null===t||-1/0===t?t=n:1/0===t?t=e:n>t?t=n:e<t&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){var e=(w(t,0)-90*this.side+720)%360;return t={align:"center"},h(this,"autoLabelAlign",t,function(t){15<e&&165>e?t.align="right":195<e&&345>e&&(t.align="left")}),t.align},tickSize:function(t){var e,n=this.options,i=n[t+"Length"],r=w(n[t+"Width"],"tick"===t&&this.isXAxis?1:0);return r&&i&&("inside"===n[t+"Position"]&&(i=-i),e=[i,r]),t={tickSize:e},h(this,"afterTickSize",t),t.tickSize},labelMetrics:function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},unsquish:function(){var t,e,n,i=this.options.labels,r=this.horiz,o=this.tickInterval,a=o,u=this.len/(((this.categories?1:0)+this.max-this.min)/o),d=i.rotation,h=this.labelMetrics(),p=Number.MAX_VALUE,f=this.max-this.min,m=function(t){var e=t/(u||1),e=1<e?Math.ceil(e):1;return e*o>f&&1/0!==t&&1/0!==u&&(e=Math.ceil(f/o)),s(e*o)};return r?(n=!i.staggerLines&&!i.step&&(l(d)?[d]:u<w(i.autoRotationLimit,80)&&i.autoRotation))&&n.forEach(function(n){var i;(n===d||n&&-90<=n&&90>=n)&&(e=m(Math.abs(h.h/Math.sin(c*n))),(i=e+Math.abs(n/360))<p&&(p=i,t=n,a=e))}):i.step||(a=m(h.h)),this.autoRotation=n,this.labelRotation=w(t,d),a},getSlotWidth:function(t){var e=this.chart,n=this.horiz,i=this.options.labels,r=Math.max(this.tickPositions.length-(this.categories?0:1),1),o=e.margin[3];return t&&t.slotWidth||n&&2>(i.step||0)&&!i.rotation&&(this.staggerLines||1)*this.len/r||!n&&(i.style&&parseInt(i.style.width,10)||o&&o-e.spacing[3]||.33*e.chartWidth)},renderUnsquish:function(){var t,e,n,i=this.chart,r=i.renderer,o=this.tickPositions,s=this.ticks,a=this.options.labels,l=a&&a.style||{},c=this.horiz,u=this.getSlotWidth(),d=Math.max(1,Math.round(u-2*(a.padding||5))),h={},p=this.labelMetrics(),f=a.style&&a.style.textOverflow,m=0;if(v(a.rotation)||(h.rotation=a.rotation||0),o.forEach(function(t){(t=s[t])&&t.label&&t.label.textPxLength>m&&(m=t.label.textPxLength)}),this.maxLabelLength=m,this.autoRotation)m>d&&m>p.h?h.rotation=this.labelRotation:this.labelRotation=0;else if(u&&(t=d,!f))for(e="clip",d=o.length;!c&&d--;)n=o[d],(n=s[n].label)&&(n.styles&&"ellipsis"===n.styles.textOverflow?n.css({textOverflow:"clip"}):n.textPxLength>u&&n.css({width:u+"px"}),n.getBBox().height>this.len/o.length-(p.h-p.f)&&(n.specificTextOverflow="ellipsis"));h.rotation&&(t=m>.5*i.chartHeight?.33*i.chartHeight:m,f||(e="ellipsis")),(this.labelAlign=a.align||this.autoLabelAlign(this.labelRotation))&&(h.align=this.labelAlign),o.forEach(function(n){var i=(n=s[n])&&n.label,r=l.width,o={};i&&(i.attr(h),n.shortenLabel?n.shortenLabel():t&&!r&&"nowrap"!==l.whiteSpace&&(t<i.textPxLength||"SPAN"===i.element.tagName)?(o.width=t,f||(o.textOverflow=i.specificTextOverflow||e),i.css(o)):i.styles&&i.styles.width&&!o.width&&!r&&i.css({width:null}),delete i.specificTextOverflow,n.rotation=h.rotation)},this),this.tickRotCorr=r.rotCorr(p.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||l(this.min)&&l(this.max)&&this.tickPositions&&0<this.tickPositions.length},addTitle:function(t){var e,n=this.chart.renderer,i=this.horiz,r=this.opposite,o=this.options.title,s=this.chart.styledMode;this.axisTitle||((e=o.textAlign)||(e=(i?{low:"left",middle:"center",high:"right"}:{low:r?"right":"left",middle:"center",high:r?"left":"right"})[o.align]),this.axisTitle=n.text(o.text,0,0,o.useHTML).attr({zIndex:7,rotation:o.rotation||0,align:e}).addClass("highcharts-axis-title"),s||this.axisTitle.css(b(o.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),s||o.style.width||this.isRadial||this.axisTitle.css({width:this.len}),this.axisTitle[t?"show":"hide"](!0)},generateTick:function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new C(this,t)},getOffset:function(){var t,e,n,i=this,r=i.chart,o=r.renderer,s=i.options,a=i.tickPositions,c=i.ticks,u=i.horiz,d=i.side,p=r.inverted&&!i.isZAxis?[1,0,3,2][d]:d,f=0,m=0,g=s.title,v=s.labels,b=0,y=r.axisOffset,r=r.clipOffset,S=[-1,1,1,-1][d],E=s.className,x=i.axisParent;t=i.hasData(),i.showAxis=e=t||w(s.showEmpty,!0),i.staggerLines=i.horiz&&v.staggerLines,i.axisGroup||(i.gridGroup=o.g("grid").attr({zIndex:s.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(E||"")).add(x),i.axisGroup=o.g("axis").attr({zIndex:s.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(E||"")).add(x),i.labelGroup=o.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+i.coll.toLowerCase()+"-labels "+(E||"")).add(x)),t||i.isLinked?(a.forEach(function(t,e){i.generateTick(t,e)}),i.renderUnsquish(),i.reserveSpaceDefault=0===d||2===d||{1:"left",3:"right"}[d]===i.labelAlign,w(v.reserveSpace,"center"===i.labelAlign||null,i.reserveSpaceDefault)&&a.forEach(function(t){b=Math.max(c[t].getLabelSize(),b)}),i.staggerLines&&(b*=i.staggerLines),i.labelOffset=b*(i.opposite?-1:1)):_(c,function(t,e){t.destroy(),delete c[e]}),g&&g.text&&!1!==g.enabled&&(i.addTitle(e),e&&!1!==g.reserveSpace&&(i.titleOffset=f=i.axisTitle.getBBox()[u?"height":"width"],n=g.offset,m=l(n)?0:w(g.margin,u?5:10))),i.renderLine(),i.offset=S*w(s.offset,y[d]?y[d]+(s.margin||0):0),i.tickRotCorr=i.tickRotCorr||{x:0,y:0},o=0===d?-i.labelMetrics().h:2===d?i.tickRotCorr.y:0,m=Math.abs(b)+m,b&&(m=m-o+S*(u?w(v.y,i.tickRotCorr.y+8*S):v.x)),i.axisTitleMargin=w(n,m),i.getMaxLabelDimensions&&(i.maxLabelDimensions=i.getMaxLabelDimensions(c,a)),u=this.tickSize("tick"),y[d]=Math.max(y[d],i.axisTitleMargin+f+S*i.offset,m,t&&a.length&&u?u[0]+S*i.offset:0),s=s.offset?0:2*Math.floor(i.axisLine.strokeWidth()/2),r[p]=Math.max(r[p],s),h(this,"afterGetOffset")},getLinePath:function(t){var e=this.chart,n=this.opposite,i=this.offset,r=this.horiz,o=this.left+(n?this.width:0)+i,i=e.chartHeight-this.bottom-(n?this.height:0)+i;return n&&(t*=-1),e.renderer.crispLine(["M",r?this.left:o,r?i:this.top,"L",r?e.chartWidth-this.right:o,r?i:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,i=this.len,r=this.options.title,o=t?e:n,s=this.opposite,a=this.offset,l=r.x||0,c=r.y||0,u=this.axisTitle,d=this.chart.renderer.fontMetrics(r.style&&r.style.fontSize,u),u=Math.max(u.getBBox(null,0).height-d.h-1,0),i={low:o+(t?0:i),middle:o+i/2,high:o+(t?i:0)}[r.align],e=(t?n+this.height:e)+(t?1:-1)*(s?-1:1)*this.axisTitleMargin+[-u,u,d.f,-u][this.side],t={x:t?i+l:e+(s?this.width:0)+a+l,y:t?e+c-(s?this.height:0)+a:i+c};return h(this,"afterGetTitlePosition",{titlePosition:t}),t},renderMinorTick:function(t){var e=this.chart.hasRendered&&g(this.oldMin),n=this.minorTicks;n[t]||(n[t]=new C(this,t,"minor")),e&&n[t].isNew&&n[t].render(null,!0),n[t].render(null,!1,1)},renderTick:function(t,e){var n=this.isLinked,i=this.ticks,r=this.chart.hasRendered&&g(this.oldMin);(!n||t>=this.min&&t<=this.max)&&(i[t]||(i[t]=new C(this,t)),r&&i[t].isNew&&i[t].render(e,!0,-1),i[t].render(e))},render:function(){var e,i,r=this,o=r.chart,s=r.options,a=r.isLog,l=r.isLinked,c=r.tickPositions,u=r.axisTitle,d=r.ticks,p=r.minorTicks,f=r.alternateBands,m=s.stackLabels,v=s.alternateGridColor,b=r.tickmarkOffset,y=r.axisLine,w=r.showAxis,S=n(o.renderer.globalAnimation);r.labelEdge.length=0,r.overlap=!1,[d,p,f].forEach(function(t){_(t,function(t){t.isActive=!1})}),(r.hasData()||l)&&(r.minorTickInterval&&!r.categories&&r.getMinorTickPositions().forEach(function(t){r.renderMinorTick(t)}),c.length&&(c.forEach(function(t,e){r.renderTick(t,e)}),b&&(0===r.min||r.single)&&(d[-1]||(d[-1]=new C(r,-1,null,!0)),d[-1].render(-1))),v&&c.forEach(function(n,s){i=void 0!==c[s+1]?c[s+1]+b:r.max-b,0==s%2&&n<r.max&&i<=r.max+(o.polar?-b:b)&&(f[n]||(f[n]=new t.PlotLineOrBand(r)),e=n+b,f[n].options={from:a?r.lin2log(e):e,to:a?r.lin2log(i):i,color:v},f[n].render(),f[n].isActive=!0)}),r._addedPlotLB||((s.plotLines||[]).concat(s.plotBands||[]).forEach(function(t){r.addPlotBandOrLine(t)}),r._addedPlotLB=!0)),[d,p,f].forEach(function(t){var e,n=[],i=S.duration;_(t,function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,n.push(e))}),x(function(){for(e=n.length;e--;)t[n[e]]&&!t[n[e]].isActive&&(t[n[e]].destroy(),delete t[n[e]])},t!==f&&o.hasRendered&&i?i:0)}),y&&(y[y.isPlaced?"animate":"attr"]({d:this.getLinePath(y.strokeWidth())}),y.isPlaced=!0,y[w?"show":"hide"](!0)),u&&w&&(s=r.getTitlePosition(),g(s.y)?(u[u.isNew?"attr":"animate"](s),u.isNew=!1):(u.attr("y",-9999),u.isNew=!0)),m&&m.enabled&&r.renderStackTotals(),r.isDirty=!1,h(this,"afterRender")},redraw:function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(t){t.render()})),this.series.forEach(function(t){t.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(t){var e,n=this,i=n.stacks,r=n.plotLinesAndBands;if(h(this,"destroy",{keepEvents:t}),t||S(n),_(i,function(t,e){u(t),i[e]=null}),[n.ticks,n.minorTicks,n.alternateBands].forEach(function(t){u(t)}),r)for(t=r.length;t--;)r[t].destroy();"stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(t){n[t]&&(n[t]=n[t].destroy())});for(e in n.plotLinesAndBandsGroups)n.plotLinesAndBandsGroups[e]=n.plotLinesAndBandsGroups[e].destroy();_(n,function(t,e){-1===n.keepProps.indexOf(e)&&delete n[e]})},drawCrosshair:function(t,e){var n,i,r=this.crosshair,s=w(r.snap,!0),a=this.cross;if(h(this,"drawCrosshair",{e:t,point:e}),t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(l(e)||!s)){if(s?l(e)&&(i=w(e.crosshairPos,this.isXAxis?e.plotX:this.len-e.plotY)):i=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),l(i)&&(n=this.getPlotLinePath(e&&(this.isXAxis?e.x:w(e.stackY,e.y)),null,null,null,i)||null),!l(n))return void this.hideCrosshair();s=this.categories&&!this.isRadial,a||(this.cross=a=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(s?"category ":"thin ")+r.className).attr({zIndex:w(r.zIndex,2)}).add(),this.chart.styledMode||(a.attr({stroke:r.color||(s?o("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":w(r.width,1)}).css({"pointer-events":"none"}),r.dashStyle&&a.attr({dashstyle:r.dashStyle}))),a.show().attr({d:n}),s&&!r.width&&a.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();h(this,"afterDrawCrosshair",{e:t,point:e})},hideCrosshair:function(){this.cross&&this.cross.hide(),h(this,"afterHideCrosshair")}}),t.Axis=T}(e);return function(t){var e=t.Axis,n=t.getMagnitude,i=t.normalizeTickInterval,r=t.timeUnits;e.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},e.prototype.normalizeTimeTickInterval=function(t,e){var o=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=o[o.length-1];var s,a=r[e[0]],l=e[1];for(s=0;s<o.length&&(e=o[s],a=r[e[0]],l=e[1],!(o[s+1]&&t<=(a*l[l.length-1]+r[o[s+1][0]])/2));s++);return a===r.year&&t<5*a&&(l=[1,2,5]),t=i(t/a,l,"year"===e[0]?Math.max(n(t/a),1):1),{unitRange:a,count:t,unitName:e[0]}}}(e),function(t){var e=t.Axis,n=t.getMagnitude,i=t.normalizeTickInterval,r=t.pick;e.prototype.getLogTickPositions=function(t,e,o,s){var a=this.options,l=this.len,c=[];if(s||(this._minorAutoInterval=null),.5<=t)t=Math.round(t),c=this.getLinearTickPositions(t,e,o);else if(.08<=t)for(var u,d,h,p,f,l=Math.floor(e),a=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];l<o+1&&!f;l++)for(d=a.length,u=0;u<d&&!f;u++)h=this.log2lin(this.lin2log(l)*a[u]),h>e&&(!s||p<=o)&&void 0!==p&&c.push(p),p>o&&(f=!0),p=h;else e=this.lin2log(e),o=this.lin2log(o),t=s?this.getMinorTickInterval():a.tickInterval,t=r("auto"===t?null:t,this._minorAutoInterval,a.tickPixelInterval/(s?5:1)*(o-e)/((s?l/this.tickPositions.length:l)||1)),t=i(t,null,n(t)),c=this.getLinearTickPositions(t,e,o).map(this.log2lin),s||(this._minorAutoInterval=t/5);return s||(this.tickInterval=t),c},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}}(e),function(t,e){var n=t.arrayMax,i=t.arrayMin,r=t.defined,o=t.destroyObjectProperties,s=t.erase,a=t.merge,l=t.pick;t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){t.fireEvent(this,"render");var e=this,n=e.axis,i=n.horiz,o=e.options,s=o.label,c=e.label,u=o.to,d=o.from,h=o.value,p=r(d)&&r(u),f=r(h),m=e.svgElem,g=!m,v=[],b=o.color,y=l(o.zIndex,0),_=o.events,v={class:"highcharts-plot-"+(p?"band ":"line ")+(o.className||"")},w={},S=n.chart.renderer,E=p?"bands":"lines";if(n.isLog&&(d=n.log2lin(d),u=n.log2lin(u),h=n.log2lin(h)),n.chart.styledMode||(f?(v.stroke=b,v["stroke-width"]=o.width,o.dashStyle&&(v.dashstyle=o.dashStyle)):p&&(b&&(v.fill=b),o.borderWidth&&(v.stroke=o.borderColor,v["stroke-width"]=o.borderWidth))),w.zIndex=y,E+="-"+y,(b=n.plotLinesAndBandsGroups[E])||(n.plotLinesAndBandsGroups[E]=b=S.g("plot-"+E).attr(w).add()),g&&(e.svgElem=m=S.path().attr(v).add(b)),f)v=n.getPlotLinePath(h,m.strokeWidth());else{if(!p)return;v=n.getPlotBandPath(d,u,o)}return g&&v&&v.length?(m.attr({d:v}),_&&t.objectEach(_,function(t,n){m.on(n,function(t){_[n].apply(e,[t])})})):m&&(v?(m.show(),m.animate({d:v})):(m.hide(),c&&(e.label=c=c.destroy()))),s&&r(s.text)&&v&&v.length&&0<n.width&&0<n.height&&!v.isFlat?(s=a({align:i&&p&&"center",x:i?!p&&4:10,verticalAlign:!i&&p&&"middle",y:i?p?16:10:p?6:-4,rotation:i&&!p&&90},s),this.renderLabel(s,v,p,y)):c&&c.hide(),e},renderLabel:function(t,e,r,o){var s=this.label,a=this.axis.chart.renderer;s||(s={align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(r?"band":"line")+"-label "+(t.className||"")},s.zIndex=o,this.label=s=a.text(t.text,0,0,t.useHTML).attr(s).add(),this.axis.chart.styledMode||s.css(t.style)),o=e.xBounds||[e[1],e[4],r?e[6]:e[1]],e=e.yBounds||[e[2],e[5],r?e[7]:e[2]],r=i(o),a=i(e),s.align(t,!1,{x:r,y:a,width:n(o)-r,height:n(e)-a}),s.show()},destroy:function(){s(this.axis.plotLinesAndBands,this),delete this.axis,o(this)}},t.extend(e.prototype,{getPlotBandPath:function(t,e){var n,i=this.getPlotLinePath(e,null,null,!0),r=this.getPlotLinePath(t,null,null,!0),o=[],s=this.horiz,a=1;if(t=t<this.min&&e<this.min||t>this.max&&e>this.max,r&&i)for(t&&(n=r.toString()===i.toString(),a=0),t=0;t<r.length;t+=6)s&&i[t+1]===r[t+1]?(i[t+1]+=a,i[t+4]+=a):s||i[t+2]!==r[t+2]||(i[t+2]+=a,i[t+5]+=a),o.push("M",r[t+1],r[t+2],"L",r[t+4],r[t+5],i[t+4],i[t+5],i[t+1],i[t+2],"z"),o.isFlat=n;return o},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(e,n){var i=new t.PlotLineOrBand(this,e).render(),r=this.userOptions;return i&&(n&&(r[n]=r[n]||[],r[n].push(e)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,n=this.options,i=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();[n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]].forEach(function(e){for(r=e.length;r--;)e[r].id===t&&s(e,e[r])})},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}})}(e,n),function(t){var e=t.doc,n=t.extend,i=t.format,r=t.isNumber,o=t.merge,s=t.pick,a=t.splat,l=t.syncTimeout,c=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split,this.outside=e.outside&&!this.split},cleanSplit:function(t){this.chart.series.forEach(function(e){var n=e&&e.tt;n&&(!n.isActive||t?e.tt=n.destroy():n.isActive=!1)})},applyFilter:function(){var t=this.chart;t.renderer.definition({tagName:"filter",id:"drop-shadow-"+t.index,opacity:.5,children:[{tagName:"feGaussianBlur",in:"SourceAlpha",stdDeviation:1},{tagName:"feOffset",dx:1,dy:1},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",type:"linear",slope:.3}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",in:"SourceGraphic"}]}]}),t.renderer.definition({tagName:"style",textContent:".highcharts-tooltip-"+t.index+"{filter:url(#drop-shadow-"+t.index+")}"})},getLabel:function(){var e,n,i=this,r=this.chart.renderer,o=this.chart.styledMode,s=this.options;return this.label||(this.outside&&(this.container=e=t.doc.createElement("div"),e.className="highcharts-tooltip-container",t.css(e,{position:"absolute",top:"1px",pointerEvents:s.style&&s.style.pointerEvents}),t.doc.body.appendChild(e),this.renderer=r=new t.Renderer(e,0,0)),this.split?this.label=r.g("tooltip"):(this.label=r.label("",0,0,s.shape||"callout",null,null,s.useHTML,null,"tooltip").attr({padding:s.padding,r:s.borderRadius}),o||this.label.attr({fill:s.backgroundColor,"stroke-width":s.borderWidth}).css(s.style).shadow(s.shadow)),o&&(this.applyFilter(),this.label.addClass("highcharts-tooltip-"+this.chart.index)),this.outside&&(n={x:this.label.xSetter,y:this.label.ySetter},this.label.xSetter=function(t,r){n[r].call(this.label,i.distance),e.style.left=t+"px"},this.label.ySetter=function(t,r){n[r].call(this.label,i.distance),e.style.top=t+"px"}),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),o(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,o(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),t.discardElement(this.container)),t.clearTimeout(this.hideTimer),t.clearTimeout(this.tooltipTimeout)},move:function(e,i,r,o){var s=this,a=s.now,l=!1!==s.options.animation&&!s.isHidden&&(1<Math.abs(e-a.x)||1<Math.abs(i-a.y)),c=s.followPointer||1<s.len;n(a,{x:l?(2*a.x+e)/3:e,y:l?(a.y+i)/2:i,anchorX:c?void 0:l?(2*a.anchorX+r)/3:r,anchorY:c?void 0:l?(a.anchorY+o)/2:o}),s.getLabel().attr(a),l&&(t.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(e,i,r,o)},32))},hide:function(e){var n=this;t.clearTimeout(this.hideTimer),e=s(e,this.options.hideDelay,500),this.isHidden||(this.hideTimer=l(function(){n.getLabel()[e?"fadeOut":"hide"](),n.isHidden=!0},e))},getAnchor:function(t,e){var n,i,r=this.chart,o=r.pointer,s=r.inverted,l=r.plotTop,c=r.plotLeft,u=0,d=0;return t=a(t),this.followPointer&&e?(void 0===e.chartX&&(e=o.normalize(e)),t=[e.chartX-r.plotLeft,e.chartY-l]):t[0].tooltipPos?t=t[0].tooltipPos:(t.forEach(function(t){n=t.series.yAxis,i=t.series.xAxis,u+=t.plotX+(!s&&i?i.left-c:0),d+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!s&&n?n.top-l:0)}),u/=t.length,d/=t.length,t=[s?r.plotWidth-d:u,this.shared&&!s&&1<t.length&&e?e.chartY-l:s?r.plotHeight-u:d]),t.map(Math.round)},getPosition:function(t,n,i){var r,o=this.chart,a=this.distance,l={},c=o.inverted&&i.h||0,u=this.outside,d=u?e.documentElement.clientWidth-2*a:o.chartWidth,h=u?Math.max(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.documentElement.clientHeight):o.chartHeight,p=o.pointer.chartPosition,f=["y",h,n,(u?p.top-a:0)+i.plotY+o.plotTop,u?0:o.plotTop,u?h:o.plotTop+o.plotHeight],m=["x",d,t,(u?p.left-a:0)+i.plotX+o.plotLeft,u?0:o.plotLeft,u?d:o.plotLeft+o.plotWidth],g=!this.followPointer&&s(i.ttBelow,!o.inverted==!!i.negative),v=function(t,e,n,i,r,o){var s=n<i-a,u=i+a+n<e,d=i-a-n;if(i+=a,g&&u)l[t]=i;else if(!g&&s)l[t]=d;else if(s)l[t]=Math.min(o-n,0>d-c?d:d-c);else{if(!u)return!1;l[t]=Math.max(r,i+c+n>e?i:i+c)}},b=function(t,e,n,i){var r;return i<a||i>e-a?r=!1:l[t]=i<n/2?1:i>e-n/2?e-n-2:i-n/2,r},y=function(t){var e=f;f=m,m=e,r=t},_=function(){!1!==v.apply(0,f)?!1!==b.apply(0,m)||r||(y(!0),_()):r?l.x=l.y=0:(y(!0),_())};return(o.inverted||1<this.len)&&y(),_(),l},defaultFormatter:function(t){var e,n=this.points||a(this);return e=[t.tooltipFooterHeaderFormatter(n[0])],e=e.concat(t.bodyFormatter(n)),e.push(t.tooltipFooterHeaderFormatter(n[0],!0)),e},refresh:function(e,n){var i,r,o,l=this.options,c=e,u={},d=[];i=l.formatter||this.defaultFormatter;var h,u=this.shared,p=this.chart.styledMode;l.enabled&&(t.clearTimeout(this.hideTimer),this.followPointer=a(c)[0].series.tooltipOptions.followPointer,o=this.getAnchor(c,n),n=o[0],r=o[1],!u||c.series&&c.series.noSharedTooltip?u=c.getLabelConfig():(c.forEach(function(t){t.setState("hover"),d.push(t.getLabelConfig())}),u={x:c[0].category,y:c[0].y},u.points=d,c=c[0]),this.len=d.length,u=i.call(u,this),h=c.series,this.distance=s(h.tooltipOptions.distance,16),!1===u?this.hide():(i=this.getLabel(),this.isHidden&&i.attr({opacity:1}).show(),this.split?this.renderSplit(u,a(e)):(l.style.width&&!p||i.css({width:this.chart.spacingBox.width}),i.attr({text:u&&u.join?u.join(""):u}),i.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+s(c.colorIndex,h.colorIndex)),p||i.attr({stroke:l.borderColor||c.color||h.color||"#666666"}),this.updatePosition({plotX:n,plotY:r,negative:c.negative,ttBelow:c.ttBelow,h:o[2]||0})),this.isHidden=!1))},renderSplit:function(e,n){var i,r=this,o=[],a=this.chart,l=a.renderer,c=!0,u=this.options,d=0,h=this.getLabel(),p=a.plotTop;t.isString(e)&&(e=[!1,e]),e.slice(0,n.length+1).forEach(function(t,e){if(!1!==t&&""!==t){e=n[e-1]||{isHeader:!0,plotX:n[0].plotX,plotY:a.plotHeight};var f=e.series||r,m=f.tt,g=e.series||{},v="highcharts-color-"+s(e.colorIndex,g.colorIndex,"none");m||(m={padding:u.padding,r:u.borderRadius},a.styledMode||(m.fill=u.backgroundColor,m.stroke=u.borderColor||e.color||g.color||"#333333",m["stroke-width"]=u.borderWidth),f.tt=m=l.label(null,null,null,(e.isHeader?u.headerShape:u.shape)||"callout",null,null,u.useHTML).addClass("highcharts-tooltip-box "+v).attr(m).add(h)),m.isActive=!0,m.attr({text:t}),a.styledMode||m.css(u.style).shadow(u.shadow),t=m.getBBox(),g=t.width+m.strokeWidth(),e.isHeader?(d=t.height,a.xAxis[0].opposite&&(i=!0,p-=d),g=Math.max(0,Math.min(e.plotX+a.plotLeft-g/2,a.chartWidth+(a.scrollablePixels?a.scrollablePixels-a.marginRight:0)-g))):g=e.plotX+a.plotLeft-s(u.distance,16)-g,0>g&&(c=!1),t=(e.series&&e.series.yAxis&&e.series.yAxis.pos)+(e.plotY||0),t-=p,e.isHeader&&(t=i?-d:a.plotHeight+d),o.push({target:t,rank:e.isHeader?1:0,size:f.tt.getBBox().height+1,point:e,x:g,tt:m})}}),this.cleanSplit(),u.positioner&&o.forEach(function(t){var e=u.positioner.call(r,t.tt.getBBox().width,t.size,t.point);t.x=e.x,t.align=0,t.target=e.y,t.rank=s(e.rank,t.rank)}),t.distribute(o,a.plotHeight+d),o.forEach(function(t){var e=t.point,n=e.series;t.tt.attr({visibility:void 0===t.pos?"hidden":"inherit",x:c||e.isHeader||u.positioner?t.x:e.plotX+a.plotLeft+r.distance,y:t.pos+p,anchorX:e.isHeader?e.plotX+a.plotLeft:e.plotX+n.xAxis.pos,anchorY:e.isHeader?a.plotTop+a.plotHeight/2:e.plotY+n.yAxis.pos})})},updatePosition:function(t){var e=this.chart,n=this.getLabel(),i=(this.options.positioner||this.getPosition).call(this,n.width,n.height,t),r=t.plotX+e.plotLeft;t=t.plotY+e.plotTop;var o;this.outside&&(o=(this.options.borderWidth||0)+2*this.distance,this.renderer.setSize(n.width+o,n.height+o,!1),r+=e.pointer.chartPosition.left-i.x,t+=e.pointer.chartPosition.top-i.y),this.move(Math.round(i.x),Math.round(i.y||0),r,t)},getDateFormat:function(t,e,n,i){var r,o,s=this.chart.time,a=s.dateFormat("%m-%d %H:%M:%S.%L",e),l={millisecond:15,second:12,minute:9,hour:6,day:3},u="millisecond";for(o in c){if(t===c.week&&+s.dateFormat("%w",e)===n&&"00:00:00.000"===a.substr(6)){o="week";break}if(c[o]>t){o=u;break}if(l[o]&&a.substr(l[o])!=="01-01 00:00:00.000".substr(l[o]))break;"week"!==o&&(u=o)}return o&&(r=s.resolveDTLFormat(i[o]).main),r},getXDateFormat:function(t,e,n){e=e.dateTimeLabelFormats;var i=n&&n.closestPointRange;return(i?this.getDateFormat(i,t.x,n.options.startOfWeek,e):e.day)||e.year},tooltipFooterHeaderFormatter:function(e,n){var o=n?"footer":"header",s=e.series,a=s.tooltipOptions,l=a.xDateFormat,c=s.xAxis,u=c&&"datetime"===c.options.type&&r(e.key),d=a[o+"Format"];return n={isFooter:n,labelConfig:e},t.fireEvent(this,"headerFormatter",n,function(t){u&&!l&&(l=this.getXDateFormat(e,a,c)),u&&l&&(e.point&&e.point.tooltipDateKeys||["key"]).forEach(function(t){d=d.replace("{point."+t+"}","{point."+t+":"+l+"}")}),s.chart.styledMode&&(d=this.styledModeFormat(d)),t.text=i(d,{point:e,series:s},this.chart.time)}),n.text},bodyFormatter:function(t){return t.map(function(t){var e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"]||"")})},styledModeFormat:function(t){return t.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')}}}(e),function(t){var e=t.addEvent,n=t.attr,i=t.charts,r=t.color,o=t.css,s=t.defined,a=t.extend,l=t.find,c=t.fireEvent,u=t.isNumber,d=t.isObject,h=t.offset,p=t.pick,f=t.splat,m=t.Tooltip;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},m&&(t.tooltip=new m(t,e.tooltip),this.followTouchMove=p(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e=this.chart,n=e.options.chart,i=n.zoomType||"",e=e.inverted;/touch/.test(t.type)&&(i=p(n.pinchType,i)),this.zoomX=t=/x/.test(i),this.zoomY=i=/y/.test(i),this.zoomHor=t&&!e||i&&e,this.zoomVert=i&&!e||t&&e,this.hasZoom=t||i},normalize:function(t,e){var n;return n=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=h(this.chart.container)),a(t,{chartX:Math.round(n.pageX-e.left),chartY:Math.round(n.pageY-e.top)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(n){e[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(t[n.horiz?"chartX":"chartY"])})}),e},findNearestKDPoint:function(t,e,n){var i;return t.forEach(function(t){var r=!(t.noSharedTooltip&&e)&&0>t.options.findNearestPointBy.indexOf("y");if(t=t.searchPoint(n,r),(r=d(t,!0))&&!(r=!d(i,!0)))var r=i.distX-t.distX,o=i.dist-t.dist,s=(t.series.group&&t.series.group.zIndex)-(i.series.group&&i.series.group.zIndex),r=0<(0!==r&&e?r:0!==o?o:0!==s?s:i.series.index>t.series.index?-1:1);r&&(i=t)}),i},getPointFromEvent:function(t){t=t.target;for(var e;t&&!e;)e=t.point,t=t.parentNode;return e},getChartCoordinatesFromPoint:function(t,e){var n=t.series,i=n.xAxis,n=n.yAxis,r=p(t.clientX,t.plotX),o=t.shapeArgs;return i&&n?e?{chartX:i.len+i.pos-r,chartY:n.len+n.pos-t.plotY}:{chartX:r+i.pos,chartY:t.plotY+n.pos}:o&&o.x&&o.y?{chartX:o.x,chartY:o.y}:void 0},getHoverData:function(t,e,n,i,r,o){var s,a=[];i=!(!i||!t);var c=e&&!e.stickyTracking?[e]:n.filter(function(t){return t.visible&&!(!r&&t.directTouch)&&p(t.options.enableMouseTracking,!0)&&t.stickyTracking});return e=(s=i?t:this.findNearestKDPoint(c,r,o))&&s.series,s&&(r&&!e.noSharedTooltip?(c=n.filter(function(t){return t.visible&&!(!r&&t.directTouch)&&p(t.options.enableMouseTracking,!0)&&!t.noSharedTooltip}),c.forEach(function(t){var e=l(t.points,function(t){return t.x===s.x&&!t.isNull});d(e)&&(t.chart.isBoosting&&(e=t.getPoint(e)),a.push(e))})):a.push(s)),{hoverPoint:s,hoverSeries:e,hoverPoints:a}},runPointActions:function(n,r){var o,s=this.chart,a=s.tooltip&&s.tooltip.options.enabled?s.tooltip:void 0,l=!!a&&a.shared,c=r||s.hoverPoint,u=c&&c.series||s.hoverSeries,u=this.getHoverData(c,u,s.series,"touchmove"!==n.type&&(!!r||u&&u.directTouch&&this.isDirectTouch),l,n),c=u.hoverPoint;if(o=u.hoverPoints,r=(u=u.hoverSeries)&&u.tooltipOptions.followPointer,l=l&&u&&!u.noSharedTooltip,c&&(c!==s.hoverPoint||a&&a.isHidden)){if((s.hoverPoints||[]).forEach(function(t){-1===o.indexOf(t)&&t.setState()}),(o||[]).forEach(function(t){t.setState("hover")}),s.hoverSeries!==u&&u.onMouseOver(),s.hoverPoint&&s.hoverPoint.firePointEvent("mouseOut"),!c.series)return;c.firePointEvent("mouseOver"),s.hoverPoints=o,s.hoverPoint=c,a&&a.refresh(l?o:c,n)}else r&&a&&!a.isHidden&&(c=a.getAnchor([{}],n),a.updatePosition({plotX:c[0],plotY:c[1]}));this.unDocMouseMove||(this.unDocMouseMove=e(s.container.ownerDocument,"mousemove",function(e){var n=i[t.hoverChartIndex];n&&n.pointer.onDocumentMouseMove(e)})),s.axes.forEach(function(e){var i=p(e.crosshair.snap,!0),r=i?t.find(o,function(t){return t.series[e.coll]===e}):void 0;r||!i?e.drawCrosshair(n,r):e.hideCrosshair()})},reset:function(t,e){var n=this.chart,i=n.hoverSeries,r=n.hoverPoint,o=n.hoverPoints,s=n.tooltip,a=s&&s.shared?o:r;t&&a&&f(a).forEach(function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?s&&a&&f(a).length&&(s.refresh(a),s.shared&&o?o.forEach(function(t){t.setState(t.state,!0),t.series.isCartesian&&(t.series.xAxis.crosshair&&t.series.xAxis.drawCrosshair(null,t),t.series.yAxis.crosshair&&t.series.yAxis.drawCrosshair(null,t))}):r&&(r.setState(r.state,!0),n.axes.forEach(function(t){t.crosshair&&t.drawCrosshair(null,r)}))):(r&&r.onMouseOut(),o&&o.forEach(function(t){t.setState()}),i&&i.onMouseOut(),s&&s.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),n.axes.forEach(function(t){t.hideCrosshair()}),this.hoverX=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(t,e){var n,i=this.chart;i.series.forEach(function(r){n=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&r.group&&(r.group.attr(n),r.markerGroup&&(r.markerGroup.attr(n),r.markerGroup.clip(e?i.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(n))}),i.clipRect.attr(e||i.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,n=this.chart,i=n.options.chart,o=t.chartX,s=t.chartY,a=this.zoomHor,l=this.zoomVert,c=n.plotLeft,u=n.plotTop,d=n.plotWidth,h=n.plotHeight,p=this.selectionMarker,f=this.mouseDownX,m=this.mouseDownY,g=i.panKey&&t[i.panKey+"Key"];p&&p.touch||(o<c?o=c:o>c+d&&(o=c+d),s<u?s=u:s>u+h&&(s=u+h),this.hasDragged=Math.sqrt(Math.pow(f-o,2)+Math.pow(m-s,2)),10<this.hasDragged&&(e=n.isInsidePlot(f-c,m-u),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!g&&!p&&(this.selectionMarker=p=n.renderer.rect(c,u,a?1:d,l?1:h,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),n.styledMode||p.attr({fill:i.selectionMarkerFill||r("#335cad").setOpacity(.25).get()})),p&&a&&(o-=f,p.attr({width:Math.abs(o),x:(0<o?0:o)+f})),p&&l&&(o=s-m,p.attr({height:Math.abs(o),y:(0<o?0:o)+m})),e&&!p&&i.panning&&n.pan(t,i.panning)))},drop:function(t){var e=this,n=this.chart,i=this.hasPinched;if(this.selectionMarker){var r,l={originalEvent:t,xAxis:[],yAxis:[]},d=this.selectionMarker,h=d.attr?d.attr("x"):d.x,p=d.attr?d.attr("y"):d.y,f=d.attr?d.attr("width"):d.width,m=d.attr?d.attr("height"):d.height;(this.hasDragged||i)&&(n.axes.forEach(function(n){if(n.zoomEnabled&&s(n.min)&&(i||e[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var o=n.horiz,a="touchend"===t.type?n.minPixelPadding:0,c=n.toValue((o?h:p)+a),o=n.toValue((o?h+f:p+m)-a);l[n.coll].push({axis:n,min:Math.min(c,o),max:Math.max(c,o)}),r=!0}}),r&&c(n,"selection",l,function(t){n.zoom(a(t,i?{animation:!1}:null))})),u(n.index)&&(this.selectionMarker=this.selectionMarker.destroy()),i&&this.scaleGroups()}n&&u(n.index)&&(o(n.container,{cursor:n._cursor}),n.cancelClick=10<this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),2!==t.button&&(this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t))},onDocumentMouseUp:function(e){i[t.hoverChartIndex]&&i[t.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(t){var e=this.chart,n=this.chartPosition;t=this.normalize(t,n),!n||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(e){var n=i[t.hoverChartIndex];n&&(e.relatedTarget||e.toElement)&&(n.pointer.reset(),n.pointer.chartPosition=null)},onContainerMouseMove:function(e){var n=this.chart;s(t.hoverChartIndex)&&i[t.hoverChartIndex]&&i[t.hoverChartIndex].mouseIsDown||(t.hoverChartIndex=n.index),e=this.normalize(e),e.preventDefault||(e.returnValue=!1),"mousedown"===n.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!n.isInsidePlot(e.chartX-n.plotLeft,e.chartY-n.plotTop)||n.openMenu||this.runPointActions(e)},inClass:function(t,e){for(var i;t;){if(i=n(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;t=t.relatedTarget||t.toElement,this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,n=e.hoverPoint,i=e.plotLeft,r=e.plotTop;t=this.normalize(t),e.cancelClick||(n&&this.inClass(t.target,"highcharts-tracker")?(c(n.series,"click",a(t,{point:n})),e.hoverPoint&&n.firePointEvent("click",t)):(a(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-i,t.chartY-r)&&c(e,"click",t)))},setDOMEvents:function(){var n=this,i=n.chart.container,r=i.ownerDocument;i.onmousedown=function(t){n.onContainerMouseDown(t)},i.onmousemove=function(t){n.onContainerMouseMove(t)},i.onclick=function(t){n.onContainerClick(t)},this.unbindContainerMouseLeave=e(i,"mouseleave",n.onContainerMouseLeave),t.unbindDocumentMouseUp||(t.unbindDocumentMouseUp=e(r,"mouseup",n.onDocumentMouseUp)),t.hasTouch&&(i.ontouchstart=function(t){n.onContainerTouchStart(t)},i.ontouchmove=function(t){n.onContainerTouchMove(t)},t.unbindDocumentTouchEnd||(t.unbindDocumentTouchEnd=e(r,"touchend",n.onDocumentTouchEnd)))},destroy:function(){var e=this;e.unDocMouseMove&&e.unDocMouseMove(),this.unbindContainerMouseLeave(),t.chartCount||(t.unbindDocumentMouseUp&&(t.unbindDocumentMouseUp=t.unbindDocumentMouseUp()),t.unbindDocumentTouchEnd&&(t.unbindDocumentTouchEnd=t.unbindDocumentTouchEnd())),clearInterval(e.tooltipTimeout),t.objectEach(e,function(t,n){e[n]=null})}}}(e),function(t){var e=t.charts,n=t.extend,i=t.noop,r=t.pick;n(t.Pointer.prototype,{pinchTranslate:function(t,e,n,i,r,o){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,n,i,r,o),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,n,i,r,o)},pinchTranslateDirection:function(t,e,n,i,r,o,s,a){var l,c,u,d=this.chart,h=t?"x":"y",p=t?"X":"Y",f="chart"+p,m=t?"width":"height",g=d["plot"+(t?"Left":"Top")],v=a||1,b=d.inverted,y=d.bounds[t?"h":"v"],_=1===e.length,w=e[0][f],S=n[0][f],E=!_&&e[1][f],x=!_&&n[1][f];n=function(){!_&&20<Math.abs(w-E)&&(v=a||Math.abs(S-x)/Math.abs(w-E)),c=(g-S)/v+w,l=d["plot"+(t?"Width":"Height")]/v},n(),e=c,e<y.min?(e=y.min,u=!0):e+l>y.max&&(e=y.max-l,u=!0),u?(S-=.8*(S-s[h][0]),_||(x-=.8*(x-s[h][1])),n()):s[h]=[S,x],b||(o[h]=c-g,o[m]=l),o=b?1/v:v,r[m]=l,r[h]=e,i[b?t?"scaleY":"scaleX":"scale"+p]=v,i["translate"+p]=o*g+(S-o*w)},pinch:function(t){var e=this,o=e.chart,s=e.pinchDown,a=t.touches,l=a.length,c=e.lastValidTouch,u=e.hasZoom,d=e.selectionMarker,h={},p=1===l&&(e.inClass(t.target,"highcharts-tracker")&&o.runTrackerClick||e.runChartClick),f={};1<l&&(e.initiated=!0),u&&e.initiated&&!p&&t.preventDefault(),[].map.call(a,function(t){return e.normalize(t)}),"touchstart"===t.type?([].forEach.call(a,function(t,e){s[e]={chartX:t.chartX,chartY:t.chartY}}),c.x=[s[0].chartX,s[1]&&s[1].chartX],c.y=[s[0].chartY,s[1]&&s[1].chartY],o.axes.forEach(function(t){if(t.zoomEnabled){var e=o.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,i=t.toPixels(r(t.options.min,t.dataMin)),s=t.toPixels(r(t.options.max,t.dataMax)),a=Math.max(i,s);e.min=Math.min(t.pos,Math.min(i,s)-n),e.max=Math.max(t.pos+t.len,a+n)}}),e.res=!0):e.followTouchMove&&1===l?this.runPointActions(e.normalize(t)):s.length&&(d||(e.selectionMarker=d=n({destroy:i,touch:!0},o.plotBox)),e.pinchTranslate(s,a,h,d,f,c),e.hasPinched=u,e.scaleGroups(h,f),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,n){var i,o=this.chart;o.index!==t.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),t.hoverChartIndex=o.index,1===e.touches.length?(e=this.normalize(e),o.isInsidePlot(e.chartX-o.plotLeft,e.chartY-o.plotTop)&&!o.openMenu?(n&&this.runPointActions(e),"touchmove"===e.type&&(n=this.pinchDown,i=!!n[0]&&4<=Math.sqrt(Math.pow(n[0].chartX-e.chartX,2)+Math.pow(n[0].chartY-e.chartY,2))),r(i,!0)&&this.pinch(e)):n&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(n){e[t.hoverChartIndex]&&e[t.hoverChartIndex].pointer.drop(n)}})}(e),function(t){var e=t.addEvent,n=t.charts,i=t.css,r=t.doc,o=t.extend,s=t.noop,a=t.Pointer,l=t.removeEvent,c=t.win,u=t.wrap;if(!t.hasTouch&&(c.PointerEvent||c.MSPointerEvent)){var d={},h=!!c.PointerEvent,p=function(){var e=[];return e.item=function(t){return this[t]},t.objectEach(d,function(t){e.push({pageX:t.pageX,pageY:t.pageY,target:t.target})}),e},f=function(e,i,r,o){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!n[t.hoverChartIndex]||(o(e),o=n[t.hoverChartIndex].pointer,o[i]({type:r,target:e.currentTarget,preventDefault:s,touches:p()}))};o(a.prototype,{onContainerPointerDown:function(t){f(t,"onContainerTouchStart","touchstart",function(t){d[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){f(t,"onContainerTouchMove","touchmove",function(t){d[t.pointerId]={pageX:t.pageX,pageY:t.pageY},d[t.pointerId].target||(d[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){f(t,"onDocumentTouchEnd","touchend",function(t){delete d[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,h?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,h?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(r,h?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),u(a.prototype,"init",function(t,e,n){t.call(this,e,n),this.hasZoom&&i(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),u(a.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)}),u(a.prototype,"destroy",function(t){this.batchMSEvents(l),t.call(this)})}}(e),function(t){var e=t.addEvent,n=t.css,i=t.discardElement,r=t.defined,o=t.fireEvent,s=t.isFirefox,a=t.marginNames,l=t.merge,c=t.pick,u=t.setAnimation,d=t.stableSort,h=t.win,p=t.wrap;t.Legend=function(t,e){this.init(t,e)},t.Legend.prototype={init:function(t,n){this.chart=t,this.setOptions(n),n.enabled&&(this.render(),e(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=e(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},setOptions:function(t){var e=c(t.padding,8);this.options=t,this.chart.styledMode||(this.itemStyle=t.itemStyle,this.itemHiddenStyle=l(this.itemStyle,t.itemHiddenStyle)),this.itemMarginTop=t.itemMarginTop||0,this.padding=e,this.initialItemY=e-5,this.symbolWidth=c(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted},update:function(t,e){var n=this.chart;this.setOptions(l(!0,this.options,t)),this.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,c(e,!0)&&n.redraw(),o(this,"afterUpdate")},colorizeItem:function(t,e){if(t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var n=this.options,i=t.legendItem,r=t.legendLine,s=t.legendSymbol,a=this.itemHiddenStyle.color,n=e?n.itemStyle.color:a,l=e?t.color||a:a,c=t.options&&t.options.marker,u={fill:l};i&&i.css({fill:n,color:n}),r&&r.attr({stroke:l}),s&&(c&&s.isMarker&&(u=t.pointAttribs(),e||(u.stroke=u.fill=a)),s.attr(u))}o(this,"afterColorizeItem",{item:t,visible:e})},positionItems:function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},positionItem:function(t){var e=this.options,n=e.symbolPadding,e=!e.rtl,i=t._legendItemPos,o=i[0],i=i[1],s=t.checkbox;(t=t.legendGroup)&&t.element&&t[r(t.translateY)?"animate":"attr"]({translateX:e?o:this.legendWidth-o-2*n-4,translateY:i}),s&&(s.x=o,s.y=i)},destroyItem:function(t){var e=t.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach(function(e){t[e]&&(t[e]=t[e].destroy())}),e&&i(t.checkbox)},destroy:function(){function t(t){this[t]&&(this[t]=this[t].destroy())}this.getAllItems().forEach(function(e){["legendItem","legendGroup"].forEach(t,e)}),"clipRect up down pager nav box title group".split(" ").forEach(t,this),this.display=null},positionCheckboxes:function(){var t,e=this.group&&this.group.alignAttr,i=this.clipHeight||this.legendHeight,r=this.titleHeight;e&&(t=e.translateY,this.allItems.forEach(function(o){var s,a=o.checkbox;a&&(s=t+r+a.y+(this.scrollOffset||0)+3,n(a,{left:e.translateX+o.checkboxOffset+a.x-20+"px",top:s+"px",display:this.proximate||s>t-6&&s<t+i-6?"":"none"}))},this))},renderTitle:function(){var t=this.options,e=this.padding,n=t.title,i=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,e-3,e-4,null,null,null,t.useHTML,null,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(n.style),this.title.add(this.group)),n.width||this.title.css({width:this.maxLegendWidth+"px"}),t=this.title.getBBox(),i=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},setText:function(e){var n=this.options;e.legendItem.attr({text:n.labelFormat?t.format(n.labelFormat,e,this.chart.time):n.labelFormatter.call(e)})},renderItem:function(t){var e=this.chart,n=e.renderer,i=this.options,r=this.symbolWidth,o=i.symbolPadding,s=this.itemStyle,a=this.itemHiddenStyle,u="horizontal"===i.layout?c(i.itemDistance,20):0,d=!i.rtl,h=t.legendItem,p=!t.series,f=!p&&t.series.drawLegendSymbol?t.series:t,m=f.options,m=this.createCheckboxForItem&&m&&m.showCheckbox,u=r+o+u+(m?20:0),g=i.useHTML,v=t.options.className;h||(t.legendGroup=n.g("legend-item").addClass("highcharts-"+f.type+"-series highcharts-color-"+t.colorIndex+(v?" "+v:"")+(p?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=h=n.text("",d?r+o:-o,this.baseline||0,g),e.styledMode||h.css(l(t.visible?s:a)),h.attr({align:d?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(this.fontMetrics=n.fontMetrics(e.styledMode?12:s.fontSize,h),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,h.attr("y",this.baseline)),this.symbolHeight=i.symbolHeight||this.fontMetrics.f,f.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,h,g),m&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),!e.styledMode&&s.width||h.css({width:(i.itemWidth||this.widthOption||e.spacingBox.width)-u}),this.setText(t),e=h.getBBox(),t.itemWidth=t.checkboxOffset=i.itemWidth||t.legendItemWidth||e.width+u,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(t.legendItemHeight||e.height||this.symbolHeight)},layoutItem:function(t){var e=this.options,n=this.padding,i="horizontal"===e.layout,r=t.itemHeight,o=e.itemMarginBottom||0,s=this.itemMarginTop,a=i?c(e.itemDistance,20):0,l=this.maxLegendWidth,e=e.alignColumns&&this.totalItemWidth>l?this.maxItemWidth:t.itemWidth;i&&this.itemX-n+e>l&&(this.itemX=n,this.itemY+=s+this.lastLineHeight+o,this.lastLineHeight=0),this.lastItemY=s+this.itemY+o,this.lastLineHeight=Math.max(r,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],i?this.itemX+=e:(this.itemY+=s+r+o,this.lastLineHeight=r),this.offsetWidth=this.widthOption||Math.max((i?this.itemX-n-(t.checkbox?0:a):e)+n,this.offsetWidth)},getAllItems:function(){var t=[];return this.chart.series.forEach(function(e){var n=e&&e.options;e&&c(n.showInLegend,!r(n.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===n.legendType?e.data:e)))}),o(this,"afterGetAllItems",{allItems:t}),t},getAlignment:function(){var t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)},adjustMargins:function(t,e){var n=this.chart,i=this.options,o=this.getAlignment(),s=void 0!==n.options.title.margin?n.titleOffset+n.options.title.margin:0;o&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(l,u){l.test(o)&&!r(t[u])&&(n[a[u]]=Math.max(n[a[u]],n.legend[(u+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][u]*i[u%2?"x":"y"]+c(i.margin,12)+e[u]+(0===u&&(0===n.titleOffset?0:s))))})},proximatePositions:function(){var e=this.chart,n=[],i="left"===this.options.align;this.allItems.forEach(function(r){var o,s;o=i,r.xAxis&&r.points&&(r.xAxis.options.reversed&&(o=!o),o=t.find(o?r.points:r.points.slice(0).reverse(),function(e){return t.isNumber(e.plotY)}),s=r.legendGroup.getBBox().height,n.push({target:r.visible?(o?o.plotY:r.xAxis.height)-.3*s:e.plotHeight,size:s,item:r}))},this),t.distribute(n,e.plotHeight),n.forEach(function(t){t.item._legendItemPos[1]=e.plotTop-e.spacing[0]+t.pos})},render:function(){var e,n,i,r=this.chart,s=r.renderer,a=this.group,c=this.box,u=this.options,h=this.padding;this.itemX=h,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=t.relativeLength(u.width,r.spacingBox.width-h),e=r.spacingBox.width-2*h-u.x,-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(e/=2),this.maxLegendWidth=this.widthOption||e,a||(this.group=a=s.g("legend").attr({zIndex:7}).add(),this.contentGroup=s.g().attr({zIndex:1}).add(a),this.scrollGroup=s.g().add(this.contentGroup)),this.renderTitle(),e=this.getAllItems(),d(e,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),u.reversed&&e.reverse(),this.allItems=e,this.display=n=!!e.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,e.forEach(this.renderItem,this),e.forEach(this.layoutItem,this),e=(this.widthOption||this.offsetWidth)+h,i=this.lastItemY+this.lastLineHeight+this.titleHeight,i=this.handleOverflow(i),i+=h,c||(this.box=c=s.rect().addClass("highcharts-legend-box").attr({r:u.borderRadius}).add(a),c.isNew=!0),r.styledMode||c.attr({stroke:u.borderColor,"stroke-width":u.borderWidth||0,fill:u.backgroundColor||"none"}).shadow(u.shadow),0<e&&0<i&&(c[c.isNew?"attr":"animate"](c.crisp.call({},{x:0,y:0,width:e,height:i},c.strokeWidth())),c.isNew=!1),c[n?"show":"hide"](),r.styledMode&&"none"===a.getStyle("display")&&(e=i=0),this.legendWidth=e,this.legendHeight=i,n&&(s=r.spacingBox,/(lth|ct|rth)/.test(this.getAlignment())&&(c=s.y+r.titleOffset,s=l(s,{y:0<r.titleOffset?c+=r.options.title.margin:c})),a.align(l(u,{width:e,height:i,verticalAlign:this.proximate?"top":u.verticalAlign}),!0,s)),this.proximate||this.positionItems(),o(this,"afterRender")},handleOverflow:function(t){var e,n,i=this,r=this.chart,o=r.renderer,s=this.options,a=s.y,l=this.padding,a=r.spacingBox.height+("top"===s.verticalAlign?-a:a)-l,u=s.maxHeight,d=this.clipRect,h=s.navigation,p=c(h.animation,!0),f=h.arrowSize||12,m=this.nav,g=this.pages,v=this.allItems,b=function(t){"number"==typeof t?d.attr({height:t}):d&&(i.clipRect=d.destroy(),i.contentGroup.clip()),i.contentGroup.div&&(i.contentGroup.div.style.clip=t?"rect("+l+"px,9999px,"+(l+t)+"px,0)":"auto")};return"horizontal"!==s.layout||"middle"===s.verticalAlign||s.floating||(a/=2),u&&(a=Math.min(a,u)),g.length=0,t>a&&!1!==h.enabled?(this.clipHeight=e=Math.max(a-20-this.titleHeight-l,0),this.currentPage=c(this.currentPage,1),this.fullHeight=t,v.forEach(function(t,i){var r=t._legendItemPos[1],o=Math.round(t.legendItem.getBBox().height),s=g.length;(!s||r-g[s-1]>e&&(n||r)!==g[s-1])&&(g.push(n||r),s++),t.pageIx=s-1,n&&(v[i-1].pageIx=s-1),i===v.length-1&&r+o-g[s-1]>e&&r!==n&&(g.push(r),t.pageIx=s),r!==n&&(n=r)}),d||(d=i.clipRect=o.clipRect(0,l,9999,0),i.contentGroup.clip(d)),b(e),m||(this.nav=m=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,f,f).on("click",function(){i.scroll(-1,p)}).add(m),this.pager=o.text("",15,10).addClass("highcharts-legend-navigation"),r.styledMode||this.pager.css(h.style),this.pager.add(m),this.down=o.symbol("triangle-down",0,0,f,f).on("click",function(){i.scroll(1,p)}).add(m)),i.scroll(0),t=a):m&&(b(),this.nav=m.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var n=this.pages,i=n.length;t=this.currentPage+t;var r=this.clipHeight,o=this.options.navigation,s=this.pager,a=this.padding;t>i&&(t=i),0<t&&(void 0!==e&&u(e,this.chart),this.nav.attr({translateX:a,translateY:r+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({class:1===t?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),s.attr({text:t+"/"+i}),this.down.attr({x:18+this.pager.getBBox().width,class:t===i?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.chart.styledMode||(this.up.attr({fill:1===t?o.inactiveColor:o.activeColor}).css({cursor:1===t?"default":"pointer"}),this.down.attr({fill:t===i?o.inactiveColor:o.activeColor}).css({cursor:t===i?"default":"pointer"})),this.scrollOffset=-n[t-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=t,this.positionCheckboxes())}},t.LegendSymbolMixin={drawRectangle:function(t,e){var n=t.symbolHeight,i=t.options.squareSymbol;e.legendSymbol=this.chart.renderer.rect(i?(t.symbolWidth-n)/2:0,t.baseline-n+1,i?n:t.symbolWidth,n,c(t.options.symbolRadius,n/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e=this.options,n=e.marker,i=t.symbolWidth,r=t.symbolHeight,o=r/2,s=this.chart.renderer,a=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b);var u={};this.chart.styledMode||(u={"stroke-width":e.lineWidth||0},e.dashStyle&&(u.dashstyle=e.dashStyle)),this.legendLine=s.path(["M",0,t,"L",i,t]).addClass("highcharts-graph").attr(u).add(a),n&&!1!==n.enabled&&i&&(e=Math.min(c(n.radius,o),o),0===this.symbol.indexOf("url")&&(n=l(n,{width:r,height:r}),e=0),this.legendSymbol=n=s.symbol(this.symbol,i/2-e,t-e,2*e,2*e,n).addClass("highcharts-point").add(a),n.isMarker=!0)}},(/Trident\/7\.0/.test(h.navigator&&h.navigator.userAgent)||s)&&p(t.Legend.prototype,"positionItem",function(t,e){var n=this,i=function(){e._legendItemPos&&t.call(n,e)};i(),n.bubbleLegend||setTimeout(i)})}(e),function(t){var e=t.addEvent,n=t.animate,i=t.animObject,r=t.attr,o=t.doc,s=t.Axis,a=t.createElement,l=t.defaultOptions,c=t.discardElement,u=t.charts,d=t.css,h=t.defined,p=t.extend,f=t.find,m=t.fireEvent,g=t.isNumber,v=t.isObject,b=t.isString,y=t.Legend,_=t.marginNames,w=t.merge,S=t.objectEach,E=t.Pointer,x=t.pick,C=t.pInt,T=t.removeEvent,k=t.seriesTypes,O=t.splat,P=t.syncTimeout,I=t.win,A=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,n){return new A(t,e,n)},p(A.prototype,{callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(b(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(n,i){var r,o,s=n.series,a=n.plotOptions||{};m(this,"init",{args:arguments},function(){n.series=null,r=w(l,n);for(o in r.plotOptions)r.plotOptions[o].tooltip=a[o]&&w(a[o].tooltip)||void 0;r.tooltip.userOptions=n.chart&&n.chart.forExport&&n.tooltip.userOptions||n.tooltip,r.series=n.series=s,this.userOptions=n;var c=r.chart,d=c.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=i,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.time=n.time&&Object.keys(n.time).length?new t.Time(n.time):t.time,this.styledMode=c.styledMode,this.hasCartesianSeries=c.showAxes;var h=this;h.index=u.length,u.push(h),t.chartCount++,d&&S(d,function(t,n){e(h,n,t)}),h.xAxis=[],h.yAxis=[],h.pointCount=h.colorCounter=h.symbolCounter=0,m(h,"afterInit"),h.firstRender()})},initSeries:function(e){var n=this.options.chart;return(n=k[e.type||n.type||n.defaultSeriesType])||t.error(17,!0,this),n=new n,n.init(this,e),n},orderSeries:function(t){var e=this.series;for(t=t||0;t<e.length;t++)e[t]&&(e[t].index=t,e[t].name=e[t].getName())},isInsidePlot:function(t,e,n){var i=n?e:t;return t=n?t:e,0<=i&&i<=this.plotWidth&&0<=t&&t<=this.plotHeight},redraw:function(e){m(this,"beforeRedraw");var n,i,r,o=this.axes,s=this.series,a=this.pointer,l=this.legend,c=this.userOptions.legend,u=this.isDirtyLegend,d=this.hasCartesianSeries,h=this.isDirtyBox,f=this.renderer,g=f.isHidden(),v=[];for(this.setResponsive&&this.setResponsive(!1),t.setAnimation(e,this),g&&this.temporaryDisplay(),this.layOutTitles(),e=s.length;e--;)if(r=s[e],r.options.stacking&&(n=!0,r.isDirty)){i=!0;break}if(i)for(e=s.length;e--;)r=s[e],r.options.stacking&&(r.isDirty=!0);s.forEach(function(t){t.isDirty&&("point"===t.options.legendType?(t.updateTotals&&t.updateTotals(),u=!0):c&&(c.labelFormatter||c.labelFormat)&&(u=!0)),t.isDirtyData&&m(t,"updatedData")}),u&&l&&l.options.enabled&&(l.render(),this.isDirtyLegend=!1),n&&this.getStacks(),d&&o.forEach(function(t){t.updateNames(),t.setScale()}),this.getMargins(),d&&(o.forEach(function(t){t.isDirty&&(h=!0)}),o.forEach(function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,v.push(function(){m(t,"afterSetExtremes",p(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(h||n)&&t.redraw()})),h&&this.drawChartBox(),m(this,"predraw"),s.forEach(function(t){(h||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1}),a&&a.reset(!0),f.draw(),m(this,"redraw"),m(this,"render"),g&&this.temporaryDisplay(!0),v.forEach(function(t){t.call()})},get:function(t){function e(e){return e.id===t||e.options&&e.options.id===t}var n,i,r=this.series;for(n=f(this.axes,e)||f(this.series,e),i=0;!n&&i<r.length;i++)n=f(r[i].points||[],e);return n},getAxes:function(){var t=this,e=this.options,n=e.xAxis=O(e.xAxis||{}),e=e.yAxis=O(e.yAxis||{});m(this,"getAxes"),n.forEach(function(t,e){t.index=e,t.isX=!0}),e.forEach(function(t,e){t.index=e}),n.concat(e).forEach(function(e){new s(t,e)}),m(this,"afterGetAxes")},getSelectedPoints:function(){var t=[];return this.series.forEach(function(e){t=t.concat((e[e.hasGroupedData?"points":"data"]||[]).filter(function(t){return t.selected}))}),t},getSelectedSeries:function(){return this.series.filter(function(t){return t.selected})},setTitle:function(t,e,n){var i,r=this,o=r.options,s=r.styledMode;i=o.title=w(!s&&{style:{color:"#333333",fontSize:o.isStock?"16px":"18px"}},o.title,t),o=o.subtitle=w(!s&&{style:{color:"#666666"}},o.subtitle,e),[["title",t,i],["subtitle",e,o]].forEach(function(t,e){var n=t[0],i=r[n],o=t[1];t=t[2],i&&o&&(r[n]=i=i.destroy()),t&&!i&&(r[n]=r.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,class:"highcharts-"+n,zIndex:t.zIndex||4}).add(),r[n].update=function(t){r.setTitle(!e&&t,e&&t)},s||r[n].css(t.style))}),r.layOutTitles(n)},layOutTitles:function(t){var e,n=0,i=this.renderer,r=this.spacingBox;["title","subtitle"].forEach(function(t){var e=this[t],o=this.options[t];t="title"===t?-3:o.verticalAlign?0:n+2;var s;e&&(this.styledMode||(s=o.style.fontSize),s=i.fontMetrics(s,e).b,e.css({width:(o.width||r.width+o.widthAdjust)+"px"}).align(p({y:t+s},o),!1,"spacingBox"),o.floating||o.verticalAlign||(n=Math.ceil(n+e.getBBox(o.useHTML).height)))},this),e=this.titleOffset!==n,this.titleOffset=n,!this.isDirtyBox&&e&&(this.isDirtyBox=this.isDirtyLegend=e,this.hasRendered&&x(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,n=e.width,e=e.height,i=this.renderTo;h(n)||(this.containerWidth=t.getStyle(i,"width")),h(e)||(this.containerHeight=t.getStyle(i,"height")),this.chartWidth=Math.max(0,n||this.containerWidth||600),this.chartHeight=Math.max(0,t.relativeLength(e,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(e){var n=this.renderTo;if(e)for(;n&&n.style;)n.hcOrigStyle&&(t.css(n,n.hcOrigStyle),delete n.hcOrigStyle),n.hcOrigDetached&&(o.body.removeChild(n),n.hcOrigDetached=!1),n=n.parentNode;else for(;n&&n.style&&(o.body.contains(n)||n.parentNode||(n.hcOrigDetached=!0,o.body.appendChild(n)),("none"===t.getStyle(n,"display",!1)||n.hcOricDetached)&&(n.hcOrigStyle={display:n.style.display,height:n.style.height,overflow:n.style.overflow},e={display:"block",overflow:"hidden"},n!==this.renderTo&&(e.height=0),t.css(n,e),n.offsetWidth||n.style.setProperty("display","block","important")),(n=n.parentNode)!==o.body););},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,n,i,s=this.options,l=s.chart;e=this.renderTo;var c,h,f=t.uniqueKey();if(e||(this.renderTo=e=l.renderTo),b(e)&&(this.renderTo=e=o.getElementById(e)),e||t.error(13,!0,this),n=C(r(e,"data-highcharts-chart")),g(n)&&u[n]&&u[n].hasRendered&&u[n].destroy(),r(e,"data-highcharts-chart",this.index),e.innerHTML="",l.skipClone||e.offsetWidth||this.temporaryDisplay(),this.getChartSize(),n=this.chartWidth,i=this.chartHeight,d(e,{overflow:"hidden"}),this.styledMode||(c=p({position:"relative",overflow:"hidden",width:n+"px",height:i+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},l.style)),this.container=e=a("div",{id:f},c,e),this._cursor=e.style.cursor,this.renderer=new(t[l.renderer]||t.Renderer)(e,n,i,null,l.forExport,s.exporting&&s.exporting.allowHTML,this.styledMode),this.setClassName(l.className),this.styledMode)for(h in s.defs)this.renderer.definition(s.defs[h]);else this.renderer.setStyle(l.style);this.renderer.chartIndex=this.index,m(this,"afterGetContainer")},getMargins:function(t){var e=this.spacing,n=this.margin,i=this.titleOffset;this.resetMargins(),i&&!h(n[0])&&(this.plotTop=Math.max(this.plotTop,i+this.options.title.margin+e[0])),this.legend&&this.legend.display&&this.legend.adjustMargins(n,e),m(this,"getMargins"),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],n=t.margin;t.hasCartesianSeries&&t.axes.forEach(function(t){t.visible&&t.getOffset()}),_.forEach(function(i,r){h(n[r])||(t[i]+=e[r])}),t.setChartSize()},reflow:function(e){var n=this,i=n.options.chart,r=n.renderTo,s=h(i.width)&&h(i.height),a=i.width||t.getStyle(r,"width"),i=i.height||t.getStyle(r,"height"),r=e?e.target:I;s||n.isPrinting||!a||!i||r!==I&&r!==o||(a===n.containerWidth&&i===n.containerHeight||(t.clearTimeout(n.reflowTimeout),n.reflowTimeout=P(function(){n.container&&n.setSize(void 0,void 0,!1)},e?100:0)),n.containerWidth=a,n.containerHeight=i)},setReflow:function(t){var n=this;!1===t||this.unbindReflow?!1===t&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=e(I,"resize",function(t){n.reflow(t)}),e(this,"destroy",this.unbindReflow))},setSize:function(e,r,o){var s,a=this,l=a.renderer;a.isResizing+=1,t.setAnimation(o,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,void 0!==e&&(a.options.chart.width=e),void 0!==r&&(a.options.chart.height=r),a.getChartSize(),a.styledMode||(s=l.globalAnimation,(s?n:d)(a.container,{width:a.chartWidth+"px",height:a.chartHeight+"px"},s)),a.setChartSize(!0),l.setSize(a.chartWidth,a.chartHeight,o),a.axes.forEach(function(t){t.isDirty=!0,t.setScale()}),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.layOutTitles(),a.getMargins(),a.redraw(o),a.oldChartHeight=null,m(a,"resize"),P(function(){a&&m(a,"endResize",null,function(){--a.isResizing})},i(s).duration)},setChartSize:function(t){var e,n,i,r,o=this.inverted,s=this.renderer,a=this.chartWidth,l=this.chartHeight,c=this.options.chart,u=this.spacing,d=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=n=Math.round(this.plotTop),this.plotWidth=i=Math.max(0,Math.round(a-e-this.marginRight)),this.plotHeight=r=Math.max(0,Math.round(l-n-this.marginBottom)),this.plotSizeX=o?r:i,this.plotSizeY=o?i:r,this.plotBorderWidth=c.plotBorderWidth||0,this.spacingBox=s.spacingBox={x:u[3],y:u[0],width:a-u[3]-u[1],height:l-u[0]-u[2]},this.plotBox=s.plotBox={x:e,y:n,width:i,height:r},a=2*Math.floor(this.plotBorderWidth/2),o=Math.ceil(Math.max(a,d[3])/2),s=Math.ceil(Math.max(a,d[0])/2),this.clipBox={x:o,y:s,width:Math.floor(this.plotSizeX-Math.max(a,d[1])/2-o),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(a,d[2])/2-s))},t||this.axes.forEach(function(t){t.setAxisSize(),t.setAxisTranslation()}),m(this,"afterSetChartSize",{skipAxes:t})},resetMargins:function(){m(this,"resetMargins");var t=this,e=t.options.chart;["margin","spacing"].forEach(function(n){var i=e[n],r=v(i)?i:[i,i,i,i];["Top","Right","Bottom","Left"].forEach(function(i,o){t[n][o]=x(e[n+i],r[o])})}),_.forEach(function(e,n){t[e]=x(t.margin[n],t.spacing[n])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,n=this.options.chart,i=this.renderer,r=this.chartWidth,o=this.chartHeight,s=this.chartBackground,a=this.plotBackground,l=this.plotBorder,c=this.styledMode,u=this.plotBGImage,d=n.backgroundColor,h=n.plotBackgroundColor,p=n.plotBackgroundImage,f=this.plotLeft,g=this.plotTop,v=this.plotWidth,b=this.plotHeight,y=this.plotBox,_=this.clipRect,w=this.clipBox,S="animate";s||(this.chartBackground=s=i.rect().addClass("highcharts-background").add(),S="attr"),c?t=e=s.strokeWidth():(t=n.borderWidth||0,e=t+(n.shadow?8:0),d={fill:d||"none"},(t||s["stroke-width"])&&(d.stroke=n.borderColor,d["stroke-width"]=t),s.attr(d).shadow(n.shadow)),s[S]({x:e/2,y:e/2,width:r-e-t%2,height:o-e-t%2,r:n.borderRadius}),S="animate",a||(S="attr",this.plotBackground=a=i.rect().addClass("highcharts-plot-background").add()),a[S](y),c||(a.attr({fill:h||"none"}).shadow(n.plotShadow),p&&(u?u.animate(y):this.plotBGImage=i.image(p,f,g,v,b).add())),_?_.animate({width:w.width,height:w.height}):this.clipRect=i.clipRect(w),S="animate",l||(S="attr",this.plotBorder=l=i.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),c||l.attr({stroke:n.plotBorderColor,"stroke-width":n.plotBorderWidth||0,fill:"none"}),l[S](l.crisp({x:f,y:g,width:v,height:b},-l.strokeWidth())),this.isDirtyBox=!1,m(this,"afterDrawChartBox")},propFromSeries:function(){var t,e,n,i=this,r=i.options.chart,o=i.options.series;["inverted","angular","polar"].forEach(function(s){for(t=k[r.type||r.defaultSeriesType],n=r[s]||t&&t.prototype[s],e=o&&o.length;!n&&e--;)(t=k[o[e].type])&&t.prototype[s]&&(n=!0);i[s]=n})},linkSeries:function(){var t=this,e=t.series;e.forEach(function(t){t.linkedSeries.length=0}),e.forEach(function(e){var n=e.options.linkedTo;b(n)&&(n=":previous"===n?t.series[e.index-1]:t.get(n))&&n.linkedParent!==e&&(n.linkedSeries.push(e),e.linkedParent=n,e.visible=x(e.options.visible,n.options.visible,e.visible))}),m(this,"afterLinkSeries")},renderSeries:function(){this.series.forEach(function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&e.items.forEach(function(n){var i=p(e.style,n.style),r=C(i.left)+t.plotLeft,o=C(i.top)+t.plotTop+12;delete i.left,delete i.top,t.renderer.text(n.html,r,o).attr({zIndex:2}).css(i).add()})},render:function(){var t,e,n,i=this.axes,r=this.renderer,o=this.options,s=0;this.setTitle(),this.legend=new y(this,o.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),o=this.plotWidth,i.some(function(t){if(t.horiz&&t.visible&&t.options.labels.enabled&&t.series.length)return s=21,!0}),t=this.plotHeight=Math.max(this.plotHeight-s,0),i.forEach(function(t){t.setScale()}),this.getAxisMargins(),e=1.1<o/this.plotWidth,n=1.05<t/this.plotHeight,(e||n)&&(i.forEach(function(t){(t.horiz&&e||!t.horiz&&n)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&i.forEach(function(t){t.visible&&t.render()}),this.seriesGroup||(this.seriesGroup=r.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(t){var e=this;t=w(!0,this.options.credits,t),t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){t.href&&(I.location.href=t.href)}).attr({align:t.position.align,zIndex:8}),e.styledMode||this.credits.css(t.style),this.credits.add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var e,n=this,i=n.axes,r=n.series,o=n.container,s=o&&o.parentNode;for(m(n,"destroy"),n.renderer.forExport?t.erase(u,n):u[n.index]=void 0,t.chartCount--,n.renderTo.removeAttribute("data-highcharts-chart"),T(n),e=i.length;e--;)i[e]=i[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=r.length;e--;)r[e]=r[e].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(t){var e=n[t];e&&e.destroy&&(n[t]=e.destroy())}),o&&(o.innerHTML="",T(o),s&&c(o)),S(n,function(t,e){delete n[e]})},firstRender:function(){var e=this,n=e.options;e.isReadyToRender&&!e.isReadyToRender()||(e.getContainer(),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),(t.isArray(n.series)?n.series:[]).forEach(function(t){e.initSeries(t)}),e.linkSeries(),m(e,"beforeRender"),E&&(e.pointer=new E(e,n)),e.render(),!e.renderer.imgCount&&e.onload&&e.onload(),e.temporaryDisplay(!0))},onload:function(){[this.callback].concat(this.callbacks).forEach(function(t){t&&void 0!==this.index&&t.apply(this,[this])},this),m(this,"load"),m(this,"render"),h(this.index)&&this.setReflow(this.options.chart.reflow),this.onload=null}})}(e),function(t){var e=t.addEvent,n=t.Chart;e(n,"afterSetChartSize",function(e){var n=this.options.chart.scrollablePlotArea;(n=n&&n.minWidth)&&!this.renderer.forExport&&(this.scrollablePixels=n=Math.max(0,n-this.chartWidth))&&(this.plotWidth+=n,this.clipBox.width+=n,e.skipAxes||this.axes.forEach(function(e){1===e.side?e.getPlotLinePath=function(){var n,i=this.right;return this.right=i-e.chart.scrollablePixels,n=t.Axis.prototype.getPlotLinePath.apply(this,arguments),this.right=i,n}:(e.setAxisSize(),e.setAxisTranslation())}))}),e(n,"render",function(){this.scrollablePixels?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),n.prototype.setUpScrolling=function(){this.scrollingContainer=t.createElement("div",{className:"highcharts-scrolling"},{overflowX:"auto",WebkitOverflowScrolling:"touch"},this.renderTo),this.innerContainer=t.createElement("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},n.prototype.applyFixed=function(){var e,n,i=this.container,r=!this.fixedDiv;r&&(this.fixedDiv=t.createElement("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:2},null,!0),this.renderTo.insertBefore(this.fixedDiv,this.renderTo.firstChild),this.renderTo.style.overflow="visible",this.fixedRenderer=e=new t.Renderer(this.fixedDiv,0,0),this.scrollableMask=e.path().attr({fill:t.color(this.options.chart.backgroundColor||"#fff").setOpacity(.85).get(),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),[this.inverted?".highcharts-xaxis":".highcharts-yaxis",this.inverted?".highcharts-xaxis-labels":".highcharts-yaxis-labels",".highcharts-contextbutton",".highcharts-credits",".highcharts-legend",".highcharts-subtitle",".highcharts-title",".highcharts-legend-checkbox"].forEach(function(t){[].forEach.call(i.querySelectorAll(t),function(t){(t.namespaceURI===e.SVG_NS?e.box:e.box.parentNode).appendChild(t),t.style.pointerEvents="auto"})})),this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),n=this.chartWidth+this.scrollablePixels,t.stop(this.container),this.container.style.width=n+"px",this.renderer.boxWrapper.attr({width:n,height:this.chartHeight,viewBox:[0,0,n,this.chartHeight].join(" ")}),this.chartBackground.attr({width:n}),r&&(n=this.options.chart.scrollablePlotArea,n.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixels*n.scrollPositionX)),r=this.axisOffset,n=this.plotTop-r[0]-1;var r=this.plotTop+this.plotHeight+r[2],o=this.plotLeft+this.plotWidth-this.scrollablePixels;this.scrollableMask.attr({d:this.scrollablePixels?["M",0,n,"L",this.plotLeft-1,n,"L",this.plotLeft-1,r,"L",0,r,"Z","M",o,n,"L",this.chartWidth,n,"L",this.chartWidth,r,"L",o,r,"Z"]:["M",0,0]})}}(e),function(t){var e,n=t.extend,i=t.erase,r=t.fireEvent,o=t.format,s=t.isArray,a=t.isNumber,l=t.pick,c=t.uniqueKey,u=t.defined,d=t.removeEvent;t.Point=e=function(){},t.Point.prototype={init:function(t,e,n){var i;i=t.chart.options.chart.colorCount;var o=t.chart.styledMode;return this.series=t,o||(this.color=t.color),this.applyOptions(e,n),this.id=u(this.id)?this.id:c(),t.options.colorByPoint?(o||(i=t.options.colors||t.chart.options.colors,this.color=this.color||i[t.colorCounter],i=i.length),e=t.colorCounter,++t.colorCounter===i&&(t.colorCounter=0)):e=t.colorIndex,this.colorIndex=l(this.colorIndex,e),t.chart.pointCount++,r(this,"afterInit"),this},applyOptions:function(t,i){var r=this.series,o=r.options.pointValKey||r.pointValKey;return t=e.prototype.optionsToObject.call(this,t),n(this,t),this.options=this.options?n(this.options,t):t,t.group&&delete this.group,t.dataLabels&&delete this.dataLabels,o&&(this.y=this[o]),this.isNull=l(this.isValid&&!this.isValid(),null===this.x||!a(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===i&&r.xAxis&&r.xAxis.hasNames&&(this.x=r.xAxis.nameToX(this)),void 0===this.x&&r&&(this.x=void 0===i?r.autoIncrement(this):i),this},setNestedProperty:function(e,n,i){return i.split(".").reduce(function(e,i,r,o){return e[i]=o.length-1===r?n:t.isObject(e[i],!0)?e[i]:{},e[i]},e),e},optionsToObject:function(e){var n={},i=this.series,r=i.options.keys,o=r||i.pointArrayMap||["y"],l=o.length,c=0,u=0;if(a(e)||null===e)n[o[0]]=e;else if(s(e))for(!r&&e.length>l&&(i=typeof e[0],"string"===i?n.name=e[0]:"number"===i&&(n.x=e[0]),c++);u<l;)r&&void 0===e[c]||(0<o[u].indexOf(".")?t.Point.prototype.setNestedProperty(n,e[c],o[u]):n[o[u]]=e[c]),c++,u++;else"object"==typeof e&&(n=e,e.dataLabels&&(i._hasPointLabels=!0),e.marker&&(i._hasPointMarkers=!0));return n},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var t,e=this.series,n=e.zones,e=e.zoneAxis||"y",i=0;for(t=n[i];this[e]>=t.value;)t=n[++i];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=t&&t.color&&!this.options.color?t.color:this.nonZonedColor,t},destroy:function(){var t,e=this.series.chart,n=e.hoverPoints;e.pointCount--,n&&(this.setState(),i(n,this),n.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel||this.dataLabels)&&(d(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this);for(t in this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],n=6;n--;)t=e[n],this[t]&&(this[t]=this[t].destroy());this.dataLabels&&(this.dataLabels.forEach(function(t){t.element&&t.destroy()}),delete this.dataLabels),this.connectors&&(this.connectors.forEach(function(t){t.element&&t.destroy()}),delete this.connectors)},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,n=e.tooltipOptions,i=l(n.valueDecimals,""),r=n.valuePrefix||"",s=n.valueSuffix||"";return e.chart.styledMode&&(t=e.chart.tooltip.styledModeFormat(t)),(e.pointArrayMap||["y"]).forEach(function(e){e="{point."+e,(r||s)&&(t=t.replace(RegExp(e+"}","g"),r+e+"}"+s)),t=t.replace(RegExp(e+"}","g"),e+":,."+i+"f}")}),o(t,{point:this,series:this.series},e.chart.time)},firePointEvent:function(t,e,n){var i=this,o=this.series.options;(o.point.events[t]||i.options&&i.options.events&&i.options.events[t])&&this.importEvents(),"click"===t&&o.allowPointSelect&&(n=function(t){i.select&&i.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),r(this,t,e,n)},visible:!0}}(e),function(t){var e=t.addEvent,n=t.animObject,i=t.arrayMax,r=t.arrayMin,o=t.correctFloat,s=t.defaultOptions,a=t.defaultPlotOptions,l=t.defined,c=t.erase,u=t.extend,d=t.fireEvent,h=t.isArray,p=t.isNumber,f=t.isString,m=t.merge,g=t.objectEach,v=t.pick,b=t.removeEvent,y=t.splat,_=t.SVGElement,w=t.syncTimeout,S=t.win;t.Series=t.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",enabledThreshold:2,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":t.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:t.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",cropShoulder:1,init:function(t,n){d(this,"init",{options:n});var i,r,o=this,s=t.series;o.chart=t,o.options=n=o.setOptions(n),o.linkedSeries=[],o.bindAxes(),u(o,{name:n.name,state:"",visible:!1!==n.visible,selected:!0===n.selected}),i=n.events,g(i,function(t,n){o.hcEvents&&o.hcEvents[n]&&-1!==o.hcEvents[n].indexOf(t)||e(o,n,t)}),(i&&i.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)&&(t.runTrackerClick=!0),o.getColor(),o.getSymbol(),o.parallelArrays.forEach(function(t){o[t+"Data"]=[]}),o.setData(n.data,!1),o.isCartesian&&(t.hasCartesianSeries=!0),s.length&&(r=s[s.length-1]),o._i=v(r&&r._i,-1)+1,t.orderSeries(this.insert(s)),d(this,"afterInit")},insert:function(t){var e,n=this.options.index;if(p(n)){for(e=t.length;e--;)if(n>=v(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return v(e,t.length-1)},bindAxes:function(){var e,n=this,i=n.options,r=n.chart;d(this,"bindAxes",null,function(){(n.axisTypes||[]).forEach(function(o){r[o].forEach(function(t){e=t.options,(i[o]===e.index||void 0!==i[o]&&i[o]===e.id||void 0===i[o]&&0===e.index)&&(n.insert(t.series),n[o]=t,t.isDirty=!0)}),n[o]||n.optionalAxis===o||t.error(18,!0,r)})})},updateParallelArrays:function(t,e){var n=t.series,i=arguments,r=p(e)?function(i){var r="y"===i&&n.toYData?n.toYData(t):t[i];n[i+"Data"][e]=r}:function(t){Array.prototype[e].apply(n[t+"Data"],Array.prototype.slice.call(i,2))};n.parallelArrays.forEach(r)},autoIncrement:function(){var t,e=this.options,n=this.xIncrement,i=e.pointIntervalUnit,r=this.chart.time,n=v(n,e.pointStart,0);return this.pointInterval=t=v(this.pointInterval,e.pointInterval,1),i&&(e=new r.Date(n),"day"===i?r.set("Date",e,r.get("Date",e)+t):"month"===i?r.set("Month",e,r.get("Month",e)+t):"year"===i&&r.set("FullYear",e,r.get("FullYear",e)+t),t=e.getTime()-n),this.xIncrement=n+t,n},setOptions:function(t){var e=this.chart,n=e.options,i=n.plotOptions,r=(e.userOptions||{}).plotOptions||{},o=i[this.type],a=m(t);return t=e.styledMode,d(this,"setOptions",{userOptions:a}),this.userOptions=a,e=m(o,i.series,a),this.tooltipOptions=m(s.tooltip,s.plotOptions.series&&s.plotOptions.series.tooltip,s.plotOptions[this.type].tooltip,n.tooltip.userOptions,i.series&&i.series.tooltip,i[this.type].tooltip,a.tooltip),this.stickyTracking=v(a.stickyTracking,r[this.type]&&r[this.type].stickyTracking,r.series&&r.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||e.stickyTracking),null===o.marker&&delete e.marker,this.zoneAxis=e.zoneAxis,n=this.zones=(e.zones||[]).slice(),!e.negativeColor&&!e.negativeFillColor||e.zones||(i={value:e[this.zoneAxis+"Threshold"]||e.threshold||0,className:"highcharts-negative"},t||(i.color=e.negativeColor,i.fillColor=e.negativeFillColor),n.push(i)),n.length&&l(n[n.length-1].value)&&n.push(t?{}:{color:this.color,fillColor:this.fillColor}),d(this,"afterSetOptions",{options:e}),e},getName:function(){return v(this.options.name,"Series "+(this.index+1))},getCyclic:function(t,e,n){var i,r=this.chart,o=this.userOptions,s=t+"Index",a=t+"Counter",c=n?n.length:v(r.options.chart[t+"Count"],r[t+"Count"]);e||(i=v(o[s],o["_"+s]),l(i)||(r.series.length||(r[a]=0),o["_"+s]=i=r[a]%c,r[a]+=1),n&&(e=n[i])),void 0!==i&&(this[s]=i),this[t]=e},getColor:function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||a[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:t.LegendSymbolMixin.drawLineMarker,updateData:function(e){var n,i,r,o=this.options,s=this.points,a=[],l=this.requireSorting;if(this.xIncrement=null,e.forEach(function(e){var i,c,u;i=t.defined(e)&&this.pointClass.prototype.optionsToObject.call({series:this},e)||{},u=i.x,((i=i.id)||p(u))&&(i&&(c=(c=this.chart.get(i))&&c.index),void 0===c&&p(u)&&(c=this.xData.indexOf(u,r)),-1!==c&&void 0!==c&&this.cropped&&(c=c>=this.cropStart?c-this.cropStart:c),-1===c||void 0===c||s[c]&&s[c].touched?a.push(e):e!==o.data[c]?(s[c].update(e,!1,null,!1),s[c].touched=!0,l&&(r=c+1)):s[c]&&(s[c].touched=!0),n=!0)},this),n)for(e=s.length;e--;)i=s[e],i.touched||i.remove(!1),i.touched=!1;else{if(e.length!==s.length)return!1;e.forEach(function(t,e){s[e].update&&t!==o.data[e]&&s[e].update(t,!1,null,!1)})}return a.forEach(function(t){this.addPoint(t,!1)},this),!0},setData:function(e,n,i,r){var o,s,a=this,l=a.points,c=l&&l.length||0,u=a.options,d=a.chart,m=null,g=a.xAxis,b=u.turboThreshold,y=this.xData,_=this.yData,w=(o=a.pointArrayMap)&&o.length,S=u.keys,E=0,x=1;if(e=e||[],o=e.length,n=v(n,!0),!1!==r&&o&&c&&!a.cropped&&!a.hasGroupedData&&a.visible&&!a.isSeriesBoosting&&(s=this.updateData(e)),!s){if(a.xIncrement=null,a.colorCounter=0,this.parallelArrays.forEach(function(t){a[t+"Data"].length=0}),b&&o>b){for(i=0;null===m&&i<o;)m=e[i],i++;if(p(m))for(i=0;i<o;i++)y[i]=this.autoIncrement(),_[i]=e[i];else if(h(m))if(w)for(i=0;i<o;i++)m=e[i],y[i]=m[0],_[i]=m.slice(1,w+1);else for(S&&(E=S.indexOf("x"),x=S.indexOf("y"),E=0<=E?E:0,x=0<=x?x:1),i=0;i<o;i++)m=e[i],y[i]=m[E],_[i]=m[x];else t.error(12,!1,d)}else for(i=0;i<o;i++)void 0!==e[i]&&(m={series:a},a.pointClass.prototype.applyOptions.apply(m,[e[i]]),a.updateParallelArrays(m,i));for(_&&f(_[0])&&t.error(14,!0,d),a.data=[],a.options.data=a.userOptions.data=e,i=c;i--;)l[i]&&l[i].destroy&&l[i].destroy();g&&(g.minRange=g.userMinRange),a.isDirty=d.isDirtyBox=!0,a.isDirtyData=!!l,i=!1}"point"===u.legendType&&(this.processData(),this.generatePoints()),n&&d.redraw(i)},processData:function(e){var n,i=this.xData,r=this.yData,o=i.length;n=0;var s,a,l,c=this.xAxis,u=this.options;l=u.cropThreshold;var d,h,p=this.getExtremesFromAll||u.getExtremesFromAll,f=this.isCartesian,u=c&&c.val2lin,m=c&&c.isLog,g=this.requireSorting;if(f&&!this.isDirty&&!c.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(c&&(e=c.getExtremes(),d=e.min,h=e.max),f&&this.sorted&&!p&&(!l||o>l||this.forceCrop)&&(i[o-1]<d||i[0]>h?(i=[],r=[]):this.yData&&(i[0]<d||i[o-1]>h)&&(n=this.cropData(this.xData,this.yData,d,h),i=n.xData,r=n.yData,n=n.start,s=!0)),l=i.length||1;--l;)o=m?u(i[l])-u(i[l-1]):i[l]-i[l-1],0<o&&(void 0===a||o<a)?a=o:0>o&&g&&(t.error(15,!1,this.chart),g=!1);this.cropped=s,this.cropStart=n,this.processedXData=i,this.processedYData=r,this.closestPointRange=a},cropData:function(t,e,n,i,r){var o,s=t.length,a=0,l=s;for(r=v(r,this.cropShoulder),o=0;o<s;o++)if(t[o]>=n){a=Math.max(0,o-r);break}for(n=o;n<s;n++)if(t[n]>i){l=n+r;break}return{xData:t.slice(a,l),yData:e.slice(a,l),start:a,end:l}},generatePoints:function(){var t,e,n,i,r=this.options,o=r.data,s=this.data,a=this.processedXData,l=this.processedYData,c=this.pointClass,h=a.length,p=this.cropStart||0,f=this.hasGroupedData,r=r.keys,m=[];for(s||f||(s=[],s.length=o.length,s=this.data=s),r&&f&&(this.options.keys=!1),i=0;i<h;i++)e=p+i,f?(n=(new c).init(this,[a[i]].concat(y(l[i]))),n.dataGroup=this.groupMap[i],n.dataGroup.options&&(n.options=n.dataGroup.options,u(n,n.dataGroup.options),delete n.dataLabels)):(n=s[e])||void 0===o[e]||(s[e]=n=(new c).init(this,o[e],a[i])),n&&(n.index=e,m[i]=n);if(this.options.keys=r,s&&(h!==(t=s.length)||f))for(i=0;i<t;i++)i!==p||f||(i+=h),s[i]&&(s[i].destroyElements(),s[i].plotX=void 0);this.data=s,this.points=m,d(this,"afterGeneratePoints")},getExtremes:function(t){var e,n=this.yAxis,o=this.processedXData,s=[],a=0;e=this.xAxis.getExtremes();var l,c,u,f,m=e.min,g=e.max,v=this.requireSorting?this.cropShoulder:0;for(t=t||this.stackedYData||this.processedYData||[],e=t.length,f=0;f<e;f++)if(c=o[f],u=t[f],l=(p(u,!0)||h(u))&&(!n.positiveValuesOnly||u.length||0<u),c=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(o[f+v]||c)>=m&&(o[f-v]||c)<=g,l&&c)if(l=u.length)for(;l--;)"number"==typeof u[l]&&(s[a++]=u[l]);else s[a++]=u;this.dataMin=r(s),this.dataMax=i(s),d(this,"afterGetExtremes")},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,n,i,r,s=this.options,a=s.stacking,c=this.xAxis,u=c.categories,h=this.yAxis,f=this.points,m=f.length,g=!!this.modifyValue,b=this.pointPlacementToXValue(),y=p(b),_=s.threshold,w=s.startFromThreshold?_:0,S=this.zoneAxis||"y",E=Number.MAX_VALUE;for(t=0;t<m;t++){var x=f[t],C=x.x,T=x.y;n=x.low;var k,O=a&&h.stacks[(this.negStacks&&T<(w?0:_)?"-":"")+this.stackKey];h.positiveValuesOnly&&null!==T&&0>=T&&(x.isNull=!0),x.plotX=e=o(Math.min(Math.max(-1e5,c.translate(C,0,0,0,1,b,"flags"===this.type)),1e5)),a&&this.visible&&!x.isNull&&O&&O[C]&&(r=this.getStackIndicator(r,C,this.index),k=O[C],T=k.points[r.key],n=T[0],T=T[1],n===w&&r.key===O[C].base&&(n=v(p(_)&&_,h.min)),h.positiveValuesOnly&&0>=n&&(n=null),x.total=x.stackTotal=k.total,x.percentage=k.total&&x.y/k.total*100,x.stackY=T,k.setOffset(this.pointXOffset||0,this.barW||0)),x.yBottom=l(n)?Math.min(Math.max(-1e5,h.translate(n,0,1,0,1)),1e5):null,g&&(T=this.modifyValue(T,x)),x.plotY=n="number"==typeof T&&1/0!==T?Math.min(Math.max(-1e5,h.translate(T,0,1,0,1)),1e5):void 0,x.isInside=void 0!==n&&0<=n&&n<=h.len&&0<=e&&e<=c.len,x.clientX=y?o(c.translate(C,0,0,0,1,b)):e,x.negative=x[S]<(s[S+"Threshold"]||_||0),x.category=u&&void 0!==u[x.x]?u[x.x]:x.x,x.isNull||(void 0!==i&&(E=Math.min(E,Math.abs(e-i))),i=e),x.zone=this.zones.length&&x.getZone()}this.closestPointRangePx=E,d(this,"afterTranslate")},getValidPoints:function(t,e,n){var i=this.chart;return(t||this.points||[]).filter(function(t){return!(e&&!i.isInsidePlot(t.plotX,t.plotY,i.inverted))&&(n||!t.isNull)})},setClip:function(t){var e=this.chart,n=this.options,i=e.renderer,r=e.inverted,o=this.clipBox,s=o||e.clipBox,a=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,s.height,n.xAxis,n.yAxis].join(),l=e[a],c=e[a+"m"];l||(t&&(s.width=0,r&&(s.x=e.plotSizeX),e[a+"m"]=c=i.clipRect(r?e.plotSizeX+99:-99,r?-e.plotLeft:-e.plotTop,99,r?e.chartWidth:e.chartHeight)),e[a]=l=i.clipRect(s),l.count={length:0}),t&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),!1!==n.clip&&(this.group.clip(t||o?l:e.clipRect),this.markerGroup.clip(c),this.sharedClipKey=a),t||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&a&&e[a]&&(o||(e[a]=e[a].destroy()),e[a+"m"]&&(e[a+"m"]=e[a+"m"].destroy())))},animate:function(t){var e,i=this.chart,r=n(this.options.animation);t?this.setClip(r):(e=this.sharedClipKey,(t=i[e])&&t.animate({width:i.plotSizeX,x:0},r),i[e+"m"]&&i[e+"m"].animate({width:i.plotSizeX+99,x:0},r),this.animate=null)},afterAnimate:function(){this.setClip(),d(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var t,e,n,i,r,o,s,a=this.points,l=this.chart,c=this.options.marker,u=this[this.specialGroup]||this.markerGroup;t=this.xAxis;var d,h=v(c.enabled,!(t&&!t.isRadial)||null,this.closestPointRangePx>=c.enabledThreshold*c.radius);if(!1!==c.enabled||this._hasPointMarkers)for(t=0;t<a.length;t++)e=a[t],i=e.graphic,r=e.marker||{},o=!!e.marker,n=h&&void 0===r.enabled||r.enabled,s=!1!==e.isInside,n&&!e.isNull?(n=v(r.symbol,this.symbol),d=this.markerAttribs(e,e.selected&&"select"),i?i[s?"show":"hide"](!0).animate(d):s&&(0<d.width||e.hasImage)&&(e.graphic=i=l.renderer.symbol(n,d.x,d.y,d.width,d.height,o?r:c).add(u)),i&&!l.styledMode&&i.attr(this.pointAttribs(e,e.selected&&"select")),i&&i.addClass(e.getClassName(),!0)):i&&(e.graphic=i.destroy())},markerAttribs:function(t,e){var n=this.options.marker,i=t.marker||{},r=i.symbol||n.symbol,o=v(i.radius,n.radius);return e&&(n=n.states[e],e=i.states&&i.states[e],o=v(e&&e.radius,n&&n.radius,o+(n&&n.radiusPlus||0))),t.hasImage=r&&0===r.indexOf("url"),t.hasImage&&(o=0),t={x:Math.floor(t.plotX)-o,y:t.plotY-o},o&&(t.width=t.height=2*o),t},pointAttribs:function(t,e){var n=this.options.marker,i=t&&t.options,r=i&&i.marker||{},o=this.color,s=i&&i.color,a=t&&t.color,i=v(r.lineWidth,n.lineWidth);return t=t&&t.zone&&t.zone.color,o=s||t||a||o,t=r.fillColor||n.fillColor||o,o=r.lineColor||n.lineColor||o,e&&(n=n.states[e],e=r.states&&r.states[e]||{},i=v(e.lineWidth,n.lineWidth,i+v(e.lineWidthPlus,n.lineWidthPlus,0)),t=e.fillColor||n.fillColor||t,o=e.lineColor||n.lineColor||o),{stroke:o,"stroke-width":i,fill:t}},destroy:function(e){var n,i,r,o,s=this,a=s.chart,l=/AppleWebKit\/533/.test(S.navigator.userAgent),u=s.data||[];for(d(s,"destroy"),e||b(s),(s.axisTypes||[]).forEach(function(t){(o=s[t])&&o.series&&(c(o.series,s),o.isDirty=o.forceRedraw=!0)}),s.legendItem&&s.chart.legend.destroyItem(s),i=u.length;i--;)(r=u[i])&&r.destroy&&r.destroy();s.points=null,t.clearTimeout(s.animationTimeout),g(s,function(t,e){t instanceof _&&!t.survive&&(n=l&&"group"===e?"hide":"destroy",t[n]())}),a.hoverSeries===s&&(a.hoverSeries=null),c(a.series,s),a.orderSeries(),g(s,function(t,n){e&&"hcEvents"===n||delete s[n]})},getGraphPath:function(t,e,n){var i,r,o=this,s=o.options,a=s.step,c=[],u=[];return t=t||o.points,(i=t.reversed)&&t.reverse(),(a={right:1,center:2}[a]||a&&3)&&i&&(a=4-a),!s.connectNulls||e||n||(t=this.getValidPoints(t)),t.forEach(function(i,d){var h=i.plotX,p=i.plotY,f=t[d-1];(i.leftCliff||f&&f.rightCliff)&&!n&&(r=!0),i.isNull&&!l(e)&&0<d?r=!s.connectNulls:i.isNull&&!e?r=!0:(0===d||r?d=["M",i.plotX,i.plotY]:o.getPointSpline?d=o.getPointSpline(t,i,d):a?(d=1===a?["L",f.plotX,p]:2===a?["L",(f.plotX+h)/2,f.plotY,"L",(f.plotX+h)/2,p]:["L",h,f.plotY],d.push("L",h,p)):d=["L",h,p],u.push(i.x),a&&(u.push(i.x),2===a&&u.push(i.x)),c.push.apply(c,d),r=!1)}),c.xMap=u,o.graphPath=c},drawGraph:function(){var t=this,e=this.options,n=(this.gappedPath||this.getGraphPath).call(this),i=this.chart.styledMode,r=[["graph","highcharts-graph"]];i||r[0].push(e.lineColor||this.color,e.dashStyle),r=t.getZonesGraphs(r),r.forEach(function(r,o){var s=r[0],a=t[s];a?(a.endX=t.preventGraphAnimation?null:n.xMap,a.animate({d:n})):n.length&&(t[s]=t.chart.renderer.path(n).addClass(r[1]).attr({zIndex:1}).add(t.group),i||(a={stroke:r[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},r[3]?a.dashstyle=r[3]:"square"!==e.linecap&&(a["stroke-linecap"]=a["stroke-linejoin"]="round"),a=t[s].attr(a).shadow(2>o&&e.shadow))),a&&(a.startX=n.xMap,a.isArea=n.isArea)})},getZonesGraphs:function(t){return this.zones.forEach(function(e,n){n=["zone-graph-"+n,"highcharts-graph highcharts-zone-graph-"+n+" "+(e.className||"")],this.chart.styledMode||n.push(e.color||this.color,e.dashStyle||this.options.dashStyle),t.push(n)},this),t},applyZones:function(){var t,e,n,i,r,o,s,a,l,c=this,u=this.chart,d=u.renderer,h=this.zones,p=this.clips||[],f=this.graph,m=this.area,g=Math.max(u.chartWidth,u.chartHeight),b=this[(this.zoneAxis||"y")+"Axis"],y=u.inverted,_=!1;h.length&&(f||m)&&b&&void 0!==b.min&&(r=b.reversed,o=b.horiz,f&&!this.showLine&&f.hide(),m&&m.hide(),i=b.getExtremes(),h.forEach(function(h,w){t=r?o?u.plotWidth:0:o?0:b.toPixels(i.min)||0,t=Math.min(Math.max(v(e,t),0),g),e=Math.min(Math.max(Math.round(b.toPixels(v(h.value,i.max),!0)||0),0),g),_&&(t=e=b.toPixels(i.max)),s=Math.abs(t-e),a=Math.min(t,e),l=Math.max(t,e),b.isXAxis?(n={x:y?l:a,y:0,width:s,height:g},o||(n.x=u.plotHeight-n.x)):(n={x:0,y:y?l:a,width:g,height:s},o&&(n.y=u.plotWidth-n.y)),y&&d.isVML&&(n=b.isXAxis?{x:0,y:r?a:l,height:n.width,width:u.chartWidth}:{x:n.y-u.plotLeft-u.spacingBox.x,y:0,width:n.height,height:u.chartHeight}),p[w]?p[w].animate(n):(p[w]=d.clipRect(n),f&&c["zone-graph-"+w].clip(p[w]),m&&c["zone-area-"+w].clip(p[w])),_=h.value>i.max,c.resetZones&&0===e&&(e=void 0)}),this.clips=p)},invertGroups:function(t){function n(){["group","markerGroup"].forEach(function(e){r[e]&&(o.renderer.isVML&&r[e].attr({width:r.yAxis.len,height:r.xAxis.len}),r[e].width=r.yAxis.len,r[e].height=r.xAxis.len,r[e].invert(t))})}var i,r=this,o=r.chart;r.xAxis&&(i=e(o,"resize",n),e(r,"destroy",i),n(),r.invertGroups=n)},plotGroup:function(t,e,n,i,r){var o=this[t],s=!o;return s&&(this[t]=o=this.chart.renderer.g().attr({zIndex:i||.1}).add(r)),o.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(l(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(o.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),o.attr({visibility:n})[s?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,n=this.yAxis;return t.inverted&&(e=n,n=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,r=e.options,o=!!e.animate&&i.renderer.isSVG&&n(r.animation).duration,s=e.visible?"inherit":"hidden",a=r.zIndex,l=e.hasRendered,c=i.seriesGroup,u=i.inverted;d(this,"render"),t=e.plotGroup("group","series",s,a,c),e.markerGroup=e.plotGroup("markerGroup","markers",s,a,c),o&&e.animate(!0),t.inverted=!!e.isCartesian&&u,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(u),!1===r.clip||e.sharedClipKey||l||t.clip(i.clipRect),o&&e.animate(),l||(e.animationTimeout=w(function(){e.afterAnimate()},o)),e.isDirty=!1,e.hasRendered=!0,d(e,"afterRender")},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,n=this.group,i=this.xAxis,r=this.yAxis;n&&(t.inverted&&n.attr({width:t.plotWidth,height:t.plotHeight}),n.animate({translateX:v(i&&i.left,t.plotLeft),translateY:v(r&&r.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var n=this.xAxis,i=this.yAxis,r=this.chart.inverted;return this.searchKDTree({clientX:r?n.len-t.chartY+n.pos:t.chartX-n.pos,plotY:r?i.len-t.chartX+i.pos:t.chartY-i.pos},e,t)},buildKDTree:function(t){function e(t,i,r){var o,s;if(s=t&&t.length)return o=n.kdAxisArray[i%r],t.sort(function(t,e){return t[o]-e[o]}),s=Math.floor(s/2),{point:t[s],left:e(t.slice(0,s),i+1,r),right:e(t.slice(s+1),i+1,r)}}this.buildingKdTree=!0;var n=this,i=-1<n.options.findNearestPointBy.indexOf("y")?2:1;delete n.kdTree,w(function(){n.kdTree=e(n.getValidPoints(null,!n.directTouch),i,i),n.buildingKdTree=!1},n.options.kdNow||t&&"touchstart"===t.type?0:1)},searchKDTree:function(t,e,n){function i(t,e,n,c){var u,d,h=e.point,p=r.kdAxisArray[n%c],f=h;return d=l(t[o])&&l(h[o])?Math.pow(t[o]-h[o],2):null,u=l(t[s])&&l(h[s])?Math.pow(t[s]-h[s],2):null,u=(d||0)+(u||0),h.dist=l(u)?Math.sqrt(u):Number.MAX_VALUE,h.distX=l(d)?Math.sqrt(d):Number.MAX_VALUE,p=t[p]-h[p],u=0>p?"left":"right",d=0>p?"right":"left",e[u]&&(u=i(t,e[u],n+1,c),f=u[a]<f[a]?u:h),e[d]&&Math.sqrt(p*p)<f[a]&&(t=i(t,e[d],n+1,c),f=t[a]<f[a]?t:f),f}var r=this,o=this.kdAxisArray[0],s=this.kdAxisArray[1],a=e?"distX":"dist";if(e=-1<r.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(n),this.kdTree)return i(t,this.kdTree,e,e)},pointPlacementToXValue:function(){var t=this.options.pointPlacement;return"between"===t&&(t=.5),p(t)&&(t*=v(this.options.pointRange||this.xAxis.pointRange)),t}})}(e),function(t){var e=t.Axis,n=t.Chart,i=t.correctFloat,r=t.defined,o=t.destroyObjectProperties,s=t.format,a=t.objectEach,l=t.pick,c=t.Series;t.StackItem=function(t,e,n,i,r){var o=t.chart.inverted;this.axis=t,this.isNegative=n,this.options=e,this.x=i,this.total=null,this.points={},this.stack=r,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(o?n?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":n?"bottom":"top"),y:l(e.y,o?4:n?14:-6),x:l(e.x,o?n?-6:6:0)},this.textAlign=e.textAlign||(o?n?"right":"left":"center")},t.StackItem.prototype={destroy:function(){o(this,this.axis)},render:function(t){var e=this.axis.chart,n=this.options,i=n.format,i=i?s(i,this,e.time):n.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=e.renderer.text(i,null,null,n.useHTML).css(n.style).attr({align:this.textAlign,rotation:n.rotation,visibility:"hidden"}).add(t),this.label.labelrank=e.plotHeight},setOffset:function(t,e){var n=this.axis,i=n.chart,o=n.translate(n.usePercentage?100:this.total,0,0,0,1),s=n.translate(0),s=r(o)&&Math.abs(o-s);t=i.xAxis[0].translate(this.x)+t,n=r(o)&&this.getStackBox(i,this,t,o,e,s,n),(e=this.label)&&n&&(e.align(this.alignOptions,null,n),n=e.alignAttr,e[!1===this.options.crop||i.isInsidePlot(n.x,n.y)?"show":"hide"](!0))},getStackBox:function(t,e,n,i,r,o,s){var a=e.axis.reversed,l=t.inverted;return t=s.height+s.pos-(l?t.plotLeft:t.plotTop),e=e.isNegative&&!a||!e.isNegative&&a,{x:l?e?i:i-o:n,y:l?t-n-r:e?t-i-o:t-i,width:l?o:r,height:l?r:o}}},n.prototype.getStacks=function(){var t=this;t.yAxis.forEach(function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),t.series.forEach(function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+l(e.options.stack,""))})},e.prototype.buildStacks=function(){var t,e=this.series,n=l(this.options.reversedStacks,!0),i=e.length;if(!this.isXAxis){for(this.usePercentage=!1,t=i;t--;)e[n?t:i-t-1].setStackedPoints();for(t=0;t<i;t++)e[t].modifyStacks()}},e.prototype.renderStackTotals=function(){var t=this.chart,e=t.renderer,n=this.stacks,i=this.stackTotalGroup;i||(this.stackTotalGroup=i=e.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),i.translate(t.plotLeft,t.plotTop),a(n,function(t){a(t,function(t){t.render(i)})})},e.prototype.resetStacks=function(){var t=this,e=t.stacks;t.isXAxis||a(e,function(e){a(e,function(n,i){n.touched<t.stacksTouched?(n.destroy(),delete e[i]):(n.total=null,n.cumulative=null)})})},e.prototype.cleanStacks=function(){var t;this.isXAxis||(this.oldStacks&&(t=this.stacks=this.oldStacks),a(t,function(t){a(t,function(t){t.cumulative=t.total})}))},c.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var e,n,o,s,a,c,u,d=this.processedXData,h=this.processedYData,p=[],f=h.length,m=this.options,g=m.threshold,v=l(m.startFromThreshold&&g,0),b=m.stack,m=m.stacking,y=this.stackKey,_="-"+y,w=this.negStacks,S=this.yAxis,E=S.stacks,x=S.oldStacks;for(S.stacksTouched+=1,a=0;a<f;a++)c=d[a],u=h[a],e=this.getStackIndicator(e,c,this.index),s=e.key,o=(n=w&&u<(v?0:g))?_:y,E[o]||(E[o]={}),E[o][c]||(x[o]&&x[o][c]?(E[o][c]=x[o][c],E[o][c].total=null):E[o][c]=new t.StackItem(S,S.options.stackLabels,n,c,b)),o=E[o][c],null!==u?(o.points[s]=o.points[this.index]=[l(o.cumulative,v)],r(o.cumulative)||(o.base=s),o.touched=S.stacksTouched,0<e.index&&!1===this.singleStacks&&(o.points[s][0]=o.points[this.index+","+c+",0"][0])):o.points[s]=o.points[this.index]=null,"percent"===m?(n=n?y:_,w&&E[n]&&E[n][c]?(n=E[n][c],o.total=n.total=Math.max(n.total,o.total)+Math.abs(u)||0):o.total=i(o.total+(Math.abs(u)||0))):o.total=i(o.total+(u||0)),o.cumulative=l(o.cumulative,v)+(u||0),null!==u&&(o.points[s].push(o.cumulative),p[a]=o.cumulative);"percent"===m&&(S.usePercentage=!0),this.stackedYData=p,S.oldStacks={}}},c.prototype.modifyStacks=function(){var t,e=this,n=e.stackKey,i=e.yAxis.stacks,r=e.processedXData,o=e.options.stacking;e[o+"Stacker"]&&[n,"-"+n].forEach(function(n){for(var s,a,l=r.length;l--;)s=r[l],t=e.getStackIndicator(t,s,e.index,n),(a=(s=i[n]&&i[n][s])&&s.points[t.key])&&e[o+"Stacker"](a,s,l)})},c.prototype.percentStacker=function(t,e,n){e=e.total?100/e.total:0,t[0]=i(t[0]*e),t[1]=i(t[1]*e),this.stackedYData[n]=t[1]},c.prototype.getStackIndicator=function(t,e,n,i){return!r(t)||t.x!==e||i&&t.key!==i?t={x:e,index:0,key:i}:t.index++,t.key=[n,e,t.index].join(),t}}(e),function(t){var e=t.addEvent,n=t.animate,i=t.Axis,r=t.Chart,o=t.createElement,s=t.css,a=t.defined,l=t.erase,c=t.extend,u=t.fireEvent,d=t.isNumber,h=t.isObject,p=t.isArray,f=t.merge,m=t.objectEach,g=t.pick,v=t.Point,b=t.Series,y=t.seriesTypes,_=t.setAnimation,w=t.splat;t.cleanRecursively=function(e,n){var i={};return m(e,function(r,o){h(e[o],!0)&&n[o]?(r=t.cleanRecursively(e[o],n[o]),Object.keys(r).length&&(i[o]=r)):(h(e[o])||e[o]!==n[o])&&(i[o]=e[o])}),i},c(r.prototype,{addSeries:function(t,e,n){var i,r=this;return t&&(e=g(e,!0),u(r,"addSeries",{options:t},function(){i=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),u(r,"afterAddSeries"),e&&r.redraw(n)})),i},addAxis:function(t,e,n,r){var o=e?"xAxis":"yAxis",s=this.options;return t=f(t,{index:this[o].length,isX:e}),e=new i(this,t),s[o]=w(s[o]||{}),s[o].push(t),g(n,!0)&&this.redraw(r),e},showLoading:function(t){var i=this,r=i.options,a=i.loadingDiv,l=r.loading,u=function(){a&&s(a,{left:i.plotLeft+"px",top:i.plotTop+"px",width:i.plotWidth+"px",height:i.plotHeight+"px"})};a||(i.loadingDiv=a=o("div",{className:"highcharts-loading highcharts-loading-hidden"},null,i.container),i.loadingSpan=o("span",{className:"highcharts-loading-inner"},null,a),e(i,"redraw",u)),a.className="highcharts-loading",i.loadingSpan.innerHTML=t||r.lang.loading,i.styledMode||(s(a,c(l.style,{zIndex:10})),s(i.loadingSpan,l.labelStyle),i.loadingShown||(s(a,{opacity:0,display:""}),n(a,{opacity:l.style.opacity||.5},{duration:l.showDuration||0}))),i.loadingShown=!0,u()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",this.styledMode||n(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){s(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" "),collectionsWithUpdate:"xAxis yAxis zAxis series colorAxis pane".split(" "),update:function(e,n,i,r){var o,s,l,c=this,h={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},p=[];u(c,"update",{options:e}),e.isResponsiveOptions||c.setResponsive(!1,!0),e=t.cleanRecursively(e,c.options),(o=e.chart)&&(f(!0,c.options.chart,o),"className"in o&&c.setClassName(o.className),"reflow"in o&&c.setReflow(o.reflow),("inverted"in o||"polar"in o||"type"in o)&&(c.propFromSeries(),s=!0),"alignTicks"in o&&(s=!0),m(o,function(t,e){-1!==c.propsRequireUpdateSeries.indexOf("chart."+e)&&(l=!0),-1!==c.propsRequireDirtyBox.indexOf(e)&&(c.isDirtyBox=!0)}),!c.styledMode&&"style"in o&&c.renderer.setStyle(o.style)),!c.styledMode&&e.colors&&(this.options.colors=e.colors),e.plotOptions&&f(!0,this.options.plotOptions,e.plotOptions),m(e,function(t,e){c[e]&&"function"==typeof c[e].update?c[e].update(t,!1):"function"==typeof c[h[e]]&&c[h[e]](t),"chart"!==e&&-1!==c.propsRequireUpdateSeries.indexOf(e)&&(l=!0)}),this.collectionsWithUpdate.forEach(function(t){var n;e[t]&&("series"===t&&(n=[],c[t].forEach(function(t,e){t.options.isInternal||n.push(g(t.options.index,e))})),w(e[t]).forEach(function(e,r){(r=a(e.id)&&c.get(e.id)||c[t][n?n[r]:r])&&r.coll===t&&(r.update(e,!1),i&&(r.touched=!0)),!r&&i&&("series"===t?c.addSeries(e,!1).touched=!0:"xAxis"!==t&&"yAxis"!==t||(c.addAxis(e,"xAxis"===t,!1).touched=!0))}),i&&c[t].forEach(function(t){t.touched||t.options.isInternal?delete t.touched:p.push(t)}))}),p.forEach(function(t){t.remove&&t.remove(!1)}),s&&c.axes.forEach(function(t){t.update({},!1)}),l&&c.series.forEach(function(t){t.update({},!1)}),e.loading&&f(!0,c.options.loading,e.loading),s=o&&o.width,o=o&&o.height,d(s)&&s!==c.chartWidth||d(o)&&o!==c.chartHeight?c.setSize(s,o,r):g(n,!0)&&c.redraw(r),u(c,"afterUpdate",{options:e})},setSubtitle:function(t){this.setTitle(void 0,t)}}),c(v.prototype,{update:function(t,e,n,i){function r(){s.applyOptions(t),null===s.y&&l&&(s.graphic=l.destroy()),h(t,!0)&&(l&&l.element&&t&&t.marker&&void 0!==t.marker.symbol&&(s.graphic=l.destroy()),t&&t.dataLabels&&s.dataLabel&&(s.dataLabel=s.dataLabel.destroy()),s.connector&&(s.connector=s.connector.destroy())),o=s.index,a.updateParallelArrays(s,o),u.data[o]=h(u.data[o],!0)||h(t,!0)?s.options:g(t,u.data[o]),a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===u.legendType&&(c.isDirtyLegend=!0),e&&c.redraw(n)}var o,s=this,a=s.series,l=s.graphic,c=a.chart,u=a.options;e=g(e,!0),!1===i?r():s.firePointEvent("update",{options:t},r)},remove:function(t,e){this.series.removePoint(this.series.data.indexOf(this),t,e)}}),c(b.prototype,{addPoint:function(t,e,n,i){var r,o,s,a,l=this.options,c=this.data,u=this.chart,d=this.xAxis,d=d&&d.hasNames&&d.names,h=l.data,p=this.xData;if(e=g(e,!0),r={series:this},this.pointClass.prototype.applyOptions.apply(r,[t]),a=r.x,s=p.length,this.requireSorting&&a<p[s-1])for(o=!0;s&&p[s-1]>a;)s--;this.updateParallelArrays(r,"splice",s,0,0),this.updateParallelArrays(r,s),d&&r.name&&(d[a]=r.name),h.splice(s,0,t),o&&(this.data.splice(s,0,null),this.processData()),"point"===l.legendType&&this.generatePoints(),n&&(c[0]&&c[0].remove?c[0].remove(!1):(c.shift(),this.updateParallelArrays(r,"shift"),h.shift())),this.isDirtyData=this.isDirty=!0,e&&u.redraw(i)},removePoint:function(t,e,n){var i=this,r=i.data,o=r[t],s=i.points,a=i.chart,l=function(){s&&s.length===r.length&&s.splice(t,1),r.splice(t,1),i.options.data.splice(t,1),i.updateParallelArrays(o||{series:i},"splice",t,1),o&&o.destroy(),i.isDirty=!0,i.isDirtyData=!0,e&&a.redraw()};_(n,a),e=g(e,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(t,e,n,i){function r(){o.destroy(i),o.remove=null,s.isDirtyLegend=s.isDirtyBox=!0,s.linkSeries(),g(t,!0)&&s.redraw(e)}var o=this,s=o.chart;!1!==n?u(o,"remove",null,r):r()},update:function(e,n){e=t.cleanRecursively(e,this.userOptions);var i,r=this,o=r.chart,s=r.userOptions,a=r.initialType||r.type,l=e.type||s.type||o.options.chart.type,d=y[a].prototype,h=["group","markerGroup","dataLabelsGroup"],p=["navigatorSeries","baseSeries"],m=r.finishedAnimating&&{animation:!1},v=["data","name","turboThreshold"],b=Object.keys(e),_=0<b.length;if(b.forEach(function(t){-1===v.indexOf(t)&&(_=!1)}),_)e.data&&this.setData(e.data,!1),e.name&&this.setName(e.name,!1);else{p=h.concat(p),p.forEach(function(t){p[t]=r[t],delete r[t]}),e=f(s,m,{index:r.index,pointStart:g(s.pointStart,r.xData[0])},{data:r.options.data},e),r.remove(!1,null,!1,!0);for(i in d)r[i]=void 0;y[l||a]?c(r,y[l||a].prototype):t.error(17,!0,o),p.forEach(function(t){r[t]=p[t]}),r.init(o,e),e.zIndex!==s.zIndex&&h.forEach(function(t){r[t]&&r[t].attr({zIndex:e.zIndex})}),r.initialType=a,o.linkSeries()}u(this,"afterUpdate"),g(n,!0)&&o.redraw(!!_&&void 0)},setName:function(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}}),c(i.prototype,{update:function(t,e){var n=this.chart,i=t&&t.events||{};t=f(this.userOptions,t),n.options[this.coll].indexOf&&(n.options[this.coll][n.options[this.coll].indexOf(this.userOptions)]=t),m(n.options[this.coll].events,function(t,e){void 0===i[e]&&(i[e]=void 0)}),this.destroy(!0),this.init(n,c(t,{events:i})),n.isDirtyBox=!0,g(e,!0)&&n.redraw()},remove:function(t){for(var e=this.chart,n=this.coll,i=this.series,r=i.length;r--;)i[r]&&i[r].remove(!1);l(e.axes,this),l(e[n],this),p(e.options[n])?e.options[n].splice(this.options.index,1):delete e.options[n],e[n].forEach(function(t,e){t.options.index=t.userOptions.index=e}),this.destroy(),e.isDirtyBox=!0,g(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})}(e),function(t){var e=t.color,n=t.pick,i=t.Series;(0,t.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(e){var i,r,o=[],s=[],a=this.xAxis,l=this.yAxis,c=l.stacks[this.stackKey],u={},d=this.index,h=l.series,p=h.length,f=n(l.options.reversedStacks,!0)?1:-1;if(e=e||this.points,this.options.stacking){for(r=0;r<e.length;r++)e[r].leftNull=e[r].rightNull=null,u[e[r].x]=e[r];t.objectEach(c,function(t,e){null!==t.total&&s.push(e)}),s.sort(function(t,e){return t-e}),i=h.map(function(t){return t.visible}),s.forEach(function(t,e){var n,h,m=0;if(u[t]&&!u[t].isNull)o.push(u[t]),[-1,1].forEach(function(o){var a=1===o?"rightNull":"leftNull",l=0,m=c[s[e+o]];if(m)for(r=d;0<=r&&r<p;)n=m.points[r],n||(r===d?u[t][a]=!0:i[r]&&(h=c[t].points[r])&&(l-=h[1]-h[0])),r+=f;u[t][1===o?"rightCliff":"leftCliff"]=l});else{for(r=d;0<=r&&r<p;){if(n=c[t].points[r]){m=n[1];break}r+=f}m=l.translate(m,0,1,0,1),o.push({isNull:!0,plotX:a.translate(t,0,0,0,1),x:t,plotY:m,yBottom:m})}})}return o},getGraphPath:function(t){var e,r,o,s,a=i.prototype.getGraphPath,l=this.options,c=l.stacking,u=this.yAxis,d=[],h=[],p=this.index,f=u.stacks[this.stackKey],m=l.threshold,g=u.getThreshold(l.threshold),l=l.connectNulls||"percent"===c,v=function(e,n,i){var r=t[e];e=c&&f[r.x].points[p];var s=r[i+"Null"]||0;i=r[i+"Cliff"]||0;var a,l,r=!0;i||s?(a=(s?e[0]:e[1])+i,l=e[0]+i,r=!!s):!c&&t[n]&&t[n].isNull&&(a=l=m),void 0!==a&&(h.push({plotX:o,plotY:null===a?g:u.getThreshold(a),isNull:r,isCliff:!0}),d.push({plotX:o,plotY:null===l?g:u.getThreshold(l),doCurve:!1}))};for(t=t||this.points,c&&(t=this.getStackPoints(t)),e=0;e<t.length;e++)r=t[e].isNull,o=n(t[e].rectPlotX,t[e].plotX),s=n(t[e].yBottom,g),(!r||l)&&(l||v(e,e-1,"left"),r&&!c&&l||(h.push(t[e]),d.push({x:e,plotX:o,plotY:s})),l||v(e,e+1,"right"));return e=a.call(this,h,!0,!0),d.reversed=!0,r=a.call(this,d,!0,!0),r.length&&(r[0]="L"),r=e.concat(r),a=a.call(this,h,!1,l),r.xMap=e.xMap,this.areaPath=r,a},drawGraph:function(){this.areaPath=[],i.prototype.drawGraph.apply(this);var t=this,r=this.areaPath,o=this.options,s=[["area","highcharts-area",this.color,o.fillColor]];this.zones.forEach(function(e,n){s.push(["zone-area-"+n,"highcharts-area highcharts-zone-area-"+n+" "+e.className,e.color||t.color,e.fillColor||o.fillColor])}),s.forEach(function(i){var s=i[0],a=t[s];a?(a.endX=t.preventGraphAnimation?null:r.xMap,a.animate({d:r})):(a={zIndex:0},t.chart.styledMode||(a.fill=n(i[3],e(i[2]).setOpacity(n(o.fillOpacity,.75)).get())),a=t[s]=t.chart.renderer.path(r).addClass(i[1]).attr(a).add(t.group),a.isArea=!0),a.startX=r.xMap,a.shiftUnit=o.step?2:1})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(e),function(t){var e=t.pick;(t=t.seriesType)("spline","line",{},{getPointSpline:function(t,n,i){var r=n.plotX,o=n.plotY,s=t[i-1];i=t[i+1];var a,l,c,u;if(s&&!s.isNull&&!1!==s.doCurve&&!n.isCliff&&i&&!i.isNull&&!1!==i.doCurve&&!n.isCliff){t=s.plotY,c=i.plotX,i=i.plotY;var d=0;a=(1.5*r+s.plotX)/2.5,l=(1.5*o+t)/2.5,c=(1.5*r+c)/2.5,u=(1.5*o+i)/2.5,c!==a&&(d=(u-l)*(c-r)/(c-a)+o-u),l+=d,u+=d,l>t&&l>o?(l=Math.max(t,o),u=2*o-l):l<t&&l<o&&(l=Math.min(t,o),u=2*o-l),u>i&&u>o?(u=Math.max(i,o),l=2*o-u):u<i&&u<o&&(u=Math.min(i,o),l=2*o-u),n.rightContX=c,n.rightContY=u}return n=["C",e(s.rightContX,s.plotX),e(s.rightContY,s.plotY),e(a,r),e(l,o),r,o],s.rightContX=s.rightContY=null,n}})}(e),function(t){var e=t.seriesTypes.area.prototype;(0,t.seriesType)("areaspline","spline",t.defaultPlotOptions.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,drawGraph:e.drawGraph,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(e),function(t){var e=t.animObject,n=t.color,i=t.extend,r=t.defined,o=t.isNumber,s=t.merge,a=t.pick,l=t.Series,c=t.seriesType,u=t.svg;c("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){l.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&e.series.forEach(function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,n=e.options,i=e.xAxis,r=e.yAxis,o=i.options.reversedStacks,o=i.reversed&&!o||!i.reversed&&o,s={},l=0;!1===n.grouping?l=1:e.chart.series.forEach(function(n){var i,o=n.options,a=n.yAxis;n.type!==e.type||!n.visible&&e.chart.options.chart.ignoreHiddenSeries||r.len!==a.len||r.pos!==a.pos||(o.stacking?(t=n.stackKey,void 0===s[t]&&(s[t]=l++),i=s[t]):!1!==o.grouping&&(i=l++),n.columnIndex=i)});var c=Math.min(Math.abs(i.transA)*(i.ordinalSlope||n.pointRange||i.closestPointRange||i.tickInterval||1),i.len),u=c*n.groupPadding,d=(c-2*u)/(l||1),n=Math.min(n.maxPointWidth||i.len,a(n.pointWidth,d*(1-2*n.pointPadding)));return e.columnMetrics={width:n,offset:(d-n)/2+(u+((e.columnIndex||0)+(o?1:0))*d-c/2)*(o?-1:1)},e.columnMetrics},crispCol:function(t,e,n,i){var r=this.chart,o=this.borderWidth,s=-(o%2?.5:0),o=o%2?.5:1;return r.inverted&&r.renderer.isVML&&(o+=1),this.options.crisp&&(n=Math.round(t+n)+s,t=Math.round(t)+s,n-=t),i=Math.round(e+i)+o,s=.5>=Math.abs(e)&&.5<i,e=Math.round(e)+o,i-=e,s&&i&&(--e,i+=1),{x:t,y:e,width:n,height:i}},translate:function(){var t=this,e=t.chart,n=t.options,i=t.dense=2>t.closestPointRange*t.xAxis.transA,i=t.borderWidth=a(n.borderWidth,i?0:1),o=t.yAxis,s=n.threshold,c=t.translatedThreshold=o.getThreshold(s),u=a(n.minPointLength,5),d=t.getColumnMetrics(),h=d.width,p=t.barW=Math.max(h,1+2*i),f=t.pointXOffset=d.offset;e.inverted&&(c-=.5),n.pointPadding&&(p=Math.ceil(p)),l.prototype.translate.apply(t),t.points.forEach(function(n){var i,l=a(n.yBottom,c),d=999+Math.abs(l),m=h,d=Math.min(Math.max(-d,n.plotY),o.len+d),g=n.plotX+f,v=p,b=Math.min(d,l),y=Math.max(d,l)-b;u&&Math.abs(y)<u&&(y=u,i=!o.reversed&&!n.negative||o.reversed&&n.negative,n.y===s&&t.dataMax<=s&&o.min<s&&(i=!i),b=Math.abs(b-c)>u?l-u:c-(i?u:0)),r(n.options.pointWidth)&&(m=v=Math.ceil(n.options.pointWidth),g-=Math.round((m-h)/2)),n.barX=g,n.pointWidth=m,n.tooltipPos=e.inverted?[o.len+o.pos-e.plotLeft-d,t.xAxis.len-g-v/2,y]:[g+v/2,d+o.pos-e.plotTop,y],n.shapeType=n.shapeType||"rect",n.shapeArgs=t.crispCol.apply(t,n.isNull?[g,c,v,0]:[g,b,v,y])})},getSymbol:t.noop,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var i,r=this.options,o=this.pointAttrToOptions||{};i=o.stroke||"borderColor";var a=o["stroke-width"]||"borderWidth",l=t&&t.color||this.color,c=t&&t[i]||r[i]||this.color||l,u=t&&t[a]||r[a]||this[a]||0,o=r.dashStyle;return t&&this.zones.length&&(l=t.getZone(),l=t.options.color||l&&l.color||this.color),e&&(t=s(r.states[e],t.options.states&&t.options.states[e]||{}),e=t.brightness,l=t.color||void 0!==e&&n(l).brighten(t.brightness).get()||l,c=t[i]||c,u=t[a]||u,o=t.dashStyle||o),i={fill:l,stroke:c,"stroke-width":u},o&&(i.dashstyle=o),i},drawPoints:function(){var t,e=this,n=this.chart,i=e.options,r=n.renderer,a=i.animationLimit||250;e.points.forEach(function(l){var c=l.graphic,u=c&&n.pointCount<a?"animate":"attr";o(l.plotY)&&null!==l.y?(t=l.shapeArgs,c?c[u](s(t)):l.graphic=c=r[l.shapeType](t).add(l.group||e.group),i.borderRadius&&c.attr({r:i.borderRadius}),n.styledMode||c[u](e.pointAttribs(l,l.selected&&"select")).shadow(i.shadow,null,i.stacking&&!i.borderRadius),c.addClass(l.getClassName(),!0)):c&&(l.graphic=c.destroy())})},animate:function(t){var n,r=this,o=this.yAxis,s=r.options,a=this.chart.inverted,l={},c=a?"translateX":"translateY";u&&(t?(l.scaleY=.001,t=Math.min(o.pos+o.len,Math.max(o.pos,o.toPixels(s.threshold))),a?l.translateX=t-o.len:l.translateY=t,r.clipBox&&r.setClip(),r.group.attr(l)):(n=r.group.attr(c),r.group.animate({scaleY:1},i(e(r.options.animation),{step:function(t,e){l[c]=n+e.pos*(o.pos-n),r.group.attr(l)}})),r.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&e.series.forEach(function(e){e.type===t.type&&(e.isDirty=!0)}),l.prototype.remove.apply(t,arguments)}})}(e),function(t){(t=t.seriesType)("bar","column",null,{inverted:!0})}(e),function(t){var e=t.Series;(0,t.seriesType)("scatter","line",{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)},applyJitter:function(){var t=this,e=this.options.jitter,n=this.points.length;e&&this.points.forEach(function(i,r){["x","y"].forEach(function(o,s){var a,l,c,u="plot"+o.toUpperCase();e[o]&&!i.isNull&&(a=t[o+"Axis"],c=e[o]*a.transA,a&&!a.isLog&&(l=Math.max(0,i[u]-c),a=Math.min(a.len,i[u]+c),s=1e4*Math.sin(r+s*n),i[u]=l+(a-l)*(s-Math.floor(s)),"x"===o&&(i.clientX=i.plotX)))})})}}),t.addEvent(e,"afterTranslate",function(){this.applyJitter&&this.applyJitter()})}(e),function(t){var e=t.deg2rad,n=t.isNumber,i=t.pick,r=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t,e,n=this.options,o=this.chart,s=2*(n.slicedOffset||0),a=o.plotWidth-2*s,o=o.plotHeight-2*s,l=n.center,l=[i(l[0],"50%"),i(l[1],"50%"),n.size||"100%",n.innerSize||0],c=Math.min(a,o);for(t=0;4>t;++t)e=l[t],n=2>t||2===t&&/%$/.test(e),l[t]=r(e,[a,o,c,l[2]][t])+(n?s:0);return l[3]>l[2]&&(l[3]=l[2]),l},getStartAndEndRadians:function(t,i){return t=n(t)?t:0,i=n(i)&&i>t&&360>i-t?i:t+360,{start:e*(t+-90),end:e*(i+-90)}}}}(e),function(t){var e=t.addEvent,n=t.CenteredSeriesMixin,i=t.defined,r=t.extend,o=n.getStartAndEndRadians,s=t.noop,a=t.pick,l=t.Point,c=t.Series,u=t.seriesType,d=t.setAnimation;u("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0,connectorShape:"fixedOffset",crookDistance:"70%"},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:t.seriesTypes.column.prototype.pointAttribs,animate:function(t){var e=this,n=e.points,i=e.startAngleRad;t||(n.forEach(function(t){var n=t.graphic,r=t.shapeArgs;n&&(n.attr({r:t.startR||e.center[3]/2,start:i,end:i}),n.animate({r:r.r,start:r.start,end:r.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,n=0,i=this.points,r=i.length,o=this.options.ignoreHiddenPoint;for(t=0;t<r;t++)e=i[t],n+=o&&!e.visible?0:e.isNull?0:e.y;for(this.total=n,t=0;t<r;t++)e=i[t],e.percentage=0<n&&(e.visible||!o)?e.y/n*100:0,e.total=n},generatePoints:function(){c.prototype.generatePoints.call(this),this.updateTotals()},getX:function(t,e,n){var i=this.center,r=this.radii?this.radii[n.index]:i[2]/2;return i[0]+(e?-1:1)*Math.cos(Math.asin(Math.max(Math.min((t-i[1])/(r+n.labelDistance),1),-1)))*(r+n.labelDistance)+(0<n.labelDistance?(e?-1:1)*this.options.dataLabels.padding:0)},translate:function(t){this.generatePoints();var e,n,i,r,s,l,c=0,u=this.options,d=u.slicedOffset,h=d+(u.borderWidth||0),p=o(u.startAngle,u.endAngle),f=this.startAngleRad=p.start,p=(this.endAngleRad=p.end)-f,m=this.points,g=u.dataLabels.distance,u=u.ignoreHiddenPoint,v=m.length;for(t||(this.center=t=this.getCenter()),s=0;s<v;s++)l=m[s],l.labelDistance=a(l.options.dataLabels&&l.options.dataLabels.distance,g),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,l.labelDistance),e=f+c*p,u&&!l.visible||(c+=l.percentage/100),n=f+c*p,l.shapeType="arc",l.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*e)/1e3,end:Math.round(1e3*n)/1e3},n=(n+e)/2,n>1.5*Math.PI?n-=2*Math.PI:n<-Math.PI/2&&(n+=2*Math.PI),l.slicedTranslation={translateX:Math.round(Math.cos(n)*d),translateY:Math.round(Math.sin(n)*d)},i=Math.cos(n)*t[2]/2,r=Math.sin(n)*t[2]/2,l.tooltipPos=[t[0]+.7*i,t[1]+.7*r],l.half=n<-Math.PI/2||n>Math.PI/2?1:0,l.angle=n,e=Math.min(h,l.labelDistance/5),l.labelPosition={natural:{x:t[0]+i+Math.cos(n)*l.labelDistance,y:t[1]+r+Math.sin(n)*l.labelDistance},final:{},alignment:0>l.labelDistance?"center":l.half?"right":"left",connectorPosition:{breakAt:{x:t[0]+i+Math.cos(n)*e,y:t[1]+r+Math.sin(n)*e},touchingSliceAt:{x:t[0]+i,y:t[1]+r}}}},drawGraph:null,drawPoints:function(){var t,e,n,i,o=this,s=o.chart,a=s.renderer,l=o.options.shadow;!l||o.shadowGroup||s.styledMode||(o.shadowGroup=a.g("shadow").add(o.group)),o.points.forEach(function(c){if(e=c.graphic,c.isNull)e&&(c.graphic=e.destroy());else{if(i=c.shapeArgs,t=c.getTranslate(),!s.styledMode){var u=c.shadowGroup;l&&!u&&(u=c.shadowGroup=a.g("shadow").add(o.shadowGroup)),u&&u.attr(t),n=o.pointAttribs(c,c.selected&&"select")}e?(e.setRadialReference(o.center),s.styledMode||e.attr(n),e.animate(r(i,t))):(c.graphic=e=a[c.shapeType](i).setRadialReference(o.center).attr(t).add(o.group),s.styledMode||e.attr(n).attr({"stroke-linejoin":"round"}).shadow(l,u)),e.attr({visibility:c.visible?"inherit":"hidden"}),e.addClass(c.getClassName())}})},searchPoint:s,sortByAngle:function(t,e){t.sort(function(t,n){return void 0!==t.angle&&(n.angle-t.angle)*e})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getCenter:n.getCenter,getSymbol:s},{init:function(){l.prototype.init.apply(this,arguments);var t,n=this;return n.name=a(n.name,"Slice"),t=function(t){n.slice("select"===t.type)},e(n,"select",t),e(n,"unselect",t),n},isValid:function(){return t.isNumber(this.y,!0)&&0<=this.y},setVisible:function(t,e){var n=this,i=n.series,r=i.chart,o=i.options.ignoreHiddenPoint;e=a(e,o),t!==n.visible&&(n.visible=n.options.visible=t=void 0===t?!n.visible:t,i.options.data[i.data.indexOf(n)]=n.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(e){n[e]&&n[e][t?"show":"hide"](!0)}),n.legendItem&&r.legend.colorizeItem(n,t),t||"hover"!==n.state||n.setState(""),o&&(i.isDirty=!0),e&&r.redraw())},slice:function(t,e,n){var r=this.series;d(n,r.chart),a(e,!0),this.sliced=this.options.sliced=i(t)?t:!this.sliced,r.options.data[r.data.indexOf(this)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r-1,start:e.start,end:e.end})},connectorShapes:{fixedOffset:function(t,e,n){var i=e.breakAt;return e=e.touchingSliceAt,["M",t.x,t.y].concat(n.softConnector?["C",t.x+("left"===t.alignment?-5:5),t.y,2*i.x-e.x,2*i.y-e.y,i.x,i.y]:["L",i.x,i.y]).concat(["L",e.x,e.y])},straight:function(t,e){return e=e.touchingSliceAt,["M",t.x,t.y,"L",e.x,e.y]},crookedLine:function(e,n,i){n=n.touchingSliceAt;var r=this.series,o=r.center[0],s=r.chart.plotWidth,a=r.chart.plotLeft,r=e.alignment,l=this.shapeArgs.r;return i=t.relativeLength(i.crookDistance,1),i="left"===r?o+l+(s+a-o-l)*(1-i):a+(o-l)*i,o=["L",i,e.y],("left"===r?i>e.x||i<n.x:i<e.x||i>n.x)&&(o=[]),["M",e.x,e.y].concat(o).concat(["L",n.x,n.y])}},getConnectorPath:function(){var t=this.labelPosition,e=this.series.options.dataLabels,n=e.connectorShape,i=this.connectorShapes;return i[n]&&(n=i[n]),n.call(this,{x:t.final.x,y:t.final.y,alignment:t.alignment},t.connectorPosition,e)}})}(e),function(t){var e=t.addEvent,n=t.arrayMax,i=t.defined,r=t.extend,o=t.format,s=t.merge,a=t.noop,l=t.pick,c=t.relativeLength,u=t.Series,d=t.seriesTypes,h=t.stableSort,p=t.isArray,f=t.splat;t.distribute=function(e,n,i){function r(t,e){return t.target-e.target}var o,s,a=!0,c=e,u=[];s=0;var d=c.reducedLen||n;for(o=e.length;o--;)s+=e[o].size;if(s>d){for(h(e,function(t,e){return(e.rank||0)-(t.rank||0)}),s=o=0;s<=d;)s+=e[o].size,o++;u=e.splice(o-1,e.length)}for(h(e,r),e=e.map(function(t){return{size:t.size,targets:[t.target],align:l(t.align,.5)}});a;){for(o=e.length;o--;)a=e[o],s=(Math.min.apply(0,a.targets)+Math.max.apply(0,a.targets))/2,a.pos=Math.min(Math.max(0,s-a.size*a.align),n-a.size);for(o=e.length,a=!1;o--;)0<o&&e[o-1].pos+e[o-1].size>e[o].pos&&(e[o-1].size+=e[o].size,e[o-1].targets=e[o-1].targets.concat(e[o].targets),e[o-1].align=.5,e[o-1].pos+e[o-1].size>n&&(e[o-1].pos=n-e[o-1].size),e.splice(o,1),a=!0)}c.push.apply(c,u),o=0,e.some(function(e){var r=0;if(e.targets.some(function(){if(c[o].pos=e.pos+r,Math.abs(c[o].pos-c[o].target)>i)return c.slice(0,o+1).forEach(function(t){delete t.pos}),c.reducedLen=(c.reducedLen||n)-.1*n,c.reducedLen>.1*n&&t.distribute(c,n,i),!0;r+=c[o].size,o++}))return!0}),h(c,r)},u.prototype.drawDataLabels=function(){function n(t,e){var n=e.filter;return!n||(e=n.operator,t=t[n.property],n=n.value,">"===e&&t>n||"<"===e&&t<n||">="===e&&t>=n||"<="===e&&t<=n||"=="===e&&t==n||"==="===e&&t===n)}function r(t,e){var n,i=[];if(p(t)&&!p(e))i=t.map(function(t){return s(t,e)});else if(p(e)&&!p(t))i=e.map(function(e){return s(t,e)});else if(p(t)||p(e))for(n=Math.max(t.length,e.length);n--;)i[n]=s(t[n],e[n]);else i=s(t,e);return i}var a,c,u=this,d=u.chart,h=u.options,m=h.dataLabels,g=u.points,v=u.hasRendered||0,b=l(m.defer,!!h.animation),y=d.renderer,m=r(r(d.options.plotOptions&&d.options.plotOptions.series&&d.options.plotOptions.series.dataLabels,d.options.plotOptions&&d.options.plotOptions[u.type]&&d.options.plotOptions[u.type].dataLabels),m);t.fireEvent(this,"drawDataLabels"),(p(m)||m.enabled||u._hasPointLabels)&&(c=u.plotGroup("dataLabelsGroup","data-labels",b&&!v?"hidden":"visible",m.zIndex||6),b&&(c.attr({opacity:+v}),v||e(u,"afterAnimate",function(){u.visible&&c.show(!0),c[h.animation?"animate":"attr"]({opacity:1},{duration:200})})),g.forEach(function(e){a=f(r(m,e.dlOptions||e.options&&e.options.dataLabels)),a.forEach(function(r,s){var a,p,f,m,g=r.enabled&&!e.isNull&&n(e,r),v=e.dataLabels?e.dataLabels[s]:e.dataLabel,b=e.connectors?e.connectors[s]:e.connector,_=!v;g&&(a=e.getLabelConfig(),p=r[e.formatPrefix+"Format"]||r.format,a=i(p)?o(p,a,d.time):(r[e.formatPrefix+"Formatter"]||r.formatter).call(a,r),p=r.style,f=r.rotation,d.styledMode||(p.color=l(r.color,p.color,u.color,"#000000"),"contrast"===p.color&&(e.contrastColor=y.getContrast(e.color||u.color),p.color=r.inside||0>l(r.distance,e.labelDistance)||h.stacking?e.contrastColor:"#000000"),h.cursor&&(p.cursor=h.cursor)),m={r:r.borderRadius||0,rotation:f,padding:r.padding,zIndex:1},d.styledMode||(m.fill=r.backgroundColor,m.stroke=r.borderColor,m["stroke-width"]=r.borderWidth),t.objectEach(m,function(t,e){void 0===t&&delete m[e]})),!v||g&&i(a)?g&&i(a)&&(v?m.text=a:(e.dataLabels=e.dataLabels||[],v=e.dataLabels[s]=f?y.text(a,0,-9999).addClass("highcharts-data-label"):y.label(a,0,-9999,r.shape,null,null,r.useHTML,null,"data-label"),s||(e.dataLabel=v),v.addClass(" highcharts-data-label-color-"+e.colorIndex+" "+(r.className||"")+(r.useHTML?" highcharts-tracker":""))),v.options=r,v.attr(m),d.styledMode||v.css(p).shadow(r.shadow),v.added||v.add(c),u.alignDataLabel(e,v,r,null,_)):(e.dataLabel=e.dataLabel&&e.dataLabel.destroy(),e.dataLabels&&(1===e.dataLabels.length?delete e.dataLabels:delete e.dataLabels[s]),s||delete e.dataLabel,b&&(e.connector=e.connector.destroy(),e.connectors&&(1===e.connectors.length?delete e.connectors:delete e.connectors[s])))})})),t.fireEvent(this,"afterDrawDataLabels")},u.prototype.alignDataLabel=function(t,e,n,i,o){var s,a=this.chart,c=this.isCartesian&&a.inverted,u=l(t.dlBox&&t.dlBox.centerX,t.plotX,-9999),d=l(t.plotY,-9999),h=e.getBBox(),p=n.rotation,f=n.align,m=this.visible&&(t.series.forceDL||a.isInsidePlot(u,Math.round(d),c)||i&&a.isInsidePlot(u,c?i.x+1:i.y+i.height-1,c)),g="justify"===l(n.overflow,"justify");m&&(s=a.renderer.fontMetrics(a.styledMode?void 0:n.style.fontSize,e).b,i=r({x:c?this.yAxis.len-d:u,y:Math.round(c?this.xAxis.len-u:d),width:0,height:0},i),r(n,{width:h.width,height:h.height}),p?(g=!1,u=a.renderer.rotCorr(s,p),u={x:i.x+n.x+i.width/2+u.x,y:i.y+n.y+{top:0,middle:.5,bottom:1}[n.verticalAlign]*i.height},e[o?"attr":"animate"](u).attr({align:f}),d=(p+720)%360,d=180<d&&360>d,"left"===f?u.y-=d?h.height:0:"center"===f?(u.x-=h.width/2,u.y-=h.height/2):"right"===f&&(u.x-=h.width,u.y-=d?0:h.height),e.placed=!0,e.alignAttr=u):(e.align(n,null,i),u=e.alignAttr),g&&0<=i.height?t.isLabelJustified=this.justifyDataLabel(e,n,u,h,i,o):l(n.crop,!0)&&(m=a.isInsidePlot(u.x,u.y)&&a.isInsidePlot(u.x+h.width,u.y+h.height)),n.shape&&!p)&&e[o?"attr":"animate"]({anchorX:c?a.plotWidth-t.plotY:t.plotX,anchorY:c?a.plotHeight-t.plotX:t.plotY}),m||(e.attr({y:-9999}),e.placed=!1)},u.prototype.justifyDataLabel=function(t,e,n,i,r,o){var s,a,l=this.chart,c=e.align,u=e.verticalAlign,d=t.box?0:t.padding||0;return s=n.x+d,0>s&&("right"===c?e.align="left":e.x=-s,a=!0),s=n.x+i.width-d,s>l.plotWidth&&("left"===c?e.align="right":e.x=l.plotWidth-s,a=!0),s=n.y+d,0>s&&("bottom"===u?e.verticalAlign="top":e.y=-s,a=!0),s=n.y+i.height-d,s>l.plotHeight&&("top"===u?e.verticalAlign="bottom":e.y=l.plotHeight-s,a=!0),a&&(t.placed=!o,t.align(e,null,r)),a},d.pie&&(d.pie.prototype.dataLabelPositioners={radialDistributionY:function(t){return t.top+t.distributeBox.pos},radialDistributionX:function(t,e,n,i){return t.getX(n<e.top+2||n>e.bottom-2?i:n,e.half,e)},justify:function(t,e,n){return n[0]+(t.half?-1:1)*(e+t.labelDistance)},alignToPlotEdges:function(t,e,n,i){return t=t.getBBox().width,e?t+i:n-t-i},alignToConnectors:function(t,e,n,i){var r,o=0;return t.forEach(function(t){(r=t.dataLabel.getBBox().width)>o&&(o=r)}),e?o+i:n-o-i}},d.pie.prototype.drawDataLabels=function(){var e,r,o,s,a,c,d,h,p,f,m=this,g=m.data,v=m.chart,b=m.options.dataLabels,y=b.connectorPadding,_=l(b.connectorWidth,1),w=v.plotWidth,S=v.plotHeight,E=v.plotLeft,x=Math.round(v.chartWidth/3),C=m.center,T=C[2]/2,k=C[1],O=[[],[]],P=[0,0,0,0],I=m.dataLabelPositioners;m.visible&&(b.enabled||m._hasPointLabels)&&(g.forEach(function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)}),u.prototype.drawDataLabels.apply(m),g.forEach(function(t){t.dataLabel&&(t.visible?(O[t.half].push(t),t.dataLabel._pos=null,!i(b.style.width)&&!i(t.options.dataLabels&&t.options.dataLabels.style&&t.options.dataLabels.style.width)&&t.dataLabel.getBBox().width>x&&(t.dataLabel.css({width:.7*x}),t.dataLabel.shortened=!0)):(t.dataLabel=t.dataLabel.destroy(),t.dataLabels&&1===t.dataLabels.length&&delete t.dataLabels))}),O.forEach(function(n,r){var u,g,_,x=n.length,O=[];if(x)for(m.sortByAngle(n,r-.5),0<m.maxLabelDistance&&(u=Math.max(0,k-T-m.maxLabelDistance),g=Math.min(k+T+m.maxLabelDistance,v.plotHeight),n.forEach(function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,k-T-t.labelDistance),t.bottom=Math.min(k+T+t.labelDistance,v.plotHeight),_=t.dataLabel.getBBox().height||21,t.distributeBox={target:t.labelPosition.natural.y-t.top+_/2,size:_,rank:t.y},O.push(t.distributeBox))}),u=g+_-u,t.distribute(O,u,u/5)),f=0;f<x;f++){if(e=n[f],a=e.labelPosition,o=e.dataLabel,p=!1===e.visible?"hidden":"inherit",h=u=a.natural.y,O&&i(e.distributeBox)&&(void 0===e.distributeBox.pos?p="hidden":(c=e.distributeBox.size,h=I.radialDistributionY(e))),delete e.positionIndex,b.justify)d=I.justify(e,T,C);else switch(b.alignTo){case"connectors":d=I.alignToConnectors(n,r,w,E);break;case"plotEdges":d=I.alignToPlotEdges(o,r,w,E);break;default:d=I.radialDistributionX(m,e,h,u)}o._attr={visibility:p,align:a.alignment},o._pos={x:d+b.x+({left:y,right:-y}[a.alignment]||0),y:h+b.y-10},a.final.x=d,a.final.y=h,l(b.crop,!0)&&(s=o.getBBox().width,u=null,d-s<y&&1===r?(u=Math.round(s-d+y),P[3]=Math.max(u,P[3])):d+s>w-y&&0===r&&(u=Math.round(d+s-w+y),P[1]=Math.max(u,P[1])),0>h-c/2?P[0]=Math.max(Math.round(c/2-h),P[0]):h+c/2>S&&(P[2]=Math.max(Math.round(h+c/2-S),P[2])),o.sideOverflow=u)}}),0===n(P)||this.verifyDataLabelOverflow(P))&&(this.placeDataLabels(),_&&this.points.forEach(function(t){var e;r=t.connector,(o=t.dataLabel)&&o._pos&&t.visible&&0<t.labelDistance?(p=o._attr.visibility,(e=!r)&&(t.connector=r=v.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+t.colorIndex+(t.className?" "+t.className:"")).add(m.dataLabelsGroup),v.styledMode||r.attr({"stroke-width":_,stroke:b.connectorColor||t.color||"#666666"})),r[e?"attr":"animate"]({d:t.getConnectorPath()}),r.attr("visibility",p)):r&&(t.connector=r.destroy())}))},d.pie.prototype.placeDataLabels=function(){this.points.forEach(function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.sideOverflow&&(e._attr.width=e.getBBox().width-e.sideOverflow,e.css({width:e._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),e.shortened=!0),e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))},this)},d.pie.prototype.alignDataLabel=a,d.pie.prototype.verifyDataLabelOverflow=function(t){var e,n=this.center,i=this.options,r=i.center,o=i.minSize||80,s=null!==i.size;return s||(null!==r[0]?e=Math.max(n[2]-Math.max(t[1],t[3]),o):(e=Math.max(n[2]-t[1]-t[3],o),n[0]+=(t[3]-t[1])/2),null!==r[1]?e=Math.max(Math.min(e,n[2]-Math.max(t[0],t[2])),o):(e=Math.max(Math.min(e,n[2]-t[0]-t[2]),o),n[1]+=(t[0]-t[2])/2),e<n[2]?(n[2]=e,n[3]=Math.min(c(i.innerSize||0,e),e),this.translate(n),this.drawDataLabels&&this.drawDataLabels()):s=!0),s}),d.column&&(d.column.prototype.alignDataLabel=function(t,e,n,i,r){var o=this.chart.inverted,a=t.series,c=t.dlBox||t.shapeArgs,d=l(t.below,t.plotY>l(this.translatedThreshold,a.yAxis.len)),h=l(n.inside,!!this.options.stacking);c&&(i=s(c),0>i.y&&(i.height+=i.y,i.y=0),c=i.y+i.height-a.yAxis.len,0<c&&(i.height-=c),o&&(i={x:a.yAxis.len-i.y-i.height,y:a.xAxis.len-i.x-i.width,width:i.height,height:i.width}),h||(o?(i.x+=d?0:i.width,i.width=0):(i.y+=d?i.height:0,i.height=0))),n.align=l(n.align,!o||h?"center":d?"right":"left"),n.verticalAlign=l(n.verticalAlign,o||h?"middle":d?"top":"bottom"),u.prototype.alignDataLabel.call(this,t,e,n,i,r),t.isLabelJustified&&t.contrastColor&&e.css({color:t.contrastColor})})}(e),function(t){var e=t.Chart,n=t.isArray,i=t.objectEach,r=t.pick,o=t.addEvent,s=t.fireEvent;o(e,"render",function(){var t=[];(this.labelCollectors||[]).forEach(function(e){t=t.concat(e())}),(this.yAxis||[]).forEach(function(e){e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&i(e.stacks,function(e){i(e,function(e){t.push(e.label)})})}),(this.series||[]).forEach(function(e){var i=e.options.dataLabels;e.visible&&(!1!==i.enabled||e._hasPointLabels)&&e.points.forEach(function(e){e.visible&&(n(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[]).forEach(function(n){var i=n.options;n.labelrank=r(i.labelrank,e.labelrank,e.shapeArgs&&e.shapeArgs.height),i.allowOverlap||t.push(n)})})}),this.hideOverlappingLabels(t)}),e.prototype.hideOverlappingLabels=function(t){var e,n,i,r,o,a,l=this,c=t.length,u=l.renderer;for(i=function(t){var e,n,i,r=t.box?0:t.padding||0;if(i=0,t&&(!t.alignAttr||t.placed))return e=t.alignAttr||{x:t.attr("x"),y:t.attr("y")},n=t.parentGroup,t.width||(i=t.getBBox(),t.width=i.width,t.height=i.height,i=u.fontMetrics(null,t.element).h),{x:e.x+(n.translateX||0)+r,y:e.y+(n.translateY||0)+r-i,width:t.width-2*r,height:t.height-2*r}},n=0;n<c;n++)(e=t[n])&&(e.oldOpacity=e.opacity,e.newOpacity=1,e.absoluteBox=i(e));for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),n=0;n<c;n++)for(a=(i=t[n])&&i.absoluteBox,e=n+1;e<c;++e)o=(r=t[e])&&r.absoluteBox,a&&o&&i!==r&&0!==i.newOpacity&&0!==r.newOpacity&&(o=function(t,e,n,i,r,o,s,a){return!(r>t+n||r+s<t||o>e+i||o+a<e)}(a.x,a.y,a.width,a.height,o.x,o.y,o.width,o.height))&&((i.labelrank<r.labelrank?i:r).newOpacity=0);t.forEach(function(t){var e,n;t&&(n=t.newOpacity,t.oldOpacity!==n&&(t.alignAttr&&t.placed?(n?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=n,t[t.isOld?"animate":"attr"](t.alignAttr,null,e),s(l,"afterHideOverlappingLabels")):t.attr({opacity:n})),t.isOld=!0)})}}(e),function(t){var e,n=t.addEvent,i=t.Chart,r=t.createElement,o=t.css,s=t.defaultOptions,a=t.defaultPlotOptions,l=t.extend,c=t.fireEvent,u=t.hasTouch,d=t.isObject,h=t.Legend,p=t.merge,f=t.pick,m=t.Point,g=t.Series,v=t.seriesTypes,b=t.svg;e=t.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,n=e.pointer,i=function(t){var e=n.getPointFromEvent(t);void 0!==e&&(n.isDirectTouch=!0,e.onMouseOver(t))};t.points.forEach(function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.div?t.dataLabel.div.point=t:t.dataLabel.element.point=t)}),t._hasTracking||(t.trackerGroups.forEach(function(r){t[r]&&(t[r].addClass("highcharts-tracker").on("mouseover",i).on("mouseout",function(t){n.onTrackerMouseOut(t)}),u&&t[r].on("touchstart",i),!e.styledMode&&t.options.cursor&&t[r].css(o).css({cursor:t.options.cursor}))}),t._hasTracking=!0),c(this,"afterDrawTracker")},drawTrackerGraph:function(){var t,e=this,n=e.options,i=n.trackByArea,r=[].concat(i?e.areaPath:e.graphPath),o=r.length,s=e.chart,a=s.pointer,l=s.renderer,d=s.options.tooltip.snap,h=e.tracker,p=function(){s.hoverSeries!==e&&e.onMouseOver()},f="rgba(192,192,192,"+(b?1e-4:.002)+")";if(o&&!i)for(t=o+1;t--;)"M"===r[t]&&r.splice(t+1,0,r[t+1]-d,r[t+2],"L"),(t&&"M"===r[t]||t===o)&&r.splice(t,0,"L",r[t-2]+d,r[t-1]);h?h.attr({d:r}):e.graph&&(e.tracker=l.path(r).attr({visibility:e.visible?"visible":"hidden",zIndex:2}).addClass(i?"highcharts-tracker-area":"highcharts-tracker-line").add(e.group),s.styledMode||e.tracker.attr({"stroke-linejoin":"round",stroke:f,fill:i?f:"none","stroke-width":e.graph.strokeWidth()+(i?0:2*d)}),[e.tracker,e.markerGroup].forEach(function(t){t.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(t){a.onTrackerMouseOut(t)}),n.cursor&&!s.styledMode&&t.css({cursor:n.cursor}),u&&t.on("touchstart",p)})),c(this,"afterDrawTracker")}},v.column&&(v.column.prototype.drawTracker=e.drawTrackerPoint),v.pie&&(v.pie.prototype.drawTracker=e.drawTrackerPoint),v.scatter&&(v.scatter.prototype.drawTracker=e.drawTrackerPoint),l(h.prototype,{setItemEvents:function(t,e,n){var i=this,r=i.chart.renderer.boxWrapper,o="highcharts-legend-"+(t instanceof m?"point":"series")+"-active",s=i.chart.styledMode;(n?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),r.addClass(o),s||e.css(i.options.itemHoverStyle)}).on("mouseout",function(){i.styledMode||e.css(p(t.visible?i.itemStyle:i.itemHiddenStyle)),r.removeClass(o),t.setState()}).on("click",function(e){var n=function(){t.setVisible&&t.setVisible()};r.removeClass(o),e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,n):c(t,"legendItemClick",e,n)})},createCheckboxForItem:function(t){t.checkbox=r("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),n(t.checkbox,"click",function(e){c(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),l(i.prototype,{showResetZoom:function(){function t(){e.zoomOut()}var e=this,n=s.lang,i=e.options.chart.resetZoomButton,r=i.theme,o=r.states,a="chart"===i.relativeTo?null:"plotBox";c(this,"beforeShowResetZoom",null,function(){e.resetZoomButton=e.renderer.button(n.resetZoom,null,null,t,r,o&&o.hover).attr({align:i.position.align,title:n.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(i.position,!1,a)})},zoomOut:function(){c(this,"selection",{resetSelection:!0},this.zoom)},zoom:function(t){var e,n,i=this.pointer,r=!1;!t||t.resetSelection?(this.axes.forEach(function(t){e=t.zoom()}),i.initiated=!1):t.xAxis.concat(t.yAxis).forEach(function(t){var n=t.axis;i[n.isXAxis?"zoomX":"zoomY"]&&(e=n.zoom(t.min,t.max),n.displayBtn&&(r=!0))}),n=this.resetZoomButton,r&&!n?this.showResetZoom():!r&&d(n)&&(this.resetZoomButton=n.destroy()),e&&this.redraw(f(this.options.chart.animation,t&&t.animation,100>this.pointCount))},pan:function(t,e){var n,i=this,r=i.hoverPoints;c(this,"pan",{originalEvent:t},function(){r&&r.forEach(function(t){t.setState()}),("xy"===e?[1,0]:[1]).forEach(function(e){e=i[e?"xAxis":"yAxis"][0];var r=e.horiz,o=t[r?"chartX":"chartY"],r=r?"mouseDownX":"mouseDownY",s=i[r],a=(e.pointRange||0)/2,l=e.reversed&&!i.inverted||!e.reversed&&i.inverted?-1:1,c=e.getExtremes(),u=e.toValue(s-o,!0)+a*l,l=e.toValue(s+e.len-o,!0)-a*l,d=l<u,s=d?l:u,u=d?u:l,l=Math.min(c.dataMin,a?c.min:e.toValue(e.toPixels(c.min)-e.minPixelPadding)),a=Math.max(c.dataMax,a?c.max:e.toValue(e.toPixels(c.max)+e.minPixelPadding)),d=l-s;0<d&&(u+=d,s=l),d=u-a,0<d&&(u=a,s-=d),e.series.length&&s!==c.min&&u!==c.max&&(e.setExtremes(s,u,!1,!1,{trigger:"pan"}),n=!0),i[r]=o}),n&&i.redraw(!1),o(i.container,{cursor:"move"})})}}),l(m.prototype,{select:function(t,e){var n=this,i=n.series,r=i.chart;t=f(t,!n.selected),n.firePointEvent(t?"select":"unselect",{accumulate:e},function(){n.selected=n.options.selected=t,i.options.data[i.data.indexOf(n)]=n.options,n.setState(t&&"select"),e||r.getSelectedPoints().forEach(function(t){t.selected&&t!==n&&(t.selected=t.options.selected=!1,i.options.data[i.data.indexOf(t)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this.series.chart,n=e.pointer;t=t?n.normalize(t):n.getChartCoordinatesFromPoint(this,e.inverted),n.runPointActions(t,this)},onMouseOut:function(){var t=this.series.chart;this.firePointEvent("mouseOut"),(t.hoverPoints||[]).forEach(function(t){t.setState()}),t.hoverPoints=t.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,i=p(e.series.options.point,e.options).events;e.events=i,t.objectEach(i,function(t,i){n(e,i,t)}),this.hasImportedEvents=!0}},setState:function(t,e){var n,i=Math.floor(this.plotX),r=this.plotY,o=this.series,s=o.options.states[t||"normal"]||{},u=a[o.type].marker&&o.options.marker,d=u&&!1===u.enabled,h=u&&u.states&&u.states[t||"normal"]||{},p=!1===h.enabled,m=o.stateMarkerGraphic,g=this.marker||{},v=o.chart,b=o.halo,y=u&&o.markerAttribs;(t=t||"")===this.state&&!e||this.selected&&"select"!==t||!1===s.enabled||t&&(p||d&&!1===h.enabled)||t&&g.states&&g.states[t]&&!1===g.states[t].enabled||(y&&(n=o.markerAttribs(this,t)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),t&&this.graphic.addClass("highcharts-point-"+t),v.styledMode||this.graphic.animate(o.pointAttribs(this,t),f(v.options.chart.animation,s.animation)),n&&this.graphic.animate(n,f(v.options.chart.animation,h.animation,u.animation)),m&&m.hide()):(t&&h&&(u=g.symbol||o.symbol,m&&m.currentSymbol!==u&&(m=m.destroy()),m?m[e?"animate":"attr"]({x:n.x,y:n.y}):u&&(o.stateMarkerGraphic=m=v.renderer.symbol(u,n.x,n.y,n.width,n.height).add(o.markerGroup),m.currentSymbol=u),!v.styledMode&&m&&m.attr(o.pointAttribs(this,t))),m&&(m[t&&v.isInsidePlot(i,r,v.inverted)?"show":"hide"](),m.element.point=this)),(i=s.halo)&&i.size?(b||(o.halo=b=v.renderer.path().add((this.graphic||m).parentGroup)),b.show()[e?"animate":"attr"]({d:this.haloPath(i.size)}),b.attr({class:"highcharts-halo highcharts-color-"+f(this.colorIndex,o.colorIndex)+(this.className?" "+this.className:""),zIndex:-1}),b.point=this,v.styledMode||b.attr(l({fill:this.color||o.color,"fill-opacity":i.opacity},i.attributes))):b&&b.point&&b.point.haloPath&&b.animate({d:b.point.haloPath(0)},null,b.hide),this.state=t,c(this,"afterSetState"))},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),l(g.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&c(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,n=e.tooltip,i=e.hoverPoint;e.hoverSeries=null,i&&i.onMouseOut(),this&&t.events.mouseOut&&c(this,"mouseOut"),!n||this.stickyTracking||n.shared&&!this.noSharedTooltip||n.hide(),this.setState()},setState:function(t){var e=this,n=e.options,i=e.graph,r=n.states,o=n.lineWidth,n=0;if(t=t||"",e.state!==t&&([e.group,e.markerGroup,e.dataLabelsGroup].forEach(function(n){n&&(e.state&&n.removeClass("highcharts-series-"+e.state),t&&n.addClass("highcharts-series-"+t))}),e.state=t,!(e.chart.styledMode||r[t]&&!1===r[t].enabled)&&(t&&(o=r[t].lineWidth||o+(r[t].lineWidthPlus||0)),i&&!i.dashstyle)))for(o={"stroke-width":o},i.animate(o,f(r[t||"normal"]&&r[t||"normal"].animation,e.chart.options.chart.animation));e["zone-graph-"+n];)e["zone-graph-"+n].attr(o),n+=1},setVisible:function(t,e){var n,i=this,r=i.chart,o=i.legendItem,s=r.options.chart.ignoreHiddenSeries,a=i.visible;n=(i.visible=t=i.options.visible=i.userOptions.visible=void 0===t?!a:t)?"show":"hide",["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(t){i[t]&&i[t][n]()}),r.hoverSeries!==i&&(r.hoverPoint&&r.hoverPoint.series)!==i||i.onMouseOut(),o&&r.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&r.series.forEach(function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),i.linkedSeries.forEach(function(e){e.setVisible(t,!1)}),s&&(r.isDirtyBox=!0),c(i,n),!1!==e&&r.redraw()},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=this.options.selected=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),c(this,t?"select":"unselect")},drawTracker:e.drawTrackerGraph})}(e),function(t){var e=t.Chart,n=t.isArray,i=t.isObject,r=t.pick,o=t.splat;e.prototype.setResponsive=function(e,n){var i=this.options.responsive,r=[],o=this.currentResponsive;!n&&i&&i.rules&&i.rules.forEach(function(n){void 0===n._id&&(n._id=t.uniqueKey()),this.matchResponsiveRule(n,r,e)},this),n=t.merge.apply(0,r.map(function(e){return t.find(i.rules,function(t){return t._id===e}).chartOptions})),n.isResponsiveOptions=!0,(r=r.toString()||void 0)!==(o&&o.ruleIds)&&(o&&this.update(o.undoOptions,e),r?(o=this.currentOptions(n),o.isResponsiveOptions=!0,this.currentResponsive={ruleIds:r,mergedOptions:n,undoOptions:o},this.update(n,e)):this.currentResponsive=void 0)},e.prototype.matchResponsiveRule=function(t,e){var n=t.condition;(n.callback||function(){return this.chartWidth<=r(n.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=r(n.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=r(n.minWidth,0)&&this.chartHeight>=r(n.minHeight,0)}).call(this)&&e.push(t._id)},e.prototype.currentOptions=function(e){function r(e,s,a,l){var c;t.objectEach(e,function(t,e){if(!l&&-1<["series","xAxis","yAxis"].indexOf(e))for(t=o(t),a[e]=[],c=0;c<t.length;c++)s[e][c]&&(a[e][c]={},r(t[c],s[e][c],a[e][c],l+1));else i(t)?(a[e]=n(t)?[]:{},r(t,s[e]||{},a[e],l+1)):a[e]=s[e]||null})}var s={};return r(e,this.options,s,0),s}}(e),e})},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){function r(t,e){return c.requestConversionSubscription(t,e,u.getAtmosphereId()).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function o(t,e){return c.requestConversionUnsubscription(t,e,u.getAtmosphereId()).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function s(t,e){var n=l.findWhere(d,{from:t,to:e});return n?n.refs++:(n={from:t,to:e,refs:1},d.push(n)),r(t,e)}function a(t,e){var n=l.findWhere(d,{from:t,to:e});return n&&--n.refs<=0?(d.splice(d.indexOf(n),1),o(t,e)):Promise.resolve()}var l=n(0),c=n(6),u=n(22),d=[];window._conversionRates=d,i.exports={add:s,remove:a}}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"f",function(){return r}),n.d(e,"h",function(){return o}),n.d(e,"g",function(){return s}),n.d(e,"m",function(){return a}),n.d(e,"i",function(){return l}),n.d(e,"b",function(){return c}),n.d(e,"l",function(){return u}),n.d(e,"n",function(){return d}),n.d(e,"j",function(){return h}),n.d(e,"e",function(){return p}),n.d(e,"d",function(){return f}),n.d(e,"k",function(){return m}),n.d(e,"c",function(){return g});var i="ALL_NEWS",r="newsReducer/LOAD_NEWS",o="newsReducer/LOAD_NEWS_SUCCESS",s="newsReducer/LOAD_NEWS_ERROR",a="newsReducer/SELECT_NEWS",l="newsReducer/OPEN_NEWS_PAGE",c="newsReducer/CLOSE_NEWS_PAGE",u="newsReducer/SELECT_DROPDOWN_FILTER",d="newsReducer/START_TIMER_UPDATE",h="newsReducer/REMOVE_TIMER_UPDATE",p="newsReducer/INCREMENT_REF_COUNT",f="newsReducer/DECREMENT_REF_COUNT",m="newsReducer/RESET_NEWS_BY_TICKER",g="newsReducer/CREATE_GROUP"},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(369),o=r.MINUTE,s=r.HOUR,a=r.DAY,l=r.WEEK,c=r.MONTH;i.exports={"1m":{amount:1,unit:o,seconds:60},"5m":{amount:5,unit:o,seconds:300},"15m":{amount:15,unit:o,seconds:900},"30m":{amount:30,unit:o,seconds:1800},"1h":{amount:1,unit:s,seconds:3600},"2h":{amount:2,unit:s,seconds:7200},"4h":{amount:4,unit:s,seconds:14400},"1d":{amount:1,unit:a,seconds:86400},"1w":{amount:1,unit:l,seconds:604800},"1mn":{amount:1,unit:c,seconds:2592e3}}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(12),o=(n(5),n(0)),s=n(1422);i.exports=r.extend({className:"color-picker",events:function(){return o.extend({},o.result(r.prototype,"events"),{"click .color-picker-button":"handleButtonClick"})},handleButtonClick:function(){this.$dropdown||(this.$dropdown=new s({parent:this.container},this.el,this.color,this.setColor.bind(this),this)),this.$dropdown.toggle()},setColor:function(t){this.color=t,this.$button.css("background-color",this.color),this.trigger("change",this,this.value())},initialize:function(t){r.prototype.initialize.apply(this,arguments),this.color=t.value||t.el.dataset.color,this.container=t.container,this.field=t.field,this.render()},value:function(){return this.color},updatePosition:function(){this.$dropdown&&this.$dropdown.updatePosition()},render:function(){this.$el.addClass(this.className),this.$el.html('<div class="color-picker-button"></div>'),this.$button=this.$el.find(".color-picker-button"),this.$button.css("background-color",this.color)}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(1),l=n.n(a),c=n(1308),u=n.n(c),d=n(0),h=n.n(d),p=n(11),f=n.n(p),m=n(33),g=n.n(m),v=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),b=function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={chartConfig:{}},n.defaultConfig={title:{text:""},plotOptions:{pie:{cursor:"pointer"}},chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,backgroundColor:"transparent",style:{fontFamily:"Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif;"}},credits:{enabled:!1}},g()(n),n}return s(e,t),v(e,[{key:"componentDidMount",value:function(){this.setState({chartConfig:h.a.mergeDeep({},this.defaultConfig,this.props.config)})}},{key:"componentWillReceiveProps",value:function(t){h.a.isEqual(t.config,this.props.config)||this.setState({chartConfig:h.a.mergeDeep({},this.defaultConfig,t.config)})}},{key:"render",value:function(){var t=this.props,e=t.afterRender,n=t.className,r=f()(i({},n,!!n)),o=this.state.chartConfig;return l.a.createElement("div",{className:r},l.a.createElement(u.a,{config:o,ref:"chart",callback:e}))}}]),e}(l.a.Component);b.defaultProps={afterRender:h.a.noop,config:{}},e.a=b},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}},function(t,e,n){"use strict";n.d(e,"n",function(){return i}),n.d(e,"s",function(){return r}),n.d(e,"u",function(){return o}),n.d(e,"t",function(){return s}),n.d(e,"H",function(){return a}),n.d(e,"G",function(){return l}),n.d(e,"c",function(){return c}),n.d(e,"e",function(){return u}),n.d(e,"f",function(){return d}),n.d(e,"d",function(){return h}),n.d(e,"m",function(){return p}),n.d(e,"A",function(){return f}),n.d(e,"B",function(){return m}),n.d(e,"L",function(){return g}),n.d(e,"D",function(){return v}),n.d(e,"F",function(){return b}),n.d(e,"E",function(){return y}),n.d(e,"I",function(){return _}),n.d(e,"K",function(){return w}),n.d(e,"J",function(){return S}),n.d(e,"x",function(){return E}),n.d(e,"z",function(){return x}),n.d(e,"y",function(){return C}),n.d(e,"o",function(){return T}),n.d(e,"q",function(){return k}),n.d(e,"p",function(){return O}),n.d(e,"v",function(){return P}),n.d(e,"a",function(){return I}),n.d(e,"C",function(){return A}),n.d(e,"r",function(){return M}),n.d(e,"b",function(){return N}),n.d(e,"g",function(){return D}),n.d(e,"N",function(){return L}),n.d(e,"M",function(){return R}),n.d(e,"w",function(){return F}),n.d(e,"i",function(){return B}),n.d(e,"h",function(){return U}),n.d(e,"j",function(){return j}),n.d(e,"k",function(){return z}),n.d(e,"l",function(){return V});var i="webinarsReducer/INIT_WEBINARS",r="webinarsReducer/LOAD_WEBINARS",o="webinarsReducer/LOAD_WEBINARS_SUCCESS",s="webinarsReducer/LOAD_WEBINARS_ERROR",a="webinarsReducer/SWITCH_WEBINARS_LIST_VIEW",l="webinarsReducer/SWITCH_WEBINARS_CALENDAR_VIEW",c="webinarsReducer/CHANGE_SELECTED_DATE",u="webinarsReducer/CHANGE_SELECTED_SMALL_CALENDAR_DATE",d="webinarsReducer/CHANGE_SELECTED_VIEW",h="webinarsReducer/CHANGE_SELECTED_EVENT",p="webinarsReducer/EXTEND_EVENTS",f="webinarsReducer/SELECT_NEXT_PAST_EVENT",m="webinarsReducer/SELECT_PREV_PAST_EVENT",g="webinarsReducer/WATCH_WEBINAR",v="webinarsReducer/SUBSCRIBE_WEBINAR",b="webinarsReducer/SUBSCRIBE_WEBINAR_SUCCESS",y="webinarsReducer/SUBSCRIBE_WEBINAR_ERROR",_="webinarsReducer/UNSUBSCRIBE_WEBINAR",w="webinarsReducer/UNSUBSCRIBE_WEBINAR_SUCCESS",S="webinarsReducer/UNSUBSCRIBE_WEBINAR_ERROR",E="webinarsReducer/PREMIUM_WEBINARS_CHECKER_REQUEST",x="webinarsReducer/PREMIUM_WEBINARS_CHECKER_REQUEST_SUCCESS",C="webinarsReducer/PREMIUM_WEBINARS_CHECKER_REQUEST_ERROR",T="webinarsReducer/JOIN_WEBINAR",k="webinarsReducer/JOIN_WEBINAR_SUCCESS",O="webinarsReducer/JOIN_WEBINAR_ERROR",P="webinarsReducer/MOBILE_SMALL_CALENDAR_ACTION",I="webinarsReducer/APPLY_FILTER",A="webinarsReducer/SPLIT_EVENTS",M="LIST",N="CALENDAR",D="DAY",L="WORK_WEEK",R="WEEK",F="MONTH",B="past",U="live",j="premium",z="soon",V="upcoming"},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(2),o=n(6),s=n(13),a=n(0);rolloverDates=n(274).rolloverDates;var l=function(t){return JSON.parse(JSON.stringify(t))},c=s.extend({defaults:function(){return{data:{}}},initialize:function(){this.listenTo(r,"user:login",this.loadRollovers)},loadRollovers:function(){return o.loadRollovers().then(this.loadRolloversSuccess.bind(this)).catch(this.loadRolloversError.bind(this))},loadRolloversSuccess:function(t){this.set("data",t.data),store.dispatch(rolloverDates(l(t.data)))},loadRolloversError:function(t){},getRollovers:function(t){var e=this.get("data");if(a.has(e,t)){var n=e[t],i=this.getDayNumber(n),r=this.getDay(n),o=this.getMonths(n);return __("instrument_info.rollover_date.text",i,r,o)}return __("instrument_info.none")},getDayNumber:function(t){var e="instrument_info.rollover_date.day_number."+t.dayNumberOfMonth,n=__(e);return n===e?t.dayNumberOfMonth:n},getDay:function(t){var e="instrument_info.day."+t.dayOfWeek,n=__(e);return n===e?t.dayOfWeek:n},getMonths:function(t){return t.months.map(function(t){return __("instrument_info.rollover_date.month."+t)}).join(", ")}});i.exports=new c}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){function r(t){return o(t).then(s).catch(a)}function o(t){return f.getMarginingSettings(m.getAtmosphereId(),t)}function s(t){return t.data}function a(t){return Promise.reject(t)}function l(t){return c(t).then(u.bind(this)).catch(d.bind(this))}function c(t){return f.getTradingCalendarsSettings(m.getAtmosphereId(),t)}function u(t){return h(t.data)}function d(t){return Promise.reject(t)}function h(t){var e={monday:"message.day0",tuesday:"message.day1",wednesday:"message.day2",thursday:"message.day3",friday:"message.day4",saturday:"message.day5",sunday:"message.day6"},n=g.isString(t.startDay)?__(e[t.startDay.toLowerCase()]):"",i=t.tradingHours[0],r=g.isString(t.endDay)?__(e[t.endDay.toLowerCase()]):"",o=t.tradingHours[1];return{tradingHoursName:p(t.active),tradingHoursValue:n&&i&&r&&o?n+" "+i+" - "+r+" "+o+" GMT":"",tradingHoursRaw:t}}function p(t){return void 0===t?__("instrument_info.trading_hours"):t?__("instrument_info.current_trading_hours"):__("instrument_info.next_trading_hours")}var f=n(6),m=n(22),g=n(0);i.exports.getMarginingSettings=r,i.exports.getTradingCalendarsSettings=l}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){"use strict";var i=n(1),r=n.n(i),o=n(11),s=n.n(o);e.a=function(t){var e=t.position,n=void 0===e?"relative":e,i=t.translucent,o=s()({"loading-box":!0,"loading-relative":"relative"===n,"loading-absolute":"absolute"===n,"loading-fixed":"fixed"===n,"translucent-1":1===i,"translucent-2":2===i,"translucent-3":3===i,"translucent-no":"no"===i});return r.a.createElement("div",{className:o},r.a.createElement("div",{className:"loading-content"},r.a.createElement("div",{className:"cssload-jumping"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))))}},function(t,e,n){"use strict";function i(t){return{type:v.g,payload:t}}function r(t){return function(e,n){e({type:v.e,payload:t,instruments:n().instruments})}}function o(t){return{type:v.f,payload:t}}function s(t){return function(e,n){var i=t.positionsArr,r=t.removed;g.a.each(i,function(t){var i=t.quantity,o=t.positionCode,s=n().positions.closingPosition,a=s[o];if(!g.a.isEmpty(s)&&a){var l=a.closingAmount,c=a.changedQuantity,u=Math.abs(c)-Math.abs(l);r?e({type:v.a,payload:{positionCode:o,status:b.CLOSED}}):a&&u===Math.abs(i)&&e({type:v.a,payload:{positionCode:o,status:b.CLOSED}})}})}}function a(t){return function(e){e({type:v.d,payload:t});var n=f.a.getPositionByCode(t);h.a.trigger("ui:edit-position",n)}}function l(t){return function(e){e({type:v.c,payload:t});var n=f.a.getPositionByCode(t);h.a.trigger("ui:close-position",n)}}function c(t){return function(e){e({type:v.b,payload:t}),h.a.trigger("instrument:positions:close_all",t)}}function u(){return function(){var t=n(7),e=t.getApplicationSettings(),i=!e.floatingOpenPositionsEnabled();e.floatingOpenPositionsEnabled(i),h.a.trigger("ui:click:floating:open-positions",i)}}Object.defineProperty(e,"__esModule",{value:!0}),e.positionMetrics=i,e.openPosition=r,e.openPositionFilters=o,e.clearClosedPosition=s,e.editPosition=a,e.closePosition=l,e.closeAllPositionsBySymbol=c,e.toggleFloatingPositions=u;var d=n(2),h=n.n(d),p=n(58),f=n.n(p),m=n(0),g=n.n(m),v=n(641),b=n(10)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=r.createClass({displayName:"GridCell",render:function(){var t=[this.props.className].join(" "),e=String(this.props.model.get(this.props.column.key));return this.props.column.valueLocalizable&&(e=__((this.props.column.localizationKeyPrefix||"")+(this.props.column.localizationValueToUpperCase?e.toUpperCase():e.toLowerCase()))),r.createElement("td",{className:t},e)}});i.exports=o}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){function r(){return{instrumentName:{name:"table.header.symbol",key:"name",type:s,columnProps:{className:"column-instrument-name",sortCompareFn:function(t,e){return R(t.get("name"),e.get("name"),this.sortDirection)}},cellProps:{className:"cell-instrument-name"}},instrumentMiniChart:{name:"table.header.mini-chart",key:"symbol",type:T,columnProps:{className:"column-mini-chart"}},instrumentNameWithChange:{name:"table.header.symbol",key:"name",type:a,columnProps:{className:"column-instrument-name-with-change",sortCompareFn:function(t,e){return R(t.get("name"),e.get("name"),this.sortDirection)}},cellProps:{className:"cell-instrument-name-with-change"}},blockRateWithSellButton:{name:"actions.sell",key:"bid",type:l,direction:"bidDirection",cellProps:{type:"Sell",display:"block",className:"cell-rate-with-button"},columnProps:{className:"column-rate-with-button"}},blockRateWithBuyButton:{name:"actions.buy",key:"ask",type:l,direction:"askDirection",cellProps:{type:"Buy",display:"block",className:"cell-rate-with-button"},columnProps:{className:"column-rate-with-button"}},rateWithSellButton:{name:"actions.sell",key:"bid",type:l,direction:"bidDirection",cellProps:{type:"Sell",className:"cell-rate-with-button"},customColumnComponent:n(714),columnProps:{text:"actions.sell",className:"column-rate-with-button"}},rateWithBuyButton:{name:"actions.buy",key:"ask",type:l,direction:"askDirection",cellProps:{type:"Buy",className:"cell-rate-with-button"},customColumnComponent:n(714),columnProps:{text:"actions.buy",className:"column-rate-with-button"}},pl:{name:"tab.open_positions.column.pl",key:"plOpen",type:d,cellProps:{className:"cell-pl"},columnProps:{className:"column-pl",sortCompareFn:function(t,e){return L(t.get("plOpen"),e.get("plOpen"),this.sortDirection)}}},change:{name:"actions.change",key:"percentChange",type:u,cellProps:{className:"cell-change"},columnProps:{className:"column-change",sortCompareFn:function(t,e){return L(t.get("percentChange"),e.get("percentChange"),this.sortDirection)}}},range:{name:"range",key:"dayHigh",type:k,cellProps:{className:"cell-range"},columnProps:{className:"column-range"}},sentiment:{name:"sentiment.title",key:"sentiment",type:c,cellProps:{tooltipText:"sentiment.text"},columnProps:{className:"column-sentiment",sortCompareFn:function(t,e){var n=t.get("sentiment"),i=e.get("sentiment");return D.isObject(n)?D.isObject(i)?L(i.longs,n.longs,this.sortDirection):-1:1}}},cellEmpty:{name:"",type:h},orderAction:{name:"history.order.direction",key:"side",type:p,columnProps:{className:"column-order-action",sortCompareFn:function(t,e){return L(t.get("side"),e.get("side"),this.sortDirection)}},cellProps:{className:"cell-order-action"},localizationKeyPrefix:"operation.side.",localizationValueToUpperCase:!0,valueLocalizable:!0},orderType:{name:"history.order.type",key:"type",type:p,columnProps:{className:"column-order-type",sortCompareFn:function(t,e){return L(t.get("type"),e.get("type"),this.sortDirection)}},cellProps:{className:"cell-order-type"},localizationKeyPrefix:"report.type.",localizationValueToUpperCase:!0,valueLocalizable:!0},orderPrice:{name:"history.order.entry.price",type:m,columnProps:{className:"column-order-price"},cellProps:{className:"cell-order-price"}},orderPlaceTime:{name:"history.order.entry.time",key:"createdTime",type:M,columnProps:{className:"column-order-place-time",sortCompareFn:function(t,e){return L(t.get("createdTime"),e.get("createdTime"),this.sortDirection)}},customColumnComponent:N,cellProps:{className:"cell-order-place-time"},alwaysInExpandable:!0},orderQuantity:{name:"history.order.lots",key:"quantity",type:v,columnProps:{className:"column-order-quantity"},cellProps:{className:"cell-order-quantity"}},orderModifiedTime:{name:"history.order.time",key:"modifiedTime",type:b,columnProps:{className:"column-order-modified-time",sortCompareFn:function(t,e){return L(t.get("modifiedTime"),e.get("modifiedTime"),this.sortDirection)}},customColumnComponent:N,cellProps:{className:"cell-order-modified-time"}},orderStatus:{name:"history.order.status",key:"lastExecutionStatus",type:p,columnProps:{className:"column-order-last-ex-status",sortCompareFn:function(t,e){return L(t.get("lastExecutionStatus"),e.get("lastExecutionStatus"),this.sortDirection)}},cellProps:{className:"cell-order-status"},localizationKeyPrefix:"history.order.status.",valueLocalizable:!0},orderNumber:{name:"history.order.id",key:"orderChainId",type:p,columnProps:{className:"column-order-order-number",sortCompareFn:function(t,e){return L(t.get("orderChainId"),e.get("orderChainId"),this.sortDirection)}},cellProps:{className:"cell-order-number"}},orderComment:{name:"history.order.reason",key:"statusDescription",type:f,columnProps:{className:"column-order-history-comment"},cellProps:{className:"cell-order-history-comment"},alwaysInExpandable:!0,localizationKeyPrefix:"traderejected.",localizationParams:"statusDescriptionParams",valueLocalizable:!0},positionDirection:{name:"history.order.direction",key:"side",type:p,columnProps:{className:"column-position-direction",sortCompareFn:function(t,e){return L(t.get("side"),e.get("side"),this.sortDirection)}},cellProps:{className:"cell-position-direction"},localizationKeyPrefix:"operation.side.",localizationValueToUpperCase:!0,valueLocalizable:!0},positionEntryPrice:{name:"history.position.entry.price",key:"openPrice",type:g,columnProps:{className:"column-position-entry-price"},cellProps:{className:"cell-position-entry-price"}},positionExitPrice:{name:"history.position.exit.price",key:"closePrice",type:g,columnProps:{className:"column-position-exit-price"},cellProps:{className:"cell-position-exit-price"}},positionEntryTime:{name:"history.position.entry.time",key:"openTime",type:b,columnProps:{className:"column-position-entry-time",sortCompareFn:function(t,e){return L(t.get("openTime"),e.get("openTime"),this.sortDirection)}},customColumnComponent:N,cellProps:{className:"cell-position-entry-time"}},positionExitTime:{name:"history.position.exit.time",key:"closeTime",type:b,columnProps:{className:"column-position-exit-time",sortCompareFn:function(t,e){return L(e.get("closeTime"),t.get("closeTime"),this.sortDirection)}},customColumnComponent:N,cellProps:{className:"cell-position-exit-time"}},positionNumber:{name:"history.position.key",key:"openOrderChainId",type:p,columnProps:{className:"column-position-position-number",sortCompareFn:function(t,e){return L(t.get("openOrderChainId"),e.get("openOrderChainId"),this.sortDirection)}},cellProps:{className:"cell-position-number"},alwaysInExpandable:!0},positionCloseReason:{name:"history.position.close.reason",key:"closeReason",type:p,columnProps:{className:"column-position-close-reason"},cellProps:{className:"cell-position-close-reason"},alwaysInExpandable:!0},priceAlertInstrumentName:{name:"table.header.symbol",type:_,columnProps:{className:"column-instrument-name",sortCompareFn:function(t,e){return R(t.get("instrument").get("name"),e.get("instrument").get("name"),this.sortDirection)}},cellProps:{className:"cell-instrument-name"},minWidth:156},priceAlertType:{name:"tab.price-alerts.grid.columns.type",type:w,columnProps:{className:"column-alert-type",sortCompareFn:function(t,e){return R(__("tab.price-alerts.alert-types."+t.get("alertType").get("localizationKey")),__("tab.price-alerts.alert-types."+e.get("alertType").get("localizationKey")),this.sortDirection)}},cellProps:{className:"cell-alert-type"},minWidth:260},priceAlertAmount:{name:"tab.price-alerts.grid.columns.amount",type:S,columnProps:{className:"column-alert-amount"},cellProps:{className:"cell-alert-amount"},minWidth:104},priceAlertNotifications:{name:"tab.price-alerts.grid.columns.notification-type",type:E,columnProps:{className:"column-alert-notifications"},cellProps:{className:"cell-alert-notifications"},minWidth:200},priceAlertCurrent:{name:"tab.price-alerts.grid.columns.current",type:x,columnProps:{className:"column-alert-current"},cellProps:{className:"cell-alert-current"},minWidth:208},priceAlertActions:{name:"tab.price-alerts.grid.columns.actions",type:C,columnProps:{className:"column-alert-actions"},cellProps:{className:"cell-alert-actions"},minWidth:100},priceAlertNewButton:{type:O},toggleExpandableRow:{type:y,columnProps:{className:"column-toggle"},minWidth:66},animSellButton:{name:"actions.sell",key:"bid",type:P,columnProps:{className:"cell-anim-button-rate block"},cellProps:{className:"cell-anim-button-rate block"}},animBuyButton:{name:"actions.buy",key:"ask",type:I,columnProps:{className:"cell-anim-button-rate block"},cellProps:{className:"cell-anim-button-rate block"}},spreadWithDirection:{name:"",type:A,columnProps:{className:"cell-spread-with-direction"},cellProps:{className:"cell-spread-with-direction"}}}}function o(t){return F||(F=r()),F[t]}var s=n(417),a=n(1554),l=n(120),c=n(1555),u=n(1556),d=n(1557),h=n(1558),p=n(290),f=n(1559),m=n(1560),g=n(1561),v=n(1562),b=n(1563),y=n(1564),_=n(1565),w=n(1566),S=n(1567),E=n(1568),x=n(1569),C=n(887),T=n(1571),k=n(1572),O=n(1573),P=n(1574),I=n(1581),A=n(1583),M=n(1584),N=n(1585),D=n(0),L=function(t,e,n){return(t<e?-1:t>e?1:0)*n},R=function(t,e,n){return t=String(t).toLowerCase(),e=String(e).toLowerCase(),L(t,e,n)},F=null;i.exports={getColumnConfig:o,size:{EXTRA_SMALL:768,SMALL:992,MIDDLE:1200},DEFAULT_COLUMN_MIN_WIDTH:100}}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,n){n.exports={EMPTY:"EMPTY",PENDING:"PENDING",SUCCESS:"SUCCESS",ERROR:"ERROR"}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function r(t,e){var n=e.id;return{value:Object(l.l)(t,n)||null}}var o=n(1),s=n.n(o),a=n(8),l=n(88),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u=function(t){var e=t.value,n=(t.dispatch,t.as),r=i(t,["value","dispatch","as"]);return s.a.createElement(n||"span",c({},r),e)};e.a=Object(a.connect)(r)(u)},function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function r(t,e){var n=e.id;return{value:Object(u.i)(t,n)||null}}var o=n(1),s=n.n(o),a=n(8),l=n(68),c=n.n(l),u=n(88),d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},h=function(t){var e=t.value,n=(t.dispatch,t.as),r=i(t,["value","dispatch","as"]),o=c.a.servicesDate(e);return s.a.createElement(n||"span",d({},r),e?o:e)};e.a=Object(a.connect)(r)(h)},function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function r(t,e){var n=e.id;return{value:Object(l.k)(t,n)||"Forexlive.com"}}var o=n(1),s=n.n(o),a=n(8),l=n(88),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u=function(t){var e=t.value,n=(t.dispatch,t.as),r=i(t,["value","dispatch","as"]);return s.a.createElement(n||"span",c({href:e,className:"item-source"},r),e)};e.a=Object(a.connect)(r)(u)},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}n.d(e,"e",function(){return s}),n.d(e,"f",function(){return a}),n.d(e,"a",function(){return u}),n.d(e,"c",function(){return d}),n.d(e,"b",function(){return h}),n.d(e,"g",function(){return p}),n.d(e,"d",function(){return f});var r=n(0),o=n.n(r),s=function(t){return t.elements&&t.elements[0]&&t.elements[0].elements},a=function(t){return t.elements&&0===t.elements.length},l=function(t){return t&&o.a.isArray(t.elements)&&t.elements[0]&&t.elements[0].elements},c=function(t){return l(t)&&t.elements[0]},u=function t(e){var n=c(e);return n?t(n):e},d=function(t){return l(t)&&[].concat(i(t.elements))},h=function(t,e){return o.a.size(t)>=e&&o.a.first(t,e)},p=function(t){return o.a.isArray(t)&&"/"+t.join("/")+"/"},f=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=String(t).split("/").filter(function(t){return!!t}),r=i.length,o=0;o<r;o++){var s=i.slice(0,r-o),a="/"+s.join("/")+"/";if(e[a])return a}return n}},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){function r(){return r._$elem||(r._$elem=a(".balloon-message"),r._$elem.on("mouseenter",function(t){t.stopPropagation(),clearTimeout(c)}),r._$elem.on("mouseleave",function(t){t.stopPropagation(),o()})),r._$elem}function o(){c=setTimeout(function(){l&&r().fadeOut({duration:800,complete:function(){l=!1,c=null,s(u.shift())}})},5e3)}function s(t){var e=r();if(!t)return void e.css("display","none");l=!0,e.css("display","block"),t.critical?e.addClass("critical"):e.removeClass("critical"),e.find(".title").html(t.title),e.find(".body").html(t.body),e.fadeIn({duration:800,complete:o})}var a=n(5),l=!1,c=null,u=[];i.exports.show=function(t){if(l)return void u.push(t);s(t)}}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(5))},,,,,,function(t,e,n){(function(i){function r(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}var o;void 0!==(o=function(t,e,i){var o=(n(1),n(15)),s=(n(0),n(29)),a=n(5),l=function(t,e){return e.mobile?o.mobile()?t:null:e.desktop&&e.tablet?o.desktop()||o.tablet()?t:null:e.tablet?o.tablet()?t:null:e.desktop?o.desktop()?t:null:t},c=function(){var t=window,e=document,n=e.documentElement,i=e.getElementsByTagName("body")[0];return{width:t.innerWidth||n.clientWidth||i.clientWidth,height:t.innerHeight||n.clientHeight||i.clientHeight}},u=function(){return c().width>c().height?"landscape":"portrait"};i.exports=s({displayName:"exports",getInitialState:function(){return{orientation:u()}},componentDidMount:function(){var t=this;this._bindedHandleResize=function(){return t.handleResize()},a(window).on("resize",this._bindedHandleResize)},componentWillUnmount:function(){a(window).off("resize",this._bindedHandleResize)},handleResize:function(){this.setState({orientation:u()})},shouldComponentUpdate:function(t,e){return t.landscape!==this.props.landscape||t.portrait!==this.props.portrait||e.orientation!==this.state.orientation},render:function(){var t=this.state.orientation,e=this.props,n=e.children,i=r(e,["children"]);return i.landscape?"landscape"===t?l(n,i):null:i.portrait?"portrait"===t?l(n,i):null:l(n,i)}})}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(5))},function(t,e,n){var i=n(27),r=n(21).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){var i=n(21),r=n(57),o=n(123),s=n(440),a=n(43).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,n){var i=n(189)("keys"),r=n(139);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(21).document;t.exports=i&&i.documentElement},function(t,e,n){var i=n(27),r=n(18),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n(89)(Function.call,n(83).f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var i=n(27),r=n(309).set;t.exports=function(t,e,n){var o,s=e.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&i(o)&&r&&r(t,o),t}},function(t,e,n){"use strict";var i=n(91),r=n(101);t.exports=function(t){var e=String(r(this)),n="",o=i(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){"use strict";var i=n(123),r=n(4),o=n(73),s=n(72),a=n(165),l=n(316),c=n(162),u=n(84),d=n(32)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,f,m,g,v){l(n,e,f);var b,y,_,w=function(t){if(!h&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",E="values"==m,x=!1,C=t.prototype,T=C[d]||C["@@iterator"]||m&&C[m],k=T||w(m),O=m?E?w("entries"):k:void 0,P="Array"==e?C.entries||T:T;if(P&&(_=u(P.call(new t)))!==Object.prototype&&_.next&&(c(_,S,!0),i||"function"==typeof _[d]||s(_,d,p)),E&&T&&"values"!==T.name&&(x=!0,k=function(){return T.call(this)}),i&&!v||!h&&!x&&C[d]||s(C,d,k),a[e]=k,a[S]=p,m)if(b={values:E?k:w("values"),keys:g?k:w("keys"),entries:O},v)for(y in b)y in C||o(C,y,b[y]);else r(r.P+r.F*(h||x),e,b);return b}},function(t,e,n){"use strict";var i=n(142),r=n(138),o=n(162),s={};n(72)(s,n(32)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(s,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var i=n(228),r=n(101);t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},function(t,e,n){var i=n(32)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var i=n(165),r=n(32)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},function(t,e,n){"use strict";var i=n(43),r=n(138);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},function(t,e,n){var i=n(163),r=n(32)("iterator"),o=n(165);t.exports=n(57).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e,n){var i=n(979);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){"use strict";var i=n(50),r=n(141),o=n(35);t.exports=function(t){for(var e=i(this),n=o(e.length),s=arguments.length,a=r(s>1?arguments[1]:void 0,n),l=s>2?arguments[2]:void 0,c=void 0===l?n:r(l,n);c>a;)e[a++]=t;return e}},function(t,e,n){"use strict";var i=n(125),r=n(459),o=n(165),s=n(82);t.exports=n(315)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):"keys"==e?r(0,n):"values"==e?r(0,t[n]):r(0,[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){"use strict";var i=n(192),r=RegExp.prototype.exec,o=String.prototype.replace,s=r,a=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=void 0!==/()??/.exec("")[1];(a||l)&&(s=function(t){var e,n,s,c,u=this;return l&&(n=new RegExp("^"+u.source+"$(?!\\s)",i.call(u))),a&&(e=u.lastIndex),s=r.call(u,t),a&&s&&(u.lastIndex=u.global?s.index+s[0].length:e),l&&s&&s.length>1&&o.call(s[0],n,function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(s[c]=void 0)}),s}),t.exports=s},function(t,e,n){"use strict";var i=n(227)(!0);t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},function(t,e,n){var i,r,o,s=n(89),a=n(448),l=n(308),c=n(304),u=n(21),d=u.process,h=u.setImmediate,p=u.clearImmediate,f=u.MessageChannel,m=u.Dispatch,g=0,v={},b=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},y=function(t){b.call(t.data)};h&&p||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++g]=function(){a("function"==typeof t?t:Function(t),e)},i(g),g},p=function(t){delete v[t]},"process"==n(90)(d)?i=function(t){d.nextTick(s(b,t,1))}:m&&m.now?i=function(t){m.now(s(b,t,1))}:f?(r=new f,o=r.port2,r.port1.onmessage=y,i=s(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(t){u.postMessage(t+"","*")},u.addEventListener("message",y,!1)):i="onreadystatechange"in c("script")?function(t){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),b.call(t)}}:function(t){setTimeout(s(b,t,1),0)}),t.exports={set:h,clear:p}},function(t,e,n){var i=n(21),r=n(327).set,o=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,l="process"==n(90)(s);t.exports=function(){var t,e,n,c=function(){var i,r;for(l&&(i=s.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(l)n=function(){s.nextTick(c)};else if(!o||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var u=a.resolve(void 0);n=function(){u.then(c)}}else n=function(){r.call(i,c)};else{var d=!0,h=document.createTextNode("");new o(c).observe(h,{characterData:!0}),n=function(){h.data=d=!d}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},function(t,e,n){"use strict";function i(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=r(e),this.reject=r(n)}var r=n(64);t.exports.f=function(t){return new i(t)}},function(t,e,n){"use strict";var i=n(464),r=n(148);t.exports=n(233)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=i.getEntry(r(this,"Map"),t);return e&&e.v},set:function(t,e){return i.def(r(this,"Map"),0===t?0:t,e)}},i,!0)},function(t,e,n){"use strict";var i=n(464),r=n(148);t.exports=n(233)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(r(this,"Set"),t=0===t?0:t,t)}},i)},function(t,e,n){"use strict";var i,r=n(21),o=n(103)(0),s=n(73),a=n(124),l=n(445),c=n(465),u=n(27),d=n(148),h=n(148),p=!r.ActiveXObject&&"ActiveXObject"in r,f=a.getWeak,m=Object.isExtensible,g=c.ufstore,v=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(t){if(u(t)){var e=f(t);return!0===e?g(d(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return c.def(d(this,"WeakMap"),t,e)}},y=t.exports=n(233)("WeakMap",v,b,c,!0,!0);h&&p&&(i=c.getConstructor(v,"WeakMap"),l(i.prototype,b),a.NEED=!0,o(["delete","has","get","set"],function(t){var e=y.prototype,n=e[t];s(e,t,function(e,r){if(u(e)&&!m(e)){this._f||(this._f=new i);var o=this._f[t](e,r);return"set"==t?this:o}return n.call(this,e,r)})}))},function(t,e,n){"use strict";function i(t,e,n){var i,r,o,s=new Array(n),a=8*n-e-1,l=(1<<a)-1,c=l>>1,u=23===e?B(2,-24)-B(2,-77):0,d=0,h=t<0||0===t&&1/t<0?1:0;for(t=F(t),t!=t||t===L?(r=t!=t?1:0,i=l):(i=U(j(t)/z),t*(o=B(2,-i))<1&&(i--,o*=2),t+=i+c>=1?u/o:u*B(2,1-c),t*o>=2&&(i++,o/=2),i+c>=l?(r=0,i=l):i+c>=1?(r=(t*o-1)*B(2,e),i+=c):(r=t*B(2,c-1)*B(2,e),i=0));e>=8;s[d++]=255&r,r/=256,e-=8);for(i=i<<e|r,a+=e;a>0;s[d++]=255&i,i/=256,a-=8);return s[--d]|=128*h,s}function r(t,e,n){var i,r=8*n-e-1,o=(1<<r)-1,s=o>>1,a=r-7,l=n-1,c=t[l--],u=127&c;for(c>>=7;a>0;u=256*u+t[l],l--,a-=8);for(i=u&(1<<-a)-1,u>>=-a,a+=e;a>0;i=256*i+t[l],l--,a-=8);if(0===u)u=1-s;else{if(u===o)return i?NaN:c?-L:L;i+=B(2,e),u-=s}return(c?-1:1)*i*B(2,u-e)}function o(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function s(t){return[255&t]}function a(t){return[255&t,t>>8&255]}function l(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function c(t){return i(t,52,8)}function u(t){return i(t,23,4)}function d(t,e,n){T(t[P],e,{get:function(){return this[n]}})}function h(t,e,n,i){var r=+n,o=x(r);if(o+e>t[H])throw D(I);var s=t[V]._b,a=o+t[G],l=s.slice(a,a+e);return i?l:l.reverse()}function p(t,e,n,i,r,o){var s=+n,a=x(s);if(a+e>t[H])throw D(I);for(var l=t[V]._b,c=a+t[G],u=i(+r),d=0;d<e;d++)l[c+d]=u[o?d:e-d-1]}var f=n(21),m=n(42),g=n(123),v=n(234),b=n(72),y=n(147),_=n(26),w=n(145),S=n(91),E=n(35),x=n(466),C=n(143).f,T=n(43).f,k=n(323),O=n(162),P="prototype",I="Wrong index!",A=f.ArrayBuffer,M=f.DataView,N=f.Math,D=f.RangeError,L=f.Infinity,R=A,F=N.abs,B=N.pow,U=N.floor,j=N.log,z=N.LN2,V=m?"_b":"buffer",H=m?"_l":"byteLength",G=m?"_o":"byteOffset";if(v.ABV){if(!_(function(){A(1)})||!_(function(){new A(-1)})||_(function(){return new A,new A(1.5),new A(NaN),"ArrayBuffer"!=A.name})){A=function(t){return w(this,A),new R(x(t))};for(var W,q=A[P]=R[P],$=C(R),Y=0;$.length>Y;)(W=$[Y++])in A||b(A,W,R[W]);g||(q.constructor=A)}var X=new M(new A(2)),K=M[P].setInt8;X.setInt8(0,2147483648),X.setInt8(1,2147483649),!X.getInt8(0)&&X.getInt8(1)||y(M[P],{setInt8:function(t,e){K.call(this,t,e<<24>>24)},setUint8:function(t,e){K.call(this,t,e<<24>>24)}},!0)}else A=function(t){w(this,A,"ArrayBuffer");var e=x(t);this._b=k.call(new Array(e),0),this[H]=e},M=function(t,e,n){w(this,M,"DataView"),w(t,A,"DataView");var i=t[H],r=S(e);if(r<0||r>i)throw D("Wrong offset!");if(n=void 0===n?i-r:E(n),r+n>i)throw D("Wrong length!");this[V]=t,this[G]=r,this[H]=n},m&&(d(A,"byteLength","_l"),d(M,"buffer","_b"),d(M,"byteLength","_l"),d(M,"byteOffset","_o")),y(M[P],{getInt8:function(t){return h(this,1,t)[0]<<24>>24},getUint8:function(t){return h(this,1,t)[0]},getInt16:function(t){var e=h(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=h(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return o(h(this,4,t,arguments[1]))},getUint32:function(t){return o(h(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return r(h(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return r(h(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){p(this,1,t,s,e)},setUint8:function(t,e){p(this,1,t,s,e)},setInt16:function(t,e){p(this,2,t,a,e,arguments[2])},setUint16:function(t,e){p(this,2,t,a,e,arguments[2])},setInt32:function(t,e){p(this,4,t,l,e,arguments[2])},setUint32:function(t,e){p(this,4,t,l,e,arguments[2])},setFloat32:function(t,e){p(this,4,t,u,e,arguments[2])},setFloat64:function(t,e){p(this,8,t,c,e,arguments[2])}});O(A,"ArrayBuffer"),O(M,"DataView"),b(M[P],v.VIEW,!0),e.ArrayBuffer=A,e.DataView=M},,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){return t.filter(function(t){return!(0,s.default)(t)}).map(function(t,n){var i=void 0;return"function"!=typeof e||null!==(i=e(t,n))&&!i?(0,l.default)(t,n,e):i})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(1272),s=i(o),a=n(647),l=i(a)},function(t,e){t.exports={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",amp:"&",AMP:"&",andand:"⩕",And:"⩓",and:"∧",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angmsd:"∡",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",apacir:"⩯",ap:"≈",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxHd:"╤",boxhD:"╥",boxHD:"╦",boxhu:"┴",boxHu:"╧",boxhU:"╨",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsolb:"⧅",bsol:"\\",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",capand:"⩄",capbrcup:"⩉",capcap:"⩋",cap:"∩",Cap:"⋒",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cir:"○",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cup:"∪",Cup:"⋓",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",Darr:"↡",dArr:"⇓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",ddagger:"‡",ddarr:"⇊",DD:"ⅅ",dd:"ⅆ",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrowBar:"⤓",downarrow:"↓",DownArrow:"↓",Downarrow:"⇓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVectorBar:"⥖",DownLeftVector:"↽",DownRightTeeVector:"⥟",DownRightVectorBar:"⥗",DownRightVector:"⇁",DownTeeArrow:"↧",DownTee:"⊤",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",Ecirc:"Ê",ecirc:"ê",ecir:"≖",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",edot:"ė",eDot:"≑",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp13:" ",emsp14:" ",emsp:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",ge:"≥",gE:"≧",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",gescc:"⪩",ges:"⩾",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gla:"⪥",gl:"≷",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gt:">",GT:">",Gt:"≫",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",harrcir:"⥈",harr:"↔",hArr:"⇔",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",Im:"ℑ",imof:"⊷",imped:"Ƶ",Implies:"⇒",incare:"℅",in:"∈",infin:"∞",infintie:"⧝",inodot:"ı",intcal:"⊺",int:"∫",Int:"∬",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larrb:"⇤",larrbfs:"⤟",larr:"←",Larr:"↞",lArr:"⇐",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",latail:"⤙",lAtail:"⤛",lat:"⪫",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",LeftArrowBar:"⇤",leftarrow:"←",LeftArrow:"←",Leftarrow:"⇐",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVectorBar:"⥙",LeftDownVector:"⇃",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTeeArrow:"↤",LeftTee:"⊣",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangleBar:"⧏",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVectorBar:"⥘",LeftUpVector:"↿",LeftVectorBar:"⥒",LeftVector:"↼",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",lescc:"⪨",les:"⩽",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",llarr:"⇇",ll:"≪",Ll:"⋘",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoustache:"⎰",lmoust:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftrightarrow:"⟷",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longmapsto:"⟼",longrightarrow:"⟶",LongRightArrow:"⟶",Longrightarrow:"⟹",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",lt:"<",LT:"<",Lt:"≪",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",midast:"*",midcir:"⫰",mid:"∣",middot:"·",minusb:"⊟",minus:"−",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natural:"♮",naturals:"ℕ",natur:"♮",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",ne:"≠",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nlE:"≦̸",nle:"≰",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangleBar:"⧏̸",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangleBar:"⧐̸",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",nparallel:"∦",npar:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",nprec:"⊀",npreceq:"⪯̸",npre:"⪯̸",nrarrc:"⤳̸",nrarr:"↛",nrArr:"⇏",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",Ocirc:"Ô",ocirc:"ô",ocir:"⊚",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",orarr:"↻",Or:"⩔",or:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",otimesas:"⨶",Otimes:"⨷",otimes:"⊗",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",para:"¶",parallel:"∥",par:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plus:"+",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",prap:"⪷",Pr:"⪻",pr:"≺",prcue:"≼",precapprox:"⪷",prec:"≺",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",pre:"⪯",prE:"⪳",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportional:"∝",Proportion:"∷",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarr:"→",Rarr:"↠",rArr:"⇒",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",Re:"ℜ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrowBar:"⇥",rightarrow:"→",RightArrow:"→",Rightarrow:"⇒",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVectorBar:"⥕",RightDownVector:"⇂",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTeeArrow:"↦",RightTee:"⊢",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangleBar:"⧐",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVectorBar:"⥔",RightUpVector:"↾",RightVectorBar:"⥓",RightVector:"⇀",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoustache:"⎱",rmoust:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",scap:"⪸",Scaron:"Š",scaron:"š",Sc:"⪼",sc:"≻",sccue:"≽",sce:"⪰",scE:"⪴",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdotb:"⊡",sdot:"⋅",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",solbar:"⌿",solb:"⧄",sol:"/",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squ:"□",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succapprox:"⪸",succ:"≻",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",Sup:"⋑",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",therefore:"∴",Therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",timesbar:"⨱",timesb:"⊠",times:"×",timesd:"⨰",tint:"∭",toea:"⤨",topbot:"⌶",topcir:"⫱",top:"⊤",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",uarr:"↑",Uarr:"↟",uArr:"⇑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrowBar:"⤒",uparrow:"↑",UpArrow:"↑",Uparrow:"⇑",UpArrowDownArrow:"⇅",updownarrow:"↕",UpDownArrow:"↕",Updownarrow:"⇕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTeeArrow:"↥",UpTee:"⊥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",Vcy:"В",vcy:"в",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",veebar:"⊻",vee:"∨",Vee:"⋁",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xharr:"⟷",xhArr:"⟺",Xi:"Ξ",xi:"ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",yuml:"ÿ",Yuml:"Ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",zfr:"𝔷",Zfr:"ℨ",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}},function(t,e){t.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(1),r=n.n(i),o=n(662),s=n(663),a=n(254),l=function(t){var e=t.children,n=t.screenSize,i=Object(a.e)(n);return r.a.createElement(s.a,{render:function(t){return r.a.createElement(o.a,{cond:!i(t)},e)}})}},function(t,e){},function(t,e,n){"use strict";function i(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}e.a=i},function(t,e,n){"use strict";n.d(e,"h",function(){return i}),n.d(e,"i",function(){return r}),n.d(e,"k",function(){return o}),n.d(e,"g",function(){return s}),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return l}),n.d(e,"f",function(){return c}),n.d(e,"j",function(){return u}),n.d(e,"c",function(){return d}),n.d(e,"e",function(){return h}),n.d(e,"d",function(){return p});var i="user/UPDATE_ACCOUNT_METRICS",r="user/UPDATE_ACCOUNT_SETTINGS",o="user/UPDATE_PENDING_DEPOSIT",s="user/TOTALS",a="user/ADD_FAVORITE_INSTRUMENT",l="user/REMOVE_FAVORITE_INSTRUMENT",c="user/SET_FAVORITE_INSTRUMENTS",u="user/UPDATE_FAVORITES",d="user/SAVE_FAVORITES",h="user/SAVE_FAVORITES_SUCCESS",p="user/SAVE_FAVORITES_ERROR"},function(t,e,n){var i;void 0!==(i=function(t,e,i){i.exports=n(17).Events}.call(e,n,e,t))&&(t.exports=i)},,function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(45),s=n(1349),a=o.extend({model:s,comparator:"weight",loadData:function(t){var e=window._app.settings.getPriceAlertsTypes();this.reset(i.filter(t,function(t){return-1!==e.indexOf(t.id)||t.isGroup}))}});r.exports=new a}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"b",function(){return o});var i="baskets/BASKETS_LOAD",r="baskets/BASKETS_LOAD_SUCCESS",o="baskets/BASKETS_LOAD_ERROR"},,function(t,e,n){"use strict";n.d(e,"s",function(){return i}),n.d(e,"e",function(){return r}),n.d(e,"d",function(){return o}),n.d(e,"r",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"f",function(){return l}),n.d(e,"q",function(){return c}),n.d(e,"n",function(){return u}),n.d(e,"m",function(){return d}),n.d(e,"l",function(){return h}),n.d(e,"k",function(){return p}),n.d(e,"j",function(){return f}),n.d(e,"p",function(){return m}),n.d(e,"h",function(){return g}),n.d(e,"o",function(){return v}),n.d(e,"i",function(){return b}),n.d(e,"D",function(){return y}),n.d(e,"a",function(){return _}),n.d(e,"c",function(){return w}),n.d(e,"b",function(){return S}),n.d(e,"u",function(){return E}),n.d(e,"t",function(){return x}),n.d(e,"v",function(){return C}),n.d(e,"C",function(){return T}),n.d(e,"A",function(){return k}),n.d(e,"B",function(){return O}),n.d(e,"z",function(){return P}),n.d(e,"y",function(){return I}),n.d(e,"x",function(){return A}),n.d(e,"w",function(){return M});var i="notificationCenterReducer/POPUP_STATE",r="notificationCenterReducer/MESSAGES_ADD_OLD",o="notificationCenterReducer/MESSAGES_ADD_NEW",s="notificationCenterReducer/MESSAGES_VIEW",a="notificationCenterReducer/MESSAGES_COUNT_UNREAD",l="notificationCenterReducer/MESSAGES_COUNT_NEW",c="notificationCenterReducer/MESSAGES_UNSELECT_ALL",u="notificationCenterReducer/MESSAGES_SELECT_ALL",d="notificationCenterReducer/MESSAGES_SELECT",h="notificationCenterReducer/MESSAGES_SEEN_RESET_SUCCESS",p="notificationCenterReducer/MESSAGES_SEEN_RESET_LOADING",f="notificationCenterReducer/MESSAGES_SEEN_RESET_ERROR",m="notificationCenterReducer/MESSAGES_UNSELECT",g="notificationCenterReducer/MESSAGES_READ",v="notificationCenterReducer/MESSAGES_UNREAD",b="notificationCenterReducer/MESSAGES_READ_SELECTED",y="notificationCenterReducer/TAB_MESSAGES_VIEW",_="notificationCenterReducer/GARBAGE_ADD",w="notificationCenterReducer/GARBAGE_RESTORE",S="notificationCenterReducer/GARBAGE_FLUSH",E="notificationCenterReducer/SET_ACTIVE_TAB",x="notificationCenterReducer/SET_ACTIVE_MESSAGE",C="notificationCenterReducer/SET_IS_ACTIVE_MESSAGE_VISIBLE",T="notificationCenterReducer/TAB_CHECKBOX_CHECK",k="notificationCenterReducer/STATUS_MESSAGES_LOADING",O="notificationCenterReducer/STATUS_MESSAGES_SUCCESS",P="notificationCenterReducer/STATUS_MESSAGES_ERROR",I="notificationCenterReducer/STATUS_API_SUCCESS",A="notificationCenterReducer/STATUS_API_PENDING",M="notificationCenterReducer/STATUS_API_ERROR"},function(t,e,n){"use strict";function i(t,e){return t.parent().closest(e)||{}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"LoginMessageActionType",function(){return i});var i={SWITCH_ACCOUNT_TYPE_LIVE:"SWITCH_ACCOUNT_TYPE_LIVE",SWITCH_ACCOUNT_TYPE_DEMO:"SWITCH_ACCOUNT_TYPE_DEMO",EXTERNAL:"EXTERNAL",INTERNAL:"INTERNAL"}},function(t,e,n){var i;void 0!==(i=function(t,e,n){n.exports={MILLISECOND:"millisecond",SECOND:"second",MINUTE:"minute",HOUR:"hour",DAY:"day",WEEK:"week",MONTH:"month",YEAR:"year"}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(369),o=r.HOUR,s=r.DAY,a=r.WEEK,l=r.MONTH,c=r.YEAR;i.exports={"1h":{amount:1,unit:o,seconds:3600,request:{period:"1m",duration:864e3}},"1d":{amount:1,unit:s,seconds:86400,request:{period:"15m",duration:864e3}},"1w":{amount:1,unit:a,seconds:604800,request:{period:"2h",duration:864e3}},"1mn":{amount:1,unit:l,seconds:2592e3,request:{period:"4h",duration:6912e3}},"3mn":{amount:3,unit:l,seconds:7884e3,request:{period:"1d",duration:31622400}},"6mn":{amount:6,unit:l,seconds:1577e4,request:{period:"1d",duration:31622400}},"1y":{amount:1,unit:c,seconds:31622400,request:{period:"1d",duration:31622400}},"3y":{amount:3,unit:c,seconds:94867200,request:{period:"1w",duration:126489600}}}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i,r){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s,a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0!==(s=function(t,e,i){var s=n(0),l=n(7),c=n(6),u=n(132),d=n(2),h=s.template("<div class='tc-inactive'><%=__('trading.central.status.disabled')%></div><div><%=__('trading.central.status.contact')%></div>")(),p={categories:"Other",id:"TradingCentral",lines:[{colors:["#31921a"],thickness:1,title:__("trading.central.study.resistance.title"),type:"LINEAR_TYPE"},{colors:["#db2e27"],thickness:1,title:__("trading.central.study.support.title"),type:"LINEAR_TYPE"},{colors:["#6543ba"],thickness:1,title:__("trading.central.study.pivot.title"),type:"LINEAR_TYPE"}],overlaying:!0,parameters:[],parametersId:"",title:__("trading.central.button.expand")},f=function(){function t(){o(this,t)}return a(t,null,[{key:"isEnabled",value:function(){return l.getUserCommonData().isTradingCentralEnabled()}},{key:"isAvailable",value:function(){return l.getUserAccountServices().isTradingCentralAvailable()}},{key:"showUnavailableMessage",value:function(t){d.trigger("ui:message-box",{parent:r("body"),text:h,isHeaderShowed:!1,onOK:function(){return t&&t.destroy()}})}},{key:"save",value:function(t,e){return t?c.storeSettings({"chart.setting/tradingCentral":e}).then(function(){return l.getUserCommonData().setTradingCentralSettings(e),Promise.resolve()}):c.deleteSetting({"chart.setting/tradingCentral":{}}).then(function(){return l.getUserCommonData().setTradingCentralSettings(),Promise.resolve()})}},{key:"defaults",get:function(){return u(p)}},{key:"settings",get:function(){return t.isEnabled()?u(l.getUserCommonData().getTradingCentralSettings()):t.defaults}}]),t}();i.exports=f}.call(e,n,e,t))&&(t.exports=s)}).call(e,n(0),n(5))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(278),s=n(31),a=n(160),l=a.OPINIONS_COLORS;i.exports=function(t,e){var n=r.map(e,function(t){return{name:t.siteName,y:t.percentageOfSite}});o.chart(t,{credits:{enabled:!1},chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",margin:[0,0,0,0],spacing:[0,0,0,0]},colors:l,title:{text:null},tooltip:{enabled:!1},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},size:"80px",showInLegend:!0,center:["15%","50%"],point:{events:{legendItemClick:function(t){t.preventDefault()}}}},series:{states:{hover:{enabled:!1}}}},legend:{layout:"vertical",align:"right",verticalAlign:"middle",itemMarginBottom:3,symbolRadius:0,itemStyle:{fontWeight:"normal",fontSize:"13px"},labelFormatter:function(){return'<span style="color:'+this.color+'">'+s(this.y).toPercent(0)+" "+this.name+"</span>"}},series:[{colorByPoint:!0,data:n}]})}}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t){return t[O.a.getCurrentLanguage()]||t[U.preferredLocale]||t[x.a.first(x.a.keys(t))]}function o(t){var e=t.id,n=t.messageJson,i=t.publishDay,o=t.wasRead,s=t.isNew,a=n.texts,l=n.image,c=n.action,u=n.tags,d=r(a);return{id:e,title:d.title||"",images:l||[],body:d.body||"",buttonText:d.buttonText||"",publishDate:I.a.notificationCenterItemDate(i)||"",action:c.id?c:null,tag:x.a.first(u)||null,isRead:!!o,isDeleted:!1,isNew:s||!1}}function s(t){var e=t.id,n=t.messageJson,i=t.publishDay,r=t.wasRead,o=t.isNew,s=n.localizableMessage,a=n.reasonKey,l=n.reasonParameters,c=n.actionType;n.critical;return{id:e,title:__("message.header."+c)||"",body:__(s.key,s.parameters)||"",reason:a?__(a,l):null,isRead:!!r,isNew:o||!1,isDeleted:!1,publishDate:I.a.notificationCenterItemDate(i)||""}}function a(t){var e=(U.preferredLocale,t.id),n=(t.englishAsDefault,t.texts),i=t.image,o=t.action,s=(t.notifications,t.publishDay),a=t.tags,l=r(n);return{id:e,title:l.title||"",images:i||[],body:l.body||"",buttonText:l.buttonText||"",publishDate:I.a.notificationCenterItemDate(s)||"",action:o.id?o:null,tag:x.a.first(a)||null,isRead:!1,isDeleted:!1,isNew:!0}}function l(t){var e=t.id,n=t.dealingMessage,i=n.actionType,r=(n.category,n.critical,n.localizableMessage),o=n.reasonKey,s=n.reasonParameters,a=n.timeStamp;return{id:e,title:__("message.header."+i)||"",body:__(r.key,r.parameters)||"",reason:o?__(o,s):null,isRead:!1,isDeleted:!1,isNew:!0,publishDate:I.a.notificationCenterItemDate(a)||""}}function c(t,e){switch(t){case A.TYPE_PERSONAL:return o(e);case A.TYPE_PLATFORM:return s(e);default:throw new Error("Type "+t+" is not supported")}}function u(t){try{var e=null,n=JSON.parse(t);switch(n.type){case"inform-notification-center-message":e=A.TYPE_PERSONAL,n=a(n);break;case"dealing-message":n=l(n),e=A.TYPE_PLATFORM}n&&!m(n)&&window.store.dispatch(Object(N.messagesAddNew)(e,[n]))}catch(t){}}function d(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];switch(t){case A.TYPE_PERSONAL:return _.a.loadNotificationCenterMessages.apply(_.a,n);case A.TYPE_PLATFORM:return _.a.loadDealingMessages.apply(_.a,n)}}function h(t){t(Object(N.messagesAddOldRequest)(A.TYPE_PERSONAL,0,U.messagesPreloadCount)),t(Object(N.messagesAddOldRequest)(A.TYPE_PLATFORM,0,U.messagesPreloadCount)),t({types:B,callApi:function(){return _.a.loadNotificationCenterMessagesCount().then(function(e){return t(Object(N.setTypeMessagesCountUnread)(A.TYPE_PLATFORM,e.data.dealingUnread)),t(Object(N.setTypeMessagesCountUnread)(A.TYPE_PERSONAL,e.data.notificationCenterUnread)),t(Object(N.setTypeMessagesCountNew)(A.TYPE_PLATFORM,e.data.dealingNew)),t(Object(N.setTypeMessagesCountNew)(A.TYPE_PERSONAL,e.data.notificationCenterNew)),e}).catch(function(t){})}})}function p(t){return function(e,n){var i=n().notificationCenter,r=i[t].seenIds.list;x.a.size(r)&&e(Object(N.messagesSeenRequest)(t,r))}}function f(){j||(j=!0,b.a.on("stream:ready",function(){_.a.subscribeNotificationCenter(S.a.getAtmosphereId()),b.a.on("stream:type:NOTIFICATION_CENTER",u)}),h(window.store.dispatch))}function m(t){var e=x.a.getExtended(t,"action.id"),n=x.a.getExtended(t,"action.url");return!(e!==A.MESSAGE_ACTION_INTERNAL_ACTION||n!==A.FLOW_ON_BOARDING||F.a.isNewAdvancedDashboardEnabled()&&L.a.getUserCommonData().isAdvancedTradingView())}function g(t,e){var n=[],i=t!==A.TYPE_PERSONAL?e:x.a.filter(e,function(t){var e=!m(t);return e||!t.id||t.isRead||n.push(t.id),e});return x.a.isEmpty(n)||window.store.dispatch(Object(N.messagesReadRequest)(t,n)),i}Object.defineProperty(e,"__esModule",{value:!0}),e.switchMessageAdaptorService=c,e.getMessagesService=d,n.d(e,"_debounceFlushRequest",function(){return z}),n.d(e,"_debouncePersonalSeenRequest",function(){return V}),n.d(e,"_debouncePlatformSeenRequest",function(){return H}),e.notificationCenterSubscribeService=f,e.messagesRestFilterService=g;var v=n(2),b=n.n(v),y=n(6),_=n.n(y),w=n(22),S=n.n(w),E=n(0),x=n.n(E),C=n(40),T=n.n(C),k=n(23),O=n.n(k),P=n(68),I=n.n(P),A=n(115),M=n(366),N=n(47),D=n(7),L=n.n(D),R=n(9),F=n.n(R),B=[M.x,M.y,M.w],U={preferredLocale:"en",messagesPreloadCount:T.a.notificationCenter.messages.preloadCount||10,messagesFlushDelay:T.a.notificationCenter.messages.flushDelay||5e3,messagesSeenResetDelay:T.a.notificationCenter.messages.viewDelay||5e3},j=!1,z=x.a.debounce(function(){return function(t,e){var n=e().notificationCenter;x.a.each(n.tabs,function(e){var r=n[e].garbage.list;x.a.size(r)&&t({types:B,callApi:function(){return _.a.setNotificationCenterAction(A.API_ACTION_REMOVE,e,{messageIds:[].concat(i(r))}).then(function(){t(Object(N.garbageFlush)())}).catch(function(e){t(Object(N.garbageRestore)())})}})})}}(),U.messagesFlushDelay),V=x.a.debounce(p(A.TYPE_PERSONAL),U.messagesSeenResetDelay),H=x.a.debounce(p(A.TYPE_PLATFORM),U.messagesSeenResetDelay)},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(0),s=n(2),a=n(24),l=n(6),c=o.template(n(1505)),u=n(3),d=n(7),h=n(1506),p=n(9),f=n(15),m=o.template('\n        <li>\n            <div class="message-data">\n              <span class="message-data-time"><%=time%></span>\n            </div>\n            <div class="message">\n              <%=messageOutput%>\n            </div>\n        </li>'),g=a.extend({initialize:function(t){t.isMinimizable=!0,t.isTranslucent=!1,a.prototype.initialize.apply(this,arguments),this.webinar=t.webinar,this.startTime=t.startTime||"",this.openedActiveWebinar=this.webinar.isActive(),this.listenTo(s,"ui:webinar:close",this.close),this.render()},events:function(){return o.extend({},o.result(a.prototype,"events"),{"click .icon-send-message":"addMessage","click .disclaimer a":"toggleDisclaimer"})},getOptions:function(t){return o.extend({},o.result(a.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("menu.webinar"),previousCaption:__("actions.back"),isDraggable:!f.tablet()&&!f.mobile(),closeIconStyle:"grey",headerStyle:"wizard"},t)},addMessage:function(){var t=this.$el.find("#message-to-send");if(""!==t.val().trim()){var e=t.val(),n={messageOutput:e,time:u().format("h:mm a")};this.$el.find(".chat-history ul").append(m(n)),t.val(""),this.scrollToBottom();var i=d.getUserData().getCrmboCustomer().id,r=this.webinar.getWebinarId();return l.webinarChatMessage(i,r,e).then(function(t){if(t.data.error)return Promise.reject()})}},scrollToBottom:function(){var t=this.$el.find(".chat-history");t[0].scrollTop=t[0].scrollHeight},render:function(){return a.prototype.render.call(this),this.setContent(c({webinar:this.webinar,isMobile:f.mobile()})),f.mobile()&&this.updateChatHeight(),this},updateChatHeight:function(){var t=document.documentElement.clientHeight-parseInt(r(".webinars-mobile-header").css("height"))-parseInt(this.$el.find(".webinar-content").css("height"))-parseInt(this.$el.find(".chat-header").css("height"))-parseInt(this.$el.find(".chat-message").css("height"))-parseInt(this.$el.find(".disclaimer").css("height"))-27;this.$el.find(".chat-history").css("height",t+"px")},toggleDisclaimer:function(t){this.$el.find(".disclaimer span").removeClass("hidden"),r(t.currentTarget.parentElement).addClass("hidden"),f.mobile()&&this.updateChatHeight()},close:function(){if(a.prototype.close.call(this),this.openedActiveWebinar&&Date.now()-this.startTime>p.getWebinarsFeedbackMinViewTime()&&"true"!==localStorage.getItem("webinar"+this.webinar.getWebinarId()))var t=new h({parent:r("body"),webinarId:this.webinar.getWebinarId(),onClose:function(){t=null}})}});i.exports=g}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){"use strict";function i(){return{types:[o.b,o.d,o.c],callApi:function(){return a.a.getTimezoneAll()},shouldCallApi:function(t){return!t.accountSettingsPlatformFeature.timezone.list.length}}}function r(t){return{type:o.a,payload:!!t}}e.a=i,e.b=r;var o=n(685),s=n(6),a=n.n(s)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=n(133),s=r.createClass({displayName:"PriceAlertDailyChange",getDefaultProps:function(){return{className:""}},getInitialState:function(){return{value:this.props.model.get("percentChange")}},componentDidMount:function(){this.props.model.on("change:percentChange",this.update,this)},componentWillUnmount:function(){this.props.model.off("change:percentChange",this.update,this)},update:function(){this.setState({value:this.props.model.get("change:percentChange")})},render:function(){return r.createElement(o,{value:this.state.value,positiveSymbol:"+",postfix:"%",useInline:!0,precision:2})}});i.exports=s}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=n(133),s=r.createClass({displayName:"PriceAlertPriceAlert",getDefaultProps:function(){return{className:""}},getInitialState:function(){return{rate:this.props.model.get("bid"),dir:this.props.model.get("bidDirection"),eventName:"change:bid",eventNameDirection:"change:bidDirection"}},componentDidMount:function(){this.props.model.on(this.state.eventName,this.update,this),this.props.model.on(this.state.eventNameDirection,this.update,this)},componentWillUnmount:function(){this.props.model.off(this.state.eventName,this.update,this),this.props.model.off(this.state.eventNameDirection,this.update,this)},update:function(){this.setState({rate:this.props.model.get("bid"),dir:this.props.model.get("bidDirection")})},render:function(){var t=this.props.model,e=Number(t.get("precision")),n=Number(this.state.rate).toFixed(e);return r.createElement(o,{dir:this.state.dir,value:n,precision:e,positiveSymbol:""})}});i.exports=s}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=n(713),s=r.createClass({displayName:"PriceAlertSentiment",render:function(){var t=this.props.model.get("sentiment");return r.createElement(o,{value:t})}});i.exports=s}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=n(1),c=n.n(l),u=function(t){var e=t.value,n=t.name,r=t.checkedStatus,o=t.onCheck,s=i(t,["value","name","checkedStatus","onCheck"]);return c.a.createElement(s.as,null,c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",value:e,id:n,name:n,checked:r,onChange:o}),c.a.createElement("label",{htmlFor:n}),c.a.createElement("span",null,n)))};u.defaultProps={as:"li"};var d=u,h=n(0),p=n.n(h),f=(n(1615),function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()),m={selected:!0},g=function(t){function e(t){o(this,e);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={opened:!1,options:[],selected:"",text:""},n.onComponentClick=n.onComponentClick.bind(n),n.onCheck=n.onCheck.bind(n),n.toggle=n.toggle.bind(n),n}return a(e,t),f(e,[{key:"componentDidMount",value:function(){this.normalize(this.props),document.addEventListener("click",this.onComponentClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onComponentClick)}},{key:"onComponentClick",value:function(t){!this.refs.dropdown.contains(t.target)&&this.state.opened&&this.setState({opened:!1})}},{key:"componentWillReceiveProps",value:function(t){this.normalize(t)}},{key:"toggle",value:function(){this.setState({opened:!this.state.opened})}},{key:"normalize",value:function(t){var e=t.options,n=t.transformOptionValue,i=t.transformOptionText,r=t.selected,o=p.a.map(e,function(t){return{origin:t,text:i(t),value:n(t),selected:!1}});this.updateState(o,r)}},{key:"updateState",value:function(t,e){var n=p.a.clone(t);p.a.isEmpty(e)||p.a.chain(n).each(function(t){return t.selected=!1}).filter(function(t){return p.a.isEqual(e,t.value)}).each(function(t){return t.selected=!0}),this.setState(function(){return{options:[].concat(r(n))}})}},{key:"onCheck",value:function(t){var e=t.target.value,n=this.state.options;this.updateState(n,e),this.props.onChange(p.a.pluck(p.a.where(n,m),"origin"))}},{key:"getOptions",value:function(){var t=this.state.options;return p.a.uniq(t,function(t){return t.text})}},{key:"render",value:function(){var t=this,e=this.state.opened;return c.a.createElement("div",{className:"settingsDropdownWrapper",ref:"dropdown"},c.a.createElement("div",{onClick:this.toggle},c.a.createElement("i",{className:"icon icon-hamburger-gray"})),e&&c.a.createElement("div",{className:"settingsDropdown"},c.a.createElement("div",{className:"settingsWrapper"},c.a.createElement("div",{className:"options"},c.a.createElement("ul",{className:"optionList"},p.a.map(this.getOptions(),function(e,n){var i=e.text,r=e.value,o=e.selected;return c.a.createElement(d,{as:"li",name:i,value:r,checkedStatus:o,key:n,onCheck:t.onCheck})}))))))}}]),e}(l.Component);g.defaultProps={options:[],selected:"",transformOptionText:function(t){return t},transformOptionValue:function(t){return t}};e.default=g},function(t,e,n){var i;void 0!==(i=function(t,e,n){n.exports={PENDING:"PENDING",PENDING_BEGIN:"PENDING_BEGIN",PENDING_END:"PENDING_END",UPDATED:"UPDATED",CONVERTER_CHANGED:"CONVERTER_CHANGED",NEW_FEED:"NEW_FEED",UPDATE_FEED:"UPDATE_FEED",UPDATE_ALL_FEED:"UPDATE_ALL_FEED"}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,n){n.exports={EMPTY:"EMPTY",SUBMIT:"SUBMIT",IN_PROCESS:"IN_PROCESS",BUY:"buy",TYPE_MARKET:"market",TYPE_LIMIT:"limit",TYPE_STOP:"stop"}}.call(e,n,e,t))&&(t.exports=i)},function(t,e){t.exports='<div class="margin-level-message-box"><div class="margin-level-message-box-content"><div class="description"><%=options.description%></div><div class="actions"> <% if (!options.isLiquidationLevel) { %> <button class="btn btn-primary" action="fn-deposit"><%=__(\'actions.deposit\')%></button> <button class="btn btn-link" action="fn-close-positions"><%=__(\'margin.level_1.popup.button.Close_Positions\')%></button> <% } else { %> <button class="btn btn-primary"><%=__(\'ok\')%></button> <% } %> </div></div></div>'},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){function r(t,e,n){u.trigger("eventos","onBoardFlow:"+t+":"+e,a(n))}function o(t){r("bonusApprovalPopupUnified",t)}function s(t,e){if(!l.isEmpty(t))switch(t.type){case"VERIFIED_ID_BONUS":r("confirmIDBonus",e);break;case"VERIFIED_RESIDENCE_BONUS":r("confirmResidenceBonus",e)}}function a(t){return l.isEmpty(t)?{}:{id:t.id,amount:t.amount,currency:t.currency}}var l=n(0),c=n(13),u=n(2),d=c.extend({approve:function(t){s(t,"clkConfirm")},approveMultiple:function(){o("clkAccept")},reject:function(t){s(t,"clkDecline")},rejectMultiple:function(){o("clkDecline")},clickTermsMultiple:function(){o("clkTerms")},clickTerms:function(t){s(t,"clkTerms")}});i.exports=new d}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var i=n(386)("keys"),r=n(265);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,n){var i=n(48),r=n(66),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(203)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var i=n(99),r=n(48),o=n(180);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*o(function(){n(1)}),"Object",s)}},function(t,e,n){var i=n(129),r=n(66).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){var i=n(129);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(105),r=n(1760),o=n(392),s=n(385)("IE_PROTO"),a=function(){},l=function(){var t,e=n(388)("iframe"),i=o.length;for(e.style.display="none",n(757).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l.prototype[o[i]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=i(t),n=new a,a.prototype=null,n[s]=t):n=l(),void 0===e?n:r(n,e)}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){e.f=n(67)},function(t,e,n){var i=n(66),r=n(48),o=n(203),s=n(393),a=n(121).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(269),r=n(219),o=n(157),s=n(389),a=n(155),l=n(751),c=Object.getOwnPropertyDescriptor;e.f=n(130)?c:function(t,e){if(t=o(t),e=s(e,!0),l)try{return c(t,e)}catch(t){}if(a(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e,n){t.exports={default:n(1785),__esModule:!0}},function(t,e,n){var i=n(205),r=n(67)("toStringTag"),o="Arguments"==i(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),r))?n:o?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){"use strict";function i(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=r(e),this.reject=r(n)}var r=n(266);t.exports.f=function(t){return new i(t)}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(1),a=n.n(s),l=n(8),c=n(1816),u=n.n(c),d=n(47),h=n(53),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),f=function(t){return{garbage:Object(h.c)(t)}},m=function(t){return{garbageRestore:function(){return t(Object(d.garbageRestore)())}}},g=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),p(e,[{key:"onClick",value:function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),this.props.garbageRestore()}},{key:"render",value:function(){var t=this;return this.props.garbage?a.a.createElement("div",{className:"notification-center__undo",onClick:function(e){return t.onClick(e)}},a.a.createElement("img",{className:"ci ci-undo",src:u.a}),__("notification.center.button.undo")):null}}]),e}(a.a.Component);g.defaultProps={garbage:0},e.a=Object(l.connect)(f,m)(g)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return f});var s=n(1),a=n.n(s),l=n(8),c=n(767),u=n(768),d=n(53),h=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),p=function(t){return{tabs:Object(d.i)(t),activeTab:Object(d.b)(t)}},f=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),h(e,[{key:"render",value:function(){var t=this;return a.a.createElement("div",{className:"notification-center__tabs"},this.props.tabs.map(function(e){return a.a.createElement(c.b,{key:e,name:e,isActive:t.props.activeTab===e})}),a.a.createElement(u.a,null))}}]),e}(a.a.Component);e.b=Object(l.connect)(p)(f)},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return E});var a=n(1),l=n.n(a),c=n(8),u=n(0),d=n.n(u),h=n(11),p=n.n(h),f=n(47),m=n(769),g=n.n(m),v=n(770),b=n.n(v),y=n(53),_=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),w=function(t){return{activeTab:Object(y.b)(t),marked:Object(y.g)(t)}},S=function(t){return{garbageAddMultiple:function(e,n){return t(Object(f.garbageAddMultiple)(e,n))},messagesReadMarked:function(e,n){return t(Object(f.messagesToggleReadSelectedRequest)(e,n))}}},E=function(t){function e(){var t;r(this,e);for(var n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];var a=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i)));return a.state={isShouldMessagesBeRead:!0},a.prevMarked=[],a.onDelete=a.onDelete.bind(a),a.onRead=a.onRead.bind(a),a}return s(e,t),_(e,[{key:"shouldReadStateChange",value:function(t){return!(!d.a.isEmpty(this.prevMarked)&&!d.a.isEmpty(t))||JSON.stringify(this.prevMarked)!==JSON.stringify(t)}},{key:"componentWillUpdate",value:function(t){this.props.activeTab!==t.activeTab&&this.setState({isShouldMessagesBeRead:!0})}},{key:"onDelete",value:function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),this.props.garbageAddMultiple(this.props.activeTab,this.props.marked.list)}},{key:"onRead",value:function(t){var e=this;t.stopPropagation(),t.nativeEvent.stopImmediatePropagation();var n=this.props.marked,r=this.state.isShouldMessagesBeRead;this.shouldReadStateChange(n.list)?this.setState({isShouldMessagesBeRead:!r},function(){e.prevMarked=[].concat(i(n.list)),e.props.messagesReadMarked(e.props.activeTab,r)}):this.setState({isShouldMessagesBeRead:!r},function(){e.props.messagesReadMarked(e.props.activeTab,r)})}},{key:"render",value:function(){var t=this.state.isShouldMessagesBeRead,e=p()({"notification-center__tab_action-buttons":!0,inactive:!this.props.marked.count});return l.a.createElement("div",{className:e},l.a.createElement("img",{className:"ci ci-trash",src:g.a,onClick:this.onDelete,"aria-label":__("notification.center.label.delete_selected"),"data-tooltip-align":"bottom"}),t&&l.a.createElement("img",{className:"ci ci-envelope-opened",src:b.a,onClick:this.onRead,"aria-label":__("notification.center.label.read_selected"),"data-tooltip-align":"bottom"}),!t&&l.a.createElement("img",{className:"ci ci-envelope",src:b.a,onClick:this.onRead,"aria-label":__("notification.center.label.unread_selected"),"data-tooltip-align":"bottom"}))}}]),e}(l.a.Component);e.b=Object(c.connect)(w,S)(E)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function w(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var S=n(1),E=n.n(S),x=n(8),C=n(11),T=n.n(C),k=n(0),O=n.n(k),P=n(818),I=n(40),A=n.n(I),M=n(33),N=n.n(M),D=n(819),L=n(15),R=n.n(L),F=n(47),B=n(769),U=n.n(B),j=n(1820),z=n.n(j),V=n(770),H=n.n(V),G=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),W=function(t){return{garbageAdd:function(e,n){return t(Object(F.garbageAdd)(e,n))},messageUnread:function(e,n){return t(Object(F.messageUnreadRequest)(e,n))},messageRead:function(e,n){return t(Object(F.messageReadRequest)(e,n))}}},q=function(t){function e(){var t;i(this,e);for(var n=arguments.length,o=Array(n),s=0;s<n;s++)o[s]=arguments[s];var a=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o)));return N()(a),a}return o(e,t),G(e,[{key:"onDelete",value:function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),this.props.garbageAdd(this.props.type,this.props.message.id)}},{key:"onRead",value:function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation();var e=this.props,n=e.type,i=e.message;i.isRead?this.props.messageUnread(n,i.id):this.props.messageRead(n,i.id)}},{key:"render",value:function(){var t=this.props.message,e=t.title+"\n\r"+t.body;return R.a.desktop()?E.a.createElement("div",{className:"notification-center__action-buttons"},E.a.createElement("img",{className:"ci ci-trash",src:U.a,onClick:this.onDelete,"aria-label":__("notification.center.label.delete"),"data-tooltip-align":"bottom"}),E.a.createElement(D.CopyToClipboard,{text:e},E.a.createElement("img",{className:"ci ci-copy",src:z.a,"aria-label":__("notification.center.label.copy"),"data-tooltip-align":"bottom"})),!t.isRead&&E.a.createElement("img",{className:"ci ci-envelope-opened",src:H.a,onClick:this.onRead,"aria-label":__("notification.center.label.read"),"data-tooltip-align":"bottom"}),t.isRead&&E.a.createElement("img",{className:"ci ci-envelope",src:H.a,onClick:this.onRead,"aria-label":__("notification.center.label.unread"),"data-tooltip-align":"bottom"})):E.a.createElement("div",{className:"notification-center__action-buttons"},E.a.createElement("img",{className:"ci ci-trash",src:U.a,onClick:this.onDelete}),E.a.createElement(D.CopyToClipboard,{text:e},E.a.createElement("img",{className:"ci ci-copy",src:z.a})),!t.isRead&&E.a.createElement("img",{className:"ci ci-envelope-opened",src:H.a,onClick:this.onRead}),t.isRead&&E.a.createElement("img",{className:"ci ci-envelope",src:H.a,onClick:this.onRead}))}}]),e}(E.a.Component);q.defaultProps={message:{title:"",message:""}};var $,Y=Object(x.connect)(void 0,W)(q),X=function(t){return{setMessageView:function(e,n){return t(Object(F.messageView)(e,n))}}},K=function(t){var e=t.type,n=t.message,i=t.setMessageView;if(n.isNew){O.a.debounce(function(){i(e,n.id)},A.a.notificationCenter.messages.viewDelay)()}var r=T()({"notification-center__message-item_label-new":!0,highlighted:n.isNew});return E.a.createElement("div",{className:r},__("notification.center.message.label.new"))},Q=Object(x.connect)(void 0,X)(K),J=n(1821),Z=n.n(J),tt=n(1822),et=n.n(tt),nt=n(1823),it=n.n(nt),rt=n(1824),ot=n.n(rt),st=n(115),at=($={},s($,st.MESSAGE_TYPE_NEW_FEATURE,Z.a),s($,st.MESSAGE_TYPE_ALERT,et.a),s($,st.MESSAGE_TYPE_TUTORIAL,it.a),s($,st.MESSAGE_TYPE_PROMOTION,ot.a),$),lt=function(t){var e=at[t];return e||"#"+e},ct=function(t){var e=t.tag;return e?E.a.createElement("div",{className:"notification-center__message-item_type"},E.a.createElement("img",{className:"ci",src:lt(e)})):null},ut=ct,dt=n(53),ht=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),pt=function(t){return{marked:Object(dt.g)(t)}},ft=function(t){return{messageUnselect:function(e,n){return t(Object(F.messageUnselect)(e,n))},messageSelect:function(e,n){return t(Object(F.messageSelect)(e,n))},setActiveMessage:function(e,n){return t(Object(F.setActiveMessage)(e,n))},openActiveMessage:function(){return t(Object(F.setIsActiveMessageVisible)(!0))}}},mt=function(t){function e(){var t;l(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=c(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i)));return o.state={isFullMessageAvailable:!1},N()(o),o}return u(e,t),ht(e,[{key:"isFullMessageAvailable",value:function(t){return t&&O.a.some([t.action,t.images],function(t){return!O.a.isEmpty(t)})||this.isOverflowed(this.refs.title)||this.isOverflowed(this.refs.text)}},{key:"isOverflowed",value:function(t){if(!t)return 0;var e=parseFloat(getComputedStyle(t).lineHeight);return Math.floor(t.scrollHeight/e)>Math.floor(t.clientHeight/e)+1}},{key:"componentDidMount",value:function(){var t=this.isFullMessageAvailable(this.props.message);this.setState({isFullMessageAvailable:t})}},{key:"componentWillUpdate",value:function(t,e){e.isFullMessageAvailable=this.isFullMessageAvailable(t.message)}},{key:"isMarked",value:function(){return O.a.contains(this.props.marked.list,this.props.message.id)}},{key:"onChange",value:function(){var t=this.props,e=t.message,n=t.type;this.isMarked()?this.props.messageUnselect(n,e.id):this.props.messageSelect(n,e.id)}},{key:"onOpen",value:function(){this.state.isFullMessageAvailable&&(this.props.setActiveMessage(this.props.type,this.props.message),this.props.openActiveMessage())}},{key:"render",value:function(){var t,e=this.props,n=e.className,i=e.message,r=e.style,o=e.type;if(!i)return null;var s=T()((t={},a(t,n,!!n),a(t,"notification-center__message-item",!0),a(t,"marked",this.isMarked()),a(t,"new",i.isNew),a(t,"unread",!i.isRead),t));return E.a.createElement("div",{style:r,className:s},E.a.createElement("div",{className:"notification-center__message-item_checkbox"},E.a.createElement("input",{ref:"checkbox",className:"custom-checkbox",type:"checkbox",name:"message-checkbox-"+i.id,checked:this.isMarked(),id:"message-checkbox-"+i.id,onChange:this.onChange}),E.a.createElement("label",{htmlFor:"message-checkbox-"+i.id})),E.a.createElement("div",{className:"notification-center__message-item_body"},E.a.createElement("div",{className:"notification-center__message-item_content",onClick:this.onOpen},E.a.createElement("div",{ref:"title",className:"notification-center__message-item_title"},E.a.createElement("div",{className:"notification-center__message-item_title-text"},i.title),E.a.createElement(Q,{type:o,message:i})),E.a.createElement("div",{ref:"text",className:"notification-center__message-item_text"},i.body),this.state.isFullMessageAvailable&&E.a.createElement("div",{className:"notification-center__message-item_arrow"},E.a.createElement("i",{className:"icon icon-registration-next-arrow"}))),E.a.createElement("div",{className:"notification-center__message-item_footer"},E.a.createElement("div",{className:"notification-center__message-item_footer-left"},E.a.createElement("span",{className:"notification-center__message-item_datetime"},i.publishDate)),E.a.createElement("div",{className:"notification-center__message-item_footer-right"},E.a.createElement(Y,{type:o,message:i})))),E.a.createElement(ut,{tag:i.tag}))}}]),e}(E.a.Component);mt.defaultProps={message:null,marked:{list:[],count:0}};var gt=Object(x.connect)(pt,ft)(mt),vt=function(){return E.a.createElement("div",{className:"notification-center__message-list-empty"},E.a.createElement("div",null,E.a.createElement("span",{className:"icon-notification-thin"})),E.a.createElement("div",null,__("notification.center.message.list.empty")))},bt=vt,yt=n(10),_t=n(288),wt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),St=function(t){return{status:t.notificationCenter.status}},Et=function(t){function e(){var t,n,i,r;d(this,e);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return n=i=h(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),i.timer=null,i.state={isShow:!1},r=n,h(i,r)}return p(e,t),wt(e,[{key:"componentDidMount",value:function(){this.delay()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"componentWillReceiveProps",value:function(t){t.status!==this.props.status&&(this.setState({isShow:!1}),this.delay())}},{key:"delay",value:function(){var t=this;this.timer=O.a.delay(function(){return t.show()},A.a.notificationCenter.loader.displayDelay)}},{key:"show",value:function(){this.timer&&this.setState({isShow:!0})}},{key:"render",value:function(){return this.state.isShow&&this.props.status===yt.LOADING?E.a.createElement("div",{className:"notification-center__message-list_preloader"},E.a.createElement(_t.a,null)):null}}]),e}(E.a.Component);Et.defaultProps={status:yt.SUCCESS};var xt=Object(x.connect)(St)(Et),Ct=n(373),Tt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},kt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Ot=function(t){return{activeTab:Object(dt.b)(t),messages:Object(dt.h)(t),garbage:Object(dt.d)(t)}},Pt=function(t){return{messagesAddOld:function(e,n,i){return t(Object(F.messagesAddOldRequest)(e,n,i))}}},It=A.a.notificationCenter.messages.preloadCount||10,At=A.a.notificationCenter.messages.preloadBefore||0,Mt=A.a.notificationCenter.messages.preloadOnScrollDelay||100,Nt=function(t){function e(){var t;m(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=g(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i)));return o.scrollTimer=null,o.state={isActive:!1,isVisible:!0},N()(o),o}return v(e,t),kt(e,[{key:"cache",value:function(){var t=this.props.activeTab;return this.cachedCount||(this.cachedCount={}),this.cachedCount[t]||(this.cachedCount[t]={scrollToIndex:0}),this.cachedCount[t]}},{key:"componentWillUpdate",value:function(t){var e=this,n=t.garbage,i=t.messages,r=t.activeTab,o=this.getDelta();this.props.garbage.count<n.count&&o>0&&this.props.messages.count!==this.cache().list&&(this.cache().list=i.count,this.loadMore(r,this.cache().list,o)),this.props.activeTab!==r&&(this.cache().scrollToIndex=0,this.setState({isActive:!1,isVisible:!1}),setTimeout(function(){e.setState({isActive:!0})},0))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.scrollTimer)}},{key:"getDelta",value:function(){return It-this.filterDeletedMessages(this.props.messages.list).length}},{key:"loadMore",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:It;this.cache().prevFrom!==e&&(this.cache().prevFrom=e,this.props.messagesAddOld(t,e,n))}},{key:"loadQueue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.scrollTimer=O.a.delay(function(){var i=e.getDelta()>0?e.getDelta():It;e.cache().prevFrom!==n&&(e.cache().prevFrom=n,e.props.messagesAddOld(t,n,i))},Mt)}},{key:"onRendered",value:function(t){var e=t.overscanStopIndex,n=t.stopIndex,i=(t.overscanStartIndex,t.startIndex),r=this.props,o=r.activeTab,s=r.messages;i||e!==n||this.loadQueue(o,s.count)}},{key:"onScroll",value:function(t){var e=this.props,n=e.activeTab,i=e.messages,r=t.scrollHeight,o=t.clientHeight,s=t.scrollTop;r<=o||s<this.cache().prevScrollTop&&n===this.prevType||(this.prevType=n,this.cache().prevScrollTop=s,Math.ceil(s)+o>=r-90*At?(clearTimeout(this.scrollTimer),this.cache().scrollToIndex=void 0,this.loadQueue(n,i.count)):clearTimeout(this.scrollTimer))}},{key:"filterDeletedMessages",value:function(t){return O.a.filter(t,function(t){return!t.isDeleted})}},{key:"render",value:function(){var t,e=this,n=this.props,i=n.messages,r=n.className,o=n.activeTab,s=this.filterDeletedMessages(i.list),a=Object(Ct.messagesRestFilterService)(o,s),l=T()((t={},f(t,r,!!r),f(t,"pane pane__fluid",!0),f(t,"notification-center__message-list",!0),f(t,"visible",this.state.isVisible),f(t,"active",this.state.isActive),t));return E.a.createElement("div",{ref:"wrapper",className:l},E.a.createElement(xt,null),E.a.createElement(P.a,null,function(t){var n=t.height,i=t.width;return E.a.createElement(P.d,{ref:"list",tabIndex:-1,"aria-label":"",height:n,width:i,rowCount:a.length,rowHeight:90,scrollToIndex:e.cache().scrollToIndex,onScroll:O.a.debounce(e.onScroll,100),onRowsRendered:O.a.debounce(e.onRendered,500),noRowsRenderer:function(){return E.a.createElement(bt,null)},overscanRowCount:20,rowRenderer:function(t){var e=t.key,n=t.index,i=t.style,r=Tt({},a[n]);return E.a.createElement(gt,{key:e,style:i,message:r,type:o})}})}))}}]),e}(E.a.PureComponent),Dt=Object(x.connect)(Ot,Pt)(Nt),Lt=function(t){var e=t.images;return O.a.isEmpty(e)?null:E.a.createElement("div",{className:"notification-center__message-full_images"},O.a.map(e,function(t,e){return O.a.isNil(t)?null:E.a.createElement("div",{key:"image-"+e},t.imageTitle&&E.a.createElement("div",{className:"notification-center__message-full_images-title"},t.imageTitle),t.imageUrl&&E.a.createElement("img",{className:"notification-center__message-full_images-img",src:t.imageUrl}))}))},Rt=Lt,Ft=n(2),Bt=n.n(Ft),Ut=n(9),jt=n.n(Ut),zt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Vt=function(t){return{closeActiveMessage:function(){return t(Object(F.setIsActiveMessageVisible)(!1))},closePopup:function(){return t(Object(F.setOpenPopupState)(!1))}}},Ht=function(t){function e(){var t,n;y(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];var s=_(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(r)));return s.btnText="",s.btnAction=O.a.noop,s.actions=(n={},b(n,st.MESSAGE_ACTION_CLOSE,function(){var t=this;this.setActionBtn("close",function(){t.props.closeActiveMessage()})}),b(n,st.MESSAGE_ACTION_OPEN_REGISTRATION_DIALOG,function(){var t=this;this.setActionBtn("open_registration_dialog",function(){Bt.a.trigger("sm","registration_only"),t.props.closePopup()})}),b(n,st.MESSAGE_ACTION_OPEN_DEPOSIT_DIALOG,function(){var t=this;this.setActionBtn("open_deposit_dialog",function(){Bt.a.trigger("flow:deposit"),t.props.closeActiveMessage(),t.props.closePopup()})}),b(n,st.MESSAGE_ACTION_OPEN_VERIFICATION_CENTER,function(){var t=this;this.setActionBtn("open_verification_center",function(){Bt.a.trigger("ui:verification-center"),t.props.closeActiveMessage(),t.props.closePopup()})}),b(n,st.MESSAGE_ACTION_SWITCH_TO_REAL,function(){var t=this;this.setActionBtn("switch_to_real",function(){jt.a.isLive()||(Bt.a.trigger("platform:switch","live"),t.props.closePopup())})}),b(n,st.MESSAGE_ACTION_OPEN_TRADE_DIALOG,function(){var t=this,e=this.props.action;this.setActionBtn("open_trade_dialog",function(){Bt.a.trigger("ui:new-position",e.action||e.defaultAction,e.instrument,null,!1,!1,!1,"in_app_messaging"),t.props.closeActiveMessage(),t.props.closePopup()})}),b(n,st.MESSAGE_ACTION_OPEN_INSTRUMENT_PAGE,function(){var t=this,e=this.props.message.action;this.setActionBtn("open_instrument_page",function(){Bt.a.trigger("ui:instrument",e.instrument,!0,!0),t.props.closeActiveMessage(),t.props.closePopup()})}),b(n,st.MESSAGE_ACTION_INTERNAL_ACTION,function(){var t=this,e=this.props.message.action;O.a.isString(e.url)&&this.setActionBtn("internal_action",function(){Bt.a.trigger(e.url),t.props.closeActiveMessage(),t.props.closePopup()})}),b(n,st.MESSAGE_ACTION_OPEN_URL,function(){var t=this;this.setActionBtn("open_url",function(){var e,n=t.props.message.action;if(O.a.isString(n.url)){var i=n.url.slice(0,4),r=(e={},b(e,st.MESSAGE_ACTION_OPEN_NEW_TAB,function(){return"http"===i}),b(e,st.MESSAGE_ACTION_OPEN_DEEP_LINK,function(){return"?"===i.slice(0,1)}),b(e,st.MESSAGE_ACTION_OPEN_HASH,function(){return"#"===i.slice(0,1)}),e);switch(O.a.findKey(r,function(t){return t()})){case st.MESSAGE_ACTION_OPEN_NEW_TAB:window.open(n.url,"_blank");break;case st.MESSAGE_ACTION_OPEN_DEEP_LINK:window.location.href=window.location.pathname+function(){return window.location.search?window.location.search.slice(1)+n.url:n.url}()+window.location.hash;break;case st.MESSAGE_ACTION_OPEN_HASH:Bt.a.navigate(n.url,{trigger:!0,replace:!0});break;default:return}t.props.closePopup()}})}),n),N()(s),s}return w(e,t),zt(e,[{key:"onClick",value:function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),this.btnAction()}},{key:"setActionBtn",value:function(t,e){this.btnText=O.a.isEmpty(this.props.message.buttonText)?__("notification.center.message.action."+t):this.props.message.buttonText,this.btnAction=e}},{key:"render",value:function(){var t=this.props.message.action;return t&&O.a.some(O.a.keys(this.actions),function(e){return e===t.id})?(this.actions[t.id].call(this),E.a.createElement("div",{className:"notification-center__message-full_action"},E.a.createElement("div",{className:"btn btn-primary",onClick:this.onClick},this.btnText))):null}}]),e}(E.a.Component);Ht.defaultProps={message:{}};var Gt=Object(x.connect)(void 0,Vt)(Ht),Wt=function(t){var e=t.onBack,n=t.message,i=n||{};return E.a.createElement("div",{className:"notification-center__message-full"},E.a.createElement("div",null,E.a.createElement("div",{className:"notification-center__button-back",onClick:e},E.a.createElement("i",{className:"icon icon-marketsX-popup-arrow-left"}),__("notification.center.button.back"))),E.a.createElement("div",{className:"notification-center__message-full_title"},i.title),E.a.createElement("div",{className:"notification-center__message-full_message"},i.body),E.a.createElement(Rt,{images:i.images}),E.a.createElement(Gt,{message:i}))},qt=Wt,$t=function(t){return{isMessageVisible:Object(dt.k)(t),message:Object(dt.a)(t)}},Yt=function(t){return{onBack:function(){return t(Object(F.setIsActiveMessageVisible)(!1))}}},Xt=function(t){var e=t.isMessageVisible,n=t.message,i=t.onBack,r=T()({"notification-center__message-slider_items":!0,active:e});return E.a.createElement("div",{className:"notification-center__message-slider"},E.a.createElement("div",{className:r},E.a.createElement("div",{className:"notification-center__message-slider_item"},E.a.createElement(Dt,null)),E.a.createElement("div",{className:"notification-center__message-slider_item"},E.a.createElement(qt,{message:n,onBack:i}))))};e.a=Object(x.connect)($t,Yt)(Xt)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(1),a=n.n(s),l=n(8),c=n(11),u=n.n(c),d=n(40),h=n.n(d),p=n(53),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),m=function(t){return{iconCounter:Object(p.e)(t)}},g=function(t){function e(){var t,n,o,s;i(this,e);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.newCountLimit=h.a.notificationCenter.limiter.newCount,s=n,r(o,s)}return o(e,t),f(e,[{key:"render",value:function(){var t=this.props.iconCounter,e=u()({"notification-center__counter":!0,hidden:!t});return this.newCountLimit<t&&(t=""+this.newCountLimit+(h.a.notificationCenter.limiter.exceedSymbol||"")),a.a.createElement("i",{className:e},t)}}]),e}(a.a.Component);g.defaultProps={iconCounter:0},e.default=Object(l.connect)(m)(g)},function(t,e){function n(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*u;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*l;case"minutes":case"minute":case"mins":case"min":case"m":return n*a;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function i(t){return t>=c?Math.round(t/c)+"d":t>=l?Math.round(t/l)+"h":t>=a?Math.round(t/a)+"m":t>=s?Math.round(t/s)+"s":t+"ms"}function r(t){return o(t,c,"day")||o(t,l,"hour")||o(t,a,"minute")||o(t,s,"second")||t+" ms"}function o(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var s=1e3,a=60*s,l=60*a,c=24*l,u=365.25*c;t.exports=function(t,e){e=e||{};var o=typeof t;if("string"===o&&t.length>0)return n(t);if("number"===o&&!1===isNaN(t))return e.long?r(t):i(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){function i(){}function r(t){var n=""+t.type;return e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(n+=t.nsp+","),null!=t.id&&(n+=t.id),null!=t.data&&(n+=JSON.stringify(t.data)),d("encoded %j as %s",t,n),n}function o(t,e){function n(t){var n=f.deconstructPacket(t),i=r(n.packet),o=n.buffers;o.unshift(i),e(o)}f.removeBlobs(t,n)}function s(){this.reconstructor=null}function a(t){var n=0,i={type:Number(t.charAt(0))};if(null==e.types[i.type])return u("unknown packet type "+i.type);if(e.BINARY_EVENT===i.type||e.BINARY_ACK===i.type){for(var r="";"-"!==t.charAt(++n)&&(r+=t.charAt(n),n!=t.length););if(r!=Number(r)||"-"!==t.charAt(n))throw new Error("Illegal attachments");i.attachments=Number(r)}if("/"===t.charAt(n+1))for(i.nsp="";++n;){var o=t.charAt(n);if(","===o)break;if(i.nsp+=o,n===t.length)break}else i.nsp="/";var s=t.charAt(n+1);if(""!==s&&Number(s)==s){for(i.id="";++n;){var o=t.charAt(n);if(null==o||Number(o)!=o){--n;break}if(i.id+=t.charAt(n),n===t.length)break}i.id=Number(i.id)}if(t.charAt(++n)){var a=l(t.substr(n));if(!(!1!==a&&(i.type===e.ERROR||m(a))))return u("invalid payload");i.data=a}return d("decoded %s as %j",t,i),i}function l(t){try{return JSON.parse(t)}catch(t){return!1}}function c(t){this.reconPack=t,this.buffers=[]}function u(t){return{type:e.ERROR,data:"parser error: "+t}}var d=n(1862)("socket.io-parser"),h=n(182),p=n(780),f=n(1865),m=n(781),g=n(782);e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=i,e.Decoder=s,i.prototype.encode=function(t,n){if(t.type!==e.EVENT&&t.type!==e.ACK||!p(t.data)||(t.type=t.type===e.EVENT?e.BINARY_EVENT:e.BINARY_ACK),d("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type)o(t,n);else{n([r(t)])}},h(s.prototype),s.prototype.add=function(t){var n;if("string"==typeof t)n=a(t),e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type?(this.reconstructor=new c(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!g(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",n))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},c.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=f.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},c.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e,n){(function(e){var i=n(1868);t.exports=function(t){var n=t.xdomain,r=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!n||i))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!r&&o)return new XDomainRequest}catch(t){}if(!n)try{return new(e[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}}).call(e,n(41))},function(t,e,n){function i(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}var r=n(183),o=n(182);t.exports=i,o(i.prototype),i.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},i.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(t){var e=r.decodePacket(t,this.socket.binaryType);this.onPacket(e)},i.prototype.onPacket=function(t){this.emit("packet",t)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},,function(t,e,n){"use strict";function i(){return function(t,e){return D(e())?Promise.resolve():t({types:[w,S,E],callApi:function(){return _.loadHedgefunds()}})}}function r(t){return function(e,n){var i=D(n()),r=P.a.findWhere(i,{symbol:t});return r?e({types:[x,C,T],additionalData:{symbol:t},callApi:function(){return _.loadHedgefund(r.stockTicker)}}):(e({type:k,payload:{additionalData:{symbol:t}}}),Promise.resolve())}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,e=arguments[1],n=e.type,i=e.payload;switch(n){case S:return j({},t,{ALL:i.responsePayload.data});case C:var r=i.additionalData.symbol;return j({},t,{INFO:j({},t.INFO,o({},r,i.responsePayload.data))});case k:var s=i.additionalData.symbol;return j({},t,{INFO:j({},t.INFO,o({},s,null))})}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function h(){return{tooltip:{enabled:!1},chart:{height:168,zoomType:!1,spacingTop:25,spacingBottom:0,spacingLeft:0,spacingRight:0,events:{render:function(t){var e=t.target,n=e.series[0].points,i=Math.ceil(e.plotWidth/(n.length+1)*ot);i!==n[1].pointWidth&&(t.target.series[0].points.forEach(function(t){return t.update({pointWidth:i},!1,!1)}),setTimeout(function(){return e.redraw()},0))}}},xAxis:{type:"datetime",style:{color:et.TEXT_MUTED_COLOR},tickInterval:at,gridLineWidth:1,gridLineDashStyle:"ShortDot",gridLineColor:"#a4a4a4",startOnTick:!1,lineWidth:1,lineColor:"#8e949f",labels:{formatter:function(){return Q()(this.value-st).format("[Q]Q Y")},style:{fontSize:"9px"}}},yAxis:[{lineWidth:1,lineColor:"#8e949f",title:{text:__("tab.shares"),reserveSpace:!1,textAlign:"left",align:"high",offset:0,rotation:0,y:-10,style:{color:"#a4a4a4",fontSize:"10px",fontWeight:"bold",whiteSpace:"nowrap"}},labels:{formatter:function(){return Z()(this.value).format("0a").toUpperCase()},style:{fontSize:"10px",color:et.TEXT_MUTED_COLOR}},gridLineColor:"#2a2a2a",gridLineDashStyle:"ShortDot"},{lineWidth:1,lineColor:"#8e949f",title:{text:__("insiders.graph.stock.price"),reserveSpace:!1,textAlign:"right",align:"high",offset:0,rotation:0,y:-10,style:{color:et.TEXT_MUTED_COLOR,fontSize:"10px",fontWeight:"bold",whiteSpace:"nowrap"}},labels:{format:"{value}",style:{fontSize:"10px"}},gridLineDashStyle:"ShortDot",gridLineColor:"#a4a4a4",tickPixelInterval:50,opposite:!0}],plotOptions:{line:{lineWidth:2,marker:{enabled:!1}},column:{borderWidth:0}},legend:{enabled:!1},series:[{name:"",type:"column",color:et.BRAND_PRIMARY},{name:"",type:"line",color:"#fcb040",yAxis:1,enableMouseTracking:!1}]}}function p(t){var e=t.xData,n=t.yColumnData,i=t.yLineData,r=h(),o=it({},r);return o.xAxis.categories=e,o.series[0].data=n,o.series[1].data=i,it({},r)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=n(6),g=n.n(m),v=function(){return g.a.loadHedgefunds()},b=function(t){return g.a.loadHedgefund(t)},y={loadHedgefunds:v,loadHedgefund:b},_=y,w="hedgeFunds/LOAD_HEDGEFUNDS",S="hedgeFunds/LOAD_HEDGEFUNDS_SUCCESS",E="hedgeFunds/LOAD_HEDGEFUNDS_ERROR",x="hedgeFunds/LOAD_HEDGEFUND_INFO",C="hedgeFunds/LOAD_HEDGEFUND_INFO_SUCCESS",T="hedgeFunds/LOAD_HEDGEFUND_INFO_ERROR",k="hedgeFunds/LOAD_HEDGEFUND_INFO_EMPTY_DATA",O=n(0),P=n.n(O),I=n(44),A=n(106),M=n(109),N=function(t){return t.hedgeFunds},D=Object(I.a)(N,function(t){return t.ALL}),L=Object(I.a)(N,function(t){return t.INFO}),R=Object(I.a)([L,M.a],function(t,e){return t&&t[e]}),F=Object(I.a)(R,function(t){return t&&t[0]}),B=Object(I.a)(F,function(t){return t&&t.institutionalHoldingSummary||""}),U=Object(I.a)([A.g,B],function(t,e){return t&&!!e}),j=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},z={ALL:null,INFO:{}},V=n(1),H=n.n(V),G=n(11),W=n.n(G),q=n(8),$=n(36),Y=(n(358),function(t,e){var n=e.symbol;return{hedgeFunds:F(t,n)}}),X=Object(q.connect)(Y)(function(t){var e=t.className,n=t.hedgeFunds,i=W()(a({"hedge-funds-confidence-signal":!0},e,!!e)),r=n.rating.toLowerCase().replace(" ","-"),o=n.rating.toLowerCase().replace(" ",".");return H.a.createElement($.c,{title:__("hedgefunds.confidence.signal"),className:i,contentClassName:"hedge-funds-confidence-signal__content"},H.a.createElement("div",{className:"hedge-funds-confidence-signal-info"},H.a.createElement("div",{className:r},__("insiders."+o)),H.a.createElement("div",{className:"signal-based-on"},__("hedgefunds.signal.based.on",n.basedOnNumHedgeFunds))),H.a.createElement("div",{className:"hedge-funds-confidence-signal-indicator"},H.a.createElement("div",{className:"indicator"},H.a.createElement("div",{className:"icon-"+r}),H.a.createElement("div",{className:"signal-sold-bought"},H.a.createElement("div",{className:"sold"},__("actions.sold")),H.a.createElement("div",{className:"bought"},__("actions.bought"))))))}),K=n(3),Q=n.n(K),J=n(31),Z=n.n(J),tt=n(416),et=n(160),nt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),it=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},rt=function(t,e){var n=e.symbol;return{hedgeFunds:F(t,n)}},ot=.75,st=864e5,at=7776e6,lt=function(t){function e(){return c(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d(e,t),nt(e,[{key:"render",value:function(){var t=this.props,e=t.className,n=t.hedgeFunds,i=W()(l({"hedge-funds-holdings-graph":!0},e,!!e));return H.a.createElement($.c,{title:__("hedgefunds.holdings.in")+" "+n.stockTicker,className:i},H.a.createElement($.b,{config:p(Object(tt.b)(this.props.hedgeFunds,5))}))}}]),e}(H.a.Component),ct=Object(q.connect)(rt)(lt),ut=n(107),dt=n.n(ut),ht=n(15),pt=n.n(ht),ft=function(t,e){var n=e.symbol;return{hedgeFunds:F(t,n)}},mt=Object(q.connect)(ft)(function(t){var e=t.className,n=t.hedgeFunds,i=W()(f({"hedge-funds-trend":!0},e,!!e)),r=tt.c(n),o=tt.d(n).toLowerCase(),s=__("hedgefunds.trend.text",__("hedgefunds.trend."+o),r);return H.a.createElement($.c,{title:__("hedgefunds.text.trend"),className:i,horizontal:pt.a.desktop()},H.a.createElement("div",{className:"trend-dir "+o},dt()(s)))});n.d(e,"h",function(){return i}),n.d(e,"i",function(){return r}),n.d(e,"f",function(){return s}),n.d(e,!1,function(){return w}),n.d(e,!1,function(){return S}),n.d(e,!1,function(){return E}),n.d(e,!1,function(){return x}),n.d(e,!1,function(){return C}),n.d(e,!1,function(){return T}),n.d(e,!1,function(){return k}),n.d(e,!1,function(){return N}),n.d(e,"d",function(){return D}),n.d(e,!1,function(){return R}),n.d(e,"e",function(){return F}),n.d(e,!1,function(){return B}),n.d(e,"g",function(){return U}),n.d(e,"a",function(){return X}),n.d(e,"b",function(){return ct}),n.d(e,"c",function(){return mt})},function(t,e,n){"use strict";function i(){return function(t,e){return z(e())?Promise.resolve():t({types:[O,P,I],callApi:function(){return k.loadAllInsiders()}})}}function r(t){return function(e,n){var i=z(n()),r=R.a.findWhere(i,{symbol:t});return r?e({types:[A,M,N],additionalData:{symbol:t},callApi:function(){return k.loadInsider(r.stockTicker)}}):(e({type:D,payload:{additionalData:{symbol:t}}}),Promise.resolve())}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,e=arguments[1],n=e.type,i=e.payload;switch(n){case M:var r=i.additionalData.symbol;return $({},t,{INFO:$({},t.INFO,o({},r,$({},R.a.findWhere(t.ALL,{symbol:r}),i.responsePayload.data)))});case D:var s=i.additionalData.symbol;return $({},t,{INFO:$({},t.INFO,o({},s,null))});case P:return $({},t,{ALL:i.responsePayload.data})}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){var e=t.stockLast3MonthTrendAmount;return J()(Math.abs(e)).format(bt).toUpperCase()}function u(t){return t.stockLast3MonthTrend>0?ft.BOUGHT:ft.SOLD}function d(t){var e=t.transactionBuyCount;return t.transactionSellCount<e?ft.BOUGHT:ft.SOLD}function h(t){var e=t.stockLastYearTransactions,n=ht.a.splitByComma(__(yt)),i=R.a.map(e,function(t){var e=t.month.split("-"),i=n[e[mt]-1].substring(0,vt)+" "+e[gt];return pt({},t,{month:i})}).reverse(),r=R.a.map(i,function(t){return t.month}),o=R.a.map(i,function(t){return t.price});return{xData:r,yPositiveColumnData:R.a.map(i,function(t){var e=t.buyCount;return{y:e,additionalData:{count:e,discretionaryCount:t.discretionaryBuyCount,insidersCount:t.transactionDistinctInisdersCount}}}),yNegativeColumnData:R.a.map(i,function(t){var e=t.sellCount;return{y:-e,additionalData:{count:e,discretionaryCount:t.discretionarySellCount,insidersCount:t.transactionDistinctInisdersCount}}}),ySplineData:o}}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function w(t){var e=t.xData,n=t.yPositiveColumnData,i=t.yNegativeColumnData,r=t.ySplineData,o=Ft({},Ut);return o.xAxis.categories=e,o.series[0].data=n,o.series[1].data=i,o.series[2].data=r,Ft({},Ut)}var S=n(6),E=n.n(S),x=function(){return E.a.getInsiders()},C=function(t){return E.a.getInsider(t)},T={loadAllInsiders:x,loadInsider:C},k=T,O="instruments/LOAD_ALL_INSIDERS",P="instruments/LOAD_ALL_INSIDERS_SUCCESS",I="instruments/LOAD_ALL_INSIDERS_ERROR",A="instruments/LOAD_INSIDER",M="instruments/LOAD_INSIDER_SUCCESS",N="instruments/LOAD_INSIDER_ERROR",D="instruments/LOAD_INSIDER_EMPTY_DATA",L=n(0),R=n.n(L),F=n(44),B=n(106),U=n(109),j=function(t){return t.insiders},z=Object(F.a)(j,function(t){return t.ALL}),V=Object(F.a)(j,function(t){return t.INFO}),H=Object(F.a)([V,U.a],function(t,e){return t&&t[e]}),G=Object(F.a)(H,function(t){return!R.a.isEmpty(t)&&t.stockLast3MonthTrend}),W=Object(F.a)(H,function(t){return!R.a.isEmpty(t)&&t.stockLast3MonthTrendAmount}),q=Object(F.a)([B.h,G,W],function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t&&R.a.every(n,function(t){return R.a.isNumber(t)&&!R.a.isNaN(t)})}),$=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Y={ALL:null,INFO:{}},X=n(11),K=n.n(X),Q=n(31),J=n.n(Q),Z=n(1),tt=n.n(Z),et=n(8),nt=n(36),it=(n(151),function(t,e){var n=e.symbol;return{insider:H(t,n)}}),rt=function(t){var e=t.insider,n=t.className,i=K()(a({"insiders-shares-amount":!0},n,!!n)),r=J()(e.totalSellAmount).format("0,0"),o=J()(e.totalBuyAmount).format("0,0");return tt.a.createElement(nt.c,{title:__("insiders.yearly.shares.amount"),className:i},tt.a.createElement("div",{className:"totals"},tt.a.createElement("div",{className:"total-sold"},tt.a.createElement("span",{className:"action"},__("insiders.sold")),tt.a.createElement("span",{className:"value"},r)),tt.a.createElement("div",{className:"total-bought"},tt.a.createElement("span",{className:"action"},__("insiders.bought")),tt.a.createElement("span",{className:"value"},o))))},ot=Object(et.connect)(it)(rt),st=function(t,e){var n=e.symbol;return{signalScore:H(t,n).confidenceSignalScore}},at=function(t){var e=t.signalScore,n=t.className;if("na"===(e=e.toLowerCase()))return null;var i=K()(l({"insiders-signal-direction":!0},n,!!n)),r=e.replace(" ","-"),o=e.replace(" ",".");return tt.a.createElement(nt.c,{title:__("insiders.stock.insider.signal"),className:i},tt.a.createElement("div",{className:"signal-direction"},tt.a.createElement("div",null,tt.a.createElement("div",{className:"icon-signal icon-"+r})),tt.a.createElement("div",{className:"signal-info "+r},__("insiders."+o))))},lt=Object(et.connect)(st)(at),ct=n(107),ut=n.n(ct),dt=n(23),ht=n.n(dt),pt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ft={SOLD:"Sold",BOUGHT:"Bought"},mt=1,gt=0,vt=3,bt="0.0a",yt="calendar_monthNames",_t=function(t,e){var n=e.symbol;return{insider:H(t,n)}},wt=function(t){var e=t.insider,n=t.className,i=K()(p({"insiders-signal-reasoning":!0},n,!!n)),r=d(e).toLowerCase(),o=__("insiders.signal.reasoning.count",Math.max(e.transactionSellCount,e.transactionBuyCount),e.transactionDistinctInisdersCount);return tt.a.createElement(nt.c,{title:__("insiders.signal.reasoning"),className:i},tt.a.createElement("div",{className:"insiders-signal-reasoning__content"},tt.a.createElement("div",{className:"signal-direction "+r},__("actions."+r)),tt.a.createElement("div",{className:"signal-description"},ut()(o))))},St=Object(et.connect)(_t)(wt),Et=function(t,e){var n=e.symbol;return{insider:H(t,n)}},xt=function(t){var e=t.insider,n=t.className,i=K()(f({"insiders-stock-behavior-graph":!0},n,!!n)),r=e&&e.stockLast3MonthChangePercent,o=r&&r.toFixed(2);return R.a.isUndefined(r)?null:tt.a.createElement(nt.c,{title:__("insiders.stock.behavior"),className:i},tt.a.createElement("div",{className:K()(f({"insiders-behavior-value":!0},r>0?"up":"down",!0))},o+"%"),e.stockLast3MonthChangeChartImg&&tt.a.createElement("div",{className:"insiders-behavior-graph"},tt.a.createElement("div",{className:"icon-coordinate-plane"},tt.a.createElement("img",{src:e.stockLast3MonthChangeChartImg}))))},Ct=Object(et.connect)(Et)(xt),Tt=function(t,e){var n=e.symbol;return{insider:H(t,n)}},kt=function(t){var e=t.insider,n=t.className,i=K()(m({"insiders-transactions-type":!0},n,!!n));return tt.a.createElement(nt.c,{title:__("insiders.yearly.transactions.type"),className:i},tt.a.createElement("div",{className:"totals"},tt.a.createElement("div",{className:"total-informative"},tt.a.createElement("span",{className:"icon-informative"}),tt.a.createElement("span",null,ut()(__("insiders.total.informative",e.discretionaryTransactions)))),tt.a.createElement("div",{className:"total-uninformative"},tt.a.createElement("span",{className:"icon-uninformative"}),tt.a.createElement("span",null,ut()(__("insiders.total.uninformative",e.uninformativeTransactions))))))},Ot=Object(et.connect)(Tt)(kt),Pt=n(15),It=n.n(Pt),At=function(t,e){var n=e.symbol;return{insider:H(t,n)}},Mt=function(t){var e=t.insider,n=t.className,i=K()(g({"insiders-trend":!0},n,!!n)),r=c(e),o=u(e).toLowerCase(),s=__("insiders.trend.3month",e.description,__("insiders."+o),r);return tt.a.createElement(nt.c,{title:__("insiders.trend"),className:i,horizontal:It.a.desktop()},tt.a.createElement("div",{className:"trend-dir "+o},ut()(s)))},Nt=Object(et.connect)(At)(Mt),Dt=n(160),Lt=n(283),Rt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Ft=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Bt=function(t,e){var n=e.symbol;return{insider:H(t,n)}},Ut={chart:{zoomType:!1,spacing:[10,0,0,0],height:168},xAxis:{lineWidth:1,lineColor:"#8e949f",style:{color:Dt.TEXT_MUTED_COLOR},labels:{style:{fontSize:"8px"}},tickInterval:1,gridLineWidth:1,gridLineDashStyle:"ShortDot",gridLineColor:"#a4a4a4"},yAxis:[{lineWidth:1,lineColor:"#8e949f",title:{text:__("insiders.graph.transactions"),style:{color:Dt.TEXT_MUTED_COLOR,fontSize:"10px",whiteSpace:"nowrap"}},labels:{format:"{value}",style:{color:Dt.TEXT_MUTED_COLOR,fontSize:"8px"},x:-3},gridLineColor:"#2a2a2a",gridLineDashStyle:"ShortDot",plotLines:[{color:Dt.TEXT_MUTED_COLOR,width:1,dashStyle:"ShortDot",value:0}]},{lineWidth:1,lineColor:"#8e949f",title:{text:__("insiders.graph.stock.price"),style:{color:Dt.TEXT_MUTED_COLOR,fontSize:"10px",whiteSpace:"nowrap"}},labels:{format:"{value}",style:{color:"#9e9052",fontSize:"8px"},x:3},gridLineDashStyle:"ShortDot",gridLineColor:"#a4a4a4",tickPixelInterval:50,opposite:!0}],plotOptions:{spline:{lineWidth:1,marker:{enabled:!1}},column:{groupPadding:.5,pointWidth:17,borderWidth:0}},legend:{enabled:!1},tooltip:{style:{color:Dt.TEXT_MUTED_COLOR},formatter:function(){var t=this.point.additionalData,e=__("insiders.graph.tooltip",t.discretionaryCount,'<span style="font-weight:bold; color:'+this.color+'"> '+__("actions.buy")+" </span>",t.count-t.discretionaryCount,t.insidersCount);return"<span><b>"+this.key+"</b><br/>"+e+"</span>"}},series:[{name:"",type:"column",color:Dt.POSITIVE_COLOR},{name:"",type:"column",color:Dt.NEGATIVE_COLOR},{name:"",type:"spline",color:"#9e9052",yAxis:1,enableMouseTracking:!1}]},jt=function(t){function e(){return b(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),Rt(e,[{key:"render",value:function(){var t=this.props.className,e=K()(v({"insiders-yearly-transaction-graph":!0},t,!!t));return tt.a.createElement(nt.c,{title:__("insiders.yearly.insider.transactions",""),className:e},tt.a.createElement(Lt.a,{config:w(h(this.props.insider))}))}}]),e}(tt.a.Component),zt=Object(et.connect)(Bt)(jt);n.d(e,"m",function(){return i}),n.d(e,"n",function(){return r}),n.d(e,"k",function(){return s}),n.d(e,!1,function(){return O}),n.d(e,!1,function(){return P}),n.d(e,!1,function(){return I}),n.d(e,!1,function(){return A}),n.d(e,!1,function(){return M}),n.d(e,!1,function(){return N}),n.d(e,!1,function(){return D}),n.d(e,!1,function(){return j}),n.d(e,"h",function(){return z}),n.d(e,!1,function(){return H}),n.d(e,"j",function(){return G}),n.d(e,"i",function(){return W}),n.d(e,"l",function(){return q}),n.d(e,"a",function(){return ot}),n.d(e,"b",function(){return lt}),n.d(e,"c",function(){return St}),n.d(e,"d",function(){return Ct}),n.d(e,"e",function(){return Ot}),n.d(e,"f",function(){return Nt}),n.d(e,"g",function(){return zt})},function(t,e,n){"use strict";function i(){return function(t,e){return W(e())?Promise.resolve():t({types:[F,B,U],callApi:function(){return R.loadBloggers()}})}}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,e=arguments[1],n=e.type,i=e.payload;switch(n){case B:return nt({},t,i.responsePayload.data)}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new TypeError(_t);return Object(yt.a)(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Object(bt.a)(t,e,{leading:i,maxWait:e,trailing:r})}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function d(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function y(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),t}function _(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?S(t):e}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function O(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function P(t,e){var n=e.symbol;return{bloggersRecommendations:$(t),ticker:Object(z.getInstrumentTicker)(t,n)}}var I=n(6),A=n.n(I),M=n(10),N=M.LAST_SEVEN_DAYS,D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;return A.a.loadBloggers(t)},L={loadBloggers:D},R=L,F="instruments/LOAD_BLOGGERS",B="instruments/LOAD_BLOGGERS_SUCCESS",U="instruments/LOAD_BLOGGERS_ERROR",j=n(44),z=n(78),V=n(0),H=n.n(V),G=n(106),W=function(t){return t.bloggers},q=Object(j.a)(W,function(t){return t&&t.stocks}),$=Object(j.a)(W,function(t){return t&&t.bloggerRecommendations}),Y=Object(j.a)([q,z.getInstrumentTicker],function(t,e){return t&&t[e]}),X=Object(j.a)(Y,function(t){return t&&Math.round(t.bullishRatio*M.PERCENTS_100)/M.PERCENTS_100}),K=Object(j.a)(z.getInstrumentTicker,function(t){return t}),Q=Object(j.a)(Y,function(t){return t&&t.numberOfBloggers||""}),J=Object(j.a)(Y,function(t){return t&&Math.round(t.sectorBullRatio*M.PERCENTS_100)/M.PERCENTS_100}),Z=Object(j.a)(Y,function(t){return t&&t.consensus||""}),tt=Object(j.a)(Z,function(t){return!!t}),et=Object(j.a)([G.d,X,J,Z],function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t&&H.a.every(n,function(t){return!!t})}),nt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},it=null,rt=n(1),ot=n.n(rt),st=n(11),at=n.n(st),lt=n(36),ct=n(255),ut=function(t){var e=t.name,n=t.firm,i=t.stars,r=t.recommendation,s=t.date,a=t.bloggerImgUrl,l="",c="",u="";switch(r){case M.SENTIMENT_BULLISH:u="long",c="icon-bullish",l="sentiment.bullish";break;case M.SENTIMENT_BEARISH:u="short",c="icon-bearish",l="sentiment.bearish";break;default:u="hold",c="",l="sentiment.hold"}var d=at()(o({"blogger-recommendation__trend-text":!0},u,!!u));return ot.a.createElement("div",{className:"blogger-recommendation"},ot.a.createElement("div",{className:"blogger-recommendation__header"},ot.a.createElement("img",{src:a?"https://az712682.vo.msecnd.net/expert-pictures/"+a:ct,className:"blogger-recommendation__photo",alt:e}),ot.a.createElement("div",{className:"blogger-recommendation__details"},ot.a.createElement("div",{className:"blogger-recommendation__name",title:e},e),ot.a.createElement("div",{className:"blogger-recommendation__company"},n),ot.a.createElement(lt.f,{rating:i}))),ot.a.createElement("div",{className:"blogger-recommendation__content"},ot.a.createElement("div",{className:"blogger-recommendation__icon"},ot.a.createElement("i",{className:c})),ot.a.createElement("div",{className:"blogger-recommendation__trend"},ot.a.createElement("div",{className:d},__(l)),ot.a.createElement("div",{className:"blogger-recommendation__date"},__("insiders.days.ago",function(t){var e=new Date(t),n=new Date;return Math.round((n.getTime()-e.getTime())/864e5)}(s))))))},dt=ut,ht=n(160),pt=n(16),ft=n(660),mt=function(t){var e=[],n=null,i=function(){for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];e=r,n||(n=requestAnimationFrame(function(){n=null,t.apply(void 0,e)}))};return i.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},i},gt=mt,vt=n(20),bt=n(256),yt=n(359),_t="Expected a function",wt=s,St={debounce:bt.a,throttle:wt},Et=function(t){return St[t]},xt=function(t){return"function"==typeof t},Ct=function(){return"undefined"==typeof window},Tt=function(t){function e(){return l(this,e),d(this,p(e).apply(this,arguments))}return f(e,t),u(e,[{key:"render",value:function(){return this.props.children}}]),e}(rt.PureComponent),kt=Tt,Ot=function(t){function e(t){var n;v(this,e),n=_(this,w(e).call(this,t)),C(S(n),"cancelHandler",function(){n.resizeHandler&&n.resizeHandler.cancel&&(n.resizeHandler.cancel(),n.resizeHandler=null)}),C(S(n),"rafClean",function(){n.raf&&n.raf.cancel&&(n.raf.cancel(),n.raf=null)}),C(S(n),"toggleObserver",function(t){var e=n.getElement();e&&n.resizeObserver[t]&&n.resizeObserver[t](e)}),C(S(n),"getElement",function(){var t=n.props.querySelector;if(!Ct()){if(t)return document.querySelector(t);var e=n.element&&Object(pt.findDOMNode)(n.element);if(e)return e.parentElement}}),C(S(n),"createUpdater",function(){return n.rafClean(),n.raf=gt(function(t){var e=t.width,i=t.height,r=n.props.onResize;xt(r)&&r(e,i),n.setState({width:e,height:i})}),n.raf}),C(S(n),"createResizeHandler",function(t){var e=n.state,i=e.width,r=e.height,o=n.props,s=o.handleWidth,a=o.handleHeight;if(s||a){var l=n.createUpdater();t.forEach(function(t){var e=t&&t.contentRect||{},o=e.width,c=e.height,u=s&&i!==o,d=a&&r!==c,h=u||d;!n.skipOnMount&&h&&!Ct()&&l({width:o,height:c}),n.skipOnMount=!1})}}),C(S(n),"onRef",function(t){n.element=t}),C(S(n),"getRenderType",function(){var t=n.props,e=t.render,i=t.children;return xt(e)?"renderProp":xt(i)?"childFunction":Object(rt.isValidElement)(i)?"child":Array.isArray(i)?"childArray":"parent"}),C(S(n),"getTargetComponent",function(){var t=n.props,e=t.render,i=t.children,r=t.nodeType,o=n.state,s=o.width,a=o.height,l={width:s,height:a};switch(n.getRenderType()){case"renderProp":return Object(rt.cloneElement)(e(l),{key:"resize-detector"});case"childFunction":return Object(rt.cloneElement)(i(l));case"child":return Object(rt.cloneElement)(i,l);case"childArray":return i.map(function(t){return Object(rt.cloneElement)(t,l)});default:return Object(rt.createElement)(r)}});var i=t.skipOnMount,r=t.refreshMode,o=t.refreshRate,s=t.refreshOptions;n.state={width:void 0,height:void 0},n.skipOnMount=i,n.raf=null,n.element=null,n.unmounted=!1;var a=Et(r);return n.resizeHandler=a?a(n.createResizeHandler,o,s):n.createResizeHandler,n.resizeObserver=new ft.default(n.resizeHandler),n}return E(e,t),y(e,[{key:"componentDidMount",value:function(){this.toggleObserver("observe")}},{key:"componentWillUnmount",value:function(){this.toggleObserver("unobserve"),this.rafClean(),this.cancelHandler(),this.unmounted=!0}},{key:"render",value:function(){return ot.a.createElement(kt,{ref:this.onRef},this.getTargetComponent())}}]),e}(rt.PureComponent);Ot.propTypes={handleWidth:vt.bool,handleHeight:vt.bool,skipOnMount:vt.bool,refreshRate:vt.number,refreshMode:vt.string,refreshOptions:Object(vt.shape)({leading:vt.bool,trailing:vt.bool}),querySelector:vt.string,onResize:vt.func,render:vt.func,children:vt.any,nodeType:vt.node},Ot.defaultProps={handleWidth:!1,handleHeight:!1,skipOnMount:!1,refreshRate:1e3,refreshMode:void 0,refreshOptions:void 0,querySelector:null,onResize:null,render:void 0,children:null,nodeType:"div"};var Pt=Ot,It=Pt,At=n(15),Mt=n.n(At),Nt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Dt=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Lt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Rt={chart:{plotBorderWidth:0,plotShadow:!1,type:"pie",height:140},colors:ht.OPINIONS_COLORS,title:{text:null},tooltip:{enabled:!1},plotOptions:{pie:{allowPointSelect:!1,dataLabels:{enabled:!1},size:100,showInLegend:!0,point:{events:{legendItemClick:function(t){t.preventDefault()}}}},series:{type:"pie",innerSize:"70%",states:{hover:{enabled:!1}}}}},Ft=function(t){function e(){var t,n,i,r;T(this,e);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return n=i=k(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),i.state={width:100},r=n,k(i,r)}return O(e,t),Lt(e,[{key:"getBloggersList",value:function(){var t=this.props,e=t.symbol,n=t.dataOfBloggers;if(H.a.isEmpty(n))return{};var i=H.a.pick(n.stocks,function(t){return t.symbol===e}),r=H.a.map(i,function(t,e){return Nt({ticker:e},t)});return Dt(r,1)[0]}},{key:"render",value:function(){var t=this,e=this.getBloggersList().sites,n=H.a.map(e,function(t){return{name:t.siteName,y:t.percentageOfSite}}),i=Nt({},Rt,{legend:{layout:Mt.a.mobile()?"vertical":"horizontal",align:"right",verticalAlign:"middle",itemMarginBottom:4,itemStyle:{fontWeight:"normal",fontSize:"12px",color:ht.TEXT_MUTED_COLOR},labelFormat:"{percentage:.1f}% {name}",width:!Mt.a.mobile()&&.7*this.state.width},series:[{colorByPoint:!0,data:n}]});return ot.a.createElement("div",null,ot.a.createElement(It,{handleWidth:!0,refreshMode:"debounce",refreshRate:200,onResize:function(e){return t.setState({width:e})}}),ot.a.createElement(lt.b,{config:i}))}}]),e}(ot.a.Component),Bt=Ft,Ut=n(107),jt=n.n(Ut),zt=function(t){var e=(t.symbol,t.consensus),n=t.bullishRatio,i=t.numOfBloggers,r=t.ticker;return ot.a.createElement("div",null,ot.a.createElement(lt.a,{consensus:e,bullishRatio:n}),ot.a.createElement("div",{className:"consensus-text"},jt()(__("bloggers.consensus.text",r,i,e))))},Vt=zt,Ht=n(8),Gt=function(t){var e=(t.symbol,t.bloggersRecommendations),n=t.ticker,i=t.inSlider,r=function(){return H.a.filter(e,function(t){return t.stockTicker===n})}(),o=[];return r.forEach(function(t,e){o.push(ot.a.createElement(lt.c,{className:"bloggers-recommendations__item",key:e},ot.a.createElement(dt,{name:t.bloggerName,firm:t.firmName,stars:t.stars,recommendation:t.recommendation,date:t.recommendationDate,bloggerImgUrl:"null"===t.expertPictureUrl?null:t.expertPictureUrl})))}),ot.a.createElement("div",{className:"bloggers-recommendations"},i?ot.a.createElement(lt.l,{slidesToShow:5},H.a.map(o,function(t,e){return ot.a.createElement("div",{key:"slideKey"+e,className:"slide"},t)})):ot.a.createElement("div",{className:"bloggers-recommendations__list"},o))},Wt=Object(Ht.connect)(P)(Gt);n.d(e,"n",function(){return i}),n.d(e,"e",function(){return r}),n.d(e,!1,function(){return F}),n.d(e,!1,function(){return B}),n.d(e,!1,function(){return U}),n.d(e,"f",function(){return W}),n.d(e,"g",function(){return $}),n.d(e,!1,function(){return Y}),n.d(e,"j",function(){return X}),n.d(e,"i",function(){return K}),n.d(e,"k",function(){return Q}),n.d(e,"l",function(){return J}),n.d(e,"h",function(){return Z}),n.d(e,!1,function(){return tt}),n.d(e,"m",function(){return et}),n.d(e,"a",function(){return dt}),n.d(e,"b",function(){return Bt}),n.d(e,"c",function(){return Vt}),n.d(e,"d",function(){return Wt})},function(t,e,n){(function(i,r){var o,s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};void 0!==(o=function(t,e,i){var r=n(0),o=n(5),a=n(361),l=n(15),c=n(7),u=n(791),d=n(877),h=n(1421),p=n(1424),f=n(370),m=n(281);i.exports=r.extend({},a,{init:function(){u.initLocalizedSettings()},createSubscription:function(t,e,n){var i=t.chartId,r=t.symbol,o=t.period,a=t.range,l=t.price,c=t.indicators,u=!!a,h=!!o;a=a?f[a]||f["1d"]:this.getRangeByPeriod(o),o=o?this.getPeriod(o):this.getPeriod(a.request.period);var p={aggregationPeriod:o,expansionBarsCount:0,extendedHours:!1,forexPriceField:l,id:void 0,maxBarsCount:400,range:{duration:a.request&&a.request.duration||a.duration},studySubscription:c,subtopic:void 0,symbol:r,updateInterval:300};return new d(s({chartId:i,settings:p,timeout:e,unsubscribeId:n},u?{range:a}:{},h?{period:o}:{}))},updateSubscription:function(t,e){e=f[e],t.set("range",e),r.extend(t.getSettings(),{aggregationPeriod:this.getPeriod(e.request.period),range:{duration:e.request&&e.request.duration||e.duration}})},showIndicatorsSettings:function(t,e){var n=this;return new p({parent:o("body"),translucent:"2"},t,this.getActiveIndicators(t),this.getInactiveIndicators(t),this.getAllIndicators(),function(t,i,r){n.saveActiveIndicators(t,r),n.saveInactiveIndicators(i,r),e&&e(t,r)})},saveActiveIndicators:function(t,e){r.isUndefined(e)?c.getUserCommonData().saveActiveIndicators(t):this.saveMultiChartsSettings(e,"indicators",t)},getActiveIndicators:function(t){if(l.mobile())return[];if(r.isUndefined(t))return c.getUserCommonData().getActiveIndicators();var e=c.getUserCommonData().getMultiChartsSettings().charts;if(e&&e[t]){var n=e[t].indicators;return r.isString(n)&&(n=JSON.parse(n)),n}return[]},saveInactiveIndicators:function(t,e){r.isUndefined(e)?c.getUserCommonData().saveInactiveIndicators(t):this.saveMultiChartsInactiveIndicators(e,t)},getInactiveIndicators:function(t){if(r.isUndefined(t))return c.getUserCommonData().getInactiveIndicators();var e=c.getUserCommonData().getMultiChartsInactiveIndicators();return e&&e[t]?e[t]:{}},getAllIndicators:function(){return c.getUserCommonData().getAllIndicators()},showChartSettings:function(t,e){var n=this,i=this.getChartSettings(t);return r.isUndefined(t)||delete i.switchers.showTrades,new h({parent:o("body"),translucent:"2"},t,i,u.defaultChartSettings,function(t,i,r){n.saveChartSettings(t,i,r),e&&e(t,i,r)})},saveChartSettings:function(t,e,n){r.isUndefined(n)?c.getUserCommonData().saveChartSettings(e):this.saveMultiChartsSettings(n,"settings",e)},getChartSettings:function(t){if(r.isUndefined(t))return u.prepareSettings(this.parseSettings(c.getUserCommonData().getChartSettings()));var e=c.getUserCommonData().getMultiChartsSettings().charts;return e&&e[t]?u.prepareSettings(e[t].settings):u.defaultChartSettings},getDrawings:function(t,e){if(r.isUndefined(e))return c.getUserCommonData().getDrawingSettings(t);var n=c.getUserCommonData().getMultiChartsSettings().charts;if(n&&n[e]){var i=n[e].drawings;return i||{}}return{}},saveDrawings:function(t,e,n){r.isUndefined(n)?c.getUserCommonData().saveDrawingSettings(t,e):this.saveMultiChartsSettings(n,"drawings",e)},saveComparison:function(t,e,n){var i=c.getUserCommonData().getMultiChartsSettings().charts;r.isArray(i)||(i=[]),r.isObject(i[t])||(i[t]={}),r.isArray(i[t].comparison)||(i[t].comparison=[]);var o=i[t].comparison;if(n)o.push(e);else{var s=o.indexOf(e);s>-1&&o.splice(s,1)}c.getUserCommonData().saveMultiChartsSettings({charts:i})},saveMultiChartsSettings:function(t,e,n){var i=c.getUserCommonData().getMultiChartsSettings().charts;return r.isArray(i)||(i=[]),r.isObject(i[t])||(i[t]={}),i[t][e]=n,"symbol"===e&&(i[t].drawings=void 0),c.getUserCommonData().saveMultiChartsSettings({charts:i})},removeMultiChartsSettings:function(t){var e=c.getUserCommonData().getMultiChartsSettings().charts;return r.isArray(e)&&(e[t]=null),c.getUserCommonData().saveMultiChartsSettings({charts:e})},saveMultiChartsInactiveIndicators:function(t,e){var n=c.getUserCommonData().getMultiChartsInactiveIndicators();r.isArray(n)||(n=[]),n[t]=e,c.getUserCommonData().saveMultiChartsInactiveIndicators(n)},parseSettings:function(t,e){return r.isUndefined(t)||r.isNull(t)?e:r.isString(t)?JSON.parse(t):t},getRanges:function(){return f},getPeriod:function(t){return r.findWhere(c.getUserCommonData().getPeriods(),{name:t})},getRangeDuration:function(t){return t=f[t].range,r.findWhere(c.getUserCommonData().getRanges(),{name:t})},getPeriods:function(){return m},getPeriodByRange:function(t){return f[t].request.period},getRangeByPeriod:function(t){return r.find(c.getUserCommonData().getPeriodRangePairs(),function(e){return e.aggregationPeriod.name===t}).range},getApplicationSettings:function(){return c.getApplicationSettings()}})}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){"use strict";function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.a,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(i,o){if(!v.isEmpty(t)){var s=String(t).replace(/\//g,"~"),c=v.isEmpty(Object(T.l)(o(),s)),u=void 0;n&&(u=Object(T.e)(o(),s)),c&&i(a(s)),i({types:[g.f,r,g.g],callApi:function(){return C.a[s===g.a?"loadNews":"loadNewsForInstrument"](s)},shouldCallApi:function(t){var e=Object(T.i)(t,s);return!n||v.now()-e>k()},additionalData:{ticker:s,shouldSelectFirstNews:e,prevStateAll:u}}),!O&&n&&i(l())}}}function r(t){return function(e){var n=t.additionalData,i=n.ticker,r=n.shouldSelectFirstNews;e({type:g.h,payload:t}),!0===r&&e(s(i))}}function o(t){return function(e){e({type:g.k,payload:t})}}function s(t){return function(e,n){var i=n().news[t];e(u(i&&v.first(i.filter),t))}}function a(t){return function(e){e({type:g.c,payload:t})}}function l(){return function(t){O||(t({type:g.n}),O=setInterval(function(){t(i())},k()))}}function c(){return function(t,e){t({type:g.d}),0===e().news.refCount&&(t({type:g.j}),O&&(clearInterval(O),O=null))}}function u(t,e){return function(n){n({type:g.m,payload:{id:t,ticker:e}})}}function d(){return function(t){t(s(g.a)),t({type:g.i})}}function h(){return{type:g.b}}function p(t,e){return function(n,i){if(n({type:g.l,payload:{name:t,ticker:e}}),!y.a.mobile()){var r=i().news[e],o=r&&v.first(r.filter);o&&w.a.navigate("news/"+o)}}}function f(){return{type:g.e}}function m(){return{type:g.d}}Object.defineProperty(e,"__esModule",{value:!0}),e.loadNews=i,e.loadNewsSuccess=r,e.resetNewsByTicker=o,e.selectFirstNewsId=s,e.createGroup=a,e.startTimerUpdate=l,e.removeTimerUpdate=c,e.selectNews=u,e.openNewsPage=d,e.closeNewsPage=h,e.selectDropdownFilter=p,e.incrementRefCount=f,e.decrementRefCount=m;var g=n(280),v=n(0),b=(n.n(v),n(15)),y=n.n(b),_=n(2),w=n.n(_),S=n(9),E=n.n(S),x=n(6),C=n.n(x),T=n(792),k=function(){return E.a.getNewsFeedIntervalUpdateTime()},O=null},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,e=arguments[1],n=e.type,r=e.payload;switch(n){case l:return p({},t,{ALL:r.responsePayload.data});case d:var o=r.additionalData.symbol;return p({},t,{INFO:p({},t.INFO,i({},o,r.responsePayload.data))})}return t}function o(t){return{types:[a,l,c],callApi:function(){return _.loadNewsSentiment(t)}}}function s(t){return function(e,n){var i=Object(w.getInstrumentTicker)(n(),t),r=function(){return _.loadNewsSentimentByTicker(i)};return i||(r=function(){return Promise.resolve({})}),e({types:[u,d,h],additionalData:{symbol:t},callApi:r})}}var a="instruments/LOAD_ALL_NEWS_SENTIMENT",l="instruments/LOAD_ALL_NEWS_SENTIMENT_SUCCESS",c="instruments/LOAD_ALL_NEWS_SENTIMENT_ERROR",u="instruments/LOAD_NEWS_SENTIMENT_INFO",d="instruments/LOAD_NEWS_SENTIMENT_INFO_SUCCESS",h="instruments/LOAD_NEWS_SENTIMENT_INFO_ERROR",p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},f={ALL:null,INFO:{}},m=n(6),g=n.n(m),v=function(){return g.a.loadNewsSentiment()},b=function(t){return g.a.loadNewsSentimentByTicker(t)},y={loadNewsSentiment:v,loadNewsSentimentByTicker:b},_=y,w=n(78),S=n(793);n.d(e,"g",function(){return r}),n.d(e,!1,function(){return o}),n.d(e,"f",function(){return s}),n.d(e,!1,function(){return a}),n.d(e,!1,function(){return l}),n.d(e,!1,function(){return c}),n.d(e,!1,function(){return u}),n.d(e,!1,function(){return d}),n.d(e,!1,function(){return h}),n.d(e,!1,function(){}),n.d(e,!1,function(){}),n.d(e,!1,function(){}),n.d(e,!1,function(){return S.i}),n.d(e,!1,function(){}),n.d(e,"c",function(){return S.l}),n.d(e,!1,function(){return S.a}),n.d(e,"a",function(){return S.j}),n.d(e,!1,function(){return S.b}),n.d(e,"b",function(){return S.k}),n.d(e,!1,function(){return S.f}),n.d(e,!1,function(){return S.e}),n.d(e,"d",function(){return S.m}),n.d(e,!1,function(){return S.h}),n.d(e,!1,function(){return S.g}),n.d(e,!1,function(){return S.d}),n.d(e,!1,function(){return S.c}),n.d(e,"e",function(){return S.n})},function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"c",function(){return c}),n.d(e,"d",function(){return u}),n.d(e,"b",function(){return d});var i=n(31),r=n.n(i),o=n(0),s=n.n(o),a=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l={INCREASED:"Increased",DECREASED:"Decreased"},c=function(t){var e=t.institutionalHoldingSummary,n=s.a.last(e);return n?r()(n.h).format("0a").toUpperCase():""},u=function(t){var e=t.institutionalHoldingSummary;if(s.a.isEmpty(e))return"";var n=s.a.last(e,2),i=a(n,2),r=i[0],o=i[1],c=o?o.h-r.h:"";return c>=0?l.INCREASED:c<0?l.DECREASED:""},d=function(t,e){var n=t.institutionalHoldingSummary,i=t.stockPrices,r=s.a.map(n,function(t){return[new Date(t.l).getTime(),t.h]}),o=s.a.map(i,function(t){return[new Date(t.m).getTime(),t.p]});e&&(r=r.slice(-e),o=o.slice(12*-(e+1)));var a=s.a.uniq(s.a.union(s.a.map(r,function(t){return t[0]}),s.a.map(o,function(t){return t[0]}))).sort(function(t,e){return t-e}),l=a[0]-7776e6;return a.unshift(l),r.unshift([l,0]),{xData:a,yColumnData:r,yLineData:o}}},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=r.createClass({displayName:"GridCellInstrumentName",getDefaultProps:function(){return{className:""}},render:function(){var t=this.props.column.key,e=this.props.model,n=e.get(t),i=[];return i.push(this.props.className,"instrument-name"),r.createElement("td",{className:i.join(" ")},r.createElement("div",{className:"instrument-name-cell"},n))}});i.exports=o}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}var o=n(1),s=n.n(o),a=n(11),l=n.n(a),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u=function(t){var e,n=t.children,o=t.btnType,a=void 0===o?"default":o,u=t.className,d=r(t,["children","btnType","className"]);return s.a.createElement("button",c({type:"button",className:l()((e={btn:!0},i(e,"btn-"+a,!0),i(e,u,!!u),e))},d),n)};e.a=u},function(t,e,n){"use strict";function i(t){t&&(t.preventDefault(),t.stopPropagation())}function r(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function o(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}var s=n(816),a=n(131),l=n(1),c=n.n(l),u=n(29),d=n.n(u),h=n(0),p=n.n(h),f=c.a.createElement.bind(null,"div"),m=c.a.createElement.bind(null,"button"),g=c.a.createElement.bind(null,"a"),v=c.a.createElement.bind(null,"select"),b=c.a.createElement.bind(null,"option"),y=c.a.createElement.bind(null,"label"),_=0,w={38:"handleUpKey",40:"handleDownKey",32:"handleSpaceKey",13:"handleEnterKey",27:"handleEscKey",74:"handleDownKey",75:"handleUpKey"},S=d()({displayName:"DropdownMultiselect",getInitialState:function(){return{id:"react-select-box-"+ ++_,open:!1,focusedIndex:-1,pendingValue:[]}},getDefaultProps:function(){return{closeText:"Close",clearText:"Remove selection"}},changeOnClose:function(){return this.isMultiple()&&"true"===String(this.props.changeOnClose)},updatePendingValue:function(t,e){return!!this.changeOnClose()&&(this.setState({pendingValue:t},e),!0)},componentWillMount:function(){this.updatePendingValue(this.props.value)},componentWillReceiveProps:function(t){this.updatePendingValue(t.value)},clickingOption:!1,blurTimeout:null,handleFocus:function(){clearTimeout(this.blurTimeout)},handleBlur:function(){clearTimeout(this.blurTimeout),this.blurTimeout=setTimeout(this.handleClose,0)},handleMouseDown:function(){this.clickingOption=!0},handleChange:function(t,e){return function(n){if(this.clickingOption=!1,i(n),this.isMultiple()){var r=[];if(null!==t){r=this.value().slice(0);var o=r.indexOf(t);-1!==o?r.splice(o,1):r.push(t)}this.updatePendingValue(r,e)||this.props.onChange(r)}else this.updatePendingValue(t,e)||this.props.onChange(t),this.handleClose(),this.refs.button.getDOMNode().focus()}.bind(this)},handleNativeChange:function(t){var e=t.target.value;if(this.isMultiple()){e=[].slice.call(t.target.childNodes,0).reduce(function(t,e){return e.selected&&t.push(e.value),t},[])}this.props.onChange(e)},handleClear:function(t){i(t),this.handleChange(null,function(){this.props.onChange(this.state.pendingValue)})(t)},toggleOpenClose:function(t){if(i(t),this.setState({open:!this.state.open}),this.state.open)return this.setState({open:!1});this.handleOpen()},handleOpen:function(t){i(t),this.setState({open:!0},function(){this.refs.menu.getDOMNode().focus()})},handleClose:function(t){i(t),this.clickingOption||this.setState({open:!1,focusedIndex:-1}),this.changeOnClose()&&this.props.onChange(this.state.pendingValue)},moveFocus:function(t){var e=c.a.Children.count(this.props.children),n=(this.state.focusedIndex+t+e)%e;this.setState({focusedIndex:n})},handleKeyDown:function(t){w[t.which]&&this[w[t.which]](t)},handleUpKey:function(t){i(t),this.moveFocus(-1)},handleDownKey:function(t){i(t),this.state.open||this.handleOpen(t),this.moveFocus(1)},handleSpaceKey:function(t){i(t),this.state.open?-1!==this.state.focusedIndex&&this.handleEnterKey():this.handleOpen(t)},handleEnterKey:function(t){-1!==this.state.focusedIndex&&this.handleChange(this.options()[this.state.focusedIndex].value)(t)},handleEscKey:function(t){this.state.open?this.handleClose(t):this.handleClear(t)},label:function(){var t=this.options().filter(function(t){return this.isSelected(t.value)}.bind(this)).map(function(t){return t.label});return t.length>0?t.join(", "):this.props.label},isMultiple:function(){return"true"===String(this.props.multiple)},options:function(){var t=[];return c.a.Children.forEach(this.props.children,function(e){t.push({value:e.props.value,label:e.props.children})}),t},value:function(){var t=this.changeOnClose()?this.state.pendingValue:this.props.value;return!this.isMultiple()||p.a.isArray(t)?t:null!==t?[t]:[]},hasValue:function(){return this.isMultiple()?this.value().length>0:null!==this.value()},isSelected:function(t){return this.isMultiple()?-1!==this.value().indexOf(t):this.value()===t},render:function(){var t="react-select-box-container";return this.props.className&&(t+=" "+this.props.className),this.isMultiple()&&(t+=" react-select-box-multi"),this.hasValue()||(t+=" react-select-box-empty"),f({onKeyDown:this.handleKeyDown,className:t},m({id:this.state.id,ref:"button",className:"react-select-box",onClick:this.toggleOpenClose,onBlur:this.handleBlur,tabIndex:"0","aria-hidden":!0},f({className:"react-select-box-label"},this.label())),this.renderOptionMenu(),this.renderClearButton(),this.renderNativeSelect())},renderNativeSelect:function(){var t=this.state.id+"-native-select",e=this.isMultiple(),n=e?null:b({key:"",value:""},"No Selection"),i=[n].concat(this.props.children);return f({className:"react-select-box-native"},y({htmlFor:t},this.props.label),v({id:t,multiple:e,onKeyDown:function(t){t.stopPropagation()},value:this.props.value||(e?[]:""),onChange:this.handleNativeChange},i))},renderOptionMenu:function(){var t="react-select-box-options";return this.state.open||(t+=" react-select-box-hidden"),f({className:t,onBlur:this.handleBlur,onFocus:this.handleFocus,"aria-hidden":!0,ref:"menu",tabIndex:0},f({className:"react-select-box-off-screen"},this.options().map(this.renderOption)),this.renderCloseButton())},renderOption:function(t,e){var n="react-select-box-option";return e===this.state.focusedIndex&&(n+=" react-select-box-option-focused"),this.isSelected(t.value)&&(n+=" react-select-box-option-selected"),g({id:this.state.id+"-"+e,href:"#",onClick:this.handleChange(t.value),onMouseDown:this.handleMouseDown,className:n,tabIndex:-1,key:t.value,onBlur:this.handleBlur,onFocus:this.handleFocus},t.label)},renderClearButton:function(){if(this.hasValue())return m({"aria-label":this.props.clearText,className:"react-select-box-clear",onClick:this.handleClear})},renderCloseButton:function(){if(this.isMultiple()&&this.props.closeText)return m({onClick:this.handleClose,className:"react-select-box-close",onBlur:this.handleBlur,onFocus:this.handleFocus},this.props.closeText)}}),E=(n(1380),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}),x=n(1),C=n(29),T=n(152),k=n(0),O=n(12),P=T.extend({initialize:function(){var t=this;T.prototype.initialize.apply(this,arguments),this.listenTo(this,"change",function(e,n){return t.options.onChange(n)})},render:function(){O.prototype.render.apply(this,arguments),T.prototype.render.apply(this,arguments)}}),I=C({displayName:"SpinNumber",getDefaultProps:function(){return{as:"div",onChange:k.noop,value:"",step:1,intMax:10,minValue:0,precision:0,placeholder:"",title:""}},getComposedOptions:function(){var t=this,e=this.props,n=e.title,i=e.placeholder,r=e.value,o=e.step,s=e.intMax,a=e.minValue,l=e.precision;return{defaultValue:this.props.defaultValue||"",onChange:function(e){return t.onChange(e)},translationKey:"",title:n,placeholder:i,value:r,step:o,intMax:s,minValue:a,precision:l,disable:!1}},componentDidMount:function(){this.createField()},getValue:function(){return this.field&&this.field.value()},setValue:function(t){this.field&&this.field.value(t)},createField:function(){this.field||(this.field=new P(E({parent:this.refs.el},this.getComposedOptions())),this.field.render(),this.field.value(this.props.value))},destroyField:function(){this.field&&(this.field.remove(),this.field=null)},onChange:function(){this.props.onChange(this.field.value())},componentWillUnmount:function(){this.destroyField()},componentDidUpdate:function(){this.destroyField(),this.createField()},render:function(){var t=this.props,e=(t.children,t.onChange,t.defaultValue,t.step,t.intMax,t.minValue,t.precision,t.placeholder,t.value,r(t,["children","onChange","defaultValue","step","intMax","minValue","precision","placeholder","value"]));return x.createElement(e.as,E({},e,{className:"spin-number",ref:"el"}))}}),A=n(161),M=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},N=n(1),D=n(29),L=n(688),R=n(0),F=L.extend({initialize:function(){var t=this;L.prototype.initialize.apply(this,arguments),this._events={onchange:function(e){return t.options.onChange(e)}}}}),B=D({displayName:"CheckboxIOS",getDefaultProps:function(){return{as:"div",name:"dropdown",title:"",checked:!1,onText:"on",offText:"off",disable:!1,onChange:R.noop}},getComposedOptions:function(){var t=this;return{className:this.props.childClassName,name:this.props.name,title:this.props.title,disable:this.props.disable,checked:this.props.checked,onText:this.props.onText,offText:this.props.offText,onChange:function(){return t.onChange()}}},componentDidMount:function(){this.createField()},getValue:function(){return this.field&&this.field.value()},setValue:function(t){this.field&&this.field.value(t)},createField:function(){this.field||(this.field=new F(M({parent:this.refs.el},this.getComposedOptions())),this.field.value(this.props.selected),this.field.render())},destroyField:function(){this.field&&(this.field.remove(),this.field=null)},onChange:function(t){this.props.onChange(this.field.value())},componentWillUnmount:function(){this.destroyField()},componentDidUpdate:function(){this.destroyField(),this.createField()},render:function(){var t=this.props,e=(t.children,t.onChange,t.name,t.title,t.checked,t.onText,t.offText,t.disable,o(t,["children","onChange","name","title","checked","onText","offText","disable"]));return N.createElement(e.as,M({},e,{ref:"el"}))}});n.d(e,!1,function(){return s.a}),n.d(e,"a",function(){return a.a}),n.d(e,!1,function(){return S}),n.d(e,"b",function(){return I}),n.d(e,!1,function(){return A.default}),n.d(e,!1,function(){return B})},function(t,e,n){var i;void 0!==(i=function(t,e,n){n.exports={DEFAULT:"DEFAULT",EMPTY:"EMPTY",LOADING:"LOADING",ERROR:"ERROR",SUCCESS:"SUCCESS",SAVING:"SAVING",PROCESSING:"PROCESSING",VALIDATE:"VALIDATE",VALIDATION:"VALIDATION",ACTIVE:"ACTIVE",PENDING:"PENDING",REAL:"REAL",DEMO:"DEMO",PAY_GATE:"PAY_GATE",SOLID_PAYMENTS:"SOLID_PAYMENTS",SAFE_CHARGE:"SAFE_CHARGE",PRAXIS:"PRAXIS",MANUAL_SELECT_AMOUNT:"MANUAL_SELECT_AMOUNT",CANCELLED:"CANCELLED"}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=n(1),c=n.n(l),u=n(11),d=n.n(u),h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},p=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),f=function(t){function e(){return o(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),p(e,[{key:"render",value:function(){var t,e=this.props,n=e.as,o=e.transKey,s=e.className,a=r(e,["as","transKey","className"]),l=d()((t={},i(t,s,!!s),i(t,"item-label",!0),i(t,"item-label-new",!0),t));return c.a.createElement(n||"span",h({className:l},a),o?__(o):"New!")}}]),e}(c.a.Component);e.a=f},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(13),o="registration.field.label.",s="registration.warning.this_field_is_required",a=r.extend({selectNotEmpty:function(t){return{rules:{not_equals:["EMPTY",__(t?"registration.warning.field_is_required":s,__(o+t))]},filters:[]}},countrySelectNotEmpty:function(t){return{rules:{not_equals:["EMPTY",__(t?"registration.warning.field_is_required":s,__(o+t))]},filters:["string"]}},multiSelectNotEmpty:function(t){return{rules:{not_equals_array:[["EMPTY"],__(t?"registration.warning.field_is_required":s,__(o+t))]},filters:[]}},multiCheckBoxNotEmpty:function(t){return{rules:{not_empty:__(s,__(t?o+t:s))},filters:[]}},radioNotEmpty:function(t){return{rules:{not_empty:__(s,__(t?o+t:s))},filters:[]}},inputNotEqual:function(t){return{rules:{not_equals:[t,"Field should not be empty"]},filters:[]}},notEmpty:function(t){return __("registration.warning.field_not_empty",__(t?o+t:s))},maxLength:function(t,e){return[t,__("registration.warning.field_max_size_limit",__(o+e),t)]},minLength:function(t,e){return[t,__("registration.warning.field_min_size_limit",__(o+e),t)]},numeric:function(t){return __("registration.warning.field_number_only",__(o+t))},zipCode:function(t){return{rules:{not_empty:__(s,__(t?o+t:s)),max_length:[50,__("registration.warning.field_max_size_limit",__(o+t),50)],regexp:[/^[a-zA-Z0-9-\s]+$/,__("registration.warning.zip_code")]},filters:[]}}});i.exports=new a}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){"use strict";function i(t,e){return t.webinars?t.webinars.eventsMap[e]:t.eventsMap[e]}function r(t,e){var n=i(t,e);return n&&n.title}function o(t,e){var n=i(t,e);return n&&n.isPremium}function s(t,e){var n=i(t,e);return n&&n._type}function a(t,e){var n=i(t,e);return n&&n.isRegistered}function l(t,e){var n=i(t,e);return n&&n._period}function c(t,e){var n=i(t,e);return n&&n._start}function u(t,e){var n=i(t,e);return n&&n._isLive}e.a=i,e.d=r,e.g=o,e.e=s,e.h=a,e.b=l,e.c=c,e.f=u},function(t,e,n){(function(i){var r,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};void 0!==(r=function(t,e,i){var r=n(0),s=n(13),a=n(6),l=n(23),c=n(420),u=(c.ACTIVE,c.SUCCESS),d=c.ERROR,h=c.LOADING;i.exports=s.extend({loadAllAccounts:function(){var t=this.status("statusOfAllAccounts");return t(h),a.getMetaTraderAccountsAll().then(function(e){t(u,{allAccounts:e.data})}).catch(function(e){t(d)})},loadMetaTraderAccounts:function(){var t=this,e=this.status("statusOfMetaTraderAccounts");return e(h),a.getMetaTraderAccounts(l.getLanguage()).then(function(n){e(u,{metaTraderAccounts:t.formatMetaTraderTOList(n.data.metaTraderTOList),metaTraderConfiguration:n.data.metaTraderConfigurationTOList,availableLeverages:n.data.availableLeverages,defaultLeverage:n.data.defaultLeverage})}).catch(function(t){e(d)})},loadMetaTraderAccountsWithBonuses:function(){var t=this.status("statusOfMetaTraderAccountsWithBonuses");return t(h),a.getMetaTraderAccountsWithBonuses(l.getLanguage()).then(function(e){t(u,{metaTraderAccounts:e.data})}).catch(function(e){t(d)})},loadMetaTraderBonus:function(t){var e=this.status("selectedAccountBonusesStatus");return e(h),a.queryBonusProgressForMtAccount(t).then(function(t){e(u,{selectedAccountBonuses:t.data})}).catch(function(t){e(d)})},status:function(t){var e=this;return function(n,i){var o={};o[t]=n,e.set(r.extend({},i,o))}},hasPlatformAccountId:function(t){return!r.isEmpty(t.platformAccountId)},isTradingAccountStatus:function(t,e){return t.tradingAccountStatus===e},isTradingAccountType:function(t,e){return t.tradingAccountType===e},formatMetaTraderTOList:function(t){return r.map(t,function(t){return o({},t,{accountStatementLink:window._app.getPhoneGapPlatformServerBaseUrl()+t.accountStatementLink})})}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){"use strict";function i(t){if((!o&&0!==o||t)&&s.default){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),o=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return o}var r=n(801);e.__esModule=!0,e.default=i;var o,s=r(n(821));t.exports=e.default},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){function o(t){new f(c.extend({parent:r("body"),isHeaderShowed:!0,template:P,actions:{"fn-deposit":function(){return u.trigger("flow:deposit")},"fn-close-positions":c.partial(u.navigate,"/open-positions")}},t))}function s(){var t=h.getUserAccountMetricsModel().getRiskLevel();return t||(t=U),t>=D?D:A<t&&t<=I?I:M+10<t&&t<=A?A:M<=t&&t<=N?N:t<M?M:void 0}function a(){var t=s();t===I&&o({caption:__("margin.level_1.popup.caption"),description:__("margin.level_1.popup.description")}),t<=A&&o({caption:__("margin.level_1.popup.caption"),description:__("margin.level_2.popup.description")})}var l=n(12),c=n(0),u=n(2),d=n(9),h=n(7),p=n(30),f=n(55),m=n(38),g=n(735),v=n(15),b=n(134),y=n(51),_=n(56),w=n(58),S=n(263).MessageType,E=n(10),x=E.NA,C=n(736),T=C.TOPIC_NAMES,k=n(150),O=k.MARGIN_VALUES,P=c.template(n(382)),I=O.MARGIN_LEVEL_1,A=O.MARGIN_LEVEL_2,M=O.LIQUIDATION_LEVEL,N=O.LIQUIDATION_LEVEL_BUFFER,D=O.MARGIN_LEVEL_OK,L=O.CHECK_PENDING_DEPOSIT_INTERVAL,R=O.CHECK_PENDING_DEPOSIT_FORCE_INTERVAL,F=O.CHECK_PENDING_DEPOSIT_FORCE_MAX_COUNT,B=O.MAX_NUMBER_SIZE,U=O.RISK_LEVEL_MAX;i.exports.view=l.extend({template:c.template(n(1656)),floatingTemplate:c.template(n(438)),_oldLevelRange:D,_liqudationRibbonNotificationId:null,_marginWarnRibbonNotificationId:null,_marginWarnRibbonPendingMessages:[],_marginWarnRibbonChangingMessage:!1,_fontSize:null,_pendingDepositCheckForced:!1,_pendingDepositCheckTimer:null,initialize:function(){l.prototype.initialize.apply(this,arguments),this.subscribeAndRender(),this.checkMarginLevel(!0),this._fontSize=parseFloat(this.$el.find(".my-account-header span").css("font-size")),this.fitHeaderToStringLength()},fitHeaderToStringLength:function(){if(!this.$el.find(".pending-deposit-message").visible){var t=parseFloat(this.$el.find(".my-account-header a").css("height"))>=parseFloat(this.$el.find(".my-account-header").css("height")),e=parseFloat(this.$el.find(".account-demo").css("height"))>parseFloat(this.$el.find(".my-account-header").css("height")),n=parseFloat(this.$el.find(".account-real").css("height"))>parseFloat(this.$el.find(".my-account-header").css("height"));(t||e||n)&&(this._fontSize--,this.$el.find(".my-account-header a").css("font-size",this._fontSize+"px"),this.$el.find(".account-switch").css("font-size",this._fontSize+"px"),this.fitHeaderToStringLength())}},events:function(){return c.extend({},c.result(l.prototype,"events"),{"change #account-switch-checkbox":"switch_account_action","click #myfunds":"openFundsPopup","click .fn-deposit:not(:disabled)":"onDeposit","click span[data-id=riskLevel]":"notifyMarginLevel","click .pending-deposit-message":"onMoreClick"})},subscribeAndRender:function(){var t=this;this.listenTo(u,"user:account-metrics",this.update_metrics),this.listenTo(u,"stream:type:MESSAGE",function(e){c.each(e,function(e){e.type===S.ORDER_LIQUIDATION&&t.onLiquidationMessage(__("margin.liquidation.popup.description"))})}),this.listenTo(u,"user:switch_account",this.make_switch),u.onEvent("stream:opened",function(){t.checkPendingDeposit(),t.startRegularCheck()}),this.listenTo(u,"user:balance:updated",function(){t.checkPendingDeposit(),t.startRegularCheck()}),this.listenTo(u,"pending:deposit:updated",this.startRegularCheck),this.listenTo(u,"check:pending:deposit:force",this.startForcedCheck),this.listenTo(h.getUserData(),"change:scoreLevel",this.render),this.render()},startForcedCheck:function(t){if(!this._pendingDepositCheckForced){this._pendingDepositCheckForced=!0,clearInterval(this._pendingDepositCheckTimer);var e=0,n=this;this._pendingDepositCheckTimer=setInterval(function(){if(e>=F)return void n.startRegularCheck();n.checkPendingDeposit(),e++},t||R),this.checkPendingDeposit()}},startRegularCheck:function(){(this._pendingDepositCheckForced||c.isNil(this._pendingDepositCheckTimer))&&(clearInterval(this._pendingDepositCheckTimer),this._pendingDepositCheckTimer=setInterval(this.checkPendingDeposit.bind(this),L),this._pendingDepositCheckForced=!1)},switch_account_action:function(t){r(".account-switch").removeClass("bold");var e="live";t.currentTarget.checked?r(".account-real").addClass("bold"):(r(".account-demo").addClass("bold"),e="demo"),this.make_switch(e)},make_switch:function(t){this.switchAccount(t),new p({parent:document.body,position:"fixed",translucent:"2"})},switchAccount:function(t){u.trigger("platform:switch:sync",t)},notifyMarginLevel:function(){a()},showMarginRibbon:function(t){g.hide(this._marginWarnRibbonNotificationId),this._marginWarnRibbonNotificationId=g.show(c.extend({type:"notify",message:__("margin.low_level.ribbon.message"),level:1800,onMoreClick:a,hideDismiss:!0},t))},checkMarginLevel:function(t){if(!this._liqudationRibbonNotificationId){var e=s();if(e!==this._oldLevelRange){u.trigger("user:margin:level",e);var n=this._oldLevelRange;if(this._oldLevelRange=e,c.map(b.getAllInstruments(),function(t){t.set({isMarginLevelLow:e<=A})}),e===M){if(t){var i=h.getUserAccountMetricsModel().getRiskLevel(),r=this.$el.find("span[data-id=riskLevel]");return r.attr("class","").addClass("help-risk flick"),r.html(i?i+"%":x),void this.onLiquidationMessage(0===w.length?__("margin.liquidation.login.popup.description",__("margin.liquidation.all.positions")):__("margin.liquidation.login.popup.description",__("margin.liquidation.part.positions")))}return void this.onLiquidationMessage(__("margin.liquidation.popup.description"))}if(e===N&&v.mobile())return void this.showMarginRibbon({type:"error",topic:T.LIQUIDATION_LEVEL_BUFFER,level:1900});if(e===I&&v.mobile()){if(n===A)return;return void this.showMarginRibbon({topic:T.MARGIN_LEVEL_1})}if(e===A&&v.mobile()){if(n===I)return;return void this.showMarginRibbon({topic:T.MARGIN_LEVEL_2})}this._marginWarnRibbonNotificationId&&(g.hide(this._marginWarnRibbonNotificationId),this._marginWarnRibbonNotificationId=null)}}},update_metrics:function(){var t=h.getUserAccountMetricsModel().toJSON(),e=h.getUserCurrencySymbol();c.each(t,function(t,n){var i=void 0,o=t.length>=B,a=r("span[data-id="+n+"]"),l=void 0;l="riskLevel"===n?h.getUserAccountMetricsModel().getRiskLevel():c.isNumber(t)?m(t).formatForeignCurrency(e):"",c.each(a,function(e){if(e=r(e),o?e.addClass("smallText"):e.removeClass("smallText"),"riskLevel"!==n)i=e.html(),i!==l&&e.html(l),"profitLoss"===n&&(t>=0?r(".pl_value").removeClass("pl_neg").addClass("pl_pos"):r(".pl_value").removeClass("pl_pos").addClass("pl_neg"));else if("riskLevel"===n){i=e.html().replace("%",""),i===x&&(i=null),i!==l&&e.html(l?l+"%":x),e.attr("class",""),e.addClass("help-risk");var a=s();a===D&&e.addClass("none"),a===A&&e.addClass("warning"),a!==M&&a!==N||e.addClass("flick"),this.checkMarginLevel()}},this)},this);var n=r("span[data-id=maintenance-margin]"),i=m(h.getUserAccountMetricsModel().getMaintenanceMargin()).formatForeignCurrency(e);n.length&&n.html()!==i&&n.html(i)},render:function(){var t=h.getUserAccountMetricsModel(),e=h.getUserCurrencySymbol(),n=m(t.getBalance()).formatForeignCurrency(e),i=m(t.getBuyingPower()).formatForeignCurrency(e),r=m(t.getEquity()).formatForeignCurrency(e),o=m(t.getMarginUsed()).formatForeignCurrency(e),s=m(t.getProfitLoss()).formatForeignCurrency(e),a=t.getProfitLoss()>=0,l=t.getRiskLevel(),c=d.isLive()||!_.LOW_SCORE()||!_.FULL_REGISTRATION_COMPLETED(),u={currency:e,balance:n,buyingPower:i,equity:r,marginUsed:o,profitLoss:s,profitLossPositive:a,riskLevel:l,risk_level_class:"help-risk none",platformType:d.getPlatformType(),isPlatformSwitchAllowed:c};return this.$el.html(this.template(u)),this},onDeposit:function(){u.trigger("flow:deposit:RealDepositMyAccount")},openFundsPopup:function(){u.trigger("ui:funds-management")},onLiquidationMessage:function(t){var e=this;this._liqudationRibbonNotificationId||(this._liqudationRibbonNotificationId=g.show({message:__("margin.liquidation.popup.caption"),type:"error",topic:T.LIQUIDATION_LEVEL,level:2e3,onMoreClick:function(){return new y({parent:document.body,confirmCaption:__("margin.liquidation.popup.caption"),confirmMessage:__(t),confirmOKBtnText:__("ok"),hideCancelButton:!0,isHeaderShowed:!1,maxBoxWidth:"30em",onOK:function(){g.hide(e._liqudationRibbonNotificationId),e._liqudationRibbonNotificationId=null}})},hideDismiss:!0}))},checkPendingDeposit:function(){h.getUserData().isFirstDeposit()&&h.updateUserPendingDeposit().then(function(){var t=h.getUserPendingDeposit();if(c.isNumber(t)){if(t>0&&d.isLive()){var e=h.getUserData();!1===e.isFirstDeposit()&&(e.set("firstDeposit",!0),u.trigger("sm","deposit_successful"),u.trigger("funds:deposit:success")),this.$el.find(".my-account-header span").addClass("hidden"),this.$el.find(".pending-deposit-message").removeClass("hidden"),this.$el.find(".pending-deposit-message").attr("data-pending-deposit",t);var n=m(t).formatForeignCurrency(h.getUserCurrencySymbol());return this.$el.find(".pending-deposit-message .amount").html(n),void(v.mobile()&&!this._pandingRibbonNotificationId&&(this._pandingRibbonNotificationId=g.show({message:__("accountInfo.pendingDeposit")+": "+n,type:"pending-deposit",topic:T.PENDING_DEPOSIT,level:900,persist:!0,onClick:this.onMoreClick.bind(this),showMore:!1,hideDismiss:!0,showWarning:!1})))}this._pandingRibbonNotificationId&&(this._pandingRibbonNotificationId=null,g.hide(this._pandingRibbonNotificationId)),this.$el.find(".pending-deposit-message").addClass("hidden"),this.$el.find(".my-account-header span").removeClass("hidden")}}.bind(this))},onMoreClick:function(){var t=this.$el.find(".pending-deposit-message").attr("data-pending-deposit");new y({parent:document.body,confirmCaption:__("accountInfo.pendingDeposit"),confirmMessage:__("accountInfo.pendingDeposit.message",h.getUserCurrencySymbol()+t),confirmOKBtnText:__("actions.verify"),confirmCancelBtnText:__("actions.close"),onOK:function(){u.trigger("flow:verify")},onCancel:function(){}})},createLoader:function(){this.loader&&this.destroyLoader(),this.loader=new p({parent:this.$el})},destroyLoader:function(){this.loader&&(this.loader.destroy(),this.loader=null)}}),i.exports.getMarginLevelRange=s,i.exports.isMarginLevelLow=function(){return s()<=A},i.exports.notifyMarginLevel=a,i.exports.MARGIN_LEVEL_OK=D,i.exports.MARGIN_LEVEL_1=I,i.exports.MARGIN_LEVEL_2=A,i.exports.LIQUIDATION_LEVEL_BUFFER=N,i.exports.LIQUIDATION_LEVEL=M,i.exports.MAX_NUMBER_SIZE=B}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(1),s=n(290),a=o.createClass({displayName:"GridRow",getDefaultProps:function(){return{model:null,columns:[],screenSize:null,onRowClick:function(){},selectedRowClass:"selected",isSelected:!1}},getRenderCells:function(){var t=this.props.model;return this.props.columns.map(function(e,n){var r=e.type||s,a=i.extend({},e.cellProps,{key:n,column:e,model:t});return o.createElement(r,a)})},onRowClick:function(t){this.props.onRowClick(t,this.props.model)},render:function(){var t=["row",this.props.isSelected?this.props.selectedRowClass:""].join(" ");return o.createElement("tr",{className:t,onClick:this.onRowClick},this.getRenderCells())}});r.exports=a}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports={EMPTY:"EMPTY",SUCCESS:"SUCCESS",ERROR:"ERROR",PENDING:" PENDING"}},function(t,e,n){"use strict";function i(){return function(){u&&(clearInterval(u),u=null)}}function r(t){u||(u=setInterval(function(){return t(Object(l.loadCommentaries)())},c))}function o(t){return r(t),t(Object(l.loadCommentaries)())}e.a=i,e.b=o;var s=n(40),a=n.n(s),l=n(186),c=a.a.commentaries.updateInterval,u=null},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r}),n.d(e,"c",function(){return o});var i="isAdvancedDashboardServicesExpanded",r="isAdvancedDashboardInstrumentListExpanded",o="userSelectedService"},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(1),o=n(200),s=n(0),a=n(2);i.exports=r.createClass({displayName:"exports",getDefaultProps:function(){return{id:null,type:"default",icon:"",className:"",size:"sm",tag:"button",isDisabled:!1,tooltipAlign:"",tooltipText:"",source:"",onClick:function(){}}},onClick:function(t){s.isFunction(this.props.onClick)&&this.props.onClick(t);var e={direction:"buy",symbolOrId:this.props.id,quantity:null,type:!1,tp:!1,sl:!1,source:this.props.source};a.trigger("ui:new-position",e)},render:function(){return r.createElement(o,{type:this.props.type,icon:this.props.icon,className:this.props.className+" btn-buy",size:this.props.size,onClick:this.onClick,tag:this.props.tag,isDisabled:!this.props.model.status.isBuyTradable(),tooltipText:this.props.model.status.getBuyTradableMessage(),tooltipAlign:this.props.tooltipAlign},this.props.children)}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(1),o=n(200),s=n(0),a=n(2);i.exports=r.createClass({displayName:"exports",getDefaultProps:function(){return{id:null,type:"default",icon:"",className:"",size:"sm",tag:"button",isDisabled:!1,tooltipAlign:"",tooltipText:"",children:"actions.sell",onClick:function(){}}},onClick:function(t){s.isFunction(this.props.onClick)&&this.props.onClick(t);var e={direction:"sell",symbolOrId:this.props.id,quantity:null,type:!1,tp:!1,sl:!1,source:this.props.source};a.trigger("ui:new-position",e)},render:function(){return r.createElement(o,{type:this.props.type,icon:this.props.icon,className:this.props.className+" btn-sell",size:this.props.size,onClick:this.onClick,tag:this.props.tag,isDisabled:!this.props.model.status.isSellTradable(),tooltipText:this.props.model.status.getSellTradableMessage(),tooltipAlign:this.props.tooltipAlign},this.props.children)}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(1756),o=i(r),s=n(1766),a=i(s),l="function"==typeof a.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?"symbol":typeof t};e.default="function"==typeof a.default&&"symbol"===l(o.default)?function(t){return void 0===t?"undefined":l(t)}:function(t){return t&&"function"==typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?"symbol":void 0===t?"undefined":l(t)}},function(t,e,n){var i=n(390),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){var i=n(398),r=n(67)("iterator"),o=n(181);t.exports=n(48).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e,n){var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};void 0!==(i=function(t,e,i){function o(t,e,n,i,o,s,a,l){if(s=s||__("ok"),null!==t&&"object"===(void 0===t?"undefined":r(t))){new m(t)}else{new m({caption:t,text:e,onOK:n,onClose:i,isHeaderShowed:o,okBtnText:s,isShowCloseForMobile:a,ignorableByLoginMessage:l})}}function s(t){new g({parent:document.body,confirmCaption:t.caption,confirmMessage:t.text,confirmOKBtnText:t.textOK,confirmCancelBtnText:t.textCancel,ignorableByLoginMessage:t.ignorableByLoginMessage,hideCancelButton:t.hideCancelButton||!1,onOK:t.success,onCancel:t.cancel,additionalEvents:t.additionalEvents})}function a(t){return y.updateAccount({data:t})}function l(t,e,n){s({caption:__("relogin.registration.title"),text:__("flow.popup.complete_reg_to."+t),textOK:__("actions.proceed"),textCancel:__("actions.close"),success:e,cancel:n||S})}function c(t,e){s({caption:__("message.title.switch_registration"),text:__("flow.popup.complete_reg_and_switch_to."+t),textOK:__("actions.proceed"),textCancel:__("actions.close"),success:e||function(){return b.trigger("platform:switch","live")},cancel:S})}function u(t,e){s({caption:"",text:__("flow.switch_to."+t),textOK:__("actions.proceed"),textCancel:__("actions.close"),success:function(){return b.trigger("platform:switch","live",e)},cancel:S})}function d(t,e,n,i){s({caption:t,text:e,textOK:__("actions.proceed"),textCancel:__("actions.close"),success:n,cancel:i})}function h(t,e,n,i){s({caption:t,text:e,textOK:__("actions.proceed"),textCancel:__("actions.close"),success:function(){a({fullRegistrationBonusTermsAndConditions:"true"}).then(n)},cancel:i,additionalEvents:{"click .fn-proceed-no-bonus":function(t){t.preventDefault(),this.close(),b.trigger("sm","registration_no_bonus"),a({fullRegistrationBonusTermsAndConditions:"false"})}}})}function p(){return'<br /><br /><a href="#" class="fn-proceed-no-bonus">'+__("registration.popup.proceed_without.bonus")+"</a>"}function f(){return"<br/><i>"+__("terms.and.conditions.text")+"</i>"}var m=n(55),g=n(51),v=n(7),b=n(2),y=n(6),_=n(9),w=n(0),S=w.noop,E=n(673),x=n(10),C=x.LOW_SCORE;i.exports={explore:function(t,e,n){var i=v.getUserCurrencySymbol(),r=_.getPracticeAmount(v.getUserCurrency());s({caption:__("demo.only.title"),text:__("demo.only.body",i+r),textOK:__("switch_to_practice"),textCancel:__("actions.close"),ignorableByLoginMessage:!!n,success:function(){b.trigger("platform:switch","demo"),t()},cancel:e})},explore_on_login:function(t,e){this.explore(t,e,!0)},regAndGetBonus:function(t,e,n){var i=v.getUserCurrencySymbol(),r=v.getUserCurrency(),o=_.getPracticeAmount(r);v.getUserAwardsModel().ready(function(l){s({caption:__("relogin.registration.title"),text:__("flow.popup.complete-reg-and-get-bonus.body",i+l.getFullRegistrationBonus(r),i+o)+p(),textOK:__("actions.proceed"),textCancel:__("actions.close"),ignorableByLoginMessage:!!n,success:function(){a({fullRegistrationBonusTermsAndConditions:"true"}).then(t)},cancel:e,additionalEvents:{"click .fn-proceed-no-bonus":function(t){t.preventDefault(),this.close(),b.trigger("sm","registration_no_bonus"),a({fullRegistrationBonusTermsAndConditions:"false"})}}})})},firstLoginRegAndGetBonusOnLogin:function(t,e){var n=v.getUserCurrencySymbol(),i=v.getUserCurrency(),r=_.getPracticeAmount(i);v.getUserAwardsModel().ready(function(o){s({caption:__("first.login.registraion.title"),text:__("flow.popup.complete-reg-and-get-bonus.body",n+o.getFullRegistrationBonus(i),n+r)+p(),textOK:__("actions.proceed"),textCancel:__("actions.close"),ignorableByLoginMessage:!0,success:function(){a({fullRegistrationBonusTermsAndConditions:"true"}).then(t)},cancel:e,additionalEvents:{"click .fn-proceed-no-bonus":function(t){t.preventDefault(),this.close(),b.trigger("sm","registration_no_bonus"),a({fullRegistrationBonusTermsAndConditions:"false"})}}})})},firstLoginRegOnLogin:function(t,e){var n=v.getUserCurrencySymbol(),i=v.getUserCurrency(),r=_.getPracticeAmount(i);s({caption:__("first.login.registraion.title"),text:__("first.login.registration.body",n+r),textOK:__("actions.proceed"),textCancel:__("actions.close"),ignorableByLoginMessage:!0,success:t,cancel:e})},firstLoginRegOnLoginPlatformPopup:function(t,e){b.trigger("ui:platformtype",{success:t,cancel:e})},welcomeBackAndGetBonus:function(t,e){v.getUserAwardsModel().ready(function(n){s({caption:__("relogin.registration.title"),text:__("flow.popup.welcome_back.eligible",v.getUserCurrencySymbol()+n.getFullRegistrationBonus(v.getUserCurrency()))+p(),textOK:__("actions.proceed"),textCancel:__("actions.close"),ignorableByLoginMessage:!0,success:function(){a({fullRegistrationBonusTermsAndConditions:"true"}).then(t)},cancel:e,additionalEvents:{"click .fn-proceed-no-bonus":function(t){t.preventDefault(),this.close(),b.trigger("sm","registration_no_bonus"),a({fullRegistrationBonusTermsAndConditions:"false"})}}})})},switchToRealAndReg:function(t,e){s({caption:__("message.title.switch_registration"),text:__("flow.popup.switch-to-real-and-complete-reg"),textOK:__("actions.register"),textCancel:__("actions.close"),success:t,cancel:e})},needToRegBeforeGetBonusAndTrade:function(t,e){v.getUserAwardsModel().ready(function(n){h(__("relogin.registration.title"),__("state.machine.confirmation.register.suggest.eligible.trade",v.getUserCurrencySymbol()+n.getFullRegistrationBonus(v.getUserCurrency()))+f()+p(),t,e)})},needToRegAndGetBonusBeforeDeposit:function(t,e){v.getUserAwardsModel().ready(function(n){s({caption:__("relogin.registration.title"),text:__("flow.popup.reg_before_deposit.eligible",v.getUserCurrencySymbol()+n.getFullRegistrationBonus(v.getUserCurrency()))+p(),textOK:__("actions.proceed"),textCancel:__("actions.close"),success:function(){a({fullRegistrationBonusTermsAndConditions:"true"}).then(t)},cancel:e,additionalEvents:{"click .fn-proceed-no-bonus":function(t){t.preventDefault(),this.close(),b.trigger("sm","registration_no_bonus"),a({fullRegistrationBonusTermsAndConditions:"false"})}}})})},reg:function(t,e){var n=_.getPracticeAmount(v.getUserCurrency());s({caption:__("first.login.registraion.title"),text:__("state.machine.confirmation.register.suggest.promo",v.getUserCurrencySymbol()+n),textOK:__("actions.proceed"),textCancel:__("actions.close"),success:t,cancel:e})},welcomeBackAndNeedToReg:function(t,e){s({caption:__("relogin.registration.title"),text:__("relogin.registration.body"),textOK:__("actions.proceed"),textCancel:__("actions.close"),ignorableByLoginMessage:!0,success:t,cancel:e})},needToRegBeforeTrading:function(t,e){s({caption:__("relogin.registration.title"),text:__("state.machine.confirmation.register.suggest.trade"),textOK:__("actions.proceed"),textCancel:__("actions.close"),success:t,cancel:e})},needToRegAndGetBonusBeforeTrading:function(t,e){var n=v.getUserCurrencySymbol();v.getUserAwardsModel().ready(function(i){s({caption:__("relogin.registration.title"),text:__("flow.popup.reg_before_trading.eligible",n+i.getFullRegistrationBonus(v.getUserCurrency()))+p(),textOK:__("actions.proceed"),textCancel:__("actions.close"),success:function(){a({fullRegistrationBonusTermsAndConditions:"true"}).then(t)},cancel:e,additionalEvents:{"click .fn-proceed-no-bonus":function(t){t.preventDefault(),this.close(),b.trigger("sm","registration_no_bonus"),a({fullRegistrationBonusTermsAndConditions:"false"})}}})})},needToRegBeforeDeposit:function(t,e){s({caption:__("relogin.registration.title"),text:__("state.machine.confirmation.register.suggest.deposit"),textOK:__("actions.proceed"),textCancel:__("actions.close"),success:t,cancel:e})},haveNotDepositYet:function(t,e){b.trigger("native-popups:block","have-not-deposit-yet");var n=function(){b.trigger("native-popups:release","have-not-deposit-yet"),t()},i=function(){b.trigger("native-popups:release","have-not-deposit-yet"),e()};!function(){o(__("status.deposit_funds"),__("first_deposit.popup.login.message"),n,i,!0,__("actions.deposit"),!0,!0)}()},lowBalanceAndFirstDeposit:function(t,e){s({caption:__("status.deposit_funds"),text:__("first_deposit.popup.trade.non_eligible_for_bonus.message"),textOK:__("actions.deposit"),textCancel:__("actions.close"),success:t,cancel:e})},lowBalanceAndDeposit:function(t,e){s({caption:__("status.deposit_funds"),text:__("state.machine.confirmation.deposit.suggest")+"<br />"+__("state.machine.confirmation.deposit.confirm"),textOK:__("actions.deposit"),textCancel:__("actions.close"),success:t,cancel:e})},mustSwitchToRealAndDeposit:function(t,e){s({caption:__("status.deposit_funds"),text:__("depositDialog.text"),textOK:__("actions.deposit"),textCancel:__("actions.close"),success:t,cancel:e})},welcomeBackAndVerifyAccount:function(t,e){s({caption:__("verify_account.popup.header"),text:__("verify_account.popup.login.non_eligible.message"),textOK:__("actions.verify"),textCancel:__("actions.close"),ignorableByLoginMessage:!0,success:t,cancel:e})},verifyAccountBeforePlacingTrade:function(t,e){s({caption:__("verify_account.popup.header"),text:__("verify_account.popup.trade.non_eligible.message"),textOK:__("actions.verify"),textCancel:__("actions.close"),success:t,cancel:e})},verifyExpiredDocumentsBeforePlacingTrade:function(t,e){s({caption:__("verify_account.popup.header_expired"),text:__("verify_account.popup.expired.message"),textOK:__("actions.verify"),textCancel:__("actions.close"),success:t,cancel:e})},verifyExpiredDocumentsDemo:function(t,e){s({caption:__("verify_account.popup.header_expired"),text:__("verify_account.popup.expired.message"),textOK:__("actions.verify"),textCancel:__("actions.close"),success:function(){return b.trigger("platform:switch","live","?path=verification-center")},cancel:e})},verifyGoingToExpireDocumentsBeforePlacingTrade:function(t,e){s({caption:__("verify_account.popup.login.going_to_expire.header"),text:__("verify_account.popup.going_to_expire.message"),textOK:__("verify_account.popup.button_upload"),textCancel:__("actions.close"),success:t,cancel:e})},verifyGoingToExpireDocumentsDemo:function(t,e){s({caption:__("demo.banner.click.going_to_expire_document.header"),text:__("demo.banner.click.going_to_expire_document.message"),textOK:__("verify_account.popup.button_upload"),textCancel:__("actions.close"),success:function(){return b.trigger("platform:switch","live","?path=verification-center")},cancel:e})},suspendedComplianceInactivity:function(t){s({caption:__("verify_account.popup.login.compliance_suspended.header"),text:__("verify_account.popup.login.compliance_suspended.message"),textOK:__("ok"),hideCancelButton:!0,success:t})},suspendedComplianceOther:function(t){s({caption:__("verify_account.popup.login.compliance_suspended_other.header"),text:__("verify_account.popup.login.compliance_suspended_other.message"),textOK:__("ok"),hideCancelButton:!0,success:t})},switchToRealModeAndVerifyAccount:function(t,e){s({caption:__("verify_account.popup.header"),text:__("flow.popup.verify-account.switch-to-real-mode"),textOK:__("actions.verify"),textCancel:__("actions.close"),success:t,cancel:e})},verificationAccountSoon:function(t,e){o(__("verify_account.popup.header"),__("flow.popup.verification-account.soon"),t,e,!1)},switchToRealModeAndVerifyCreditCard:function(t,e){o(__("verification_center.popup.cc.label"),__("flow.popup.verify-credit-card.switch-to-real-mode"),t,e)},verifyCreditCardBeforePlacingTrade:function(t,e){s({caption:__("verification_center.popup.cc.label"),text:__("deposit.verify_cc.one.message"),textOK:__("actions.verify"),textCancel:__("actions.close"),success:t,cancel:e})},accountVerificationSoon:function(t,e){o("",__("flow.popup.verification-account.soon"),t,e)},confirmDeposit:function(t,e){o(__("flow.popup.confirm-deposit.title"),__("flow.popup.confirm-deposit.body"),t,e,!1)},moreFundsAreRequired:function(t,e){s({caption:__("status.deposit_funds"),text:__("flow.popup.more-funds-are-required"),textOK:__("actions.deposit"),textCancel:__("actions.close"),success:t,cancel:e})},proofOfPayment:function(t,e){var n=v.getUserCurrencySymbol();v.updateUserPendingDeposit().then(function(i){o(__("proof_of_payment.dialog.header",[i,n]),__("proof_of_payment.dialog.message"),t,e)})},regAndGetBonusBeforeChangeLeverage:function(t,e){v.getUserAwardsModel().ready(function(n){h(__("relogin.registration.title"),__("flow.leverage.settings.registration.bonus",v.getUserCurrencySymbol()+n.getFullRegistrationBonus(v.getUserCurrency()))+f()+p(),t,e)})},regBeforeChangeLeverage:function(t,e){d(__("relogin.registration.title"),__("flow.leverage.settings.registration"),t,e)},needToRegBeforeWithdrawal:function(t,e){l("open_withdrawal",t,e)},needToRegAndGetBonusBeforeWithdrawal:function(t,e){h(__("relogin.registration.title"),"In order to open withdrawal you need to complete the registration process."+f()+p(),t,e)},switchToRealAndRegToChangeLeverage:function(t,e){c("change_leverage")},switchToRealToChangeLeverage:function(){u("change_leverage","?path=account-settings&section=leverage")},switchToRealToChangePassword:function(){u("change_password","?path=account-settings&section=change-password")},switchToRealAndRegToChangeNotifications:function(t,e){c("change_notifications")},switchToRealToChangeNotifications:function(){u("change_notifications","?path=account-settings&section=notifications")},lowScoreLoginLive:function(t){o({text:__("low_score.login.live.message"),onOK:t,isHeaderShowed:!1,okBtnText:__("low_score.login.live.button")})},lowScoreCantChangeLeverage:function(){o("",__("low_score.change_leverage"),S,S,!1,__("ok"))},needToRegAndGetBonusBeforeVerify:function(t,e){v.getUserAwardsModel().ready(function(n){h(__("relogin.registration.title"),__("flow.verify.complete.reg")+f()+p(),t,e)})},needToRegBeforeVerify:function(t,e){s({caption:__("relogin.registration.title"),text:__("flow.verify.complete.reg"),textOK:__("actions.proceed"),textCancel:__("actions.close"),success:t,cancel:e})},switchToRealAndRegToVerificationCenter:function(t){c("open_verification_center",t)},switchToRealToVerificationCenter:function(){u("open_verification_center","?path=verification-center")},needDepositToWithdraw:function(t,e){s({caption:__("withdraw.title"),text:__("auto.withdrawal.deposit.text"),textOK:__("actions.deposit"),textCancel:__("actions.close"),success:t,cancel:e})},verifyBeforeWithdraw:function(t,e){s({caption:__("withdraw.title"),text:__("auto.withdrawal.verify.text"),textOK:__("actions.verify"),textCancel:__("actions.close"),success:t,cancel:e})},lowScoreRiskWarning:function(t,e){b.trigger("ui:risk-warning",{score:C,onOK:t,onCancel:e,onBack:e})},pseudoCompleteRegistrationPopup:function(t){return b.trigger("registration:complete",t)},lowScoreRiskWarningWithCheckKnowledge:function(t,e,n){return b.trigger("ui:risk-warning",{score:"LOW",checkKnowledge:!0,onOK:t,onCancel:e,onBack:n})},mediumScoreRiskWarning:function(t,e){return b.trigger("ui:risk-warning",{score:"MEDIUM",onOK:t,onCancel:e,onBack:e})},spanishMediumScoreRiskWarning:function(t,e){return b.trigger("ui:risk-warning",{score:"MEDIUM",regulation:"spanish",onOK:t,onCancel:e,onBack:e})},spanishHighScoreRiskWarning:function(t,e){return b.trigger("ui:risk-warning",{score:"HIGH",regulation:"spanish",onOK:t,onCancel:e})},leverageSelection:function(t,e){return b.trigger("ui:leverage-selection",{onOK:t,onButtonCloseClicked:e})},registration:function(t,e){return b.trigger("ui:registration",{isBonus:!0,onFinish:t,onAbort:e})},registrationNoBonus:function(t,e){return b.trigger("ui:registration",{onFinish:t,onAbort:e})},afterSelectLeveragePopup:function(t){return b.trigger("ui:after-select-leverage-popup",{onOK:t})},mediumRegistrationCompleted:function(t){return b.trigger("ui:medium-registration-completed",{onOK:t})},userCompanyChanged:function(t){o("",__default(t.partnerCompanyNameKey+".change_company.popup.text","change_company_popup.text",t.companyName),S,S,!1,__("actions.proceed"))},quizPassed:function(t){s({caption:__("quiz.passed.header"),text:t,textOK:__("quiz.go_to_live.button"),textCancel:__("quiz.stay_on_demo.button"),success:function(){return b.trigger("platform:switch","live","?path=deposit")},cancel:S})},quizFallenRetake:function(t){s({caption:"",text:t,textOK:__("quiz.retake.button"),textCancel:__("quiz.stay_on_demo.button"),success:function(){return b.trigger("ui:retake-quiz")},cancel:S})},quizFallen:function(t){o("",t,S,S,!1,__("quiz.stay_on_demo.button"))},welcomeBackAndRetakeQuiz:function(t){s({caption:__("relogin.quiz.eligible.header"),text:__("relogin.quiz.eligible.body"),textOK:__("quiz.retake.button"),textCancel:__("actions.close"),ignorableByLoginMessage:!0,success:t,cancel:S})},welcomeBackQuizPostponed:function(){o(__("relogin.quiz.postponed.header"),__("relogin.quiz.postponed.body",v.getUserQuizStatus().whenCustomerCouldRetakeQuiz()),S,S,!1,__("ok"),!1,!0)},promotionMarketsX:function(t,e){v.getUserData().isPromotionMarketsX()?v.getUserLevelsModel().acceptTcForMarketsX().then(function(){return Promise.all([v.getUserLevelsModel().loadLevels(),v.getUserData().load(),v.getUserAwardsModel().load()]).then(function(){return t()})}):v.getUserLevelsModel().showPromotionPopup(t,e)},openUpgradeMarketsX:function(t,e){v.getUserLevelsModel().showUpgradePopup(t,e)},changeViewToAdvanced:function(t,e){new E({onSuccess:function(){t(),window.location.reload()},onCancel:e})},confirmCustomerSelectedCompanyRegulation:function(t,e,n){s({text:n,textOK:__("actions.proceed"),textCancel:__("actions.cancel"),ignorableByLoginMessage:!0,success:t,cancel:e})}}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i,r){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s,a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0!==(s=function(t,e,i){function s(t){if(t.doFirstDeposit){u.trigger("gtm:deposit",t.totalAmount);var e=d.getCustomerId();e&&(y.trackDcmEvent("first",e),u.trigger("eventos","test:dcm:first"),y.trackFBEvent("Purchase"))}}var l=n(0),c=n(24),u=n(2),d=n(7),h=n(23),p=n(6),f=l.template(n(1511)),m=n(55),g=n(9),v=n(710),b=n(711),y=n(75),_=n(10),w=_.ERROR,S=_.SUCCESS,E=n(97),x=E.PAY_GATE,C=E.SOLID_PAYMENTS,T=E.ZOTA,k=E.PRAXIS,O=function(){function t(){o(this,t)}return a(t,null,[{key:"eventos",value:function(t,e){function n(){return{atmAmount:s,totalAmount:i,currency:o,transactionId:r}}var i=e.totalAmount,r=e.TransactionID,o=e.currency,s=e.atmAmount,a=e.doFirstDeposit,l=d.getUserData().isCompliance(),c=void 0;e&&(c="cc_card"===e.payment_method);var h=function(e){return u.trigger("eventos","onBoardFlow:"+e+":"+t,n())};a&&c&&!l&&h("depositSuccess1stCcNonComp"),!a||c||l||h("depositSuccess1stPmNonComp"),a||!c||l||h("depositSuccess2ndCcNonComp"),!a&&l&&h("depositSuccess2ndComp")}}]),t}();i.exports.Deposit_eventos=O;var P=c.extend({name:"deposit-popup",cashierLocales:{en:"en_US",de:"de_DE",cn:"zh_CN",fr:"fr_FR",nl:"nl_NL",it:"it_IT",ja:"js_JP",es:"es_ES",ru:"ru_RU",ar:"ar_AA",pt:"bt_BR",sv:"sv_SV",da:"da_DK",ro:"ro_RO",bg:"bg_BG",pl:"pl_PL",hu:"hu_HU",id:"in_ID"},getOptions:function(t){return l.extend({},l.result(c.prototype,"getOptions"),{isHeaderShowed:!0,closeIconStyle:"blue",headerBgStyle:"grey",headerStyle:"wizard",type:"default",caption:__("status.deposit_funds"),headerContent:'<span class="deposit-secured"><i class="icon-secure-grey"></i><span>'+__("deposit.secured_by_ssl")+"</span></span>"},t)},getBaseUrl:function(){return"https://"+window._app.getPlatformHost()+"/trading-platform/"},formatDepositUrl:function(t,e){var n=this.getBaseUrl();return t+="&success_url="+encodeURIComponent(n+"deposit.html"),this.model.isBonusApplied()&&(t+="&customField4=33"),t+="&customField6=CosmosWeb"},subscribe:function(){this.messageHandler||(this.messageHandler=this.onDepositResponse.bind(this),r(window).on("message",this.messageHandler))},unsubscribe:function(){this.messageHandler&&(r(window).off("message",this.messageHandler),this.messageHandler=null)},onDepositResponse:function(t){var e=this;if("deposit_failed"===t.data.type){return"4"!==this.parseData(t.data.data).status&&u.trigger("ui:message-box:fail_deposit"),this.close(),void this.unsubscribe()}if("deposit"===t.data.type){var n=this.model.get("doFirstDeposit"),i=this.model.getAtmAmount();d.getUserData().load().then(function(){d.getUserData().set("firstDeposit",!0),d.getUserData().isCompliance()||u.trigger("check:pending:deposit:force")}),this.close(),this.unsubscribe();var o=g.getPaymentsServiceVendor();if(o===x||o===C||o===k?this.depositInfo={totalAmount:this.model.getAmount(),currency:d.getUserCurrency(),doFirstDeposit:n,atmAmount:i,payment_method:"cc_card"}:(this.depositInfo=l.chain(t.data.data.split("&")).map(function(t){return t&&t.split("=")}).compact().object().value(),l.extend(this.depositInfo,{doFirstDeposit:n,atmAmount:i})),s(this.depositInfo),"cc_card"===this.depositInfo.payment_method){var a=new b({depositInfo:this.depositInfo});new v({model:a,parent:document.body})}else O.eventos("display",this.depositInfo),u.trigger("sm","deposit_successful"),u.trigger("funds:deposit:success"),new m({parent:r("body"),text:__("proof_of_payment.dialog.message"),caption:__("proof_of_payment.dialog.header",[this.depositInfo.totalAmount,this.depositInfo.currency]),isHeaderShowed:!1,onOK:function(){return O.eventos("clkClose",e.depositInfo)}})}},getCashierLocale:function(t){return this.cashierLocales[t]?this.cashierLocales[t]:this.cashierLocales.en},choseDepositAmount:function(){var t=this.model.getAmount();return l.isNaN(t)||-1===t?this.model.getDefaultAmount():t},initialize:function(t){c.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:status",this.onStatusChange)},onStatusChange:function(){var t=this.model.get("status");return t===w?(this.showLoadError(),this.close()):t===S?this.render():void 0},showLoadError:function(){u.trigger("ui:message-box",{parent:document.body,text:__("server.request.generic.error.body",__("link.contact_us"))})},render:function(t){var e=this;u.trigger("ui:loading");var n=this.model.get("doFirstDeposit"),i=this.model.getAmount(),r=this.model.getAtmAmount(),o=d.getUserCurrency(),s={amount:this.choseDepositAmount(),country:d.getUserData().getCrmboCustomer().country,currency:o,locale:this.getCashierLocale(h.getLanguage()),bonusApproved:this.model.isBonusApplied()},a=this.getBaseUrl(),l=g.getPaymentsServiceVendor();l===C?(s.successUrl=encodeURIComponent(a+"?path=deposit_sucess&first_deposit="+n+"&totalAmount="+i+"&atmAmount="+r+"&currency="+o),s.failUrl=encodeURIComponent(a+"?path=deposit_failed")):(s.successUrl=encodeURIComponent(a+"deposit.html"),s.failUrl=encodeURIComponent(a+"deposit_failed.html")),l===T&&(s.wrapperSuccessUrl=encodeURIComponent(a+"?path=deposit_sucess&first_deposit="+n+"&totalAmount="+i+"&atmAmount="+r+"&currency="+o),s.wrapperFailUrl=encodeURIComponent(a+"?path=deposit_failed")),p.getDepositUrl(s).then(function(t){u.trigger("ui:loading:hide"),e.$el.removeClass("hidden").addClass("visible"),c.prototype.render.call(e),e.renderFrame(t.data),e.subscribe()}).catch(function(){u.trigger("ui:loading:hide"),e.showLoadError(),e.close()})},renderFrame:function(t){this.setContent(f(this.getRenderTemplateData())),__eventos("onBoardFlow:cashierDialog:display");var e=this.$el.find("#deposit-frame");e[0].setAttribute("src",t),e.css("visibility","visible")},parseData:function(t){var e={};return t.split("&").forEach(function(t){var n=t.split("=");e[n[0]]=decodeURIComponent(n[1])}),e}});i.exports.DepositPopupView=P}.call(e,n,e,t))&&(t.exports=s)}).call(e,n(0),n(5))},function(t,e){t.exports='<div class="floating-account-info-container"><div class="separator dots-separator"></div><table class="table"><thead><tr><td class="account-environment-separator" colspan="3"><div class="environment-indicator"><span class="environment"> <%=__( platformType != \'Live\' ? \'accountInfo.demo.account\' : \'accountInfo.live.account\')%> </span></div></td></tr></thead><tbody><tr><td class="account-info-title"><%=__(\'accountInfo.cash\')%>:</td><td class="account-info-value"><span data-id="balance"><%=balance%></span></td></tr><tr><td class="account-info-title"> <%=__(\'accountInfo.equity\')%>:</td><td class="account-info-value"><span data-id="equity"><%=equity%></span></td></tr><tr><td class="account-info-title"><%=__(\'accountInfo.freeMargin\')%>:</td><td class="account-info-value"><span data-id="buyingPower"><%=buyingPower%></span></td></tr><tr><td class="account-info-title"><%=__(\'accountInfo.usedMargin\')%>:</td><td class="account-info-value"><span data-id="margin"><%=marginUsed%></span></td></tr><tr><td class="account-info-title account-info-title-bold"><%=__(\'accountInfo.pl\')%></td><td class="account-info-value pl_value <%= profitLossPositive ? \'pl_pos\' : \'pl_neg\' %>"><span data-id="profitLoss"><%=profitLoss%></span></td></tr></tbody></table><div class="fn-close icon-close-grey"></div></div>'},function(t,e,n){t.exports=!n(42)&&!n(26)(function(){return 7!=Object.defineProperty(n(304)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){e.f=n(32)},function(t,e,n){var i=n(81),r=n(82),o=n(222)(!1),s=n(306)("IE_PROTO");t.exports=function(t,e){var n,a=r(t),l=0,c=[];for(n in a)n!=s&&i(a,n)&&c.push(n);for(;e.length>l;)i(a,n=e[l++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var i=n(43),r=n(18),o=n(140);t.exports=n(42)?Object.defineProperties:function(t,e){r(t);for(var n,s=o(e),a=s.length,l=0;a>l;)i.f(t,n=s[l++],e[n]);return t}},function(t,e,n){var i=n(82),r=n(143).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return r(t)}catch(t){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?a(t):r(i(t))}},function(t,e,n){var i=n(4);i(i.S+i.F,"Object",{assign:n(445)})},function(t,e,n){"use strict";var i=n(140),r=n(223),o=n(191),s=n(50),a=n(190),l=Object.assign;t.exports=!l||n(26)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=i})?function(t,e){for(var n=s(t),l=arguments.length,c=1,u=r.f,d=o.f;l>c;)for(var h,p=a(arguments[c++]),f=u?i(p).concat(u(p)):i(p),m=f.length,g=0;m>g;)d.call(p,h=f[g++])&&(n[h]=p[h]);return n}:l},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){"use strict";var i=n(64),r=n(27),o=n(448),s=[].slice,a={},l=function(t,e,n){if(!(e in a)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";a[e]=Function("F,a","return new F("+i.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=i(this),n=s.call(arguments,1),a=function(){var i=n.concat(s.call(arguments));return this instanceof a?l(e,i.length,i):o(e,i,t)};return r(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(21).parseInt,r=n(164).trim,o=n(310),s=/^[-+]?0[xX]/;t.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(t,e){var n=r(String(t),3);return i(n,e>>>0||(s.test(n)?16:10))}:i},function(t,e,n){var i=n(21).parseFloat,r=n(164).trim;t.exports=1/i(n(310)+"-0")!=-1/0?function(t){var e=r(String(t),3),n=i(e);return 0===n&&"-"==e.charAt(0)?-0:n}:i},function(t,e,n){var i=n(90);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(e);return+t}},function(t,e,n){var i=n(27),r=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var i=n(313),r=Math.pow,o=r(2,-52),s=r(2,-23),a=r(2,127)*(2-s),l=r(2,-126),c=function(t){return t+1/o-1/o};t.exports=Math.fround||function(t){var e,n,r=Math.abs(t),u=i(t);return r<l?u*c(r/l/s)*l*s:(e=(1+s/o)*r,n=e-(e-r),n>a||n!=n?u*(1/0):u*n)}},function(t,e,n){"use strict";var i=n(89),r=n(4),o=n(50),s=n(456),a=n(319),l=n(35),c=n(320),u=n(321);r(r.S+r.F*!n(229)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,d,h=o(t),p="function"==typeof this?this:Array,f=arguments.length,m=f>1?arguments[1]:void 0,g=void 0!==m,v=0,b=u(h);if(g&&(m=i(m,f>2?arguments[2]:void 0,2)),void 0==b||p==Array&&a(b))for(e=l(h.length),n=new p(e);e>v;v++)c(n,v,g?m(h[v],v):h[v]);else for(d=b.call(h),n=new p;!(r=d.next()).done;v++)c(n,v,g?s(d,m,[r.value,v],!0):r.value);return n.length=v,n}})},function(t,e,n){var i=n(18);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(t,e,n){var i=n(64),r=n(50),o=n(190),s=n(35);t.exports=function(t,e,n,a,l){i(e);var c=r(t),u=o(c),d=s(c.length),h=l?d-1:0,p=l?-1:1;if(n<2)for(;;){if(h in u){a=u[h],h+=p;break}if(h+=p,l?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;l?h>=0:d>h;h+=p)h in u&&(a=e(a,u[h],h,c));return a}},function(t,e,n){"use strict";var i=n(50),r=n(141),o=n(35);t.exports=[].copyWithin||function(t,e){var n=i(this),s=o(n.length),a=r(t,s),l=r(e,s),c=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===c?s:r(c,s))-l,s-a),d=1;for(l<a&&a<l+u&&(d=-1,l+=u-1,a+=u-1);u-- >0;)l in n?n[a]=n[l]:delete n[a],a+=d,l+=d;return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var i=n(325);n(4)({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},function(t,e,n){n(42)&&"g"!=/./g.flags&&n(43).f(RegExp.prototype,"flags",{configurable:!0,get:n(192)})},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var i=n(18),r=n(27),o=n(329);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var i=n(43).f,r=n(142),o=n(147),s=n(89),a=n(145),l=n(146),c=n(315),u=n(459),d=n(144),h=n(42),p=n(124).fastKey,f=n(148),m=h?"_s":"size",g=function(t,e){var n,i=p(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var u=t(function(t,i){a(t,u,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=i&&l(i,n,t[c],t)});return o(u.prototype,{clear:function(){for(var t=f(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var n=f(this,e),i=g(n,t);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[m]--}return!!i},forEach:function(t){f(this,e);for(var n,i=s(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!g(f(this,e),t)}}),h&&i(u.prototype,"size",{get:function(){return f(this,e)[m]}}),u},def:function(t,e,n){var i,r,o=g(t,e);return o?o.v=n:(t._l=o={i:r=p(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[m]++,"F"!==r&&(t._i[r]=o)),t},getEntry:g,setStrong:function(t,e,n){c(t,e,function(t,n){this._t=f(t,e),this._k=n,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?u(0,n.k):"values"==e?u(0,n.v):u(0,[n.k,n.v]):(t._t=void 0,u(1))},n?"entries":"values",!n,!0),d(e)}}},function(t,e,n){"use strict";var i=n(147),r=n(124).getWeak,o=n(18),s=n(27),a=n(145),l=n(146),c=n(103),u=n(81),d=n(148),h=c(5),p=c(6),f=0,m=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},v=function(t,e){return h(t.a,function(t){return t[0]===e})};g.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var n=v(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var c=t(function(t,i){a(t,c,e,"_i"),t._t=e,t._i=f++,t._l=void 0,void 0!=i&&l(i,n,t[o],t)});return i(c.prototype,{delete:function(t){if(!s(t))return!1;var n=r(t);return!0===n?m(d(this,e)).delete(t):n&&u(n,this._i)&&delete n[this._i]},has:function(t){if(!s(t))return!1;var n=r(t);return!0===n?m(d(this,e)).has(t):n&&u(n,this._i)}}),c},def:function(t,e,n){var i=r(o(e),!0);return!0===i?m(t).set(e,n):i[t._i]=n,t},ufstore:m}},function(t,e,n){var i=n(91),r=n(35);t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var i=n(143),r=n(223),o=n(18),s=n(21).Reflect;t.exports=s&&s.ownKeys||function(t){var e=i.f(o(t)),n=r.f;return n?e.concat(n(t)):e}},function(t,e,n){"use strict";function i(t,e,n,c,u,d,h,p){for(var f,m,g=u,v=0,b=!!h&&a(h,p,3);v<c;){if(v in n){if(f=b?b(n[v],v,e):n[v],m=!1,o(f)&&(m=f[l],m=void 0!==m?!!m:r(f)),m&&d>0)g=i(t,e,f,s(f.length),g,d-1)-1;else{if(g>=9007199254740991)throw TypeError();t[g]=f}g++}v++}return g}var r=n(224),o=n(27),s=n(35),a=n(89),l=n(32)("isConcatSpreadable");t.exports=i},function(t,e,n){var i=n(35),r=n(312),o=n(101);t.exports=function(t,e,n,s){var a=String(o(t)),l=a.length,c=void 0===n?" ":String(n),u=i(e);if(u<=l||""==c)return a;var d=u-l,h=r.call(c,Math.ceil(d/c.length));return h.length>d&&(h=h.slice(0,d)),s?h+a:a+h}},function(t,e,n){var i=n(140),r=n(82),o=n(191).f;t.exports=function(t){return function(e){for(var n,s=r(e),a=i(s),l=a.length,c=0,u=[];l>c;)o.call(s,n=a[c++])&&u.push(t?[n,s[n]]:s[n]);return u}}},function(t,e,n){var i=n(4);i(i.P+i.R,"Map",{toJSON:n(472)("Map")})},function(t,e,n){var i=n(163),r=n(473);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},function(t,e,n){var i=n(146);t.exports=function(t,e){var n=[];return i(t,!1,n.push,n,e),n}},function(t,e,n){var i=n(4);i(i.P+i.R,"Set",{toJSON:n(472)("Set")})},function(t,e,n){n(236)("Map")},function(t,e,n){n(236)("Set")},function(t,e,n){n(236)("WeakMap")},function(t,e,n){n(237)("Map")},function(t,e,n){n(237)("Set")},function(t,e,n){n(237)("WeakMap")},function(t,e){t.exports=Math.scale||function(t,e,n,i,r){return 0===arguments.length||t!=t||e!=e||n!=n||i!=i||r!=r?NaN:t===1/0||t===-1/0?t:(t-e)*(r-i)/(n-e)+i}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"g",function(){return i}),n.d(e,"e",function(){return r}),n.d(e,"f",function(){return o}),n.d(e,"d",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return l}),n.d(e,"a",function(){return c});var i="positions/POSITION_METRICS",r="positions/OPEN_POSITION",o="positions/OPEN_POSITION_FILTERS",s="positions/EDIT_POSITION",a="positions/CLOSE_ALL_POSITION_BY_SYMBOL",l="positions/CLOSE_POSITION",c="positions/CLEAR_CLOSED_POSITION"},function(t,e,n){"use strict";n.d(e,"d",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return s});var i="orders/ORDER",r="orders/CANCEL_ORDER",o="orders/EDIT_ORDER",s="orders/CANCEL_ALL_ORDERS_BY_SYMBOL"},function(t,e,n){"use strict";n.d(e,"J",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"B",function(){return o}),n.d(e,"e",function(){return s}),n.d(e,"h",function(){return a}),n.d(e,"g",function(){return l}),n.d(e,"f",function(){return c}),n.d(e,"m",function(){return u}),n.d(e,"l",function(){return d}),n.d(e,"u",function(){return h}),n.d(e,"v",function(){return p}),n.d(e,"x",function(){return f}),n.d(e,"w",function(){return m}),n.d(e,"D",function(){return g}),n.d(e,"F",function(){return v}),n.d(e,"E",function(){return b}),n.d(e,"y",function(){return y}),n.d(e,"A",function(){return _}),n.d(e,"z",function(){return w}),n.d(e,"C",function(){return S}),n.d(e,"G",function(){return E}),n.d(e,"I",function(){return x}),n.d(e,"H",function(){return C}),n.d(e,"n",function(){return T}),n.d(e,"p",function(){return k}),n.d(e,"o",function(){return O}),n.d(e,"a",function(){return P}),n.d(e,"i",function(){return I}),n.d(e,"k",function(){return A}),n.d(e,"j",function(){return M}),n.d(e,"q",function(){return N}),n.d(e,"s",function(){return D}),n.d(e,"r",function(){return L}),n.d(e,"b",function(){return R}),n.d(e,"d",function(){return F}),n.d(e,"t",function(){return B});var i="instruments/UPDATE_INSTRUMENT_QUOTE",r="instruments/FX_INSTRUMENT",o="instruments/SUMMARY",s="instruments/INIT_INSTRUMENT_SYMBOL_MAP",a="instruments/INSTRUMENT_TRADE_STATUSES",l="instruments/INSTRUMENT_SETTINGS_UPDATE",c="instruments/INIT_INSTRUMENT_TREE_PATHS",u="instruments/LOAD_INSTRUMENTS_SUCCESS",d="instruments/LOAD_INSTRUMENTS_ERROR",h="instruments/SET_INSTRUMENT_LAST_QUOTE_TIME",p="instruments/SUBSCRIBE_CHART_FEED",f="instruments/SUBSCRIBE_CHART_FEED_SUCCESS",m="instruments/SUBSCRIBE_CHART_FEED_ERROR",g="instruments/UNSUBSCRIBE_CHART_FEED",v="instruments/UNSUBSCRIBE_CHART_FEED_SUCCESS",b="instruments/UNSUBSCRIBE_CHART_FEED_ERROR",y="instruments/SUBSCRIBE_SWAP_RATES",_="instruments/SUBSCRIBE_SWAP_RATES_SUCCESS",w="instruments/SUBSCRIBE_SWAP_RATES_ERROR",S="instruments/SWAP_RATES",E="instruments/UNSUBSCRIBE_SWAP_RATES",x="instruments/UNSUBSCRIBE_SWAP_RATES_SUCCESS",C="instruments/UNSUBSCRIBE_SWAP_RATES_ERROR",T="instruments/LOAD_MARGINING_SETTINGS",k="instruments/LOAD_MARGINING_SETTINGS_SUCCESS",O="instruments/LOAD_MARGINING_SETTINGS_ERROR",P="instruments/CLEAR_MARGINING_SETTINGS",I="instruments/LOAD_CRYPTO_INFO",A="instruments/LOAD_CRYPTO_INFO_SUCCESS",M="instruments/LOAD_CRYPTO_INFO_ERROR",N="instruments/LOAD_TRADING_CALENDARS_SETTINGS",D="instruments/LOAD_TRADING_CALENDARS_SETTINGS_SUCCESS",L="instruments/LOAD_TRADING_CALENDARS_SETTINGS_ERROR",R="instruments/CLEAR_TRADING_CALENDARS_SETTINGS",F="instruments/FX_SYSTEM_SETTINGS",B="instruments/ROLLOVER_DATES"},,,,function(t,e,n){"use strict";function i(t,e,n){return o.default[t.type](t,e,n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(1273),o=function(t){return t&&t.__esModule?t:{default:t}}(r)},function(t,e,n){function i(t,e){this._options=e||{},this._cbs=t||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this._foreignContext=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(r=this._options.Tokenizer),this._tokenizer=new r(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}var r=n(649),o={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},s={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:o,input:o,output:o,button:o,datalist:o,textarea:o,option:{option:!0},optgroup:{optgroup:!0}},a={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},l={__proto__:null,math:!0,svg:!0},c={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0,foreignObject:!0,desc:!0,title:!0},u=/\s|\//;n(247)(i,n(1275).EventEmitter),i.prototype._updatePosition=function(t){null===this.endIndex?this._tokenizer._sectionStart<=t?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-t:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},i.prototype.ontext=function(t){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(t)},i.prototype.onopentagname=function(t){if(this._lowerCaseTagNames&&(t=t.toLowerCase()),this._tagname=t,!this._options.xmlMode&&t in s)for(var e;(e=this._stack[this._stack.length-1])in s[t];this.onclosetag(e));!this._options.xmlMode&&t in a||(this._stack.push(t),t in l?this._foreignContext.push(!0):t in c&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(t),this._cbs.onopentag&&(this._attribs={})},i.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in a&&this._cbs.onclosetag(this._tagname),this._tagname=""},i.prototype.onclosetag=function(t){if(this._updatePosition(1),this._lowerCaseTagNames&&(t=t.toLowerCase()),(t in l||t in c)&&this._foreignContext.pop(),!this._stack.length||t in a&&!this._options.xmlMode)this._options.xmlMode||"br"!==t&&"p"!==t||(this.onopentagname(t),this._closeCurrentTag());else{var e=this._stack.lastIndexOf(t);if(-1!==e)if(this._cbs.onclosetag)for(e=this._stack.length-e;e--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=e;else"p"!==t||this._options.xmlMode||(this.onopentagname(t),this._closeCurrentTag())}},i.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},i.prototype._closeCurrentTag=function(){var t=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===t&&(this._cbs.onclosetag&&this._cbs.onclosetag(t),this._stack.pop())},i.prototype.onattribname=function(t){this._lowerCaseAttributeNames&&(t=t.toLowerCase()),this._attribname=t},i.prototype.onattribdata=function(t){this._attribvalue+=t},i.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},i.prototype._getInstructionName=function(t){var e=t.search(u),n=e<0?t:t.substr(0,e);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},i.prototype.ondeclaration=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("!"+e,"!"+t)}},i.prototype.onprocessinginstruction=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("?"+e,"?"+t)}},i.prototype.oncomment=function(t){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(t),this._cbs.oncommentend&&this._cbs.oncommentend()},i.prototype.oncdata=function(t){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(t),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+t+"]]")},i.prototype.onerror=function(t){this._cbs.onerror&&this._cbs.onerror(t)},i.prototype.onend=function(){if(this._cbs.onclosetag)for(var t=this._stack.length;t>0;this._cbs.onclosetag(this._stack[--t]));this._cbs.onend&&this._cbs.onend()},i.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},i.prototype.parseComplete=function(t){this.reset(),this.end(t)},i.prototype.write=function(t){this._tokenizer.write(t)},i.prototype.end=function(t){this._tokenizer.end(t)},i.prototype.pause=function(){this._tokenizer.pause()},i.prototype.resume=function(){this._tokenizer.resume()},i.prototype.parseChunk=i.prototype.write,i.prototype.done=i.prototype.end,t.exports=i},function(t,e,n){function i(t){return" "===t||"\n"===t||"\t"===t||"\f"===t||"\r"===t}function r(t,e,n){var i=t.toLowerCase();return t===i?function(t){t===i?this._state=e:(this._state=n,this._index--)}:function(r){r===i||r===t?this._state=e:(this._state=n,this._index--)}}function o(t,e){var n=t.toLowerCase();return function(i){i===n||i===t?this._state=e:(this._state=f,this._index--)}}function s(t,e){this._state=h,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=h,this._special=ft,this._cbs=e,this._running=!0,this._ended=!1,this._xmlMode=!(!t||!t.xmlMode),this._decodeEntities=!(!t||!t.decodeEntities)}t.exports=s;var a=n(650),l=n(355),c=n(651),u=n(356),d=0,h=d++,p=d++,f=d++,m=d++,g=d++,v=d++,b=d++,y=d++,_=d++,w=d++,S=d++,E=d++,x=d++,C=d++,T=d++,k=d++,O=d++,P=d++,I=d++,A=d++,M=d++,N=d++,D=d++,L=d++,R=d++,F=d++,B=d++,U=d++,j=d++,z=d++,V=d++,H=d++,G=d++,W=d++,q=d++,$=d++,Y=d++,X=d++,K=d++,Q=d++,J=d++,Z=d++,tt=d++,et=d++,nt=d++,it=d++,rt=d++,ot=d++,st=d++,at=d++,lt=d++,ct=d++,ut=d++,dt=d++,ht=d++,pt=0,ft=pt++,mt=pt++,gt=pt++;s.prototype._stateText=function(t){"<"===t?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=p,this._sectionStart=this._index):this._decodeEntities&&this._special===ft&&"&"===t&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=h,this._state=lt,this._sectionStart=this._index)},s.prototype._stateBeforeTagName=function(t){"/"===t?this._state=g:"<"===t?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===t||this._special!==ft||i(t)?this._state=h:"!"===t?(this._state=T,this._sectionStart=this._index+1):"?"===t?(this._state=O,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==t&&"S"!==t?f:V,this._sectionStart=this._index)},s.prototype._stateInTagName=function(t){("/"===t||">"===t||i(t))&&(this._emitToken("onopentagname"),this._state=y,this._index--)},s.prototype._stateBeforeCloseingTagName=function(t){i(t)||(">"===t?this._state=h:this._special!==ft?"s"===t||"S"===t?this._state=H:(this._state=h,this._index--):(this._state=v,this._sectionStart=this._index))},s.prototype._stateInCloseingTagName=function(t){(">"===t||i(t))&&(this._emitToken("onclosetag"),this._state=b,this._index--)},s.prototype._stateAfterCloseingTagName=function(t){">"===t&&(this._state=h,this._sectionStart=this._index+1)},s.prototype._stateBeforeAttributeName=function(t){">"===t?(this._cbs.onopentagend(),this._state=h,this._sectionStart=this._index+1):"/"===t?this._state=m:i(t)||(this._state=_,this._sectionStart=this._index)},s.prototype._stateInSelfClosingTag=function(t){">"===t?(this._cbs.onselfclosingtag(),this._state=h,this._sectionStart=this._index+1):i(t)||(this._state=y,this._index--)},s.prototype._stateInAttributeName=function(t){("="===t||"/"===t||">"===t||i(t))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=w,this._index--)},s.prototype._stateAfterAttributeName=function(t){"="===t?this._state=S:"/"===t||">"===t?(this._cbs.onattribend(),this._state=y,this._index--):i(t)||(this._cbs.onattribend(),this._state=_,this._sectionStart=this._index)},s.prototype._stateBeforeAttributeValue=function(t){'"'===t?(this._state=E,this._sectionStart=this._index+1):"'"===t?(this._state=x,this._sectionStart=this._index+1):i(t)||(this._state=C,this._sectionStart=this._index,this._index--)},s.prototype._stateInAttributeValueDoubleQuotes=function(t){'"'===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=y):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=lt,this._sectionStart=this._index)},s.prototype._stateInAttributeValueSingleQuotes=function(t){"'"===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=y):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=lt,this._sectionStart=this._index)},s.prototype._stateInAttributeValueNoQuotes=function(t){i(t)||">"===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=y,this._index--):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=lt,this._sectionStart=this._index)},s.prototype._stateBeforeDeclaration=function(t){this._state="["===t?N:"-"===t?P:k},s.prototype._stateInDeclaration=function(t){">"===t&&(this._cbs.ondeclaration(this._getSection()),this._state=h,this._sectionStart=this._index+1)},s.prototype._stateInProcessingInstruction=function(t){">"===t&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=h,this._sectionStart=this._index+1)},s.prototype._stateBeforeComment=function(t){"-"===t?(this._state=I,this._sectionStart=this._index+1):this._state=k},s.prototype._stateInComment=function(t){"-"===t&&(this._state=A)},s.prototype._stateAfterComment1=function(t){this._state="-"===t?M:I},s.prototype._stateAfterComment2=function(t){">"===t?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=h,this._sectionStart=this._index+1):"-"!==t&&(this._state=I)},s.prototype._stateBeforeCdata1=r("C",D,k),s.prototype._stateBeforeCdata2=r("D",L,k),s.prototype._stateBeforeCdata3=r("A",R,k),s.prototype._stateBeforeCdata4=r("T",F,k),s.prototype._stateBeforeCdata5=r("A",B,k),s.prototype._stateBeforeCdata6=function(t){"["===t?(this._state=U,this._sectionStart=this._index+1):(this._state=k,this._index--)},s.prototype._stateInCdata=function(t){"]"===t&&(this._state=j)},s.prototype._stateAfterCdata1=function(t){this._state="]"===t?z:U},s.prototype._stateAfterCdata2=function(t){">"===t?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=h,this._sectionStart=this._index+1):"]"!==t&&(this._state=U)},s.prototype._stateBeforeSpecial=function(t){"c"===t||"C"===t?this._state=G:"t"===t||"T"===t?this._state=tt:(this._state=f,this._index--)},s.prototype._stateBeforeSpecialEnd=function(t){this._special!==mt||"c"!==t&&"C"!==t?this._special!==gt||"t"!==t&&"T"!==t?this._state=h:this._state=rt:this._state=X},s.prototype._stateBeforeScript1=o("R",W),s.prototype._stateBeforeScript2=o("I",q),s.prototype._stateBeforeScript3=o("P",$),s.prototype._stateBeforeScript4=o("T",Y),s.prototype._stateBeforeScript5=function(t){("/"===t||">"===t||i(t))&&(this._special=mt),this._state=f,this._index--},s.prototype._stateAfterScript1=r("R",K,h),s.prototype._stateAfterScript2=r("I",Q,h),s.prototype._stateAfterScript3=r("P",J,h),s.prototype._stateAfterScript4=r("T",Z,h),s.prototype._stateAfterScript5=function(t){">"===t||i(t)?(this._special=ft,this._state=v,this._sectionStart=this._index-6,this._index--):this._state=h},s.prototype._stateBeforeStyle1=o("Y",et),s.prototype._stateBeforeStyle2=o("L",nt),s.prototype._stateBeforeStyle3=o("E",it),s.prototype._stateBeforeStyle4=function(t){("/"===t||">"===t||i(t))&&(this._special=gt),this._state=f,this._index--},s.prototype._stateAfterStyle1=r("Y",ot,h),s.prototype._stateAfterStyle2=r("L",st,h),s.prototype._stateAfterStyle3=r("E",at,h),s.prototype._stateAfterStyle4=function(t){">"===t||i(t)?(this._special=ft,this._state=v,this._sectionStart=this._index-5,this._index--):this._state=h},s.prototype._stateBeforeEntity=r("#",ct,ut),s.prototype._stateBeforeNumericEntity=r("X",ht,dt),s.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var t=this._buffer.substring(this._sectionStart+1,this._index),e=this._xmlMode?u:l;e.hasOwnProperty(t)&&(this._emitPartial(e[t]),this._sectionStart=this._index+1)}},s.prototype._parseLegacyEntity=function(){var t=this._sectionStart+1,e=this._index-t;for(e>6&&(e=6);e>=2;){var n=this._buffer.substr(t,e);if(c.hasOwnProperty(n))return this._emitPartial(c[n]),void(this._sectionStart+=e+1);e--}},s.prototype._stateInNamedEntity=function(t){";"===t?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(t<"a"||t>"z")&&(t<"A"||t>"Z")&&(t<"0"||t>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==h?"="!==t&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},s.prototype._decodeNumericEntity=function(t,e){var n=this._sectionStart+t;if(n!==this._index){var i=this._buffer.substring(n,this._index),r=parseInt(i,e);this._emitPartial(a(r)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},s.prototype._stateInNumericEntity=function(t){";"===t?(this._decodeNumericEntity(2,10),this._sectionStart++):(t<"0"||t>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},s.prototype._stateInHexEntity=function(t){";"===t?(this._decodeNumericEntity(3,16),this._sectionStart++):(t<"a"||t>"f")&&(t<"A"||t>"F")&&(t<"0"||t>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},s.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===h?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},s.prototype.write=function(t){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=t,this._parse()},s.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var t=this._buffer.charAt(this._index);this._state===h?this._stateText(t):this._state===p?this._stateBeforeTagName(t):this._state===f?this._stateInTagName(t):this._state===g?this._stateBeforeCloseingTagName(t):this._state===v?this._stateInCloseingTagName(t):this._state===b?this._stateAfterCloseingTagName(t):this._state===m?this._stateInSelfClosingTag(t):this._state===y?this._stateBeforeAttributeName(t):this._state===_?this._stateInAttributeName(t):this._state===w?this._stateAfterAttributeName(t):this._state===S?this._stateBeforeAttributeValue(t):this._state===E?this._stateInAttributeValueDoubleQuotes(t):this._state===x?this._stateInAttributeValueSingleQuotes(t):this._state===C?this._stateInAttributeValueNoQuotes(t):this._state===T?this._stateBeforeDeclaration(t):this._state===k?this._stateInDeclaration(t):this._state===O?this._stateInProcessingInstruction(t):this._state===P?this._stateBeforeComment(t):this._state===I?this._stateInComment(t):this._state===A?this._stateAfterComment1(t):this._state===M?this._stateAfterComment2(t):this._state===N?this._stateBeforeCdata1(t):this._state===D?this._stateBeforeCdata2(t):this._state===L?this._stateBeforeCdata3(t):this._state===R?this._stateBeforeCdata4(t):this._state===F?this._stateBeforeCdata5(t):this._state===B?this._stateBeforeCdata6(t):this._state===U?this._stateInCdata(t):this._state===j?this._stateAfterCdata1(t):this._state===z?this._stateAfterCdata2(t):this._state===V?this._stateBeforeSpecial(t):this._state===H?this._stateBeforeSpecialEnd(t):this._state===G?this._stateBeforeScript1(t):this._state===W?this._stateBeforeScript2(t):this._state===q?this._stateBeforeScript3(t):this._state===$?this._stateBeforeScript4(t):this._state===Y?this._stateBeforeScript5(t):this._state===X?this._stateAfterScript1(t):this._state===K?this._stateAfterScript2(t):this._state===Q?this._stateAfterScript3(t):this._state===J?this._stateAfterScript4(t):this._state===Z?this._stateAfterScript5(t):this._state===tt?this._stateBeforeStyle1(t):this._state===et?this._stateBeforeStyle2(t):this._state===nt?this._stateBeforeStyle3(t):this._state===it?this._stateBeforeStyle4(t):this._state===rt?this._stateAfterStyle1(t):this._state===ot?this._stateAfterStyle2(t):this._state===st?this._stateAfterStyle3(t):this._state===at?this._stateAfterStyle4(t):this._state===lt?this._stateBeforeEntity(t):this._state===ct?this._stateBeforeNumericEntity(t):this._state===ut?this._stateInNamedEntity(t):this._state===dt?this._stateInNumericEntity(t):this._state===ht?this._stateInHexEntity(t):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},s.prototype.pause=function(){this._running=!1},s.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},s.prototype.end=function(t){this._ended&&this._cbs.onerror(Error(".end() after done!")),t&&this.write(t),this._ended=!0,this._running&&this._finish()},s.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},s.prototype._handleTrailingData=function(){var t=this._buffer.substr(this._sectionStart);this._state===U||this._state===j||this._state===z?this._cbs.oncdata(t):this._state===I||this._state===A||this._state===M?this._cbs.oncomment(t):this._state!==ut||this._xmlMode?this._state!==dt||this._xmlMode?this._state!==ht||this._xmlMode?this._state!==f&&this._state!==y&&this._state!==S&&this._state!==w&&this._state!==_&&this._state!==x&&this._state!==E&&this._state!==C&&this._state!==v&&this._cbs.ontext(t):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},s.prototype.reset=function(){s.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},s.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},s.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},s.prototype._emitToken=function(t){this._cbs[t](this._getSection()),this._sectionStart=-1},s.prototype._emitPartial=function(t){this._baseState!==h?this._cbs.onattribdata(t):this._cbs.ontext(t)}},function(t,e,n){function i(t){if(t>=55296&&t<=57343||t>1114111)return"�";t in r&&(t=r[t]);var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t)}var r=n(1274);t.exports=i},function(t,e){t.exports={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",amp:"&",AMP:"&",Aring:"Å",aring:"å",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",brvbar:"¦",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",iquest:"¿",Iuml:"Ï",iuml:"ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",Ntilde:"Ñ",ntilde:"ñ",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",Ograve:"Ò",ograve:"ò",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",Ouml:"Ö",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",THORN:"Þ",thorn:"þ",times:"×",Uacute:"Ú",uacute:"ú",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",Uuml:"Ü",uuml:"ü",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ"}},function(t,e,n){function i(t,e,n){"object"==typeof t?(n=e,e=t,t=null):"function"==typeof e&&(n=e,e=l),this._callback=t,this._options=e||l,this._elementCB=n,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var r=n(175),o=/\s+/g,s=n(653),a=n(1276),l={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};i.prototype.onparserinit=function(t){this._parser=t},i.prototype.onreset=function(){i.call(this,this._callback,this._options,this._elementCB)},i.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},i.prototype._handleCallback=i.prototype.onerror=function(t){if("function"==typeof this._callback)this._callback(t,this.dom);else if(t)throw t},i.prototype.onclosetag=function(){var t=this._tagStack.pop();this._options.withEndIndices&&t&&(t.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(t)},i.prototype._createDomElement=function(t){if(!this._options.withDomLvl1)return t;var e;e="tag"===t.type?Object.create(a):Object.create(s);for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},i.prototype._addDomElement=function(t){var e=this._tagStack[this._tagStack.length-1],n=e?e.children:this.dom,i=n[n.length-1];t.next=null,this._options.withStartIndices&&(t.startIndex=this._parser.startIndex),this._options.withEndIndices&&(t.endIndex=this._parser.endIndex),i?(t.prev=i,i.next=t):t.prev=null,n.push(t),t.parent=e||null},i.prototype.onopentag=function(t,e){var n={type:"script"===t?r.Script:"style"===t?r.Style:r.Tag,name:t,attribs:e,children:[]},i=this._createDomElement(n);this._addDomElement(i),this._tagStack.push(i)},i.prototype.ontext=function(t){var e,n=this._options.normalizeWhitespace||this._options.ignoreWhitespace;if(!this._tagStack.length&&this.dom.length&&(e=this.dom[this.dom.length-1]).type===r.Text)n?e.data=(e.data+t).replace(o," "):e.data+=t;else if(this._tagStack.length&&(e=this._tagStack[this._tagStack.length-1])&&(e=e.children[e.children.length-1])&&e.type===r.Text)n?e.data=(e.data+t).replace(o," "):e.data+=t;else{n&&(t=t.replace(o," "));var i=this._createDomElement({data:t,type:r.Text});this._addDomElement(i)}},i.prototype.oncomment=function(t){var e=this._tagStack[this._tagStack.length-1];if(e&&e.type===r.Comment)return void(e.data+=t);var n={data:t,type:r.Comment},i=this._createDomElement(n);this._addDomElement(i),this._tagStack.push(i)},i.prototype.oncdatastart=function(){var t={children:[{data:"",type:r.Text}],type:r.CDATA},e=this._createDomElement(t);this._addDomElement(e),this._tagStack.push(e)},i.prototype.oncommentend=i.prototype.oncdataend=function(){this._tagStack.pop()},i.prototype.onprocessinginstruction=function(t,e){var n=this._createDomElement({name:t,data:e,type:r.Directive});this._addDomElement(n)},t.exports=i},function(t,e){var n=t.exports={get firstChild(){var t=this.children;return t&&t[0]||null},get lastChild(){var t=this.children;return t&&t[t.length-1]||null},get nodeType(){return r[this.type]||r.element}},i={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},r={element:1,text:3,cdata:4,comment:8};Object.keys(i).forEach(function(t){var e=i[t];Object.defineProperty(n,t,{get:function(){return this[e]||null},set:function(t){return this[e]=t,t}})})},function(t,e,n){var i=t.exports;[n(1278),n(1283),n(1284),n(1285),n(1286),n(1287)].forEach(function(t){Object.keys(t).forEach(function(e){i[e]=t[e].bind(i)})})},function(t,e,n){function i(t,e){var n=this._parser=new r(t,e),i=this._decoder=new s;o.call(this,{decodeStrings:!1}),this.once("finish",function(){n.end(i.end())})}t.exports=i;var r=n(648),o=n(1289).Writable,s=n(1290).StringDecoder,a=n(248).Buffer;n(247)(i,o),i.prototype._write=function(t,e,n){t instanceof a&&(t=this._decoder.write(t)),this._parser.write(t),n()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=o({},(0,a.default)(t),{key:e});return"string"==typeof n.style||n.style instanceof String?n.style=(0,c.default)(n.style):delete n.style,n}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.default=r;var s=n(1299),a=i(s),l=n(1302),c=i(l)},function(t,e,n){"use strict";function i(t){return o.hasOwnProperty(t)||(o[t]=r.test(t)),o[t]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,o={}},function(t,e){},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=n(1),o=n.n(r),s=n(11),a=n.n(s),l=function(t){var e=t.icon;return o.a.createElement("i",{className:a()(i({icon:!0},e,!!e))})};e.a=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function n(t,e){function n(){o&&(o=!1,t()),s&&r()}function i(){m(n)}function r(){var t=Date.now();if(o){if(t-a<g)return;s=!0}else o=!0,s=!1,setTimeout(i,e);a=t}var o=!1,s=!1,a=0;return r}function i(t){return parseFloat(t)||0}function r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(e,n){return e+i(t["border-"+n+"-width"])},0)}function o(t){for(var e=["top","right","bottom","left"],n={},r=0,o=e;r<o.length;r++){var s=o[r],a=t["padding-"+s];n[s]=i(a)}return n}function s(t){var e=t.getBBox();return d(0,0,e.width,e.height)}function a(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return E;var s=S(t).getComputedStyle(t),a=o(s),c=a.left+a.right,u=a.top+a.bottom,h=i(s.width),p=i(s.height);if("border-box"===s.boxSizing&&(Math.round(h+c)!==e&&(h-=r(s,"left","right")+c),Math.round(p+u)!==n&&(p-=r(s,"top","bottom")+u)),!l(t)){var f=Math.round(h+c)-e,m=Math.round(p+u)-n;1!==Math.abs(f)&&(h-=f),1!==Math.abs(m)&&(p-=m)}return d(a.left,a.top,h,p)}function l(t){return t===S(t).document.documentElement}function c(t){return p?x(t)?s(t):a(t):E}function u(t){var e=t.x,n=t.y,i=t.width,r=t.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype);return w(s,{x:e,y:n,width:i,height:r,top:n,right:e+i,bottom:r+n,left:e}),s}function d(t,e,n,i){return{x:t,y:e,width:n,height:i}}var h=function(){function t(t,e){var n=-1;return t.some(function(t,i){return t[0]===e&&(n=i,!0)}),n}return"undefined"!=typeof Map?Map:function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(e,n){var i=t(this.__entries__,e);~i?this.__entries__[i][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,i=t(n,e);~i&&n.splice(i,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];t.call(e,r[1],r[0])}},e}()}(),p="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,f=function(){return void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")()}(),m=function(){return"function"==typeof requestAnimationFrame?requestAnimationFrame.bind(f):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),g=2,v=20,b=["top","right","bottom","left","width","height","size","weight"],y="undefined"!=typeof MutationObserver,_=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=n(this.refresh.bind(this),v)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},t.prototype.connect_=function(){p&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),y?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){p&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;b.some(function(t){return!!~n.indexOf(t)})&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),w=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},S=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||f},E=d(0,0,0,0),x=function(){return"undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof S(t).SVGGraphicsElement}:function(t){return t instanceof S(t).SVGElement&&"function"==typeof t.getBBox}}(),C=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=d(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=c(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),T=function(){function t(t,e){var n=u(e);w(this,{target:t,contentRect:n})}return t}(),k=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new h,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof S(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new C(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof S(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new T(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),O="undefined"!=typeof WeakMap?new WeakMap:new h,P=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=_.getInstance(),i=new k(e,n,this);O.set(this,i)}return t}();["observe","unobserve","disconnect"].forEach(function(t){P.prototype[t]=function(){var e;return(e=O.get(this))[t].apply(e,arguments)}});var I=function(){return void 0!==f.ResizeObserver?f.ResizeObserver:P}();e.default=I}.call(e,n(41))},function(t,e){function n(t,e){var n=0,i=t.length;for(n;n<i&&!1!==e(t[n],n);n++);}function i(t){return"[object Array]"===Object.prototype.toString.apply(t)}function r(t){return"function"==typeof t}t.exports={isFunction:r,isArray:i,each:n}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(1),r=n.n(i),o=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(t){var e=t.cond,n=t.children,i=1===r.a.Children.count(n)?[n,null]:r.a.Children.toArray(n),s=o(i,2),a=s[0],l=s[1];return e?a:l}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return h});var s=n(0),a=n.n(s),l=n(1),c=n.n(l),u=n(254),d=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=function(t){function e(t){i(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={screenClass:""},n.setScreenClass=n.setScreenClass.bind(n),n}return o(e,t),d(e,[{key:"componentWillMount",value:function(){this.setScreenClass()}},{key:"componentDidMount",value:function(){this.eventListener=a.a.debounce(this.setScreenClass,100),window.addEventListener("resize",this.eventListener)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.eventListener)}},{key:"setScreenClass",value:function(){this.setState({screenClass:Object(u.a)()})}},{key:"render",value:function(){return this.props.render(this.state.screenClass)}}]),e}(c.a.Component)},function(t,e,n){"use strict";var i=n(1),r=n.n(i),o=n(1330),s=(n.n(o),function(t){var e=t.children,n=t.className,i=void 0===n?"":n,o=t.style,s=void 0===o?"primary":o,a=t.icon,l=t.type,c=void 0===l?"button":l,u=t.disabled,d=t.onClick;return r.a.createElement("button",{className:"btn btn-"+s+" settings-button "+i,onClick:d,type:c,disabled:u},a&&r.a.createElement("span",{className:"settings-button__icon"},a),e)});e.a=s},function(t,e,n){"use strict";function i(t){return"symbol"==typeof t||Object(a.a)(t)&&Object(s.a)(t)==l}function r(t){if("number"==typeof t)return t;if(c(t))return u;if(Object(o.a)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Object(o.a)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(d,"");var n=p.test(t);return n||f.test(t)?m(t.slice(2),n?2:8):h.test(t)?u:+t}var o=n(359),s=n(644),a=n(646),l="[object Symbol]",c=i,u=NaN,d=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,f=/^0o[0-7]+$/i,m=parseInt;e.a=r},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(122),o=n(2),s=n(40);n(0);i.exports={connect:function(t){window.plugins.googleplus.trySilentLogin({webClientId:window._app.settings.getSocialLoginGoogleClientId()},function(t){r.makeExternalAuth(t.idToken,"google",s.registrationSource.GOOGLE_CONNECT).then(function(){return r.saveSelectedAuthMethod("google")}).then(function(){return o.trigger("login:external:success")})},function(t){}),t[0].onclick=function(){window.plugins.googleplus.login({webClientId:window._app.settings.getSocialLoginGoogleClientId()},function(t){r.makeExternalAuth(t.idToken,"google",s.registrationSource.GOOGLE_CONNECT).then(function(){return r.saveSelectedAuthMethod("google")}).then(function(){return o.trigger("login:external:success")})},function(t){})}},logout:function(){try{window.plugins.googleplus.logout(function(){})}catch(t){}}}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(122),s=n(2),a=n(40),l=n(0);i.exports={connect:function(t){function e(){var t=l.template(n(127)),e=r(".form .error-block");e.html(t({errors:[[__("extrenal.auth.ff.incognito.warning")]]})),e.css("display","block")}t.on("click",function(){l.isNil(window.facebookConnectPlugin)||window.facebookConnectPlugin.login(["public_profile"],function(t){"connected"===t.status?o.makeExternalAuth(t.authResponse.accessToken,"facebook",a.registrationSource.FACEBOOK_CONNECT).then(function(){return o.saveSelectedAuthMethod("facebook")}).then(function(){return s.trigger("login:external:success")}):e()},function(t){e()})})},logout:function(){l.isNil(window.facebookConnectPlugin)||window.facebookConnectPlugin.getLoginStatus(function(t){t&&"connected"===t.status&&window.facebookConnectPlugin.logout(function(){})})}}}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(122),o=n(2),s=n(40);i.exports={connect:function(t){o.onEvent("app:social:onetap:init:finish",function(){window.googleyolo&&googleyolo.hint({supportedAuthMethods:["https://accounts.google.com"],supportedIdTokenProviders:[{uri:"https://accounts.google.com",clientId:window._app.settings.getSocialLoginGoogleClientId()}]}).then(function(t){var e=t.idToken;r.makeExternalAuth(e,"google",s.registrationSource.GOOGLE_ONE_TAP).then(function(){return r.saveSelectedAuthMethod("tap")}).then(function(){return o.trigger("login:external:success")})},function(t){}).catch(function(t){})})},logout:function(){window.googleyolo&&googleyolo.disableAutoSignIn().then(function(){})}}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){"use strict";n.d(e,"g",function(){return i}),n.d(e,"i",function(){return r}),n.d(e,"h",function(){return o}),n.d(e,"d",function(){return s}),n.d(e,"f",function(){return a}),n.d(e,"e",function(){return l}),n.d(e,"p",function(){return c}),n.d(e,"r",function(){return u}),n.d(e,"q",function(){return d}),n.d(e,"s",function(){return h}),n.d(e,"u",function(){return p}),n.d(e,"t",function(){return f}),n.d(e,"y",function(){return m}),n.d(e,"A",function(){return g}),n.d(e,"z",function(){return v}),n.d(e,"v",function(){return b}),n.d(e,"x",function(){return y}),n.d(e,"w",function(){return _}),n.d(e,"a",function(){return w}),n.d(e,"c",function(){return S}),n.d(e,"b",function(){return E}),n.d(e,"m",function(){return x}),n.d(e,"o",function(){return C}),n.d(e,"n",function(){return T}),n.d(e,"j",function(){return k}),n.d(e,"l",function(){return O}),n.d(e,"k",function(){return P}),n.d(e,"E",function(){return I}),n.d(e,"B",function(){return A}),n.d(e,"D",function(){return M}),n.d(e,"C",function(){return N});var i="settings/CHECK_BLOGGERS_ENABLED",r="settings/CHECK_BLOGGERS_ENABLED_SUCCESS",o="settings/CHECK_BLOGGERS_ENABLED_ERROR",s="settings/CHECK_ANALYSTS_ENABLED",a="settings/CHECK_ANALYSTS_ENABLED_SUCCESS",l="settings/CHECK_ANALYSTS_ENABLED_ERROR",c="settings/CHECK_HEDGEFUNDS_ENABLED",u="settings/CHECK_HEDGEFUNDS_ENABLED_SUCCESS",d="settings/CHECK_HEDGEFUNDS_ENABLED_ERROR",h="settings/CHECK_INSIDERS_ENABLED",p="settings/CHECK_INSIDERS_ENABLED_SUCCESS",f="settings/CHECK_INSIDERS_ENABLED_ERROR",m="settings/CHECK_NEWS_SENTIMENT_ENABLED",g="settings/CHECK_NEWS_SENTIMENT_ENABLED_SUCCESS",v="settings/CHECK_NEWS_SENTIMENT_ENABLED_ERROR",b="settings/CHECK_NEWS_FEED_ENABLED",y="settings/CHECK_NEWS_FEED_SUCCESS",_="settings/CHECK_NEWS_FEED_ERROR",w="settings/CHECK_ACUITY_NEWS_SENTIMENT_ENABLED",S="settings/CHECK_ACUITY_NEWS_SENTIMENT_ENABLED_SUCCESS",E="settings/CHECK_ACUITY_NEWS_SENTIMENT_ENABLED_ERROR",x="settings/CHECK_EVENTS_AND_TRADE_ENABLED",C="settings/CHECK_EVENTS_AND_TRADE_SUCCESS",T="settings/CHECK_EVENTS_AND_TRADE_ENABLED_ERROR",k="settings/CHECK_CUSTOMER_LEVELS_ENABLED",O="settings/CHECK_CUSTOMER_LEVELS_SUCCESS",P="settings/CHECK_CUSTOMER_LEVELS_ERROR",I="settings/SET_SETTINGS",A="settings/SAVE_SETTINGS_BY_KEY",M="settings/SAVE_SETTINGS_BY_KEY_SUCCESS",N="settings/SAVE_SETTINGS_BY_KEY_ERROR"},function(t,e,n){var i;void 0!==(i=function(t,e,n){var i={100:{id:100,localizationKey:"analyst_recommendations",isGroup:!0,children:[11,12,13]}};n.exports=i}.call(e,n,e,t))&&(t.exports=i)},,function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=(n(2),r.template(n(1359))),s=n(51),a=n(1),l=n(16),c=n(1361),u=s.extend({initialize:function(t){s.prototype.initialize.apply(this,arguments),this.onOK=t.onOK,this.render(),l.render(a.createElement(c,{onSubmit:this.onSubmit.bind(this),btnText:t.btnText,texts:t.texts}),this.$el.find(".marketsX-popup-confirm")[0])},render:function(){s.prototype.render.call(this),this.$el.find(".popup-content").addClass("marketsX-content"),this.setContent(o())},close:function(){this.unmount(),s.prototype.close.call(this)},onSubmit:function(){this.close(),this.onOK()},unmount:function(){l.unmountComponentAtNode(this.$el.find(".marketsX-popup-confirm")[0])}});i.exports=u}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(51),s=n(7),a=o.extend({getOptions:function(t){var e=this;return r.extend({},r.result(o.prototype,"getOptions"),{parent:document.body,confirmCaption:__("marketsX.popup.change_view.text.part1"),confirmMessage:__("marketsX.popup.change_view.text.part2"),confirmOKBtnText:__("yes"),confirmCancelBtnText:__("actions.close"),onOK:function(){return e.onSuccess()}},t)},initialize:function(t){o.prototype.initialize.apply(this,arguments),this.render(t),this.onSuccess=this.onSuccess.bind(this,t)},onSuccess:function(t){s.getUserCommonData().saveTradingViewMode("advanced").then(t.onSuccess).catch(t.onSuccess)}});i.exports=a}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n.n(i),o=n(277),s=n.n(o),a=n(252),l=n(251),c=n(259),u=n(7),d=n.n(u),h=function(){var t=d.a.getUserCommonData(),e={dots:!0,autoplaySpeed:5e3,nextArrow:r.a.createElement(l.a,{icon:"icon-marketsX-popup-arrow-right-"+t.getAppTheme(),arrowClass:null}),prevArrow:r.a.createElement(a.a,{icon:"icon-marketsX-popup-arrow-left-"+t.getAppTheme(),arrowClass:null})};return r.a.createElement("div",{className:"marketsX-slider"},r.a.createElement(s.a,e,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(c.a,{icon:"icon-marketsX-popup-pricing"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.premiumPricing.title")),r.a.createElement("span",null,__("marketsX.popup.features.lists.premiumPricing.description")))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(c.a,{icon:"icon-marketsX-popup-support"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.bespokeSupport.title")),r.a.createElement("span",null,__("marketsX.popup.features.lists.bespokeSupport.description")))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(c.a,{icon:"icon-marketsX-popup-news"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.exclusiveTools.title")),r.a.createElement("span",null,__("marketsX.popup.features.lists.exclusiveTools.description")))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(c.a,{icon:"icon-marketsX-popup-tools"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.marketsKnowledgeCentre.title")),r.a.createElement("span",null,__("marketsX.popup.features.lists.marketsKnowledgeCentre.description"))))))};e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"NO_MODE",function(){return i}),n.d(e,"CLOSE_ONLY_MODE",function(){return r}),n.d(e,"LONG_ONLY_MODE",function(){return o}),n.d(e,"SHORT_ONLY_MODE",function(){return s}),n.d(e,"FULL_MODE",function(){return a});var i="NO",r="CLOSE_ONLY",o="LONG_ONLY",s="SHORT_ONLY",a="FULL"},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(17),o=n(677),s=o.loadInstrumentBasketsData,a=r.Model.extend({defaults:{baskets:[]},initialize:function(){r.Model.prototype.initialize.apply(this,arguments)},load:function(){var t=this;return store.dispatch(s()).then(function(e){return t.set("baskets",e)})},getBaskets:function(){return this.get("baskets")},getBasketData:function(t){for(var e=this.get("baskets"),n=e.length-1;n>=0;n--)if(e[n].instrumentSymbol===t)return e[n];return!1},getInstrumentStartTime:function(){return this.get("instrumentStartTime")||!1}});i.exports=new a}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e){return t.instrumentWeight<e.instrumentWeight?1:t.instrumentWeight>e.instrumentWeight?-1:t.displayName>e.displayName?1:t.displayName<e.displayName?-1:0}function o(t){for(var e=[].concat(i(t)),n=e.length-1;n>=0;n--)e[n].instruments=e[n].instruments.sort(r);return e}function s(){return{types:[a.a,a.c,a.b],callApi:function(){return c.a.loadInstrumentBasketsData().then(function(t){return t.data}).then(function(t){return o(t)}).catch(function(){return Promise.resolve([])})}}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(364),l=n(6),c=n.n(l);e.loadInstrumentBasketsData=s},function(t,e,n){"use strict";n.d(e,"f",function(){return i}),n.d(e,"n",function(){return r}),n.d(e,"m",function(){return o}),n.d(e,"q",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"i",function(){return l}),n.d(e,"d",function(){return c}),n.d(e,"r",function(){return u}),n.d(e,"z",function(){return d}),n.d(e,"A",function(){return h}),n.d(e,"h",function(){return p}),n.d(e,"c",function(){return f}),n.d(e,"w",function(){return m}),n.d(e,"k",function(){return g}),n.d(e,"y",function(){return v}),n.d(e,"u",function(){return b}),n.d(e,"e",function(){return y}),n.d(e,"a",function(){return _}),n.d(e,"x",function(){return w}),n.d(e,"g",function(){return S}),n.d(e,"l",function(){return E}),n.d(e,"p",function(){return x}),n.d(e,"t",function(){return C}),n.d(e,"s",function(){return T}),n.d(e,"j",function(){return k}),n.d(e,"v",function(){return O}),n.d(e,"o",function(){return P});var i="ui/INIT_APP_UI",r="ui/SELECT_INSTRUMENT_CATEGORY_TREE_PATH",o="ui/SELECT_INSTRUMENT_CATEGORY_SYMBOL",s="ui/SET_INSTRUMENT_DETAILS_SYMBOL",a="ui/CLEAR_INSTRUMENT_DETAILS_SYMBOL",l="ui/OPEN_INSTRUMENT_DETAILS",c="ui/CLOSE_INSTRUMENT_DETAILS",u="ui/SET_SECTION",d="ui/UPDATE_HEADER",h="ui/UPDATE_INSTRUMENT_CATEGORY_SYMBOLS",p="ui/OPEN_ASIDE_BOX",f="ui/CLOSE_ASIDE_BOX",m="ui/TOGGLE_ASIDE_BOX",g="ui/RESIZE_CHART",v="ui/UPDATE_CHART_STATE",b="ui/SHOW_CHART",y="ui/HIDE_CHART",_="ui/CHANGE_INSTRUMENT_INFO_VISIBILITY",w="ui/UPDATE_CATEGORY_SECTIONS",S="ui/NAVIGATE_BY_SELECTED_CATEGORY_PATH",E="ui/SELECT_FIRST_SYMBOL_IN_SYMBOL_LIST",x="ui/SELECT_TAB_IN_INSTRUMENT_DETAILS",C="ui/SHOULD_INSTRUMENT_BE_CENTERED",T="ui/SET_SYMBOLS_SORT",k="ui/RESET_SYMBOLS_SORT",O="ui/SORT_SELECTED_CATEGORY_SYMBOLS",P="ui/SELECT_INSTRUMENT_NEWS_ID"},,,function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"d",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"e",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"f",function(){return l}),n.d(e,"i",function(){return c}),n.d(e,"h",function(){return u}),n.d(e,"a",function(){return d});var i="commentariesReducer/LOAD_COMMENTARIES",r="commentariesReducer/LOAD_COMMENTARIES_SUCCESS",o="commentariesReducer/LOAD_COMMENTARIES_ERROR",s="commentariesReducer/LOAD_COMMENTARY",a="commentariesReducer/LOAD_COMMENTARY_SUCCESS",l="commentariesReducer/LOAD_COMMENTARY_ERROR",c="commentariesReducer/SELECT_COMMENTARY",u="commentariesReducer/OPEN_COMMENTARY_PAGE",d="commentariesReducer/CLOSE_COMMENTARY_PAGE"},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"g",function(){return s}),n.d(e,"f",function(){return a}),n.d(e,"e",function(){return l}),n.d(e,"d",function(){return c});var i="education/LOAD_EDUCATION",r="educationReducer/LOAD_EDUCATION_SUCCESS",o="educationReducer/LOAD_EDUCATION_ERROR",s="educationReducer/SELECT_URL",a="educationReducer/SELECT_GROUP",l="educationReducer/SAVE_URL",c="educationReducer/SAVE_GROUP"},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r});var i=function(){return localStorage.getItem("Education")?JSON.parse(localStorage.getItem("Education")):{}},r=function(t){return localStorage.setItem("Education",JSON.stringify(t))}},function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"d",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s});var i="deepLinks/SAVE_DEEP_LINKS",r="deepLinks/UPDATE_DEEP_LINKS",o="deepLinks/CLEAR_DEEP_LINKS",s="deepLinks/CLEAR_DEEP_LINK_PARAM"},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"d",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"e",function(){return l}),n.d(e,"a",function(){return c});var i="account-settings-platform-features/LOAD_TIMEZONE_LIST",r="account-settings-platform-features/LOAD_TIMEZONE_LIST_SUCCESS",o="account-settings-platform-features/LOAD_TIMEZONE_LIST_ERROR",s="account-settings-platform-features/STATUS_LOADING",a="account-settings-platform-features/STATUS_SUCCESS",l="account-settings-platform-features/STATUS_ERROR",c="account-settings-platform-features/IS_RELOAD_NEEDED"},function(t,e,n){"use strict";n.d(e,"f",function(){return i}),n.d(e,"d",function(){return r}),n.d(e,"m",function(){return o}),n.d(e,"o",function(){return s}),n.d(e,"n",function(){return a}),n.d(e,"g",function(){return l}),n.d(e,"l",function(){return c}),n.d(e,"k",function(){return u}),n.d(e,"h",function(){return d}),n.d(e,"j",function(){return h}),n.d(e,"i",function(){return p}),n.d(e,"a",function(){return f}),n.d(e,"u",function(){return m}),n.d(e,"t",function(){return g}),n.d(e,"s",function(){return v}),n.d(e,"v",function(){return b}),n.d(e,"x",function(){return y}),n.d(e,"w",function(){return _}),n.d(e,"b",function(){return w}),n.d(e,"p",function(){return S}),n.d(e,"r",function(){return E}),n.d(e,"q",function(){return x}),n.d(e,"z",function(){return C}),n.d(e,"y",function(){return T}),n.d(e,"c",function(){return k}),n.d(e,"e",function(){return O});var i="acuity/ACUITY_INIT",r="acuity/ACUITY_DEINIT",o="acuity/ACUITY_LOAD_CLASSES",s="acuity/ACUITY_LOAD_CLASSES_SUCCESS",a="acuity/ACUITY_LOAD_CLASSES_ERROR",l="acuity/ACUITY_LOAD_ALERTS",c="acuity/ACUITY_LOAD_ALERTS_SUCCESS",u="acuity/ACUITY_LOAD_ALERTS_ERROR",d="acuity/ACUITY_LOAD_ALERTS_BY_SYMBOL",h="acuity/ACUITY_LOAD_ALERTS_BY_SYMBOL_SUCCESS",p="acuity/ACUITY_LOAD_ALERTS_BY_SYMBOL_ERROR",f="acuity/ACUITY_APPLY_FILTER",m="acuity/ACUITY_SELECT_CLASS",g="acuity/ACUITY_SELECT_ALERT",v="acuity/ACUITY_RESET_SELECTED_INSTRUMENTS",b="acuity/ACUITY_SELECT_INSTRUMENTS",y="acuity/ACUITY_SELECT_LEVEL_OF_CONFIDENCE",_="acuity/ACUITY_SELECT_INTERVAL",w="acuity/ACUITY_CLEAN_SENTIMENT",S="acuity/ACUITY_LOAD_SENTIMENT",E="acuity/ACUITY_LOAD_SENTIMENT_SUCCESS",x="acuity/ACUITY_LOAD_SENTIMENT_ERROR",C="acuity/ACUITY_TOGGLE_ROW",T="acuity/ACUITY_SELECT_NEWS_ID",k=2,O=1},function(t,e,n){(function(i){var r,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};void 0!==(r=function(t,e,i){var r=n(0);i.exports=function(){function t(){u=!0;var t=document.body.style;this.oldPointerEventsStyle=t["pointer-events"],t["pointer-events"]="none"}function e(){u=!1,document.body.style["pointer-events"]=this.oldPointerEventsStyle,r.isFunction(a.onEnd)&&a.onEnd(c)}function n(t){t.stopPropagation(),c.endY=t.screenY,c.endX=t.screenX,c.distanceY=c.startY-c.endY,c.distanceX=c.startX-c.endX,c.dirX=c.distanceX-c.prevDistanceX,c.dirY=c.distanceY-c.prevDistanceY,c.prevDistanceX=c.distanceX,c.prevDistanceY=c.distanceY,r.isFunction(a.onDrag)&&a.onDrag(c)}function i(t){e(),document.removeEventListener("mouseup",i,l),document.removeEventListener("mousemove",n,l),t.stopPropagation()}function s(e){t(),document.addEventListener("mouseup",i,l),document.addEventListener("mousemove",n,l),e.preventDefault(),e.stopPropagation()}var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l={capture:!0},c={},u=!1;return{start:function(t){s(t);var e=r.isFunction(a.onStart)?a.onStart(c):c,n={startY:t.screenY,startX:t.screenX,prevDistanceX:0,prevDistanceY:0};c=o({},n,e)},isStarted:function(){return u}}}}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(114),s=r.template(n(1382)),a={checked:!1,template:s,disable:!1,onText:"",offText:"",title:"",name:r.uniqueId("unknown-checkbox-")};i.exports=o.extend({initialize:function(t){t=r.extend({},r.extend({},a),t),o.prototype.initialize.apply(this,arguments)},getHtmlTemplate:function(){var t=r.extend({},this.options);return t.template?t.template(r.pick(t,["name","disable","checked","onText","offText","title"])):""}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(76),o=n(0),s=r.extend({events:function(){return o.extend({},o.result(r.prototype,"events"),{"mousedown .actions .action-plus":"onPlus","mouseup .actions .action-plus":"onStop","mouseout .actions .action-plus":"onStop","mousedown .actions .action-minus":"onMinus","mouseup .actions .action-minus":"onStop","mouseout .actions .action-minus":"onStop","input .input input":"onInputChange"})},initialize:function(t){r.prototype.initialize.apply(this,arguments),this.setOptions({maxSymbolInField:9}),this.setName(this.$el.find("input").attr("name")),this.$el.find(".input > input")[0].onfocus=this.onFocus.bind(this),this.options.spead=125},disable:function(){return this.setState({disabled:!0,pristine:!0,prevValue:null,minusDisabled:!1,plusDisabled:!1}),this},onDependentFieldChanged:function(t){t.value()?this.enable():this.disable()},update:function(){this.state.disabled?this.disableElement():this.enableElement(),this.state.plusDisabled?(this.$el.find(".actions .action-plus").attr("disabled",!0),this.options.repeat&&this.onStop()):this.$el.find(".actions .action-plus").removeAttr("disabled"),this.state.minusDisabled?(this.$el.find(".actions .action-minus").attr("disabled",!0),this.options.repeat&&this.onStop()):this.$el.find(".actions .action-minus").removeAttr("disabled")},onPlus:function(t){var e=this,n=function(){var t=parseFloat(e.value()),n=e.options.max;o.isNaN(t)&&(t=0),t+=e.options.step,o.isNumber(n)&&t>n&&(t=n),t=Number(t).toFixed(e.options.precision),e.value(t),e.validateButtons(),e.validate(),e.trigger("change",e)};this.options.repeat&&this.onStop(),this.setState({pristine:!1}),this.state.plusDisabled||this.isDisabled()||function(){n(),e.options.repeat=setInterval(n,e.options.spead)}()},onMinus:function(t){var e=this,n=function(){var t=parseFloat(e.value()),n=e.options.min;o.isNaN(t)||(t-=e.options.step,o.isNumber(n)&&t<n&&(t=n),t=Number(t).toFixed(e.options.precision),e.value(t),e.validateButtons(),e.validate(),e.trigger("change",e))};this.options.repeat&&this.onStop(),this.setState({pristine:!1}),this.state.minusDisabled||this.isDisabled()||function(){n(),e.options.repeat=setInterval(n,e.options.spead)}()},onStop:function(){clearTimeout(this.options.repeat)},onFocus:function(t){return this.setState({pristine:!1}),this.trigger("focus",this),this},validateButtons:function(){var t=parseFloat(this.value());o.isNumber(this.options.max)&&t>=this.options.max?this.setState({plusDisabled:!0}):this.setState({plusDisabled:!1}),o.isNumber(this.options.min)&&t<=this.options.min?this.setState({minusDisabled:!0}):this.setState({minusDisabled:!1})},disableElement:function(){this.$el.addClass("field-disabled"),this.$el.find("input").attr("disabled",!0),this.$el.find(".actions .action-plus").attr("disabled",!0),this.$el.find(".actions .action-minus").attr("disabled",!0),this.hideTooltip()},enableElement:function(){this.$el.removeClass("field-disabled"),this.$el.find("input").removeAttr("disabled")},onInputChange:function(){var t=this.value(),e=this.$el.find("input")[0],n=e.selectionStart;t=this.filter(this.options.filter,t),o.isNumber(this.options.max)&&t>this.options.max?this.value(this.options.max):this.value(t),this.changeQuantitySymbols(n),this.validate(),this.validateButtons(),this.trigger("change",this)},getDefaultOptions:function(){return{min:null,max:null,step:1,precision:0,filter:"number"}},changeQuantitySymbols:function(t){var e=this.value(),n=this.$el.find("input")[0];if(!e)return void this.value(Number(0).toFixed(this.options.precision));if("."!==e.charAt(e.length-1)){var i=e.toString().split("."),r=this.getOption("maxSymbolInField");i[0].length>r&&(i[0]=i[0].substring(0,r-1)+i[0].charAt(r)),i[1]&&i[1].length>this.options.precision&&(i[1]=i[1].substring(0,this.options.precision)),e=(i[1]?Number(i.join(".")):Number(i[0])).toFixed(this.options.precision),this.value(e),Number(i[0]).toString().length<i[0].length&&i[0].length===t&&(t=Number(i[0]).toString().length),this.setCaretPosition(n,t)}},setCaretPosition:function(t,e){if(t.setSelectionRange)t.focus(),t.setSelectionRange(e,e);else if(t.createTextRange){var n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}},value:function(t){var e=this.$el.find("input");return void 0===t?e.val():o.isNaN(Number(t))?void e.val(this.options.prevValue):(this.options.prevValue=t,void e.val(t))}});i.exports=s}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,o){var s=n(217),a=n(86),l=n(52).insertAt,c=s.extend({events:function(){return i.extend({},i.result(s.prototype,"events"),{"click .dk-option":"onChangeList"})},initialize:function(){this.$input=this.$el.find("input"),this.$select=this.$el.find("select"),s.prototype.initialize.apply(this,arguments),this.$input[0].onfocus=this.onFocus.bind(this),this.$input[0].onblur=this.onBlur.bind(this),i.isEmpty(this.phoneInput())&&(this.phoneInput(this.getDefaultValue().input),this.phoneSelect(this.getDefaultValue().select))},getDefaultOptions:function(){return i.extend({},i.result(s.prototype,"getDefaultOptions"),{filterFunction:function(t,e){return t.find(".select-country")[0].textContent.toLowerCase().trim().startsWith(e)||t.find(".select-code")[0].textContent.toLowerCase().trim().startsWith(e)},getValueFunction:function(t){return'<span class="'+t.find("span:first-child").attr("class")+'"></span>'+t.find(".select-code").html()}})},phoneInput:function(t){return i.isUndefined(t)?this.$el.find("input").val():this.$el.find("input").val(t.replace("-",""))},phoneSelect:function(t){return i.isUndefined(t)?this.$el.find("select").val():this.$el.find("select").val(t)},validate:function(){var t=this.getFilters(),e=this.getRules(),n=new a(t,e),i={phone:this.phoneSelect()+this.phoneInput(),phoneSelect:this.phoneSelect(),phoneInput:this.phoneInput()};this.hideTooltip(),this.setDefaultState();var r=n.validate(i);return!1!==r&&this.fieldError(r),r},value:function(){return this.phoneSelect()+"-"+l(this.phoneInput(),2,"-")},onFocus:function(t){this.$el.removeClass("field-error"),this.hideTooltip()},onBlur:function(t){this.validate()?(this.$el.addClass("field-error"),this.showTooltip()):this.fieldVerified()},getDefaultValue:function(){return{input:this.$input.attr("default-value"),select:this.$select.attr("default-value")}},onChangeList:function(t){var e=r("SPAN"===t.target.nodeName?t.target.parentNode:t.target),n=this.$el.find(".dk-select");n.removeClass("dk-select-open-down").find(".dk-select-options").attr("aria-expanded",!1),n.find(".dk-selected").html(this.options.getValueFunction(e))[0].focus(),this.options.setValueFunction(n,e.attr("data-value")),this.fireChangeEvent(),this.executeCustomOnChange(t)}});o.exports=c}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,r){var o=n(76),s=n(5),a=o.extend({events:function(){return i.extend({},i.result(o.prototype,"events"),{"change input":"onChange"})},initialize:function(){o.prototype.initialize.apply(this,arguments),this.setName(this.$el.attr("name"));var t=this.getDefaultValue();t&&this.setChecked(t)},value:function(t){return t?(this.$("input[type=radio]").removeAttr("checked"),this.$("input.base").attr("checked","checked"),this.clear(),void this.setChecked(t)):this.getChecked()},clear:function(){i.find(this.$el.find("input[type=radio]"),function(t){return t.checked=!1})},getDefaultValue:function(){return this.$el.find(".radio-group-row").attr("default-value")},getChecked:function(){var t=i.find(this.$el.find("input[type=radio]"),function(t){return t.checked});return t?t.value:null},setChecked:function(t){var e=i.find(this.$el.find("input[type=radio]"),function(e){return e.value===(i.isArray(t)?t[0]:t)});e&&(e.checked=!0)},findByValue:function(t){return i.filter(this.$el.find("input[type=radio]"),function(e){return e.value===t})},findAll:function(){return this.$el.find("input[type=radio]")},enableByValue:function(t){i.each(this.findByValue(t),this.enableRadioElement,this)},disableByValue:function(t){i.each(this.findByValue(t),this.disableRadioElement,this)},enableAll:function(){i.each(this.findAll(),this.enableRadioElement,this)},disableAll:function(){i.each(this.findAll(),this.disableRadioElement,this)},disableRadioElement:function(t){s(t).attr("disabled",!0),s(t).parent().addClass("disabled")},enableRadioElement:function(t){s(t).removeAttr("disabled"),s(t).parent().removeClass("disabled")},getHtmlTemplate:function(){var t=this.options.template;return t?t(i.pick(this.options,["disable","name","tooltip","label","items"])):""}});r.exports=a}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){var i;void 0!==(i=function(t,e,n){n.exports={EMPTY:"EMPTY",SUBSCRIBE_FEED:"SUBSCRIBE_FEED",SUBSCRIBE_FEED_SUCCESS:"SUBSCRIBE_FEED_SUCCESS",SUBSCRIBE_FEED_ERROR:"SUBSCRIBE_FEED_ERROR",SUBSCRIBE_FEED_PENDING:"SUBSCRIBE_FEED_PENDING",WS_FEED_RECEIVED:"WS_FEED_RECEIVED",SUBSCRIBE_FEED_TIMEOUT:"SUBSCRIBE_FEED_TIMEOUT"}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"a",function(){return o});var i="hotjar/INIT",r="hotjar/INJECT",o="hotjar/CHANGE_VISIBILITY"},function(t,e,n){"use strict";function i(t){return{type:a.c,payload:t}}function r(t){return{type:a.d,payload:t}}function o(){return{type:a.a,payload:null}}function s(t){return{type:a.b,payload:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.setDeepLinks=i,e.updateDeepLinks=r,e.clearDeepLinks=o,e.clearDeepLinkParam=s;var a=n(684)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(2),s=n(6),a=n(13),l=n(15),c=n(9),u=n(137),d=n(1408),h=n(1410),p=n(1413),f=n(23),m=n(7),g=n(1414).LoginMessageType,v=n(368).LoginMessageActionType,b=a.extend({initialize:function(){this.setDisplayed(!1),this.listenTo(o,"user:login",this.onUserLogin)},onUserLogin:function(){c.isInternalCampaignMessageEnabled()&&!u.isDetected()&&this.isFirstTimeLoading()&&(this.applicationLoaded(),this.load())},isFirstTimeLoading:function(){var t=localStorage.getItem("_ftpl");return r.isUndefined(t)||r.isNull(t)},applicationLoaded:function(){localStorage.setItem("_ftpl",r.now())},load:function(){return s.loadLoginMessages(f.getCurrentLanguage(),l.mobile()?"indigo_mobile":"indigo_web",m.getUserCommonData().isFirstLogin()).then(this.loadLoginMessagesSuccess.bind(this))},loadLoginMessagesSuccess:function(t){var e=this,n=t.data;r.isEmpty(n)||(n.forEach(function(t){e.isActionUseless(t)||e.setMessage(t)}),this.display())},display:function(){this.hasMessage(g.TEXT)&&(this.viewBanner=new p({model:this,message:this.getMessage(g.TEXT)})),this.hasMessage(g.IMAGE)?this.view=new d({model:this,message:this.getMessage(g.IMAGE)}):this.hasMessage(g.HTML_PAGE)&&(this.view=new h({model:this,message:this.getMessage(g.HTML_PAGE)}))},isActionUseless:function(t){return c.isLive()&&t.type===v.SWITCH_ACCOUNT_TYPE_LIVE||c.isDemo()&&t.type===v.SWITCH_ACCOUNT_TYPE_DEMO},getMessage:function(t){return this.get("message_"+t)},setMessage:function(t){this.set("message_"+t.campaignContentType,t)},hasMessage:function(t){var e=this.getMessage(t);return!r.isEmpty(e)&&e.campaignContentType===t},hasPopupMessage:function(){return this.hasMessage(g.IMAGE)||this.hasMessage(g.HTML_PAGE)},isNotDisplayed:function(){return!this.get("displayed")},setDisplayed:function(t){this.set("displayed",t)},needShowLoginMessage:function(){return this.isNotDisplayed()&&this.hasPopupMessage()},interactEvent:function(t,e){return s.loginMessageInteract(t,e)}});i.exports=new b}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=(n(0),n(2)),o=n(24);i.exports=o.extend({popup_z_index:7005,_tabsInitialized:!1,initialize:function(t){o.prototype.initialize.apply(this,arguments),this.message=t.message,this.listenTo(r,"popup:stack:added",this.onPopupAdded),this.listenToOnce(r,"app:ready",function(){10===this.message.priority&&this.displayOnce(),this.listenTo(r,"router:change:tab",this.onTabChanged)}.bind(this)),this.listenToOnce(r,"login:message:show",this.startDelayedDisplayTimer)},displayOnce:function(){this.preRender(),this.canceled=!0,this.stopDelayedDisplayTimer()},startDelayedDisplayTimer:function(){this.canceled||(this.delayedDisplayTimer=setTimeout(this.preRender.bind(this),Math.max(0,this.message.delayedDisplay)))},onPopupAdded:function(t){t.ignorableByLoginMessage||this.cancelLoginMessage()},onTabChanged:function(){this._tabsInitialized?this.cancelLoginMessage():this._tabsInitialized=!0},cancelLoginMessage:function(){this.canceled=!0,this.stopDelayedDisplayTimer(),this.destroy()},stopDelayedDisplayTimer:function(){void 0!==this.delayedDisplayTimer&&(clearTimeout(this.delayedDisplayTimer),this.delayedDisplayTimer=void 0)},setDisplayed:function(){this.model.setDisplayed(!0)}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var r=n(12),o=n(5),s=n(0),a=n(70),l=n(282),c=s.template(n(1425)),u=n(132),d=["OPEN","CLOSE","LOW","HIGH","VOLUME"];i.exports=r.extend({events:function(){return s.extend({},s.result(r.prototype,"events"),{"click .fn-add-indicator":"addSettings","click .fn-remove-indicator":"removeSettings","click .fn-restore-indicator":"restoreDefaults","click .fn-collapse-indicator":"toggleCollapseSettings"})},className:"indicator-info-view",colorPickers:[],initialize:function(t){var e=t.parent,n=t.indicator,i=t.defaultIndicator;r.prototype.initialize.apply(this,arguments),this.parent=e,this.indicator=n,this.defaultIndicator=u(i),this.states=s.map(n,function(){return!1})},restoreDefaults:function(t){s.extend(this.indicator[t.currentTarget.dataset.index],u(this.defaultIndicator)),this.render()},isFull:function(){return this.indicator.length>=5},addSettings:function(){this.isFull()||(this.indicator.push(u(this.defaultIndicator)),this.states.push(!0),this.options.onAdd(this.indicator.length),this.render(!0))},removeSettings:function(t){this.indicator.splice(+t.currentTarget.dataset.index,1),this.states.splice(+t.currentTarget.dataset.index,1),this.options.onRemove(this.indicator.length),this.render()},toggleCollapseSettings:function(t){var e=o(t.currentTarget);e.toggleClass("collapsed");var n=o(e.closest(".indicator-settings-item"));n.toggleClass("active"),this.states[+t.currentTarget.dataset.index]=n.hasClass("active")},_initForm:function(){this.form=new a({el:this.$el.find(".form")}),s.each(this.form._fields,function(t){switch(t.$el.data().type){case"PERIOD_TYPE":t.setOptions({step:1,min:0,max:1e3});break;case"INTEGER_TYPE":t.setOptions({step:1,min:-1e3,max:1e3});break;case"DOUBLE_TYPE":t.setOptions({step:.1,min:-1e3,max:1e3,precision:1});break;case"PRICE_FIELD_TYPE":break;case"LINEAR_TYPE":t.setOptions({step:1,min:1,max:5});break;default:t.setOptions({step:1,min:1,max:5})}this.listenTo(this.form,"field:change:"+t.getName(),this.onFieldChange)},this),this._initColorPickers()},_initColorPickers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".field-color";this.colorPickers=[];var e=this.$el.find(t);s.each(e,function(t){var e=new l({el:t,container:o("#indicator-info-container")});this.listenTo(e,"change",this.onFieldColorChange),this.colorPickers.push(e)},this)},render:function(t){var e=this.$el.find(".indicator-settings-list")[0]?this.$el.find(".indicator-settings-list")[0].scrollTop:0;this.$el.html(c({indicators:this.indicator,hasSettings:this.indicator.length>1,priceOptions:d,localize:this._localize,isFull:this.isFull(),states:this.states})),o(this.parent).html(this.el),this.$el.find(".indicator-settings-list")[0].scrollTop=t?this.$el.find(".indicator-settings-list")[0].scrollHeight:e,this._initForm(),this._initScrollHandler()},_localize:function(t,e){t=t.toLowerCase();var n=__(t);return n===t?e:n},_initScrollHandler:function(){this._scrollHandlerWrapper=this._scrollHandler.bind(this),this.$el.find(".indicator-settings-list").on("scroll",this._scrollHandlerWrapper)},_destroyScrollHandler:function(){this.$el.find(".indicator-settings-list").off("scroll",this._scrollHandlerWrapper),this._scrollHandlerWrapper=null},_scrollHandler:function(){s.each(this.colorPickers,function(t){return t.updatePosition()})},onFieldChange:function(t){var e=t.$el.data();this.indicator[e.indicator][e.category][e.index][e.field]=t.value(),this.options.onChange()},onFieldColorChange:function(t){var e=t.$el.data();this.indicator[e.indicator].lines[e.line].colors[e.index]=t.value(),this.options.onChange()},destroy:function(){this._destroyScrollHandler(),r.prototype.destroy.call(this)}})}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(13),o=n(1431),s=n(0),a=n(1433),l=a.EMPTY,c=a.SUCCESS,u=r.extend({defaults:function(){return{events:"",status:l}},status:function(t){var e=this;return function(n,i){var r={};r[t]=n,e.set(s.extend({},i,r))}},load:function(){this.status("status")(c,{events:o})},getData:function(){return this.get("data")}});i.exports=new u}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){function r(){this._queues={}}var o=n(0),s=o.negate(o.isEmpty);r.prototype._getSortedQueues=function(){return o.chain(this._queues).keys().sort(function(t,e){return parseInt(e)-parseInt(t)}).map(function(t){return this._queues[t]},this).value()},r.prototype.push=function(t){this._queues[t.level]=this._queues[t.level]||[],this._queues[t.level].push(t)},r.prototype.pop=function(){var t=o.find(this._getSortedQueues(),s);if(!o.isEmpty(t))return t.shift()},r.prototype.removeById=function(t){t&&o.some(this._queues,function(e){var n=o.findIndex(e,function(e){return e._id===t});return!(n<0)&&(e.splice(n,1),!0)})},i.exports=r}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){function r(t){return s({emitter:h,events:t,conditions:c,handlers:o.extend({},u,d),onBanner:function(t){p.getUserAwardsModel().ready(function(e){var n=[],i=p.getUserCurrencySymbol();switch(t){case"R":n=[i,e.getFullRegistrationBonus(p.getUserCurrency())];break;case"DEPOSIT_BONUS":n=[i,e.getPopularDeposit(i),i,e.getPopularDepositBonus(i)];break;case"Q":n=[i,e.getQuizAsicBonus()];break;case"U":n=[i,e.getVerifiedIdBonus(i)+e.getVerifiedResidenceBonus(i)];break;case"dummy":return h.trigger("ui:banner-dummy")}var r=["state.machine.action.banner.name."+t].concat(n),o=__.apply(null,r);h.trigger("ui:banner",o)})}})}var o=n(0),s=n(1435),a=n(701),l=n(698),c=n(56),u=n(436),d=n(1436),h=n(2),p=n(7),f=null;l.on("change:events",function(t,e){try{f=r(a(e))}catch(t){}}),i.exports={event:function(t,e,n){f&&f.event(t,e,n)}}}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,n){function i(t){function e(){for(var t=T,e=T;!r();){var n=s(),i=b(n);switch(o(),i){case c:case u:t=i;break;case a:t=i,e=n+y(i);break;case m:case d:t=i;break;case g:t=i,e=n+_(v),o();break;case h:case p:t=i;break;case f:t=f,e=_(f),o();break;case E:t=E;break;case v:case l:continue}break}return!!t&&{type:t,value:e}}function n(e){var n=i-e;return t.substr(n<0?0:n,e)}var i=0,r=function(){return i>=t.length},o=function(){return++i},s=function(){return t[i]},b=function(t){for(var e in k){var n=k[e][0];if(n instanceof RegExp&&n.test(t)||n==t)return k[e][1]}throw new Error("[StateManagerLexer] Syntax error. Unexpected symbol: "+t)},y=function(t){for(var e=s(),n="";!r()&&t==b(e);n+=e,o(),e=s());return n},_=function(t){for(var e=s(),n="";!r()&&t!=b(e);n+=e,o(),e=s());return n};return{token:e,lastCodeSymbols:n}}function r(t){function e(t){return P.type==t&&(I(),!0)}function n(){var t=T;if([f,a].indexOf(P.type)<0)return A("expected <quote> or <alpha>");for(P.type==f&&(t=r().value,e(f));P.type===a;){var n=i(t).value;if(t=t===T?n:t+n,P.type===E){if(I(),!e(E)||P.type!=a)return A("bad OR("+k+") expression in "+(t+="|"+i(t).value));t+=k}}return O(S,t)}function i(t){if(P.type!=a)return A("expected ID but found "+P.type+" in "+t);var e=O(S,P.value);return I(),e}function r(){return P.type!=f?A('expected "'):O(C,P.value)}function o(){var t=[];if(P.type!=h)return A('expected "["');for(I();P&&P.type!=p;){if(P.type==f)t.push(r());else if(P.type!=m)return A("expected QUOTE or COMMA in array");I()}return P.type!=p?A('expected "]"'):O(x,t)}function s(){var t=n();try{var i=T;e(d),P.type==c&&(i=v()),P.type==h&&(i=o()),e(m),t.payload=i,I()}catch(e){throw new Error(e.message+"\n Block: "+t.value)}return O(_,t)}function l(){var t=[];for(I();P&&P.type!=u;)e(m)||e(g)||t.push(s());return O(w,t)}function v(){if(P.type!=c)return A('expected "{"');var t=l();return P.type!=u?A("expected }"):O(y,t)}var k="||",P=t.token(),I=function(){return P=t.token()},A=function(e){throw new Error("[StateManagerParser] Parser error: "+e+". "+t.lastCodeSymbols(50))};return O(b,v())}function o(t,e,n){function o(t){var e=t.kind,n=t.value,i=t.payload;switch(e){case b:case y:return o(n);case C:return n;case S:return[n,o(i)];case _:return o(n);case w:var r=[];for(var a in n)r.push(o(n[a]));return r;case x:for(var l=[],c=0;c<n.length;c++)l.push(n[c].value);return new s(l)}}var a=e||new i(t);return o(n||new r(a))}function s(t){this.data=t}var a="ID",l="SKIP",c="LBRA",u="RBRA",d="COLON",h="L_SQUARE_BRA",p="R_SQUARE_BRA",f="QUOTE",m="COMMA",g="COMMENT",v="EOL",b="PROGRAM",y="OBJECT",_="PROPERTY",w="PROPERTIES",S="KEY",E="V_LINE",x="ARRAY",C="STRING",T=null,k=[["\n",v],[/\w/,a],["{",c],["}",u],["[",h],["]",p],["'",f],[",",m],[".","DOT"],["/","SLASH"],["*","ASTERISK"],[":",d],["(","LPAR"],[")","RPAR"],["|",E],["#",g],[/\s/,l]],O=function(t,e,n){return{kind:t,value:e,payload:n}};s.prototype.getData=function(){return this.data},o.Parse=r,o.Lexer=i,o.Actions=s,n.exports=o}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=(n(0),n(2),n(13)),o=n(23),s=r.extend({getStockTicker:function(){return this.get("stockTicker")},getDescription:function(){return this.get("description")},getSymbol:function(){return this.get("symbol")},getStockPrice:function(){return this.get("stockPrice")},getStockDailyChangeAmount:function(){return this.get("stockDailyChangeAmount")},getStockDailyChangePercent:function(){return this.get("stockDailyChangePercent")},getStockDailyChangePercentDir:function(){return this.changeDirection(this.getStockDailyChangePercent())},getStockLast3MonthTrend:function(){return this.get("stockLast3MonthTrend")},getStockLast3MonthTrendAmount:function(){return this.get("stockLast3MonthTrendAmount")},getConfidenceSignalScore:function(){return this.get("confidenceSignalScore")},getTransactionSellCount:function(){return this.get("transactionSellCount")},getTransactionBuyCount:function(){return this.get("transactionBuyCount")},getTransactionDistinctInisdersCount:function(){return this.get("transactionDistinctInisdersCount")},getStockLast3MonthChangePercent:function(){return this.get("stockLast3MonthChangePercent")||0},getStockLast3MonthChangePercentDir:function(){return this.changeDirection(this.getStockLast3MonthChangePercent())},getLatestInsiderTransactionDateFormatted:function(){var t=new Date(this.get("latestInsiderTransactionDate")),e=o.splitByComma(__("calendar_monthNames"));return t.getDate()+" "+e[t.getMonth()]+", "+t.getFullYear()},getLatestInsiderTransactionDateDiff:function(){var t=new Date(this.get("latestInsiderTransactionDate")),e=new Date;return Math.round((e.getTime()-t.getTime())/864e5)},getStockLast3MonthChangeChartImg:function(){return this.get("stockLast3MonthChangeChartImg")},getTotalBuyAmount:function(){return this.get("totalBuyAmount")},getTotalSellAmount:function(){return this.get("totalSellAmount")},getDiscretionaryTransactions:function(){return this.get("discretionaryTransactions")},getUninformativeTransactions:function(){return this.get("uninformativeTransactions")},getStockLastYearTransactions:function(){return this.get("stockLastYearTransactions")},getStockLast3MonthTransactions:function(){return this.get("stockLast3MonthTransactions")},changeDirection:function(t){return t>0?"up":t<0?"down":"equally"}});i.exports=s}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){function i(t){return n(r(t))}function r(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./bloggers.popup.mobile.view":1457,"./bloggers.popup.view":1460};i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id=703},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=(n(0),n(13)),o=r.extend({defaults:function(){return{bloggerName:"",excessReturn:0,expertPictureUrl:"",firmName:"",goodRecommendations:0,numberOfBloggersRanked:0,rank:0,recommendation:"",recommendationDate:"",stars:0,stock:{numberOfBloggers:0,bullishRatio:0,bearishRatio:0,consensus:"",sectorName:"",sectorBullRatio:0,symbol:"",sites:[]},stockTicker:"",successRate:"",totalRecommendations:""}},getTicker:function(){return this.get("stockTicker")},getBloggerName:function(){return this.get("bloggerName")},getFirmName:function(){return this.get("firmName")},getBloggerStars:function(){return this.get("stars")},getBloggerRating:function(){return this.get("stars").toFixed(0)},getBloggerRatingStarsFill:function(){return 74*this.getBloggerStars()/5},getBloggerPicture:function(){return this.get("expertPictureUrl")&&"null"!=this.get("expertPictureUrl")?"https://az712682.vo.msecnd.net/expert-pictures/"+this.get("expertPictureUrl"):n(255)},getSymbol:function(){return this.get("stock").symbol},getName:function(){return this.get("instrument").get("name")},getSentiment:function(){return this.get("recommendation").toLowerCase()},getRecommendationDateDiff:function(){var t=new Date(this.get("recommendationDate")),e=new Date;return Math.round((e.getTime()-t.getTime())/864e5)},getBloggersNumber:function(){return this.get("stock").numberOfBloggers},getBullishRatio:function(){return 100*this.get("stock").bullishRatio+"%"},getBearishRatio:function(){return 100*this.get("stock").bearishRatio+"%"},getConsensus:function(){return this.get("stock").consensus},getOpinions:function(){return this.get("stock").sites}});i.exports=o}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i=n(116),r=n(0),o=n(9),s=n(96).WITHDRAW_METHOD,a=[];t.exports={getMethods:function(){return a.splice(0,a.length),r.each(Object.keys(s.properties),function(t){o.isWithdrawMethodEnabled(t)&&a.push(s.properties[t].instantiate())}),a},getMethodIdsAsArray:function(){return r.map(this.getMethods(),function(t){return t.getId()})},getMethodById:function(t){return r.find(this.getMethods(),function(e){return e.getId()==t})||new i}}},function(t,e,n){"use strict";function i(t){return m.a.mobile()?new x(t):new E(t)}function r(t){return new C(t)}function o(t){return new T(t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(809),a=n(12),l=n.n(a),c=n(16),u=n.n(c),d=n(8),h=n(1),p=n.n(h),f=n(15),m=n.n(f),g=n(159),v=n(118),b=Object(g.a)(function(){return n.e(1).then(n.bind(null,2877))}),y=Object(g.a)(function(){return n.e(0).then(n.bind(null,2878))}),_=function(t){return p.a.createElement("div",null,p.a.createElement(v.default,{minWidth:768},p.a.createElement(b,t)),p.a.createElement(v.default,{maxWidth:767},p.a.createElement(y,t)))},w=n(2),S=n.n(w),E=n(1503),x=n(1509),C=n(374),T=n(709),k=l.a.extend({initialize:function(t){l.a.prototype.initialize.apply(this,arguments),this.options=t,this.listenTo(S.a,"ui:header-itemclick",this.close),store.dispatch(Object(s.j)())},render:function(){l.a.prototype.render.call(this);var t=this.options;return u.a.render(p.a.createElement(d.Provider,{store:store},p.a.createElement(_,t)),this.el),this},close:function(){this.destroy()},destroy:function(){u.a.unmountComponentAtNode(this.el),l.a.prototype.destroy.call(this)}});e.default={initWebinarsView:k,initWebinarsPopupView:i,initWebinarView:r,initWebinarModel:o}},,function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(0),s=n(45),a=n(6),l=n(709),c=n(7),u=n(30),d=n(297),h=n(374),p=n(9),f={refreshTime:3e5,loadWebinars:function(){c.getUserWebinarsModel().load(),this.createLoadingView(),this.onLoadWebinarsSuccess()},onLoadWebinarsSuccess:function(){var t=this;c.getUserWebinarsModel().ready(function(e){p.checkWebinarsPremiumEnabled().then(function(n){t.createCollection(e,n),t.render(),t.destroyLoadingView()})})},createCollection:function(t,e){var n=this;this.upcoming_webinars=new s,this.past_webinars=new s;var i=o.filter(t.get("webinars"),function(t){return!t.isPremium||t.isPremium&&e});o.each(i,function(t){var e=new l(t);e.isUpcoming()?n.upcoming_webinars.add(e):o.isNull(e.getWebinarURL())||n.past_webinars.add(e)}),this.upcoming_webinars.comparator=function(t,e){return t.get("startTime")-e.get("startTime")},this.upcoming_webinars.sort(),this.past_webinars.comparator=function(t,e){return e.get("startTime")-t.get("startTime")},this.past_webinars.sort()},joinWebinar:function(t){var e=c.getUserData().getCrmboCustomer().id,n=o.find(this.upcoming_webinars.models,function(e){return e.getWebinarId()==t}),i=new h({parent:r("body"),webinar:n,startTime:Date.now(),onClose:function(){return i=null}});return this.close(),a.joinWebinar(e,t).then(function(t){if(t.data.error)return Promise.reject()})},registerWebinar:function(t){var e=c.getUserData().getCrmboCustomer().id,n=o.find(this.upcoming_webinars.models,function(e){return e.getWebinarId()==t}),i=!n.isRegistered();n.updateRegistration(i),this.$el.find('[data-id="'+t+'"]').find("span").html(i?__("webinars.unregister"):__("webinars.register"));var r=i?__("webinars.register.title"):__("webinars.unregister.title"),s=i?__("webinars.register.text"):__("webinars.unregister.text");return d.show({title:r,body:s}),a.registerWebinar(e,t,i).then(function(t){if(t.data.error)return Promise.reject()})},join:function(t){var e=r(t.currentTarget).attr("data-id");this.joinWebinar(e)},register:function(t){var e=r(t.currentTarget).attr("data-id");this.registerWebinar(e)},createLoadingView:function(){this.loadingView=new u({parent:r(".main-box"),position:"absolute"})},destroyLoadingView:function(){this.loadingView&&(this.loadingView.destroy(),this.loadingView=null)}};i.exports=f}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=(n(0),n(13)),o=n(3),s=n(9),a=n(68),l=n(10),c=l.MINUTE_IN_MILLISECONDS,u=r.extend({defaults:function(){return{id:null,title:"",description:"",presentor:{title:"",name:"",img:"",_cid:""},language:"EN",category:"",startTime:"",duration:60,url:"",img:"",historyVODUrl:"",isRegistered:!1,isJoined:!1,isPremium:!1}},getWebinarId:function(){return this.get("id")},getWebinarImg:function(){if(this.get("img"))return this.get("img");if(this.get("category"))try{return n(1504)("./"+this.get("category").toLowerCase().replace(/\W+/g,"_")+".png")}catch(t){}return n(858)},webinarIsPremium:function(){return this.get("isPremium")},getWebinarTime:function(){return this.isActive()?__("webinars.now"):o(this.get("startTime")).local().format("dddd, D MMM YYYY, h:mm a")},getWebinarStartTime:function(){return __("webinars.start.time")+": "+a.webinarStartTime(this.get("startTime"))},getWebinarGoogleCalendarLink:function(){return encodeURI(["https://www.google.com/calendar/render","?action=TEMPLATE","&text="+(this.getWebinarTitle()||""),"&dates="+(o(this.get("startTime")).format("YYYYMMDD[T]HHmmss")||""),"/"+(o(parseInt(this.get("startTime"))+this.getWebinarDuration()*c).format("YYYYMMDD[T]HHmmss")||""),"&details="+(this.getWebinarDescription()||""),"&location="+(window.location.href||""),"&sprop=&sprop=name:"].join(""))},getWebinarOutlookCalendarLink:function(){return encodeURI("data:text/calendar;charset=utf8,"+["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT","URL:"+window.location.href,"DTSTART:"+o(this.get("startTime")).format("YYYYMMDD[T]HHmmss"),"DTEND:"+o(parseInt(this.get("startTime"))+this.getWebinarDuration()*c).format("YYYYMMDD[T]HHmmss"),"SUMMARY:"+(this.getWebinarTitle()||""),"DESCRIPTION:"+(this.getWebinarDescription()||""),"END:VEVENT","END:VCALENDAR"].join("\n"))},getWebinarTitle:function(){return this.get("title")},getWebinarPresenterImg:function(){return this.get("presenter").img||n(857)},getWebinarPresenterName:function(){return this.get("presenter").name},getWebinarPresenterTitle:function(){return this.get("presenter").title},getWebinarDescription:function(){return this.get("description")},getWebinarLanguage:function(){return this.get("language").toLowerCase()},getWebinarDuration:function(){return this.get("duration")},isRegistered:function(){return this.get("isRegistered")},isJoined:function(){return this.get("isJoined")},isUpcoming:function(){var t=(new Date).getTime();return parseInt(this.get("startTime"))+this.getWebinarDuration()*c+s.getWebinarsActiveAdditionTime()>t},isActive:function(){var t=(new Date).getTime(),e=parseInt(this.get("startTime")),n=this.getWebinarDuration()*c,i=s.getWebinarsActiveAdditionTime(),r=s.getWebinarsPreActiveAdditionTime();return(e<t||e-r<t)&&e+n+i>t},updateRegistration:function(t){this.set("isRegistered",t)},getWebinarURL:function(){return this.isActive()?this.get("url"):this.get("historyVODUrl")||null}});i.exports=u}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(51),s=n(7),a=n(6),l=n(2),c=n(9),u=n(10),d=u.PENDING,h=r.template(n(1512)),p=o.extend({ui:{content:".content",checkbox:"#checkbox"},events:function(){return r.extend({},r.result(o.prototype,"events"),{"click #checkbox":"onCheck"})},initialize:function(t){o.prototype.initialize.apply(this,arguments),this.$el.addClass("hidden"),this.listenTo(this.model,"change:statusMessagePrepared",this.showMessage),this.model.makeVerifyCreditCards(),this.isCardPending=!1},render:function(){this.$el.removeClass("hidden"),o.prototype.render.call(this),this.$(this.ui.content).html(h({options:this.options})),this.options.isShowCheckbox&&this.$(this.ui.checkbox).attr("checked",!0)},onOK:function(t){var e=this,n=Promise.resolve();this.isCheckboxChecked()&&(n=this.approveCC()),n.then(function(){return e.options.onOK.call(e)}).catch(function(){return e.options.onOK.call(e)}),this.close(),this.isCardPending&&l.trigger("ui:deposit-threshold-promotion")},onCancel:function(t){this.options.onCancel.call(this),this.close()},approveCC:function(){var t=this.options.creditCards[0].id;return a.approveCreditCard(t).then(this.approveCreditCardSuccess.bind(this)).catch(function(t){return Promise.reject()})},approveCreditCardSuccess:function(){return s.getUserCreditCards().load()},isCheckboxChecked:function(){return"true"===this.$(this.ui.checkbox).attr("checked")},onCheck:function(){this.$(this.ui.checkbox).attr("checked",!this.isCheckboxChecked())},showMessage:function(){var t=this,e=n(437),i=e.Deposit_eventos,o=r.values(s.getUserCreditCards().get("creditCards")).filter(function(t){return t.status===d}),a=function(){return i.eventos("clkClose",t.model.get("depositInfo"))},u=function(e,n){return function(){r.isEmpty(e)||(r.isArray(e)?l.trigger.apply(l,e):l.trigger(e)),i.eventos(n,t.model.get("depositInfo"))}};i.eventos("display",this.model.get("depositInfo")),l.trigger("sm","deposit_successful"),l.trigger("funds:deposit:success");var h={confirmCaption:__("state.machine.confirmation.deposit.success"),zIndex:9999,confirmCancelBtnText:__("actions.cancel"),onCancel:a},p=c.isCreditCardFastVerificationEnabled();switch(o.length){case 0:s.getUserData().isCompliance()?(this.isCardPending=!0,h.confirmMessage=__("deposit.begin_trading"),h.confirmOKBtnText=__("ok"),h.onOK=u(null,"clkOk")):(h.confirmMessage=__("deposit.verify_account"),h.confirmOKBtnText=__("verification_center.popup.documents.header"),h.onOK=u("flow:verify","clkVerify"));break;case 1:h.creditCards=o,s.getUserData().isCompliance()?(h.confirmMessage=__("deposit.verify_cc.one.message"),h.confirmOKBtnText=__("actions.confirm"),h.isShowCheckbox=p,h.checkboxMessage=__("deposit.confirm_cc"),h.onOK=u(["sm","c_verify"],"clkVerify")):(h.confirmMessage=__("deposit.verify_account"),h.confirmOKBtnText=__("actions.proceed"),h.isShowCheckbox=p,h.checkboxMessage=__("deposit.confirm_cc"),h.onOK=u("flow:verify","clkVerify"));break;default:h.confirmMessage=__("deposit.verify_cc.multiple.message"),h.confirmOKBtnText=__("verification_center.popup.cc.label"),h.onOK=u("flow:verify","clkVerify")}r.extend(this.options,h),this.render(),this.model.depositPopupMessage=!0}});i.exports=p}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,r){var o=n(0),s=n(424),a=n(7),l=n(6),c=n(30),u=void 0,d=n(97),h=d.EMPTY,p=d.SUCCESS,f=d.ERROR,m=s.extend({defaults:function(){return{statusMessagePrepared:h}},initialize:function(){u=this.control("statusMessagePrepared")},makeVerifyCreditCards:function(){var t=this.get("depositInfo").doFirstDeposit,e=a.getUserData().isCompliance();if(t&&!e){var n=this;n.fixedLoadingView=new c({parent:i("body"),position:"fixed",translucent:"2"});({during:5e3,delay:500,beginTime:o.now(),isTimeExpired:function(){return o.now()-this.beginTime>this.during},start:function(){var t=this;n.queryComplianceStage().then(function(e){return t.next(e)}).catch(function(e){return t.next(e)})},next:function(t){var e=this;if(!t&&!this.isTimeExpired())return o.delay(function(){return e.start()},this.delay);a.getUserCreditCards().load().then(function(){return e.finish()}).catch(function(){return e.finish()})},finish:function(){n.fixedLoadingView&&n.fixedLoadingView.destroy(),n.depositPopupMessage||n.prepareShowMessage()}}).start()}else this.prepareShowMessage()},queryComplianceStage:function(){return l.queryComplianceStage().then(this.queryComplianceStageSuccess.bind(this)).catch(this.queryComplianceStageError.bind(this))},queryComplianceStageSuccess:function(t){return Promise.resolve(t.data.body)},queryComplianceStageError:function(t){return Promise.reject(t)},getCreditCards:function(){return a.getUserCreditCards().reLoad()},prepareShowMessage:function(){Promise.all([this.getCreditCards(),a.getUserData().load()]).then(function(){return u(p)}).catch(function(){return u(f)})}});r.exports=m}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(5),n(0))},function(t,e){t.exports='<div class="panel-form-box form"><p class="panel-title grid-middle"><i class="icon icon-info hidden-xs"></i> <%=__(\'account_settings.notifications.form.description\')%> </p><div class="panel-form"><form action="" method="post"><table><tr><th class="grid-left"><%=__(\'account_settings.notifications.form.type\')%></th><th><%=__(\'account_settings.notifications.form.email\')%></th><th><%=__(\'account_settings.notifications.form.sms\')%></th></tr><tr><td class="name"><%=__(\'account_settings.notifications.form.type.market_reviews\')%></td><td><div class="field field-type-checkbox grid-center"><input type="checkbox" id="markets-review-email" name="markets-review-email"><label for="markets-review-email"></label></div></td><td><div class="field field-type-checkbox grid-center"><input type="checkbox" id="markets-review-sms" name="markets-review-sms"><label for="markets-review-sms"></label></div></td></tr><tr><td><%=__(\'account_settings.notifications.form.type.promotions\')%></td><td><div class="field field-type-checkbox grid-center"><input type="checkbox" id="promotions-email" name="promotions-email"><label for="promotions-email"></label></div></td><td><div class="field field-type-checkbox grid-center"><input type="checkbox" id="promotions-sms" name="promotions-sms"><label for="promotions-sms"></label></div></td></tr><tr><td><%=__(\'account_settings.notifications.form.type.platform_updates\')%></td><td><div class="field field-type-checkbox grid-center"><input type="checkbox" id="platform-updates-email" name="platform-updates-email"><label for="platform-updates-email"></label></div></td><td><div class="field field-type-checkbox grid-center"><input type="checkbox" id="platform-updates-sms" name="platform-updates-sms"><label for="platform-updates-sms"></label></div></td></tr><tr><td><%=__(\'account_settings.notifications.form.type.margin_call\')%></td><td><div class="field field-type-checkbox grid-center"><input type="checkbox" id="margin-call-email" name="margin-call-email"><label for="margin-call-email"></label></div></td><td><div class="field field-type-checkbox grid-center"><input type="checkbox" id="margin-call-sms" name="margin-call-sms"><label for="margin-call-sms"></label></div></td></tr><tr><td><%=__(\'account_settings.notifications.form.type.education\')%></td><td><div class="field field-type-checkbox grid-center"><input type="checkbox" id="education-email" name="education-email"><label for="education-email"></label></div></td><td><div class="field field-type-checkbox grid-center"><input type="checkbox" id="education-sms" name="education-sms"><label for="education-sms"></label></div></td></tr></table><div class="grid-12 messages"><div class="action-result grid-middle hidden hidden-sm hidden-md hidden-lg"><br><i class="icon icon-verified"></i> <span></span></div></div></form></div></div><div class="grid-12 form-row form-actions"><div class="actions"><div class="grid-middle"><button class="btn btn-primary fn-submit"><span class="verification-icon grid-middle hidden hidden-xs"><i class="icon"></i> </span><span class="fn-submit-label"><%=__(\'account_settings.button.save\')%></span></button></div></div></div><div class="space hidden-xs"></div>'},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=r.createClass({displayName:"Sentiment",render:function(){var t=this.props.value,e=t&&t.longs||!1,n=t&&t.shorts||!1,i={width:e+"%"},o={width:n+"%"};return e&&n?r.createElement("div",{className:"sentiment"},r.createElement("div",{className:"sellers"},n,"%"),r.createElement("div",{className:"bar"},r.createElement("i",{style:o}),r.createElement("b",{style:i})),r.createElement("div",{className:"buyers"},e,"%")):r.createElement("div",{className:"sentiment"}," ")}});i.exports=o}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1);i.exports=r.createClass({displayName:"exports",getDefaultProps:function(){return{text:""}},render:function(){return r.createElement("th",{className:"column column-rate-with-button"},r.createElement("div",null,r.createElement("div",null,__(this.props.text))))}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){"use strict";function i(t,e){function n(){this.constructor=t}z(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function r(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function o(t,e,n){return t===t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function s(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=Object(G.a)(n),n=n===n?n:0),void 0!==e&&(e=Object(G.a)(e),e=e===e?e:0),H(Object(G.a)(t),e,n)}function a(t,e){return void 0===t&&(t=-1/0),void 0===e&&(e=1/0),function(n,i){var r="_"+i;Object.defineProperty(n,i,{get:function(){return this[r]},set:function(n){Object.defineProperty(this,r,{value:W(n,t,e),enumerable:!1,writable:!0,configurable:!0})},enumerable:!0,configurable:!0})}}function l(t,e){var n="_"+e;Object.defineProperty(t,e,{get:function(){return this[n]},set:function(t){Object.defineProperty(this,n,{value:!!t,enumerable:!1,writable:!0,configurable:!0})},enumerable:!0,configurable:!0})}function c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e,n,i){var r=i.value;return{get:function(){return this.hasOwnProperty(n)||Object.defineProperty(this,n,{value:q.a.apply(void 0,[r].concat(t))}),this[n]}}}}function u(){if(void 0!==U)return U;var t=!1;try{var e=function(){},n=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",e,n),window.removeEventListener("testPassive",e,n)}catch(t){}return U=!!t&&{passive:!1}}function d(t){var e=Y.get(t)||[];return Y.set(t,e),function(t,n,i){function r(t){t.defaultPrevented||i(t)}n.split(/\s+/g).forEach(function(n){e.push({elem:t,eventName:n,handler:r}),t.addEventListener(n,r,u())})}}function h(t){var e=Y.get(t);e&&(e.forEach(function(t){var e=t.elem,n=t.eventName,i=t.handler;e.removeEventListener(n,i,u())}),Y.delete(t))}function p(t){return t.touches?t.touches[t.touches.length-1]:t}function f(t){var e=p(t);return{x:e.clientX,y:e.clientY}}function m(t,e){return void 0===e&&(e=[]),e.some(function(e){return t===e})}function g(t){var e={};return Object.keys(t).forEach(function(n){if(!K.test(n))return void(e[n]=t[n]);var i=t[n];n=n.replace(/^-/,""),e[n]=i,X.forEach(function(t){e["-"+t+"-"+n]=i})}),e}function v(t,e){e=g(e),Object.keys(e).forEach(function(n){var i=n.replace(/^-/,"").replace(/-([a-z])/g,function(t,e){return e.toUpperCase()});t.style[i]=e[n]})}function b(t){var e=t.containerEl,n=t.contentEl;return{container:{width:e.clientWidth,height:e.clientHeight},content:{width:n.offsetWidth-n.clientWidth+n.scrollWidth,height:n.offsetHeight-n.clientHeight+n.scrollHeight}}}function y(t,e){var n=t.bounding,i=e.getBoundingClientRect(),r=Math.max(n.top,i.top),o=Math.max(n.left,i.left),s=Math.min(n.right,i.right);return r<Math.min(n.bottom,i.bottom)&&o<s}function _(t){var e=t.getSize(),n={x:Math.max(e.content.width-e.container.width,0),y:Math.max(e.content.height-e.container.height,0)},i=t.containerEl.getBoundingClientRect(),r={top:Math.max(i.top,0),right:Math.min(i.right,window.innerWidth),bottom:Math.min(i.bottom,window.innerHeight),left:Math.max(i.left,0)};t.size=e,t.limit=n,t.bounding=r,t.track.update(),t.setPosition()}function w(t,e,n){var i=t.options,r=t.offset,o=t.limit,s=t.track,a=t.contentEl;return i.renderByPixels&&(e=Math.round(e),n=Math.round(n)),e=W(e,0,o.x),n=W(n,0,o.y),e!==r.x&&s.xAxis.show(),n!==r.y&&s.yAxis.show(),i.alwaysShowTracks||s.autoHideOnIdle(),e===r.x&&n===r.y?null:(r.x=e,r.y=n,v(a,{"-transform":"translate3d("+-e+"px, "+-n+"px, 0)"}),s.update(),{offset:V({},r),limit:V({},o)})}function S(t,e,n,i,r){function o(){var e=Date.now()-b,n=i?l(Math.min(e/i,1)):1;if(t.setPosition(f+g*n,m+v*n),e>=i)"function"==typeof u&&u.call(t);else{var r=requestAnimationFrame(o);it.set(t,r)}}void 0===i&&(i=0);var s=void 0===r?{}:r,a=s.easing,l=void 0===a?E:a,c=s.callback,u=void 0===c?null:c,d=t.options,h=t.offset,p=t.limit;d.renderByPixels&&(e=Math.round(e),n=Math.round(n));var f=h.x,m=h.y,g=W(e,0,p.x)-f,v=W(n,0,p.y)-m,b=Date.now();cancelAnimationFrame(it.get(t)),o()}function E(t){return Math.pow(t-1,3)+1}function x(t,e,n){var i=void 0===n?{}:n,r=i.alignToTop,o=void 0===r||r,s=i.onlyScrollIfNeeded,a=void 0!==s&&s,l=i.offsetTop,c=void 0===l?0:l,u=i.offsetLeft,d=void 0===u?0:u,h=i.offsetBottom,p=void 0===h?0:h,f=t.containerEl,m=t.bounding,g=t.offset,v=t.limit;if(e&&f.contains(e)){var b=e.getBoundingClientRect();if(!a||!t.isVisible(e)){var y=o?b.top-m.top-c:b.bottom-m.bottom+p;t.setMomentum(b.left-m.left-d,W(y,-g.y,v.y-g.y))}}}function C(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.forEach(function(t){var e=t.pluginName;if(!e)throw new TypeError("plugin name is required");ot.order.add(e),ot.constructors[e]=t})}function T(t,e){return Array.from(ot.order).filter(function(t){return!1!==e[t]}).map(function(n){var i=ot.constructors[n],r=new i(t,e[n]);return e[n]=r.options,r})}function k(t){var e=d(t),n=t.containerEl;e(n,"keydown",function(e){if(document.activeElement===n){var i=O(t,e.keyCode||e.which);if(i){var r=i[0],o=i[1];t.addTransformableMomentum(r,o,e,function(n){n?e.preventDefault():(t.containerEl.blur(),t.parent&&t.parent.containerEl.focus())})}}})}function O(t,e){var n=t.size,i=t.limit,r=t.offset;switch(e){case Z.SPACE:return[0,200];case Z.PAGE_UP:return[0,40-n.container.height];case Z.PAGE_DOWN:return[0,n.container.height-40];case Z.END:return[0,i.y-r.y];case Z.HOME:return[0,-r.y];case Z.LEFT:return[-40,0];case Z.UP:return[0,-40];case Z.RIGHT:return[40,0];case Z.DOWN:return[0,40];default:return null}}function P(t){function e(e,n){var i=t.size;if(e===st.X){return n/(i.container.width+(h.thumb.realSize-h.thumb.displaySize))*i.content.width}if(e===st.Y){return n/(i.container.height+(p.thumb.realSize-p.thumb.displaySize))*i.content.height}return 0}function n(t){return m(t,[h.element,h.thumb.element])?st.X:m(t,[p.element,p.thumb.element])?st.Y:void 0}var i,r,o,s,a,l=d(t),c=t.containerEl,u=t.track,h=u.xAxis,p=u.yAxis;l(c,"click",function(i){if(!r&&m(i.target,[h.element,p.element])){var o=i.target,s=n(o),a=o.getBoundingClientRect(),l=f(i),c=t.offset,u=t.limit;if(s===st.X){var d=l.x-a.left-h.thumb.displaySize/2;t.setMomentum(W(e(s,d)-c.x,-c.x,u.x-c.x),0)}if(s===st.Y){var d=l.y-a.top-p.thumb.displaySize/2;t.setMomentum(0,W(e(s,d)-c.y,-c.y,u.y-c.y))}}}),l(c,"mousedown",function(e){if(m(e.target,[h.thumb.element,p.thumb.element])){i=!0;var r=e.target,l=f(e),u=r.getBoundingClientRect();s=n(r),o={x:l.x-u.left,y:l.y-u.top},a=c.getBoundingClientRect(),v(t.containerEl,{"-user-select":"none"})}}),l(window,"mousemove",function(n){if(i){r=!0;var l=t.offset,c=f(n);if(s===st.X){var u=c.x-o.x-a.left;t.setPosition(e(s,u),l.y)}if(s===st.Y){var u=c.y-o.y-a.top;t.setPosition(l.x,e(s,u))}}}),l(window,"mouseup blur",function(){i=r=!1,v(t.containerEl,{"-user-select":""})})}function I(t){d(t)(window,"resize",Object(q.a)(t.update.bind(t),300))}function A(t){function e(i){var r=i.x,o=i.y;(r||o)&&(t.setMomentum(W(s.x+r,0,a.x)-s.x,W(s.y+o,0,a.y)-s.y),n=requestAnimationFrame(function(){e({x:r,y:o})}))}var n,i=d(t),r=t.containerEl,o=t.contentEl,s=t.offset,a=t.limit,l=!1;i(window,"mousemove",function(i){if(l){cancelAnimationFrame(n);e(M(t,i))}}),i(o,"selectstart",function(t){t.stopPropagation(),cancelAnimationFrame(n),l=!0}),i(window,"mouseup blur",function(){cancelAnimationFrame(n),l=!1}),i(r,"scroll",function(t){t.preventDefault(),r.scrollTop=r.scrollLeft=0})}function M(t,e){var n=t.bounding,i=n.top,r=n.right,o=n.bottom,s=n.left,a=f(e),l=a.x,c=a.y,u={x:0,y:0};return 0===l&&0===c?u:(l>r-20?u.x=l-r+20:l<s+20&&(u.x=l-s-20),c>o-20?u.y=c-o+20:c<i+20&&(u.y=c-i-20),u.x*=2,u.y*=2,u)}function N(t){var e,n=/Android/.test(navigator.userAgent)?3:2,i=t.options.delegateTo||t.containerEl,r=new J,o=d(t),s=0;o(i,"touchstart",function(n){r.track(n),t.setMomentum(0,0),0===s&&(e=t.options.damping,t.options.damping=Math.max(e,.5)),s++}),o(i,"touchmove",function(e){if(!at||at===t){r.update(e);var n=r.getDelta(),i=n.x,o=n.y;t.addTransformableMomentum(i,o,e,function(n){n&&(e.preventDefault(),at=t)})}}),o(i,"touchcancel touchend",function(i){var o=r.getVelocity(),a={x:0,y:0};Object.keys(o).forEach(function(t){var i=o[t]/e;a[t]=Math.abs(i)<50?0:i*n}),t.addTransformableMomentum(a.x,a.y,i),s--,0===s&&(t.options.damping=e),r.release(i),at=null})}function D(t){d(t)(t.options.delegateTo||t.containerEl,"onwheel"in window||document.implementation.hasFeature("Events.wheel","3.0")?"wheel":"mousewheel",function(e){var n=L(e),i=n.x,r=n.y;t.addTransformableMomentum(i,r,e,function(t){t&&e.preventDefault()})})}function L(t){if("deltaX"in t){var e=ut(t.deltaMode);return{x:t.deltaX/lt.STANDARD*e,y:t.deltaY/lt.STANDARD*e}}return"wheelDeltaX"in t?{x:t.wheelDeltaX/lt.OTHERS,y:t.wheelDeltaY/lt.OTHERS}:{x:0,y:t.wheelDelta/lt.OTHERS}}function R(){if(!mt&&"undefined"!=typeof window){var t=document.createElement("style");t.id=ft,t.textContent=pt,document.head.appendChild(t),mt=!0}}function F(){if(mt&&"undefined"!=typeof window){var t=document.getElementById(ft);t&&t.parentNode&&(t.parentNode.removeChild(t),mt=!1)}}Object.defineProperty(e,"__esModule",{value:!0});var B={};n.d(B,"keyboardHandler",function(){return k}),n.d(B,"mouseHandler",function(){return P}),n.d(B,"resizeHandler",function(){return I}),n.d(B,"selectHandler",function(){return A}),n.d(B,"touchHandler",function(){return N}),n.d(B,"wheelHandler",function(){return D});var U,j,z=function(t,e){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},V=function(){return V=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},V.apply(this,arguments)},H=(n(1586),n(1587),n(1588),n(1589),n(1590),o),G=n(665),W=s,q=n(256),$=function(){function t(t){void 0===t&&(t={});var e=this;this.damping=.1,this.thumbMinSize=20,this.renderByPixels=!0,this.alwaysShowTracks=!1,this.continuousScrolling=!0,this.delegateTo=null,this.plugins={},Object.keys(t).forEach(function(n){e[n]=t[n]})}return Object.defineProperty(t.prototype,"wheelEventTarget",{get:function(){return this.delegateTo},set:function(t){this.delegateTo=t},enumerable:!0,configurable:!0}),r([a(0,1)],t.prototype,"damping",void 0),r([a(0,1/0)],t.prototype,"thumbMinSize",void 0),r([l],t.prototype,"renderByPixels",void 0),r([l],t.prototype,"alwaysShowTracks",void 0),r([l],t.prototype,"continuousScrolling",void 0),t}(),Y=new WeakMap,X=["webkit","moz","ms","o"],K=new RegExp("^-(?!(?:"+X.join("|")+")-)"),Q=function(){function t(t){this.updateTime=Date.now(),this.delta={x:0,y:0},this.velocity={x:0,y:0},this.lastPosition={x:0,y:0},this.lastPosition=f(t)}return t.prototype.update=function(t){var e=this,n=e.velocity,i=e.updateTime,r=e.lastPosition,o=Date.now(),s=f(t),a={x:-(s.x-r.x),y:-(s.y-r.y)},l=o-i||16,c=a.x/l*16,u=a.y/l*16;n.x=.9*c+.1*n.x,n.y=.9*u+.1*n.y,this.delta=a,this.updateTime=o,this.lastPosition=s},t}(),J=function(){function t(){this._touchList={}}return Object.defineProperty(t.prototype,"_primitiveValue",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),t.prototype.isActive=function(){return void 0!==this._activeTouchID},t.prototype.getDelta=function(){var t=this._getActiveTracker();return t?V({},t.delta):this._primitiveValue},t.prototype.getVelocity=function(){var t=this._getActiveTracker();return t?V({},t.velocity):this._primitiveValue},t.prototype.track=function(t){var e=this,n=t.targetTouches;return Array.from(n).forEach(function(t){e._add(t)}),this._touchList},t.prototype.update=function(t){var e=this,n=t.touches,i=t.changedTouches;return Array.from(n).forEach(function(t){e._renew(t)}),this._setActiveID(i),this._touchList},t.prototype.release=function(t){var e=this;delete this._activeTouchID,Array.from(t.changedTouches).forEach(function(t){e._delete(t)})},t.prototype._add=function(t){if(!this._has(t)){var e=new Q(t);this._touchList[t.identifier]=e}},t.prototype._renew=function(t){if(this._has(t)){this._touchList[t.identifier].update(t)}},t.prototype._delete=function(t){delete this._touchList[t.identifier]},t.prototype._has=function(t){return this._touchList.hasOwnProperty(t.identifier)},t.prototype._setActiveID=function(t){this._activeTouchID=t[t.length-1].identifier,this._lastTouch=this._touchList[this._activeTouchID]},t.prototype._getActiveTracker=function(){var t=this;return t._touchList[t._activeTouchID]},t}();!function(t){t.X="x",t.Y="y"}(j||(j={}));var Z,tt=function(){function t(t,e){void 0===e&&(e=0),this._direction=t,this._minSize=e,this.element=document.createElement("div"),this.displaySize=0,this.realSize=0,this.offset=0,this.element.className="scrollbar-thumb scrollbar-thumb-"+t}return t.prototype.attachTo=function(t){t.appendChild(this.element)},t.prototype.update=function(t,e,n){this.realSize=Math.min(e/n,1)*e,this.displaySize=Math.max(this.realSize,this._minSize),this.offset=t/n*(e+(this.realSize-this.displaySize)),v(this.element,this._getStyle())},t.prototype._getStyle=function(){switch(this._direction){case j.X:return{width:this.displaySize+"px","-transform":"translate3d("+this.offset+"px, 0, 0)"};case j.Y:return{height:this.displaySize+"px","-transform":"translate3d(0, "+this.offset+"px, 0)"};default:return null}},t}(),et=function(){function t(t,e){void 0===e&&(e=0),this.element=document.createElement("div"),this._isShown=!1,this.element.className="scrollbar-track scrollbar-track-"+t,this.thumb=new tt(t,e),this.thumb.attachTo(this.element)}return t.prototype.attachTo=function(t){t.appendChild(this.element)},t.prototype.show=function(){this._isShown||(this._isShown=!0,this.element.classList.add("show"))},t.prototype.hide=function(){this._isShown&&(this._isShown=!1,this.element.classList.remove("show"))},t.prototype.update=function(t,e,n){v(this.element,{display:n<=e?"none":"block"}),this.thumb.update(t,e,n)},t}(),nt=function(){function t(t){this._scrollbar=t;var e=t.options.thumbMinSize;this.xAxis=new et(j.X,e),this.yAxis=new et(j.Y,e),this.xAxis.attachTo(t.containerEl),this.yAxis.attachTo(t.containerEl),t.options.alwaysShowTracks&&(this.xAxis.show(),this.yAxis.show())}return t.prototype.update=function(){var t=this._scrollbar,e=t.size,n=t.offset;this.xAxis.update(n.x,e.container.width,e.content.width),this.yAxis.update(n.y,e.container.height,e.content.height)},t.prototype.autoHideOnIdle=function(){this._scrollbar.options.alwaysShowTracks||(this.xAxis.hide(),this.yAxis.hide())},r([c(300)],t.prototype,"autoHideOnIdle",null),t}(),it=new WeakMap,rt=function(){function t(t,e){var n=this.constructor;this.scrollbar=t,this.name=n.pluginName,this.options=V({},n.defaultOptions,e)}return t.prototype.onInit=function(){},t.prototype.onDestory=function(){},t.prototype.onUpdate=function(){},t.prototype.onRender=function(t){},t.prototype.transformDelta=function(t,e){return V({},t)},t.pluginName="",t.defaultOptions={},t}(),ot={order:new Set,constructors:{}};!function(t){t[t.SPACE=32]="SPACE",t[t.PAGE_UP=33]="PAGE_UP",t[t.PAGE_DOWN=34]="PAGE_DOWN",t[t.END=35]="END",t[t.HOME=36]="HOME",t[t.LEFT=37]="LEFT",t[t.UP=38]="UP",t[t.RIGHT=39]="RIGHT",t[t.DOWN=40]="DOWN"}(Z||(Z={}));var st;!function(t){t[t.X=0]="X",t[t.Y=1]="Y"}(st||(st={}));var at,lt={STANDARD:1,OTHERS:-3},ct=[1,28,500],ut=function(t){return ct[t]||ct[0]},dt=new Map,ht=function(){function t(t,e){var n=this;this.offset={x:0,y:0},this.limit={x:1/0,y:1/0},this.bounding={top:0,right:0,bottom:0,left:0},this._plugins=[],this._momentum={x:0,y:0},this._listeners=new Set,this.containerEl=t;var i=this.contentEl=document.createElement("div");this.options=new $(e),t.setAttribute("data-scrollbar","true"),t.setAttribute("tabindex","1"),v(t,{overflow:"hidden",outline:"none"}),window.navigator.msPointerEnabled&&(t.style.msTouchAction="none"),i.className="scroll-content",Array.from(t.childNodes).forEach(function(t){i.appendChild(t)}),t.appendChild(i),this.track=new nt(this),this.size=this.getSize(),this._plugins=T(this,this.options.plugins);var r=t.scrollLeft,o=t.scrollTop;t.scrollLeft=t.scrollTop=0,this.setPosition(r,o,{withoutCallbacks:!0});var s=window,a=s.MutationObserver||s.WebKitMutationObserver||s.MozMutationObserver;"function"==typeof a&&(this._observer=new a(function(){n.update()}),this._observer.observe(i,{subtree:!0,childList:!0})),dt.set(t,this),requestAnimationFrame(function(){n._init()})}return Object.defineProperty(t.prototype,"parent",{get:function(){for(var t=this.containerEl.parentElement;t;){var e=dt.get(t);if(e)return e;t=t.parentElement}return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollTop",{get:function(){return this.offset.y},set:function(t){this.setPosition(this.scrollLeft,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollLeft",{get:function(){return this.offset.x},set:function(t){this.setPosition(t,this.scrollTop)},enumerable:!0,configurable:!0}),t.prototype.getSize=function(){return b(this)},t.prototype.update=function(){_(this),this._plugins.forEach(function(t){t.onUpdate()})},t.prototype.isVisible=function(t){return y(this,t)},t.prototype.setPosition=function(t,e,n){var i=this;void 0===t&&(t=this.offset.x),void 0===e&&(e=this.offset.y),void 0===n&&(n={});var r=w(this,t,e);r&&!n.withoutCallbacks&&this._listeners.forEach(function(t){t.call(i,r)})},t.prototype.scrollTo=function(t,e,n,i){void 0===t&&(t=this.offset.x),void 0===e&&(e=this.offset.y),void 0===n&&(n=0),void 0===i&&(i={}),S(this,t,e,n,i)},t.prototype.scrollIntoView=function(t,e){void 0===e&&(e={}),x(this,t,e)},t.prototype.addListener=function(t){if("function"!=typeof t)throw new TypeError("[smooth-scrollbar] scrolling listener should be a function");this._listeners.add(t)},t.prototype.removeListener=function(t){this._listeners.delete(t)},t.prototype.addTransformableMomentum=function(t,e,n,i){this._updateDebounced();var r=this._plugins.reduce(function(t,e){return e.transformDelta(t,n)||t},{x:t,y:e}),o=!this._shouldPropagateMomentum(r.x,r.y);o&&this.addMomentum(r.x,r.y),i&&i.call(this,o)},t.prototype.addMomentum=function(t,e){this.setMomentum(this._momentum.x+t,this._momentum.y+e)},t.prototype.setMomentum=function(t,e){0===this.limit.x&&(t=0),0===this.limit.y&&(e=0),this.options.renderByPixels&&(t=Math.round(t),e=Math.round(e)),this._momentum.x=t,this._momentum.y=e},t.prototype.updatePluginOptions=function(t,e){this._plugins.forEach(function(n){n.name===t&&Object.assign(n.options,e)})},t.prototype.destroy=function(){var t=this,e=t.containerEl,n=t.contentEl;h(this),this._listeners.clear(),this.setMomentum(0,0),cancelAnimationFrame(this._renderID),this._observer&&this._observer.disconnect(),dt.delete(this.containerEl);for(var i=Array.from(n.childNodes);e.firstChild;)e.removeChild(e.firstChild);i.forEach(function(t){e.appendChild(t)}),v(e,{overflow:""}),e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,this._plugins.forEach(function(t){t.onDestory()}),this._plugins.length=0},t.prototype._init=function(){var t=this;this.update(),Object.keys(B).forEach(function(e){B[e](t)}),this._plugins.forEach(function(t){t.onInit()}),this._render()},t.prototype._updateDebounced=function(){this.update()},t.prototype._shouldPropagateMomentum=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this,i=n.options,r=n.offset,o=n.limit;if(!i.continuousScrolling)return!1;0===o.x&&0===o.y&&this._updateDebounced();var s=W(t+r.x,0,o.x),a=W(e+r.y,0,o.y),l=!0;return l=l&&s===r.x,l=l&&a===r.y,l=l&&(r.x===o.x||0===r.x||r.y===o.y||0===r.y)},t.prototype._render=function(){var t=this._momentum;if(t.x||t.y){var e=this._nextTick("x"),n=this._nextTick("y");t.x=e.momentum,t.y=n.momentum,this.setPosition(e.position,n.position)}var i=V({},this._momentum);this._plugins.forEach(function(t){t.onRender(i)}),this._renderID=requestAnimationFrame(this._render.bind(this))},t.prototype._nextTick=function(t){var e=this,n=e.options,i=e.offset,r=e._momentum,o=i[t],s=r[t];if(Math.abs(s)<=.1)return{momentum:0,position:o+s};var a=s*(1-n.damping);return n.renderByPixels&&(a|=0),{momentum:a,position:o+s-a}},r([c(100,{leading:!0})],t.prototype,"_updateDebounced",null),t}(),pt="\n[data-scrollbar] {\n  display: block;\n  position: relative;\n}\n\n.scroll-content {\n  -webkit-transform: translate3d(0, 0, 0);\n          transform: translate3d(0, 0, 0);\n}\n\n.scrollbar-track {\n  position: absolute;\n  opacity: 0;\n  z-index: 1;\n  background: rgba(222, 222, 222, .75);\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  -webkit-transition: opacity 0.5s 0.5s ease-out;\n          transition: opacity 0.5s 0.5s ease-out;\n}\n.scrollbar-track.show,\n.scrollbar-track:hover {\n  opacity: 1;\n  -webkit-transition-delay: 0s;\n          transition-delay: 0s;\n}\n\n.scrollbar-track-x {\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 8px;\n}\n.scrollbar-track-y {\n  top: 0;\n  right: 0;\n  width: 8px;\n  height: 100%;\n}\n.scrollbar-thumb {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 8px;\n  height: 8px;\n  background: rgba(0, 0, 0, .5);\n  border-radius: 4px;\n}\n",ft="smooth-scrollbar-style",mt=!1;n.d(e,"ScrollbarPlugin",function(){return rt});var gt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.init=function(t,e){if(!t||1!==t.nodeType)throw new TypeError("expect element to be DOM Element, but got "+t);return R(),dt.has(t)?dt.get(t):new ht(t,e)},e.initAll=function(t){return Array.from(document.querySelectorAll("[data-scrollbar]"),function(n){return e.init(n,t)})},e.has=function(t){return dt.has(t)},e.get=function(t){return dt.get(t)},e.getAll=function(){return Array.from(dt.values())},e.destroy=function(t){var e=dt.get(t);e&&e.destroy()},e.destroyAll=function(){dt.forEach(function(t){t.destroy()})},e.use=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return C.apply(void 0,t)},e.attachStyle=function(){return R()},e.detachStyle=function(){return F()},e.version="8.3.1",e.ScrollbarPlugin=rt,e}(ht);e.default=gt},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(13),s=n(3),a=n(31),l=o.extend({defaults:function(){return{stockTicker:"",symbol:"",description:"",stockPrice:0,lastQSharesTraded:0,rating:"",sentiment:"",basedOnNumHedgeFunds:"",institutionalHoldingSummary:[]}},getTicker:function(){return this.get("stockTicker")},getSymbol:function(){return this.get("symbol")},getDescription:function(){return this.get("description")},getSignal:function(){return this.get("rating")},getSignalDir:function(){return this.getSignal().indexOf("Positive")>-1?"positive":this.getSignal().indexOf("Negative")>-1?"negative":"neutral"},getInstitutionalHoldingSummary:function(){return this.get("institutionalHoldingSummary")},getInstitutionalHoldingSummaryBar:function(){var t=this.getInstitutionalHoldingSummary(),e=r.max(t,function(t){return t.h});return r.map(t,function(t){return[s(t.l).format("MMM, D Y"),t.h/e.h*100]})},getInstitutionalHoldingSummaryBarAxis:function(){var t=this.getInstitutionalHoldingSummary(),e=r.max(t,function(t){return t.h}).h;return r.map([.25,.5,.75,1],function(t){return a(t*e).format("2a").toUpperCase()})},getTrend:function(){var t=this.getInstitutionalHoldingSummary().length;return a(this.getInstitutionalHoldingSummary()[t-1].h).format("0a").toUpperCase()},getTrendDir:function(){var t=this.getInstitutionalHoldingSummary().length,e=this.getInstitutionalHoldingSummary()[t-1].h-this.getInstitutionalHoldingSummary()[t-2].h;return e>0?"Increased":e<0?"Decreased":""},getBasedOnNumHedgeFunds:function(){return this.get("basedOnNumHedgeFunds")}});i.exports=l}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(278),s=n(38),a=n(3);i.exports=function(t,e,n,i,l,c,u){var d=r.map(e,function(t){return[new Date(t.l).getTime(),t.h]}),h=r.map(n,function(t){return[new Date(t.m).getTime(),t.p]});u&&(d=d.slice(-u),h=h.slice(12*-(u+1)));var p=r.uniq(r.union(r.map(d,function(t){return t[0]}),r.map(h,function(t){return t[0]}))).sort(function(t,e){return t-e}),f=p[0]-7776e6;p.unshift(f),d.unshift([f,0]),o.chart(t,{credits:{enabled:!1},tooltip:{enabled:!1},chart:{zoomType:!1,width:i,height:l,spacingTop:30,spacingBottom:20,spacingLeft:5,spacingRight:5,backgroundColor:"#dbdfe5",style:{fontFamily:"Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif;"}},title:{text:""},xAxis:{type:"datetime",categories:p,style:{color:"#7a7a7a"},tickInterval:7776e6,gridLineWidth:1,gridLineDashStyle:"ShortDot",gridLineColor:"#a4a4a4",startOnTick:!1,labels:{formatter:function(){return a(this.value-864e5).format("MMM, D Y")},style:{fontSize:"9px",fontWeight:"bold"}}},yAxis:[{title:{text:__("tab.shares"),style:{color:"#a4a4a4"}},labels:{formatter:function(){return s(this.value).format("0a").toUpperCase()},style:{color:"#7a7a7a"}},gridLineColor:"#2a2a2a",gridLineDashStyle:"ShortDot"},{title:{text:__("insiders.graph.stock.price"),style:{color:"#a4a4a4"}},labels:{format:"{value}"},gridLineDashStyle:"ShortDot",gridLineColor:"#a4a4a4",tickPixelInterval:50,opposite:!0}],plotOptions:{line:{marker:{enabled:!1}},column:{groupPadding:.5,pointWidth:c,borderWidth:0},series:{lineWidth:2}},legend:{enabled:!1},series:[{name:"",type:"column",data:d,color:"#2e86ab"},{name:"",type:"line",data:h,color:"#000",yAxis:1,enableMouseTracking:!1}]})}}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(13),o=n(49),s=o.EMPTY,a=o.TYPE_MARKET,l=n(10),c=l.POSITION_DIRECTION_BUY;i.exports=r.extend({defaults:function(){return{symbol:s,type:a,direction:c,amount:s,stopLoss:s,takeProfit:s,entry:s,isSearchEnabled:!0,isTypeEnabled:!0,isDirectionEnabled:!0,refOrderChainId:s,excludeTypes:[]}},getType:function(){return this.get("type")},getDirection:function(){return this.get("direction")},getSymbol:function(){return this.get("symbol")},getAmount:function(){return this.get("amount")},getStopLoss:function(){return this.get("stopLoss")},getTakeProfit:function(){return this.get("takeProfit")},getEntry:function(){return this.get("entry")},excludeOrderType:function(t){this.set("excludeTypes",[t])}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};void 0!==(r=function(t,e,i){var r=n(0),s=n(2),a=n(7),l=n(9),c=n(1614),u=n(1616),d=n(1618),h=n(1619),p=n(1621),f=n(1623),m=n(720),g=n(721),v=n(722),b=n(723),y=n(724),_=n(725),w=n(726),S=n(727),E=n(1626),x=n(1627),C=n(1628),T=n(728),k=n(135),O=n(154),P=n(257),I=n(1641),A=I.SimpleChartView,M=I.SimpleChartModel,N=n(15),D=n(153),L=r.template(n(1646)),R=N.mobile()?".new-order__mobile-chart-area":".new-order__chart-area",F=n(52),B=n(10),U=B.POSITION_DIRECTION_BUY,j=B.POSITION_DIRECTION_SELL,z=B.DEFAULT_POSITION_PIPS_STEP,V=n(262).SWITCH_MODE_DROPDOWN,H=n(49),G=H.EMPTY,W=H.UPDATE,q=H.READY,$=H.FOUND,Y=H.NOT_FOUND,X=H.ENABLED,K=H.DISABLED,Q=H.CHANGED,J=(H.SUCCESS,H.TYPE_MARKET),Z=H.TYPE_LIMIT,tt=H.TYPE_STOP,et=r.isEmpty,nt=function(t){return t.addClass("hidden")},it=function(t){return t.removeClass("hidden")},rt=function(t){return t<0?"down":t>0?"up":"equally"};i.exports=c.extend({className:"new-order",name:"new-order",events:function(){return this.addEvents(c)({"click .fn-deposit":"openDeposit","click .action__submit":"submit","click .new-order__chart-expander":"toggleChart"})},initialize:function(){c.prototype.initialize.apply(this,arguments),this.order=this.makeOrderObject(),this.updateForTradeOutsideOfTradingHours()},makeOrderObject:function(){var t=this.model;return new T.create({symbol:t.get("symbol"),amount:t.getAmount(),initialType:t.getType(),initialDirection:t.getDirection(),initialEntryPrice:t.getEntry(),initialStopLossPrice:t.getStopLoss(),initialTakeProfitPrice:t.getTakeProfit()})},updateForTradeOutsideOfTradingHours:function(){this.order.instrument().status.canTradeOutsideOfTradingHours()&&(this.model.excludeOrderType(J),this.openFromSwitchModeDropdown()?this.order.getType()===J&&this.order.setType(Z):this.order.setType(Z))},openFromSwitchModeDropdown:function(){return this.options.source===V},render:function(){var t=this;c.prototype.render.call(this);var e=this.model,n=this.order,i=n.instrument(),o=n.takeProfit(),s=n.stopLoss(),T=i.getPrecision(),O=n.getType(),P=n.getDirection(),I=n.direction(),N=a.getUserCurrency(),D=r.throttle(function(t){return n.amount().setValue(t)},500),F=s.isEnabled(),B=o.isEnabled();return this.keyboardEvents=k({escape:function(e){return t.close(e)},enter:function(e){t.isSearching()||t.submit(e)}},this),this.setContent(L({fullAmountLabel:n.amount().getFullAmountLabel(),instrument:i,submitButtonText:e.get("submitButtonText"),settings:l})),this.basketModel=new f,this.chartModel=new M({symbol:i.getSymbol()}),this.search=this.addChildView(".new-order__search-block",h,{name:"search",disabled:!e.get("isSearchEnabled"),value:i.getDisplayName(),onChanged:function(t){return n.changeInstrument(t)}}),this.type=this.addChildView(".new-order__type-control",m,{name:"type",value:O,disable:!e.get("isTypeEnabled"),exclude:e.get("excludeTypes")}),this.direction=this.addChildView(".new-order__direction-control",g,{name:"direction",value:P,disable:!e.get("isDirectionEnabled")}),this.directionDropdown=this.addChildView(".new-order__direction-dropdown-control",v,{name:"directionDropdown",value:P,disable:!e.get("isDirectionEnabled"),except:I.isSellTradable()?I.isBuyTradable()?null:U:j}),this.amount=this.addChildView(".new-order__amount-control",b,{name:"amount",precision:T}),this.entry=this.addChildView(".new-order__entry-form",y,{name:"entry",precision:T}),this.slCheckbox=this.addChildView(".new-order__sl-checkbox-control",_,{name:"sl-checkbox",checked:F,precision:T}),this.tpCheckbox=this.addChildView(".new-order__tp-checkbox-control",w,{name:"tp-checkbox",checked:B,precision:T}),this.stopLoss=this.addChildView(".new-order__sl-price-control",S,{name:"stopLoss",disable:!F,precision:T}),this.takeProfit=this.addChildView(".new-order__tp-price-control",S,{name:"takeProfit",disable:!B,precision:T}),this.slMoney=this.addChildView(".new-order__sl-money-control",E,{name:"sl-money",currency:N,disable:!F,precision:T}),this.tpMoney=this.addChildView(".new-order__tp-money-control",E,{name:"tp-money",currency:N,disable:!B,precision:T}),this.slPercent=this.addChildView(".new-order__sl-percent-control",x,{name:"sl-percent",disable:!F,precision:T}),this.tpPercent=this.addChildView(".new-order__tp-percent-control",x,{name:"tp-percent",disable:!B,precision:T}),this.slPips=this.addChildView(".new-order__sl-pips-control",C,{name:"sl-pips",disable:!F,precision:T}),this.tpPips=this.addChildView(".new-order__tp-pips-control",C,{name:"tp-pips",disable:!B,precision:T}),this.basket=this.addChildView(".new-order__basket-block",p,{model:this.basketModel}),this.chart=this.addChildView(R,A,{model:this.chartModel}),this.addChildView(".new-order__instrument-info",u,{model:new d({symbol:i.getSymbol(),instrumentDriver:n.instrumentDriver()})}),this.amount.disable(),this.$sellRateValue=this.$(".new-order__sell-rate-value"),this.$buyRateValue=this.$(".new-order__buy-rate-value"),this.$changeBlock=this.$(".new-order__change-block"),this.$requiredMarginValue=this.$(".new-order__require-margin-value"),this.$amountLabel=this.$(".new-order__amount-label"),this.$slErrorMessage=this.$(".new-order__sl-error-message"),this.$tpErrorMessage=this.$(".new-order__tp-error-message"),this.$moneyTitle=this.$(".new-order__field-money-title"),this.$gsl=this.$(".new-order__gsl"),this.$gslValue=this.$(".new-order__gsl-value"),this.listenTo(this.type,"change",function(t,e){return n.setType(e)}),this.listenTo(this.direction,"change",function(t,e){return n.setDirection(e)}),this.listenTo(this.direction,"change",function(e,n){return t.directionDropdown.value(n)}),this.listenTo(this.directionDropdown,"change",function(t,e){return n.setDirection(e)}),this.listenTo(this.directionDropdown,"change",function(e,n){return t.direction.setChecked(n)}),this.listenTo(this.amount,"change",function(t,e){return D(e)}),this.listenTo(this.entry,"change",function(t,e){return n.setEntryValue(e)}),this.listenTo(this.slCheckbox,"change",function(t,e){return!0===e?s.enable():s.disable()}),this.listenTo(this.stopLoss,"change",function(t,e){return s.setPrice(e)}),this.listenTo(this.slMoney,"change",function(t,e){return s.setMoney(e)}),this.listenTo(this.slPercent,"change",function(t,e){return s.setPercent(e)}),this.listenTo(this.slPips,"change",function(t,e){return s.setPips(e)}),this.listenTo(this.tpCheckbox,"change",function(t,e){return!0===e?o.enable():o.disable()}),this.listenTo(this.takeProfit,"change",function(t,e){return o.setPrice(e)}),this.listenTo(this.tpMoney,"change",function(t,e){return o.setMoney(e)}),this.listenTo(this.tpPercent,"change",function(t,e){return o.setPercent(e)}),this.listenTo(this.tpPips,"change",function(t,e){return o.setPips(e)}),this.listenTo(this.entry,"focus ",function(){return n.disableAutoEntry()}),this.listenTo(this.stopLoss,"focus ",function(){return s.touch("Price")}),this.listenTo(this.slMoney,"focus ",function(){return s.touch("Money")}),this.listenTo(this.slPercent,"focus ",function(){return s.touch("Percent")}),this.listenTo(this.slPips,"focus ",function(){return s.touch("Pips")}),this.listenTo(this.takeProfit,"focus ",function(){return o.touch("Price")}),this.listenTo(this.tpMoney,"focus ",function(){return o.touch("Money")}),this.listenTo(this.tpPercent,"focus ",function(){return o.touch("Percent")}),this.listenTo(this.tpPips,"focus ",function(){return o.touch("Pips")}),this.listenTo(n,"amount:change:statusOfAmount",this.onStatusOfAmount),this.listenTo(n,"instrumentDriver:change:statusOfInstrumentInfo",this.onStatusOfInstrumentInfo),this.listenTo(n,"instrumentDriver:change:statusOfInstrument",this.onStatusOfInstrument),this.listenTo(n,"stopLoss:change:status",this.onStatusOfStopLoss),this.listenTo(n,"takeProfit:change:status",this.onStatusOfTakeProfit),this.listenTo(n,"entryLimit:change:statusOfEntry",this.onStatusOfEntry),this.listenTo(n,"entryStop:change:statusOfEntry",this.onStatusOfEntry),this.listenTo(n,"type:change:value",this.onTypeChanged),this.listenTo(n,"direction:change:value",this.onDirectionChanged),this.listenTo(n,"requiredMargin:change:requiredMarginFormat",function(e,n){return t.$requiredMarginValue.html(n)}),this.listenTo(n,"requiredMargin:change:statusOfRequiredMargin",this.onStatusOfRequiredMargin),this.listenTo(n,"amount:change:errorMessage",this.onChangeAmountErrorMessage.bind(this)),this.listenTo(n,"stopLoss:change:errorMessage",function(e,n){return t.$slErrorMessage.html(n)}),this.listenTo(n,"takeProfit:change:errorMessage",function(e,n){return t.$tpErrorMessage.html(n)}),this.listenTo(n,"entryLimit:change:errorMessage",function(e,n){return t.entry.errorMessage(n)}),this.listenTo(n,"entryStop:change:errorMessage",function(e,n){return t.entry.errorMessage(n)}),this.listenTo(n,"gsl:change:format",function(e,n){return t.$gslValue.html(n)}),this.listenTo(n,"all",this.updateSubmitState),this.onStatusOfAmount(),this.onTypeChanged(),this.onStatusOfInstrument(),this.onStatusOfInstrumentInfo(),this.onStatusOfStopLoss(),this.onStatusOfTakeProfit(),this.showExpiration(),n.gsl().isEnabled()&&this.$gsl.removeClass("hidden"),this.updateCaption(),this},onTypeChanged:function(){var t=this.order.getType(),e=this.order.instrument();switch(t){case J:this.entry.hide();break;case Z:case tt:var n=this.order.entry();this.entry.show({precision:e.getPrecision(),step:e.getPipsPrecisionSize()}),this.entry.setLabel(n.getLabel()),this.entry.setLabelDescription(n.getLabelDescription()),this.onStatusOfEntry()}},onDirectionChanged:function(){if(this.order.getType()!==J){var t=this.order.entry();this.entry.setLabel(t.getLabel()),this.entry.setLabelDescription(t.getLabelDescription())}this.showExpiration()},showExpiration:function(){var t=this.order,e=t.getType(),n=t.instrument(),i=this.$(".new-order__expiration"),r=this.$(".new-order__expiration-text"),o=n.getExpirationDays(),s=n.getExpirationDate();if(!o)return void(i.hasClass("hidden")||i.addClass("hidden"));i.removeClass("hidden"),r.html(e!==J?__("order.form.expiration",o):__("position.form.expiration",s))},onChangeAmountErrorMessage:function(t,e){this.$(".new-order__field-error-amount").html(e===G?"":e),this.showTieredMargin()},showTieredMargin:function(){var t=this.$(".new-order__field-info-amount-tiered-margin"),e=this.order;if(e.amount().isValidated()&&e.instrument().isTieredMarginApplied())return void t.removeClass("hidden");t.addClass("hidden")},onStatusOfAmount:function(){var t=this.order,e=t.instrument(),n=t.amount(),i=this.amount;switch(n.get("statusOfAmount")){case q:var r=e.isFractionalAmountEnabled()?e.getPrecision():0,s=n.getAmountIncrement(),a={precision:r,step:s};i.setOptions(o({},a)),i.silentValue(n.value()),i.enable();break;case W:i.silentValue(n.value()),this.showTieredMargin()}},onStatusOfInstrument:function(){var t=this.order,e=t.amount(),n=t.instrumentDriver(),i=n.get("statusOfInstrument"),r=n.instrument();switch(i){case G:case Y:break;case Q:t.stopLoss().auto(),t.takeProfit().auto(),this.chartModel.changeInstrument(r.getSymbol()),this.basketModel.setSymbol(r.getSymbol());break;case $:this.$moneyTitle.html(a.getUserCurrency()),this.$amountLabel.html(e.getFullAmountLabel()),this.$amountLabel.attr("title",e.getFullAmountLabel()),this.basketModel.setSymbol(r.getSymbol()),this.reflectSentiments(),this.reflectRates(),this.showExpiration()}},onStatusOfInstrumentInfo:function(){var t=this.order,e=t.instrumentDriver();switch(e.get("statusOfInstrumentInfo")){case G:break;case W:this.chartModel.set("precision",e.instrument().getPrecision()),this.reflectRates(),this.reflectDirection(),this.showTieredMargin(),this.updateInstrumentTradable()}},onStatusOfStopLoss:function(){var t=this.order,e=t.instrument(),n=t.stopLoss(),i=n.get("status"),o=this.stopLoss,s=this.slMoney,a=this.slPercent,l=this.slPips,c=this.$slErrorMessage,u=n.value(),d=n.get("money"),h=n.get("percent"),p=n.get("pips"),f=e.getPrecision(),m=e.getPipsPrecisionSize(),g=e.getPipsPrecisionDiff(),v=r.isEmpty(g)?z:e.getPipsPrecisionStep();switch(i){case X:this.enableFields(o,s,a,l);break;case K:this.disableFields(o,s,a,l),o.silentValue(""),s.silentValue(""),a.silentValue(""),l.silentValue(""),c.html("");break;case W:o.setOptions({precision:f,step:m}),l.setOptions({precision:g,step:v}),o.silentValue(u===G?"":u),s.silentValue(d===G?"":d),a.silentValue(h===G?"":h),l.silentValue(p===G?"":p)}},onStatusOfTakeProfit:function(){var t=this.order,e=t.instrument(),n=t.takeProfit(),i=n.get("status"),o=this.takeProfit,s=this.tpMoney,a=this.tpPercent,l=this.tpPips,c=this.$tpErrorMessage,u=n.value(),d=n.get("money"),h=n.get("percent"),p=n.get("pips"),f=e.getPrecision(),m=e.getPipsPrecisionSize(),g=e.getPipsPrecisionDiff(),v=r.isEmpty(g)?z:e.getPipsPrecisionStep();switch(i){case X:this.enableFields(o,s,a,l);break;case K:this.disableFields(o,s,a,l),o.silentValue(""),s.silentValue(""),a.silentValue(""),l.silentValue(""),c.html("");break;case W:o.setOptions({precision:f,step:m}),l.setOptions({precision:g,step:v}),o.silentValue(u===G?"":u),s.silentValue(d===G?"":d),a.silentValue(h===G?"":h),l.silentValue(p===G?"":p)}},onStatusOfRequiredMargin:function(t,e){e===W&&this.renderDangerInfo()},enableFields:function(){r.each(arguments,function(t){return t.enable()})},disableFields:function(){r.each(arguments,function(t){return t.disable()})},onStatusOfEntry:function(){var t=this.order,e=t.entry(),n=e.get("statusOfEntry"),i=this.entry,r=e.value(),o=t.instrument().getPrecision(),s=t.instrument().getPipsPrecisionSize();switch(n){case W:i.setOptions({precision:o,step:s}),i.silentValue(r===G?"":r)}},reflectRates:function(){var t=this.order.instrument(),e=this.$changeBlock,n=this.$sellRateValue,i=this.$buyRateValue,r=e.find("span"),o=t.getBid(!0),s=t.getAsk(!0),a=t.getBidDirection(),l=t.getAskDirection(),c=t.getPercentChange();s=F.formatValueToStringOrComponent(F.divideValueByPipSize(s,t.getPipsPrecision()),!0),o=F.formatValueToStringOrComponent(F.divideValueByPipSize(o,t.getPipsPrecision()),!0),n.removeClass("up down equally"),i.removeClass("up down equally"),e.removeClass("up down equally"),n.html(o),i.html(s),r.html((c>0?"+"+c:c)+"%"),n.addClass(rt(a)),i.addClass(rt(l)),e.addClass(rt(c))},reflectDirection:function(){var t=this.order.direction(),e=this.direction;t.isBuyTradable()&&e.enableByValue(U),t.isSellTradable()&&e.enableByValue(j),t.isBuyTradable()?t.isSellTradable()||(e.setChecked(U),e.disableByValue(j)):(e.setChecked(j),e.disableByValue(U))},destroy:function(){this.keyboardEvents.off(),c.prototype.destroy.call(this),this.order.destroy(),this.chartModel.destroy(),this.basketModel.destroy()},reflectSentiments:function(){var t=this.$(".new-order__sentiment-block"),e=this.$(".new-order__horz-splitter_info-block"),n=this.$(".new-order__sentiment-buyers-value"),i=this.$(".new-order__sentiment-sellers-value"),r=this.$(".new-order__sentiment-block .bar i"),o=this.$(".new-order__sentiment-block .bar b"),s=this.order.instrument().get("sentiment");nt(t),nt(e),et(s)||(it(t),it(e),n.html(s.longs),i.html(s.shorts),o.css("width",s.longs+"%"),r.css("width",s.shorts+"%"))},openDeposit:function(){s.trigger("flow:deposit:RealDepositItemMainMenu"),this.close()},isSearching:function(){return"block"===this.$(".search-block .results").css("display")},updateSubmitState:function(){var t=this.$(".action__submit");if(this.order.hasErrors())return void t.attr("disabled","true");t.removeAttr("disabled")},disableSubmitButton:function(){this.$(".action__submit").attr("disabled","true")},submit:function(t){var e=this;t.preventDefault(),t.stopPropagation();var n=this.order;n.hasErrors()||this.tradeConfirmation().then(function(){e.disableSubmitButton(),e.reportNewOrder(),n.placeOrder(),e.close()})},tradeConfirmation:function(){return O.isTradingPositionRiskWarningRequired()?new Promise(function(t){s.trigger("ui:risk-warning",{regulation:"spanish",action:"trade",onOK:t})}):Promise.resolve()},reportNewOrder:function(){var t=this.order,e=t.getData(),n=e.isTakeProfit,i=e.isStopLoss,o=t.instrument().get("sentiment"),s=this.options.source,l={instrumentName:e.symbol,orderDirection:e.direction,orderType:e.type,originalQuantity:e.defaultAmount,price:e.currentPrice,quantity:Math.abs(e.amount),isSentiment:!!o,OPmodeView:a.getUserCommonData().getOpenPositionMode()};if(e.isEntryLimit&&(l.entryLimitPrice=e.entry),e.isEntryStop&&(l.entryStopPrice=e.entry),o&&(l.sentimentBuyPercentage=o.longs),i&&(l.stopLossPrice=e.stopLoss),n&&(l.takeProfitPrice=e.takeProfit),!et(s))if(s.indexOf("Popular")>-1)l.viewSource="popular";else if(s.indexOf("Trending_now")>-1)l.viewSource="trendingNow",l.trendingCategoryId=r.compact(s.split("/")).pop();else if(s.indexOf("trading")>-1){var c=r.compact(s.split("/"));c.shift(),3===c.length&&c.pop(),l.viewSource="category",l.categoryName=c.join(".")}else s.indexOf("instrument")>-1?l.viewSource="instrument":l.viewSource=s.replace("-","_")||"";__eventos("tradingPlatform:orderForm:clkSendOrder",l),P.put(e.requestId,l)},updateCaption:function(){this.$(".popup-mobile-header .center").html(this.order.instrument().getDisplayName())},toggleChart:function(){var t=this.$(".new-order__mobile-chart-area"),e=this.$(".new-order__chart-expander .expand"),n=this.$(".new-order__chart-expander span");e.removeClass("icon-double-arrow-down icon-double-arrow-up"),t.hasClass("hidden")?(it(t),e.addClass("icon-double-arrow-down"),n.html(__("chart.minimize_chart"))):(nt(t),e.addClass("icon-double-arrow-up"),n.html(__("chart.expand_chart")))},renderDangerInfo:function(){if(D.isSpanishRegulation()&&l.isSpanishRegulationForOpenPositionEnabled()){var t=a.getUserCurrencySymbol(),e=this.order.requiredMargin().getTotal(),n=this.$(".new-order__danger-info");this.$(".new-order__danger-info-mobile").addClass("visible-xs"),n.removeClass("hidden"),n.html(__("spanish.regulation.new_order.text",t+e))}},updateInstrumentTradable:function(){var t=this.order.instrument().status,e=this.$el.find(".new-order__trading-outside-of-trading-hours");t.canTradeOutsideOfTradingHours()?e.removeClass("hidden"):e.addClass("hidden")}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(79),s=n(185),a=["market","limit","stop"];i.exports=s.extend({initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=r.extend({},{template:o.selectBox,disable:!1,translationKey:"",options:r.filter(a,function(e){return!r.contains(t.exclude||[],e)}),exclude:[],transformOptionsValue:function(t){return t},transformOptionText:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},t),s.prototype.initialize.call(this,t),this.value(this.options.value)}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(79),s=n(691);i.exports=s.extend({className:"form",initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.prototype.initialize.call(this,r.extend({},{template:o.radio,disable:!1,translationKey:"",items:[{value:"sell",text:'<span class="change down">'+__("actions.sell")+"</span>",checked:"sell"==t.value},{value:"buy",text:'<span class="change up">'+__("actions.buy")+"</span>",checked:"buy"==t.value}],transformOptionsValue:function(t){return t},transformOptionText:function(t){return t},title:__("wizard.form.label.DEFAULT_EMPTY"),name:"direction"},t)),this.$(".radio-inline").addClass("radio__style-1")}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(79),s=n(185),a=["sell","buy"],l={sell:function(){return'<span class="change down">'+__("actions.sell")+"</span>"},buy:function(){return'<span class="change up">'+__("actions.buy")+"</span>"}};i.exports=s.extend({className:"form",initialize:function(t){s.prototype.initialize.call(this,r.extend({},{template:o.selectBox,disable:!1,translationKey:"",options:r.filter(a,function(e){return t.except!=e}),transformOptionsValue:function(t){return t},transformOptionText:function(t){return l[t](t)},name:"directionDropdown"},t)),this.value(this.options.value)}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=(n(0),n(152));i.exports=r.extend({})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(1624),s=r.template(n(1625)),a=n(152);i.exports=o.extend({className:"hidden",render:function(){return o.prototype.render.call(this),this.$el.html(s({})),this.$errorMessage=this.$(".new-order__field-container_error"),this},isDisabled:function(){return this.field&&this.field.isDisabled()},isPristine:function(){return this.field&&this.field.isPristine()},value:function(t){return this.field&&this.field.value(t)},hide:function(){this.$el.addClass("hidden"),this.removeChildView(".new-order__control"),this.errorMessage(""),this.field&&this.stopListening(this.field)},show:function(t){var e=this;this.errorMessage(""),this.$el.removeClass("hidden"),this.field=this.addChildView(".new-order__control",a,r.extend({},this.options,t)),this.listenTo(this.field,"all",function(t,n,i){return e.trigger(t,n,i)})},errorMessage:function(t){this.$errorMessage.html(t)},setLabel:function(t){this.$(".new-order__field-name").html(t)},silentValue:function(t){this.field.silentValue(t)},setOptions:function(t){return this.field.setOptions(t)},setLabelDescription:function(t){this.$(".icon-help").parent().html('<i class="icon icon-help col-middle" aria-label="'+t+'"></i>')}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(79),s=n(114);i.exports=s.extend({className:"form",initialize:function(t){s.prototype.initialize.call(this,r.extend({},{template:o.checkBox,disable:!1,options:{value:"stop_loss"},translationKey:"",title:__("order.form.stop_loss")},t))}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(79),s=n(114);i.exports=s.extend({className:"form",initialize:function(t){s.prototype.initialize.call(this,r.extend({},{template:o.checkBox,disable:!1,options:{value:"take_profit"},translationKey:"",title:__("order.form.take_profit")},t))}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=(n(0),n(152));i.exports=r.extend({initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.intMax=6,r.prototype.initialize.call(this,t)}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1629);i.exports={create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new r(t)}}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(117),o=(n(0),{silent:!0}),s=n(49),a=s.EMPTY,l=s.UPDATE;s.SUCCESS,s.ERROR,s.PENDING,s.FOUND,s.NOT_FOUND;i.exports=r.extend({defaults:function(){return{auto:!0,value:a,statusOfEntry:a,errorMessage:""}},initialize:function(){this.set("auto",this.get("value")===a,{silent:!0}),r.prototype.initialize.apply(this,arguments),this.listenTo(this.instrumentDriver(),"change:statusOfInstrumentInfo",this.onStatusOfInstrumentInfo),this.listenTo(this.direction(),"change:value",this.update),this.listenTo(this.type(),"change:value",this.update)},value:function(){return this.get("value")},setValue:function(t){var e=this.control("statusOfEntry");e(0,0,o),e(l,{value:t}),this.validate()},onStatusOfInstrumentInfo:function(){switch(this.statusOfInstrumentInfo()){case l:this.update()}},update:function(){var t=this.control("statusOfEntry");t(0,0,o),t(l,{value:this.get("auto")?this.getDefaultValue():this.value()}),this.validate()},disableAutomatic:function(){this.set("auto",!1,o)}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(117),s={silent:!0},a=n(49),l=a.EMPTY,c=a.UPDATE,u=a.ENABLED,d=a.DISABLED;i.exports=o.extend({initialize:function(){o.prototype.initialize.apply(this,arguments),this.listenTo(this.type(),"change:value",this.update),this.listenTo(this.requiredMargin(),"change:statusOfRequiredMargin",this.update)},setEntry:function(){o.prototype.setEntry.apply(this,arguments),this.listenTo(this.entry(),"change:statusOfEntry",this.onStatusOfEntry),this.onStatusOfEntry()},removeEntry:function(){this.stopListening(this.entry()),o.prototype.removeEntry.apply(this,arguments),this.isEnabled()&&this.update()},onStatusOfEntry:function(){switch(this.entry().get("statusOfEntry")){case c:this.isEnabled()&&this.update()}},auto:function(){this.set({autoPrice:!0,autoMoney:!0,autoPercent:!0,autoPips:!0})},touch:function(t){this.disableAutoFieldsExcept([t])},update:function(){if(this.isEnabled()){var t=this.toJSON(),e=t.autoPrice,n=t.autoPips,i=t.autoPercent,r=t.autoMoney,o=r&&i&&n,a=this.control("status");e&&o?this.setDefaultPrice(this.getDefaultPrice(),!0):(!e&&this.setPrice(this.getPrice(),!0),!r&&this.setMoney(this.get("money"),!0),!i&&this.setPercent(this.get("percent"),!0),!n&&this.setPips(this.get("pips"),!0)),this.validate(),a(0,0,s),a(c)}},isEnabled:function(){return!0===this.get("isEnabled")},enable:function(){this.set(this.defaults(),s),this.set("isEnabled",!0,s);var t=this.control("status");t(0,0,s),t(u),this.update()},disable:function(){this.set(this.defaults(),s),this.set("isEnabled",!1,s);var t=this.control("status");t(0,0,s),t(d)},getPrice:function(){return this.value()},getPips:function(t){var e=Number(t)||this.value();if(e!==l){var n=this.getCommonData(),i=n.price,r=n.diffPipsPrecision,o=n.pipsPrecisionSize,s=Math.abs((e-i)/o);return Number(s).toFixed(r)}},getPercent:function(t){var e=this.getCommonData(),n=e.calculatedRequiredMarginInAccountCurrency;if(n){var i=Number(t)||this.get("money");if(i!==l)return Number(i)/n*100}},disableAutoFieldsExcept:function(t){var e=this,n=["Price","Money","Percent","Pips"];r.each(n,function(n){return e.set("auto"+n,!r.contains(t,n),s)})},getClosePrice:function(t){var e=this.getCommonData(),n=e.currentPrice,i=e.marginRate,r=e.isBuy,o=e.precision,s=Number(t)||n,a=r?-1:1,l=s*(1+a*(i/100));return this.roundPrice(l,o)}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=(n(0),n(730)),o=n(49),s=o.EMPTY,a={silent:!0};i.exports=r.extend({defaults:function(){return{stopLossPrice:s,money:s,percent:s,pips:s,status:s,autoPrice:!0,autoMoney:!0,autoPercent:!0,autoPips:!0,errorMessage:""}},initialize:function(){r.prototype.initialize.apply(this,arguments);var t=this.get("stopLossPrice");t!==s&&(this.set({isEnabled:!0},a),this.setPrice(t))},value:function(){return this.get("stopLossPrice")},getMoney:function(t){var e=this.entry(),n=e?Number(e.value()):s,i=this.value(),r=this.getCommonData(),o=r.isBuy,a=r.amount,l=r.price,c=r.conversionRate;if(a===s||i===s)return s;l=n!==s?n:l,i=Number(t)||Number(i);var u=Math.abs(i-l)*a,d=u*c;return d=(o?l-i:i-l)<0?0:d,Number(d).toFixed(2)},getDefaultPrice:function(){var t=this.entry(),e=t?Number(t.value()):0,n=void 0,i=this.minOrderDistance(),r=this.get("pips"),o=this.get("autoPips"),a=this.getCommonData(),l=a.isBuy,c=a.price,u=a.oppositePrice,d=a.precision,h=a.pipsPrecisionSize;return l?(n=c-i)>u&&(n=Number(u-h).toFixed(d)):(n=c+i)<u&&(n=Number(u+h).toFixed(d)),t&&(n=l?e-i:e+i),o||r===s||(n=l?n-Number(r):n+Number(r)),Number(n).toFixed(d)},setDefaultPrice:function(t,e){this.set({stopLossPrice:t},a),this.set({money:this.getMoney(t)},a),this.set({percent:this.getPercent()},a),this.set({pips:this.getPips(t)},a),!e&&this.update()},setPrice:function(t,e){this.set({autoPrice:!1},a),this.setDefaultPrice(t,e),!e&&this.update()},setMoney:function(t,e){var n=this.getCommonData(),i=n.isBuy,r=n.price,o=n.conversionRate,s=n.amount,l=Number(t),c=i?r-l/(s*o):r+l/(s*o);this.set({autoMoney:!1},a),this.set({money:t},a),this.set({percent:this.getPercent()},a),this.set({stopLossPrice:c},a),this.set({pips:this.getPips(c)},a),!e&&this.update()},setPercent:function(t,e){var n=this.getCommonData(),i=n.isBuy,r=n.conversionRate,o=n.price,s=n.amount,l=n.calculatedRequiredMarginInAccountCurrency,c=Number(t),u=i?o-c/100*l/(s*r):o+c/100*l/(s*r);this.set({autoPercent:!1},a),this.set({percent:t},a),this.set({stopLossPrice:u},a),this.set({money:this.getMoney(u)},a),this.set({pips:this.getPips(u)},a),!e&&this.update()},setPips:function(t,e){var n=this.getCommonData(),i=n.isBuy,r=n.price,o=n.pipsPrecisionSize,s=Number(t)*o,l=i?r-s:r+s;this.set({stopLossPrice:l},a),this.set({autoPips:!1},a),this.set({money:this.getMoney(l)},a),this.set({percent:this.getPercent()},a),this.set({pips:t},a),!e&&this.update()},validate:function(){var t=this.getCommonData(),e=t.isSell,n=t.isBuy,i=t.isEntry,r=t.entryPrice,o=t.precision,s=this.getValidationValueForLoss(),a=this.getPrice(),l=this.minOrderDistance(!0),c=this.control("errorMessage");c(""),i&&(s=e?r+l:r-l),a?(e&&a<s&&c(__("order.form.validation.stop_loss_pips_higher",Number(s).toFixed(o))),n&&a>s&&c(__("order.form.validation.stop_loss_pips_lesser",Number(s).toFixed(o)))):c(__("order.form.validation.stop_loss_pips_higher",0))},getValidationValueForLoss:function(){var t=this.getCommonData(),e=t.precision,n=t.isBuy,i=t.currentPrice,r=t.currentOppositePrice,o=t.pipsPrecisionSize,s=this.minAllowedOrderDistance(),a=void 0,l=void 0;return n?(a=Number((i-s).toFixed(e)),l=Number((r-o).toFixed(e)),a<=l?a:l):(a=Number((i+s).toFixed(e)),l=Number((r+o).toFixed(e)),a>=l?a:l)}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var o;void 0!==(o=function(t,e,i){var o=n(0),s=n(13),a=n(6),l=n(22),c=n(2),u=n(733),d={silent:!0},h=n(380),p=h.PENDING,f=h.PENDING_BEGIN,m=h.PENDING_END,g=h.CONVERTER_CHANGED,v=h.NEW_FEED,b=h.UPDATE_FEED,y=h.UPDATE_ALL_FEED,_={"5m":function(t,e){return{aggregationPeriod:{name:"5m",seconds:300,intraday:!0},expansionBarsCount:0,extendedHours:!1,forexPriceField:"bid",id:t,maxBarsCount:100,range:{name:"170 Years",duration:5375808e3,defaultAggregationPeriod:{intraday:!0,name:"5m",seconds:300}},studySubscription:[],subtopic:t,symbol:e,updateInterval:300}},"1m":function(t,e){return{aggregationPeriod:{name:"1m",seconds:60,intraday:!0},expansionBarsCount:0,extendedHours:!1,forexPriceField:"bid",id:t,maxBarsCount:100,range:{name:"170 Years",duration:5375808e3,defaultAggregationPeriod:{name:"1m",seconds:60,intraday:!0}},studySubscription:[],subtopic:t,symbol:e,updateInterval:60}}};i.exports=s.extend({defaults:function(){return{symbol:"",defaultConverter:"line"}},initialize:function(){this.listenTo(c,"stream:type:chartFeedSubtopic",this.handleFeed),this.subs=null},add:function(t){var e=this.control("status");this.subs=this._create(t),a.updateChartsSubscription(l.getAtmosphereId(),this.subs.aggregation,[this.subs.id]),e(0,0,d),e(f),e(p)},remove:function(){this._destroy()},_create:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"5m",n=o.uniqueId(t+"-"+e+"-chart-simple-");return{id:n,symbol:t,allFeed:[],newFeed:[],rawFeed:[],aggregation:[_[e](n,t)]}},_destroy:function(){this.subs&&(a.unsubscribeCharts(l.getAtmosphereId(),[this.subs.id]),this.subs=null)},handleFeed:function(t){var e=this.control("status"),n=this.get("status"),i=t.historyRequestID,s=t.historyData,a=t.data,l=this.getSubscription(i),c=l.subscription,u=l.converter;if(c){var h=o.sortBy(a,function(t){return t.timestamp}),f=[].concat(r(c.rawFeed),r(h)),g=o.last(f),_=o.last(c.rawFeed)||{},w=_.timestamp!==g.timestamp,S=[].concat(r(this.convertFeed(u,h)));c.rawFeed=f,c.allFeed=[].concat(r(c.allFeed),r(this.convertFeed(u,h))),c.newFeed=[],c.updatedFeed=[],e(0,0,d),n===p?(c.allFeed=[].concat(r(this.convertFeed(u,h))),e(m)):s?(c.allFeed=this.convertFeed(u,o.sortBy(f,"timestamp")),e(y)):w?(c.newFeed=S,e(v)):(c.updatedFeed=S,e(b))}},getAllFeed:function(){return this.subs?this.subs.allFeed:[]},getNewFeed:function(){return this.subs?this.subs.newFeed:[]},getUpdatedFeed:function(){return this.subs?this.subs.updatedFeed:[]},changeConverter:function(t){var e=this.subs,n=e.subscription,i=e.allFeed,r=e.converter;if(n&&r!==t){n.allFeed=this.convertFeed(t,i);var o=this.control("status");o(0,0,d),o(g)}},convertFeed:function(t,e){return u.convert(t,e)},getSubscription:function(t){var e=this.subs;return{subscription:e&&e.id===t?e:null,converter:this.get("defaultConverter"),allFeed:e&&e.allFeed,newFeed:e&&e.newFeed}},destroy:function(){this._destroy(),s.prototype.destroy.call(this)}})}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0);i.exports={convert:function(t,e){switch(t){case"candlestick":return this.candlestick(e);case"ohlc":return this.ohlc(e);case"line":default:return this.line(e)}},line:function(t){return r.map(t,function(t){return[t.timestamp,t.close]})},candlestick:function(t){return r.map(t,function(t){return[t.timestamp,t.open,t.high,t.low,t.close]})},ohlc:function(t){return r.map(t,function(t){return[t.timestamp,t.open,t.high,t.low,t.close]})}}}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(12),s=n(0),a=s.template(n(1651)),l=o.extend({className:"slide-box",timingMs:200,isOpened:!1,events:function(){return s.extend({},s.result(o.prototype,"events"),{"click .fn-close":"closePanel","click .fn-previous":"onPrevious","touchstart .slide-box-panel":"onHandleClickAndTouch","touchstart .slide-box-container":"onHandleClickAndTouch","click .slide-box-panel":"onHandleClickAndTouch","click .slide-box-container":"onHandleClickAndTouch"})},attributes:{tabindex:"-1"},getOptions:function(t){return s.extend({},{parent:document.body,showBoxShadow:!1,boxWidth:"100%",maxBoxWidth:"100%",showHeader:!0,overlayTranslucent:"1",previousCaption:"",caption:"",onPrevious:function(){},onNext:function(){}},t)},initialize:function(t){o.prototype.initialize.apply(this,arguments),this.render()},render:function(){o.prototype.render.call(this),this.$el.attr("id",this.cid),this.$el.html(r(a(this.getRenderTemplateData()))),this.openPanel()},getRenderTemplateData:function(){return{cid:this.cid,options:this.options}},close:function(){this.closePanel(),this.destroy()},setContent:function(t){this.$el.find(".slide-box-content").html(t)},getPopupViewId:function(){return this.cid},getOverlayEl:function(){return r(this.$(".slide-box-overlay"))},getPanelEl:function(){return r(this.$(".slide-box-container"))},show:function(){this.$el.css("display","block"),this.lockScrollOnBody()},hide:function(){this.$el.css("display","none"),this.unlockScrollOnBody()},showOverlay:function(){var t=this.getOverlayEl(),e=t.css("opacity");t.css("opacity",0),setTimeout(function(){t.css("opacity",e)},0)},hideOverlay:function(){this.getOverlayEl().css("opacity",0)},addOpenStateClass:function(){this.$el.addClass("slide-box-opened")},removeOpenStateClass:function(){this.$el.removeClass("slide-box-opened")},lockScrollOnBody:function(){r("body").addClass("scroll-lock")},unlockScrollOnBody:function(){r("body").removeClass("scroll-lock")},openPanel:function(){this.showOverlay(),this.addOpenStateClass(),this.isOpened=!0,this.show()},closePanel:function(){var t=this;this.hideOverlay(),this.removeOpenStateClass(),setTimeout(function(){t.hide(),t.destroy(),t.unlockScrollOnBody()},this.timingMs),this.isOpened=!1},toggleMenu:function(){this.isOpened?this.closePanel():this.openPanel()},onPrevious:function(){this.closePanel(),this.options.onPrevious()},getEventInfo:function(t){var e=r(t.currentTarget).attr("class");return{isContainer:e.indexOf("slide-box-container")>=0,isPanel:e.indexOf("slide-box-panel")>=0||r(t.currentTarget).parent("slide-box-panel")}},onHandleClickAndTouch:function(t){var e=this.getEventInfo(t);if(e.isContainer)return this.onPreventDefaultAndClosePanel(t);e.isPanel&&this.onStopImmediatePropagation(t)},onPreventDefaultAndClosePanel:function(t){this.onPreventDefault(t),this.closePanel()},onPreventDefault:function(t){t.preventDefault()},onStopImmediatePropagation:function(t){t.stopImmediatePropagation()}});i.exports=l}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){function o(){return _.pop()}function s(t,e){return t=d.isFunction(t)?t:d.noop,e?function(){h.trigger("ribbon:strip:user:action"),l(),t()}:function(){h.trigger("ribbon:strip:user:action"),t()}}function a(t){if(t){if(!b(g,t))return null;var e={onDismissClick:s(t.onDismissClick,!0),onMoreClick:s(t.onMoreClick,!1)},n={data:d.extend({_id:d.uniqueId([v])},d.extend(t,e))};return d.isEmpty(y)?(y=d.extend(n,{view:new w(n.data)}),y.data._id):n.data.level>y.data.level?(y.data.persist&&_.push(y.data),y.view.hide(),y=d.extend(n,{view:new w(n.data)}),n.data._id):n.data.level===y.data.level?n.data.topic!==y.data.topic?(_.push(n.data),n.data._id):null:n.data.level<y.data.level&&n.data.topic===y.data.topic?null:(_.push(n.data),n.data._id)}}function l(){if(!d.isEmpty(y)){y.view.hide(),y={};var t=o();if(!t)return;y=d.extend({data:t},{view:new w(t)})}}function c(t){if(!d.isEmpty(y)&&y.data._id===t)return l();t&&_.removeById(t)}var u=n(12),d=n(0),h=n(2),p=n(15),f=n(699),m=d.template(n(1655)),g=["message","topic","level"],v="NOTIFICATION_ID",b=function(t,e){return d.every(t,function(t){return d.has(e,t)})},y={},_=new f,w=u.extend({className:"ribbon-notification",events:function(){return d.extend({},d.result(u.prototype,"events"),{"click .fn-more":"moreClick","click .fn-dismiss":"dismissClick","click .message":"onClick"})},initialize:function(t){u.prototype.initialize.apply(this,arguments),this.options=d.extend({showMore:!0,hideDismiss:!1,showWarning:!1,parent:r(".ribbon-box")},t),this.toggleVisibility=this.toggleVisibility.bind(this),window.addEventListener("orientationchange",this.toggleVisibility,!1),this.render()},toggleVisibility:function(){if(p.mobile()){window.matchMedia("(orientation: portrait)").matches?this.$el.removeClass("hidden"):this.$el.addClass("hidden")}},destroy:function(){document.removeEventListener("orientationchange",this.toggleVisibility),u.prototype.destroy.call(this)},render:function(){d.has(this.options,"message")&&(this.$el.html(m(this.options)),this.options.type&&this.$el.addClass(this.options.type),this.options.parent.append(this.$el),h.trigger("ribbon:update"))},moreClick:function(){if(d.isFunction(this.options.onMoreClick))return this.options.onMoreClick();this.hide()},dismissClick:function(){if(d.isFunction(this.options.onDismissClick))return this.options.onDismissClick();this.hide()},onClick:function(){if(d.isFunction(this.options.onClick))return this.options.onClick()},hide:function(){this.$el.addClass("hidden"),h.trigger("ribbon:update"),this.destroy()}});i.exports.show=a,i.exports.hideAndMoveToNextMessage=l,i.exports.hide=c}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"TOPIC_NAMES",function(){return i});var i={LIQUIDATION_LEVEL:"LIQUIDATION_LEVEL",LIQUIDATION_LEVEL_BUFFER:"LIQUIDATION_LEVEL_BUFFER",MARGIN_LEVEL_1:"MARGIN_LEVEL_1",MARGIN_LEVEL_2:"MARGIN_LEVEL_2",PENDING_DEPOSIT:"PENDING_DEPOSIT"}},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(80),s=r.template(n(1659)),a=r.template(n(127)),l=n(86),c=n(6),u=n(2),d=n(7),h=o.extend({events:function(){return r.extend({},r.result(o.prototype,"events"),{"click #auth-forgot-password-button-submit":"submit","click #forgot-password-back-to-login-page-link":"close","submit .forgot-password-form":"submit"})},isFooterShowed:!0,isForgotPassSentToMail:!1,ui:{email:"#auth-forgot-password-input-email",submit:"#auth-forgot-password-button-submit",inform:".inform-block",error:".error-block"},getOptions:function(t){return r.extend({},o.prototype.getOptions.call(this,t),t)},initialize:function(t){o.prototype.initialize.apply(this,arguments),t.backKey&&(this.backKey=t.backKey),void 0!==t.isFooterShowed&&(this.isFooterShowed=t.isFooterShowed),this.render()},render:function(){o.prototype.render.call(this),this.setContent(s({isFooterShowed:this.isFooterShowed,backKey:this.backKey?this.backKey:"actions.back"})),this.initForm()},initForm:function(){["fn-auth-forgot-password-input-email"].forEach(function(t){this.$("."+t+" > input")[0].onfocus=this.onFocus.bind(this)},this)},onFocus:function(t){t.target.parentNode.classList.remove("field-error"),this.cleanErrors()},getValidatorFilters:function(){return{"fn-auth-forgot-password-input-email":["string"]}},getValidatorRules:function(){return{"fn-auth-forgot-password-input-email":{not_empty:__("registration.warning.field_is_required",__("account_settings.customer_info.form.email")),email:__("withdraw.form.error.email")}}},getFormData:function(){return{"fn-auth-forgot-password-input-email":this.$(this.ui.email).val()}},validate:function(){var t=new l(this.getValidatorFilters(),this.getValidatorRules()),e=this.getFormData();return t.validate(e)},submit:function(t){var e=this;t.preventDefault(),this.cleanErrors(),this.hideBlock(this.ui.inform),this.hideBlock(this.ui.error);var n=this.validate(),i=this.getFormData()["fn-auth-forgot-password-input-email"];if(n)return void this.showErrors(n);this.disableForm(),this.hideBlock(this.ui.inform),c.forgotPassword(i).then(function(){e.isForgotPassSentToMail=!0,e.enableForm(),e.inform(__("forgot_password.confirmation",i))}).catch(function(){e.enableForm(),e.error(__("generic.error.message"))})},close:function(){this.isForgotPassSentToMail&&d.isLoggedIn()&&u.trigger("user:session:close"),o.prototype.close.call(this)},inform:function(t){this.$el.find(this.ui.inform).html(t),this.showBlock(this.ui.inform)},error:function(t){this.$el.find(this.ui.error).html(t),this.showBlock(this.ui.error)},hideBlock:function(t){this.$el.find(t).css("display","none")},showBlock:function(t){this.$el.find(t).css("display","block")},disableForm:function(){this.$el.find(this.ui.email).attr("disabled",!0),this.$el.find(this.ui.submit).attr("disabled",!0)},enableForm:function(){this.$el.find(this.ui.email).removeAttr("disabled"),this.$el.find(this.ui.submit).removeAttr("disabled")},showErrors:function(t){var e=this;r.each(t,function(t,n,i){e.$("."+n).addClass("field-error")}),this.$(".error-block").html(a({errors:t})),this.$(".error-block").css("display","block")},cleanErrors:function(){var t=this,e=this.getFormData();r.each(e,function(e,n){t.$("."+n).removeClass("field-error")}),this.$(".error-block").css("display","none")}});i.exports=h}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(0),s=n(2),a=n(7),l=n(24),c=n(38),u=n(9),d=n(56),h=n(264),p=n(261),f=o.template(n(1662)),m=l.extend({name:"funds-management",initialize:function(t){l.prototype.initialize.apply(this,arguments),this.listenTo(a.getUserAccountMetricsModel(),"change:activeBonusesAmount",this.render),this.listenTo(s,"user:account-metrics",this.updateMetrics),this.load(t)},events:function(){return o.extend({},o.result(l.prototype,"events"),{"click .fn-withdraw":"onWithdraw","click .fn-deposit":"onDeposit"})},getOptions:function(t){return o.extend({},o.result(l.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("funds.management"),previousCaption:__("actions.back"),headerStyle:"wizard"},t)},load:function(t){var e=this;(new p).load().then(function(n){t.spreadRebate=n.data,e.render(t)}).catch(function(n){e.render(t)})},render:function(t){l.prototype.render.call(this);var e=a.getUserAccountMetricsModel(),n=a.getUserCurrencySymbol(),i=c(a.getUserPendingDeposit()).formatForeignCurrency(n),r=c(e.getBalance()).formatForeignCurrency(n),o=c(e.getBuyingPower()).formatForeignCurrency(n),s=c(e.getEquity()).formatForeignCurrency(n),h=c(e.getProfitLoss()).formatForeignCurrency(n),p=e.getProfitLoss()>=0,m=c(e.getMarginUsed()).formatForeignCurrency(n),g=c(e.getMaintenanceMargin()).formatForeignCurrency(n),v=(100*a.getUserAccountSettingsModel().getLiquidationLevel()).toFixed(),b=(100*a.getUserAccountSettingsModel().getMarginAlertLevel2()).toFixed(),y=e.getRiskLevel(),_=!d.LOW_SCORE()||!d.FULL_REGISTRATION_COMPLETED(),w=c(e.getAvailableForWithdrawal()).formatForeignCurrency(n),S=c(e.getActiveBonusesAmount()).formatForeignCurrency(n),E=!1,x=this.isBonusesEnabled(),C=0;return t.spreadRebate&&(E=!0===t.spreadRebate.active&&!1===t.spreadRebate.expired&&u.isSpreadRebateEnabled(),C=c(t.spreadRebate.spreadRebateTotal).formatForeignCurrency(n)),this.setContent(f({settings:u,pendingDeposits:a.getUserPendingDeposit(),pendingDepositsFormatted:i,userMetrics:a.getUserAccountMetricsModel(),userSettings:a.getUserAccountSettingsModel(),currency:n,balance:r,buyingPower:o,equity:s,profitLoss:h,profitLossPositive:p,marginUsed:m,maintenanceMargin:g,riskLevel:y,showSpreadRebate:E,isPlatformSwitchAllowed:_,availableForWithdrawal:w,isBonusesEnabled:x,activeBonusesAmount:S,spreadRebateTotal:C,liquidationLevel:v,marginAlertLevel2:b})),this},updateMetrics:function(){var t=a.getUserAccountMetricsModel().toJSON();o.some(t,function(t,e){return"availableBalanceForWithdrawal"===e})&&this.updateAvailableForWithdrawal()},updateAvailableForWithdrawal:function(){var t=r("span[data-id=availableForWithdrawal]"),e=c(a.getUserAccountMetricsModel().getAvailableForWithdrawal()).formatForeignCurrency(a.getUserCurrencySymbol());t.length&&t.html()!==e&&t.html(e)},onDeposit:function(t){t.preventDefault(),this.close(),s.trigger("flow:deposit:RealFundsManDeposit")},onWithdraw:function(t){t.preventDefault(),this.close(),s.trigger("ui:withdraw")},isBonusesEnabled:function(){return u.isBonusesEnabled()&&h.hasBonuses()&&h.hasCashBonuses()}});i.exports=m}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"MessageCategory",function(){return i});var i={TRADE_LOG:"TRADE_LOG"}},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(12),o=n(0),s=n(667),a=n(666),l=n(668),c=r.extend({className:"external-auth",events:function(){return o.extend({},o.result(r.prototype,"events"),{})},template:o.template(n(1690)),initialize:function(){r.prototype.initialize.apply(this,arguments),this.render()},render:function(){this.$el.append(this.template()),s.connect(this.$el.find(".fb-btn")),a.connect(this.$el.find(".google-btn")),l.connect()}});i.exports=c}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,n){n.exports={EMPTY:"EMPTY",SUCCESS:"SUCCESS",ERROR:"ERROR",LOADING:"LOADING"}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(1),a=n.n(s),l=n(1693),c=n.n(l),u=n(9),d=n.n(u),h=n(23),p=n.n(h),f=n(71),m=n.n(f),g={LIGHT:"light",DARK:"dark"},v=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),b={LIGHT:"light",DARK:"dark"},y=function(){switch(m.a.name){case g.DARK:return b.DARK;case g.LIGHT:default:return b.LIGHT}},_=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),v(e,[{key:"render",value:function(){var t=this.props,e=t.verifyCallback,n=t.expiredCallback,i=d.a.getCaptchaKey(),r=p.a.getCurrentLanguage(),o=y();return a.a.createElement(c.a,{sitekey:i,theme:o,hl:r,verifyCallback:e,expiredCallback:n})}}]),e}(a.a.Component);e.default=_},function(t,e,n){var i;void 0!==(i=function(t,e,n){n.exports={STEP_DONE:"done",STEP_PENDING:"pending",STEP_IN_PROGRESS:"in-progress"}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(2),s=n(24),a=n(383),l=n(6);i.exports=s.extend({className:"bonus-requests",name:"bonus-requests",events:function(){return r.extend({},r.result(s.prototype,"events"),{"click .fn-approve":"onApprove","click .fn-reject":"onReject","click .content":"trackClickTerms"})},getOptions:function(t){return r.extend({},r.result(s.prototype,"getOptions"),{isHeaderShowed:!1,showHeader:!1,closeOnESC:!1,caption:__("bonus_request.popup.title"),previousCaption:__("actions.back"),ignorableByLoginMessage:!0,showBoxShadow:!0},t)},getBonusCurrency:function(t){return __currency(t.currency.toUpperCase())},getBonusTypeLocalizationKey:function(t,e){return e+t.type.toLowerCase()},onApprove:function(){o.trigger("user:bonus_requests:approve"),this.close()},onReject:function(){o.trigger("user:bonus_requests:reject"),this.close()},sendApprove:function(t){l.approveBonusRequest(t.id).then(function(e){return a.approve(t)})},sendReject:function(t){l.rejectBonusRequest(t.id).then(function(e){return a.reject(t)})}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i=n(13),r=n(6),o=n(22),s=n(58),a=n(14),l=n(0),c=n(10),u=c.EMPTY,d=c.PROCESSING,h=(c.ERROR,c.SUCCESS);t.exports=i.extend({defaults:function(){return{status:u}},closeAll:function(){var t=this,e=this.getPositionsModels(this.get("positionCodes")),n=this.control("status");this.get("status")!==d&&(n(d),l.each(e,function(e){return t.close(e)}),n(h))},getPositionsModels:function(t){return l.map(t,function(t){return s.getPositionByCode(t)})},close:function(t){var e=t.get("instrumentId"),n=a.getInstrumentById(e);if(n){var i=t.getQuantity(),s=i<0,l={effect:"CLOSING",timeInForce:"FOK",instrumentId:e,positionCode:t.getPositionCode(),limitPrice:s?n.getAsk():n.getBid(),quantity:-1*i,orderType:"LIMIT"};return __eventos("tradingPlatform:closePosition:clkClosePositionSendOrder",{InstrumentName:n.getInstrumentSymbol(),PositionAmount:i,PositionId:t.getPositionCode(),PositionDirection:s?"Sell":"Buy",OrderPL:t.getPLOpen(),OrderAmount:i}),r.closePosition(o.getAtmosphereId(),l)}}})},function(t,e,n){(function(i){var r,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};void 0!==(r=function(t,e,i){var r=n(0),s=n(51),a=r.template(n(1731)),l=n(1),c=n(16),u=n(1732),d=n(1733),h=n(1734),p=n(1735),f=n(30),m=n(2),g=n(10),v=g.EMPTY,b=g.PROCESSING,y=g.ERROR,_=g.SUCCESS;i.exports=s.extend({initialize:function(t){t=o({template:a,zIndex:9999},t),s.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:status",this.onStatusChanged)},render:function(){return s.prototype.render.call(this),c.render(l.createElement("ul",{className:"list"},this.model.get("positionCodes").map(function(t,e){return l.createElement("li",{key:e,className:"list__item"},l.createElement("span",null,__("close.position.label")),l.createElement(h,{positionCode:t,as:"span"}),l.createElement(u,{positionCode:t,as:"span"}),l.createElement(p,{positionCode:t,as:"span"}),l.createElement("span",null,"@"),l.createElement(d,{positionCode:t,as:"span"}))})),this.$(".fn-list")[0]),this.$(".confirm-dialog").addClass("close-all-positions"),this},onStatusChanged:function(){switch(this.model.get("status")){case v:break;case b:this.addChildView(".content",f);break;case _:this.removeChildView(".content");break;case y:this.removeChildView(".content"),m.trigger("ui:message-box",{caption:__("errors.title"),text:__("generic.error.message")})}},onOK:function(){this.model.closeAll(),s.prototype.onOK.call(this)},destroy:function(){c.unmountComponentAtNode(this.$(".fn-list")[0]),s.prototype.destroy.call(this)}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i=n(13),r=n(6),o=n(22),s=(n(108),n(14),n(0)),a=n(748),l=a.EMPTY,c=a.PROCESSING,u=(a.ERROR,a.SUCCESS);t.exports=i.extend({defaults:function(){return{status:l}},cancelAll:function(){var t=this,e=this.get("ids")||[],n=this.control("status");this.get("status")!==c&&(n(c),s.each(e,function(e){return t.cancel(e)}),n(u))},cancel:function(t){return r.orderCancel(o.getAtmosphereId(),t)}})},function(t,e){t.exports={EMPTY:"EMPTY",PROCESSING:"PROCESSING",SUCCESS:"SUCCESS",ERROR:"ERROR"}},function(t,e,n){(function(i){var r,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};void 0!==(r=function(t,e,i){var r=n(0),s=n(51),a=r.template(n(1737)),l=n(1),c=n(16),u=n(796).default,d=n(1738).default,h=n(797).default,p=n(798).default,f=n(799).default,m=n(800).default,g=n(30),v=n(2),b=n(8),y=b.Provider,_=n(748),w=_.EMPTY,S=_.PROCESSING,E=_.ERROR,x=_.SUCCESS,C=s.extend({initialize:function(t){t=o({template:a,zIndex:9999},t),s.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:status",this.onStatusChanged)},render:function(){var t=this.model.get("ids");return s.prototype.render.call(this),c.render(l.createElement(y,{store:store},l.createElement("ul",{className:"list"},r.map(t,function(t,e){return l.createElement("li",{key:e,className:"list__item"},l.createElement(p,{orderId:t,as:"span"}),l.createElement(u,{orderId:t,as:"span"}),l.createElement(f,{orderId:t,as:"span"}),l.createElement(d,{orderId:t,as:"span"}),l.createElement(m,{orderId:t,as:"span"}),l.createElement(h,{orderId:t,as:"span"}))}))),this.$(".fn-list")[0]),this.$(".confirm-dialog").addClass("close-all-positions"),this},onStatusChanged:function(){switch(this.model.get("status")){case w:break;case S:this.addChildView(".content",g);break;case x:this.removeChildView(".content");break;case E:this.removeChildView(".content"),v.trigger("ui:message-box",{caption:__("errors.title"),text:__("generic.error.message")})}},onOK:function(){this.model.cancelAll(),s.prototype.onOK.call(this)},destroy:function(){c.unmountComponentAtNode(this.$(".fn-list")[0]),s.prototype.destroy.call(this)}});i.exports=C}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i=n(155),r=n(218),o=n(385)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){t.exports=!n(130)&&!n(180)(function(){return 7!=Object.defineProperty(n(388)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports={default:n(1754),__esModule:!0}},function(t,e,n){"use strict";var i=n(203),r=n(99),o=n(754),s=n(156),a=n(181),l=n(1759),c=n(267),u=n(750),d=n(67)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,f,m,g,v){l(n,e,f);var b,y,_,w=function(t){if(!h&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",E="values"==m,x=!1,C=t.prototype,T=C[d]||C["@@iterator"]||m&&C[m],k=T||w(m),O=m?E?w("entries"):k:void 0,P="Array"==e?C.entries||T:T;if(P&&(_=u(P.call(new t)))!==Object.prototype&&_.next&&(c(_,S,!0),i||"function"==typeof _[d]||s(_,d,p)),E&&T&&"values"!==T.name&&(x=!0,k=function(){return T.call(this)}),i&&!v||!h&&!x&&C[d]||s(C,d,k),a[e]=k,a[S]=p,m)if(b={values:E?k:w("values"),keys:g?k:w("keys"),entries:O},v)for(y in b)y in C||o(C,y,b[y]);else r(r.P+r.F*(h||x),e,b);return b}},function(t,e,n){t.exports=n(156)},function(t,e,n){var i=n(155),r=n(157),o=n(1761)(!1),s=n(385)("IE_PROTO");t.exports=function(t,e){var n,a=r(t),l=0,c=[];for(n in a)n!=s&&i(a,n)&&c.push(n);for(;e.length>l;)i(a,n=e[l++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var i=n(205);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){var i=n(66).document;t.exports=i&&i.documentElement},function(t,e,n){var i=n(755),r=n(392).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e){},function(t,e,n){t.exports={default:n(1782),__esModule:!0}},function(t,e,n){var i=n(105),r=n(266),o=n(67)("species");t.exports=function(t,e){var n,s=i(t).constructor;return void 0===s||void 0==(n=i(s)[o])?e:r(n)}},function(t,e,n){var i,r,o,s=n(188),a=n(1792),l=n(757),c=n(388),u=n(66),d=u.process,h=u.setImmediate,p=u.clearImmediate,f=u.MessageChannel,m=u.Dispatch,g=0,v={},b=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},y=function(t){b.call(t.data)};h&&p||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++g]=function(){a("function"==typeof t?t:Function(t),e)},i(g),g},p=function(t){delete v[t]},"process"==n(205)(d)?i=function(t){d.nextTick(s(b,t,1))}:m&&m.now?i=function(t){m.now(s(b,t,1))}:f?(r=new f,o=r.port2,r.port1.onmessage=y,i=s(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(t){u.postMessage(t+"","*")},u.addEventListener("message",y,!1)):i="onreadystatechange"in c("script")?function(t){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),b.call(t)}}:function(t){setTimeout(s(b,t,1),0)}),t.exports={set:h,clear:p}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var i=n(105),r=n(129),o=n(399);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";(function(t){function n(e){var n;n="undefined"!=typeof window?window:"undefined"!=typeof self?self:t;var i="undefined"!=typeof document&&document.attachEvent;if(!i){var r=function(){var t=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||function(t){return n.setTimeout(t,20)};return function(e){return t(e)}}(),o=function(){var t=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame||n.clearTimeout;return function(e){return t(e)}}(),s=function(t){var e=t.__resizeTriggers__,n=e.firstElementChild,i=e.lastElementChild,r=n.firstElementChild;i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight,r.style.width=n.offsetWidth+1+"px",r.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},a=function(t){return t.offsetWidth!=t.__resizeLast__.width||t.offsetHeight!=t.__resizeLast__.height},l=function(t){if(!(t.target.className&&"function"==typeof t.target.className.indexOf&&t.target.className.indexOf("contract-trigger")<0&&t.target.className.indexOf("expand-trigger")<0)){var e=this;s(this),this.__resizeRAF__&&o(this.__resizeRAF__),this.__resizeRAF__=r(function(){a(e)&&(e.__resizeLast__.width=e.offsetWidth,e.__resizeLast__.height=e.offsetHeight,e.__resizeListeners__.forEach(function(n){n.call(e,t)}))})}},c=!1,u="",d="animationstart",h="Webkit Moz O ms".split(" "),p="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),f="",m=document.createElement("fakeelement");if(void 0!==m.style.animationName&&(c=!0),!1===c)for(var g=0;g<h.length;g++)if(void 0!==m.style[h[g]+"AnimationName"]){f=h[g],u="-"+f.toLowerCase()+"-",d=p[g],c=!0;break}var v="resizeanim",b="@"+u+"keyframes "+v+" { from { opacity: 0; } to { opacity: 0; } } ",y=u+"animation: 1ms "+v+"; "}var _=function(t){if(!t.getElementById("detectElementResize")){var n=(b||"")+".resize-triggers { "+(y||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',i=t.head||t.getElementsByTagName("head")[0],r=t.createElement("style");r.id="detectElementResize",r.type="text/css",null!=e&&r.setAttribute("nonce",e),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(t.createTextNode(n)),i.appendChild(r)}};return{addResizeListener:function(t,e){if(i)t.attachEvent("onresize",e);else{if(!t.__resizeTriggers__){var r=t.ownerDocument,o=n.getComputedStyle(t);o&&"static"==o.position&&(t.style.position="relative"),_(r),t.__resizeLast__={},t.__resizeListeners__=[],(t.__resizeTriggers__=r.createElement("div")).className="resize-triggers",t.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',t.appendChild(t.__resizeTriggers__),s(t),t.addEventListener("scroll",l,!0),d&&(t.__resizeTriggers__.__animationListener__=function(e){e.animationName==v&&s(t)},t.__resizeTriggers__.addEventListener(d,t.__resizeTriggers__.__animationListener__))}t.__resizeListeners__.push(e)}},removeResizeListener:function(t,e){if(i)t.detachEvent("onresize",e);else if(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),!t.__resizeListeners__.length){t.removeEventListener("scroll",l,!0),t.__resizeTriggers__.__animationListener__&&(t.__resizeTriggers__.removeEventListener(d,t.__resizeTriggers__.__animationListener__),t.__resizeTriggers__.__animationListener__=null);try{t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)}catch(t){}}}}}e.a=n}).call(e,n(41))},function(t,e,n){"use strict";var i=n(1),r=n.n(i),o=n(8),s=n(40),a=n.n(s),l=n(53),c=function(t,e){var n=e.tabId;return{count:n?Object(l.j)(n)(t):0}},u=function(t){var e=t.count,n=a.a.notificationCenter.limiter.unreadCount;return n<e&&(e=""+n+(a.a.notificationCenter.limiter.exceedSymbol||"")),r.a.createElement("span",{className:"notification-center__tab-count"},!!e&&"("+e+")")};e.a=Object(o.connect)(c)(u)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(1),d=n.n(u),h=n(11),p=n.n(h),f=n(8),m=n(33),g=n.n(m),v=n(766),b=n(115),y=n(47),_=n(53),w=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),S=function(t){return{markAllCheckboxState:Object(_.f)(t),isMessageVisible:Object(_.k)(t),messages:Object(_.h)(t)}},E=function(t){return{messagesSelectAll:function(e,n){return t(Object(y.messagesSelectAll)(e,n))}}},x=function(t){function e(){var t;i(this,e);for(var n=arguments.length,o=Array(n),s=0;s<n;s++)o[s]=arguments[s];var a=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o)));return g()(a),a}return o(e,t),w(e,[{key:"onSelectAll",value:function(t){this.props.messagesSelectAll(this.props.name,t.target.checked)}},{key:"render",value:function(){var t=this.props,e=t.name,n=t.markAllCheckboxState,i=t.isActive,r=t.isMessageVisible,o=t.messages,s=n===b.TAB_CHECKBOX_CHECKED,a=p()({"custom-checkbox":!0,indeterminate:n===b.TAB_CHECKBOX_INDETERMINATE}),l=p()({"notification-center__tabs__checkbox":!0,offset:!i||r||!o.count});return d.a.createElement("span",{className:l},d.a.createElement("input",{className:a,type:"checkbox",name:"tab-checkbox-"+e,id:"message-checkbox-"+e,checked:s,onChange:this.onSelectAll}),d.a.createElement("label",{htmlFor:"message-checkbox-"+e}))}}]),e}(d.a.Component);x.defaultProps={isActive:!1,name:""};var C=Object(f.connect)(S,E)(x);n.d(e,"a",function(){return O});var T=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),k=function(t){return{setActiveType:function(e){return t(Object(y.setActiveTab)(e))},messagesSelectAll:function(e,n){return t(Object(y.messagesSelectAll)(e,n))}}},O=function(t){function e(){var t;a(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=l(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i)));return g()(o),o}return c(e,t),T(e,[{key:"setActiveType",value:function(){this.props.isActive||(this.props.setActiveType(this.props.name),this.props.messagesSelectAll(this.props.name,!1))}},{key:"render",value:function(){var t,e=this.props,n=e.className,i=e.name,r=p()((t={},s(t,n,!!n),s(t,"notification-center__tab",!0),s(t,"active",this.props.isActive),t));return d.a.createElement("div",{className:r,onClick:this.setActiveType},d.a.createElement(C,{isActive:this.props.isActive,name:i}),d.a.createElement("span",null,__("notification.center.tab."+i.toLowerCase())),d.a.createElement(v.a,{tabId:i}))}}]),e}(d.a.Component);O.defaultProps={isActive:!1,name:""};e.b=Object(f.connect)(void 0,k)(O)},function(t,e,n){"use strict";var i=n(1),r=n.n(i),o=function(){return r.a.createElement("div",{className:"notification-center__tabs_slider"},r.a.createElement("div",{className:"notification-center__tabs_slider_indicator"}))};e.a=o},function(t,e,n){t.exports=n.p+"images/d69cf1e71be0.svg"},function(t,e,n){t.exports=n.p+"images/11f1bf57c0a7.svg"},function(t,e,n){"use strict";var i=n(1),r=n.n(i),o=function(){return r.a.createElement("div",{className:"notification-center__title"},__("notification.center.title"))};e.a=o},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(1),a=n.n(s),l=n(0),c=n.n(l),u=n(6),d=n.n(u),h=n(10),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),f=1e3,m=function(t){function e(t){i(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={status:h.EMPTY},n.throttledHandleTryAgain=c.a.throttle(function(){return n.mounted&&n.handleTryAgain()},f),n}return o(e,t),p(e,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"handleTryAgain",value:function(){var t=this,e=this.props.testUrl;this.setStatus(h.LOADING),d.a.get(e).then(function(e){return t.onLine()}).catch(function(e){return c.a.delay(function(){return t.setStatus(h.ERROR)},500)})}},{key:"setStatus",value:function(t){this.mounted&&this.setState({status:t})}},{key:"onLine",value:function(){this.mounted&&c.a.isFunction(this.props.onLine)&&this.props.onLine()}},{key:"render",value:function(){var t=this.state.status;return a.a.createElement("div",{className:"offline-page pane pane__fluid pane__column"},a.a.createElement("div",{className:"pane"},a.a.createElement("div",{className:"offline-page__header"})),a.a.createElement("div",{className:"pane pane__fluid pane__column offline-page__body"},t===h.LOADING&&a.a.createElement("div",{className:"offline-page__content"},a.a.createElement("h1",null,"Checking...")),t!==h.LOADING&&a.a.createElement("div",{className:"offline-page__content"},a.a.createElement("h1",null,"Sorry!"),a.a.createElement("p",null,"We were unable to load the page you requested."),a.a.createElement("p",null,"Please check your network connection and ",a.a.createElement("a",{href:"#",className:"try-again__link",onClick:this.throttledHandleTryAgain},"try again.")))))}}]),e}(s.Component);e.default=m},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(0),s=n(12),a=n(774),l=o.template(n(1834)),c=o.template(n(1835)),u=s.extend({events:function(){return o.extend({},o.result(s.prototype,"events"),{"click .node":"onNodeClick"})},collection:new a,initialize:function(t){s.prototype.initialize.apply(this,arguments),this.listenTo(this.collection,"update",this.render),this.render()},onNodeClick:function(t){var e=r(t.currentTarget),n=e.hasClass("folder"),i=e.hasClass("closed"),o=e.attr("data-id");if(t.preventDefault(),!n){this._selected&&(this._selected.removeClass("tree_node_selected"),this.$el.find(".child_selected").removeClass("child_selected")),this._selected=e.addClass("tree_node_selected");var s=e.closest(".folder"),a=r(s).parent().closest(".folder");s&&r(s).addClass("child_selected"),a&&r(a).addClass("child_selected")}var l=this.collection.getItemById(o);if(l&&this.trigger("node:click",l.toJSON()),n)return void(i?this.openNode(e):this.closeNode(e))},openNode:function(t){t.removeClass("closed")},closeNode:function(t){t.addClass("closed")},render:function(){this.$el.html(l({nodeTemplate:c,items:this.collection.asHierarchic()}))},setItems:function(t){this.collection.clear(),this.collection.set(t)},openByPath:function(t){var e=this.collection.getPathToNode(t);o.each(e,function(t){var e=r("div[data-id='"+t.id+"']");this.openNode(e),t.set("closed",!1),"folder"!==t.get("type")&&(this._selected&&(this._selected.removeClass("tree_node_selected"),this.$el.find(".child_selected").removeClass("child_selected")),this._selected=e.addClass("tree_node_selected"),o.each(e,function(t){var e=r(t).closest(".folder"),n=r(e).parent().closest(".folder");e&&r(e).addClass("child_selected"),n&&r(n).addClass("child_selected")}))},this)},getSelectedEl:function(){return this._selected},removeSelectionEl:function(t){return t&&t.removeClass("tree_node_selected"),t},addSelectionEl:function(t){return t&&t.addClass("tree_node_selected"),t}});i.exports=u}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(17),s=n(1833),a=o.Collection.extend({model:s,set:function(t){return t=this.initTree(t),t=this.flatten(t),o.Collection.prototype.set.call(this,t)},initTree:function(t){function e(t,e,n){return r.map(t,function(t,i,r){return e(t,i,r,n)})}return e(t,function t(n,i,o,s){return n.id=r.uniqueId("node-"),n.parentId=s,n.children&&(n.children=e(n.children,t,n.id)),n})},flatten:function(t){function e(t,e){return r.each(t,e)}var n=[];return e(t,function t(i,r,o){if(i){var s=i.children;delete i.children,n.push(i),e(s,t)}}),n},asHierarchic:function(){function t(e){return r.map(e,function(e,n,i){var r=e.toJSON(),o=e.getChildren();return o.length&&(r.children=t(o)),r})}var e=[],n=this.filter({parentId:""});return r.each(n,function(n){var i=n.toJSON(),r=n.getChildren();r.length&&(i.children=t(r)),e.push(i)}),e},getItemById:function(t){return this.findWhere({id:t})},getPathToNode:function(t){for(var e=[],n=0;n<t.length;n++)if(t[n]){var i=this.findWhere({name:t[n]});if(!i)return[];e.push(i)}return e},getItemByPath:function(t){return this.findWhere({path:t})}});i.exports=a}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){function r(t){var e="tab."+t.path.replace(new RegExp("/$"),"").replace("/","").split("/").map(function(t){return t.toLowerCase()}).join(".");return e}function o(t){return c.map(t,function(t){var e=t instanceof Backbone.Model,n="";if(e)var i=t.getCategoryName(),s=!1,a=t.getName();else{var i=t.category,s=t.elements,a=t.name||i;n=r(t);var l=[]}if(!s||c.isArray(s)&&0===s.length)return!1;l=o(s),a=(a.charAt(0).toUpperCase()+a.slice(1)).replace(new RegExp("_","g")," ");var u={category:i,name:a,localizedNameKey:n,children:l,close:!1,path:t.path,parentPath:t.parentPath,categoryId:t.id};return l&&!1===l[0]&&delete u.children,u.children&&(u.type="folder"),/\w-\w/i.test(a)&&(u.closed=!0),u})}function s(){var t=l.getData();t=o(t),u.set(t)}var a=n(774),l=n(14),c=n(0),u=new a;return l.on("update sync",s),s(),u}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){function r(){b=window.open()}var o=n(0),s=n(30),a=n(51),l=n(55),c=o.template(n(1837)),u=o.template(n(127)),d=n(86),h=n(6),p=n(7),f=n(23),m=n(10),g=m.HTTP_STATUS_CODE,v=m.SECOND_IN_MILLISECONDS,b=void 0,y=void 0,_=a.extend({initialize:function(t){a.prototype.initialize.apply(this,arguments),this.render()},events:function(){return o.extend({},o.result(a.prototype,"events"),{"click .forgot-password-link":"forgotPassword"})},render:function(){a.prototype.render.call(this),this.initForm(),this.$el.find(".content .message").html(c())},initForm:function(){},getValidatorFilters:function(){return{"auth-panel-password-field":["string"]}},getValidatorRules:function(){return{"auth-panel-password-field":{not_empty:__("registration.warning.field_is_required",__("new_account.input.password.placeholder"))}}},createValidator:function(){return new d(this.getValidatorFilters(),this.getValidatorRules())},showErrors:function(t){o.each(t,function(t,e,n){this.$("."+e).addClass("field-error")},this),this.$(".error-block").html(u({errors:t})),this.$(".error-block").css("display","block")},cleanErrors:function(){var t=this.getFormData();o.each(t,function(t,e){this.$("."+e).removeClass("field-error")},this),this.$(".error-block").css("display","none")},getFormData:function(){return{"auth-panel-password-field":this.$(".auth-panel-password-field input").val()}},showUserLoginError:function(t){this.$(".error-block").html(u({errors:[[t]]})),this.$(".error-block").css("display","block")},onOK:function(){this.cleanErrors();var t=this.createValidator(),e=t.validate(this.getFormData());return e?void this.showErrors(e):(y=setTimeout(r,v),this.showLoadingPopup(),h.applyCredentials(t.data("auth-panel-password-field"),f.getCurrentLanguage()).then(this.onUserMT4LinkSuccess.bind(this)).catch(this.onUserMT4LinkError.bind(this)))},openMT4Link:function(t){if(t){var e=window.open(t,"_blank");e.focus&&e.focus()}},onUserMT4LinkSuccess:function(t){o.has(t,"data")&&(setTimeout(function(){b.location.href=t.data,b.focus&&b.focus()},v),this.hideLoadingPopup(),this.onCancel())},onUserMT4LinkError:function(t){b?b.close():clearTimeout(y),this.hideLoadingPopup();var e="";return parseInt(t.response.status)!==g.BAD_REQUEST&&parseInt(t.response.status)!==g.FORBIDDEN||(e=t.response.data),this.showUserLoginError(e?__(e):__("generic.error.message")),Promise.reject(t)},forgotPassword:function(){var t=this,e=p.getUserData().getCrmboCustomer();return h.forgotPasswordById(e.id).then(function(){new l({text:__("mt4.password.need.reset",e.email),onOK:function(){t.close()},isHeaderShowed:!1,okBtnText:__("ok"),isShowCloseForMobile:!1})})},showLoadingPopup:function(){this.fixedLoadingView||(this.fixedLoadingView=new s({parent:this.$el,position:"fixed",translucent:"2"}))},hideLoadingPopup:function(){this.fixedLoadingView&&(this.fixedLoadingView.destroy(),this.fixedLoadingView=null)}});i.exports=_}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(12),s=n(15),a=n(2),l=n(7),c=n(264),u=n(1850);i.exports=o.extend({template:r.template(n(1851)),events:function(){return r.extend({},r.result(o.prototype,"event"),{"click .bonus-progress":"onClick"})},initialize:function(t){o.prototype.initialize.apply(this,arguments),this.model=c,this.listenTo(this.model,"change:active",this.setActiveBonus),this.toggleVisibility=this.toggleVisibility.bind(this),window.addEventListener("orientationchange",this.toggleVisibility,!1),this.render()},toggleVisibility:function(){if(s.mobile()){window.matchMedia("(orientation: portrait)").matches?this.$el.removeClass("hidden"):this.$el.addClass("hidden")}},destroy:function(){document.removeEventListener("orientationchange",this.toggleVisibility),o.prototype.destroy.call(this)},setActiveBonus:function(){this.model.hasActiveBonus()?this.render():this.hide()},hide:function(){this.$el.addClass("hidden")},render:function(){return this.model.hasActiveBonus()&&this.$el.html(this.template({amount:this.getBonusAmount(),currentPoints:this.model.getCurrentPoints(),targetPoints:this.model.getTargetPoints(),progressPercent:this.calculateProgressPercent(),indicatorIcon:u})),this},onClick:function(){this.trackingClickOnProgressBar(),a.trigger("ui:active-bonus-progress")},getBonusAmount:function(){return __("bonus.active.note",l.getUserCurrencySymbol()+this.model.getVolume())},getBonusPoints:function(t){return __("bonus.item.points",this.model.getCurrentPoints(),this.model.getTargetPoints())},trackingClickOnProgressBar:function(){a.trigger("eventos","pendingBonus:activePendingBonus:clkBanner",this.model.getEventOptions())},calculateProgressPercent:function(){return 100*this.model.getCurrentPoints()/this.model.getTargetPoints()}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,r=t.indexOf("["),o=t.indexOf("]");-1!=r&&-1!=o&&(t=t.substring(0,r)+t.substring(r,o).replace(/:/g,";")+t.substring(o,t.length));for(var s=n.exec(t||""),a={},l=14;l--;)a[i[l]]=s[l]||"";return-1!=r&&-1!=o&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(t,e,n){(function(e){function i(t){if(!t||"object"!=typeof t)return!1;if(r(t)){for(var n=0,o=t.length;n<o;n++)if(i(t[n]))return!0;return!1}if("function"==typeof e&&e.isBuffer&&e.isBuffer(t)||"function"==typeof ArrayBuffer&&t instanceof ArrayBuffer||s&&t instanceof Blob||a&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return i(t.toJSON(),!0);for(var l in t)if(Object.prototype.hasOwnProperty.call(t,l)&&i(t[l]))return!0;return!1}var r=n(1864),o=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);t.exports=i}).call(e,n(248).Buffer)},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(e){function n(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&(t instanceof ArrayBuffer||ArrayBuffer.isView(t))}t.exports=n}).call(e,n(41))},function(t,e,n){function i(t,e){if(!(this instanceof i))return new i(t,e);t&&"object"==typeof t&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||a;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}var r=n(1866),o=n(788),s=n(182),a=n(406),l=n(789),c=n(790),u=n(270)("socket.io-client:manager"),d=n(787),h=n(1881),p=Object.prototype.hasOwnProperty;t.exports=i,i.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)p.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},i.prototype.updateSocketIds=function(){for(var t in this.nsps)p.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},i.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},s(i.prototype),i.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},i.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},i.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},i.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},i.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},i.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},i.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},i.prototype.open=i.prototype.connect=function(t,e){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var o=l(n,"open",function(){i.onopen(),t&&t()}),s=l(n,"error",function(e){if(u("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else i.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;u("connect attempt will timeout after %d",a);var c=setTimeout(function(){u("connect attempt timed out after %d",a),o.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(o),this.subs.push(s),this},i.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(l(t,"data",c(this,"ondata"))),this.subs.push(l(t,"ping",c(this,"onping"))),this.subs.push(l(t,"pong",c(this,"onpong"))),this.subs.push(l(t,"error",c(this,"onerror"))),this.subs.push(l(t,"close",c(this,"onclose"))),this.subs.push(l(this.decoder,"decoded",c(this,"ondecoded")))},i.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},i.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},i.prototype.ondata=function(t){this.decoder.add(t)},i.prototype.ondecoded=function(t){this.emit("packet",t)},i.prototype.onerror=function(t){u("error",t),this.emitAll("error",t)},i.prototype.socket=function(t,e){function n(){~d(r.connecting,i)||r.connecting.push(i)}var i=this.nsps[t];if(!i){i=new o(this,t,e),this.nsps[t]=i;var r=this;i.on("connecting",n),i.on("connect",function(){i.id=r.generateId(t)}),this.autoConnect&&n()}return i},i.prototype.destroy=function(t){var e=d(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},i.prototype.packet=function(t){u("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(n){for(var i=0;i<n.length;i++)e.engine.write(n[i],t.options);e.encoding=!1,e.processPacketQueue()}))},i.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},i.prototype.cleanup=function(){u("cleanup");for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},i.prototype.close=i.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},i.prototype.onclose=function(t){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},i.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();u("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(u("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(u("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(u("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},i.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(t,e,n){(function(t){function i(e){var n=!1,i=!1,a=!1!==e.jsonp;if(t.location){var l="https:"===location.protocol,c=location.port;c||(c=l?443:80),n=e.hostname!==location.hostname||c!==e.port,i=e.secure!==l}if(e.xdomain=n,e.xscheme=i,"open"in new r(e)&&!e.forceJSONP)return new o(e);if(!a)throw new Error("JSONP disabled");return new s(e)}var r=n(407),o=n(1869),s=n(1877),a=n(1878);e.polling=i,e.websocket=a}).call(e,n(41))},function(t,e,n){function i(t){var e=t&&t.forceBase64;u&&!e||(this.supportsBinary=!1),r.call(this,t)}var r=n(408),o=n(271),s=n(183),a=n(272),l=n(786),c=n(273)("engine.io-client:polling");t.exports=i;var u=function(){return null!=new(n(407))({xdomain:!1}).responseType}();a(i,r),i.prototype.name="polling",i.prototype.doOpen=function(){this.poll()},i.prototype.pause=function(t){function e(){c("paused"),n.readyState="paused",t()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(c("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){c("pre-pause polling complete"),--i||e()})),this.writable||(c("we are currently writing - waiting to pause"),i++,this.once("drain",function(){c("pre-pause writing complete"),--i||e()}))}else e()},i.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},i.prototype.onData=function(t){var e=this;c("polling got data %s",t);var n=function(t,n,i){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)};s.decodePayload(t,this.socket.binaryType,n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},i.prototype.doClose=function(){function t(){c("writing close packet"),e.write([{type:"close"}])}var e=this;"open"===this.readyState?(c("transport open - closing"),t()):(c("transport not open - deferring close"),this.once("open",t))},i.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};s.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},i.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=l()),this.supportsBinary||t.sid||(t.b64=1),t=o.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},function(t,e,n){"use strict";function i(t){var e="";do{e=a[t%l]+e,t=Math.floor(t/l)}while(t>0);return e}function r(t){var e=0;for(d=0;d<t.length;d++)e=e*l+c[t.charAt(d)];return e}function o(){var t=i(+new Date);return t!==s?(u=0,s=t):t+"."+i(u++)}for(var s,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),l=64,c={},u=0,d=0;d<l;d++)c[a[d]]=d;o.encode=i,o.decode=r,t.exports=o},function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var i=0;i<t.length;++i)if(t[i]===e)return i;return-1}},function(t,e,n){function i(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var r=n(406),o=n(182),s=n(1880),a=n(789),l=n(790),c=n(270)("socket.io-client:socket"),u=n(271);t.exports=i;var d={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=o.prototype.emit;o(i.prototype),i.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[a(t,"open",l(this,"onopen")),a(t,"packet",l(this,"onpacket")),a(t,"close",l(this,"onclose"))]}},i.prototype.open=i.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},i.prototype.send=function(){var t=s(arguments);return t.unshift("message"),this.emit.apply(this,t),this},i.prototype.emit=function(t){if(d.hasOwnProperty(t))return h.apply(this,arguments),this;var e=s(arguments),n={type:r.EVENT,data:e};return n.options={},n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),delete this.flags,this},i.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},i.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?u.encode(this.query):this.query;c("sending connect packet with query %s",t),this.packet({type:r.CONNECT,query:t})}else this.packet({type:r.CONNECT})},i.prototype.onclose=function(t){c("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},i.prototype.onpacket=function(t){if(t.nsp===this.nsp)switch(t.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(t);break;case r.ACK:case r.BINARY_ACK:this.onack(t);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",t.data)}},i.prototype.onevent=function(t){var e=t.data||[];c("emitting event %j",e),null!=t.id&&(c("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?h.apply(this,e):this.receiveBuffer.push(e)},i.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var i=s(arguments);c("sending ack %j",i),e.packet({type:r.ACK,id:t,data:i})}}},i.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(c("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):c("bad ack %s",t.id)},i.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},i.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)h.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},i.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},i.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},i.prototype.close=i.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},i.prototype.compress=function(t){return this.flags=this.flags||{},this.flags.compress=t,this}},function(t,e){function n(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}t.exports=n},function(t,e){var n=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var i=n.call(arguments,2);return function(){return e.apply(t,i.concat(n.call(arguments)))}}},function(t,e,n){(function(i){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a,l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();void 0!==(a=function(t,e,i){var a=n(0),u=(n(132),n(362)),d=n(15),h=n(3),p=n(9),f=n(71),m=n(40),g=n(68),v=function(t,e){switch(e){case 0:return t;case 1:return parseFloat(t.toFixed(2));case 2:var n=1;t<0&&(n=-1,t=-t);var i=[[.1,2],[.01,3],[.001,4],[1e-4,5],[1e-5,5]],r=a.find(i,function(e){var n=c(e,1),i=n[0];return t>=i}),o=a.isUndefined(r)?0:r[1];return parseFloat(t.toFixed(o))*n}},b=s({candlestick:function(t){return[t.timestamp,t.open,t.high,t.low,t.close]},"up-down-line":function(t){return[t.timestamp,t.close]},ohlc:function(t){return[t.timestamp,t.open,t.high,t.low,t.close]},area:function(t){return[t.timestamp,t.close]},"heikin-ashi":function(t,e){var n=e?(e[1]+e[4])/2:(t.open+t.close)/2,i=(t.open+t.high+t.low+t.close)/4,r=Math.max(n,i,t.high),o=Math.min(n,i,t.low);return[t.timestamp,n,r,o,i]}},"comparison",function(t,e,n){return[t.timestamp,n?v(100*(t.close-n.close)/n.close,2):0]}),y={},_={},w={switchers:{showTrades:!0,showHighLow:!1,showVolume:!0,showGrid:!0},colors:{candles:{up:"#1ecd93",down:"#ff433d"},bars:{up:"#1ecd93",down:"#ff433d"},heikinashi:{up:"#1ecd93",down:"#ff433d"},line:{up:"#1ecd93",line:"#2e86ab",down:"#ff433d"},area:{line:"#3d6bb1",fill:"#8aadff"},common:{background:"#ffffff",foreground:"#404957",grid:"#d8d8ef",volume:"#d9e7f2"},lines:{sell:"#de67a7",buy:"#de67a7",middle:"#de67a7",open:"#2e86ab",order:"#8E8331",profit:"#1ecd93",loss:"#ff433d",crosshair:"#2a7a9c"}}},S={general:{candles:{visible:80,overscroll:{offset:5,visible:8,total:100}},cursors:[{type:"cursor",selectable:!0},{type:"simple_crosshair",selectable:!0},{type:"crosshair",selectable:!0},{type:"fixed_tooltip_crosshair",selectable:!0},{type:"drawing",selectable:!1},{type:"comparision_crosshair",selectable:!1}],cursor:"simple_crosshair",rateLines:[].concat(o(a.intersection(p.getChartRateLineTypes(),["sell","buy","middle"])),["none"]),rateLine:"sell",periods:["1m","5m","15m","30m","1h","2h","4h","1d","1w","1mn"],period:"5m",ranges:["1h","1d","1w","1mn","1y","3y"],range:"1d",types:["candlestick","up-down-line","ohlc","area","heikin-ashi"],type:"candlestick",volumeAxisHeight:50,maxIndicatorsNumber:5,periodFormats:{"1m":"%d/%m/%Y %H:%M","5m":"%d/%m/%Y %H:%M","15m":"%d/%m/%Y %H:%M","30m":"%d/%m/%Y %H:%M","1h":"%d/%m/%Y %H:%M","2h":"%d/%m/%Y %H:%M","4h":"%d/%m/%Y %H:%M","1d":"%d/%m/%Y","1w":"%d/%m/%Y","1mn":"%m/%Y"}},chart:{gridLineWidth:.5,lineWidth:1,axesSpace:1,label:{offsetX:0,offsetY:0,padding:5,radius:0}},names:{series:{main:"main-series",volume:"volume-series",navigator:"highcharts-navigator-series"},axis:{mainX:"main-x-axis",mainY:"main-y-axis",volume:"volume-axis",navigatorX:"navigator-x-axis",navigatorY:"navigator-y-axis"},line:{sell:"sell",buy:"buy",middle:"middle",open:"open",order:"order",profit:"profit",loss:"loss"}}},E=function(){function t(e){var n=e.instrumentInfo,i=e.type,o=e.settings,s=e.indicators,a=e.comparisonMode,l=e.onSetExtremes,c=e.onRedraw;r(this,t),this._indicators=s,this._instrumentInfo=n,this._onRedraw=c,this._onSetExtremes=l,this._settings=t.prepareSettings(o),this._tooltipEnabled=!1,this._comparisonMode=a,this.comparisonMode?this._type=t.comparisonType:this._type=t.defaultTypes.indexOf(i)<0?t.defaultTypes[0]:i}return l(t,[{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"settings",get:function(){return this._settings},set:function(t){this._settings=t}},{key:"indicators",get:function(){return this._indicators}},{key:"instrumentInfo",get:function(){return this._instrumentInfo}},{key:"highchartsConfig",get:function(){return this._highchartsConfig}},{key:"onSetExtremes",get:function(){return this._onSetExtremes}},{key:"onRedraw",get:function(){return this._onRedraw}},{key:"tooltipEnabled",get:function(){return this._tooltipEnabled},set:function(t){this._tooltipEnabled=t}},{key:"previousCursor",get:function(){return this._previousCursor},set:function(t){this._previousCursor=t}},{key:"currentCursor",get:function(){return this._currentCursor},set:function(t){this._currentCursor=t}},{key:"comparisonMode",get:function(){return this._comparisonMode}}]),l(t,[{key:"createHighchartsConfig",value:function(){var e,n=this,i=function(){return n.tooltipEnabled};this._highchartsConfig={chart:{showAxes:!1,animation:!1,backgroundColor:this.settings.colors.common.background,spacing:[0,t.options.chart.label.padding,5,0],marginBottom:this.comparisonMode?0:t.options.chart.label.padding+t.options.chart.label.offsetY+5,style:{fontFamily:"Lato, 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;"},events:{redraw:this.onRedraw}},plotOptions:(e={candlestick:{shadow:!1,animation:!1,color:this.settings.colors.candles.down,lineColor:this.settings.colors.candles.down,upColor:this.settings.colors.candles.up,upLineColor:this.settings.colors.candles.up,tooltip:{pointFormat:y.series.candles}},ohlc:{shadow:!1,animation:!1,color:this.settings.colors.bars.down,lineColor:this.settings.colors.bars.down,upColor:this.settings.colors.bars.up,upLineColor:this.settings.colors.bars.up,tooltip:{pointFormat:y.series.candles}}},s(e,"comparison",{shadow:!1,color:this.settings.colors.line.line,tooltip:{pointFormat:y.series.line}}),s(e,"up-down-line",{shadow:!1,animation:!1,upColor:this.settings.colors.line.up,color:this.settings.colors.line.line,downColor:this.settings.colors.line.down,tooltip:{pointFormat:y.series.line}}),s(e,"column",{shadow:!1,animation:!1,color:this.settings.colors.common.volume}),s(e,"area",{shadow:!1,animation:!1,color:this.settings.colors.area.line,fillColor:t.hexToRgba(this.settings.colors.area.fill,33),tooltip:{pointFormat:y.series.line},threshold:null}),s(e,"heikin-ashi",{shadow:!1,animation:!1,color:this.settings.colors.heikinashi.down,lineColor:this.settings.colors.heikinashi.down,upColor:this.settings.colors.heikinashi.up,upLineColor:this.settings.colors.heikinashi.up,tooltip:{pointFormat:y.series.candles}}),s(e,"series",{dataGrouping:{enabled:!1,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},cropThreshold:50,animation:!1,marker:{enabled:!1,radius:3,symbol:"circle",states:{hover:{animation:!1,radiusPlus:1},normal:{animation:!1}}},states:{normal:{animation:!1},hover:{animation:!1}}}),e),rangeSelector:{enabled:!1},xAxis:{id:S.names.axis.mainX,crosshair:!1,lineColor:this.settings.colors.common.grid,lineWidth:this.settings.switchers.showGrid?S.chart.lineWidth:0,gridLineColor:this.settings.colors.common.grid,gridLineWidth:this.settings.switchers.showGrid?S.chart.gridLineWidth:0,tickColor:this.settings.colors.common.grid,tickWidth:this.settings.switchers.showGrid?S.chart.gridLineWidth:0,labels:{style:{color:this.settings.colors.common.foreground},y:11+t.options.chart.label.offsetY+t.options.chart.label.padding},events:{setExtremes:this.onSetExtremes}},navigator:{height:7,enabled:!this.comparisonMode,outlineColor:this.settings.colors.common.grid,outlineWidth:this.settings.switchers.showGrid?S.chart.lineWidth:0,xAxis:{lineColor:this.settings.colors.common.grid,lineWidth:this.settings.switchers.showGrid?S.chart.lineWidth:0,gridLineColor:this.settings.colors.common.grid,gridLineWidth:this.settings.switchers.showGrid?S.chart.gridLineWidth:0,labels:{enabled:!1,style:{color:this.settings.colors.common.foreground}}},yAxis:{lineColor:this.settings.colors.common.grid,lineWidth:this.settings.switchers.showGrid?S.chart.lineWidth:0,gridLineColor:this.settings.colors.common.grid,gridLineWidth:this.settings.switchers.showGrid?S.chart.gridLineWidth:0,labels:{enabled:!1,style:{color:this.settings.colors.common.foreground}}}},scrollbar:{enabled:!0,height:0},exporting:{buttons:{contextButton:{enabled:!1}},sourceWidth:1920,sourceHeight:1080,scale:1},credits:{enabled:!1},dataLabels:{zIndex:1},tooltip:{animation:!1,shadow:!1,split:!1,shared:!0,useHTML:!0,headerFormat:y.header,footerFormat:y.footer,valueDecimals:this.getPrecision(),formatter:function(t){return!!i()&&t.defaultFormatter.call(this,t)},backgroundColor:"white",borderColor:"rgba(202, 211, 221, 0.9)",borderRadius:0},series:[],time:{timezoneOffset:g.chartOffset()}};var r=this.createSeriesConfig();return this.highchartsConfig.yAxis=r.yAxis,this.highchartsConfig.series=r.series,d.mobile()&&(this.highchartsConfig.navigator.enabled=!1,this.highchartsConfig.chart.marginBottom=0,this.highchartsConfig.plotOptions.series.enableMouseTracking=!1,this.highchartsConfig.tooltip.enabled=!1,this.highchartsConfig.tooltip.followTouchMove=!1),this.highchartsConfig}},{key:"createSeriesConfig",value:function(){var t=this,e=this.createMainConfig(),n=void 0;return a.each(this.indicators,function(i){n=t.createIndicatorConfig(i),Array.prototype.push.apply(e.yAxis,n.yAxis),Array.prototype.push.apply(e.series,n.series)}),this.hasVolume&&(n=this.createVolumeConfig(),Array.prototype.push.apply(e.yAxis,n.yAxis),Array.prototype.push.apply(e.series,n.series)),this.updateConfigWithSpaces(e,this.hasVolume),e}},{key:"createMainConfig",value:function(){var e=this,n=function(){return e.getPrecision()};return{yAxis:[{id:S.names.axis.mainY,lineColor:this.settings.colors.common.grid,lineWidth:this.settings.switchers.showGrid?S.chart.lineWidth:0,gridLineColor:this.settings.colors.common.grid,gridLineWidth:this.settings.switchers.showGrid?S.chart.gridLineWidth:0,offset:0,opposite:!0,crosshair:!1,tickPixelInterval:30,labels:{align:"left",x:t.options.chart.label.offsetX+t.options.chart.label.padding,y:5,zIndex:3,formatter:this.comparisonMode?function(){return this.value.toFixed(n())+"%"}:function(){return this.value.toFixed(n())},style:{color:this.settings.colors.common.foreground}}}],series:[this.createMainSeriesConfig()]}}},{key:"createMainSeriesConfig",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this._createSeriesConfig(t)}},{key:"_createSeriesConfig",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.names.series.main,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.instrumentInfo.getDisplayName();return u.recursive({id:e,type:this.type,name:n,index:0,zIndex:2,yAxis:S.names.axis.mainY,data:t},this.highchartsConfig.plotOptions[this.type])}},{key:"createIndicatorConfig",value:function(e){var n=this,i={yAxis:[],series:[]},r=function(){return n.getPrecision()};return e.overlaying||i.yAxis.push({id:e.id+"-"+e.uiid,lineColor:this.settings.colors.common.grid,lineWidth:this.settings.switchers.showGrid?S.chart.lineWidth:0,gridLineColor:this.settings.colors.common.grid,gridLineWidth:this.settings.switchers.showGrid?S.chart.gridLineWidth:0,offset:0,opposite:!0,tickPixelInterval:30,labels:{align:"left",x:t.options.chart.label.offsetX+t.options.chart.label.padding,y:5,zIndex:3,formatter:function(){return this.value.toFixed(r())},style:{color:this.settings.colors.common.foreground}}}),a.each(e.lines,function(t){var r={type:"line",id:e.id+"_"+t.title,name:n.overrideLineNameFromCfg(e,e.title+" : "+t.title),color:t.colors[0],yAxis:e.overlaying?S.names.axis.mainY:e.id+"-"+e.uiid,zIndex:3,data:[],showInNavigator:!1,lineWidth:parseInt(t.thickness),tooltip:{pointFormat:y.series.line}};switch(t.type){case"POINTS_TYPE":a.extend(r,{lineWidth:0,marker:{enabled:!0,radius:2,symbol:"circle"},states:{hover:{lineWidthPlus:0}},tooltip:{pointFormat:y.series.points}});break;case"HYSTOGRAM_TYPE":case"TREND_HYSTOGRAM_TYPE":a.extend(r,{type:"column",tooltip:{pointFormat:y.series.columns}})}t.colors.length>1&&a.extend(r,{negativeColor:t.colors[1]}),i.series.push(r)}),i}},{key:"createVolumeConfig",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{yAxis:[{id:S.names.axis.volume,lineWidth:0,gridLineWidth:0,labels:{enabled:!1},offset:0,title:null}],series:[{id:S.names.series.volume,type:"column",name:"Volume",pointPadding:0,groupPadding:0,borderWidth:0,shadow:!1,showInNavigator:!1,data:t,yAxis:S.names.axis.volume,tooltip:{valueDecimals:0,pointFormat:y.series.volume},zIndex:1}]}}},{key:"updateConfigWithSpaces",value:function(t,e){if(1!==t.yAxis.length){for(var n=[2],i=2,r=t.yAxis.length-(e?1:0),o=1,s=r;o<s;o++)n.push(1),i+=1;var l=0,c=100-S.chart.axesSpace*(r-1);a.each(n,function(e,r){t.yAxis[r].top=l+S.chart.axesSpace*r+"%",t.yAxis[r].height=c/i*e+"%",l+=c/i*e,n[r]=c/i*e}),e&&(a.last(t.yAxis).top=0+n[0]*(100-S.general.volumeAxisHeight)/100+"%",a.last(t.yAxis).height=n[0]*S.general.volumeAxisHeight/100+"%")}}},{key:"createPlotLinesConfig",value:function(t){var e=this,n=[],i=0;return a.each(t,function(t,r){t.value&&n.push({value:t.value,color:t.config&&t.config.color||e.settings.colors.lines[r],dashStyle:"solid",width:1,zIndex:5,label:{x:t.config&&t.config.x||50*++i,text:t.config&&t.config.text||__("chart.line."+r),align:t.config&&t.config.align||"left",style:{color:t.config&&t.config.color||e.settings.colors.lines[r],"font-weight":"bold","font-size":"12px"}}})}),{plotLines:n}}},{key:"createPlotLabelsConfig",value:function(e,n){return{attr:{fill:n&&n.color||this.settings.colors.lines[e],"stroke-width":0,padding:t.options.chart.label.padding,r:t.options.chart.label.radius,zIndex:e===S.names.line.sell||e===S.names.line.buy||e===S.names.line.middle?1:2},css:{color:"#FFFFFF",fontSize:"11px",fontWeight:"500",fontFamily:'Lato, "Helvetica Neue", Helvetica, Arial, sans-serif;'}}}},{key:"createExportingConfig",value:function(t){var e=t.onLoad,n=t.onRedraw;return{chart:{events:{load:function(t){var n=t.target;e(n)},redraw:function(){n(this)}}},navigator:{enabled:!1}}}},{key:"createCursorConfig",value:function(e,n){var i=this;switch(e){case"cursor":return{xAxis:{crosshair:!1},yAxis:{crosshair:!1},tooltip:{enabled:!1}};case"simple_crosshair":return{xAxis:{crosshair:{snap:!0,zIndex:6,label:{enabled:!0,padding:t.options.chart.label.padding,shape:"rect",backgroundColor:this.settings.colors.lines.crosshair,borderRadius:t.options.chart.label.radius,format:"{value:"+t.options.general.periodFormats[n]+"}"}}},yAxis:{crosshair:{snap:!1,zIndex:6,label:{enabled:!0,padding:t.options.chart.label.padding,backgroundColor:this.settings.colors.lines.crosshair,shape:"rect",borderRadius:t.options.chart.label.radius,formatter:function(t){return t.toFixed(i.getPrecision())}}}},tooltip:{enabled:!1}};case"crosshair":return{xAxis:{crosshair:{snap:!0,zIndex:6,label:{enabled:!0,padding:t.options.chart.label.padding,shape:"rect",backgroundColor:this.settings.colors.lines.crosshair,borderRadius:t.options.chart.label.radius,format:"{value:"+t.options.general.periodFormats[n]+"}"}}},yAxis:{crosshair:{snap:!1,zIndex:6,label:{enabled:!0,padding:t.options.chart.label.padding,backgroundColor:this.settings.colors.lines.crosshair,shape:"rect",borderRadius:t.options.chart.label.radius,formatter:function(t){return t.toFixed(i.getPrecision())}}}},tooltip:{enabled:!0,shape:"callout",positioner:null}};case"fixed_tooltip_crosshair":return{xAxis:{crosshair:{snap:!0,zIndex:6,label:{enabled:!0,padding:t.options.chart.label.padding,shape:"rect",backgroundColor:this.settings.colors.lines.crosshair,borderRadius:t.options.chart.label.radius,format:"{value:"+t.options.general.periodFormats[n]+"}"}}},yAxis:{crosshair:{snap:!1,zIndex:6,label:{enabled:!0,padding:t.options.chart.label.padding,backgroundColor:this.settings.colors.lines.crosshair,shape:"rect",borderRadius:t.options.chart.label.radius,formatter:function(t){return t.toFixed(i.getPrecision())}}}},tooltip:{enabled:!0,shape:"rect",positioner:function(){return{x:5,y:5}}}};case"drawing":return{xAxis:{crosshair:!1},yAxis:{crosshair:!1},tooltip:{enabled:!1}};case"comparison_crosshair":return{xAxis:{crosshair:{snap:d.desktop(),zIndex:6,label:{enabled:!0,padding:t.options.chart.label.padding,shape:"rect",backgroundColor:this.settings.colors.lines.crosshair,borderRadius:t.options.chart.label.radius,format:"{value:"+t.options.general.periodFormats[n]+"}"}}},yAxis:{crosshair:{snap:!1,zIndex:6,label:{enabled:!0,padding:t.options.chart.label.padding,backgroundColor:this.settings.colors.lines.crosshair,shape:"rect",borderRadius:t.options.chart.label.radius,formatter:function(t){return t.toFixed(i.getPrecision())+"%"}}}},tooltip:{enabled:!1,followTouchMove:!0}}}}},{key:"getPrecision",value:function(){return this.comparisonMode?2:this.instrumentInfo.getPrecision()}},{key:"addChartInfoExporting",value:function(e){var i=this,r={startX:18,titleHeight:16,lineHeight:13,borderWidth:2,padding:7,background:t.hexToRgba(this.settings.colors.common.background,90),labelAttr:{zIndex:10,fill:t.hexToRgba(this.settings.colors.common.background,90),padding:2}};e.renderer.label(this.instrumentInfo.getDisplayName(),r.startX,15).attr(r.labelAttr).css({"font-size":"16px",color:t.hexToRgba(this.settings.colors.common.foreground),"font-weight":"bold"}).add(),e.renderer.label(this.instrumentInfo.getDescription(),r.startX,34).attr(r.labelAttr).css({"font-size":"13px",color:t.hexToRgba(this.settings.colors.common.foreground)}).add(),e.renderer.label(__("chart.screenshot",h().format("DD/MM/YYYY HH:mm")),r.startX,51).attr(r.labelAttr).css({"font-size":"13px",color:t.hexToRgba(this.settings.colors.common.foreground)}).add(),a.each(this.createIndicatorConfigExporting(e,this.indicators,r),function(n){a.each(n.colors,function(t,i){e.renderer.rect(r.startX+(r.lineHeight+r.borderWidth)*i,n.y+r.borderWidth,r.lineHeight+r.borderWidth,r.lineHeight+r.borderWidth).attr({zIndex:10,stroke:r.background,"stroke-width":2*r.borderWidth,fill:t}).add()}),e.renderer.label(n.title,r.startX+(n.colors?(r.lineHeight+r.borderWidth)*n.colors.length:0),n.y).attr(r.labelAttr).css({"font-size":n.line?r.lineHeight+"px":r.titleHeight+"px","font-weight":n.line?"normal":"bold",color:t.hexToRgba(i.settings.colors.common.foreground)}).add()}),this.comparisonMode&&a.each(e.series,function(n,o){var s=60+(r.lineHeight+r.padding)*(o+1);e.renderer.rect(r.startX,s+r.borderWidth,r.lineHeight+r.borderWidth,r.lineHeight+r.borderWidth).attr({zIndex:10,stroke:r.background,"stroke-width":2*r.borderWidth,fill:n.color}).add(),e.renderer.label(n.name,r.startX+(r.lineHeight+r.borderWidth),s).attr(r.labelAttr).css({"font-size":r.lineHeight+"px","font-weight":"normal",color:t.hexToRgba(i.settings.colors.common.foreground)}).add()});var o=void 0;try{o=n(1415)("./"+p.getBrandName()+"/screenshot_watermark.png")}catch(t){o=n(1420)}o&&e.renderer.image(o,20,900,720,120).attr({zIndex:10}).add()}},{key:"createIndicatorConfigExporting",value:function(t,e,n){var i=[],r=60;return a.each(e,function(e){e.overlaying&&(r+=n.titleHeight+n.padding),i.push({line:!1,title:e.title,y:t.get(S.names.axis.mainY).top+r}),e.overlaying||(i[i.length-1].y=t.get(e.id+"-"+e.uiid).top),a.each(e.lines,function(t){e.overlaying&&(r+=n.lineHeight+n.padding),i.push({line:!0,title:t.title,y:i[i.length-1].y+n.lineHeight+n.padding,colors:t.colors})})}),i}},{key:"enableTooltip",value:function(){this.tooltipEnabled=!0}},{key:"disableTooltip",value:function(){this.tooltipEnabled=!1}},{key:"getAxisSettings",value:function(t,e){return a.extend({lineColor:this.settings.colors.common.grid,lineWidth:this.settings.switchers.showGrid&&!e?S.chart.lineWidth:0,gridLineColor:this.settings.colors.common.grid,gridLineWidth:this.settings.switchers.showGrid&&!e?S.chart.gridLineWidth:0,labels:{style:{color:this.settings.colors.common.foreground}}},t?{tickColor:this.settings.colors.common.grid,tickWidth:this.settings.switchers.showGrid&&!e?S.chart.gridLineWidth:0}:{})}},{key:"overrideLineNameFromCfg",value:function(t,e){var n=m.tooltip.crosshair.indicators,i=n.list,r=i[t.id],o=function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=a.getExtended(t,e,n.splitBy);if(!a.isUndefined(r)&&!a.isObject(r))return i?a.capitalize(String(r)):r},s=function(t,e){var i=a.size(t.propPath),r=t.separator||n.defaultSeparator,o=a.isArray(r);return o&&r.length===i||i!==e+1?o?r[e]||""===r[e]?r[e]:n.defaultSeparator:r:""},l=e;if(!r||!r.propPath)return l;var c=r.propPath,u=a.size(c),d=r.multiPropsBitwise&&"||"===r.multiPropsBitwise;if(a.isArray(c)&&u){var h=a.reduce(c,function(t,e,n){var i=o(e);return i&&t.push(String(i).concat(s(r,n))),t},[]);d=d||h.length===u,l=h.length&&d?h.join(""):e}if(a.isString(c)){var p=o(c);p&&(l=p)}return l}},{key:"getTypeConverter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.type;return b[t]}},{key:"hasVolume",get:function(){return this.settings.switchers.showVolume&&!this.comparisonMode}}],[{key:"initLocalizedSettings",value:function(){_={resistance3:{text:__("trading.central.study.r3.title"),x:-5,align:"right"},resistance2:{text:__("trading.central.study.r2.title"),x:-5,align:"right"},resistance1:{text:__("trading.central.study.r1.title"),x:-5,align:"right"},support1:{text:__("trading.central.study.s1.title"),x:-5,align:"right"},support2:{text:__("trading.central.study.s2.title"),x:-5,align:"right"},support3:{text:__("trading.central.study.s3.title"),x:-5,align:"right"},pivot:{text:__("trading.central.study.pivot.title"),x:-5,align:"right"}},y={header:'<div class="chart-tooltip-header">{point.key}</div><div class="chart-tooltip-body">',series:{candles:a.template('<div><div><%-__("chart.open")%> </div><div>{point.open}</></div></div><div><div><%-__("chart.high")%> </div><div>{point.high}</></div></div><div><div><%-__("chart.low")%> </div><div>{point.low}</div></div><div><div><%-__("chart.close")%> </div><div>{point.close}</div></div>')(),line:'<div><div><span style="color:{point.color}">▬</span>{series.name} </div><div>{point.y}</div></div>',points:'<div><div><span style="color:{point.color}">●</span>{series.name} </div><div>{point.y}</div></div>',columns:'<div><div><span style="color:{point.color}">▮</span>{series.name} </div><div>{point.y}</div></div>',volume:"<div><div>{series.name} </div><div>{point.y}</div></div>"},footer:"</div>"}}},{key:"prepareSettings",value:function(t){return u.recursive(!0,this.defaultChartSettings,t)}},{key:"hexToRgba",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return t=t.replace("#",""),"rgba("+parseInt(t.substring(0,2),16)+","+parseInt(t.substring(2,4),16)+","+parseInt(t.substring(4,6),16)+","+e/100+")"}},{key:"options",get:function(){return S}},{key:"defaultPeriods",get:function(){return S.general.periods}},{key:"defaultPeriod",get:function(){return S.general.period}},{key:"defaultRanges",get:function(){return S.general.ranges}},{key:"defaultRange",get:function(){return S.general.range}},{key:"defaultTypes",get:function(){return S.general.types}},{key:"defaultType",get:function(){return S.general.type}},{key:"defaultCursors",get:function(){return S.general.cursors}},{key:"defaultCursor",get:function(){return S.general.cursor}},{key:"defaultRateLines",get:function(){return S.general.rateLines}},{key:"defaultRateLine",get:function(){return S.general.rateLine}},{key:"defaultChartSettings",get:function(){return u.recursive(!0,w,f.currentThemeSettings.chart)}},{key:"tradingCentralSettings",get:function(){return _}},{key:"comparisonType",get:function(){return"comparison"}}]),t}();i.exports=E}.call(e,n,e,t))&&(t.exports=a)}).call(e,n(0))},function(t,e,n){"use strict";n.d(e,"p",function(){return m}),n.d(e,"q",function(){return g}),n.d(e,"l",function(){return v}),n.d(e,"k",function(){return b}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return _}),n.d(e,"n",function(){return w}),n.d(e,"i",function(){return S}),n.d(e,"c",function(){return E}),n.d(e,"d",function(){return x}),n.d(e,"g",function(){return C}),n.d(e,"h",function(){return T}),n.d(e,"j",function(){return k}),n.d(e,"a",function(){return O}),n.d(e,"m",function(){return P}),n.d(e,"o",function(){return I}),n.d(e,"b",function(){return A});var i=n(44),r=n(0),o=n.n(r),s=n(106),a=n(158),l=n(40),c=n.n(l),u=n(245),d=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(t){return t.news},p=function(t,e){return e},f=function(t,e){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return i},m=Object(i.a)(h,function(t){return!o.a.isEmpty(t.ALL_NEWS.news)}),g=Object(i.a)([s.k,h,a.getInstrumentDetailsNormalizedSymbol],function(t,e,n){return t&&e&&e[n]&&!o.a.isEmpty(e[n].news)}),v=Object(i.a)([h,p],function(t,e){return t&&t[e]}),b=Object(i.a)(v,function(t){return t&&t.status}),y=Object(i.a)(v,function(t){return t&&t.news}),_=Object(i.a)(v,function(t){return t&&t.count}),w=Object(i.a)(v,function(t){return t&&t.selectedNewsId}),S=Object(i.a)(v,function(t){return t&&t.lastUpdated}),E=Object(i.a)(v,function(t){return t&&t.isEmpty}),x=(Object(i.a)(v,function(t){return t&&t.enabled}),Object(i.a)(v,function(t){return t&&t.isFirstLoad})),C=Object(i.a)(v,function(t){return t&&t.filter}),T=Object(i.a)(v,function(t){return t&&t.headlineIds}),k=(Object(i.a)(v,function(t){return t&&t.pageStatus}),Object(i.a)(v,function(t){return t&&t.newItemsId})),O=Object(i.a)(v,function(t){return t&&t.availableFilters}),P=Object(i.a)(v,function(t){return t&&t.selectedDropdownFilter}),I=(Object(i.a)(v,function(t){return t&&t.refCount}),Object(i.a)([v,p,f],function(t,e,n){var i=d(n,1),r=i[0];return t&&t.news[r]||u.b})),A=Object(i.a)(T,function(t){return t&&o.a.size(t)>c.a.news.headlines.minPostsCount||!1})},function(t,e,n){"use strict";n.d(e,"i",function(){return d}),n.d(e,"l",function(){return p}),n.d(e,"a",function(){return f}),n.d(e,"j",function(){return m}),n.d(e,"b",function(){return g}),n.d(e,"k",function(){return v}),n.d(e,"f",function(){return b}),n.d(e,"e",function(){return y}),n.d(e,"m",function(){return _}),n.d(e,"h",function(){return w}),n.d(e,"g",function(){return S}),n.d(e,"d",function(){return E}),n.d(e,"c",function(){return x}),n.d(e,"n",function(){return C});var i=n(44),r=n(0),o=n.n(r),s=n(78),a=n(106),l=n(109),c=function(t){return t.newsSentiment},u=(Object(i.a)(c,function(t){return t.ALL}),Object(i.a)(c,function(t){return t.INFO})),d=Object(i.a)(s.getInstrumentTicker,function(t){return t}),h=Object(i.a)([u,l.a],function(t,e){return t&&t[e]}),p=Object(i.a)([a.l,h],function(t,e){return t&&!o.a.isEmpty(e)}),f=Object(i.a)(h,function(t){return t&&t.articles}),m=Object(i.a)(f,function(t){return!o.a.isEmpty(t)}),g=Object(i.a)(h,function(t){return t&&t.chartData}),v=Object(i.a)(g,function(t){return!o.a.isEmpty(t)}),b=Object(i.a)(h,function(t){return t&&t.numberArticlesWeek}),y=Object(i.a)(h,function(t){return t&&t.numberArticlesAvg}),_=Object(i.a)([b,y],function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return o.a.every(e,function(t){return!!t})}),w=Object(i.a)(h,function(t){return t&&t.positiveStockSentiment}),S=Object(i.a)(h,function(t){return t&&t.positiveSectorSentiment}),E=Object(i.a)(h,function(t){return t&&t.negativeStockSentiment}),x=Object(i.a)(h,function(t){return t&&t.negativeSectorSentiment}),C=Object(i.a)([w,S,E,x],function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return o.a.every(e,function(t){return!!t})})},function(t,e,n){"use strict";function i(){return function(t){t({type:E.f})}}function r(){return function(t){t({type:E.d})}}function o(){return function(t){t({types:[E.m,E.o,E.n],callApi:function(){return C.a.loadAcuityClasses()}})}}function s(t){return function(e){if(t){var n=String(t).replace(/\//g,"~");e({types:[E.h,E.j,E.i],additionalData:{requestId:k.a.uniqueId("alerts-request-"),symbol:n},callApi:function(){return C.a.loadAcuityAlertsBySymbol(n,E.c)}})}}}function a(t,e){return function(n){t&&n({types:[E.g,l,E.k],additionalData:{requestId:k.a.uniqueId("alerts-request-"),classId:t},callApi:function(){return C.a.loadAcuityAlerts(t,e)}})}}function l(t){return function(e){e({type:E.l,payload:t}),e(c())}}function c(){return function(t){t({type:E.a})}}function u(t){return function(e){e({type:E.u,payload:t}),e(d())}}function d(){return{type:E.s}}function h(t){return function(e){e({type:E.v,payload:k.a.isArray(t)?t:[t]}),e(c())}}function p(t){return{type:E.w,payload:t}}function f(t,e){return function(n){n({type:E.x,payload:{min:t,max:e}}),n(c())}}function m(){return function(t,e){var n=k.a.first(e().acuityTrading.filteredAlerts);n&&t(g(n))}}function g(t){return function(e){e({type:E.t,payload:t}),e(S())}}function v(){return{type:E.b}}function b(t,e){return function(n,i){var r=i().acuityTrading,o=e||r.selectedInterval,s=r.alertsMap[t],a=s&&s._symbol;if(!a)return void n(v());n({types:[E.p,E.r,E.q],callApi:function(){return C.a.loadAcuitySentiment(a,o)}})}}function y(t){return function(e,n){if(!t)return void e(v());var i=String(t).replace(/\//g,"~");e({types:[E.p,E.r,E.q],callApi:function(){return C.a.loadAcuitySentiment(i,E.c)}})}}function _(t){return{type:E.z,payload:t}}function w(t){return{type:E.y,payload:t}}function S(){return function(t){t(w(null))}}e.b=i,e.a=r,e.e=o,e.d=s,e.c=a,e.g=u,e.i=h,e.j=p,e.k=f,e.h=m,e.f=g,e.l=b,e.m=y,e.p=_,e.o=w,e.n=S;var E=n(686),x=n(6),C=n.n(x),T=n(0),k=n.n(T)},function(t,e,n){"use strict";var i=n(357),r=n(1),o=n(662),s=n(663),a=n(254),l=function(t){var e=t.children,n=t.screenSize,i=Object(a.e)(n);return r.createElement(s.a,{render:function(t){return r.createElement(o.a,{cond:i(t)},e)}})};n.d(e,"a",function(){return i.a}),n.d(e,"b",function(){return l})},function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function r(t,e){var n=t.orders.ORDER[e.orderId];return{value:n&&__("actions."+(n.quantity>0?"buy":"sell"))}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),s=n.n(o),a=n(29),l=n.n(a),c=n(8),u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.default=Object(c.connect)(r)(l()({render:function(){var t=this.props,e=t.as,n=(t.orderId,t.value),r=(t.dispatch,i(t,["as","orderId","value","dispatch"]));return s.a.createElement(e||"span",u({},r),n)}}))},function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function r(t,e){var n=e.orderId,i=Object(c.b)(t,n),r=Object(c.c)(t,n),o=Object(l.getInstrumentPrecision)(t,r);return{value:o&&Number(i).toFixed(o)||""}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),s=n.n(o),a=n(8),l=n(78),c=n(802),u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},d=function(t){var e=t.as,n=(t.orderId,t.value),r=(t.dispatch,t.after),o=i(t,["as","orderId","value","dispatch","after"]);return s.a.createElement(e||"span",u({},o),n,r)};e.default=Object(a.connect)(r)(d)},function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function r(t,e){var n=t.orders.ORDER[e.orderId];return{value:n&&__("type."+String(n.type).toUpperCase())}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),s=n.n(o),a=n(29),l=n.n(a),c=n(8),u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.default=Object(c.connect)(r)(l()({render:function(){var t=this.props,e=t.as,n=(t.orderId,t.value),r=(t.dispatch,i(t,["as","orderId","value","dispatch"]));return s.a.createElement(e||"span",u({},r),n)}}))},function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function r(t,e){var n=t.orders.ORDER[e.orderId];return{value:n&&n.quantity}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),s=n.n(o),a=n(29),l=n.n(a),c=n(8),u=n(31),d=n.n(u),h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.default=Object(c.connect)(r)(l()({render:function(){var t=this.props,e=t.as,n=(t.orderId,t.value),r=(t.dispatch,i(t,["as","orderId","value","dispatch"]));return n?s.a.createElement(e||"span",h({},r),d()(Math.abs(n)).format("0,0[.][000]")):null}}))},function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function r(t,e){var n=t.orders.ORDER[e.orderId],i=n&&n.quantity,r=i>0?u.BUY:u.SELL,o=n&&n.type,s="";return s="STOP"===o&&r===u.BUY||"LIMIT"===o&&r===u.SELL?__("order.above",""):__("order.below",""),{value:s}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),s=n.n(o),a=n(29),l=n.n(a),c=n(8),u=n(10),d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.default=Object(c.connect)(r)(l()({render:function(){var t=this.props,e=t.as,n=(t.orderId,t.value),r=(t.dispatch,i(t,["as","orderId","value","dispatch"]));return s.a.createElement(e||"span",d({},r),n)}}))},function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}t.exports=n},function(t,e,n){"use strict";n.d(e,"c",function(){return f}),n.d(e,"b",function(){return m}),n.d(e,"a",function(){return g}),n.d(e,"f",function(){return y}),n.d(e,"e",function(){return _}),n.d(e,"d",function(){return w});var i=n(206),r=n(158),o=n(0),s=n.n(o),a=n(44),l=n(109),c=function(t){return t.orders},u=Object(a.a)(c,function(t){return t.instrumentOrders}),d=Object(a.a)(c,function(t){return s.a.keys(t.instrumentOrders)}),h=Object(a.a)(c,function(t){return t.ORDER}),p=Object(a.a)([h,l.a],function(t,e){return t[e]}),f=Object(a.a)(p,function(t){return t&&t._instrumentSymbol||""}),m=Object(a.a)(p,function(t){return t&&t.stopLimitPrice||""}),g=Object(a.a)(u,function(t){return s.a.keys(t)}),v=(Object(a.a)(c,function(t){return t.ORDER}),Object(a.a)(c,function(t){return t.instrumentOrdersCounter})),b=Object(a.a)([v,l.a],function(t,e){return t[e]}),y=Object(a.a)(b,function(t){return!!t&&t._count>0}),_=Object(a.a)(c,function(t){return t.totalOrdersCount}),w=Object(a.a)([r.getInstrumentSymbolMap,d,r.getSymbolsSortName,r.getSymbolsSortDirection],i.n)},function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function r(t,e){var n=e.symbol,i=e.as,r=void 0===i?"span":i;return{value:gt(t,n),as:r}}function o(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function s(t,e){var n=e.symbol,i=e.as,r=void 0===i?"span":i;return{value:ft(t,n),as:r}}function a(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function l(t,e){var n=e.symbol,i=e.as,r=void 0===i?"span":i;return{value:ut(t,n),as:r}}function c(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function u(t,e){var n=e.symbol,i=e.as,r=void 0===i?"span":i;return{value:ht(t,n),as:r}}function d(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function h(t,e){var n=e.symbol,i=e.as,r=void 0===i?"span":i;return{value:dt(t,n),as:r}}function p(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function f(t,e){var n=e.symbol;return{indexes:vt(t,n)}}function m(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function g(t,e){var n=e.symbol,i=e.as,r=void 0===i?"span":i;return{value:pt(t,n),as:r}}function v(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function b(t,e){var n=e.symbol,i=e.as,r=void 0===i?"span":i;return{value:ct(t,n),as:r}}function y(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function _(t,e){var n=e.symbol;return{value:mt(t,n)}}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function E(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C(t,e){var n,i=e.symbol,r=Dt(t,i),o=Lt(t,i),s=Rt(t,i);return n={currency:r},x(n,Z.QUARTERLY,o),x(n,Z.ANNUAL,s),n}function T(t,e){var n=e.symbol;return{summary:yt(t,n)}}function k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O(t,e){var n=e.symbol;return{sales:At(t,n)}}function P(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I(t,e){var n=e.symbol;return{eps:Pt(t,n)}}function A(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function M(t,e){var n=e.symbol,i=e.as,r=void 0===i?"span":i;return{value:wt(t,n),as:r}}function N(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function D(t,e){var n=e.symbol,i=e.as,r=void 0===i?"span":i;return{value:St(t,n),as:r}}function L(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function R(t,e){var n=e.symbol,i=e.as,r=void 0===i?"span":i;return{value:Et(t,n),as:r}}function F(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function B(t,e){var n=e.symbol,i=e.as,r=void 0===i?"span":i;return{value:xt(t,n),as:r}}function U(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function j(t,e){var n=e.symbol,i=e.as,r=void 0===i?"span":i;return{value:Tt(t,n),as:r}}function z(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function V(t,e){var n=e.symbol,i=e.as,r=void 0===i?"span":i;return{value:kt(t,n),as:r}}function H(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function G(t,e){var n=e.symbol,i=e.as,r=void 0===i?"div":i;return{value:bt(t,n),as:r}}function W(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,e=arguments[1],n=e.type,i=e.payload;switch(n){case tn:var r=i.additionalData.symbol;return sn({},t,{instruments:sn({},t.instruments,W({},r,i.responsePayload.data))});case rn:return sn({},t,{existingFundamentals:i.responsePayload.data})}return t}function $(t){return{types:[Ze,tn,en],additionalData:{symbol:t},callApi:function(){return pn.loadStockFundamental(t)}}}function Y(){return{types:[nn,rn,on],callApi:function(){return pn.loadStockFundamentals()}}}var X=n(1),K=n.n(X),Q=n(8),J=n(44),Z=n(10),tt=n(245),et=n(0),nt=n.n(et),it=n(109),rt=function(t){return t.fundamental},ot=Object(J.a)(rt,function(t){return t.instruments}),st=Object(J.a)([ot,it.a],function(t,e){return t[e]||tt.b}),at=Object(J.a)(rt,function(t){return t.existingFundamentals}),lt=Object(J.a)([at,it.a],function(t,e){return nt.a.contains(t,e)}),ct=Object(J.a)([st,it.a],function(t,e){return t.symbol||e}),ut=Object(J.a)(st,function(t){return t.companyName||Z.NA}),dt=Object(J.a)(st,function(t){return t.employeesNum||Z.NA}),ht=Object(J.a)(st,function(t){return t.country||Z.NA}),pt=Object(J.a)(st,function(t){return t.publicSince||Z.NA}),ft=Object(J.a)(st,function(t){return t.auditor||Z.NA}),mt=Object(J.a)(st,function(t){return t.webSiteUrl||Z.NA}),gt=Object(J.a)(st,function(t){if(t.streetAddress){return[t.streetAddress,t.city,t.stateRegion,t.country].join(", ")}return Z.NA}),vt=Object(J.a)(st,function(t){return t.indexMembership||tt.a}),bt=Object(J.a)(st,function(t){return t.businessSummary||Z.NA}),yt=Object(J.a)(st,function(t){return t.financialSummary||null}),_t=Object(J.a)(yt,function(t){return!!t}),wt=Object(J.a)(st,function(t){return t.beta||Z.NA}),St=Object(J.a)(st,function(t){return t.eps||Z.NA}),Et=Object(J.a)(st,function(t){return t.marketCap||Z.NA}),xt=Object(J.a)(st,function(t){return t.dividendPerShare||Z.NA}),Ct=Object(J.a)(st,function(t){return t.volume||tt.b}),Tt=Object(J.a)(Ct,function(t){return t.tenDaysAverage||Z.NA}),kt=Object(J.a)(Ct,function(t){return t.threeMonthsAverage||Z.NA}),Ot=Object(J.a)(st,function(t){return t.forecast||tt.b}),Pt=Object(J.a)(Ot,function(t){return t.eps||tt.b}),It=Object(J.a)(Pt,function(t){return!nt.a.isEmpty(t)}),At=Object(J.a)(Ot,function(t){return t.sales||tt.b}),Mt=Object(J.a)(At,function(t){return!nt.a.isEmpty(t)}),Nt=Object(J.a)(st,function(t){return t&&t.financial}),Dt=Object(J.a)(Nt,function(t){return t&&t.currency}),Lt=Object(J.a)(Nt,function(t){return t&&t.quarter||tt.a}),Rt=Object(J.a)(Nt,function(t){return t&&t.annual||tt.a}),Ft=Object(J.a)([Lt,Rt],function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return nt.a.some(e,function(t){return!nt.a.isEmpty(t)})}),Bt=Object(J.a)(st,function(t){return!nt.a.isEmpty(t)}),Ut=Object(J.a)([Ft,Mt,It,_t],function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return nt.a.some(e,function(t){return t})}),jt=function(t){var e=t.value,n=i(t,["value"]);return K.a.createElement(n.as,null,e)},zt=Object(Q.connect)(r)(jt),Vt=function(t){var e=t.value,n=o(t,["value"]);return K.a.createElement(n.as,null,e)},Ht=Object(Q.connect)(s)(Vt),Gt=function(t){var e=t.value,n=a(t,["value"]);return K.a.createElement(n.as,null,e)},Wt=Object(Q.connect)(l)(Gt),qt=function(t){var e=t.value,n=c(t,["value"]);return K.a.createElement(n.as,null,e)},$t=Object(Q.connect)(u)(qt),Yt=function(t){var e=t.value,n=d(t,["value"]);return K.a.createElement(n.as,null,e)},Xt=Object(Q.connect)(h)(Yt),Kt=function(t){var e=t.indexes;p(t,["indexes"]);return nt.a.isEmpty(e)?null:K.a.createElement("div",{className:"index-membership"},K.a.createElement("div",{className:"index-membership__title"},K.a.createElement("span",null,__("instrument_info.index_membership"))),K.a.createElement("div",{className:"index-membership__list"},nt.a.map(e,function(t,e){return K.a.createElement("div",{className:"index-membership__list__item",key:"index-membership-"+e},t)})))},Qt=Object(Q.connect)(f)(Kt),Jt=n(3),Zt=n.n(Jt),te=function(t){var e=t.value,n=m(t,["value"]),i=Zt()(e);return i.isValid()?K.a.createElement(n.as,null,i.format("YYYY-MM-DD")):K.a.createElement(n.as,null,e)},ee=Object(Q.connect)(g)(te),ne=function(t){var e=t.value,n=v(t,["value"]);return K.a.createElement(n.as,null,e)},ie=Object(Q.connect)(b)(ne),re=function(t){var e=t.value;y(t,["value"]);return K.a.createElement("a",{href:e,target:"_blank"},e)},oe=Object(Q.connect)(_)(re),se=n(33),ae=n.n(se),le=n(419),ce=(n(1383),n(36)),ue=n(38),de=n.n(ue),he=(n(1384),{totalRevenue:"financials.total_revenue",totalOperatingExpenses:"financials.total_operating_expenses",netIncomeBeforeTaxes:"financials.net_income_before_taxes",netIncomeAfterTaxes:"financials.net_income_after_taxes"}),pe=Object.keys(he),fe=function(t){var e=t.financialData;if(nt.a.isEmpty(e))return null;var n=nt.a.reduce(e,function(t,e){return t[e.periodEndDate]=nt.a.omit(e,"periodEndDate"),t},{}),i=function(){return K.a.createElement(ce.q,{className:"financials-table__row financials-table__row--head"},K.a.createElement(ce.p,{className:"financials-table__cell financials-table__cell--head"},__("financials.period")),Object.keys(n).map(function(t,e){return K.a.createElement(ce.p,{className:"financials-table__cell financials-table__cell--head",key:"th-"+e},t)}))};return K.a.createElement(ce.m,{thead:K.a.createElement(i,null),className:"financials-table",theadClassName:"financials-table__header",bodyClassName:"financials-table__body"},pe.map(function(t,e){return K.a.createElement(ce.q,{key:"row-"+e,className:"financials-table__row"},K.a.createElement(ce.o,{className:"financials-table__cell"},__(he[t])),Object.keys(n).map(function(i,r){var o=n[i][t],s=de()(o).format("0,0[.]0");return K.a.createElement(ce.o,{key:"row-"+e+"column-"+r,className:"financials-table__cell"},s,"M")}))}))},me=fe,ge=n(11),ve=n.n(ge),be=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ye=[Z.QUARTERLY,Z.ANNUAL],_e=function(t){function e(t){w(this,e);var n=S(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={filterSelected:Z.QUARTERLY},ae()(n),n}return E(e,t),be(e,[{key:"componentDidMount",value:function(){this.props.onFilterChange(this.state.filterSelected)}},{key:"onFilterChange",value:function(t){this.setState({filterSelected:t}),this.props.onFilterChange(t)}},{key:"render",value:function(){var t=this,e=this.props,n=e.currency,i=e.className,r=this.state.filterSelected,o=ve()(x({"financial-info":!0},i,!!i));return K.a.createElement(ce.c,{className:o,title:K.a.createElement("div",{className:"financial-info__header"},K.a.createElement("div",{className:"financial-info__title"},__("financials.title"),K.a.createElement("span",{className:"financial-info__currency"},__("currency"),": ",n)),K.a.createElement("div",{className:"financial-info__filter"},K.a.createElement(le.a,{options:ye.filter(function(e){return!nt.a.isEmpty(t.props[e])}),selected:r,onChange:this.onFilterChange,transformOptionText:function(t){return __("financials."+t)}})))},K.a.createElement("div",{className:"financial-info__content"},K.a.createElement(me,{financialData:this.props[r]})))}}]),e}(K.a.Component);_e.defaultProps={onFilterChange:nt.a.noop};var we,Se,Ee=Object(Q.connect)(C)(_e),xe=function(t){var e=t.summary;return K.a.createElement("div",{className:"financial-summary"},e)},Ce=Object(Q.connect)(T)(xe),Te=(n(1385),function(t){var e=t.tabData,n=de()(e.avg).format("0,0[.]0"),i=de()(e.high).format("0,0[.]0"),r=de()(e.low).format("0,0[.]0"),o=de()(e.numberOfEstimations).format("0,0[.]0");return K.a.createElement("div",{className:"forecast-tab-view"},K.a.createElement("div",{className:"forecast-tab-view__row"},K.a.createElement("div",{className:"forecast-tab-view__name"},__("financials.avg")),K.a.createElement("div",{className:"forecast-tab-view__value"},n)),K.a.createElement("div",{className:"forecast-tab-view__row"},K.a.createElement("div",{className:"forecast-tab-view__name"},__("financials.high")),K.a.createElement("div",{className:"forecast-tab-view__value"},i)),K.a.createElement("div",{className:"forecast-tab-view__row"},K.a.createElement("div",{className:"forecast-tab-view__name"},__("financials.low")),K.a.createElement("div",{className:"forecast-tab-view__value"},r)),K.a.createElement("div",{className:"forecast-tab-view__row"},K.a.createElement("div",{className:"forecast-tab-view__name"},__("financials.number_of_estimations")),K.a.createElement("div",{className:"forecast-tab-view__value"},o)))}),ke=Te,Oe=[Z.QUARTER,Z.ANNUAL],Pe=(we={},k(we,Z.QUARTER,"financials.quarterly"),k(we,Z.ANNUAL,"financials.annual"),we),Ie=function(t){var e=t.sales,n=nt.a.map(Oe,function(t){return{title:t,view:K.a.createElement(ke,{tabData:e[t]})}});return K.a.createElement("div",null,K.a.createElement(ce.n,{tabList:n,transformTitle:function(t){var e=t.title;return __(Pe[e])}}))},Ae=Object(Q.connect)(O)(Ie),Me=[Z.QUARTER,Z.ANNUAL],Ne=(Se={},P(Se,Z.QUARTER,"financials.quarterly"),P(Se,Z.ANNUAL,"financials.annual"),Se),De=function(t){var e=t.eps,n=nt.a.map(Me,function(t){return{title:t,view:K.a.createElement(ke,{tabData:e[t]})}});return K.a.createElement("div",null,K.a.createElement(ce.n,{tabList:n,transformTitle:function(t){var e=t.title;return __(Ne[e])}}))},Le=Object(Q.connect)(I)(De),Re=function(t){var e=t.value,n=A(t,["value"]);return K.a.createElement(n.as,null,e)},Fe=Object(Q.connect)(M)(Re),Be=function(t){var e=t.value,n=N(t,["value"]);return K.a.createElement(n.as,null,e)},Ue=Object(Q.connect)(D)(Be),je=n(178),ze=function(t){var e=t.value,n=L(t,["value"]);return K.a.createElement(n.as,null,Object(je.roundMToB)(e))},Ve=Object(Q.connect)(R)(ze),He=function(t){var e=t.value,n=F(t,["value"]);return K.a.createElement(n.as,null,e)},Ge=Object(Q.connect)(B)(He),We=function(t){var e=t.value,n=U(t,["value"]);return K.a.createElement(n.as,null,e)},qe=Object(Q.connect)(j)(We),$e=function(t){var e=t.value,n=z(t,["value"]);return K.a.createElement(n.as,null,e)},Ye=Object(Q.connect)(V)($e),Xe=n(107),Ke=n.n(Xe),Qe=function(t){var e=t.value,n=t.className,i=H(t,["value","className"]);return K.a.createElement(i.as,{className:n},Ke()(e))},Je=Object(Q.connect)(G)(Qe),Ze="instruments/LOAD_STOCK_FUNDAMENTAL",tn="instruments/LOAD_STOCK_FUNDAMENTAL_SUCCESS",en="instruments/LOAD_STOCK_FUNDAMENTAL_ERROR",nn="instruments/LOAD_STOCK_FUNDAMENTALS",rn="instruments/LOAD_STOCK_FUNDAMENTALS_SUCCESS",on="instruments/LOAD_STOCK_FUNDAMENTALS_ERROR",sn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},an={instruments:{},existingFundamentals:[]},ln=n(6),cn=n.n(ln),un=function(t){return cn.a.getStockFundamental(t)},dn=function(){return cn.a.getStockFundamentals()},hn={loadStockFundamental:un,loadStockFundamentals:dn},pn=hn;n.d(e,"e",function(){return zt}),n.d(e,"f",function(){return Ht}),n.d(e,"i",function(){return Wt}),n.d(e,"j",function(){return $t}),n.d(e,"l",function(){return Xt}),n.d(e,"n",function(){return Qt}),n.d(e,"p",function(){return ee}),n.d(e,"q",function(){return ie}),n.d(e,"t",function(){return oe}),n.d(e,"c",function(){return Ee}),n.d(e,"d",function(){return Ce}),n.d(e,"b",function(){return Ae}),n.d(e,"a",function(){return Le}),n.d(e,"g",function(){return Fe}),n.d(e,"m",function(){return Ue}),n.d(e,"o",function(){return Ve}),n.d(e,"k",function(){return Ge}),n.d(e,"r",function(){return qe}),n.d(e,"s",function(){return Ye}),n.d(e,!1,function(){return me}),n.d(e,"h",function(){return Je}),n.d(e,!1,function(){return rt}),n.d(e,!1,function(){return ot}),n.d(e,!1,function(){return st}),n.d(e,!1,function(){return at}),n.d(e,"B",function(){return lt}),n.d(e,!1,function(){return ct}),n.d(e,!1,function(){return ut}),n.d(e,!1,function(){return dt}),n.d(e,!1,function(){return ht}),n.d(e,!1,function(){return pt}),n.d(e,!1,function(){return ft}),n.d(e,!1,function(){return mt}),n.d(e,!1,function(){return gt}),n.d(e,!1,function(){return vt}),n.d(e,!1,function(){return bt}),n.d(e,!1,function(){return yt}),n.d(e,"x",function(){return _t}),n.d(e,!1,function(){return wt}),n.d(e,!1,function(){return St}),n.d(e,!1,function(){return Et}),n.d(e,!1,function(){return xt}),n.d(e,!1,function(){return Ct}),n.d(e,!1,function(){return Tt}),n.d(e,!1,function(){return kt}),n.d(e,!1,function(){return Ot}),n.d(e,!1,function(){return Pt}),n.d(e,"z",function(){return It}),n.d(e,!1,function(){return At}),n.d(e,"A",function(){return Mt}),n.d(e,!1,function(){return Nt}),n.d(e,!1,function(){return Dt}),n.d(e,!1,function(){return Lt}),n.d(e,!1,function(){return Rt}),n.d(e,"w",function(){return Ft}),n.d(e,"v",function(){return Bt}),n.d(e,"y",function(){return Ut}),n.d(e,"u",function(){return q}),n.d(e,!1,function(){return Ze}),n.d(e,!1,function(){return tn}),n.d(e,!1,function(){return en}),n.d(e,!1,function(){return nn}),n.d(e,!1,function(){return rn}),n.d(e,!1,function(){return on}),n.d(e,"C",function(){return $}),n.d(e,"D",function(){return Y})},function(t,e,n){!function(e,i){t.exports=i(n(1),n(20),n(715))}(0,function(t,e,n){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(1),d=i(u),h=n(2),p=i(h),f=n(3),m=i(f),g=function(t){function e(t){o(this,e);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.callbacks=[],n}return a(e,t),c(e,[{key:"getChildContext",value:function(){var t=this;return{getScrollbar:function(e){"function"==typeof e&&(t.scrollbar?setTimeout(function(){return e(t.scrollbar)}):t.callbacks.push(e))}}}},{key:"componentDidMount",value:function(){var t=this;this.scrollbar=m.default.init(this.$container,this.props),this.callbacks.forEach(function(e){requestAnimationFrame(function(){return e(t.scrollbar)})}),this.scrollbar.addListener(this.handleScroll.bind(this))}},{key:"componentWillUnmount",value:function(){this.scrollbar&&this.scrollbar.destroy()}},{key:"componentWillReceiveProps",value:function(t){var e=this;Object.keys(t).forEach(function(n){!n in e.scrollbar.options||("plugins"===n?Object.keys(t.plugins).forEach(function(n){e.scrollbar.updatePluginOptions(n,t.plugins[n])}):e.scrollbar.options[n]=t[n])})}},{key:"componentDidUpdate",value:function(){this.scrollbar&&this.scrollbar.update()}},{key:"handleScroll",value:function(t){this.props.onScroll&&this.props.onScroll(t,this.scrollbar)}},{key:"render",value:function(){var t=this,e=this.props,n=(e.damping,e.thumbMinSize,e.syncCallbacks,e.renderByPixels,e.alwaysShowTracks,e.continuousScrolling,e.wheelEventTarget,e.plugins,e.onScroll,e.children),i=r(e,["damping","thumbMinSize","syncCallbacks","renderByPixels","alwaysShowTracks","continuousScrolling","wheelEventTarget","plugins","onScroll","children"]);return d.default.createElement("section",l({"data-scrollbar":!0,ref:function(e){return t.$container=e}},i),d.default.createElement("div",null,n))}}]),e}(d.default.Component);g.propTypes={damping:p.default.number,thumbMinSize:p.default.number,syncCallbacks:p.default.bool,renderByPixels:p.default.bool,alwaysShowTracks:p.default.bool,continuousScrolling:p.default.bool,wheelEventTarget:p.default.element,plugins:p.default.object,onScroll:p.default.func,children:p.default.node},g.childContextTypes={getScrollbar:p.default.func},e.default=g,t.exports=e.default},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e){t.exports=n}])})},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(1),s=n(16),a=n(1551),l=n(1553),c=(n(291),n(291).size),u=(n(291).DEFAULT_COLUMN_MIN_WIDTH,n(0)),d=n(715).default,h=n(15),p=o.createClass({displayName:"Grid",columnWidths:{},numberOfVisibleColumns:0,getDefaultProps:function(){return{className:"",empty:null,initialSort:!1,initialSortXS:"",initialSortSM:"",initialSortMD:"",initialSortLG:"",shouldHideColumns:!1,onClick:function(){},onRowClick:function(){},onSubRowClick:function(){},collection:[],columns:[],columnsXS:[],columnsSM:[],columnsMD:[],columnsLG:[],columnsContainerProps:null,columnsContainerPropsXS:null,columnsContainerPropsSM:null,columnsContainerPropsMD:null,columnsContainerPropsLG:null,customRowComponent:null,customRowComponentXS:null,customRowComponentSM:null,customRowComponentMD:null,customRowComponentLG:null,selectedRowId:null,customRowsComponent:null,toggleOnRowClick:!1,autoHideColumns:!1}},getInitialState:function(){return{collection:this.props.collection,className:this.props.className,showOpenPositions:this.props.showOpenPositions,showOrders:this.props.showOrders,screenSize:this.detectScreenSize(),columns:this.getColumns(),invalidate:!1,sortingData:{},selectedRowId:this.props.selectedRowId}},componentWillMount:function(){var t=this.getInitialSort();t&&this.changeSort(t)},componentDidMount:function(){window.addEventListener("resize",this.onResize,!1),this.props.collection.on("reset sort update sync",this.update,this)},componentWillUnmount:function(){window.removeEventListener("resize",this.onResize,!1),this.props.collection.off("reset sort update sync",this.update,this)},update:function(t){var e=t&&t.collection||this.props.collection;this.setState({collection:e,invalidate:!this.state.invalidate})},setSelectedRow:function(t){this.state.selectedRowId=t;var e=this.refs.rows;e&&e.setSelectedRow(t)},getSelectedRowElement:function(){var t=this.refs.rows;return!!t&&t.getSelectedRowElement()},getInitialSort:function(){var t=this.detectScreenSize(),e="initialSort"+t;return this.props[e]||this.props.initialSort},getColumnsConfig:function(t,e){var n=this.props[t],i=this.props[t+e];return u.isEmpty(i)?n:i},getListOfSuitableColumns:function(t){return u.reject(t,function(t){return t.alwaysInExpandable})},getColumns:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.detectScreenSize(),n=this.getColumnsConfig("columns",e);if(t||!1===this.props.autoHideColumns||u.isNull(this.state))return this.numberOfVisibleColumns=n.length,n;var i=this.getListOfSuitableColumns(n);return this.numberOfVisibleColumns=i.length,i},getHiddenColumns:function(){return u.difference(this.props.columns,this.getColumns())},getColumnsContainerProps:function(){var t=this.detectScreenSize();return this.getColumnsConfig("columnsContainerProps",t)},detectScreenSize:function(){var t=parseInt(window.innerWidth);return t<c.EXTRA_SMALL?"XS":t<c.SMALL?"SM":t<c.MIDDLE?"MD":t>=c.MIDDLE?"LG":void 0},onResize:function(){var t=this.detectScreenSize();t!==this.state.screenSize&&this.setState({columns:this.getColumns(),screenSize:t})},getColumnByName:function(t){var e=this.getColumns(!0);return u.filter(e,function(e){return t===e.name})[0]},changeSort:function(t,e){var n=this.props.collection,i=this.getColumnByName(t),r=i&&i.columnProps,o=r&&r.sortCompareFn;if(o){var s=e||r.sortDirection||0,a=r.sortAscending,l=-1*s;0===l&&(l=a?-1:1),n.sortDirection=l,n.comparator=o,n.sort(),this.setState({sortingData:{columnName:t,sortDirection:l}})}},getColumnContainer:function(t){return this.props.shouldHideColumns?null:o.createElement(a,u.extend({},this.getColumnsContainerProps(),{key:t,columns:this.getColumns(),collection:this.state.collection,onSort:this.changeSort,sortingData:this.state.sortingData}))},componentWillReceiveProps:function(t){u.isEqual(t.collection,this.props.collection)||this.update(t)},render:function(){var t=["instruments-table",this.state.screenSize,this.state.className,this.state.collection.isEmpty()?"empty":""].join(" ");return o.createElement("div",{className:t},this.state.collection.isEmpty()?this.getEmptyContainer():this.getDataContainer())},getEmptyContainer:function(){if(this.props.empty)return o.createElement(this.props.empty)},getCustomRowsComponent:function(){var t=this.detectScreenSize();return this.props["customRowsComponent"+t]||this.props.customRowsComponent},onKeyDown:function(t){var e=this.refs.rows;e&&e.onKeyDown&&e.onKeyDown(t)},getDataContainer:function(){var t=this.detectScreenSize(),e="rows"+t+this.state.invalidate,n="columns"+t,i=this.getCustomRowsComponent()||l;return o.createElement("table",{onClick:this.props.onClick},this.getColumnContainer(n),o.createElement(i,{ref:"rows",key:e,screenSize:t,columns:this.getColumns(),hiddenColumns:this.getHiddenColumns(),collection:this.state.collection,showOpenPositions:this.state.showOpenPositions,showOrders:this.state.showOrders,customRowComponent:this.props.customRowComponent,customRowComponentXS:this.props.customRowComponentXS,customRowComponentSM:this.props.customRowComponentSM,customRowComponentMD:this.props.customRowComponentMD,customRowComponentLG:this.props.customRowComponentLG,onRowClick:this.props.onRowClick,onSubRowClick:this.props.onSubRowClick,selectedRowId:this.state.selectedRowId,toggleOnRowClick:!0===this.props.toggleOnRowClick||this.props.toggleOnRowClick===t,autoHideColumns:this.props.autoHideColumns}))}});i.exports=function(t,e){var n=o.createElement(p,u.extend({parentElement:e},t)),i=s.render(n,e);if(h.desktop()){var a=r(e),l=a.find("thead")[0];if(!u.isUndefined(l)){d.init(a[0],{syncCallbacks:!0}).addListener(function(t){var e=t.offset;l.style.top=e.y+"px"})}}return{element:i,destroy:function(){s.unmountComponentAtNode(e)}}},i.exports.component=p}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(201),o=n(7),s=n(2),a=r.extend({defaults:function(){return{instrumentModel:null,amount:null,amountIncrement:null,currentPrice:null,conversionRate:null,takeProfit:null,takeProfitErrorMessage_Buy:"order.form.validation.take_profit_pips_higher",takeProfitErrorMessage_Sell:"order.form.validation.take_profit_pips_lesser",stopLoss:null,stopLossErrorMessage_Buy:"order.form.validation.stop_loss_pips_lesser",stopLossErrorMessage_Sell:"order.form.validation.stop_loss_pips_higher",minTakeProfit:null,minTakeProfitErrorMessage_Buy:"order.form.validation.take_profit_pips_higher",minTakeProfitErrorMessage_Sell:"order.form.validation.take_profit_pips_lesser",minStopLoss:null,minStopLossErrorMessage_Buy:"order.form.validation.stop_loss_pips_lesser",minStopLossErrorMessage_Sell:"order.form.validation.stop_loss_pips_higher",guaranteedStopLoss:null,profitForTakeProfit:null,lossForStopLoss:null,direction:null,rate:0,requiredMarginInAccountCurrency:null,requiredMarginInInstrumentCurrency:null,expirationDate:null}},initialize:function(t){r.prototype.initialize.apply(this,arguments);var e=this.getInstrumentModel(),n=this.getPositionModel();this.listenTo(s,"stream:type:CONVERSION_RATE",this._onConversionRateChange),this.listenTo(e,"change:"+this.getPriceKey(),this.onRateChanged),this.listenTo(e,"change:requiredMarginInAccountCurrency change:requiredMarginInInstrumentCurrency",this.updateMargins),this.listenTo(this,"change:takeProfit change:conversionRate",this.calcProfitForTakeProfit),this.listenTo(this,"change:stopLoss change:conversionRate",this.calcLossForStopLoss),this.listenTo(this,"change:stopLoss",this.validateStopLoss),this.setAmount(this.getQuantity()),this.setCurrentPrice(this.getCostBasic()),this.setRate(this.getDefiniteRate()),this.setGuaranteedStopLoss(n.get("guaranteedStopLossAmount")),this.setRequiredMarginInAccountCurrency(e.get("requiredMarginInAccountCurrency")),this.setRequiredMarginInInstrumentCurrency(e.get("requiredMarginInInstrumentCurrency")),this.isPositionHaveTakeProfit()&&this.set("takeProfit",n.get("takeProfit").fixedPrice),this.isPositionHaveStopLoss()&&this.set("stopLoss",n.get("stopLoss").fixedPrice)},getDefiniteRate:function(){return this.isBuy()?this.getBid():this.getAsk()},getPriceKey:function(){return this.isBuy()?"bid":"ask"},getPositionCode:function(){return this.getPositionModel().get("positionCode")},getType:function(){return this.get("type")},getQuantity:function(){var t=this.getPositionModel().get("quantity");return t<0?-t:t},getLotName:function(){return this.getPositionModel().get("lotName")},getOpenPl:function(){return this.getPositionModel().get("plOpen")},getCostBasic:function(){return this.getPositionModel().get("costBasis")},getUserCurrencySymbol:function(){return o.getUserCurrencySymbol()},isBuy:function(){return"Buy"==this.getDirection()},getRateDirection:function(){return this.getInstrumentModel().get(this.getPriceDirectionKey())},isPositionHaveTakeProfit:function(){return!!this.getPositionModel().get("takeProfit")},isPositionHaveStopLoss:function(){return!!this.getPositionModel().get("stopLoss")},getPositionModel:function(){return this.get("position")},calcTakeProfit:function(){var t=this.isBuy()?this.getRate()+this.minOrderDistance():this.getRate()-this.minOrderDistance();this.setTakeProfit(t)},calcStopLoss:function(){var t=this.isBuy()?this.getRate()-this.minOrderDistance():this.getRate()+this.minOrderDistance();this.setStopLoss(t)},getErrorTakeProfitMessageBuy:function(t){return __(this.get("takeProfitErrorMessage_Buy"),t)},getErrorTakeProfitMessageSell:function(t){return __(this.get("takeProfitErrorMessage_Sell"),t)},getErrorStopLossMessageBuy:function(t){return __(this.get("stopLossErrorMessage_Buy"),t)},getErrorStopLossMessageSell:function(t){return __(this.get("stopLossErrorMessage_Sell"),t)},getCurrentPrice:function(){return this.get("currentPrice")},isPlChangeIncreasing:function(){return this.getOpenPl()>=0},getReflectPriceKey:function(){return this.isBuy()?"bid":"ask"},calcClosePrice:function(){var t=this.getPositionModel().get("guaranteedStopLossLevel"),e=this.getPositionModel().get("quantity"),n=-1*t*Math.abs(e),i=this.getPositionModel().get("adjustment"),r=this.get("currentPrice"),o=this.getConversionRate()||1;return(n-i+r*e*o)/(e*o)},calcLossForStopLoss:function(){var t=this.getInstrumentModel(),e=this.getStopLoss(),n=this.getCostBasic(),i=o.getUserCurrency(),r=t.getCurrency(),s=(this.isBuy()?-(e-n):e-n)*this.getAmount(),a=this.calcProfit(i,r,s)-this.getPositionModel().getCommision();this.setLossForStopLoss(a)},calcProfitForTakeProfit:function(){var t=this.getInstrumentModel(),e=this.getTakeProfit(),n=this.getCostBasic(),i=o.getUserCurrency(),r=(this.isBuy()?e-n:-(e-n))*this.getAmount(),s=t.getCurrency(),a=this.calcProfit(i,s,r)+this.getPositionModel().getCommision();this.setProfitForTakeProfit(a)},getValidationValueForProfit:function(){var t,e,n=this.getInstrumentModel().getPrecision();return this.isBuy()?(t=Number((this.getRate()+this.minAllowedOrderDistance()).toFixed(n)),e=Number((this.getReflectRate()+this.getInstrumentModel().getPipsPrecisionSize()).toFixed(n)),t>=e?t:e):(t=Number((this.getRate()-this.minAllowedOrderDistance()).toFixed(n)),e=Number((this.getReflectRate()-this.getInstrumentModel().getPipsPrecisionSize()).toFixed(n)),t<=e?t:e)},getValidationValueForLoss:function(){var t,e,n=this.getInstrumentModel().getPrecision();return this.isBuy()?(t=Number((this.getRate()-this.minAllowedOrderDistance()).toFixed(n)),e=Number((this.getReflectRate()-this.getInstrumentModel().getPipsPrecisionSize()).toFixed(n)),t<=e?t:e):(t=Number((this.getRate()+this.minAllowedOrderDistance()).toFixed(n)),e=Number((this.getReflectRate()+this.getInstrumentModel().getPipsPrecisionSize()).toFixed(n)),t>=e?t:e)}});i.exports=a}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(201),o=n(9),s=n(7),a=n(2),l=n(287),c=r.extend({defaults:function(){return{instrumentModel:null,amountIncrement:null,amount:null,currentPrice:null,conversionRate:null,price:null,takeProfit:null,takeProfitErrorMessage_Buy:"order.form.validation.take_profit_pips_higher",takeProfitErrorMessage_Sell:"order.form.validation.take_profit_pips_lesser",stopLoss:null,stopLossErrorMessage_Buy:"order.form.validation.stop_loss_pips_lesser",stopLossErrorMessage_Sell:"order.form.validation.stop_loss_pips_higher",entryLimit:null,entryStop:null,minTakeProfit:null,minTakeProfitErrorMessage_Buy:"order.form.validation.take_profit_pips_higher",minTakeProfitErrorMessage_Sell:"order.form.validation.take_profit_pips_lesser",minStopLoss:null,minStopLossErrorMessage_Buy:"order.form.validation.stop_loss_pips_lesser",minStopLossErrorMessage_Sell:"order.form.validation.stop_loss_pips_higher",moreFundsRequired:"state.machine.confirmation.deposit.suggest",profitForTakeProfit:null,lossForStopLoss:null,direction:null,rate:0,rateDirection:0,marginInAccountCurrency:null,marginInInstrumentCurrency:null,entryLimit_Buy_Label:__("order.form.limit.label.buy"),entryLimit_Sell_Label:__("order.form.limit.label.sell"),entryStop_Buy_Label:__("order.form.stop.label.buy"),entryStop_Sell_Label:__("order.form.stop.label.sell"),entryStop_Buy_Explanation:__("help.order.entry_stop_buy"),entryStop_Sell_Explanation:__("help.order.entry_stop_sell"),entryLimit_Buy_Explanation:__("help.order.entry_limit_buy"),entryLimit_Sell_Explanation:__("help.order.entry_limit_sell"),expirationDays:null}},initialize:function(t){r.prototype.initialize.apply(this,arguments),this.instrument=this.getInstrumentModel(),this.loadInstrumentMarginingSettings(),this.order=t.order,this.setAmount(this.order.get("quantity")),this.setCurrentPrice(this.order.getPrice()),this.instrument.set({requiredMarginInAccountCurrency:null,requiredMarginInInstrumentCurrency:null}),this.listenTo(a,"stream:type:CONVERSION_RATE",this._onConversionRateChange),this.listenTo(this.instrument,"change:"+this.getPriceKey(),this.onRateChanged),this.listenTo(this.instrument,"change:"+this.getPriceDirectionKey(),this.onPriceDirection),this.listenTo(this.instrument,"change:requiredMarginInAccountCurrency change:requiredMarginInInstrumentCurrency",this.updateMargins),this.listenTo(this,"change:takeProfit change:amount change:currentPrice change:conversionRate",this.calcProfitForTakeProfit),this.listenTo(this,"change:stopLoss change:amount change:currentPrice change:conversionRate",this.calcLossForStopLoss),this.listenTo(this,"change:amount",this.updateMargins),this.setRate(this.getDefiniteRate()),this.setRateDirection("askDirection"===this.getPriceDirectionKey()?this.instrument.getAskDirection():this.instrument.getBidDirection()),this.calcProfitForTakeProfit(),this.calcLossForStopLoss()},getErrorAmountMin:function(t){return this.getInstrumentModel().isAmountWordUsed()?__("order.form.validation.amount_too_small",t):__("order.form.validation.quantity_too_small",t)},getErrorDivisible:function(t){return this.getInstrumentModel().isAmountWordUsed()?__("order.form.validation.amount_step",t):__("order.form.validation.quantity_step",t)},getErrorAmountMax:function(t){return this.getInstrumentModel().isAmountWordUsed()?__("order.form.validation.amount_too_big",t):__("order.form.validation.quantity_too_big",t)},getErrorEntryStopPriceHigher:function(t){return __("order.form.validation.trigger_price_higher",__("order.form.field.entry_stop"),t)},getErrorEntryStopPriceLesser:function(t){return __("order.form.validation.trigger_price_lesser",__("order.form.field.entry_stop"),t)},getErrorEntryLimitPriceHigher:function(t){return __("order.form.validation.trigger_price_higher",__("order.form.field.entry_limit"),t)},getErrorEntryLimitPriceLesser:function(t){return __("order.form.validation.trigger_price_lesser",__("order.form.field.entry_limit"),t)},getErrorTakeProfitMessageBuy:function(t){return __(this.get("takeProfitErrorMessage_Buy"),t)},getErrorTakeProfitMessageSell:function(t){return __(this.get("takeProfitErrorMessage_Sell"),t)},getErrorStopLossMessageBuy:function(t){return __(this.get("stopLossErrorMessage_Buy"),t)},getErrorStopLossMessageSell:function(t){return __(this.get("stopLossErrorMessage_Sell"),t)},setAmount:function(t,e){this.set("amount",Number(t),e)},setCurrentPrice:function(t){this.set("currentPrice",this.toFixed(t))},getAmountIncrement:function(){return this.order.get("amountIncrement")},isBuy:function(){return"BUY"===this.getDirection()},setCurrentPriceFromEntryLimit:function(t,e){this.set("currentPriceFromEntryLimit",this.toFixed(t),e)},getCurrentPriceFromEntryLimit:function(){return this.get("currentPriceFromEntryLimit")},getErrorAmounMax:function(){return this.getInstrumentModel().isAmountWordUsed()?__("order.form.validation.amount_too_big",this.getInstrument().getMaxOrderSize()):__("order.form.validation.quantity_too_big",this.getInstrument().getMaxOrderSize())},getErrorMoreFundsRequired:function(){return __(this.get("moreFundsRequired"))},getPriceExplanation:function(){switch(this.order.get("type")){case"STOP":return this.getEntryStopExplanation();case"LIMIT":return this.getEntryLimitExplanation()}},getValidationValueForProfit:function(){var t=void 0,e=void 0,n=this.getInstrumentModel().getPrecision();return this.isBuy()?(t=Number((this.getRate()+this.minAllowedOrderDistance()).toFixed(n)),e=Number((this.getReflectRate()+this.getInstrumentModel().getPipsPrecisionSize()).toFixed(n)),t>=e?t:e):(t=Number((this.getRate()-this.minAllowedOrderDistance()).toFixed(n)),e=Number((this.getReflectRate()-this.getInstrumentModel().getPipsPrecisionSize()).toFixed(n)),t<=e?t:e)},getValidationValueForLoss:function(){var t=void 0,e=void 0,n=this.getInstrumentModel().getPrecision();return this.isBuy()?(t=Number((this.getRate()-this.minAllowedOrderDistance()).toFixed(n)),e=Number((this.getReflectRate()-this.getInstrumentModel().getPipsPrecisionSize()).toFixed(n)),t<=e?t:e):(t=Number((this.getRate()+this.minAllowedOrderDistance()).toFixed(n)),e=Number((this.getReflectRate()+this.getInstrumentModel().getPipsPrecisionSize()).toFixed(n)),t>=e?t:e)},setTakeProfit:function(t,e){this.set("takeProfit",this.toFixed(t),e)},setStopLoss:function(t,e){this.set("stopLoss",this.toFixed(t),e)},calcTakeProfit:function(){var t=void 0;this.getInstrumentModel().getPrecision();return t=this.isBuy()?this.getPrice()+this.minOrderDistance(!1):this.getPrice()-this.minOrderDistance(!1),this.setTakeProfit(t),this},calcStopLoss:function(){var t=void 0;this.getInstrumentModel().getPrecision();return t=this.isBuy()?this.getPrice()-this.minOrderDistance(!1):this.getPrice()+this.minOrderDistance(!1),this.setStopLoss(t),this},minOrderDistance:function(t){var e=void 0,n=this.getInstrumentModel(),i=n.getLimitStopDistance(),r=n.getPipsPrecisionSize(),s=n.getPrecision(),a=o.getDefaultDistancePipsMultiplier();return a=a.toFixed(s),i=i.toFixed(s),e=t?i*r:i*r*a,Number(e.toFixed(s))},calcLossForStopLoss:function(){var t=this.getInstrumentModel(),e=this.getStopLoss(),n=this.getCurrentPrice(),i=s.getUserCurrency(),r=(this.isBuy()?-(e-n):e-n)*this.getAmount(),o=t.getCurrency(),a=this.calcProfit(i,o,r);this.setLossForStopLoss(a)},calcProfitForTakeProfit:function(){var t=this.getInstrumentModel(),e=this.getTakeProfit(),n=this.getCurrentPrice(),i=s.getUserCurrency(),r=(this.isBuy()?e-n:-(e-n))*this.getAmount(),o=t.getCurrency(),a=this.calcProfit(i,o,r);this.setProfitForTakeProfit(a)},getGSL:function(t){var e=t||this.get("currentPrice"),n=this.getInstrumentModel(),i=this.getConversionRate(),r=this.getAmount(),o=n.isTypeForex()?1:n.getLotSize();return e*(n.getMarginRate()||0)*i*r*o},loadInstrumentMarginingSettings:function(){l.getMarginingSettings(this.getInstrumentModel().getSymbol()).then(this.calculateMarginRate.bind(this))},calculateMarginRate:function(t){this.set({tieredMarginEnabled:t.tieredMarginEnabled,minTieredMarginQuantity:t.minTieredMarginQuantity})},isTieredMarginEnabled:function(){return this.get("tieredMarginEnabled")},isTieredMarginApplied:function(t){return!!this.isTieredMarginEnabled()&&t>this.get("minTieredMarginQuantity")}});i.exports=c}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=(n(0),n(3)),o=n(369),s=o.MILLISECOND,a=o.SECOND,l=o.MINUTE,c=o.HOUR,u=o.DAY,d=o.WEEK,h=o.MONTH,p=n(281),f=(n(370),[s,a,l,c,u,d,h]),m=[s,a,l,c];i.exports={getRangeSettings:function(t,e){var n=void 0,i=void 0;t.get("range")?(n=t.get("range"),i=p[n.request.period]):i=p[t.get("period").name];var o=+r.utc();if(!e){for(var s=r.utc(o),a=0,l=f.length;a<l;a++){if(i.unit===f[a]){switch(i.unit){case d:s.startOf("isoWeek");break;case h:s.startOf("month");break;default:s[f[a]](Math.ceil(s[i.unit]()/i.amount)*i.amount)}break}m.indexOf(f[a])>=0&&s[f[a]](0)}n?s.subtract(n.amount,n.unit):s.subtract(400*i.amount,i.unit),i.unit===d&&s.startOf("isoWeek"),e=+s}var c=1e3*i.seconds;return{start:e,end:o,step:c,count:Math.ceil((o-e)/c)}},extendPoints:function(t,e){for(var n=this.getRangeSettings(e,e.getRangeStart()),i=[],r=n.start,o=0,s=0;r<=n.end;r+=n.step)t[o]&&t[o][0]===r?(i.push(t[o]),s=t[o][1],o++):i.push([r,s]);return i}}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){"use strict";function i(){return function(t){t({type:I.n,payload:{selectedDate:Object(M.a)(),selectedSmallCalendarDate:Object(M.a)()}})}}function r(){return function(t,e){var n=j.a.getUserData().getCrmboCustomer().id,i=e().webinars.lastUpdated;D.a.now()-i>$&&(t({types:[I.s,o,I.t],callApi:function(){return B.a.getWebinars(n)}}),D.a.after(function(){return t(r())},$))}}function o(t){return function(e){e({type:I.u,payload:t}),e(P()),setInterval(function(){return e(P())},q)}}function s(){return{type:I.H}}function a(){return{type:I.G}}function l(t){return function(e){e({type:I.c,payload:t})}}function c(t){return function(e){e({type:I.e,payload:t})}}function u(){return function(t,e){var n=e().webinars.selectedSmallCalendarDate;t(c(G()(n).add({months:1}).toDate()))}}function d(){return function(t,e){var n=e().webinars.selectedSmallCalendarDate;t(c(G()(n).add({months:-1}).toDate()))}}function h(){return function(t){t(c(Object(M.a)()))}}function p(t){return function(e){e({type:I.f,payload:t})}}function f(t){return function(e){e({type:I.d,payload:t})}}function m(){return{type:I.A}}function g(){return{type:I.B}}function v(t){return function(e,n){e({type:I.L,payload:t}),R.a.trigger("ui:webinar:watch",t)}}function b(t){return function(e){var n=j.a.getUserData().getCrmboCustomer().id;e({types:[I.D,y,I.E],callApi:function(){return B.a.registerWebinar(n,t,!0)},additionalData:{eventId:t,action:"subscribe"}})}}function y(t){return function(e){e({type:I.F,payload:t}),R.a.trigger("ui:balloon",{title:__("webinars.register.title"),body:__("webinars.register.text")})}}function _(t){return function(e){var n=j.a.getUserData().getCrmboCustomer().id;e({types:[I.I,w,I.J],callApi:function(){return B.a.registerWebinar(n,t,!1)},additionalData:{eventId:t,action:"unsubscribe"}})}}function w(t){return function(e){e({type:I.K,payload:t}),R.a.trigger("ui:balloon",{title:__("webinars.unregister.title"),body:__("webinars.unregister.text")})}}function S(){return function(t,e){if(e().webinars.premiumWebinarsCheckerRequest===W.SUCCESS)return void t(r());t({types:[I.x,E,I.y],callApi:function(){return V.a.checkWebinarsPremiumEnabled()}})}}function E(t){return function(e){e({type:I.z,payload:t}),e(r())}}function x(t){return function(e,n){var i=j.a.getUserData().getCrmboCustomer().id;Object(A.a)(n(),t)&&e({types:[I.o,I.q,I.p],callApi:function(){return B.a.joinWebinar(i,t)}})}}function C(t){var e=t.name,n=t.value;return{type:I.v,payload:{name:e,value:n}}}function T(){return function(t,e){t(C(e().webinars.isMobileSmallCalendarOpen?{name:"open",value:!1}:{name:"open",value:!0}))}}function k(t){return function(e){e({type:I.a,payload:{value:t}})}}function O(){return{type:I.C}}function P(){return function(t){t({type:I.m}),t(O())}}e.j=i,e.p=s,e.o=a,e.b=l,e.d=c,e.g=u,e.h=d,e.i=h,e.e=p,e.c=f,e.l=m,e.m=g,e.s=v,e.n=b,e.r=_,e.f=S,e.k=x,e.q=T,e.a=k;var I=n(285),A=n(423),M=n(208),N=n(0),D=n.n(N),L=n(2),R=n.n(L),F=n(6),B=n.n(F),U=n(7),j=n.n(U),z=n(9),V=n.n(z),H=n(3),G=n.n(H),W=n(10),q=6e4,$=10*q},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=r.createClass({displayName:"Empty",render:function(){return r.createElement("div",null,__("search.no.results"))}});i.exports=o}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,o){var s=n(1),a=n(427),l=s.createClass({displayName:"GridRows",getDefaultProps:function(){return{columns:[],collection:[],screenSize:null,customRowComponent:null,customRowComponentXS:null,customRowComponentSM:null,customRowComponentMD:null,customRowComponentLG:null,onRowClick:function(){},onRowMouseOver:function(){},selectedRowId:null,hoveredRowId:null}},getInitialState:function(){return{columns:this.props.columns,collection:this.props.collection,selectedRowId:this.props.selectedRowId,hoveredRowId:this.props.hoveredRowId}},onKeyDown:function(t){var e=this.refs[this.state.hoveredRowId+"-hovered"];if(40==t.keyCode||38==t.keyCode){t.preventDefault();var n=void 0!=this.getHoveredRowElementIndex()?this.getHoveredRowElementIndex():-1;40==t.keyCode&&this.setState({hoveredRowId:n<this.props.collection.length-1?n+1:n}),38==t.keyCode&&this.setState({hoveredRowId:n>1?n-1:0});var r=i(this.container).parent().parent().parent()[0];e&&(r.scrollTop=e.getHTMLElement().offsetTop-r.offsetHeight+70)}13==t.keyCode&&(e&&e.getHTMLElement().click(),t.stopPropagation())},getComponent:function(){var t=this.props.screenSize,e=this.props.customRowComponent||a;if(r.isEmpty(t))return e;var n="customRowComponent"+t,i=this.props[n];return r.isEmpty(i)?e:i},getHoveredRowElementIndex:function(){return this.state.hoveredRowId},onRowClick:function(t,e){this.setState({selectedRowId:e.cid}),r.isFunction(this.props.onRowClick)&&this.props.onRowClick(t,e)},onRowMouseOver:function(t,e){this.setState({hoveredRowId:e}),r.isFunction(this.props.onRowMouseOver)&&this.props.onRowMouseOver(t,e)},setSelectedRow:function(t){this.setState({selectedRowId:t})},setHoveredRow:function(t){this.setState({hoveredRowId:t})},render:function(){var t=this,e=this.state.columns,n=this.getComponent(),i=this.props.screenSize,r=this.onRowClick,o=this.onRowMouseOver,a=this.state.selectedRowId,l=this.state.hoveredRowId,c=this.state.collection.map(function(t,c){var u=a==t.cid,d=l==c;return s.createElement(n,{key:t.cid+u,ref:c+"-hovered",columns:e,model:t,isExpanded:u,isSelected:u,isHovered:d,screenSize:i,onRowClick:r,onRowMouseOver:o,index:c})},this);return s.createElement("tbody",{className:"rows",ref:function(e){t.container=e}},c)}});o.exports=l}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(5),n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(1),s=n(290),a=o.createClass({displayName:"GridRow",getDefaultProps:function(){return{model:null,index:null,columns:[],screenSize:null,onRowClick:function(){},onRowMouseOver:function(){},selectedRowClass:"selected",hoveredRowClass:"hovered",isSelected:!1,isHovered:!1}},getHTMLElement:function(){return this.refs.container},getRenderCells:function(){var t=this.props.model;this.props.index;return this.props.columns.map(function(e,n){var r=e.type||s,a=i.extend({},e.cellProps,{key:n,column:e,model:t});return o.createElement(r,a)})},componentDidMount:function(){var t=this;this.props.model.on("change:sellTradable change:buyTradable",function(){return t.forceUpdate()})},componentWillUnmount:function(){this.props.model.off("change:sellTradable change:buyTradable")},onRowClick:function(t){this.props.onRowClick(t,this.props.model)},onRowMouseOver:function(t){this.props.onRowMouseOver(t,this.props.index)},render:function(){var t=this.props,e=t.model,n=t.isSelected,i=t.selectedRowClass,r=t.isHovered,s=t.hoveredRowClass,a=e.get("sellTradable")||e.get("buyTradable"),l=["row",n?i:"",r?s:"",a?"tradable":"not-tradable"].join(" ");return o.createElement("tr",{ref:"container",className:l,onClick:this.onRowClick,onMouseOver:this.onRowMouseOver},this.getRenderCells())}});r.exports=a}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},,,function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(44),r=n(0),o=n.n(r),s=n(106),a=function(t){return t.acuityTrading},l=Object(i.a)(a,function(t){return t.sentiment}),c=Object(i.a)(a,function(t){return t.alertsBySymbolIds}),u=Object(i.a)([s.b,c],function(t,e){return t&&!o.a.isEmpty(e)});Object(i.a)([s.b,l],function(t,e){return t&&!o.a.isEmpty(e)})},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}var o=n(1),s=n.n(o),a=n(11),l=n.n(a),c=n(0),u=n.n(c),d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},h=function(t){var e=t.dataBefore,n=t.disable,o=t.title,a=t.type,c=void 0===a?"text":a,h=t.className,p=t.onChange,f=void 0===p?u.a.noop:p,m=t.onBlur,g=void 0===m?u.a.noop:m,v=t.transformValue,b=void 0===v?function(t){return t}:v,y=r(t,["dataBefore","disable","title","type","className","onChange","onBlur","transformValue"]);return s.a.createElement("div",{className:l()(i({"field field-type-input":!0,"has-title":!!e,"field-disabled":n},h,!!h)),"data-before":e},o&&s.a.createElement("label",{className:"field-type-input__title"},o),s.a.createElement("input",d({type:c,className:"form-control input-field",onChange:function(t){return f(b(t.target.value))},onBlur:function(t){return g(b(t.target.value))}},y)))};e.a=h},function(t,e){},function(t,e,n){"use strict";function i(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function r(t){function e(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!==n&&void 0!==n?n:null}this.setState(e.bind(this))}function o(t,e){try{var n=this.props,i=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}function s(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate)return t;var n=null,s=null,a=null;if("function"==typeof e.componentWillMount?n="componentWillMount":"function"==typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof e.componentWillReceiveProps?s="componentWillReceiveProps":"function"==typeof e.UNSAFE_componentWillReceiveProps&&(s="UNSAFE_componentWillReceiveProps"),"function"==typeof e.componentWillUpdate?a="componentWillUpdate":"function"==typeof e.UNSAFE_componentWillUpdate&&(a="UNSAFE_componentWillUpdate"),null!==n||null!==s||null!==a){var l=t.displayName||t.name,c="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==s?"\n  "+s:"")+(null!==a?"\n  "+a:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof t.getDerivedStateFromProps&&(e.componentWillMount=i,e.componentWillReceiveProps=r),"function"==typeof e.getSnapshotBeforeUpdate){if("function"!=typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=o;var u=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var i=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,t,e,i)}}return t}function a(t){var e=t.cellCount,n=t.cellSize,i=t.computeMetadataCallback,r=t.computeMetadataCallbackProps,o=t.nextCellsCount,s=t.nextCellSize,a=t.nextScrollToIndex,l=t.scrollToIndex,c=t.updateScrollOffsetForScrollToIndex;e===o&&("number"!=typeof n&&"number"!=typeof s||n===s)||(i(r),l>=0&&l===a&&c())}function l(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e={};return function(n){var i=n.callback,r=n.indices,o=zt()(r),s=!t||o.every(function(t){var e=r[t];return Array.isArray(e)?e.length>0:e>=0}),a=o.length!==zt()(e).length||o.some(function(t){var n=e[t],i=r[t];return Array.isArray(i)?n.join(",")!==i.join(","):n!==i});e=r,s&&a&&i(r)}}function c(t){var e=t.cellCount,n=t.overscanCellsCount,i=t.scrollDirection,r=t.startIndex,o=t.stopIndex;return i===Vt?{overscanStartIndex:Math.max(0,r),overscanStopIndex:Math.min(e-1,o+n)}:{overscanStartIndex:Math.max(0,r-n),overscanStopIndex:Math.min(e-1,o)}}function u(t){var e=t.cellSize,n=t.cellSizeAndPositionManager,i=t.previousCellsCount,r=t.previousCellSize,o=t.previousScrollToAlignment,s=t.previousScrollToIndex,a=t.previousSize,l=t.scrollOffset,c=t.scrollToAlignment,u=t.scrollToIndex,d=t.size,h=t.sizeJustIncreasedFromZero,p=t.updateScrollIndexCallback,f=n.getCellCount(),m=u>=0&&u<f,g=d!==a||h||!r||"number"==typeof e&&e!==r;m&&(g||c!==o||u!==s)?p(u):!m&&f>0&&(d<a||f<i)&&l>n.getTotalSize()-d&&p(f-1)}function d(t){for(var e=t.cellCache,n=t.cellRenderer,i=t.columnSizeAndPositionManager,r=t.columnStartIndex,o=t.columnStopIndex,s=t.deferredMeasurementCache,a=t.horizontalOffsetAdjustment,l=t.isScrolling,c=t.isScrollingOptOut,u=t.parent,d=t.rowSizeAndPositionManager,h=t.rowStartIndex,p=t.rowStopIndex,f=t.styleCache,m=t.verticalOffsetAdjustment,g=t.visibleColumnIndices,v=t.visibleRowIndices,b=[],y=i.areOffsetsAdjusted()||d.areOffsetsAdjusted(),_=!l&&!y,w=h;w<=p;w++)for(var S=d.getSizeAndPositionOfCell(w),E=r;E<=o;E++){var x=i.getSizeAndPositionOfCell(E),C=E>=g.start&&E<=g.stop&&w>=v.start&&w<=v.stop,T=w+"-"+E,k=void 0;_&&f[T]?k=f[T]:s&&!s.has(w,E)?k={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(k={height:S.size,left:x.offset+a,position:"absolute",top:S.offset+m,width:x.size},f[T]=k);var O={columnIndex:E,isScrolling:l,isVisible:C,key:T,parent:u,rowIndex:w,style:k},P=void 0;!c&&!l||a||m?P=n(O):(e[T]||(e[T]=n(O)),P=e[T]),null!=P&&!1!==P&&b.push(P)}return b}function h(t){var e=t.cellCount,n=t.overscanCellsCount,i=t.scrollDirection,r=t.startIndex,o=t.stopIndex;return n=Math.max(1,n),i===re?{overscanStartIndex:Math.max(0,r-1),overscanStopIndex:Math.min(e-1,o+n)}:{overscanStartIndex:Math.max(0,r-n),overscanStopIndex:Math.min(e-1,o+1)}}function p(t,e){return t+"-"+e}function f(t){for(var e=t.cellCount,n=t.cellSizeAndPositionGetter,i=t.sectionSize,r=[],o=new xe(i),s=0,a=0,l=0;l<e;l++){var c=n({index:l});if(null==c.height||isNaN(c.height)||null==c.width||isNaN(c.width)||null==c.x||isNaN(c.x)||null==c.y||isNaN(c.y))throw Error("Invalid metadata returned for cell "+l+":\n        x:"+c.x+", y:"+c.y+", width:"+c.width+", height:"+c.height);s=Math.max(s,c.y+c.height),a=Math.max(a,c.x+c.width),r[l]=c,o.registerCell({cellMetadatum:c,index:l})}return{cellMetadata:r,height:s,sectionManager:o,width:a}}function m(t){var e=t.align,n=void 0===e?"auto":e,i=t.cellOffset,r=t.cellSize,o=t.containerSize,s=t.currentOffset,a=i,l=a-o+r;switch(n){case"start":return a;case"end":return l;case"center":return a-(o-r)/2;default:return Math.max(l,Math.min(a,s))}}function g(t){var e=t.cellCache,n=t.cellRenderer,i=t.cellSizeAndPositionGetter,r=t.indices,o=t.isScrolling;return r.map(function(t){var r=i({index:t}),s={index:t,isScrolling:o,key:t,style:{height:r.height,left:r.x,position:"absolute",top:r.y,width:r.width}};return o?(t in e||(e[t]=n(s)),e[t]):n(s)}).filter(function(t){return!!t})}function v(t){var e=t.lastRenderedStartIndex,n=t.lastRenderedStopIndex,i=t.startIndex,r=t.stopIndex;return!(i>n||r<e)}function b(t){for(var e=t.isRowLoaded,n=t.minimumBatchSize,i=t.rowCount,r=t.startIndex,o=t.stopIndex,s=[],a=null,l=null,c=r;c<=o;c++){e({index:c})?null!==l&&(s.push({startIndex:a,stopIndex:l}),a=l=null):(l=c,null===a&&(a=c))}if(null!==l){for(var u=Math.min(Math.max(l,a+n-1),i-1),d=l+1;d<=u&&!e({index:d});d++)l=d;s.push({startIndex:a,stopIndex:l})}if(s.length)for(var h=s[0];h.stopIndex-h.startIndex+1<n&&h.startIndex>0;){var p=h.startIndex-1;if(e({index:p}))break;h.startIndex=p}return s}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="function"==typeof t.recomputeGridSize?t.recomputeGridSize:t.recomputeRowHeights;n?n.call(t,e):t.forceUpdate()}function _(t,e,n,i){for(var r=n+1;e<=n;){var o=e+n>>>1;t[o]>=i?(r=o,n=o-1):e=o+1}return r}function w(t,e,n,i,r){for(var o=n+1;e<=n;){var s=e+n>>>1;r(t[s],i)>=0?(o=s,n=s-1):e=s+1}return o}function S(t,e,n,i,r){return"function"==typeof n?w(t,void 0===i?0:0|i,void 0===r?t.length-1:0|r,e,n):_(t,void 0===n?0:0|n,void 0===i?t.length-1:0|i,e)}function E(t,e,n,i){for(var r=n+1;e<=n;){var o=e+n>>>1;t[o]>i?(r=o,n=o-1):e=o+1}return r}function x(t,e,n,i,r){for(var o=n+1;e<=n;){var s=e+n>>>1;r(t[s],i)>0?(o=s,n=s-1):e=s+1}return o}function C(t,e,n,i,r){return"function"==typeof n?x(t,void 0===i?0:0|i,void 0===r?t.length-1:0|r,e,n):E(t,void 0===n?0:0|n,void 0===i?t.length-1:0|i,e)}function T(t,e,n,i){for(var r=e-1;e<=n;){var o=e+n>>>1;t[o]<i?(r=o,e=o+1):n=o-1}return r}function k(t,e,n,i,r){for(var o=e-1;e<=n;){var s=e+n>>>1;r(t[s],i)<0?(o=s,e=s+1):n=s-1}return o}function O(t,e,n,i,r){return"function"==typeof n?k(t,void 0===i?0:0|i,void 0===r?t.length-1:0|r,e,n):T(t,void 0===n?0:0|n,void 0===i?t.length-1:0|i,e)}function P(t,e,n,i){for(var r=e-1;e<=n;){var o=e+n>>>1;t[o]<=i?(r=o,e=o+1):n=o-1}return r}function I(t,e,n,i,r){for(var o=e-1;e<=n;){var s=e+n>>>1;r(t[s],i)<=0?(o=s,e=s+1):n=s-1}return o}function A(t,e,n,i,r){return"function"==typeof n?I(t,void 0===i?0:0|i,void 0===r?t.length-1:0|r,e,n):P(t,void 0===n?0:0|n,void 0===i?t.length-1:0|i,e)}function M(t,e,n,i){for(;e<=n;){var r=e+n>>>1,o=t[r];if(o===i)return r;o<=i?e=r+1:n=r-1}return-1}function N(t,e,n,i,r){for(;e<=n;){var o=e+n>>>1,s=t[o],a=r(s,i);if(0===a)return o;a<=0?e=o+1:n=o-1}return-1}function D(t,e,n,i,r){return"function"==typeof n?N(t,void 0===i?0:0|i,void 0===r?t.length-1:0|r,e,n):M(t,void 0===n?0:0|n,void 0===i?t.length-1:0|i,e)}function L(t,e,n,i,r){this.mid=t,this.left=e,this.right=n,this.leftPoints=i,this.rightPoints=r,this.count=(e?e.count:0)+(n?n.count:0)+i.length}function R(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function F(t,e){var n=q(e);t.mid=n.mid,t.left=n.left,t.right=n.right,t.leftPoints=n.leftPoints,t.rightPoints=n.rightPoints,t.count=n.count}function B(t,e){var n=t.intervals([]);n.push(e),F(t,n)}function U(t,e){var n=t.intervals([]),i=n.indexOf(e);return i<0?je:(n.splice(i,1),F(t,n),ze)}function j(t,e,n){for(var i=0;i<t.length&&t[i][0]<=e;++i){var r=n(t[i]);if(r)return r}}function z(t,e,n){for(var i=t.length-1;i>=0&&t[i][1]>=e;--i){var r=n(t[i]);if(r)return r}}function V(t,e){for(var n=0;n<t.length;++n){var i=e(t[n]);if(i)return i}}function H(t,e){return t-e}function G(t,e){var n=t[0]-e[0];return n||t[1]-e[1]}function W(t,e){var n=t[1]-e[1];return n||t[0]-e[0]}function q(t){if(0===t.length)return null;for(var e=[],n=0;n<t.length;++n)e.push(t[n][0],t[n][1]);e.sort(H);for(var i=e[e.length>>1],r=[],o=[],s=[],n=0;n<t.length;++n){var a=t[n];a[1]<i?r.push(a):i<a[0]?o.push(a):s.push(a)}var l=s,c=s.slice();return l.sort(G),c.sort(W),new L(i,q(r),q(o),l,c)}function $(t){this.root=t}function Y(t){return new $(t&&0!==t.length?q(t):null)}function X(t){return t}function K(){}function Q(t){function e(t){for(var e=0,n=1;n<c.length;n++)c[n]<c[e]&&(e=n);var i=e*(s+l),o=c[e]||0;return c[e]=o+r.getHeight(t)+l,{left:i,top:o}}function n(){c=[];for(var t=0;t<o;t++)c[t]=0}function i(t){o=t.columnCount,s=t.columnWidth,l=t.spacer,n()}var r=t.cellMeasurerCache,o=t.columnCount,s=t.columnWidth,a=t.spacer,l=void 0===a?0:a,c=void 0;return n(),e.reset=i,e}function J(t){function e(e){var n=e.defaultSortDirection,i=e.event,r=e.sortBy;if(i.shiftKey)a.hasOwnProperty(r)?a[r]="ASC"===a[r]?"DESC":"ASC":(a[r]=n,s.push(r));else if(i.ctrlKey||i.metaKey){var o=s.indexOf(r);o>=0&&(s.splice(o,1),delete a[r])}else{s.length=0,s.push(r);var l=zt()(a);l.forEach(function(t){t!==r&&delete a[t]}),a.hasOwnProperty(r)?a[r]="ASC"===a[r]?"DESC":"ASC":a[r]=n}t({sortBy:s,sortDirection:a})}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.defaultSortBy,r=n.defaultSortDirection,o=void 0===r?{}:r;if(!t)throw Error('Required parameter "sortCallback" not specified');var s=i||[],a={};return s.forEach(function(t){a[t]=o.hasOwnProperty(t)?o[t]:"ASC"}),{sort:e,sortBy:s,sortDirection:a}}function Z(t){var e=t.dataKey,n=t.rowData;return"function"==typeof n.get?n.get(e):n[e]}function tt(t){var e=t.cellData;return null==e?"":String(e)}function et(t){var e=t.className,n=t.columns,i=t.style;return xt.createElement("div",{className:e,role:"row",style:i},n)}function nt(t){var e=t.sortDirection,n=It()("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":e===rn.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":e===rn.DESC});return xt.createElement("svg",{className:n,width:18,height:18,viewBox:"0 0 24 24"},e===rn.ASC?xt.createElement("path",{d:"M7 14l5-5 5 5z"}):xt.createElement("path",{d:"M7 10l5 5 5-5z"}),xt.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}function it(t){var e=t.dataKey,n=t.label,i=t.sortBy,r=t.sortDirection,o=i===e,s=[xt.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:n},n)];return o&&s.push(xt.createElement(nt,{key:"SortIndicator",sortDirection:r})),s}function rt(t){var e=t.className,n=t.columns,i=t.index,r=t.key,o=t.onRowClick,s=t.onRowDoubleClick,a=t.onRowMouseOut,l=t.onRowMouseOver,c=t.onRowRightClick,u=t.rowData,d=t.style,h={"aria-rowindex":i+1};return(o||s||a||l||c)&&(h["aria-label"]="row",h.tabIndex=0,o&&(h.onClick=function(t){return o({event:t,index:i,rowData:u})}),s&&(h.onDoubleClick=function(t){return s({event:t,index:i,rowData:u})}),a&&(h.onMouseOut=function(t){return a({event:t,index:i,rowData:u})}),l&&(h.onMouseOver=function(t){return l({event:t,index:i,rowData:u})}),c&&(h.onContextMenu=function(t){return c({event:t,index:i,rowData:u})})),xt.createElement("div",Ot()({},h,{className:e,key:r,role:"row",style:d}),n)}function ot(){dn&&(dn=null,document.body&&null!=un&&(document.body.style.pointerEvents=un),un=null)}function st(){ot(),cn.forEach(function(t){return t.__resetIsScrolling()})}function at(){dn&&Jt(dn);var t=0;cn.forEach(function(e){t=Math.max(t,e.props.scrollingResetTimeInterval)}),dn=Zt(st,t)}function lt(t){t.currentTarget===window&&null==un&&document.body&&(un=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),at(),cn.forEach(function(e){e.props.scrollElement===t.currentTarget&&e.__handleWindowScrollEvent()})}function ct(t,e){cn.some(function(t){return t.props.scrollElement===e})||e.addEventListener("scroll",lt),cn.push(t)}function ut(t,e){cn=cn.filter(function(e){return e!==t}),cn.length||(e.removeEventListener("scroll",lt),dn&&(Jt(dn),ot()))}function dt(t,e){if(t){if(hn(t)){var n=window,i=n.innerHeight,r=n.innerWidth;return{height:"number"==typeof i?i:0,width:"number"==typeof r?r:0}}return pn(t)}return{height:e.serverHeight,width:e.serverWidth}}function ht(t,e){if(hn(e)&&document.documentElement){var n=document.documentElement,i=pn(t),r=pn(n);return{top:i.top-r.top,left:i.left-r.left}}var o=pt(e),s=pn(t),a=pn(e);return{top:s.top+o.top-a.top,left:s.left+o.left-a.left}}function pt(t){return hn(t)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:t.scrollTop,left:t.scrollLeft}}var ft=n(63),mt=n.n(ft),gt=n(37),vt=n.n(gt),bt=n(39),yt=n.n(bt),_t=n(60),wt=n.n(_t),St=n(61),Et=n.n(St),xt=n(1);i.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0;var Ct=n(760),Tt=n.n(Ct),kt=n(98),Ot=n.n(kt),Pt=n(59),It=n.n(Pt),At=n(284),Mt=n.n(At),Nt=(n(20),function(){function t(e){var n=e.cellCount,i=e.cellSizeGetter,r=e.estimatedCellSize;vt()(this,t),this._cellSizeAndPositionData={},this._lastMeasuredIndex=-1,this._lastBatchedIndex=-1,this._cellSizeGetter=i,this._cellCount=n,this._estimatedCellSize=r}return yt()(t,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(t){var e=t.cellCount,n=t.estimatedCellSize,i=t.cellSizeGetter;this._cellCount=e,this._estimatedCellSize=n,this._cellSizeGetter=i}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(t){if(t<0||t>=this._cellCount)throw Error("Requested index "+t+" is outside of range 0.."+this._cellCount);if(t>this._lastMeasuredIndex)for(var e=this.getSizeAndPositionOfLastMeasuredCell(),n=e.offset+e.size,i=this._lastMeasuredIndex+1;i<=t;i++){var r=this._cellSizeGetter({index:i});if(void 0===r||isNaN(r))throw Error("Invalid size returned for cell "+i+" of value "+r);null===r?(this._cellSizeAndPositionData[i]={offset:n,size:0},this._lastBatchedIndex=t):(this._cellSizeAndPositionData[i]={offset:n,size:r},n+=r,this._lastMeasuredIndex=t)}return this._cellSizeAndPositionData[t]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var t=this.getSizeAndPositionOfLastMeasuredCell();return t.offset+t.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(t){var e=t.align,n=void 0===e?"auto":e,i=t.containerSize,r=t.currentOffset,o=t.targetIndex;if(i<=0)return 0;var s=this.getSizeAndPositionOfCell(o),a=s.offset,l=a-i+s.size,c=void 0;switch(n){case"start":c=a;break;case"end":c=l;break;case"center":c=a-(i-s.size)/2;break;default:c=Math.max(l,Math.min(a,r))}var u=this.getTotalSize();return Math.max(0,Math.min(u-i,c))}},{key:"getVisibleCellRange",value:function(t){var e=t.containerSize,n=t.offset;if(0===this.getTotalSize())return{};var i=n+e,r=this._findNearestCell(n),o=this.getSizeAndPositionOfCell(r);n=o.offset+o.size;for(var s=r;n<i&&s<this._cellCount-1;)s++,n+=this.getSizeAndPositionOfCell(s).size;return{start:r,stop:s}}},{key:"resetCell",value:function(t){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,t-1)}},{key:"_binarySearch",value:function(t,e,n){for(;e<=t;){var i=e+Math.floor((t-e)/2),r=this.getSizeAndPositionOfCell(i).offset;if(r===n)return i;r<n?e=i+1:r>n&&(t=i-1)}return e>0?e-1:0}},{key:"_exponentialSearch",value:function(t,e){for(var n=1;t<this._cellCount&&this.getSizeAndPositionOfCell(t).offset<e;)t+=n,n*=2;return this._binarySearch(Math.min(t,this._cellCount-1),Math.floor(t/2),e)}},{key:"_findNearestCell",value:function(t){if(isNaN(t))throw Error("Invalid offset "+t+" specified");t=Math.max(0,t);var e=this.getSizeAndPositionOfLastMeasuredCell(),n=Math.max(0,this._lastMeasuredIndex);return e.offset>=t?this._binarySearch(n,0,t):this._exponentialSearch(n,t)}}]),t}()),Dt=Nt,Lt=function(){return"undefined"!=typeof window},Rt=function(){return!!window.chrome&&!!window.chrome.webstore},Ft=function(){return Lt()&&Rt()?16777100:15e5},Bt=function(){function t(e){var n=e.maxScrollSize,i=void 0===n?Ft():n,r=Mt()(e,["maxScrollSize"]);vt()(this,t),this._cellSizeAndPositionManager=new Dt(r),this._maxScrollSize=i}return yt()(t,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(t){this._cellSizeAndPositionManager.configure(t)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(t){var e=t.containerSize,n=t.offset,i=this._cellSizeAndPositionManager.getTotalSize(),r=this.getTotalSize(),o=this._getOffsetPercentage({containerSize:e,offset:n,totalSize:r});return Math.round(o*(r-i))}},{key:"getSizeAndPositionOfCell",value:function(t){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(t)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(t){var e=t.align,n=void 0===e?"auto":e,i=t.containerSize,r=t.currentOffset,o=t.targetIndex;r=this._safeOffsetToOffset({containerSize:i,offset:r});var s=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:n,containerSize:i,currentOffset:r,targetIndex:o});return this._offsetToSafeOffset({containerSize:i,offset:s})}},{key:"getVisibleCellRange",value:function(t){var e=t.containerSize,n=t.offset;return n=this._safeOffsetToOffset({containerSize:e,offset:n}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:e,offset:n})}},{key:"resetCell",value:function(t){this._cellSizeAndPositionManager.resetCell(t)}},{key:"_getOffsetPercentage",value:function(t){var e=t.containerSize,n=t.offset,i=t.totalSize;return i<=e?0:n/(i-e)}},{key:"_offsetToSafeOffset",value:function(t){var e=t.containerSize,n=t.offset,i=this._cellSizeAndPositionManager.getTotalSize(),r=this.getTotalSize();if(i===r)return n;var o=this._getOffsetPercentage({containerSize:e,offset:n,totalSize:i});return Math.round(o*(r-e))}},{key:"_safeOffsetToOffset",value:function(t){var e=t.containerSize,n=t.offset,i=this._cellSizeAndPositionManager.getTotalSize(),r=this.getTotalSize();if(i===r)return n;var o=this._getOffsetPercentage({containerSize:e,offset:n,totalSize:r});return Math.round(o*(i-e))}}]),t}(),Ut=Bt,jt=n(397),zt=n.n(jt),Vt=1,Ht=n(425),Gt=n.n(Ht),Wt=n(1787),qt=n.n(Wt),$t=void 0;$t="undefined"!=typeof window?window:"undefined"!=typeof self?self:{};var Yt=$t.requestAnimationFrame||$t.webkitRequestAnimationFrame||$t.mozRequestAnimationFrame||$t.oRequestAnimationFrame||$t.msRequestAnimationFrame||function(t){return $t.setTimeout(t,1e3/60)},Xt=$t.cancelAnimationFrame||$t.webkitCancelAnimationFrame||$t.mozCancelAnimationFrame||$t.oCancelAnimationFrame||$t.msCancelAnimationFrame||function(t){$t.clearTimeout(t)},Kt=Yt,Qt=Xt,Jt=function(t){return Qt(t.id)},Zt=function(t,e){var n=void 0;qt.a.resolve().then(function(){n=Date.now()});var i=function i(){Date.now()-n>=e?t.call():r.id=Kt(i)},r={id:Kt(i)};return r},te={OBSERVED:"observed",REQUESTED:"requested"},ee=function(){return null},ne=function(t){function e(t){vt()(this,e);var n=wt()(this,(e.__proto__||mt()(e)).call(this,t));n._onGridRenderedMemoizer=l(),n._onScrollMemoizer=l(!1),n._deferredInvalidateColumnIndex=null,n._deferredInvalidateRowIndex=null,n._recomputeScrollLeftFlag=!1,n._recomputeScrollTopFlag=!1,n._horizontalScrollBarSize=0,n._verticalScrollBarSize=0,n._scrollbarPresenceChanged=!1,n._renderedColumnStartIndex=0,n._renderedColumnStopIndex=0,n._renderedRowStartIndex=0,n._renderedRowStopIndex=0,n._styleCache={},n._cellCache={},n._debounceScrollEndedCallback=function(){n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1,needToResetStyleCache:!1})},n._invokeOnGridRenderedHelper=function(){var t=n.props.onSectionRendered;n._onGridRenderedMemoizer({callback:t,indices:{columnOverscanStartIndex:n._columnStartIndex,columnOverscanStopIndex:n._columnStopIndex,columnStartIndex:n._renderedColumnStartIndex,columnStopIndex:n._renderedColumnStopIndex,rowOverscanStartIndex:n._rowStartIndex,rowOverscanStopIndex:n._rowStopIndex,rowStartIndex:n._renderedRowStartIndex,rowStopIndex:n._renderedRowStopIndex}})},n._setScrollingContainerRef=function(t){n._scrollingContainer=t},n._onScroll=function(t){t.target===n._scrollingContainer&&n.handleScrollEvent(t.target)};var i=new Ut({cellCount:t.columnCount,cellSizeGetter:function(n){return e._wrapSizeGetter(t.columnWidth)(n)},estimatedCellSize:e._getEstimatedColumnSize(t)}),r=new Ut({cellCount:t.rowCount,cellSizeGetter:function(n){return e._wrapSizeGetter(t.rowHeight)(n)},estimatedCellSize:e._getEstimatedRowSize(t)});return n.state={instanceProps:{columnSizeAndPositionManager:i,rowSizeAndPositionManager:r,prevColumnWidth:t.columnWidth,prevRowHeight:t.rowHeight,prevColumnCount:t.columnCount,prevRowCount:t.rowCount,prevIsScrolling:!0===t.isScrolling,prevScrollToColumn:t.scrollToColumn,prevScrollToRow:t.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:Vt,scrollDirectionVertical:Vt,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},t.scrollToRow>0&&(n._initialScrollTop=n._getCalculatedScrollTop(t,n.state)),t.scrollToColumn>0&&(n._initialScrollLeft=n._getCalculatedScrollLeft(t,n.state)),n}return Et()(e,t),yt()(e,[{key:"getOffsetForCell",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.alignment,n=void 0===e?this.props.scrollToAlignment:e,i=t.columnIndex,r=void 0===i?this.props.scrollToColumn:i,o=t.rowIndex,s=void 0===o?this.props.scrollToRow:o,a=Ot()({},this.props,{scrollToAlignment:n,scrollToColumn:r,scrollToRow:s});return{scrollLeft:this._getCalculatedScrollLeft(a),scrollTop:this._getCalculatedScrollTop(a)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(t){var e=t.scrollLeft,n=void 0===e?0:e,i=t.scrollTop,r=void 0===i?0:i;if(!(r<0)){this._debounceScrollEnded();var o=this.props,s=o.autoHeight,a=o.autoWidth,l=o.height,c=o.width,u=this.state.instanceProps,d=u.scrollbarSize,h=u.rowSizeAndPositionManager.getTotalSize(),p=u.columnSizeAndPositionManager.getTotalSize(),f=Math.min(Math.max(0,p-c+d),n),m=Math.min(Math.max(0,h-l+d),r);if(this.state.scrollLeft!==f||this.state.scrollTop!==m){var g=f!==this.state.scrollLeft?f>this.state.scrollLeft?Vt:-1:this.state.scrollDirectionHorizontal,v=m!==this.state.scrollTop?m>this.state.scrollTop?Vt:-1:this.state.scrollDirectionVertical,b={isScrolling:!0,scrollDirectionHorizontal:g,scrollDirectionVertical:v,scrollPositionChangeReason:te.OBSERVED};s||(b.scrollTop=m),a||(b.scrollLeft=f),b.needToResetStyleCache=!1,this.setState(b)}this._invokeOnScrollMemoizer({scrollLeft:f,scrollTop:m,totalColumnsWidth:p,totalRowsHeight:h})}}},{key:"invalidateCellSizeAfterRender",value:function(t){var e=t.columnIndex,n=t.rowIndex;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,e):e,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,n):n}},{key:"measureAllCells",value:function(){var t=this.props,e=t.columnCount,n=t.rowCount,i=this.state.instanceProps;i.columnSizeAndPositionManager.getSizeAndPositionOfCell(e-1),i.rowSizeAndPositionManager.getSizeAndPositionOfCell(n-1)}},{key:"recomputeGridSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,n=void 0===e?0:e,i=t.rowIndex,r=void 0===i?0:i,o=this.props,s=o.scrollToColumn,a=o.scrollToRow,l=this.state.instanceProps;l.columnSizeAndPositionManager.resetCell(n),l.rowSizeAndPositionManager.resetCell(r),this._recomputeScrollLeftFlag=s>=0&&(this.state.scrollDirectionHorizontal===Vt?n<=s:n>=s),this._recomputeScrollTopFlag=a>=0&&(this.state.scrollDirectionVertical===Vt?r<=a:r>=a),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(t){var e=t.columnIndex,n=t.rowIndex,i=this.props.columnCount,r=this.props;i>1&&void 0!==e&&this._updateScrollLeftForScrollToColumn(Ot()({},r,{scrollToColumn:e})),void 0!==n&&this._updateScrollTopForScrollToRow(Ot()({},r,{scrollToRow:n}))}},{key:"componentDidMount",value:function(){var t=this.props,n=t.getScrollbarSize,i=t.height,r=t.scrollLeft,o=t.scrollToColumn,s=t.scrollTop,a=t.scrollToRow,l=t.width,c=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),c.scrollbarSizeMeasured||this.setState(function(t){var e=Ot()({},t,{needToResetStyleCache:!1});return e.instanceProps.scrollbarSize=n(),e.instanceProps.scrollbarSizeMeasured=!0,e}),"number"==typeof r&&r>=0||"number"==typeof s&&s>=0){var u=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:r,scrollTop:s});u&&(u.needToResetStyleCache=!1,this.setState(u))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var d=i>0&&l>0;o>=0&&d&&this._updateScrollLeftForScrollToColumn(),a>=0&&d&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:r||0,scrollTop:s||0,totalColumnsWidth:c.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:c.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(t,e){var n=this,i=this.props,r=i.autoHeight,o=i.autoWidth,s=i.columnCount,a=i.height,l=i.rowCount,c=i.scrollToAlignment,d=i.scrollToColumn,h=i.scrollToRow,p=i.width,f=this.state,m=f.scrollLeft,g=f.scrollPositionChangeReason,v=f.scrollTop,b=f.instanceProps;this._handleInvalidatedGridSize();var y=s>0&&0===t.columnCount||l>0&&0===t.rowCount;g===te.REQUESTED&&(!o&&m>=0&&(m!==this._scrollingContainer.scrollLeft||y)&&(this._scrollingContainer.scrollLeft=m),!r&&v>=0&&(v!==this._scrollingContainer.scrollTop||y)&&(this._scrollingContainer.scrollTop=v));var _=(0===t.width||0===t.height)&&a>0&&p>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):u({cellSizeAndPositionManager:b.columnSizeAndPositionManager,previousCellsCount:t.columnCount,previousCellSize:t.columnWidth,previousScrollToAlignment:t.scrollToAlignment,previousScrollToIndex:t.scrollToColumn,previousSize:t.width,scrollOffset:m,scrollToAlignment:c,scrollToIndex:d,size:p,sizeJustIncreasedFromZero:_,updateScrollIndexCallback:function(){return n._updateScrollLeftForScrollToColumn(n.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):u({cellSizeAndPositionManager:b.rowSizeAndPositionManager,previousCellsCount:t.rowCount,previousCellSize:t.rowHeight,previousScrollToAlignment:t.scrollToAlignment,previousScrollToIndex:t.scrollToRow,previousSize:t.height,scrollOffset:v,scrollToAlignment:c,scrollToIndex:h,size:a,sizeJustIncreasedFromZero:_,updateScrollIndexCallback:function(){return n._updateScrollTopForScrollToRow(n.props)}}),this._invokeOnGridRenderedHelper(),m!==e.scrollLeft||v!==e.scrollTop){var w=b.rowSizeAndPositionManager.getTotalSize(),S=b.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:m,scrollTop:v,totalColumnsWidth:S,totalRowsHeight:w})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&Jt(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var t=this.props,e=t.autoContainerWidth,n=t.autoHeight,i=t.autoWidth,r=t.className,o=t.containerProps,s=t.containerRole,a=t.containerStyle,l=t.height,c=t.id,u=t.noContentRenderer,d=t.role,h=t.style,p=t.tabIndex,f=t.width,m=this.state,g=m.instanceProps,v=m.needToResetStyleCache,b=this._isScrolling(),y={boxSizing:"border-box",direction:"ltr",height:n?"auto":l,position:"relative",width:i?"auto":f,WebkitOverflowScrolling:"touch",willChange:"transform"};v&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var _=g.columnSizeAndPositionManager.getTotalSize(),w=g.rowSizeAndPositionManager.getTotalSize(),S=w>l?g.scrollbarSize:0,E=_>f?g.scrollbarSize:0;E===this._horizontalScrollBarSize&&S===this._verticalScrollBarSize||(this._horizontalScrollBarSize=E,this._verticalScrollBarSize=S,this._scrollbarPresenceChanged=!0),y.overflowX=_+S<=f?"hidden":"auto",y.overflowY=w+E<=l?"hidden":"auto";var x=this._childrenToDisplay,C=0===x.length&&l>0&&f>0;return xt.createElement("div",Ot()({ref:this._setScrollingContainerRef},o,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:It()("ReactVirtualized__Grid",r),id:c,onScroll:this._onScroll,role:d,style:Ot()({},y,h),tabIndex:p}),x.length>0&&xt.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:s,style:Ot()({width:e?"auto":_,height:w,maxWidth:_,maxHeight:w,overflow:"hidden",pointerEvents:b?"none":"",position:"relative"},a)},x),C&&u())}},{key:"_calculateChildrenToRender",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=t.cellRenderer,i=t.cellRangeRenderer,r=t.columnCount,o=t.deferredMeasurementCache,s=t.height,a=t.overscanColumnCount,l=t.overscanIndicesGetter,c=t.overscanRowCount,u=t.rowCount,d=t.width,h=t.isScrollingOptOut,p=e.scrollDirectionHorizontal,f=e.scrollDirectionVertical,m=e.instanceProps,g=this._initialScrollTop>0?this._initialScrollTop:e.scrollTop,v=this._initialScrollLeft>0?this._initialScrollLeft:e.scrollLeft,b=this._isScrolling(t,e);if(this._childrenToDisplay=[],s>0&&d>0){var y=m.columnSizeAndPositionManager.getVisibleCellRange({containerSize:d,offset:v}),_=m.rowSizeAndPositionManager.getVisibleCellRange({containerSize:s,offset:g}),w=m.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:d,offset:v}),S=m.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:s,offset:g});this._renderedColumnStartIndex=y.start,this._renderedColumnStopIndex=y.stop,this._renderedRowStartIndex=_.start,this._renderedRowStopIndex=_.stop;var E=l({direction:"horizontal",cellCount:r,overscanCellsCount:a,scrollDirection:p,startIndex:"number"==typeof y.start?y.start:0,stopIndex:"number"==typeof y.stop?y.stop:-1}),x=l({direction:"vertical",cellCount:u,overscanCellsCount:c,scrollDirection:f,startIndex:"number"==typeof _.start?_.start:0,stopIndex:"number"==typeof _.stop?_.stop:-1}),C=E.overscanStartIndex,T=E.overscanStopIndex,k=x.overscanStartIndex,O=x.overscanStopIndex;if(o){if(!o.hasFixedHeight())for(var P=k;P<=O;P++)if(!o.has(P,0)){C=0,T=r-1;break}if(!o.hasFixedWidth())for(var I=C;I<=T;I++)if(!o.has(0,I)){k=0,O=u-1;break}}this._childrenToDisplay=i({cellCache:this._cellCache,cellRenderer:n,columnSizeAndPositionManager:m.columnSizeAndPositionManager,columnStartIndex:C,columnStopIndex:T,deferredMeasurementCache:o,horizontalOffsetAdjustment:w,isScrolling:b,isScrollingOptOut:h,parent:this,rowSizeAndPositionManager:m.rowSizeAndPositionManager,rowStartIndex:k,rowStopIndex:O,scrollLeft:v,scrollTop:g,styleCache:this._styleCache,verticalOffsetAdjustment:S,visibleColumnIndices:y,visibleRowIndices:_}),this._columnStartIndex=C,this._columnStopIndex=T,this._rowStartIndex=k,this._rowStopIndex=O}}},{key:"_debounceScrollEnded",value:function(){var t=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&Jt(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=Zt(this._debounceScrollEndedCallback,t)}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex&&"number"==typeof this._deferredInvalidateRowIndex){var t=this._deferredInvalidateColumnIndex,e=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:t,rowIndex:e})}}},{key:"_invokeOnScrollMemoizer",value:function(t){var e=this,n=t.scrollLeft,i=t.scrollTop,r=t.totalColumnsWidth,o=t.totalRowsHeight;this._onScrollMemoizer({callback:function(t){var n=t.scrollLeft,i=t.scrollTop,s=e.props,a=s.height;(0,s.onScroll)({clientHeight:a,clientWidth:s.width,scrollHeight:o,scrollLeft:n,scrollTop:i,scrollWidth:r})},indices:{scrollLeft:n,scrollTop:i}})}},{key:"_isScrolling",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(t,"isScrolling")?Boolean(t.isScrolling):Boolean(e.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var t=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,t({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(t){var n=t.scrollLeft,i=t.scrollTop,r=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:n,scrollTop:i});r&&(r.needToResetStyleCache=!1,this.setState(r))}},{key:"_getCalculatedScrollLeft",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return e._getCalculatedScrollLeft(t,n)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,i=e._getScrollLeftForScrollToColumnStateUpdate(t,n);i&&(i.needToResetStyleCache=!1,this.setState(i))}},{key:"_getCalculatedScrollTop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return e._getCalculatedScrollTop(t,n)}},{key:"_resetStyleCache",value:function(){var t=this._styleCache,e=this._cellCache,n=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var i=this._rowStartIndex;i<=this._rowStopIndex;i++)for(var r=this._columnStartIndex;r<=this._columnStopIndex;r++){var o=i+"-"+r;this._styleCache[o]=t[o],n&&(this._cellCache[o]=e[o])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,i=e._getScrollTopForScrollToRowStateUpdate(t,n);i&&(i.needToResetStyleCache=!1,this.setState(i))}}],[{key:"getDerivedStateFromProps",value:function(t,n){var i={};0===t.columnCount&&0!==n.scrollLeft||0===t.rowCount&&0!==n.scrollTop?(i.scrollLeft=0,i.scrollTop=0):(t.scrollLeft!==n.scrollLeft&&t.scrollToColumn<0||t.scrollTop!==n.scrollTop&&t.scrollToRow<0)&&Tt()(i,e._getScrollToPositionStateUpdate({prevState:n,scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}));var r=n.instanceProps;i.needToResetStyleCache=!1,t.columnWidth===r.prevColumnWidth&&t.rowHeight===r.prevRowHeight||(i.needToResetStyleCache=!0),r.columnSizeAndPositionManager.configure({cellCount:t.columnCount,estimatedCellSize:e._getEstimatedColumnSize(t),cellSizeGetter:e._wrapSizeGetter(t.columnWidth)}),r.rowSizeAndPositionManager.configure({cellCount:t.rowCount,estimatedCellSize:e._getEstimatedRowSize(t),cellSizeGetter:e._wrapSizeGetter(t.rowHeight)}),0!==r.prevColumnCount&&0!==r.prevRowCount||(r.prevColumnCount=0,r.prevRowCount=0),t.autoHeight&&!1===t.isScrolling&&!0===r.prevIsScrolling&&Tt()(i,{isScrolling:!1});var o=void 0,s=void 0;return a({cellCount:r.prevColumnCount,cellSize:"number"==typeof r.prevColumnWidth?r.prevColumnWidth:null,computeMetadataCallback:function(){return r.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:t,nextCellsCount:t.columnCount,nextCellSize:"number"==typeof t.columnWidth?t.columnWidth:null,nextScrollToIndex:t.scrollToColumn,scrollToIndex:r.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){o=e._getScrollLeftForScrollToColumnStateUpdate(t,n)}}),a({cellCount:r.prevRowCount,cellSize:"number"==typeof r.prevRowHeight?r.prevRowHeight:null,computeMetadataCallback:function(){return r.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:t,nextCellsCount:t.rowCount,nextCellSize:"number"==typeof t.rowHeight?t.rowHeight:null,nextScrollToIndex:t.scrollToRow,scrollToIndex:r.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){s=e._getScrollTopForScrollToRowStateUpdate(t,n)}}),r.prevColumnCount=t.columnCount,r.prevColumnWidth=t.columnWidth,r.prevIsScrolling=!0===t.isScrolling,r.prevRowCount=t.rowCount,r.prevRowHeight=t.rowHeight,r.prevScrollToColumn=t.scrollToColumn,r.prevScrollToRow=t.scrollToRow,r.scrollbarSize=t.getScrollbarSize(),void 0===r.scrollbarSize?(r.scrollbarSizeMeasured=!1,r.scrollbarSize=0):r.scrollbarSizeMeasured=!0,i.instanceProps=r,Ot()({},i,o,s)}},{key:"_getEstimatedColumnSize",value:function(t){return"number"==typeof t.columnWidth?t.columnWidth:t.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(t){return"number"==typeof t.rowHeight?t.rowHeight:t.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(t){var e=t.prevState,n=t.scrollLeft,i=t.scrollTop,r={scrollPositionChangeReason:te.REQUESTED};return"number"==typeof n&&n>=0&&(r.scrollDirectionHorizontal=n>e.scrollLeft?Vt:-1,r.scrollLeft=n),"number"==typeof i&&i>=0&&(r.scrollDirectionVertical=i>e.scrollTop?Vt:-1,r.scrollTop=i),"number"==typeof n&&n>=0&&n!==e.scrollLeft||"number"==typeof i&&i>=0&&i!==e.scrollTop?r:null}},{key:"_wrapSizeGetter",value:function(t){return"function"==typeof t?t:function(){return t}}},{key:"_getCalculatedScrollLeft",value:function(t,e){var n=t.columnCount,i=t.height,r=t.scrollToAlignment,o=t.scrollToColumn,s=t.width,a=e.scrollLeft,l=e.instanceProps;if(n>0){var c=n-1,u=o<0?c:Math.min(c,o),d=l.rowSizeAndPositionManager.getTotalSize(),h=l.scrollbarSizeMeasured&&d>i?l.scrollbarSize:0;return l.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:r,containerSize:s-h,currentOffset:a,targetIndex:u})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(t,n){var i=n.scrollLeft,r=e._getCalculatedScrollLeft(t,n);return"number"==typeof r&&r>=0&&i!==r?e._getScrollToPositionStateUpdate({prevState:n,scrollLeft:r,scrollTop:-1}):null}},{key:"_getCalculatedScrollTop",value:function(t,e){var n=t.height,i=t.rowCount,r=t.scrollToAlignment,o=t.scrollToRow,s=t.width,a=e.scrollTop,l=e.instanceProps;if(i>0){var c=i-1,u=o<0?c:Math.min(c,o),d=l.columnSizeAndPositionManager.getTotalSize(),h=l.scrollbarSizeMeasured&&d>s?l.scrollbarSize:0;return l.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:r,containerSize:n-h,currentOffset:a,targetIndex:u})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(t,n){var i=n.scrollTop,r=e._getCalculatedScrollTop(t,n);return"number"==typeof r&&r>=0&&i!==r?e._getScrollToPositionStateUpdate({prevState:n,scrollLeft:-1,scrollTop:r}):null}}]),e}(xt.PureComponent);ne.defaultProps={"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:d,containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:Gt.a,noContentRenderer:ee,onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:c,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1},ne.propTypes=null,s(ne);var ie=ne,re=1,oe=function(t){function e(){var t,n,i,r;vt()(this,e);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return n=i=wt()(this,(t=e.__proto__||mt()(e)).call.apply(t,[this].concat(s))),i.state={scrollToColumn:0,scrollToRow:0},i._columnStartIndex=0,i._columnStopIndex=0,i._rowStartIndex=0,i._rowStopIndex=0,i._onKeyDown=function(t){var e=i.props,n=e.columnCount,r=e.disabled,o=e.mode,s=e.rowCount;if(!r){var a=i._getScrollState(),l=a.scrollToColumn,c=a.scrollToRow,u=i._getScrollState(),d=u.scrollToColumn,h=u.scrollToRow;switch(t.key){case"ArrowDown":h="cells"===o?Math.min(h+1,s-1):Math.min(i._rowStopIndex+1,s-1);break;case"ArrowLeft":d="cells"===o?Math.max(d-1,0):Math.max(i._columnStartIndex-1,0);break;case"ArrowRight":d="cells"===o?Math.min(d+1,n-1):Math.min(i._columnStopIndex+1,n-1);break;case"ArrowUp":h="cells"===o?Math.max(h-1,0):Math.max(i._rowStartIndex-1,0)}d===l&&h===c||(t.preventDefault(),i._updateScrollState({scrollToColumn:d,scrollToRow:h}))}},i._onSectionRendered=function(t){var e=t.columnStartIndex,n=t.columnStopIndex,r=t.rowStartIndex,o=t.rowStopIndex;i._columnStartIndex=e,i._columnStopIndex=n,i._rowStartIndex=r,i._rowStopIndex=o},r=n,wt()(i,r)}return Et()(e,t),yt()(e,[{key:"setScrollIndexes",value:function(t){var e=t.scrollToColumn,n=t.scrollToRow;this.setState({scrollToRow:n,scrollToColumn:e})}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.children,i=this._getScrollState(),r=i.scrollToColumn,o=i.scrollToRow;return xt.createElement("div",{className:e,onKeyDown:this._onKeyDown},n({onSectionRendered:this._onSectionRendered,scrollToColumn:r,scrollToRow:o}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(t){var e=t.scrollToColumn,n=t.scrollToRow,i=this.props,r=i.isControlled,o=i.onScrollToChange;"function"==typeof o&&o({scrollToColumn:e,scrollToRow:n}),r||this.setState({scrollToColumn:e,scrollToRow:n})}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.isControlled?null:t.scrollToColumn!==e.scrollToColumn||t.scrollToRow!==e.scrollToRow?{scrollToColumn:t.scrollToColumn,scrollToRow:t.scrollToRow}:null}}]),e}(xt.PureComponent);oe.defaultProps={disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0},oe.propTypes=null,s(oe);var se=oe,ae=n(765),le=function(t){function e(){var t,n,i,r;vt()(this,e);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return n=i=wt()(this,(t=e.__proto__||mt()(e)).call.apply(t,[this].concat(s))),i.state={height:i.props.defaultHeight||0,width:i.props.defaultWidth||0},i._onResize=function(){var t=i.props,e=t.disableHeight,n=t.disableWidth,r=t.onResize;if(i._parentNode){var o=i._parentNode.offsetHeight||0,s=i._parentNode.offsetWidth||0,a=window.getComputedStyle(i._parentNode)||{},l=parseInt(a.paddingLeft,10)||0,c=parseInt(a.paddingRight,10)||0,u=parseInt(a.paddingTop,10)||0,d=parseInt(a.paddingBottom,10)||0,h=o-u-d,p=s-l-c;(!e&&i.state.height!==h||!n&&i.state.width!==p)&&(i.setState({height:o-u-d,width:s-l-c}),r({height:o,width:s}))}},i._setRef=function(t){i._autoSizer=t},r=n,wt()(i,r)}return Et()(e,t),yt()(e,[{key:"componentDidMount",value:function(){var t=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=Object(ae.a)(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,i=t.disableHeight,r=t.disableWidth,o=t.style,s=this.state,a=s.height,l=s.width,c={overflow:"visible"},u={};return i||(c.height=0,u.height=a),r||(c.width=0,u.width=l),xt.createElement("div",{className:n,ref:this._setRef,style:Ot()({},c,o)},e(u))}}]),e}(xt.PureComponent);le.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},le.propTypes=null;var ce=le,ue=n(16),de=function(t){function e(){var t,n,i,r;vt()(this,e);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return n=i=wt()(this,(t=e.__proto__||mt()(e)).call.apply(t,[this].concat(s))),i._measure=function(){var t=i.props,e=t.cache,n=t.columnIndex,r=void 0===n?0:n,o=t.parent,s=t.rowIndex,a=void 0===s?i.props.index||0:s,l=i._getCellMeasurements(),c=l.height,u=l.width;c===e.getHeight(a,r)&&u===e.getWidth(a,r)||(e.set(a,r,u,c),o&&"function"==typeof o.recomputeGridSize&&o.recomputeGridSize({columnIndex:r,rowIndex:a}))},r=n,wt()(i,r)}return Et()(e,t),yt()(e,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var t=this.props.children;return"function"==typeof t?t({measure:this._measure}):t}},{key:"_getCellMeasurements",value:function(){var t=this.props.cache,e=Object(ue.findDOMNode)(this);if(e&&e.ownerDocument&&e.ownerDocument.defaultView&&e instanceof e.ownerDocument.defaultView.HTMLElement){var n=e.style.width,i=e.style.height;t.hasFixedWidth()||(e.style.width="auto"),t.hasFixedHeight()||(e.style.height="auto");var r=Math.ceil(e.offsetHeight),o=Math.ceil(e.offsetWidth);return n&&(e.style.width=n),i&&(e.style.height=i),{height:r,width:o}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var t=this.props,e=t.cache,n=t.columnIndex,i=void 0===n?0:n,r=t.parent,o=t.rowIndex,s=void 0===o?this.props.index||0:o;if(!e.has(s,i)){var a=this._getCellMeasurements(),l=a.height,c=a.width;e.set(s,i,c,l),r&&"function"==typeof r.invalidateCellSizeAfterRender&&r.invalidateCellSizeAfterRender({columnIndex:i,rowIndex:s})}}}]),e}(xt.PureComponent);de.__internalCellMeasurerFlag=!1,de.propTypes=null;var he=de,pe=30,fe=100,me=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};vt()(this,t),this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._columnCount=0,this._rowCount=0,this.columnWidth=function(t){var n=t.index,i=e._keyMapper(0,n);return e._columnWidthCache.hasOwnProperty(i)?e._columnWidthCache[i]:e._defaultWidth},this.rowHeight=function(t){var n=t.index,i=e._keyMapper(n,0);return e._rowHeightCache.hasOwnProperty(i)?e._rowHeightCache[i]:e._defaultHeight};var i=n.defaultHeight,r=n.defaultWidth,o=n.fixedHeight,s=n.fixedWidth,a=n.keyMapper,l=n.minHeight,c=n.minWidth;this._hasFixedHeight=!0===o,this._hasFixedWidth=!0===s,this._minHeight=l||0,this._minWidth=c||0,this._keyMapper=a||p,this._defaultHeight=Math.max(this._minHeight,"number"==typeof i?i:pe),this._defaultWidth=Math.max(this._minWidth,"number"==typeof r?r:fe)}return yt()(t,[{key:"clear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(t,e);delete this._cellHeightCache[n],delete this._cellWidthCache[n],this._updateCachedColumnAndRowSizes(t,e)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var n=this._keyMapper(t,e);return this._cellHeightCache.hasOwnProperty(n)?Math.max(this._minHeight,this._cellHeightCache[n]):this._defaultHeight}},{key:"getWidth",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var n=this._keyMapper(t,e);return this._cellWidthCache.hasOwnProperty(n)?Math.max(this._minWidth,this._cellWidthCache[n]):this._defaultWidth}},{key:"has",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(t,e);return this._cellHeightCache.hasOwnProperty(n)}},{key:"set",value:function(t,e,n,i){var r=this._keyMapper(t,e);e>=this._columnCount&&(this._columnCount=e+1),t>=this._rowCount&&(this._rowCount=t+1),this._cellHeightCache[r]=i,this._cellWidthCache[r]=n,this._updateCachedColumnAndRowSizes(t,e)}},{key:"_updateCachedColumnAndRowSizes",value:function(t,e){if(!this._hasFixedWidth){for(var n=0,i=0;i<this._rowCount;i++)n=Math.max(n,this.getWidth(i,e));var r=this._keyMapper(0,e);this._columnWidthCache[r]=n}if(!this._hasFixedHeight){for(var o=0,s=0;s<this._columnCount;s++)o=Math.max(o,this.getHeight(t,s));var a=this._keyMapper(t,0);this._rowHeightCache[a]=o}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}]),t}(),ge=me,ve={OBSERVED:"observed",REQUESTED:"requested"},be=function(t){function e(){var t;vt()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=wt()(this,(t=e.__proto__||mt()(e)).call.apply(t,[this].concat(i)));return o.state={isScrolling:!1,scrollLeft:0,scrollTop:0},o._calculateSizeAndPositionDataOnNextUpdate=!1,o._onSectionRenderedMemoizer=l(),o._onScrollMemoizer=l(!1),o._invokeOnSectionRenderedHelper=function(){var t=o.props,e=t.cellLayoutManager,n=t.onSectionRendered;o._onSectionRenderedMemoizer({callback:n,indices:{indices:e.getLastRenderedIndices()}})},o._setScrollingContainerRef=function(t){o._scrollingContainer=t},o._updateScrollPositionForScrollToCell=function(){var t=o.props,e=t.cellLayoutManager,n=t.height,i=t.scrollToAlignment,r=t.scrollToCell,s=t.width,a=o.state,l=a.scrollLeft,c=a.scrollTop;if(r>=0){var u=e.getScrollPositionForCell({align:i,cellIndex:r,height:n,scrollLeft:l,scrollTop:c,width:s});u.scrollLeft===l&&u.scrollTop===c||o._setScrollPosition(u)}},o._onScroll=function(t){if(t.target===o._scrollingContainer){o._enablePointerEventsAfterDelay();var e=o.props,n=e.cellLayoutManager,i=e.height,r=e.isScrollingChange,s=e.width,a=o._scrollbarSize,l=n.getTotalSize(),c=l.height,u=l.width,d=Math.max(0,Math.min(u-s+a,t.target.scrollLeft)),h=Math.max(0,Math.min(c-i+a,t.target.scrollTop));if(o.state.scrollLeft!==d||o.state.scrollTop!==h){var p=t.cancelable?ve.OBSERVED:ve.REQUESTED;o.state.isScrolling||r(!0),o.setState({isScrolling:!0,scrollLeft:d,scrollPositionChangeReason:p,scrollTop:h})}o._invokeOnScrollMemoizer({scrollLeft:d,scrollTop:h,totalWidth:u,totalHeight:c})}},o._scrollbarSize=Gt()(),void 0===o._scrollbarSize?(o._scrollbarSizeMeasured=!1,o._scrollbarSize=0):o._scrollbarSizeMeasured=!0,o}return Et()(e,t),yt()(e,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var t=this.props,e=t.cellLayoutManager,n=t.scrollLeft,i=t.scrollToCell,r=t.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=Gt()(),this._scrollbarSizeMeasured=!0,this.setState({})),i>=0?this._updateScrollPositionForScrollToCell():(n>=0||r>=0)&&this._setScrollPosition({scrollLeft:n,scrollTop:r}),this._invokeOnSectionRenderedHelper();var o=e.getTotalSize(),s=o.height,a=o.width;this._invokeOnScrollMemoizer({scrollLeft:n||0,scrollTop:r||0,totalHeight:s,totalWidth:a})}},{key:"componentDidUpdate",value:function(t,e){var n=this.props,i=n.height,r=n.scrollToAlignment,o=n.scrollToCell,s=n.width,a=this.state,l=a.scrollLeft,c=a.scrollPositionChangeReason,u=a.scrollTop;c===ve.REQUESTED&&(l>=0&&l!==e.scrollLeft&&l!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=l),u>=0&&u!==e.scrollTop&&u!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=u)),i===t.height&&r===t.scrollToAlignment&&o===t.scrollToCell&&s===t.width||this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var t=this.props,e=t.autoHeight,n=t.cellCount,i=t.cellLayoutManager,r=t.className,o=t.height,s=t.horizontalOverscanSize,a=t.id,l=t.noContentRenderer,c=t.style,u=t.verticalOverscanSize,d=t.width,h=this.state,p=h.isScrolling,f=h.scrollLeft,m=h.scrollTop;(this._lastRenderedCellCount!==n||this._lastRenderedCellLayoutManager!==i||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=n,this._lastRenderedCellLayoutManager=i,this._calculateSizeAndPositionDataOnNextUpdate=!1,i.calculateSizeAndPositionData());var g=i.getTotalSize(),v=g.height,b=g.width,y=Math.max(0,f-s),_=Math.max(0,m-u),w=Math.min(b,f+d+s),S=Math.min(v,m+o+u),E=o>0&&d>0?i.cellRenderers({height:S-_,isScrolling:p,width:w-y,x:y,y:_}):[],x={boxSizing:"border-box",direction:"ltr",height:e?"auto":o,position:"relative",WebkitOverflowScrolling:"touch",width:d,willChange:"transform"},C=v>o?this._scrollbarSize:0,T=b>d?this._scrollbarSize:0;return x.overflowX=b+C<=d?"hidden":"auto",x.overflowY=v+T<=o?"hidden":"auto",xt.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:It()("ReactVirtualized__Collection",r),id:a,onScroll:this._onScroll,role:"grid",style:Ot()({},x,c),tabIndex:0},n>0&&xt.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:v,maxHeight:v,maxWidth:b,overflow:"hidden",pointerEvents:p?"none":"",width:b}},E),0===n&&l())}},{key:"_enablePointerEventsAfterDelay",value:function(){var t=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout(function(){(0,t.props.isScrollingChange)(!1),t._disablePointerEventsTimeoutId=null,t.setState({isScrolling:!1})},150)}},{key:"_invokeOnScrollMemoizer",value:function(t){var e=this,n=t.scrollLeft,i=t.scrollTop,r=t.totalHeight,o=t.totalWidth;this._onScrollMemoizer({callback:function(t){var n=t.scrollLeft,i=t.scrollTop,s=e.props,a=s.height;(0,s.onScroll)({clientHeight:a,clientWidth:s.width,scrollHeight:r,scrollLeft:n,scrollTop:i,scrollWidth:o})},indices:{scrollLeft:n,scrollTop:i}})}},{key:"_setScrollPosition",value:function(t){var e=t.scrollLeft,n=t.scrollTop,i={scrollPositionChangeReason:ve.REQUESTED};e>=0&&(i.scrollLeft=e),n>=0&&(i.scrollTop=n),(e>=0&&e!==this.state.scrollLeft||n>=0&&n!==this.state.scrollTop)&&this.setState(i)}}],[{key:"getDerivedStateFromProps",value:function(t,e){return 0!==t.cellCount||0===e.scrollLeft&&0===e.scrollTop?t.scrollLeft!==e.scrollLeft||t.scrollTop!==e.scrollTop?{scrollLeft:null!=t.scrollLeft?t.scrollLeft:e.scrollLeft,scrollTop:null!=t.scrollTop?t.scrollTop:e.scrollTop}:null:{scrollLeft:0,scrollTop:0}}}]),e}(xt.PureComponent);be.defaultProps={"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0},be.propTypes={},s(be);var ye=be,_e=function(){function t(e){var n=e.height,i=e.width,r=e.x,o=e.y;vt()(this,t),this.height=n,this.width=i,this.x=r,this.y=o,this._indexMap={},this._indices=[]}return yt()(t,[{key:"addCellIndex",value:function(t){var e=t.index;this._indexMap[e]||(this._indexMap[e]=!0,this._indices.push(e))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return this.x+","+this.y+" "+this.width+"x"+this.height}}]),t}(),we=_e,Se=100,Ee=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se;vt()(this,t),this._sectionSize=e,this._cellMetadata=[],this._sections={}}return yt()(t,[{key:"getCellIndices",value:function(t){var e=t.height,n=t.width,i=t.x,r=t.y,o={};return this.getSections({height:e,width:n,x:i,y:r}).forEach(function(t){return t.getCellIndices().forEach(function(t){o[t]=t})}),zt()(o).map(function(t){return o[t]})}},{key:"getCellMetadata",value:function(t){var e=t.index;return this._cellMetadata[e]}},{key:"getSections",value:function(t){for(var e=t.height,n=t.width,i=t.x,r=t.y,o=Math.floor(i/this._sectionSize),s=Math.floor((i+n-1)/this._sectionSize),a=Math.floor(r/this._sectionSize),l=Math.floor((r+e-1)/this._sectionSize),c=[],u=o;u<=s;u++)for(var d=a;d<=l;d++){var h=u+"."+d;this._sections[h]||(this._sections[h]=new we({height:this._sectionSize,width:this._sectionSize,x:u*this._sectionSize,y:d*this._sectionSize})),c.push(this._sections[h])}return c}},{key:"getTotalSectionCount",value:function(){return zt()(this._sections).length}},{key:"toString",value:function(){var t=this;return zt()(this._sections).map(function(e){return t._sections[e].toString()})}},{key:"registerCell",value:function(t){var e=t.cellMetadatum,n=t.index;this._cellMetadata[n]=e,this.getSections(e).forEach(function(t){return t.addCellIndex({index:n})})}}]),t}(),xe=Ee,Ce=function(t){function e(t,n){vt()(this,e);var i=wt()(this,(e.__proto__||mt()(e)).call(this,t,n));return i._cellMetadata=[],i._lastRenderedCellIndices=[],i._cellCache=[],i._isScrollingChange=i._isScrollingChange.bind(i),i._setCollectionViewRef=i._setCollectionViewRef.bind(i),i}return Et()(e,t),yt()(e,[{key:"forceUpdate",value:function(){void 0!==this._collectionView&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var t=Mt()(this.props,[]);return xt.createElement(ye,Ot()({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},t))}},{key:"calculateSizeAndPositionData",value:function(){var t=this.props,e=t.cellCount,n=t.cellSizeAndPositionGetter,i=t.sectionSize,r=f({cellCount:e,cellSizeAndPositionGetter:n,sectionSize:i});this._cellMetadata=r.cellMetadata,this._sectionManager=r.sectionManager,this._height=r.height,this._width=r.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(t){var e=t.align,n=t.cellIndex,i=t.height,r=t.scrollLeft,o=t.scrollTop,s=t.width,a=this.props.cellCount;if(n>=0&&n<a){var l=this._cellMetadata[n];r=m({align:e,cellOffset:l.x,cellSize:l.width,containerSize:s,currentOffset:r,targetIndex:n}),o=m({align:e,cellOffset:l.y,cellSize:l.height,containerSize:i,currentOffset:o,targetIndex:n})}return{scrollLeft:r,scrollTop:o}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(t){var e=this,n=t.height,i=t.isScrolling,r=t.width,o=t.x,s=t.y,a=this.props,l=a.cellGroupRenderer,c=a.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:n,width:r,x:o,y:s}),l({cellCache:this._cellCache,cellRenderer:c,cellSizeAndPositionGetter:function(t){var n=t.index;return e._sectionManager.getCellMetadata({index:n})},indices:this._lastRenderedCellIndices,isScrolling:i})}},{key:"_isScrollingChange",value:function(t){t||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(t){this._collectionView=t}}]),e}(xt.PureComponent);Ce.defaultProps={"aria-label":"grid",cellGroupRenderer:g};var Te=Ce;Ce.propTypes={};var ke=function(t){function e(t,n){vt()(this,e);var i=wt()(this,(e.__proto__||mt()(e)).call(this,t,n));return i._registerChild=i._registerChild.bind(i),i}return Et()(e,t),yt()(e,[{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.columnMaxWidth,i=e.columnMinWidth,r=e.columnCount,o=e.width;n===t.columnMaxWidth&&i===t.columnMinWidth&&r===t.columnCount&&o===t.width||this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.columnMaxWidth,i=t.columnMinWidth,r=t.columnCount,o=t.width,s=i||1,a=n?Math.min(n,o):o,l=o/r;return l=Math.max(s,l),l=Math.min(a,l),l=Math.floor(l),e({adjustedWidth:Math.min(o,l*r),columnWidth:l,getColumnWidth:function(){return l},registerChild:this._registerChild})}},{key:"_registerChild",value:function(t){if(t&&"function"!=typeof t.recomputeGridSize)throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=t,this._registeredChild&&this._registeredChild.recomputeGridSize()}}]),e}(xt.PureComponent),Oe=ke;ke.propTypes={};var Pe=function(t){function e(t,n){vt()(this,e);var i=wt()(this,(e.__proto__||mt()(e)).call(this,t,n));return i._loadMoreRowsMemoizer=l(),i._onRowsRendered=i._onRowsRendered.bind(i),i._registerChild=i._registerChild.bind(i),i}return Et()(e,t),yt()(e,[{key:"resetLoadMoreRowsCache",value:function(t){this._loadMoreRowsMemoizer=l(),t&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){return(0,this.props.children)({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(t){var e=this,n=this.props.loadMoreRows;t.forEach(function(t){var i=n(t);i&&i.then(function(){v({lastRenderedStartIndex:e._lastRenderedStartIndex,lastRenderedStopIndex:e._lastRenderedStopIndex,startIndex:t.startIndex,stopIndex:t.stopIndex})&&e._registeredChild&&y(e._registeredChild,e._lastRenderedStartIndex)})})}},{key:"_onRowsRendered",value:function(t){var e=t.startIndex,n=t.stopIndex;this._lastRenderedStartIndex=e,this._lastRenderedStopIndex=n,this._doStuff(e,n)}},{key:"_doStuff",value:function(t,e){var n=this,i=this.props,r=i.isRowLoaded,o=i.minimumBatchSize,s=i.rowCount,a=i.threshold,l=b({isRowLoaded:r,minimumBatchSize:o,rowCount:s,startIndex:Math.max(0,t-a),stopIndex:Math.min(s-1,e+a)}),c=l.reduce(function(t,e){return t.concat([e.startIndex,e.stopIndex])},[]);this._loadMoreRowsMemoizer({callback:function(){n._loadUnloadedRanges(l)},indices:{squashedUnloadedRanges:c}})}},{key:"_registerChild",value:function(t){this._registeredChild=t}}]),e}(xt.PureComponent);Pe.defaultProps={minimumBatchSize:10,rowCount:0,threshold:15};var Ie=Pe;Pe.propTypes={};var Ae=n(871),Me=n.n(Ae),Ne=function(t){function e(){var t,n,i,r;vt()(this,e);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return n=i=wt()(this,(t=e.__proto__||mt()(e)).call.apply(t,[this].concat(s))),i._cellRenderer=function(t){var e=t.parent,n=t.rowIndex,r=t.style,o=t.isScrolling,s=t.isVisible,a=t.key,l=i.props.rowRenderer;return Me()(r,"width").writable&&(r.width="100%"),l({index:n,style:r,isScrolling:o,isVisible:s,key:a,parent:e})},i._setRef=function(t){i.Grid=t},i._onScroll=function(t){var e=t.clientHeight,n=t.scrollHeight,r=t.scrollTop;(0,i.props.onScroll)({clientHeight:e,scrollHeight:n,scrollTop:r})},i._onSectionRendered=function(t){var e=t.rowOverscanStartIndex,n=t.rowOverscanStopIndex,r=t.rowStartIndex,o=t.rowStopIndex;(0,i.props.onRowsRendered)({overscanStartIndex:e,overscanStopIndex:n,startIndex:r,stopIndex:o})},r=n,wt()(i,r)}return Et()(e,t),yt()(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(t){var e=t.alignment,n=t.index;if(this.Grid){return this.Grid.getOffsetForCell({alignment:e,rowIndex:n,columnIndex:0}).scrollTop}return 0}},{key:"invalidateCellSizeAfterRender",value:function(t){var e=t.columnIndex,n=t.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:e})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,n=void 0===e?0:e,i=t.rowIndex,r=void 0===i?0:i;this.Grid&&this.Grid.recomputeGridSize({rowIndex:r,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:t,columnIndex:0})}},{key:"scrollToPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:t})}},{key:"scrollToRow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:t})}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.noRowsRenderer,i=t.scrollToIndex,r=t.width,o=It()("ReactVirtualized__List",e);return xt.createElement(ie,Ot()({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:o,columnWidth:r,columnCount:1,noContentRenderer:n,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:i}))}}]),e}(xt.PureComponent);Ne.defaultProps={autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:h,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}},Ne.propTypes=null;var De=Ne,Le=n(822),Re=n.n(Le),Fe=n(1801),Be=n.n(Fe),Ue={ge:S,gt:C,lt:O,le:A,eq:D},je=0,ze=1,Ve=L.prototype;Ve.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t},Ve.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?B(this,t):this.left.insert(t):this.left=q([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?B(this,t):this.right.insert(t):this.right=q([t]);else{var n=Ue.ge(this.leftPoints,t,G),i=Ue.ge(this.rightPoints,t,W);this.leftPoints.splice(n,0,t),this.rightPoints.splice(i,0,t)}},Ve.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid){if(!this.left)return je;if(4*(this.right?this.right.count:0)>3*(e-1))return U(this,t);var n=this.left.remove(t);return 2===n?(this.left=null,this.count-=1,ze):(n===ze&&(this.count-=1),n)}if(t[0]>this.mid){if(!this.right)return je;if(4*(this.left?this.left.count:0)>3*(e-1))return U(this,t);var n=this.right.remove(t);return 2===n?(this.right=null,this.count-=1,ze):(n===ze&&(this.count-=1),n)}if(1===this.count)return this.leftPoints[0]===t?2:je;if(1===this.leftPoints.length&&this.leftPoints[0]===t){if(this.left&&this.right){for(var i=this,r=this.left;r.right;)i=r,r=r.right;if(i===this)r.right=this.right;else{var o=this.left,n=this.right;i.count-=r.count,i.right=r.left,r.left=o,r.right=n}R(this,r),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?R(this,this.left):R(this,this.right);return ze}for(var o=Ue.ge(this.leftPoints,t,G);o<this.leftPoints.length&&this.leftPoints[o][0]===t[0];++o)if(this.leftPoints[o]===t){this.count-=1,this.leftPoints.splice(o,1);for(var n=Ue.ge(this.rightPoints,t,W);n<this.rightPoints.length&&this.rightPoints[n][1]===t[1];++n)if(this.rightPoints[n]===t)return this.rightPoints.splice(n,1),ze}return je},Ve.queryPoint=function(t,e){if(t<this.mid){if(this.left){var n=this.left.queryPoint(t,e);if(n)return n}return j(this.leftPoints,t,e)}if(t>this.mid){if(this.right){var n=this.right.queryPoint(t,e);if(n)return n}return z(this.rightPoints,t,e)}return V(this.leftPoints,e)},Ve.queryInterval=function(t,e,n){if(t<this.mid&&this.left){var i=this.left.queryInterval(t,e,n);if(i)return i}if(e>this.mid&&this.right){var i=this.right.queryInterval(t,e,n);if(i)return i}return e<this.mid?j(this.leftPoints,e,n):t>this.mid?z(this.rightPoints,t,n):V(this.leftPoints,n)};var He=$.prototype;He.insert=function(t){this.root?this.root.insert(t):this.root=new L(t[0],null,null,[t],[t])},He.remove=function(t){if(this.root){var e=this.root.remove(t);return 2===e&&(this.root=null),e!==je}return!1},He.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)},He.queryInterval=function(t,e,n){if(t<=e&&this.root)return this.root.queryInterval(t,e,n)},Object.defineProperty(He,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(He,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});var Ge=function(){function t(){vt()(this,t),this._columnSizeMap={},this._intervalTree=Y(),this._leftMap={}}return yt()(t,[{key:"estimateTotalHeight",value:function(t,e,n){var i=t-this.count;return this.tallestColumnSize+Math.ceil(i/e)*n}},{key:"range",value:function(t,e,n){var i=this;this._intervalTree.queryInterval(t,t+e,function(t){var e=Be()(t,3),r=e[0],o=(e[1],e[2]);return n(o,i._leftMap[o],r)})}},{key:"setPosition",value:function(t,e,n,i){this._intervalTree.insert([n,n+i,t]),this._leftMap[t]=e;var r=this._columnSizeMap,o=r[e];r[e]=void 0===o?n+i:Math.max(o,n+i)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var t=this._columnSizeMap,e=0;for(var n in t){var i=t[n];e=0===e?i:Math.min(e,i)}return e}},{key:"tallestColumnSize",get:function(){var t=this._columnSizeMap,e=0;for(var n in t){var i=t[n];e=Math.max(e,i)}return e}}]),t}(),We=Ge,qe={},$e=function(t){function e(){var t,n,i,r;vt()(this,e);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return n=i=wt()(this,(t=e.__proto__||mt()(e)).call.apply(t,[this].concat(s))),i.state={isScrolling:!1,scrollTop:0},i._invalidateOnUpdateStartIndex=null,i._invalidateOnUpdateStopIndex=null,i._positionCache=new We,i._startIndex=null,i._startIndexMemoized=null,i._stopIndex=null,i._stopIndexMemoized=null,i._debounceResetIsScrollingCallback=function(){i.setState({isScrolling:!1})},i._setScrollingContainerRef=function(t){i._scrollingContainer=t},i._onScroll=function(t){var e=i.props.height,n=t.target.scrollTop,r=Math.min(Math.max(0,i._getEstimatedTotalHeight()-e),n);n===r&&(i._debounceResetIsScrolling(),i.state.scrollTop!==r&&i.setState({isScrolling:!0,scrollTop:r}))},r=n,wt()(i,r)}return Et()(e,t),yt()(e,[{key:"clearCellPositions",value:function(){this._positionCache=new We,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(t){var e=t.rowIndex;null===this._invalidateOnUpdateStartIndex?(this._invalidateOnUpdateStartIndex=e,this._invalidateOnUpdateStopIndex=e):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,e),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,e))}},{key:"recomputeCellPositions",value:function(){var t=this._positionCache.count-1;this._positionCache=new We,this._populatePositionCache(0,t),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(t,e){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==t.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&Jt(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var t=this,e=this.props,n=e.autoHeight,i=e.cellCount,r=e.cellMeasurerCache,o=e.cellRenderer,s=e.className,a=e.height,l=e.id,c=e.keyMapper,u=e.overscanByPixels,d=e.role,h=e.style,p=e.tabIndex,f=e.width,m=e.rowDirection,g=this.state,v=g.isScrolling,b=g.scrollTop,y=[],_=this._getEstimatedTotalHeight(),w=this._positionCache.shortestColumnSize,S=this._positionCache.count,E=0,x=void 0;if(this._positionCache.range(Math.max(0,b-u),a+2*u,function(e,n,i){var s;void 0===x?(E=e,x=e):(E=Math.min(E,e),x=Math.max(x,e)),y.push(o({index:e,isScrolling:v,key:c(e),parent:t,style:(s={height:r.getHeight(e)},Re()(s,"ltr"===m?"left":"right",n),Re()(s,"position","absolute"),Re()(s,"top",i),Re()(s,"width",r.getWidth(e)),s)}))}),w<b+a+u&&S<i)for(var C=Math.min(i-S,Math.ceil((b+a+u-w)/r.defaultHeight*f/r.defaultWidth)),T=S;T<S+C;T++)x=T,y.push(o({index:T,isScrolling:v,key:c(T),parent:this,style:{width:r.getWidth(T)}}));return this._startIndex=E,this._stopIndex=x,xt.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:It()("ReactVirtualized__Masonry",s),id:l,onScroll:this._onScroll,role:d,style:Ot()({boxSizing:"border-box",direction:"ltr",height:n?"auto":a,overflowX:"hidden",overflowY:_<a?"hidden":"auto",position:"relative",width:f,WebkitOverflowScrolling:"touch",willChange:"transform"},h),tabIndex:p},xt.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:_,maxWidth:"100%",maxHeight:_,overflow:"hidden",pointerEvents:v?"none":"",position:"relative"}},y))}},{key:"_checkInvalidateOnUpdate",value:function(){if("number"==typeof this._invalidateOnUpdateStartIndex){var t=this._invalidateOnUpdateStartIndex,e=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(t,e),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var t=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&Jt(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=Zt(this._debounceResetIsScrollingCallback,t)}},{key:"_getEstimatedTotalHeight",value:function(){var t=this.props,e=t.cellCount,n=t.cellMeasurerCache,i=t.width,r=Math.max(1,Math.floor(i/n.defaultWidth));return this._positionCache.estimateTotalHeight(e,r,n.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var t=this.props,e=t.height,n=t.onScroll,i=this.state.scrollTop;this._onScrollMemoized!==i&&(n({clientHeight:e,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:i}),this._onScrollMemoized=i)}},{key:"_invokeOnCellsRenderedCallback",value:function(){if(this._startIndexMemoized!==this._startIndex||this._stopIndexMemoized!==this._stopIndex){(0,this.props.onCellsRendered)({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex}}},{key:"_populatePositionCache",value:function(t,e){for(var n=this.props,i=n.cellMeasurerCache,r=n.cellPositioner,o=t;o<=e;o++){var s=r(o),a=s.left,l=s.top;this._positionCache.setPosition(o,a,l,i.getHeight(o))}}}],[{key:"getDerivedStateFromProps",value:function(t,e){return void 0!==t.scrollTop&&e.scrollTop!==t.scrollTop?{isScrolling:!0,scrollTop:t.scrollTop}:null}}]),e}(xt.PureComponent);$e.defaultProps={autoHeight:!1,keyMapper:X,onCellsRendered:K,onScroll:K,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:150,style:qe,tabIndex:0,rowDirection:"ltr"},$e.propTypes=null;s($e);var Ye=$e,Xe=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};vt()(this,t),this.columnWidth=function(t){var n=t.index;e._cellMeasurerCache.columnWidth({index:n+e._columnIndexOffset})},this.rowHeight=function(t){var n=t.index;e._cellMeasurerCache.rowHeight({index:n+e._rowIndexOffset})};var i=n.cellMeasurerCache,r=n.columnIndexOffset,o=void 0===r?0:r,s=n.rowIndexOffset,a=void 0===s?0:s;this._cellMeasurerCache=i,this._columnIndexOffset=o,this._rowIndexOffset=a}return yt()(t,[{key:"clear",value:function(t,e){this._cellMeasurerCache.clear(t+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getHeight(t+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"getWidth",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getWidth(t+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"has",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.has(t+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"set",value:function(t,e,n,i){this._cellMeasurerCache.set(t+this._rowIndexOffset,e+this._columnIndexOffset,n,i)}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}}]),t}(),Ke=Xe,Qe=function(t){function e(t,n){vt()(this,e);var i=wt()(this,(e.__proto__||mt()(e)).call(this,t,n));Je.call(i);var r=t.deferredMeasurementCache,o=t.fixedColumnCount,s=t.fixedRowCount;return i._maybeCalculateCachedStyles(!0),r&&(i._deferredMeasurementCacheBottomLeftGrid=s>0?new Ke({cellMeasurerCache:r,columnIndexOffset:0,rowIndexOffset:s}):r,i._deferredMeasurementCacheBottomRightGrid=o>0||s>0?new Ke({cellMeasurerCache:r,columnIndexOffset:o,rowIndexOffset:s}):r,i._deferredMeasurementCacheTopRightGrid=o>0?new Ke({cellMeasurerCache:r,columnIndexOffset:o,rowIndexOffset:0}):r),i}return Et()(e,t),yt()(e,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,n=void 0===e?0:e,i=t.rowIndex,r=void 0===i?0:i;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,n):n,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,r):r}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,n=void 0===e?0:e,i=t.rowIndex,r=void 0===i?0:i,o=this.props,s=o.fixedColumnCount,a=o.fixedRowCount,l=Math.max(0,n-s),c=Math.max(0,r-a);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:c}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:l,rowIndex:c}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:r}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:l,rowIndex:r}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var t=this.props,e=t.scrollLeft,n=t.scrollTop;if(e>0||n>0){var i={};e>0&&(i.scrollLeft=e),n>0&&(i.scrollTop=n),this.setState(i)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var t=this.props,e=t.onScroll,n=t.onSectionRendered,i=(t.onScrollbarPresenceChange,t.scrollLeft,t.scrollToColumn),r=(t.scrollTop,t.scrollToRow),o=Mt()(t,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),0===this.props.width||0===this.props.height)return null;var s=this.state,a=s.scrollLeft,l=s.scrollTop;return xt.createElement("div",{style:this._containerOuterStyle},xt.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(o),this._renderTopRightGrid(Ot()({},o,{onScroll:e,scrollLeft:a}))),xt.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(Ot()({},o,{onScroll:e,scrollTop:l})),this._renderBottomRightGrid(Ot()({},o,{onScroll:e,onSectionRendered:n,scrollLeft:a,scrollToColumn:i,scrollToRow:r,scrollTop:l}))))}},{key:"_getBottomGridHeight",value:function(t){return t.height-this._getTopGridHeight(t)}},{key:"_getLeftGridWidth",value:function(t){var e=t.fixedColumnCount,n=t.columnWidth;if(null==this._leftGridWidth)if("function"==typeof n){for(var i=0,r=0;r<e;r++)i+=n({index:r});this._leftGridWidth=i}else this._leftGridWidth=n*e;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(t){return t.width-this._getLeftGridWidth(t)}},{key:"_getTopGridHeight",value:function(t){var e=t.fixedRowCount,n=t.rowHeight;if(null==this._topGridHeight)if("function"==typeof n){for(var i=0,r=0;r<e;r++)i+=n({index:r});this._topGridHeight=i}else this._topGridHeight=n*e;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex){var t=this._deferredInvalidateColumnIndex,e=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:t,rowIndex:e}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(t){var e=this.props,n=e.columnWidth,i=e.enableFixedColumnScroll,r=e.enableFixedRowScroll,o=e.height,s=e.fixedColumnCount,a=e.fixedRowCount,l=e.rowHeight,c=e.style,u=e.styleBottomLeftGrid,d=e.styleBottomRightGrid,h=e.styleTopLeftGrid,p=e.styleTopRightGrid,f=e.width,m=t||o!==this._lastRenderedHeight||f!==this._lastRenderedWidth,g=t||n!==this._lastRenderedColumnWidth||s!==this._lastRenderedFixedColumnCount,v=t||a!==this._lastRenderedFixedRowCount||l!==this._lastRenderedRowHeight;(t||m||c!==this._lastRenderedStyle)&&(this._containerOuterStyle=Ot()({height:o,overflow:"visible",width:f},c)),(t||m||v)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:f},this._containerBottomStyle={height:o-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:f}),(t||u!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=Ot()({left:0,overflowX:"hidden",overflowY:i?"auto":"hidden",position:"absolute"},u)),(t||g||d!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=Ot()({left:this._getLeftGridWidth(this.props),position:"absolute"},d)),(t||h!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=Ot()({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},h)),(t||g||p!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=Ot()({left:this._getLeftGridWidth(this.props),overflowX:r?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},p)),this._lastRenderedColumnWidth=n,this._lastRenderedFixedColumnCount=s,this._lastRenderedFixedRowCount=a,this._lastRenderedHeight=o,this._lastRenderedRowHeight=l,this._lastRenderedStyle=c,this._lastRenderedStyleBottomLeftGrid=u,this._lastRenderedStyleBottomRightGrid=d,this._lastRenderedStyleTopLeftGrid=h,this._lastRenderedStyleTopRightGrid=p,this._lastRenderedWidth=f}},{key:"_prepareForRender",value:function(){this._lastRenderedColumnWidth===this.props.columnWidth&&this._lastRenderedFixedColumnCount===this.props.fixedColumnCount||(this._leftGridWidth=null),this._lastRenderedFixedRowCount===this.props.fixedRowCount&&this._lastRenderedRowHeight===this.props.rowHeight||(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(t){var e=t.enableFixedColumnScroll,n=t.fixedColumnCount,i=t.fixedRowCount,r=t.rowCount,o=t.hideBottomLeftGridScrollbar,s=this.state.showVerticalScrollbar;if(!n)return null;var a=s?1:0,l=this._getBottomGridHeight(t),c=this._getLeftGridWidth(t),u=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,d=o?c+u:c,h=xt.createElement(ie,Ot()({},t,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:n,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:l,onScroll:e?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,r-i)+a,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:d}));return o?xt.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:Ot()({},this._bottomLeftGridStyle,{height:l,width:c,overflowY:"hidden"})},h):h}},{key:"_renderBottomRightGrid",value:function(t){var e=t.columnCount,n=t.fixedColumnCount,i=t.fixedRowCount,r=t.rowCount,o=t.scrollToColumn,s=t.scrollToRow;return xt.createElement(ie,Ot()({},t,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,e-n),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(t),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,r-i),rowHeight:this._rowHeightBottomGrid,scrollToColumn:o-n,scrollToRow:s-i,style:this._bottomRightGridStyle,width:this._getRightGridWidth(t)}))}},{key:"_renderTopLeftGrid",value:function(t){var e=t.fixedColumnCount,n=t.fixedRowCount;return e&&n?xt.createElement(ie,Ot()({},t,{className:this.props.classNameTopLeftGrid,columnCount:e,height:this._getTopGridHeight(t),ref:this._topLeftGridRef,rowCount:n,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(t)})):null}},{key:"_renderTopRightGrid",value:function(t){var e=t.columnCount,n=t.enableFixedRowScroll,i=t.fixedColumnCount,r=t.fixedRowCount,o=t.scrollLeft,s=t.hideTopRightGridScrollbar,a=this.state,l=a.showHorizontalScrollbar,c=a.scrollbarSize;if(!r)return null;var u=l?1:0,d=this._getTopGridHeight(t),h=this._getRightGridWidth(t),p=l?c:0,f=d,m=this._topRightGridStyle;s&&(f=d+p,m=Ot()({},this._topRightGridStyle,{left:0}));var g=xt.createElement(ie,Ot()({},t,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,e-i)+u,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:f,onScroll:n?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:r,scrollLeft:o,style:m,tabIndex:null,width:h}));return s?xt.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:Ot()({},this._topRightGridStyle,{height:d,width:h,overflowX:"hidden"})},g):g}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.scrollLeft!==e.scrollLeft||t.scrollTop!==e.scrollTop?{scrollLeft:null!=t.scrollLeft&&t.scrollLeft>=0?t.scrollLeft:e.scrollLeft,scrollTop:null!=t.scrollTop&&t.scrollTop>=0?t.scrollTop:e.scrollTop}:null}}]),e}(xt.PureComponent);Qe.defaultProps={classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1};var Je=function(){var t=this;this.state={scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1},this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this._bottomLeftGridRef=function(e){t._bottomLeftGrid=e},this._bottomRightGridRef=function(e){t._bottomRightGrid=e},this._cellRendererBottomLeftGrid=function(e){var n=e.rowIndex,i=Mt()(e,["rowIndex"]),r=t.props,o=r.cellRenderer,s=r.fixedRowCount;return n===r.rowCount-s?xt.createElement("div",{key:i.key,style:Ot()({},i.style,{height:20})}):o(Ot()({},i,{parent:t,rowIndex:n+s}))},this._cellRendererBottomRightGrid=function(e){var n=e.columnIndex,i=e.rowIndex,r=Mt()(e,["columnIndex","rowIndex"]),o=t.props,s=o.cellRenderer,a=o.fixedColumnCount,l=o.fixedRowCount;return s(Ot()({},r,{columnIndex:n+a,parent:t,rowIndex:i+l}))},this._cellRendererTopRightGrid=function(e){var n=e.columnIndex,i=Mt()(e,["columnIndex"]),r=t.props,o=r.cellRenderer,s=r.columnCount,a=r.fixedColumnCount;return n===s-a?xt.createElement("div",{key:i.key,style:Ot()({},i.style,{width:20})}):o(Ot()({},i,{columnIndex:n+a,parent:t}))},this._columnWidthRightGrid=function(e){var n=e.index,i=t.props,r=i.columnCount,o=i.fixedColumnCount,s=i.columnWidth,a=t.state,l=a.scrollbarSize;return a.showHorizontalScrollbar&&n===r-o?l:"function"==typeof s?s({index:n+o}):s},this._onScroll=function(e){var n=e.scrollLeft,i=e.scrollTop;t.setState({scrollLeft:n,scrollTop:i});var r=t.props.onScroll;r&&r(e)},this._onScrollbarPresenceChange=function(e){var n=e.horizontal,i=e.size,r=e.vertical,o=t.state,s=o.showHorizontalScrollbar,a=o.showVerticalScrollbar;if(n!==s||r!==a){t.setState({scrollbarSize:i,showHorizontalScrollbar:n,showVerticalScrollbar:r});var l=t.props.onScrollbarPresenceChange;"function"==typeof l&&l({horizontal:n,size:i,vertical:r})}},this._onScrollLeft=function(e){var n=e.scrollLeft;t._onScroll({scrollLeft:n,scrollTop:t.state.scrollTop})},this._onScrollTop=function(e){var n=e.scrollTop;t._onScroll({scrollTop:n,scrollLeft:t.state.scrollLeft})},this._rowHeightBottomGrid=function(e){var n=e.index,i=t.props,r=i.fixedRowCount,o=i.rowCount,s=i.rowHeight,a=t.state,l=a.scrollbarSize;return a.showVerticalScrollbar&&n===o-r?l:"function"==typeof s?s({index:n+r}):s},this._topLeftGridRef=function(e){t._topLeftGrid=e},this._topRightGridRef=function(e){t._topRightGrid=e}};Qe.propTypes={},s(Qe);var Ze=Qe,tn=function(t){function e(t,n){vt()(this,e);var i=wt()(this,(e.__proto__||mt()(e)).call(this,t,n));return i.state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},i._onScroll=i._onScroll.bind(i),i}return Et()(e,t),yt()(e,[{key:"render",value:function(){var t=this.props.children,e=this.state,n=e.clientHeight,i=e.clientWidth,r=e.scrollHeight,o=e.scrollLeft,s=e.scrollTop,a=e.scrollWidth;return t({clientHeight:n,clientWidth:i,onScroll:this._onScroll,scrollHeight:r,scrollLeft:o,scrollTop:s,scrollWidth:a})}},{key:"_onScroll",value:function(t){var e=t.clientHeight,n=t.clientWidth,i=t.scrollHeight,r=t.scrollLeft,o=t.scrollTop,s=t.scrollWidth;this.setState({clientHeight:e,clientWidth:n,scrollHeight:i,scrollLeft:r,scrollTop:o,scrollWidth:s})}}]),e}(xt.PureComponent),en=tn;tn.propTypes={};et.propTypes=null;var nn={ASC:"ASC",DESC:"DESC"},rn=nn;nt.propTypes={},it.propTypes=null,rt.propTypes=null;var on=function(t){function e(){return vt()(this,e),wt()(this,(e.__proto__||mt()(e)).apply(this,arguments))}return Et()(e,t),e}(xt.Component);on.defaultProps={cellDataGetter:Z,cellRenderer:tt,defaultSortDirection:rn.ASC,flexGrow:0,flexShrink:1,headerRenderer:it,style:{}};var sn=on;on.propTypes={};var an=function(t){function e(t){vt()(this,e);var n=wt()(this,(e.__proto__||mt()(e)).call(this,t));return n.state={scrollbarWidth:0},n._createColumn=n._createColumn.bind(n),n._createRow=n._createRow.bind(n),n._onScroll=n._onScroll.bind(n),n._onSectionRendered=n._onSectionRendered.bind(n),n._setRef=n._setRef.bind(n),n}return Et()(e,t),yt()(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(t){var e=t.alignment,n=t.index;if(this.Grid){return this.Grid.getOffsetForCell({alignment:e,rowIndex:n}).scrollTop}return 0}},{key:"invalidateCellSizeAfterRender",value:function(t){var e=t.columnIndex,n=t.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:e})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,n=void 0===e?0:e,i=t.rowIndex,r=void 0===i?0:i;this.Grid&&this.Grid.recomputeGridSize({rowIndex:r,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:t})}},{key:"scrollToPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:t})}},{key:"scrollToRow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:t})}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var t=this,e=this.props,n=e.children,i=e.className,r=e.disableHeader,o=e.gridClassName,s=e.gridStyle,a=e.headerHeight,l=e.headerRowRenderer,c=e.height,u=e.id,d=e.noRowsRenderer,h=e.rowClassName,p=e.rowStyle,f=e.scrollToIndex,m=e.style,g=e.width,v=this.state.scrollbarWidth,b=r?c:c-a,y="function"==typeof h?h({index:-1}):h,_="function"==typeof p?p({index:-1}):p;return this._cachedColumnStyles=[],xt.Children.toArray(n).forEach(function(e,n){var i=t._getFlexStyleForColumn(e,e.props.style);t._cachedColumnStyles[n]=Ot()({},i,{overflow:"hidden"})}),xt.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":xt.Children.toArray(n).length,"aria-rowcount":this.props.rowCount,className:It()("ReactVirtualized__Table",i),id:u,role:"grid",style:m},!r&&l({className:It()("ReactVirtualized__Table__headerRow",y),columns:this._getHeaderColumns(),style:Ot()({height:a,overflow:"hidden",paddingRight:v,width:g},_)}),xt.createElement(ie,Ot()({},this.props,{autoContainerWidth:!0,className:It()("ReactVirtualized__Table__Grid",o),cellRenderer:this._createRow,columnWidth:g,columnCount:1,height:b,id:void 0,noContentRenderer:d,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:v,scrollToRow:f,style:Ot()({},s,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(t){var e=t.column,n=t.columnIndex,i=t.isScrolling,r=t.parent,o=t.rowData,s=t.rowIndex,a=this.props.onColumnClick,l=e.props,c=l.cellDataGetter,u=l.cellRenderer,d=l.className,h=l.columnData,p=l.dataKey,f=l.id,m=c({columnData:h,dataKey:p,rowData:o}),g=u({cellData:m,columnData:h,columnIndex:n,dataKey:p,isScrolling:i,parent:r,rowData:o,rowIndex:s}),v=function(t){a&&a({columnData:h,dataKey:p,event:t})},b=this._cachedColumnStyles[n],y="string"==typeof g?g:null;return xt.createElement("div",{"aria-colindex":n+1,"aria-describedby":f,className:It()("ReactVirtualized__Table__rowColumn",d),key:"Row"+s+"-Col"+n,onClick:v,role:"gridcell",style:b,title:y},g)}},{key:"_createHeader",value:function(t){var e=t.column,n=t.index,i=this.props,r=i.headerClassName,o=i.headerStyle,s=i.onHeaderClick,a=i.sort,l=i.sortBy,c=i.sortDirection,u=e.props,d=u.columnData,h=u.dataKey,p=u.defaultSortDirection,f=u.disableSort,m=u.headerRenderer,g=u.id,v=u.label,b=!f&&a,y=It()("ReactVirtualized__Table__headerColumn",r,e.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:b}),_=this._getFlexStyleForColumn(e,Ot()({},o,e.props.headerStyle)),w=m({columnData:d,dataKey:h,disableSort:f,label:v,sortBy:l,sortDirection:c}),S=void 0,E=void 0,x=void 0,C=void 0,T=void 0;if(b||s){var k=l!==h,O=k?p:c===rn.DESC?rn.ASC:rn.DESC,P=function(t){b&&a({defaultSortDirection:p,event:t,sortBy:h,sortDirection:O}),s&&s({columnData:d,dataKey:h,event:t})},I=function(t){"Enter"!==t.key&&" "!==t.key||P(t)};T=e.props["aria-label"]||v||h,C="none",x=0,S=P,E=I}return l===h&&(C=c===rn.ASC?"ascending":"descending"),xt.createElement("div",{"aria-label":T,"aria-sort":C,className:y,id:g,key:"Header-Col"+n,onClick:S,onKeyDown:E,role:"columnheader",style:_,tabIndex:x},w)}},{key:"_createRow",value:function(t){var e=this,n=t.rowIndex,i=t.isScrolling,r=t.key,o=t.parent,s=t.style,a=this.props,l=a.children,c=a.onRowClick,u=a.onRowDoubleClick,d=a.onRowRightClick,h=a.onRowMouseOver,p=a.onRowMouseOut,f=a.rowClassName,m=a.rowGetter,g=a.rowRenderer,v=a.rowStyle,b=this.state.scrollbarWidth,y="function"==typeof f?f({index:n}):f,_="function"==typeof v?v({index:n}):v,w=m({index:n}),S=xt.Children.toArray(l).map(function(t,r){return e._createColumn({column:t,columnIndex:r,isScrolling:i,parent:o,rowData:w,rowIndex:n,scrollbarWidth:b})}),E=It()("ReactVirtualized__Table__row",y),x=Ot()({},s,{height:this._getRowHeight(n),overflow:"hidden",paddingRight:b},_);return g({className:E,columns:S,index:n,isScrolling:i,key:r,onRowClick:c,onRowDoubleClick:u,onRowRightClick:d,onRowMouseOver:h,onRowMouseOut:p,rowData:w,style:x})}},{key:"_getFlexStyleForColumn",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.props.flexGrow+" "+t.props.flexShrink+" "+t.props.width+"px",i=Ot()({},e,{flex:n,msFlex:n,WebkitFlex:n});return t.props.maxWidth&&(i.maxWidth=t.props.maxWidth),t.props.minWidth&&(i.minWidth=t.props.minWidth),i}},{key:"_getHeaderColumns",value:function(){var t=this,e=this.props,n=e.children;return(e.disableHeader?[]:xt.Children.toArray(n)).map(function(e,n){return t._createHeader({column:e,index:n})})}},{key:"_getRowHeight",value:function(t){var e=this.props.rowHeight;return"function"==typeof e?e({index:t}):e}},{key:"_onScroll",value:function(t){var e=t.clientHeight,n=t.scrollHeight,i=t.scrollTop;(0,this.props.onScroll)({clientHeight:e,scrollHeight:n,scrollTop:i})}},{key:"_onSectionRendered",value:function(t){var e=t.rowOverscanStartIndex,n=t.rowOverscanStopIndex,i=t.rowStartIndex,r=t.rowStopIndex;(0,this.props.onRowsRendered)({overscanStartIndex:e,overscanStopIndex:n,startIndex:i,stopIndex:r})}},{key:"_setRef",value:function(t){this.Grid=t}},{key:"_setScrollbarWidth",value:function(){if(this.Grid){var t=Object(ue.findDOMNode)(this.Grid),e=t.clientWidth||0,n=t.offsetWidth||0,i=n-e;this.setState({scrollbarWidth:i})}}}]),e}(xt.PureComponent);an.defaultProps={disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:h,overscanRowCount:10,rowRenderer:rt,headerRowRenderer:et,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}};var ln=an;an.propTypes={};var cn=[],un=null,dn=null,hn=function(t){return t===window},pn=function(t){return t.getBoundingClientRect()},fn=function(){return"undefined"!=typeof window?window:void 0},mn=function(t){function e(){var t,n,i,r;vt()(this,e);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return n=i=wt()(this,(t=e.__proto__||mt()(e)).call.apply(t,[this].concat(s))),i._window=fn(),i._isMounted=!1,i._positionFromTop=0,i._positionFromLeft=0,i.state=Ot()({},dt(i.props.scrollElement,i.props),{isScrolling:!1,scrollLeft:0,scrollTop:0}),i._registerChild=function(t){t&&Element,i._child=t,i.updatePosition()},i._onChildScroll=function(t){var e=t.scrollTop;if(i.state.scrollTop!==e){var n=i.props.scrollElement;n&&("function"==typeof n.scrollTo?n.scrollTo(0,e+i._positionFromTop):n.scrollTop=e+i._positionFromTop)}},i._registerResizeListener=function(t){t===window?window.addEventListener("resize",i._onResize,!1):i._detectElementResize.addResizeListener(t,i._onResize)},i._unregisterResizeListener=function(t){t===window?window.removeEventListener("resize",i._onResize,!1):t&&i._detectElementResize.removeResizeListener(t,i._onResize)},i._onResize=function(){i.updatePosition()},i.__handleWindowScrollEvent=function(){if(i._isMounted){var t=i.props.onScroll,e=i.props.scrollElement;if(e){var n=pt(e),r=Math.max(0,n.left-i._positionFromLeft),o=Math.max(0,n.top-i._positionFromTop);i.setState({isScrolling:!0,scrollLeft:r,scrollTop:o}),t({scrollLeft:r,scrollTop:o})}}},i.__resetIsScrolling=function(){i.setState({isScrolling:!1})},r=n,wt()(i,r)}return Et()(e,t),yt()(e,[{key:"updatePosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.scrollElement,e=this.props.onResize,n=this.state,i=n.height,r=n.width,o=this._child||ue.findDOMNode(this);if(o instanceof Element&&t){var s=ht(o,t);this._positionFromTop=s.top,this._positionFromLeft=s.left}var a=dt(t,this.props);i===a.height&&r===a.width||(this.setState({height:a.height,width:a.width}),e({height:a.height,width:a.width}))}},{key:"componentDidMount",value:function(){var t=this.props.scrollElement;this._detectElementResize=Object(ae.a)(),this.updatePosition(t),t&&(ct(this,t),this._registerResizeListener(t)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(t,e){var n=this.props.scrollElement,i=t.scrollElement;i!==n&&null!=i&&null!=n&&(this.updatePosition(n),ut(this,i),ct(this,n),this._unregisterResizeListener(i),this._registerResizeListener(n))}},{key:"componentWillUnmount",value:function(){var t=this.props.scrollElement;t&&(ut(this,t),this._unregisterResizeListener(t)),this._isMounted=!1}},{key:"render",value:function(){var t=this.props.children,e=this.state,n=e.isScrolling,i=e.scrollTop,r=e.scrollLeft,o=e.height,s=e.width;return t({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:o,isScrolling:n,scrollLeft:r,scrollTop:i,width:s})}}]),e}(xt.PureComponent);mn.defaultProps={onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:150,scrollElement:fn(),serverHeight:0,serverWidth:0},mn.propTypes=null;var gn=mn;n.d(e,!1,function(){return se}),n.d(e,"a",function(){return ce}),n.d(e,"b",function(){return he}),n.d(e,"c",function(){return ge}),n.d(e,!1,function(){return Te}),n.d(e,!1,function(){return Oe}),n.d(e,!1,function(){return h}),n.d(e,!1,function(){return d}),n.d(e,!1,function(){return c}),n.d(e,!1,function(){return ie}),n.d(e,!1,function(){return Ie}),n.d(e,"d",function(){return De}),n.d(e,!1,function(){return Q}),n.d(e,!1,function(){return Ye}),n.d(e,!1,function(){return Ze}),n.d(e,!1,function(){return en}),n.d(e,!1,function(){return J}),n.d(e,!1,function(){return Z}),n.d(e,!1,function(){return tt}),n.d(e,!1,function(){return it}),n.d(e,!1,function(){return et}),n.d(e,!1,function(){return rt}),n.d(e,!1,function(){return ln}),n.d(e,!1,function(){return sn}),n.d(e,!1,function(){return rn}),n.d(e,!1,function(){return nt}),n.d(e,!1,function(){return gn})},function(t,e,n){"use strict";var i=n(1817),r=i.CopyToClipboard;r.CopyToClipboard=r,t.exports=r},function(t,e,n){function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(1),s=n(29);n(12);t.exports=s({displayName:"exports",getDefaultProps:function(){return{name:"",className:""}},componentDidMount:function(){this.createView()},componentWillUnmount:function(){var t=this;setTimeout(function(){return t.destroyView()},0)},shouldComponentUpdate:function(t){return t.name!==this.props.name},createView:function(){var t=this.props,e=t.name,n=t.options,o=t.className;e&&(this.viewInstance=new e(r(i({},this.props.useParent?"parent":"el",this.refs.container),n,{className:o})),!0!==this.viewInstance._rendered&&this.viewInstance.render())},componentDidUpdate:function(){this.redraw()},destroyView:function(){this.viewInstance.destroy(),this.viewInstance=null},redraw:function(){this.destroyView(),this.createView()},render:function(){var t=this.props.className;return o.createElement("div",{ref:"container",className:t})}})},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var i=!("undefined"==typeof window||!window.document||!window.document.createElement);e.default=i,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var i=n(752),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=function(t,e,n){return e in t?(0,r.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"LazyBasicDashboard",function(){return r}),n.d(e,"LazyBasicDashboardDesktop",function(){return o}),n.d(e,"LazyBasicDashboardTablet",function(){return s}),n.d(e,"LazyBasicDashboardMobile",function(){return a}),n.d(e,"LazyAdvancedDashboard",function(){return l}),n.d(e,"LazyAdvancedDashboardDesktop",function(){return c}),n.d(e,"LazyAdvancedDashboardTablet",function(){return u}),n.d(e,"LazyAdvancedDashboardMobile",function(){return d}),n.d(e,"LazyNewAdvancedDashboard",function(){return h}),n.d(e,"LazyNewAdvancedDashboardDesktop",function(){return p}),n.d(e,"LazyBasicCategoryInstruments",function(){return f}),n.d(e,"LazyBasicFavorites",function(){return m}),n.d(e,"LazyBasicOpenPositions",function(){return g}),n.d(e,"LazyBasicOrders",function(){return v}),n.d(e,"LazyBasicCategoryInstrumentsTablet",function(){return b}),n.d(e,"LazyBasicFavoritesTablet",function(){return y}),n.d(e,"LazyBasicOpenPositionsTablet",function(){return _}),n.d(e,"LazyBasicOrdersTablet",function(){return w}),n.d(e,"LazyBasicCategoryInstrumentsMobile",function(){return S}),n.d(e,"LazyBasicFavoritesMobile",function(){return E}),n.d(e,"LazyBasicOpenPositionsMobile",function(){return x}),n.d(e,"LazyBasicOrdersMobile",function(){return C}),n.d(e,"LazyAdvancedCategoryInstruments",function(){return T}),n.d(e,"LazyAdvancedFavorites",function(){return k}),n.d(e,"LazyAdvancedOpenPositions",function(){return O}),n.d(e,"LazyAdvancedOrders",function(){return P}),n.d(e,"LazyAdvancedCategoryInstrumentsTablet",function(){return I}),n.d(e,"LazyAdvancedFavoritesTablet",function(){return A}),n.d(e,"LazyAdvancedOpenPositionsTablet",function(){return M}),n.d(e,"LazyAdvancedOrdersTablet",function(){return N}),n.d(e,"LazyAdvancedCategoryInstrumentsMobile",function(){return D}),n.d(e,"LazyAdvancedFavoritesMobile",function(){return L}),n.d(e,"LazyAdvancedOpenPositionsMobile",function(){return R}),n.d(e,"LazyAdvancedOrdersMobile",function(){return F}),n.d(e,"LazyOrderHistory",function(){return B}),n.d(e,"LazyClosedPositions",function(){return U}),n.d(e,"LazyMultiCharts",function(){return j}),n.d(e,"LazyPriceAlerts",function(){return z}),n.d(e,"LazyInstrumentTreeContainer",function(){return V}),n.d(e,"LazyBasicInstrumentDetails",function(){return H}),n.d(e,"LazyInstrumentDetailsContainer",function(){return G});var i=n(159),r=Object(i.a)(function(){return n.e(61).then(n.bind(null,1927))}),o=Object(i.a)(function(){return n.e(47).then(n.bind(null,1928))}),s=Object(i.a)(function(){return n.e(4).then(n.bind(null,1929))}),a=Object(i.a)(function(){return n.e(48).then(n.bind(null,1930))}),l=Object(i.a)(function(){return n.e(62).then(n.bind(null,1931))}),c=Object(i.a)(function(){return n.e(36).then(n.bind(null,1932))}),u=Object(i.a)(function(){return n.e(3).then(n.bind(null,1933))}),d=Object(i.a)(function(){return n.e(46).then(n.bind(null,1934))}),h=Object(i.a)(function(){return n.e(60).then(n.bind(null,1935))}),p=Object(i.a)(function(){return n.e(2).then(n.bind(null,1936))}),f=Object(i.a)(function(){return n.e(20).then(n.bind(null,1937))}),m=Object(i.a)(function(){return n.e(18).then(n.bind(null,1938))}),g=Object(i.a)(function(){return n.e(13).then(n.bind(null,1939))}),v=Object(i.a)(function(){return n.e(17).then(n.bind(null,1940))}),b=Object(i.a)(function(){return n.e(29).then(n.bind(null,1941))}),y=Object(i.a)(function(){return n.e(26).then(n.bind(null,1891))}),_=Object(i.a)(function(){return n.e(12).then(n.bind(null,1942))}),w=Object(i.a)(function(){return n.e(16).then(n.bind(null,1943))}),S=Object(i.a)(function(){return n.e(24).then(n.bind(null,1944))}),E=Object(i.a)(function(){return n.e(25).then(n.bind(null,1945))}),x=Object(i.a)(function(){return n.e(10).then(n.bind(null,1946))}),C=Object(i.a)(function(){return n.e(11).then(n.bind(null,1947))}),T=Object(i.a)(function(){return n.e(8).then(n.bind(null,1948))}),k=Object(i.a)(function(){return n.e(19).then(n.bind(null,1949))}),O=Object(i.a)(function(){return n.e(6).then(n.bind(null,1950))}),P=Object(i.a)(function(){return n.e(7).then(n.bind(null,1951))}),I=Object(i.a)(function(){return n.e(30).then(n.bind(null,1952))}),A=Object(i.a)(function(){return n.e(27).then(n.bind(null,1953))}),M=Object(i.a)(function(){return n.e(14).then(n.bind(null,1954))}),N=Object(i.a)(function(){return n.e(34).then(n.bind(null,1955))}),D=Object(i.a)(function(){return n.e(31).then(n.bind(null,1956))}),L=Object(i.a)(function(){return n.e(28).then(n.bind(null,1957))}),R=Object(i.a)(function(){return n.e(15).then(n.bind(null,1958))}),F=Object(i.a)(function(){return n.e(35).then(n.bind(null,1959))}),B=Object(i.a)(function(){return n.e(41).then(n.bind(null,1960))}),U=Object(i.a)(function(){return n.e(42).then(n.bind(null,1961))}),j=Object(i.a)(function(){return n.e(9).then(n.bind(null,1962))}),z=Object(i.a)(function(){return n.e(49).then(n.bind(null,1963))}),V=Object(i.a)(function(){return n.e(54).then(n.bind(null,1964))}),H=Object(i.a)(function(){return n.e(5).then(n.bind(null,1890))}),G=Object(i.a)(function(){return n.e(59).then(n.bind(null,1889))})},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(){return function(t,e){var n=Object(S.e)(e());return g.a.isNull(n)?t({types:[y.j,y.l,y.k],callApi:function(){return w.a.checkCustomerLevelsEnabled()}}):Promise.resolve(n)}}function o(){return function(t,e){var n=Object(S.d)(e());return g.a.isNull(n)?t({types:[y.g,y.i,y.h],callApi:function(){return w.a.checkBloggersEnabled()}}):Promise.resolve(n)}}function s(){return function(t,e){var n=Object(S.c)(e());return g.a.isNull(n)?t({types:[y.d,y.f,y.e],callApi:function(){return w.a.checkTipranksEnabled()}}):Promise.resolve(n)}}function a(){return function(t,e){var n=Object(S.h)(e());return g.a.isNull(n)?t({types:[y.s,y.u,y.t],callApi:function(){return w.a.checkInsidersEnabled()}}):Promise.resolve(n)}}function l(){return function(t,e){var n=Object(S.g)(e());return g.a.isNull(n)?t({types:[y.p,y.r,y.q],callApi:function(){return w.a.checkHedgeFundsEnabled()}}):Promise.resolve(n)}}function c(){return function(t,e){var n=Object(S.l)(e());return g.a.isNull(n)?t({types:[y.y,y.A,y.z],callApi:function(){return w.a.checkNewsSentimentEnabled()}}):Promise.resolve(n)}}function u(){return function(t,e){var n=Object(S.k)(e());return g.a.isNull(n)?t({types:[y.v,y.x,y.w],callApi:function(){return w.a.checkNewsFeedEnabled()}}):Promise.resolve(n)}}function d(){return function(t,e){var n=Object(S.b)(e());return g.a.isNull(n)?t({types:[y.a,y.c,y.b],callApi:function(){return w.a.checkAcuityNewsSentimentEnabled()}}):Promise.resolve(n)}}function h(){return function(t,e){var n=Object(S.f)(e());return g.a.isNull(n)?t({types:[y.m,y.o,y.n],callApi:function(){return w.a.checkEventsAndTradeEnabled()}}):Promise.resolve(n)}}function p(t){return{type:y.E,payload:t}}function f(t,e){return function(n){if(!g.a.isString(t)&&!g.a.isEmpty(t))return Promise.reject("Key "+t+" should be a non empty string");n({types:[y.B,y.D,y.C],additionalData:{key:t,value:e},callApi:function(){return b.a.storeSettings(i({},t,e))}})}}Object.defineProperty(e,"__esModule",{value:!0}),e.checkCustomerLevelsEnabled=r,e.checkBloggersEnabled=o,e.checkAnalystsEnabled=s,e.checkInsidersEnabled=a,e.checkHedgeFundsEnabled=l,e.checkNewsSentimentEnabled=c,e.checkNewsFeedEnabled=u,e.checkAcuityNewsSentimentEnabled=d,e.checkEventsAndTradeEnabled=h,e.setSettings=p,e.saveSettingsByKey=f;var m=n(0),g=n.n(m),v=n(6),b=n.n(v),y=n(669),_=n(9),w=n.n(_),S=n(106)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){function r(t){if(this.value(this.value().trim()),!this.isEmpty())return void this.validate();var e=this.getDependentFieldByName(t);if(l.isEmpty(e))return void this.fieldError();this.disable(),e.setDefaultValue(),e.enable(),e.validate(),"none"===e.$el.css("display")&&e.$el.css("display","block")}function o(){this.value(this.value().trim()),this.isEmpty()||this.validate()}function s(){this.validate()}function a(t,e){var n=t.value(),i=e||[];return l.any(i,function(t){return n===t})}var l=n(0);i.exports.checkDependentFieldOnBlur=r,i.exports.checkInputOnBlur=o,i.exports.validateFieldOnChange=s,i.exports.isFieldEquals=a}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=n(1),c=n.n(l),u=n(11),d=n.n(u),h=n(0),p=n.n(h),f=n(40),m=n.n(f),g=n(33),v=n.n(g),b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},y=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_=function(t){function e(t){o(this,e);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={isHighlighted:!0,isDelayed:!1},v()(n),n}return a(e,t),y(e,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"removeHighlight",value:function(){this._isMounted&&this.setState({isDelayed:!1,isHighlighted:!1})}},{key:"render",value:function(){var t,e=this,n=this.props,o=n.className,s=n.children,a=n.newItemsId,l=r(n,["className","children","newItemsId"]),u=p.a.contains(a,this.props.id),h=this.state.isHighlighted,f=d()((t={},i(t,o,!!o),i(t,"item__new",u),i(t,"item__highlighted",u&&h),t)),g=this.state.isDelayed;return!g&&u&&h&&(g=!0,p.a.delay(function(){e.removeHighlight()},m.a.commentaries.newStateHighlightTimeout)),c.a.createElement(l.as,b({},l,{className:f}),s)}}]),e}(c.a.Component);_.defaultProps={as:"div"},e.a=_},,function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(1),a=n.n(s),l=n(16),c=n.n(l),u=n(0),d=n.n(u),h=n(198),p=n.n(h),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),m=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),f(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.className,n=void 0===e?"popup-container popup-absolute popup-translucent-1":e,i=t.name,r=p.a.getZindexForPopup(0);p.a.addPopup({name:i,zIndex:r}),this._popup=document.createElement("div"),this._popup.setAttribute("class",n),this._popup.style.zIndex=r,document.body.appendChild(this._popup),this._render()}},{key:"componentDidUpdate",value:function(){this._render()}},{key:"componentWillUnmount",value:function(){p.a.deletePopup(this.props.name),c.a.unmountComponentAtNode(this._popup),document.body.removeChild(this._popup)}},{key:"_render",value:function(){c.a.render(this.props.children,this._popup)}},{key:"render",value:function(){return null}}]),e}(a.a.PureComponent);m.defaultProps={name:d.a.uniqueId("portal-")},e.default=m},function(t,e,n){var i;void 0!==(i=function(t,e,n){n.exports={CERTIFIED_PROOF_OF_ID:8,CERTIFIED_PROOF_OF_RESIDENCE:9,CREDIT_CARD_BACK:5,CREDIT_CARD_CANCELLATION_LETTER:31,CREDIT_CARD_FRONT:4,CREDIT_CARD_OWNERSHIP_LETTER:32,CREDIT_CARD_SCREENSHOT_WITHIN_ONLINE_BANKING:33,CREDIT_CARD_STATEMENT:34,DECLARATION_OF_ADDRESS:14,DECLARATION_OF_FAMILY_MEMBER:15,EMAIL:20,JOINT_ACCOUNT_FORM:35,MARRIAGE_CERTIFICATE:23,POWER_OF_ATTORNEY:13,PROOF_OF_ID:1,PROOF_OF_ID_BACK:37,PROOF_OF_ID_FAMILY_MEMBER:22,PROOF_OF_ID_FRONT:36,PROOF_OF_RESIDENCE:2,STATEMENTS_OF_DEPOSITS:7,SWIFT:18,THIRD_PARTY_CREDIT_CARD_AGREEMENT:17,THIRD_PARTY_E_WALLET_AGREEMENT:26,THIRD_PARTY_PROOF_OF_ID:24,THIRD_PARTY_PROOF_OF_RESIDENCE:25,THIRD_PARTY_WIRE_TRANSFER_AGREEMENT:16,WAIVER_LETTER:21,WIRE_TRANSFER_DOCUMENT:6,WITHDRAWAL_REQUEST:3,WORLD_CHECK_PASSWORD_RESULT:11,WORLD_CHECK_SEARCH_RESULT:10,PAYMENT_METHOD_OWNERSHIP:38,PAYMENT_METHOD_CANCELLATION:39,LANDLINE_MOBILE_PHONE_BILL:40,PHONE_VERIFICATION:41,ENHANCED_VERIFICATION_PROOF:42,BANK_CONFIRMATION_LETTER:43,PROFESSIONAL_CLIENT_APPLICATION:44,OTHER:12}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=n(7),s=n(2),a=function(t){return o.getUserFavoritesModel().indexOf(t)>-1},l=r.createClass({displayName:"FavouriteInstrumentButton",getDefaultProps:function(){return{symbol:"",onClick:function(){}}},getInitialState:function(){return{isFavourite:a(this.props.symbol)}},componentDidMount:function(){s.on("favorites:update",this.update,this)},componentWillUnmount:function(){s.off("favorites:update",this.update,this)},update:function(){this.setState({isFavourite:a(this.props.symbol)})},onClick:function(t){t.stopPropagation(),s.trigger("favorites:toggle",this.props.symbol),this.setState({isFavourite:!this.state.isFavourite}),this.props.onClick()},render:function(){var t=[this.state.isFavourite?"icon-star-filled":"icon-star"];return r.createElement("div",{onClick:this.onClick,className:"btn btn-icon"},r.createElement("div",{className:t.join(" ")}))}});i.exports=l}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){"use strict";function i(t){return t.type&&"Tab"===t.type.tabsRole}function r(t){return t.type&&"TabPanel"===t.type.tabsRole}function o(t){return t.type&&"TabList"===t.type.tabsRole}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){a(t,e,n[e])})}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t){return i(t)||o(t)||r(t)}function c(t,e){return M.Children.map(t,function(t){return null===t?null:l(t)?e(t):t.props&&t.props.children&&"object"==typeof t.props.children?Object(M.cloneElement)(t,s({},t.props,{children:c(t.props.children,e)})):t})}function u(t,e){return M.Children.forEach(t,function(t){null!==t&&(i(t)||r(t)?e(t):t.props&&t.props.children&&"object"==typeof t.props.children&&(o(t)&&e(t),u(t.props.children,e)))})}function d(){return"react-tabs-"+R++}function h(){R=0}function p(t){var e=0;return u(t,function(t){i(t)&&e++}),e}function f(t){var e=0;return u(t,function(t){r(t)&&e++}),e}function m(){return m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},m.apply(this,arguments)}function g(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}function v(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function b(t){return"getAttribute"in t&&"tab"===t.getAttribute("role")}function y(t){return"true"===t.getAttribute("aria-disabled")}function _(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}function w(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function S(){return S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},S.apply(this,arguments)}function E(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}function x(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function C(){return C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},C.apply(this,arguments)}function T(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}function k(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function O(){return O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},O.apply(this,arguments)}function P(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}function I(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}Object.defineProperty(e,"__esModule",{value:!0});var A,M=(n(20),n(1)),N=n.n(M),D=n(59),L=n.n(D),R=0;try{A=!("undefined"==typeof window||!window.document||!window.document.activeElement)}catch(t){A=!1}var F=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,e.tabNodes=[],e.handleKeyDown=function(t){if(e.isTabFromContainer(t.target)){var n=e.props.selectedIndex,i=!1,r=!1;32!==t.keyCode&&13!==t.keyCode||(i=!0,r=!1,e.handleClick(t)),37===t.keyCode||38===t.keyCode?(n=e.getPrevTab(n),i=!0,r=!0):39===t.keyCode||40===t.keyCode?(n=e.getNextTab(n),i=!0,r=!0):35===t.keyCode?(n=e.getLastTab(),i=!0,r=!0):36===t.keyCode&&(n=e.getFirstTab(),i=!0,r=!0),i&&t.preventDefault(),r&&e.setSelected(n,t)}},e.handleClick=function(t){var n=t.target;do{if(e.isTabFromContainer(n)){if(y(n))return;var i=[].slice.call(n.parentNode.children).filter(b).indexOf(n);return void e.setSelected(i,t)}}while(null!==(n=n.parentNode))},e}v(e,t);var n=e.prototype;return n.setSelected=function(t,e){if(!(t<0||t>=this.getTabsCount())){var n=this.props;(0,n.onSelect)(t,n.selectedIndex,e)}},n.getNextTab=function(t){for(var e=this.getTabsCount(),n=t+1;n<e;n++)if(!y(this.getTab(n)))return n;for(var i=0;i<t;i++)if(!y(this.getTab(i)))return i;return t},n.getPrevTab=function(t){for(var e=t;e--;)if(!y(this.getTab(e)))return e;for(e=this.getTabsCount();e-- >t;)if(!y(this.getTab(e)))return e;return t},n.getFirstTab=function(){for(var t=this.getTabsCount(),e=0;e<t;e++)if(!y(this.getTab(e)))return e;return null},n.getLastTab=function(){for(var t=this.getTabsCount();t--;)if(!y(this.getTab(t)))return t;return null},n.getTabsCount=function(){return p(this.props.children)},n.getPanelsCount=function(){return f(this.props.children)},n.getTab=function(t){return this.tabNodes["tabs-"+t]},n.getChildren=function(){var t=this,e=0,n=this.props,s=n.children,a=n.disabledTabClassName,l=n.focus,u=n.forceRenderTabPanel,h=n.selectedIndex,p=n.selectedTabClassName,f=n.selectedTabPanelClassName;this.tabIds=this.tabIds||[],this.panelIds=this.panelIds||[];for(var m=this.tabIds.length-this.getTabsCount();m++<0;)this.tabIds.push(d()),this.panelIds.push(d());return c(s,function(n){var s=n;if(o(n)){var d=0,m=!1;A&&(m=N.a.Children.toArray(n.props.children).filter(i).some(function(e,n){return document.activeElement===t.getTab(n)})),s=Object(M.cloneElement)(n,{children:c(n.props.children,function(e){var n="tabs-"+d,i=h===d,r={tabRef:function(e){t.tabNodes[n]=e},id:t.tabIds[d],panelId:t.panelIds[d],selected:i,focus:i&&(l||m)};return p&&(r.selectedClassName=p),a&&(r.disabledClassName=a),d++,Object(M.cloneElement)(e,r)})})}else if(r(n)){var g={id:t.panelIds[e],tabId:t.tabIds[e],selected:h===e};u&&(g.forceRender=u),f&&(g.selectedClassName=f),e++,s=Object(M.cloneElement)(n,g)}return s})},n.isTabFromContainer=function(t){if(!b(t))return!1;var e=t.parentElement;do{if(e===this.node)return!0;if(e.getAttribute("data-tabs"))break;e=e.parentElement}while(e);return!1},n.render=function(){var t=this,e=this.props,n=(e.children,e.className),i=(e.disabledTabClassName,e.domRef),r=(e.focus,e.forceRenderTabPanel,e.onSelect,e.selectedIndex,e.selectedTabClassName,e.selectedTabPanelClassName,g(e,["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName"]));return N.a.createElement("div",m({},r,{className:L()(n),onClick:this.handleClick,onKeyDown:this.handleKeyDown,ref:function(e){t.node=e,i&&i(e)},"data-tabs":!0}),this.getChildren())},e}(M.Component);F.defaultProps={className:"react-tabs",focus:!1},F.propTypes={};var B=function(t){function e(n){var i;return i=t.call(this,n)||this,i.handleSelected=function(t,n,r){var o=i.props.onSelect;if("function"!=typeof o||!1!==o(t,n,r)){var s={focus:"keydown"===r.type};e.inUncontrolledMode(i.props)&&(s.selectedIndex=t),i.setState(s)}},i.state=e.copyPropsToState(i.props,{},n.defaultFocus),i}w(e,t);var n=e.prototype;return n.componentWillReceiveProps=function(t){this.setState(function(n){return e.copyPropsToState(t,n)})},e.inUncontrolledMode=function(t){return null===t.selectedIndex},e.copyPropsToState=function(t,n,i){void 0===i&&(i=!1);var r={focus:i};if(e.inUncontrolledMode(t)){var o=p(t.children)-1,s=null;s=null!=n.selectedIndex?Math.min(n.selectedIndex,o):t.defaultIndex||0,r.selectedIndex=s}return r},n.render=function(){var t=this.props,e=t.children,n=(t.defaultIndex,t.defaultFocus,_(t,["children","defaultIndex","defaultFocus"])),i=this.state,r=i.focus,o=i.selectedIndex;return n.focus=r,n.onSelect=this.handleSelected,null!=o&&(n.selectedIndex=o),N.a.createElement(F,n,e)},e}(M.Component);B.defaultProps={defaultFocus:!1,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null},B.propTypes={},B.tabsRole="Tabs";var U=function(t){function e(){return t.apply(this,arguments)||this}return x(e,t),e.prototype.render=function(){var t=this.props,e=t.children,n=t.className,i=E(t,["children","className"]);return N.a.createElement("ul",S({},i,{className:L()(n),role:"tablist"}),e)},e}(M.Component);U.defaultProps={className:"react-tabs__tab-list"},U.propTypes={},U.tabsRole="TabList";var j=function(t){function e(){return t.apply(this,arguments)||this}k(e,t);var n=e.prototype;return n.componentDidMount=function(){this.checkFocus()},n.componentDidUpdate=function(){this.checkFocus()},n.checkFocus=function(){var t=this.props,e=t.selected,n=t.focus;e&&n&&this.node.focus()},n.render=function(){var t,e=this,n=this.props,i=n.children,r=n.className,o=n.disabled,s=n.disabledClassName,a=(n.focus,n.id),l=n.panelId,c=n.selected,u=n.selectedClassName,d=n.tabIndex,h=n.tabRef,p=T(n,["children","className","disabled","disabledClassName","focus","id","panelId","selected","selectedClassName","tabIndex","tabRef"]);return N.a.createElement("li",C({},p,{className:L()(r,(t={},t[u]=c,t[s]=o,t)),ref:function(t){e.node=t,h&&h(t)},role:"tab",id:a,"aria-selected":c?"true":"false","aria-disabled":o?"true":"false","aria-controls":l,tabIndex:d||(c?"0":null)}),i)},e}(M.Component);j.defaultProps={className:"react-tabs__tab",disabledClassName:"react-tabs__tab--disabled",focus:!1,id:null,panelId:null,selected:!1,selectedClassName:"react-tabs__tab--selected"},j.propTypes={},j.tabsRole="Tab";var z=function(t){function e(){return t.apply(this,arguments)||this}return I(e,t),e.prototype.render=function(){var t,e=this.props,n=e.children,i=e.className,r=e.forceRender,o=e.id,s=e.selected,a=e.selectedClassName,l=e.tabId,c=P(e,["children","className","forceRender","id","selected","selectedClassName","tabId"]);return N.a.createElement("div",O({},c,{className:L()(i,(t={},t[a]=s,t)),role:"tabpanel",id:o,"aria-labelledby":l}),r||s?n:null)},e}(M.Component);z.defaultProps={className:"react-tabs__tab-panel",forceRender:!1,selectedClassName:"react-tabs__tab-panel--selected"},z.propTypes={},z.tabsRole="TabPanel",n.d(e,"Tabs",function(){return B}),n.d(e,"TabList",function(){return U}),n.d(e,"Tab",function(){return j}),n.d(e,"TabPanel",function(){return z}),n.d(e,"resetIdCounter",function(){return h})},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(12),s=i.template(n(1703)),a=(n(30),n(844)),l=n(845),c=n(846),u=n(847),d=n(848),h=n(849),p=n(292),f=(p.EMPTY,p.PENDING,p.SUCCESS);p.ERROR;r.exports=o.extend({className:"insights",initialize:function(t){o.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:statusOfTipRanks",this.onStatusOfTipRanksChanged),this.listenTo(this.model,"change:statusOfEvents",this.onStatusOfEventsChanged),this.listenTo(this.model,"change:statusOfInsiders",this.onStatusOfInsidersChanged),this.listenTo(this.model,"change:statusOfBloggers",this.onStatusOfBloggersChanged),this.listenTo(this.model,"change:statusOfHedgefunds",this.onStatusOfHedgefundsChanged),this.listenTo(this.model,"change:statusOfNewsSentiment",this.onStatusOfNewsSentimentChanged)},render:function(){return o.prototype.render.call(this),this.$el.html(s({instrument:this.model.getInstrumentName()})),this},onStatusOfTipRanksChanged:function(){var t=this;this.model.checkAnalystsEmpty().then(function(e){t.model.get("statusOfTipRanks")!=f||e||(t.addChildView(".block-1",a,{model:t.model}),t.$el.find(".block-no-data").addClass("hidden"))})},onStatusOfEventsChanged:function(){var t=this;this.model.checkEventsEmpty().then(function(e){t.model.get("statusOfEvents")!=f||e||(t.addChildView(".block-2",l,{model:t.model}),t.$el.find(".block-no-data").addClass("hidden"))})},onStatusOfInsidersChanged:function(){var t=this;this.model.checkInsidersEmpty().then(function(e){t.model.get("statusOfInsiders")!=f||e||(t.addChildView(".block-3",c,{model:t.model}),t.$el.find(".block-no-data").addClass("hidden"))})},onStatusOfBloggersChanged:function(){var t=this;this.model.checkBloggersEmpty().then(function(e){t.model.get("statusOfBloggers")!=f||e||(t.addChildView(".block-4",u,{model:t.model}),t.$el.find(".block-no-data").addClass("hidden"))})},onStatusOfHedgefundsChanged:function(){var t=this;this.model.checkHedgefundsEmpty().then(function(e){t.model.get("statusOfHedgefunds")!=f||e||(t.addChildView(".block-5",d,{model:t.model}),t.$el.find(".block-no-data").addClass("hidden"))})},onStatusOfNewsSentimentChanged:function(){var t=this;this.model.checkNewsSentimentEmpty().then(function(e){t.model.get("statusOfNewsSentiment")!=f||e||(t.addChildView(".block-6",h,{model:t.model}),t.$el.find(".block-no-data").addClass("hidden"))})}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};void 0!==(r=function(t,e,i){var r=n(0),s=n(13),a=n(45),l=n(6),c=n(3),u=n(1710),d=n(14),h=n(9),p=n(292),f=p.EMPTY,m=p.PENDING,g=p.SUCCESS,v=p.ERROR,b={silent:!0},y=a.extend({model:u});i.exports=s.extend({defaults:function(){return{instrumentSymbol:f,instrumentId:0,statusOfTipRanks:f,statusOfEvents:f,statusOfInsiders:f,statusOfInsiderDetails:f,statusOfBloggers:f,statusOfHedgefunds:f,statusOfNewsSentiment:f,status:f,dataOfEvents:[],section:"analysts",hasData:!1}},initialize:function(){this.listenTo(this,"change:statusOfTipRanks",this.onReady),this.listenTo(this,"change:statusOfEvents",this.onReady),this.listenTo(this,"change:statusOfInsiders",this.onReady),this.listenTo(this,"change:statusOfBloggers",this.onReady),this.listenTo(this,"change:statusOfHedgefunds",this.onReady),this.listenTo(this,"change:statusOfNewsSentiment",this.onReady)},checkEnabled:function(){return Promise.all([h.checkEventsAndTradeEnabled(),h.checkTipranksEnabled(),h.checkInsidersEnabled(),h.checkBloggersEnabled(),h.checkHedgeFundsEnabled(),h.checkNewsSentimentEnabled()]).then(function(t){return Promise.resolve(r.some(t))})},onReady:function(){var t=this,e=this.control("status"),n=this.get("statusOfTipRanks"),i=this.get("statusOfEvents"),o=this.get("statusOfInsiders"),s=this.get("statusOfBloggers"),a=this.get("statusOfHedgefunds"),l=this.get("statusOfNewsSentiment");r.some([n,i,o,s,a,l],function(t){return t===g})&&e(g),this.checkSomeAvailable().then(function(e){return e&&t.set("hasData",!0)})},checkSomeAvailable:function(){return Promise.all([this.checkEventsEmpty(),this.checkAnalystsEmpty(),this.checkInsidersEmpty(),this.checkBloggersEmpty(),this.checkHedgefundsEmpty(),this.checkNewsSentimentEmpty()]).then(function(t){return Promise.resolve(r.some(t,function(t){return!t}))})},load:function(){var t=this;Promise.all([h.checkEventsAndTradeEnabled(),h.checkTipranksEnabled(),h.checkInsidersEnabled(),h.checkBloggersEnabled(),h.checkHedgeFundsEnabled(),h.checkNewsSentimentEnabled()]).then(function(e){r.every(e,function(t){return!t})?t.set("status",g):(e[0]&&t.loadEvents(),e[1]&&t.loadTipRanks(),e[2]&&t.loadInsiders(),e[3]&&t.loadBloggers(),e[4]&&t.loadHedgefunds(),e[5]&&t.loadNewsSentiment())})},loadTipRanks:function(){var t=this,e=this.control("statusOfTipRanks");e(0,0,b),e(m),l.loadTipRanks().then(function(n){return e(g,{dataOfTipRanks:t.filterTipRanks(n.data)})}).catch(function(t){return e(v,{err:t})})},loadEvents:function(){var t=this,e=this.control("statusOfEvents");e(0,0,b),e(m),l.loadEventsAndTrade().then(function(n){return e(g,{dataOfEvents:t.filterEvents(n.data)})}).catch(function(t){return e(v,{err:t})})},loadInsiders:function(){var t=this,e=this.control("statusOfInsiders");e(0,0,b),e(m),l.getInsiders().then(function(n){e(g,{dataOfInsider:t.filterInsiders(n.data)}),t.loadInsiderDetails()}).catch(function(t){return e(v,{err:t})})},loadInsiderDetails:function(){var t=this.getInsider(),e=this.control("statusOfInsiderDetails");if(e(0,0,b),!t)return void e(g);e(m),l.getInsider(t.stockTicker).then(function(t){return e(g,{dataOfInsiderDetails:t.data})}).catch(function(t){return e(v,{err:t})})},loadBloggers:function(){var t=this,e=this.control("statusOfBloggers");e(0,0,b),e(m),l.loadBloggers().then(function(n){return e(g,{dataOfBloggers:t.filterBloggers(n.data)})}).catch(function(t){return e(v,{err:t})})},loadHedgefunds:function(){var t=this,e=this.control("statusOfHedgefunds");e(0,0,b),e(m),l.loadHedgefunds().then(function(e){var n=r.find(e.data,function(e){return e.symbol==t.get("instrumentSymbol")});return r.has(n,"stockTicker")?l.loadHedgefund(n.stockTicker):Promise.resolve({data:[]})}).then(function(n){return e(g,{dataOfHedgefunds:t.filterHedgefunds(n.data)})}).catch(function(t){return e(v,{err:t})})},loadNewsSentiment:function(){var t=this,e=this.control("statusOfNewsSentiment");e(0,0,b),e(m),l.loadNewsSentiment().then(function(n){var i=r.find(n.data,function(e){return e.symbol==t.get("instrumentSymbol")});return r.has(i,"stockTicker")?e(g,{dataOfNewsSentiment:i}):Promise.resolve({data:[]})}).catch(function(t){return e(v,{err:t})})},getInsiderStockTicker:function(){return""},setSection:function(t){this.set({section:t})},getSection:function(){return this.get("section")},getCorrectSection:function(){var t=this;return Promise.all([this.checkAnalystsEmpty(),this.checkEventsEmpty(),this.checkInsidersEmpty(),this.checkBloggersEmpty(),this.checkHedgefundsEmpty(),this.checkNewsSentimentEmpty()]).then(function(e){var n=t.getSection(),i=[{name:"analysts",empty:e[0]},{name:"events",empty:e[1]},{name:"insiders",empty:e[2]},{name:"bloggers",empty:e[3]},{name:"hedgefunds",empty:e[4]},{name:"news_sentiment",empty:e[5]}],o=r.find(i,{name:n}),s=r.findWhere(i,{empty:!1});return o.empty?Promise.resolve(s&&s.name||""):Promise.resolve(o.name)})},filterTipRanks:function(t){return t},filterBloggers:function(t){return t},filterHedgefunds:function(t){return t},filterInsiders:function(t){var e=this.get("instrumentSymbol");return r.chain(t).filter(function(t){return t.symbol===e}).map(function(t){return t.signalDirection="Positive Sentiment"!=t.confidenceSignalScore?"Neutral Sentiment"!=t.confidenceSignalScore?"down":"neutral":"up",t.transactionCount="up"==t.signalDirection?t.transactionBuyCount:t.transactionSellCount,t.formatDaysAgo=c(t.latestInsiderTransactionDate).fromNow(),t.formatDate=c(t.latestInsiderTransactionDate).format("MMM, D YYYY"),t}).first().value()},filterEvents:function(t){var e=this.get("instrumentSymbol").replace("/",""),n=r.filter(t,function(t){return r.find(t.data.items,function(t){return t.symbol.name===e})});return n=r.map(n,function(t){var e=t.data,n=r.findWhere(t.links,{rel:"flag-icon"});return o({},e,{flag_url:n&&n.href})}),n=r.sortBy(n,function(t){return c(t.released_at).valueOf()}),new y(n)},getEventsList:function(){return this.get("dataOfEvents").models||[]},getEvents:function(){return this.get("dataOfEvents")},checkEventsEmpty:function(){var t=this;return h.checkEventsAndTradeEnabled().then(function(e){return Promise.resolve(!e||r.isEmpty(t.getEventsList()))})},checkAnalystsEmpty:function(){var t=this;return h.checkTipranksEnabled().then(function(e){return Promise.resolve(!e||r.isEmpty(t.getAnalystList())||void 0===t.getAnalystList().stock)})},checkBloggersEmpty:function(){var t=this;return h.checkBloggersEnabled().then(function(e){return Promise.resolve(!e||r.isEmpty(t.getBloggersList())||void 0===t.getBloggersList().stock)})},checkInsidersEmpty:function(){var t=this;return h.checkInsidersEnabled().then(function(e){return Promise.resolve(!e||!t.getInsider())})},checkHedgefundsEmpty:function(){var t=this;return h.checkHedgeFundsEnabled().then(function(e){return Promise.resolve(!e||r.isEmpty(t.getHedgefunds()))})},checkNewsSentimentEmpty:function(){var t=this;return h.checkNewsSentimentEnabled().then(function(e){return Promise.resolve(!e||r.isEmpty(t.getNewsSentiment()))})},getInstrumentName:function(){var t=this.get("instrumentSymbol"),e=d.getInstrumentBySymbol(t);return e?e.getName():t},getAnalystList:function(){var t=this.get("instrumentSymbol"),e=this.get("dataOfTipRanks"),n=d.getInstrumentBySymbol(t);if(!n||r.isEmpty(e))return[];var i=n.getName(),o=r.find(e.recommendations,function(t){return t.symbol===i});if(!o)return[];var s=e.stocks[o.stock_ticker];if(!s)return[];var a=r.filter(e.recommendations,function(e){return e.symbol===t}),l=r.reduce(a,function(t,n){var i=e.analysts[n.analyst_id];return i&&(t[n.analyst_id]=i),t},{}),c=s.total_analysts_hold,u=s.total_analysts_sell,h=s.total_analysts_buy,p=s.total_analysts_recommendations;return s.total_analysts_hold_percent=parseInt(c/p*100,10),s.total_analysts_sell_percent=parseInt(u/p*100,10),s.total_analysts_buy_percent=parseInt(h/p*100,10),s.consensus_lowercase=String(s.consensus).toLowerCase(),s.isBuy=String(s.consensus).indexOf("Buy")>=0,s.isSell=String(s.consensus).indexOf("Sell")>=0,{stock:s,recommendations:a,analysts:l}},getBloggersList:function(){var t=this.get("instrumentSymbol"),e=this.get("dataOfBloggers");return!d.getInstrumentBySymbol(t)||r.isEmpty(e)?[]:{stock:r.map(r.pick(e.stocks,function(e){return e.symbol==t}),function(t,e){return r.extend({ticker:e},t)})[0],bloggers:r.reduce(e.bloggerRecommendations,function(n,i){var r=e.stocks[i.stockTicker];return r&&r.symbol==t&&n.push(i),n},[])}},getHedgefunds:function(){var t=this.get("instrumentSymbol"),e=this.get("dataOfHedgefunds");return!d.getInstrumentBySymbol(t)||r.isEmpty(e)||0==e.length?[]:{dataOfHedgefunds:e}},getNewsSentiment:function(){var t=this.get("instrumentSymbol"),e=this.get("dataOfNewsSentiment");return!d.getInstrumentBySymbol(t)||r.isEmpty(e)||0==e.length?[]:{dataOfNewsSentiment:e}},bloggersDateDiff:function(t){var e=new Date(t),n=new Date;return Math.round((n.getTime()-e.getTime())/864e5)},getBloggerPicture:function(t){return t&&"null"!=t?"https://az712682.vo.msecnd.net/expert-pictures/"+t:n(255)},formatRecommendationDate:function(t){return c(t).format("DD/MM/YYYY")},getInsider:function(){return this.get("dataOfInsider")},getInsiderDetails:function(){return this.get("dataOfInsiderDetails")},getPriceTargetGraph:function(){var t=this.get("instrumentSymbol"),e=this.get("dataOfTipRanks"),n=d.getInstrumentBySymbol(t);if(!n||r.isEmpty(e))return[];var i=n.getName(),o=r.find(e.stocks,function(t){return t.name==i});if(!o)return"";var s=o.avg_target_price,a=o.high_target_price,l=o.low_target_price,c=o.past_prices,u=70-55*s/a,h=70-55*l/a,p=r.isUndefined(c)?u:70-55*c[0]/a;if(void 0!=c){for(var f=103/c.length,m=[],g="M123,",v=1,b=c.length;v<b;v++)m.push(70-55*c[v]/a),g+=70-55*c[v]/a+"L"+(123-(v+1)*f)+",";g+=70-c[c.length-1]/a*55}return'<svg class="graph"><svg width="226" height="43"><g class="grid y-grid"><g class="tick" transform="translate(0,63.75)" style="opacity: 1;"><line x2="221" y2="0" style="stroke:#6f6f6f"></line><text dy=".32em" x="-3" y="0" style="text-anchor: end;"></text></g><g class="tick" transform="translate(0,45.48277661795407)" style="opacity: 1;"><line x2="221" y2="0" style="stroke:#6f6f6f"></line><text dy=".32em" x="-3" y="0" style="text-anchor: end;"></text></g><g class="tick" transform="translate(0,27.21555323590814)" style="opacity: 1;"><line x2="221" y2="0" style="stroke:#6f6f6f"></line><text dy=".32em" x="-3" y="0" style="text-anchor: end;"></text></g></g>'+(g?'<path d="'+g+'" class="past"></path>':"")+'<path class="high" d="M123,'+p+'L211,20"></path><path class="avg" d="M123,'+p+"L211,"+u+'"></path><path class="low" d="M123,'+p+"L211,"+h+'"></path><text transform="translate(67.75 ,75)" style="text-anchor: middle; fill: rgb(111, 111, 111); font-size: 10px; font-weight: bold; font-family: arial;">'+__("tipranks.text.past_months")+'</text><text transform="translate(173.25 ,75)" style="text-anchor: middle; fill: rgb(111, 111, 111); font-size: 10px; font-weight: bold; font-family: arial;">'+__("tipranks.text.next_months")+'</text><line x1="123" y1="5" x2="123" y2="75" stroke-width="1" style="stroke:#6f6f6f"></line><circle class="current" r="3" cx="123" cy="'+p+'"></circle><circle class="high" r="3" cx="211" cy="20"></circle><circle class="avg" r="3" cx="211" cy="'+u+'"></circle><circle class="low" r="3" cx="211" cy="'+h+'"></circle></g></svg></svg>'}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){"use strict";function i(){return function(t,e){t({type:l.a})}}function r(t,e){return function(n,i){n({type:l.c,name:t,enabled:e}),n(a())}}function o(t,e){return{type:l.b,name:e,enabled:!1}}function s(t){return{type:l.f,payload:t}}function a(){return function(t,e){var n=e().services,i=Object(d.a)(e()),r=u.a.contains(n.availableServices,i)?i:u.a.first(n.availableServices);t({type:l.g}),t(s(r))}}e.c=i,e.b=r,e.a=o,e.d=s;var l=n(216),c=n(0),u=n.n(c),d=n(106)},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"h",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"f",function(){return l}),n.d(e,"e",function(){return c}),n.d(e,"g",function(){return u});var i="eventsAndTrade/CHECK_EVENTS_AND_TRADE",r="eventsAndTrade/CHECK_EVENTS_AND_TRADE_SUCCESS",o="eventsAndTrade/CHECK_EVENTS_AND_TRADE_ERROR",s="eventsAndTrade/UPCOMING_EVENTS_AND_TRADE",a="eventsAndTrade/LOAD_EVENTS_AND_TRADE",l="eventsAndTrade/LOAD_EVENTS_AND_TRADE_SUCCESS",c="eventsAndTrade/LOAD_EVENTS_AND_TRADE_ERROR",u="eventsAndTrade/TOGGLE_EVENT_ROW"},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=(n(0),n(12)),o=n(210),s=n(211),a=r.extend({initialize:function(){r.prototype.initialize.apply(this,arguments),this.forms={},this.formConfigs=null},destroyForm:function(t){var e=this.forms[t];e&&(this.beforeDestroyForm(t,e.model,e.view),this.stopFormListening(t),e.view.destroy(),e.model.destroy(),e.$container.empty(),this.afterDestroyForm(t),delete this.forms[t])},createForm:function(t,e){var n=this.formConfigs;if(this.forms[t]&&this.destroyForm(t),!n)throw new Error("You should include form's config file in initialize of your view.");var i=n[t];if(!i)throw new Error("Form's config is not found");this.beforeCreateForm(t);var r=s.extend({}),a=new r(i(this.model)),l=new o({model:a,$parent:e}),c={name:t,model:a,view:l,$container:e};return this.forms[t]=c,l.show(),this.addFormListeners(t),this.afterCreateForm(t,a,l),c},isForm:function(t){return this.forms[t]},getFormField:function(t,e){return this.getForm(t).getField(e)},getForm:function(t){return this.forms[t].view.form},addFormListeners:function(t){var e=this,n=this.getForm(t);for(var i in n._fields){var r=n._fields[i];this.listenTo(r,"all",function(n,i,r){e.trigger("form:"+t+":"+n+":"+i._name,i,r),e.trigger("form:field-update",i._name,r)})}},stopFormListening:function(t){for(var e in t._fields){var n=t._fields[e];this.stopListening(n,"all")}},destroy:function(){for(var t in this.forms)this.destroyForm(t);r.prototype.destroy.call(this)},beforeCreateForm:function(){},afterCreateForm:function(){},beforeDestroyForm:function(){},afterDestroyForm:function(){}});i.exports=a}.call(e,n,e,t))&&(t.exports=i)},,function(t,e,n){"use strict";function i(t){return function(e,n){e({type:d.d,payload:t,instruments:n().instruments})}}function r(t){return function(e){e({type:d.c,payload:t});var n=u.a.getOrderById(t);l.a.trigger("ui:edit-order",n)}}function o(t){return function(e){e({type:d.b,payload:t});var n=u.a.getOrderById(t);l.a.trigger("ui:cancel-order",n)}}function s(t){return function(e){e({type:d.a,payload:t}),l.a.trigger("instrument:orders:cancel_all",t)}}e.d=i,e.c=r,e.b=o,e.a=s;var a=n(2),l=n.n(a),c=n(108),u=n.n(c),d=n(642)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(13),s=n(2),a=n(6);i.exports=o.extend({defaults:{levels:[],currentLeverage:0,newLeverage:0},initialize:function(){this.listenTo(s,"user:leverage:reload",this.load)},load:function(){return a.loadLeverage().then(this.loadSuccess.bind(this))},loadSuccess:function(t){return this.set({levels:t.data.leverageLevels,currentLeverage:t.data.currentLeverage,newLeverage:t.data.currentLeverage}),s.trigger("user:leverage:updated"),Promise.resolve(t)},canChangeLeverage:function(){var t=this.getEnabledLevels();if(r.isEmpty(t))return!1;if(t.length>1)return!0;var e=t[0];return this.getCurrentLeverageValue()!==e.leverage},setNewLeverageValue:function(t){this.set("newLeverage",t)},getNewLeverageValue:function(){return this.get("newLeverage")},isPristine:function(){return this.getNewLeverageValue()!==this.getCurrentLeverageValue()},getCurrentLeverageValue:function(){return this.get("currentLeverage")},getCurrentFormattedLeverageValue:function(){return"1:"+this.getCurrentLeverageValue()},getLevels:function(){return this.get("levels")},getEnabledLevels:function(){return r.filter(this.getLevels(),{enabled:!0})},getEnabledLeverages:function(){return r.sortBy(this.getEnabledLevels(),function(t){return-t.leverage})},asArray:function(){return r.chain(this.getEnabledLevels()).map(function(t){return t.leverage}).sortBy().value()},getMinLeverageValue:function(){return r.min(this.asArray())},getMaxLeverageValue:function(){return r.max(this.asArray())},setSelectedLeverage:function(t){var e=r.findWhere(this.getEnabledLevels(),{leverage:t});e&&(e.selected=!0)},getDefaultValue:function(){return r.find(this.getEnabledLevels(),function(t){return t.defaultValue}).leverage},save:function(){return a.saveLeverage(this.getNewLeverageValue()).then(this.saveSuccess.bind(this)).catch(function(t){return Promise.reject(t)})},saveSuccess:function(t){var e=this.getNewLeverageValue();return this.setSelectedLeverage(e),this.set("currentLeverage",e),s.trigger("user:leverage:updated"),Promise.resolve(t)}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){"use strict";function i(t){return new Date(t.setDate(t.getDate()+1))}function r(t,e){return Math.abs(t.getTime()-e.getTime())/m}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e,n){var i=t.events,r=t.symbolToEventMap,o=t.upcoming,s=r[e.replace("/","")],a=Math.max(n,o[e]?o[e].length:0);if(!s)return null;var l=d()().valueOf();return p.a.chain(s).map(function(t){return i[t]}).filter(function(t){return d()(t.data.released_at).valueOf()>l}).sortBy(function(t){return d()(t.data.released_at).valueOf()}).first(a).map(function(t){var e=p.a.findWhere(t.links,{rel:"flag-icon"}),n=t.data,i=Object(f.b)(d()(n.released_at).toDate()).valueOf();return{id:n.event_uid,name:n.name,timestamp:i,formattedDate:b(i),flag:e&&e.href,prediction:v(t),typeCode:n.event_type_code}}).value()}function a(t){return p.a.map(t,function(t){var e=p.a.findWhere(t.links,{rel:"flag-icon"}),n=t.data,i=Object(f.b)(d()(n.released_at).toDate()).valueOf();return _({_id:n.event_uid,_event_type_code:n.event_type_code,_name:n.name,_timestamp:i,_formatedDate:b(i),_flag:e&&e.href,_opportunitiesQuantity:t.links&&t.links.length,_description:n.description,_prediction:v(t)},t)})}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,e=arguments[1],n=e.payload;switch(e.type){case c.c:var i=!!n.responsePayload;return _({},t,{enabled:i,status:i?y.SUCCESS:y.PENDING});case c.h:var r=n.symbol,l=n.visibleSize,u=s(t,r,l);return _({},t,{upcoming:_({},t.upcoming,o({},r,u))});case c.f:var h={},f={},m=n.responsePayload.data;m=a(m),m=p.a.sortBy(m,function(t){return d()(t.data.released_at).valueOf()}),p.a.each(m,function(t){var e=t.data.event_uid;h[e]=t,p.a.each(t.data.items,function(t){var n=t.symbol.name;f[n]||(f[n]=[]),f[n].indexOf(e)<0&&f[n].push(e)})});var g=_({},w,{events:h,symbolToEventMap:f,enabled:!0,upcoming:{},status:y.SUCCESS,lastUpdated:p.a.now()});if(n.additionalData&&!p.a.isEmpty(n.additionalData)){var v=n.additionalData,b=v.symbol,S=v.visibleSize,E=s(g,b,S);E&&(g.upcoming[b]=E)}return _({},t,g);case c.g:var x=t.openedInsightsRows;return x[n]?delete x[n]:x[n]=!0,_({},t,{openedInsightsRows:x})}return t}var c=n(835),u=n(3),d=n.n(u),h=n(0),p=n.n(h),f=n(208),m=864e5,g=function(t){return Array.prototype.reduce.call(arguments,function(t,e){return t&&e?Math.min(t,e):t||e})},v=function(t){var e=t.data.items,n=p.a.map(e,function(t){return[g(t.delta_gt_up,t.delta_lt_up,t.delta_eq_up,t.delta_gt_down,t.delta_lt_down,t.delta_eq_down),Math.max(t.delta_gt_up,t.delta_lt_up,t.delta_eq_up,t.delta_gt_down,t.delta_lt_down,t.delta_eq_down)]}),i=p.a.min(n,"0"),r=p.a.max(n,"1");return Math.round(100*i[0])+"%-"+Math.round(100*r[1])+"%"},b=function(t){var e=r(new Date(t),Object(f.a)());return new Date(t).toDateString()===(new Date).toDateString()?__("autochartist.text.date.today",d()(t).format("h:mm a")):new Date(t).toDateString()===i(new Date).toDateString()?__("autochartist.text.date.tomorrow",d()(t).format("h:mm a")):e<6?d()(t).format("dddd [at] h:mm a"):d()(t).format("D/M/YYYY")},y=n(10);e.a=l;var _=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},w={status:y.EMPTY,lastUpdated:0,enabled:!1,symbolToEventMap:{},events:{},upcoming:{},openedInsightsRows:{}}},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(836),s=n(79),a=n(185),l=n(30),c=n(31),u=n(3),d=n(15),h=r.template(n(1402)),p=r.template(n(1403)),f=r.template(n(1404)),m=r.template(n(1405)),g=n(692),v=g.EMPTY,b=g.SUBSCRIBE_FEED_PENDING,y=g.WS_FEED_RECEIVED,_=g.SUBSCRIBE_FEED_ERROR;i.exports=o.extend({tagName:"div",className:"blend",events:function(){return this.addEvents(o)({"click .showmore__title":"showmore"})},initialize:function(){o.prototype.initialize.apply(this,arguments);var t=this.options||{};this.tmpl="vertical"===t.direction?f:p,this.listenTo(this.model,"change:statusOfData",this.onStatusOfData),this.listenTo(this.model,"change:selectedYear",this.onYearChanged),this.model.load()},render:function(){return o.prototype.render.call(this),this.$el.html(h({mobile:d.mobile(),instrumentDisplayName:this.model.get("displayName"),blendDetailsText:__("blend.details."+String(this.model.get("symbol")).toLocaleLowerCase()),showOnlyChart:this.options.showOnlyChart})),this.onStatusOfData(),this},onStatusOfData:function(){var t=this,e=this.model,n=e.get("statusOfData");switch(n){case v:case b:return void this.addChildView(".blend__performance",l);case y:this.removeChildView(".blend__field-periods");var i=this.addChildView(".blend__field-periods",a,{template:s.selectBox,disable:!1,translationKey:"",value:this.model.get("selectedYear"),options:this.model.get("years"),transformOptionsValue:function(t){return t},transformOptionText:function(t){return t},title:__("wizard.form.label.DEFAULT_EMPTY"),name:"years"});return this.listenTo(i,"change",function(n,i){e.filter({year:i}),t.renderChart()}),i.value(u().format("YYYY")),this.renderChart(),void this.removeChildView(".blend__performance");case _:return}},renderTotal:function(){this.$el.find(".blend__performance .chart__total").html(m({total:this.getTotal()}))},onYearChanged:function(){var t=this.getChildView(".chart-bar__body");t&&t.setData(this.model.get("data"))},beforeCreate:function(){return!0},isSaveNeeded:function(){return!1},getModelData:function(){return this.model.getData(this.shouldDiscardFutureDate())},getTotal:function(){return this.getModelData().total},shouldDiscardFutureDate:function(){return d.mobile()||d.tablet()},renderChart:function(){var t=this.model,e=this.getModelData(),n=e.result;this.shouldDiscardFutureDate()&&(n=n.reverse()),this.$el.find(".chart-bar__body").html(this.tmpl({total:this.getTotal(),data:n,months:t.get("months"),format:function(t){return 0===t?0:c(t).format("0,0[.]00")+"%"},showmoreItemsCount:3})),this.renderTotal()},showmore:function(){var t=this.$(".showmore__content"),e=this.$(".showmore__title"),n="showmore__content--hidden";t.toggleClass(n),e.html(t.hasClass(n)?__("actions.showmore"):__("actions.showless"))}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var o;void 0!==(o=function(t,e,i){var o=n(13),s=n(6),a=n(22),l=n(2),c=n(0),u=n(3),d=n(31),h=n(692),p=h.EMPTY,f=h.SUBSCRIBE_FEED_PENDING,m=h.SUBSCRIBE_FEED_SUCCESS,g=h.SUBSCRIBE_FEED_ERROR,v=h.WS_FEED_RECEIVED,b=h.SUBSCRIBE_FEED_TIMEOUT;i.exports=o.extend({defaults:function(){return{years:[],selectedYear:u().year(),statusOfData:p,info:[],history:[],dataForYear:[],symbol:null,requestID:"blend-generic-request-id",months:[__("instrument_info.rollover_date.month.january"),__("instrument_info.rollover_date.month.february"),__("instrument_info.rollover_date.month.march"),__("instrument_info.rollover_date.month.april"),__("instrument_info.rollover_date.month.may"),__("instrument_info.rollover_date.month.june"),__("instrument_info.rollover_date.month.july"),__("instrument_info.rollover_date.month.august"),__("instrument_info.rollover_date.month.september"),__("instrument_info.rollover_date.month.october"),__("instrument_info.rollover_date.month.november"),__("instrument_info.rollover_date.month.december")],instrumentStartTime:!1}},initialize:function(){o.prototype.initialize.apply(this),this.listenTo(l,"stream:type:chartFeedSubtopic",this.onWSFeed),this.listenTo(this,"change:statusOfData",this.onStatusOfData);var t=u.parseZone(this.get("instrumentStartTime"));this.set("instrumentStartTime",t.isValid()?t:u(0))},load:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.symbol,n=t.year,i=this.get("statusOfData"),r=this.control("statusOfData");if(i!=f){if(e=e||this.get("symbol"),n=n||this.get("selectedYear"),!e)return r(g);this.set({data:[],history:[]},{silent:!0}),r(f),this.subscribeFeed(e,n).then(function(t){return r(m)}).catch(function(t){return r(g,{error:t.message},t)})}},filter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.year,n=t.history;e=e||this.get("selectedYear"),n=n||this.get("history");var i=function(t){return u(t).format("YYYY-MM-DD")},r=c.uniq(c.map(n,function(t){return u(t.timestamp).format("YYYY")})).reverse(),o=c.times(12,function(t){return u({year:e,month:t,day:0,hour:0,minute:0,second:0})}),s=c.map(n,function(t){return{change:0==t.open?0:(t.close-t.open)/t.open*100,timestamp:t.timestamp,date:i(t.timestamp),open:t.open,close:t.close}}),a=c.map(o,function(t){var e=c.find(s,function(e){return i(t)===i(e.timestamp)});return{date:i(t),change:e&&e.change||0,open:e&&e.open||0,close:e&&e.close||0}});this.set({dataForYear:a,selectedYear:e,years:r})},subscribeFeed:function(t){return s.updateChartsSubscription(a.getAtmosphereId(),[{aggregationPeriod:{name:"1mn",seconds:2592e3,intraday:!1},expansionBarsCount:0,extendedHours:!1,forexPriceField:"bid",id:this.get("requestID"),maxBarsCount:120,range:{name:"170 Years",duration:5375808e3,defaultAggregationPeriod:{name:"1mn",seconds:2592e3,intraday:!1}},studySubscription:[],subtopic:this.get("requestID"),symbol:t,updateInterval:300}])},unsubscribeFeed:function(){return s.unsubscribeCharts(a.getAtmosphereId(),[this.get("requestID")])},onWSFeed:function(t){if(c.isObject(t)&&t.historyRequestID===this.get("requestID")){var e=this.get("history"),n=t.data,i=[].concat(r(e),r(n));i=c.sortBy(i,"timestamp"),this.set({history:i,statusOfData:null},{silent:!0}),this.filter(),this.set("statusOfData",v,{trigger:!0})}},onStatusOfData:function(){switch(this.get("statusOfData")){case g:case m:return;case f:return void this.startWsDataTimeout();case b:return;case v:return void(this.stopWsDataTimeout()&&this.unsubscribeFeed())}},startWsDataTimeout:function(){var t=this;this.subscribeTimeoutId||(this.subscribeTimeoutId=setTimeout(function(){return t.set("statusOfData",b,{trigger:!0})},5e3))},stopWsDataTimeout:function(){if(this.subscribeTimeoutId)return clearTimeout(this.subscribeTimeoutId),this.subscribeTimeoutId=null,!0},getData:function(t){var e=this,n=this.get("months"),i=this.get("dataForYear"),r=this.get("instrumentStartTime"),o=t,s=c.max(i,function(t){return t.change}).change,a=c.min(i,function(t){return t.change}).change,l=Math.max(Math.abs(s),Math.abs(a)),h=c.first(i),p=c.filter(i,function(t){return 0!=t.change}),f=c.last(p)||0,m=0!=h.open?(f.close-h.open)/h.open*100:f.close,g=Math.abs(m),v=this._percent(m),b=this._direction(v),y=o?Math.max(g,l):l,_=g/y*100,w={originValue:m,zoomedPercent:_,reflectedAbsPercent:100-Math.abs(_),direction:b,percent:v,formatPercent:d(m).format("0,0[.]00")+"%"},S=c.map(i,function(t,i,o){var s=t.change,a=o[i-1],l=e._percent(s),c=e._direction(s),h=0!==y?l/y*100:0,p=n[i];c=void 0!==a&&a===l?"equally":c;var f=r.diff(u(t.date,"YYYY-MM-DD"))>0;return{originValue:s,direction:c,percent:l,zoomedPercent:h,formatPercent:d(l).format("0,0[.]00")+"%",reflectedAbsPercent:100-Math.abs(h),month:p+(f?"*":""),intDate:parseInt(u(t.date,"YYYY-MM-DD").format("YYYYMMDD"),10)}});if(!0===t){var E=parseInt(u().format("YYYYMMDD"),10);S=c.filter(S,function(t){return t.intDate<=E})}return{total:w,result:S}},_percent:function(t){return t>100?100:t<-100?-100:t},_direction:function(t){return t>0?"up":t<0?"down":"equally"}})}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(12),s=r.template(n(1528)),a=r.template(n(1529)),l=n(15);i.exports=o.extend({tag:"div",className:"tabs",events:function(){return r.extend({},r.result(o.prototype,"events"),{"click .nav li a":"switchTab"})},tabs:[],activeTabIndex:-1,initialize:function(t){this.options=t,o.prototype.initialize.apply(this,arguments),this.render(),this.setTabs(t.tabs);var e=this.getTabById(t.defaultTabId)||this.getFirstTab();this.setActiveTab(e)},setTabs:function(t){this.removeTabs(),this.tabs=r.map(t,function(t){return t.rendered=!1,t.active=!1,t},this),this.tabsMap={},this.createTabsMap()},removeTabs:function(){r.each(this.tabs,function(t){if(t.rendered&&t.viewInstance.destroy(),t.hasOwnProperty("submenu"))for(var e in t.submenu)t.submenu[e].rendered&&t.submenu[e].viewInstance.destroy(),t.submenu[e].active=!1,t.submenu[e].rendered=!1})},renderTabs:function(){this.$el.find(".nav").html(s({tabs:this.tabs}))},createTabsMap:function(){var t=this.tabs,e={};for(var n in t){e[t[n].id]=n}this.tabsMap=e,this.renderTabs()},changeTabStatus:function(t){var e=this.tabsMap[t],n=this.tabs[e].isExpand;this.tabs[e].isExpand=!n,this.renderTabs()},switchTab:function(t){t.preventDefault();var e=t.target.getAttribute("data-tab-id"),n=this.getTabById(e);n.submenu&&this.changeTabStatus(e),n.hasOwnProperty("view")&&n.view.prototype.beforeCreate()&&this.setActiveTab(n)},hideTabContentView:function(t){t.rendered&&(t.viewInstance.destroy(),t.rendered=!1)},showTabContentView:function(t){t.rendered||(t.viewInstance=new t.view(t.viewOptions),t.viewInstance.render(),t.rendered=!0,this.el.appendChild(t.viewInstance.el))},getFirstTab:function(){return r.first(this.tabs)},findTabDeep:function(t,e){for(var n in this.tabs){var i=this.tabs[n];if(i[t]&&i[t]===e)return i;if(i.submenu)for(var r in i.submenu){var o=i.submenu[r];if(o[t]&&o[t]===e)return o}}},getTabById:function(t){return this.findTabDeep("id",t)},getTabByUrl:function(t){return this.findTabDeep("url",t)},setActiveTabById:function(t){return this.setActiveTab(this.getTabById(t)),this},setActiveTab:function(t){if(l.mobile()||!t||!t.active){var e=this.getActiveTab();e&&(this.hideTabContentView(e),e.active=!1),t.active=!0,this.showTabContentView(t),this.renderTabs(),r.isFunction(this.options.onTabChange)&&this.options.onTabChange(t)}},getActiveTab:function(){return this.findTabDeep("active",!0)},updateCounter:function(t,e){var n=this.$el.find('[data-counter-id="'+t+'"]');if(e>0)return n.css("display","inline-block"),void n.html(e);n.css("display","none")},render:function(){o.prototype.render.call(this),this.$el.html(a())},destroy:function(){this.removeTabs(),o.prototype.destroy.call(this)}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(12),o=n(7),s=n(2),a=n(10),l=a.BUY,c=a.SELL,u=n(0);i.exports=r.extend({className:"insights insights-analysts",template:u.template(n(1704)),events:function(){return this.addEvents(r)({"click .fn-buy":"buy","click .fn-sell":"sell","click .expander":"toggleList"})},initialize:function(t){r.prototype.initialize.apply(this,arguments)},render:function(){r.prototype.render.call(this);var t=this.options.template||this.template,e=this.model.getAnalystList();return e.stock&&this.$el.html(t({formatRecommendationDate:this.model.formatRecommendationDate,currency:o.getUserCurrencySymbol(),stock:e.stock,recommendations:e.recommendations,analysts:e.analysts,priceTargetGraph:this.model.getPriceTargetGraph()})),this},buy:function(){s.trigger("ui:new-position",{direction:l,symbolOrId:this.model.get("instrumentSymbol")})},sell:function(){s.trigger("ui:new-position",{direction:c,symbolOrId:this.model.get("instrumentSymbol")})},toggleList:function(){var t=this.$(".insights__list"),e=this.$(".insights__list-column-name"),n=this.$(".expander");t.hasClass("hidden")?(t.removeClass("hidden"),e.removeClass("hidden"),n.removeClass("expander__close")):(t.addClass("hidden"),e.addClass("hidden"),n.addClass("expander__close"))}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var r=n(12),o=n(5),s=n(3),a=n(2),l=n(0),c=n(6);i.exports=r.extend({className:"insights insights-events insights__events--compact",template:l.template(n(1705)),events:function(){return this.addEvents(r)({"click .icon-google":"addToGoogleCalendar","click .icon-outlook":"addToOutlook","click .fn-details":"onDetails","click .insights__more":"clickOnMore"})},render:function(){r.prototype.render.call(this);var t=this.options.template||this.template,e=this.model.getEventsList();return l.isEmpty(e)||this.$el.html(t({items:e})),this},_parseIdFromEvent:function(t){return o(t.currentTarget).attr("data-event-id")},_getEvent:function(t){return this.model.getEvents().findWhere({event_uid:Number(t)})},addToGoogleCalendar:function(t){var e=this._parseIdFromEvent(t),n=this._getEvent(e),i=s(n.getTime()).utc().format("YYYYMMDDTHHmmss"),r="https://www.google.com/calendar/r/eventedit?text="+n.getName()+"&dates="+i+"/"+i+"&ctz=UTC";window.open(r,"_blank")},onDetails:function(t){var e=this._parseIdFromEvent(t),n=this._getEvent(e),i=String(this.model.get("instrumentSymbol")).replace("/","");n&&a.navigate("events-and-trade/"+n.get("event_type_code")+"/"+i)},clickOnMore:function(){var t=this.$(".more"),e=this.$(".insights__more b");t.hasClass("more--compact")?(t.removeClass("more--compact"),e.html(__("close"))):(t.addClass("more--compact"),e.html(__("indigo.notification.box.more")))},addToOutlook:function(t){var e=this._parseIdFromEvent(t),n=this._getEvent(e);c.downloadICSReminder(n.getCountryCode(),n.get("event_type_code")).then(function(t){return window.open("data:text/calendar;charset=utf8,"+escape(t))})}})}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(12),s=n(3),a=n(31);r.exports=o.extend({className:"insights insights-insiders",template:i.template(n(1706)),initialize:function(t){o.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:statusOfInsiderDetails",this.renderChart)},render:function(){o.prototype.render.call(this);var t=this.model,e=this.options.template||this.template,n=t.getInsider();return n&&this.$el.html(e({insider:n,moment:s,numbro:a})),this}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(12),o=(n(7),n(2)),s=n(372),a=n(10),l=a.BUY,c=a.SELL,u=n(0);i.exports=r.extend({className:"insights insights-bloggers",template:u.template(n(1707)),events:function(){return this.addEvents(r)({"click .fn-buy":"buy","click .fn-sell":"sell","click .expander":"toggleList"})},initialize:function(t){r.prototype.initialize.apply(this,arguments)},render:function(){r.prototype.render.call(this);var t=this.options.template||this.template,e=this.model.getBloggersList();return e.stock&&this.$el.html(t({bloggersDateDiff:this.model.bloggersDateDiff,getBloggerPicture:this.model.getBloggerPicture,stock:e.stock,bloggers:e.bloggers})),s(this.$el.find(".opinion-distribution .content")[0],e.stock.sites),this},buy:function(){o.trigger("ui:new-position",{direction:l,symbolOrId:this.model.get("instrumentSymbol")})},sell:function(){o.trigger("ui:new-position",{direction:c,symbolOrId:this.model.get("instrumentSymbol")})},toggleList:function(){var t=this.$(".insights__list"),e=this.$(".insights__list-column-name"),n=this.$(".expander");t.hasClass("hidden")?(t.removeClass("hidden"),e.removeClass("hidden"),n.removeClass("expander__close")):(t.addClass("hidden"),e.addClass("hidden"),n.addClass("expander__close"))}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(12),s=(n(7),n(2),n(717)),a=n(31),l=n(15),c=n(3);r.exports=o.extend({className:"insights insights-hedgefunds",template:i.template(n(1708)),events:function(){return this.addEvents(o)({"click .fn-buy":"buy","click .fn-sell":"sell","click .expander":"toggleList"})},initialize:function(t){o.prototype.initialize.apply(this,arguments)},render:function(){var t=this;o.prototype.render.call(this);var e=this.options.template||this.template;return this.data=this.model.getHedgefunds().dataOfHedgefunds[0],this.$el.html(e({data:this.data,trendDir:this.getTrendDir(),trend:this.getTrend(),signalDir:this.getSignalDir(),summaryBar:this.getInstitutionalHoldingSummaryBar(),summaryBarAxis:this.getInstitutionalHoldingSummaryBarAxis()})),l.mobile()||setTimeout(function(){return s(t.$el.find(".hedgefunds-holdings-graph .content")[0],t.data.institutionalHoldingSummary,t.data.stockPrices,null,160,20,5)},500),this},getTrendDir:function(){var t=this.data.institutionalHoldingSummary,e=t.length,n=t[e-1].h-t[e-2].h;return n>0?"Increased":n<0?"Decreased":""},getTrend:function(){var t=this.data.institutionalHoldingSummary.length;return a(this.data.institutionalHoldingSummary[t-1].h).format("0a").toUpperCase()},getSignalDir:function(){return this.data.rating.indexOf("Positive")>-1?"positive":this.data.rating.indexOf("Negative")>-1?"negative":"neutral"},getInstitutionalHoldingSummaryBar:function(){var t=this.data.institutionalHoldingSummary,e=i.max(t,function(t){return t.h});return i.map(t,function(t){return[c(t.l).format("MMM, D Y"),t.h/e.h*100]})},getInstitutionalHoldingSummaryBarAxis:function(){var t=this.data.institutionalHoldingSummary,e=i.max(t,function(t){return t.h}).h;return i.map([.25,.5,.75,1],function(t){return a(t*e).format("2a").toUpperCase()})},toggleList:function(){var t=this.$(".insights__list"),e=this.$(".insights__list-column-name"),n=this.$(".expander");t.hasClass("hidden")?(t.removeClass("hidden"),e.removeClass("hidden"),n.removeClass("expander__close")):(t.addClass("hidden"),e.addClass("hidden"),n.addClass("expander__close"))}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(12),o=n(0);i.exports=r.extend({className:"insights insights-news-sentiment",template:o.template(n(1709)),initialize:function(t){r.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:statusOfNewsSentimentDetails",this.renderChart)},render:function(){r.prototype.render.call(this);var t=this.model,e=this.options.template||this.template;return this.item=t.getNewsSentiment().dataOfNewsSentiment,this.$el.html(e({item:this.item,score:this.scoreDir()})),this},scoreDir:function(){var t=this.item.newsScore.toLowerCase();return t.indexOf("positive")>-1?"positive":t.indexOf("negative")>-1?"negative":"neutral"}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i=n(0),r=n(13),o=n(14),s=n(6),a=n(428),l=a.EMPTY,c=a.PENDING,u=a.SUCCESS,d=a.ERROR,h=n(2),p=n(10),f=p.SIGNALS_SERVICES,m=r.extend({defaults:function(){return{status:l,data:[]}},initialize:function(){var t=this;this.signalsServices={},h.on("ui:updated-signals-services",function(e){t.signalsServices=e,t.getItems()})},load:function(){var t=this.control("status");t(c),s.loadSignals().then(function(e){return t(u,{data:e.data})}).catch(function(e){return t(d)})},getItems:function(){var t={hedgefunds:__("signals.hedgefunds"),analysts:__("signals.analysts"),bloggers:__("signals.bloggers"),insiders:__("signals.insiders")},e={"Positive Sentiment":__("bloggers.bullish"),Bearish:__("bloggers.bearish"),Bullish:__("bloggers.bullish"),"Negative Sentiment":__("bloggers.bearish"),StrongBuy:__("bloggers.bullish"),StrongSell:__("bloggers.bearish"),Sell:__("bloggers.bearish"),Hold:__("tipranks.neutral"),Buy:__("bloggers.bullish"),Neutral:__("tipranks.neutral"),"Neutral Sentiment":__("tipranks.neutral")},n=[this.signalsServices.isSignalsAnalystsAvailable&&f.ANALYSTS,this.signalsServices.isSignalsInsidersAvailable&&f.INSIDERS,this.signalsServices.isSignalsHedgefundsAvailable&&f.HEDGEFUNDS,this.signalsServices.isSignalsBloggersAvailable&&f.BLOGGERS];n=i.filter(n,function(t){return t});var r=this.get("data"),s=i.filter(r,function(t){return o.getInstrumentBySymbol(t.symbol)&&-1!==i.indexOf(n,t.source)});return i.map(s,function(n){return n.displayName=o.getInstrumentBySymbol(n.symbol).getDisplayName(),n.source=t[n.source]||n.source,n.signalName=e[n.signal]||n.signal,n})},isEmpty:function(){return i.isEmpty(this.getItems())}});t.exports=new m},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return{init:function(){t(Object(u.b)())},deinit:function(){t(Object(u.a)())}}}n.d(e,"a",function(){return v});var a=n(1),l=n.n(a),c=n(8),u=n(794),d=n(118),h=n(159),p=n(288),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),m=Object(h.a)(function(){return n.e(23).then(n.bind(null,1925))}),g=Object(h.a)(function(){return n.e(22).then(n.bind(null,1926))});n(817),e.b=Object(c.connect)(null,s)(function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),f(e,[{key:"componentDidMount",value:function(){this.props.init()}},{key:"componentWillUnmount",value:function(){this.props.deinit()}},{key:"render",value:function(){return l.a.createElement("div",{className:"acuity__popup flex flex-stretch popup popup-translucent-1"},l.a.createElement(d.default,{minWidth:770},l.a.createElement(m,this.props)),l.a.createElement(d.default,{maxWidth:769},l.a.createElement(g,this.props)))}}]),e}(l.a.PureComponent));var v=function(){return l.a.createElement("div",{className:"pane pane__fluid flex-valign-center flex-align-center"},l.a.createElement(p.a,null))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=n(7),r=n.n(i),o="multicharts.pending_charts",s={ADDED:1,VIEWED:2};e.default={isStatusNew:function(){return!r.a.getUserCommonData().getMultiChartsPendingStatus()},isStatusAdded:function(){return r.a.getUserCommonData().getMultiChartsPendingStatus()===s.ADDED},setStatus:function(t){return r.a.getUserCommonData().saveMultiChartsPendingStatus(t)},getAll:function(){return JSON.parse(localStorage.getItem(o))||[]},add:function(t){var e=JSON.parse(localStorage.getItem(o))||[];e.push(t),localStorage.setItem(o,JSON.stringify(e)),this.isStatusNew()&&this.setStatus(s.ADDED),this.updateUI()},view:function(){this.isStatusAdded()&&this.setStatus(s.VIEWED),this.updateUI()},clear:function(){localStorage.removeItem(o)},updateUI:function(){var e=JSON.parse(localStorage.getItem(o))||[];this.isStatusAdded()&&e.length>0?t("html").addClass("multicharts-pending"):t("html").removeClass("multicharts-pending")}}}.call(e,n(5))},function(t,e,n){var i;void 0!==(i=function(t,e,n){var i=Object.freeze({MARKETS:"markets",TRADE:"trade",FINEXO:"finexo",CFD_GLOBAL:"cfdglobal",FOREX_4_GROUP:"forex4group",CLICK_TRADES:"clicktrades",TRADE_TECH_DEMO:"TradeTech",FINQ:"finq",GLOBTREX:"globtrex"});n.exports={BRAND:i}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,n){n.exports={PENDING:0,APPROVED:1,REJECTED:2,EXPIRED:4,IN_PROCESS:5,PENDING_EXPIRATION:6}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(76),s=o.extend({events:function(){return i.extend({},i.result(o.prototype,"events"),{"input textarea":"onChange","change textarea":"onChange"})},initialize:function(t){this.$textarea=this.$el.find("textarea"),o.prototype.initialize.apply(this,arguments),this.setName(this.$el.find("textarea").attr("name")),this.$textarea[0].onfocus=this.onFocus.bind(this),this.$textarea[0].onblur=this.onBlur.bind(this),i.isEmpty(this.value())&&this.setDefaultValue()},setEvent:function(t,e){this.$textarea[0][t]=e.bind(this)},getDefaultValue:function(){return this.$textarea.attr("default-value")},isDefaultValue:function(){return this.value()===this.getDefaultValue()},isEmpty:function(){return i.isEmpty(this.value())||this.isDefaultValue()},onFocus:function(t){this.isDefaultValue()&&this.value(""),this.$el.removeClass("field-error"),this.hideTooltip()},validate:function(t){return o.prototype.validate.call(this)},onBlur:function(t){if(this.isEmpty()){var e=this.getDependentFields();if(i.isEmpty(e))return this.validate(),this.$el.addClass("field-error"),void this.showTooltip();this.disable(),i.each(e,function(t){t.setDefaultValue(),t.enable(),"none"===t.$el.css("display")&&t.$el.css("display","block")})}},disableElement:function(){this.setDefaultValue(),this.$el.addClass("field-disabled"),this.$el.find("textarea").attr("disabled",!0)},enableElement:function(){this.$el.removeClass("field-disabled"),this.$el.find("textarea").removeAttr("disabled")},focus:function(){setTimeout(function(){this.$textarea[0].focus()}.bind(this),1)},value:function(t){var e=this.$el.find("textarea");if(void 0===t)return e.val();e.val(t)}});r.exports=s}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,n){var i=Object.freeze({SAFECAP_LTD:"safecap_ltd",STA_GLOBAL:"sta_global",PRELIUM_LTD:"prelium_ltd"});n.exports={MARKETS_COMPANY:i}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){t.exports=n.p+"images/e405f868ba7b.png"},function(t,e,n){t.exports=n.p+"images/476e57053b36.png"},function(t,e,n){t.exports=n.p+"images/62d927bd2781.png"},function(t,e,n){t.exports=n.p+"images/0436c246e84c.png"},function(t,e,n){t.exports=n.p+"images/a05e2e3ac11b.png"},function(t,e,n){t.exports=n.p+"images/b0f1d4edab3a.png"},function(t,e,n){t.exports=n.p+"images/e70509141693.png"},function(t,e,n){t.exports=n.p+"images/99027bdb87e9.png"},function(t,e,n){t.exports=n.p+"images/07103ab584bc.png"},function(t,e,n){t.exports=n.p+"images/2015fcf00aa6.png"},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(424),o=(n(0),n(6)),s=n(420),a=s.EMPTY,l=(s.LOADING,s.ERROR),c=s.SUCCESS,u=s.PROCESSING;i.exports=r.extend({defaults:function(){return{statusOfMetaTraderAccounts:a,statusOfLeverageChange:a}},initialize:function(){r.prototype.initialize.apply(this,arguments),this.loadMetaTraderAccounts()},changeLeverage:function(t,e){var n=this.status("statusOfLeverageChange");if(n(u),!t||!e)return n(l);var i={accountId:t,leverage:e};o.changeMetaTraderLeverage(i).then(function(t){return n(c)}).catch(function(t){n(l)})},reloadMetaTraderAccounts:function(){this.loadMetaTraderAccounts()}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i=n(105);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(t,e,n){var i=n(181),r=n(67)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},function(t,e,n){var i=n(67)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:n=!0}},o[i]=function(){return s},t(o)}catch(t){}return n}},function(t,e,n){t.exports={default:n(1799),__esModule:!0}},,function(t,e,n){"use strict";function i(t){var e=function(t,e){return t<<e|t>>>32-e},n=function(t){var e="",n=void 0,i=void 0;for(n=7;n>=0;n--)i=t>>>4*n&15,e+=i.toString(16);return e},i=void 0,r=void 0,o=void 0,s=[],a=1732584193,l=4023233417,c=2562383102,u=271733878,d=3285377520,h=void 0,p=void 0,f=void 0,m=void 0,g=void 0,v=void 0,b=void 0,y=[];for(t=unescape(window.encodeURIComponent(t)),b=t.length,r=0;r<b-3;r+=4)o=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),y.push(o);switch(3&b){case 0:r=2147483648;break;case 1:r=t.charCodeAt(b-1)<<24|8388608;break;case 2:r=t.charCodeAt(b-2)<<24|t.charCodeAt(b-1)<<16|32768;break;case 3:r=t.charCodeAt(b-3)<<24|t.charCodeAt(b-2)<<16|t.charCodeAt(b-1)<<8|128}for(y.push(r);14!=(15&y.length);)y.push(0);for(y.push(b>>>29),y.push(b<<3&4294967295),i=0;i<y.length;i+=16){for(r=0;r<16;r++)s[r]=y[i+r];for(r=16;r<=79;r++)s[r]=e(s[r-3]^s[r-8]^s[r-14]^s[r-16],1);for(h=a,p=l,f=c,m=u,g=d,r=0;r<=19;r++)v=e(h,5)+(p&f|~p&m)+g+s[r]+1518500249&4294967295,g=m,m=f,f=e(p,30),p=h,h=v;for(r=20;r<=39;r++)v=e(h,5)+(p^f^m)+g+s[r]+1859775393&4294967295,g=m,m=f,f=e(p,30),p=h,h=v;for(r=40;r<=59;r++)v=e(h,5)+(p&f|p&m|f&m)+g+s[r]+2400959708&4294967295,g=m,m=f,f=e(p,30),p=h,h=v;for(r=60;r<=79;r++)v=e(h,5)+(p^f^m)+g+s[r]+3395469782&4294967295,g=m,m=f,f=e(p,30),p=h,h=v;a=a+h&4294967295,l=l+p&4294967295,c=c+f&4294967295,u=u+m&4294967295,d=d+g&4294967295}return v=n(a)+n(l)+n(c)+n(u)+n(d),v.toLowerCase()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(45),s=n(13),a=n(134),l=n(119),c=s.extend({defaults:{cancelled:[],rejected:[],filterAll:[]},bufferCollection:null,initialize:function(){this.bufferCollection=new o,this.bufferCollection._map={}},_getInstrumentProperty:function(t,e){return i.isFunction(t.get)?t.get(e):t[e]},_mappingOrderModel:function(t){var e=t.instrument,n=l.user;return{quantity:t.quantity,side:t.side,type:t.type,createdTime:n.applyOffsetToTimestamp(t.entryTime),modifiedTime:n.applyOffsetToTimestamp(t.closedTime),lastExecutionStatus:t.status,orderChainId:t.orderId,stopPrice:t.entryPrice,stopLimitPrice:t.exitPrice,statusDescription:t.rejectReason.key,statusDescriptionParams:t.rejectReason.parameters,name:this._getInstrumentProperty(e,"name")||this._getInstrumentProperty(e,"displayName"),symbol:this._getInstrumentProperty(e,"symbol"),precision:this._getInstrumentProperty(e,"precision")}},_filterData:function(t){var e=[];return i.each(t,function(t){order=this.bufferCollection._map[t],i.isUndefined(order)||(order=this._mappingOrderModel(order),e.push(order))},this),e},cancelledFilterData:function(t){var e=this._filterData(t);this.set("cancelled",e,{silent:!0}),this.trigger("change",this)},rejectedFilterData:function(t){var e=this._filterData(t);this.set("rejected",e,{silent:!0}),this.trigger("change",this)},allFilterData:function(t){var e=this._filterData(t);this.set("filterAll",e,{silent:!0}),this.trigger("change",this)},fillBuffer:function(t){t.edited.length>0&&i.each(t.edited,function(t){var e=this.get(t.orderId);if(e)e=t;else{var n=a.getInstrumentById(t.instrument.instrumentId);n&&(t.instrument=n),this.add(t),this._map[t.orderId]=t}},this.bufferCollection)}});r.exports=new c}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(45),o=n(13),s=n(134),a=n(119),l=n(0),c=o.extend({defaults:{filtered:[],filterAll:[]},bufferCollection:null,closeReasons:{},initialize:function(){l.each(["DEALER","CUSTOMER","LIMIT","MARGINCALL","STOP","SYSTEM","UNDEFINED","EXPIRED"],function(t){this.closeReasons[t]=__("history.position.close.reason."+t.toLowerCase())},this),this.bufferCollection=new r,this.bufferCollection._map={}},_getInstrumentProperty:function(t,e){return l.isFunction(t.get)?t.get(e):t[e]},_mappingClosedPositionModel:function(t){var e=t.instrument,n=a.user;return{side:t.quantity>0?"SELL":"BUY",quantity:t.quantity,plOpen:t.plOpen,openPrice:t.openPrice,closePrice:t.closePrice,openTime:n.applyOffsetToTimestamp(t.openTime),closeTime:n.applyOffsetToTimestamp(t.closeTime),openOrderChainId:t.openOrderChainId,orderChainId:t.closingOrderId,closeReason:this.closeReasons[t.closeReason]||t.closeReason,name:this._getInstrumentProperty(e,"name"),symbol:this._getInstrumentProperty(e,"symbol"),precision:this._getInstrumentProperty(e,"precision")}},_filterData:function(t){return l.chain(t).filter(function(t){return this.bufferCollection._map[t]},this).compact().map(function(t){return this._mappingClosedPositionModel(this.bufferCollection._map[t])},this).value()},filteredData:function(t){var e=this._filterData(t);this.set("filtered",e,{silent:!0}),this.trigger("change",this)},allFilterData:function(t){var e=this._filterData(t);this.set("filterAll",e,{silent:!0}),this.trigger("change",this)},fillBuffer:function(t){t.edited.length>0&&l.each(t.edited,function(t){var e=this.get(t.closingOrderId);if(e)e=t;else{var n=s.getInstrumentById(t.instrument.instrumentId);n&&(t.instrument=n),this.add(t),this._map[t.closingOrderId]=t}},this.bufferCollection)}});i.exports=new c}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"b",function(){return o});var i="instruments/LOAD_ANALYST_RESEARCH_REPORT",r="instruments/LOAD_ANALYST_RESEARCH_REPORT_SUCCESS",o="instruments/LOAD_ANALYST_RESEARCH_REPORT_ERROR"},function(t,e,n){(function(i){var r,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};void 0!==(r=function(t,e,i){var r=n(0),s=n(13),a=n(6),l=n(22),c=n(2),u=n(14),d=n(808),h=n(3),p=n(7),f=n(370),m=(n(281),{ASK:"ask",BID:"bid"}),g=s.extend({defaults:function(){return{counter:0,candles:[],loaded:!1,timeout:5e3}},createId:function(t,e,n){return r.uniqueId((t||r.now())+"_"+e+"_"+n+"_")},getInstrument:function(){return this.get("instrument")},getRangeStart:function(){return this.get("rangeStart")},setRangeStart:function(t){return this.set("rangeStart",t)},initialize:function(){var t=u.getInstrumentBySymbol(this.get("settings").symbol);if(t){this.set("instrument",t);var e=t.getBasket();r.isObject(e)&&e.instrumentStartTime&&this.set("instrumentStartTime",+h.parseZone(e.instrumentStartTime))}},updateSettings:function(){},clearTimeout:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){this.loadingTimeout&&(clearTimeout(this.loadingTimeout),this.loadingTimeout=null)}),createTimeout:function(){var t=this;this.loadingTimeout=setTimeout(function(){return t.timeout()},this.get("timeout"))},start:function(t){var e=this;this.set("candles",[]),this.set("loaded",!1);var n=this.get("settings"),i=this.set("counter",this.get("counter")+1).get("counter"),r=this.createId(this.get("chartId"),n.symbol,i);if(n.id=r,n.subtopic=r,this.get("range")){var o=d.getRangeSettings(this,t);o&&(n.maxBarsCount=o.count,this.setRangeStart(o.start))}return this.listenTo(c,"stream:type:chartFeedSubtopic",this.handleFeed),this.active=!0,this.trigger("start"),this.clearTimeout(),this.createTimeout(),a.updateChartsSubscription(l.getAtmosphereId(),[n],this.get("unsubscribeId")?[this.get("unsubscribeId")]:[]).then(function(){e.active||a.unsubscribeCharts(l.getAtmosphereId(),[r])}),this},stop:function(){this.active=!1,this.clearTimeout(),this.stopListening(c,"stream:type:chartFeedSubtopic",this.handleFeed),a.unsubscribeCharts(l.getAtmosphereId(),[this.getId()]),this.trigger("stop")},timeout:function(){this.active=!1,this.stopListening(c,"stream:type:chartFeedSubtopic",this.handleFeed),a.unsubscribeCharts(l.getAtmosphereId(),[this.getId()]),this.trigger("timeout"),__eventos("tradingPlatform:chart:timeout",{chartId:this.getId(),symbol:this.getSettings().symbol,period:this.getSettings().aggregationPeriod.name},!0)},getId:function(){return this.get("settings").id},handleFeed:function(t){var e=t.historyRequestID,n=t.historyData,i=t.data;if(this.active&&e===this.getId()){var o=this.get("candles"),s=this.get("instrumentStartTime"),a=this.getRangeStart()||0;r.each(i,function(t){var e=t.timestamp;if(!(e<s||e<a)){var n=(r.last(o)||{}).timestamp;if(e===n)o[o.length-1]=t;else if(e<n){var i=r.sortedIndex(o,t,"timestamp");o[i].timestamp===t.timestamp?o[i]=t:o.splice(i,0,t)}else o.push(t)}}),n?(this.clearTimeout(),this.set("loaded",!0),this.trigger("load",o)):this.get("loaded")&&this.trigger("update",i)}},getSettings:function(){return this.get("settings")},getCandles:function(){return this.get("candles")},getFirstCandle:function(){return r.first(this.getCandles())},getLastCandle:function(){var t=r.findLastIndex(this.getCandles(),{expansion:!1});return this.getCandles()[t]},changeRangeStart:function(t){var e=this.get("candles"),n=r.findIndex(e,function(e){return e.timestamp>=t});n>0&&e.splice(0,n),this.setRangeStart(t),this.trigger("load",e)}},{create:function(t){var e=t.chartId,n=t.indicators,i=t.maxBarsCount,r=t.period,s=t.price,a=t.range,l=t.symbol,c=t.timeout,u=t.unsubscribeId,d=!!a,h=!!r;if(d||h){a=a?f[a]||f["1d"]:this.getRangeByPeriod(r),r=r?this.getPeriod(r):this.getPeriod(a.request.period);var p={aggregationPeriod:r,expansionBarsCount:0,extendedHours:!1,forexPriceField:s||m.BID,id:void 0,maxBarsCount:i||400,range:{duration:a.request&&a.request.duration||a.duration},studySubscription:n,subtopic:void 0,symbol:l,updateInterval:300};return new g(o({chartId:e,settings:p,timeout:c,unsubscribeId:u},d?{range:a}:{},h?{period:r}:{}))}},getRangeByPeriod:function(t){return r.find(p.getUserCommonData().getPeriodRangePairs(),function(e){return e.aggregationPeriod.name===t}).range},getPeriod:function(t){return r.findWhere(p.getUserCommonData().getPeriods(),{name:t})}});i.exports=g}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0!==(o=function(t,e,o){var a=n(2),l=n(52).startWith,c="stop",u=function(){function t(e,n,o){r(this,t),i.isArray(o)?this.events=o:this.events=[String(o)],this.time=e,this.source=n,this.status=c,this.timerId=null,this.resetTimer=this.resetTimer.bind(this),this.handleEvent=this.handleEvent.bind(this)}return s(t,[{key:"init",value:function(){var t=this;this.status="active","platform"===this.source?this.events.forEach(function(e){document.addEventListener(e,t.resetTimer)}):a.on("all",this.handleEvent),this.timerId=setInterval(this.action.bind(this),this.time)}},{key:"handleEvent",value:function(t){var e=this;this.events.forEach(function(n){l(n,t)&&e.resetTimer()})}},{key:"stop",value:function(){var t=this;this.status=c,"platform"===this.source?this.events.forEach(function(e){document.removeEventListener(e,t.resetTimer)}):a.off(null,this.handleEvent),clearInterval(this.timerId)}},{key:"action",value:function(){a.trigger("user:inactivity:idle",{source:this.source})}},{key:"resetTimer",value:function(){clearInterval(this.timerId),this.status!==c&&(this.timerId=setInterval(this.action.bind(this),this.time))}}]),t}();o.exports=u}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){function r(t,e){s.trigger("eventos",a+":"+l+":"+t,e)}var o=n(13),s=n(2),a="onBoardFlow",l="registrationWizard",c=o.extend({trackSuccessClientRegistration:function(){r("clientRegisterSuccess")},trackCloseRegistrationForm:function(){r("clkClose")},trackDisplayRegistrationStep:function(t){r("step"+t+"Display")},trackNextRegistrationStep:function(t){r("step"+t+"Next")},trackPreviousRegistrationStep:function(t){r("step"+t+"Previous")}});i.exports=new c}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){function r(t){function e(t,e){return t.key===l?-1:e.key===l?1:s.mobile()||s.tablet()?t.value.localeCompare(e.value):t.name.localeCompare(e.name)}var n=function(t,e){return t.sort(e)}(c.map(t,function(t){return{name:__("country.name."+t.code),code:t.code.toLowerCase(),value:t.phoneCode}}),e);return n=c.filter(n,function(t){return"0"!==t.value}),(s.mobile()||s.tablet())&&(n=c.uniq(n,"value")),n}var o={AC:["247"],AD:["376"],AE:["971"],AF:["93"],AG:["1268"],AI:[],AL:["355"],AM:["374"],AN:[],AO:["244"],AQ:["672"],AR:["54"],AS:["1684"],AT:["43"],AU:["61"],AW:["297"],AX:["358"],AZ:["994"],BA:["387"],BB:["1246"],BD:["880"],BE:["32"],BF:["226"],BG:["359"],BH:["973"],BI:["257"],BJ:["229"],BL:["590"],BM:["1441"],BN:["673"],BO:["591"],BQ:[],BR:["55"],BS:["1242"],BT:["975"],BU:[],BV:[],BW:["267"],BY:[],BZ:["501"],CA:["1"],CC:["61"],CD:["243"],CF:["236"],CG:["242"],CH:["41"],CI:["225"],CK:["682"],CL:["56"],CM:["237"],CN:["86"],CO:["57"],CP:[],CR:["506"],CS:[],CT:[],CU:["53"],CV:["238"],CW:["599"],CX:["61"],CY:["357"],CZ:["420"],DD:[],DE:["49"],DG:[],DJ:["253"],DK:["45"],DM:["1767"],DO:["1809","1829","1849"],DY:[],DZ:["213"],EA:[],EC:["593"],EE:["372"],EG:["20"],EH:["212"],ER:["291"],ES:["34"],ET:["251"],EU:["388"],FI:["358"],FJ:["679"],FK:["500"],FM:["691"],FO:["298"],FQ:[],FR:["33"],FX:["241"],GA:["241"],GB:["44"],GD:["473"],GE:[],GF:["594"],GG:["44"],GH:["233"],GI:["350"],GL:["299"],GM:["220"],GN:["224"],GP:["590"],GQ:["240"],GR:["30"],GS:[],GT:["502"],GU:["1671"],GW:["245"],GY:["592"],HK:["852"],HM:[],HN:["504"],HR:["385"],HT:["509"],HU:["36"],HV:[],IC:[],ID:["62"],IE:["353"],IL:["972"],IM:["44"],IN:["91"],IO:["246"],IQ:["964"],IR:["98"],IS:["354"],IT:["39"],JE:["44"],JM:["1876"],JO:["962"],JP:["81"],JT:[],KE:["254"],KG:["996"],KH:["855"],KI:["686"],KM:["269"],KN:["1869"],KP:["850"],KR:["82"],KW:["965"],KY:["1345"],KZ:["7","76","77"],LA:["856"],LB:["961"],LC:["1758"],LI:["423"],LK:["94"],LR:["231"],LS:["266"],LT:["370"],LU:["352"],LV:["371"],LY:["218"],MA:["212"],MC:["377"],MD:["373"],ME:["382"],MF:["590"],MG:["261"],MH:["692"],MI:[],MK:["389"],ML:["223"],MM:["95"],MN:["976"],MO:["853"],MP:["1670"],MQ:["596"],MR:["222"],MS:["1664"],MT:["356"],MU:["230"],MV:["960"],MW:["265"],MX:["52"],MY:["60"],MZ:["258"],NA:["264"],NC:["687"],NE:["227"],NF:["672"],NG:["234"],NH:[],NI:["505"],NL:["31"],NO:["47"],NP:["977"],NQ:[],NR:["674"],NT:[],NU:["683"],NZ:["64"],OM:["968"],PA:["507"],PC:[],PE:["51"],PF:["689"],PG:["675"],PH:["63"],PK:["92"],PL:["48"],PM:["508"],PN:["872"],PR:["1787","1939"],PS:["970"],PT:["351"],PU:[],PW:["680"],PY:["595"],PZ:[],QA:["974"],RE:["262"],RH:[],RO:["40"],RS:["381"],RU:["7","73","74","78"],RW:["250"],SA:["966"],SB:["677"],SC:["248"],SD:["249"],SE:["46"],SG:["65"],SH:["290"],SI:["386"],SJ:["47"],SK:[],SL:["232"],SM:["378"],SN:["221"],SO:["252"],SR:["597"],SS:["211"],ST:["239"],SU:[],SV:["503"],SX:["1721"],SY:["963"],SZ:["268"],TA:["290"],TC:["1649"],TD:["235"],TF:[],TG:["228"],TH:["66"],TJ:["992"],TK:["690"],TL:["670"],TM:["993"],TN:["216"],TO:["676"],TP:[],TR:["90"],TT:["1868"],TV:["688"],TW:["886"],TZ:["255"],UA:["380"],UG:["256"],UK:[],UM:["1"],US:["1"],UY:["598"],UZ:["998"],VA:["379","39"],VC:["1784"],VD:[],VE:["58"],VG:["1284"],VI:["1340"],VN:["84"],VU:["678"],WF:["681"],WK:[],WS:["685"],XK:["383"],YD:[],YE:["967"],YT:["262"],YU:[],ZA:["27"],ZM:["260"],ZR:[],ZW:["263"]},s=n(15),a=n(10),l=a.EMPTY,c=n(0);i.exports.getPhoneCodesByCountryCode=function(t){return o[t]},i.exports.getCountriesPhoneCodes=r}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){function r(t){c.trigger("eventos",u+":"+d+":"+h,t)}function o(t){return null!=t?"1:"+t:"undefined"}function s(t,e){return{oldLeverage:o(t),newLeverage:o(e),viewSource:p}}function a(t,e){return{oldLeverage:o(t),newLeverage:o(e),viewSource:f}}var l=n(13),c=n(2),u="tradingPlatform",d="accountSettings",h="clientLeverageChanged",p="registrationWizard",f="accountSettings",m=l.extend({trackRegistrationLeverageChange:function(t,e){r(s(t,e))},trackAccountSettingsLeverageChange:function(t,e){r(a(t,e))}});i.exports=new m}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(2),s=n(24),a=r.template(n(1513)),l=r.template(n(1514)),c=n(70),u=n(97),d=u.ERROR,h=u.SUCCESS,p=/^(0|[1-9]\d*)(\.|\.\d{1,2})?$/i,f=s.extend({name:"first-deposit-popup",events:function(){return r.extend({},r.result(s.prototype,"events"),{"click .fn-submit":"onSubmit","click .fn-cancel":"onClose"})},initialize:function(t){this.options=t,s.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:status",this.onStatusChange),o.trigger("ui:loading")},render:function(){return o.trigger("ui:loading:hide"),s.prototype.render.call(this),this.setContent(a()),this.$el.addClass("deposit-manual-popup").find(".content").html(l({userCurrencySymbol:this.model.getCurrencySymbol()})),this.initForm(),this},initForm:function(){this.form=new c({el:this.$el.find(".form")}),this.listenTo(this.form,"field:change:amount",this.onAmountChange),this.defineField()},defineField:function(){var t=this.form.field("amount"),e=this.model,n=this.getDefaultAmount(),i=e.getMinAmount(),r=e.getMaxAmount();t.value(n),t.setOptions({min:i,max:r}),t.setRules({min:[i,__("first_deposit.popup.amount.validate.range.min",i)],max:[r,__("first_deposit.popup.amount.validate.range.max",r)]})},onAmountChange:function(t){var e=t.value();e.length<=12&&p.test(e)?this.lastValidValue=e:(this.lastValidValue&&""!==e?this.lastValidValue:(this.lastValidValue="",0),""!==e&&t.value(this.lastValidValue))},onClose:function(){this.close()},getDefaultAmount:function(){return this.model.get("selectedAmount")||this.model.getDefaultAmount()},onSubmit:function(){var t=Number(this.form.field("amount").value());this.form.submit()||(this.model.set({amount:t}),this.close(),this.handleCallback("onSuccess"))},onStatusChange:function(){var t=this.model.get("status");return t==d?this.close():t==h?this.render():void 0},handleCallback:function(t){var e=this.options,n=r.isObject(e)&&e[t];r.isFunction(n)&&n()}});i.exports=f}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(260),o=n(97),s=n(7),a=o.ERROR,l=o.SUCCESS;i.exports=r.extend({initialize:function(){this.loadDepositAmountConfig()},update:function(){var t=this.toJSON(),e=t.statusOfDepositAmountConfig;e===a&&this.set("status",a),e===l&&this.set("status",l)},getCurrencySymbol:function(){return s.getUserCurrencySymbol()}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(13),o=n(0),s=n(7);i.exports=r.extend({initialize:function(){o.isEmpty(this.get("currency"))&&this.set("currency",s.getUserCurrency()),this.set("accountCurrencySymbol",__currency(this.get("currency"))),this.loadFirstDepositAmountSizes()},loadFirstDepositAmountSizes:function(){this.set(s.getUserAwardsModel().getDepositBonus(this.get("currency")))}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(0),s=n(80),a=n(2),l=n(31),c=n(7),u=n(97),d=n(9),h=n(56),p=o.template(n(1515)),f=u.CANCELLED,m=u.SELECTED,g=(u.PAY_GATE,u.MANUAL_SELECT_AMOUNT),v=s.extend({className:"first-deposit-bonus",name:"first-deposit-bonus",events:function(){return o.extend({},o.result(s.prototype,"events"),{"click .fn-amount":"selectAmount","click #deposit-without-bonus":"depositWithoutBonus"})},initialize:function(){s.prototype.initialize.apply(this,arguments),a.trigger("ui:loading"),this.render()},render:function(){s.prototype.render.apply(this),a.trigger("ui:loading:hide");var t=this.getBonusesForRender();this.setContent(p({bonuses:t,isPopular:this.isPopular,isBiggest:this.isBiggest,isMarketsX:c.isPromotionMarketsX()&&!h.FIRST_DEPOSIT_MADE()}));var e=c.getUserCommonData();c.isPromotionMarketsX()&&!h.FIRST_DEPOSIT_MADE()&&(this.$el.find("i.icon-close-blue").removeClass("icon-close-blue").addClass("icon-marketsX-close-"+e.getAppTheme()),this.$el.addClass("marketsX-popup-deposit"))},selectAmount:function(t){var e=Number(r(t.currentTarget).attr("data-value"));d.isManualDepositAmountNeeded()&&-1===e?this.model.set({selectedAmount:e,status:g,bonusApplied:!0}):this.model.set({selectedAmount:e,status:m,bonusApplied:!0}),this.close()},depositWithoutBonus:function(){this.model.set({selectedAmount:-1,status:m,bonusApplied:!1}),d.isManualDepositAmountNeeded()?this.model.set({selectedAmount:-1,status:g,bonusApplied:!1}):this.model.set({selectedAmount:-1,status:m,bonusApplied:!1}),this.close()},close:function(){a.trigger("ui:loading:hide"),s.prototype.close.call(this)},onPopupClose:function(){this.model.set("status",f),s.prototype.onPopupClose.call(this)},isPopular:function(t){return"POPULAR"===t.type},isBiggest:function(t){return"BIGGEST"===t.type},getBonusesForRender:function(){var t=this,e=this.model.toJSON().all;if(!e||o.isEmpty(e))return[];var n=o.max(e,"bonus").bonus,i=c.isPromotionMarketsX();return o.map(e,function(e){return o.extend({},e,{depositString:t.formatAmount(e.deposit),bonusString:t.formatAmount(e.bonus),emphasized:o.has(e,"emphasized")?e.emphasized:i&&e.bonus===n})})},formatAmount:function(t){return""+this.model.get("accountCurrencySymbol")+l(t).format("0,0")}});i.exports=v}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(2),s=n(13),a=n(14),l=n(6),c={},u=function(t){return[t.getName()||"",t.getSymbol()||"","index"==t.getCategoryName()||"bonds"==t.getCategoryName()?t.getDescription()||"":"",t.getTicker()||""]},d=function(t,e){return t&&"function"==typeof t.indexOf&&(t.indexOf(e)>=0||t.replace("/","").indexOf(e)>=0)},h=function(t){var e={};return a.filterInstruments(function(n){if(!n.isVisible())return!1;var i=n.getName();return!r.has(e,i)&&(e[i]=!0,r.some(u(n),function(e){return d(e.toLowerCase(),t.toLowerCase())}))})},p=function(t,e){return t.getTicker()&&t.getTicker().toLowerCase()===e.toLowerCase()?-1e4:-1*(c[t.getSymbol()]||0)};i.exports=s.extend({initialize:function(){o.on("flow:login",function(){l.getInstrumentsSearchOrder().then(function(t){t=t&&r.isArray(t.data)?t.data:[];var e=t&&t.length?t.length:0;c=r.reduce(t,function(t,n,i){return t[n]=e-i,t},{})}).catch(function(){})})},search:function(t){return t=t.trim(),r.sortBy(h(t),function(e){return p(e,t)})}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=n(200),s=n(215),a=r.createClass({displayName:"GridCellPriceAlertActions",getDefaultProps:function(){return{className:"",tagName:"td"}},modifyAlert:function(){new s({parent:document.body,model:this.props.model})},removeAlert:function(){this.props.model.remove()},render:function(){var t=[];return t.push(this.props.className,"price-alerts-actions"),r.createElement(this.props.tagName,{className:t.join(" ")},r.createElement("div",{className:"actions"},r.createElement(o,{icon:"modify-blue",onClick:this.modifyAlert}),r.createElement(o,{icon:"recycle-blue",onClick:this.removeAlert})))}});i.exports=a}.call(e,n,e,t))&&(t.exports=i)},,,function(t,e,n){n(891),t.exports=n(1080)},function(t,e,n){"use strict";(function(t){function e(t,e,n){t[e]||Object[i](t,e,{writable:!0,configurable:!0,value:n})}if(n(892),n(1076),n(1077),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var i="defineProperty";e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}).call(e,n(41))},function(t,e,n){n(893),n(896),n(897),n(898),n(899),n(900),n(901),n(902),n(903),n(904),n(905),n(906),n(907),n(908),n(444),n(909),n(910),n(225),n(911),n(912),n(913),n(914),n(915),n(916),n(917),n(918),n(919),n(920),n(921),n(922),n(923),n(924),n(925),n(926),n(927),n(928),n(929),n(930),n(931),n(932),n(933),n(934),n(935),n(936),n(937),n(938),n(939),n(940),n(941),n(942),n(943),n(944),n(945),n(946),n(947),n(226),n(948),n(949),n(950),n(951),n(952),n(953),n(954),n(955),n(956),n(957),n(958),n(959),n(960),n(961),n(962),n(963),n(964),n(965),n(966),n(967),n(968),n(970),n(971),n(973),n(455),n(974),n(975),n(976),n(977),n(978),n(980),n(981),n(982),n(983),n(984),n(985),n(986),n(987),n(988),n(989),n(990),n(991),n(992),n(324),n(993),n(460),n(994),n(461),n(995),n(996),n(997),n(998),n(999),n(330),n(331),n(332),n(1e3),n(1001),n(1002),n(1003),n(1004),n(1005),n(1006),n(1007),n(1008),n(1009),n(1010),n(1011),n(1012),n(1013),n(1014),n(1015),n(1016),n(1017),n(1018),n(1019),n(1020),n(1021),n(1022),n(1023),n(1024),n(1025),n(1026),n(1027),n(1028),n(1029),n(1030),n(1031),n(1032),n(1033),n(1034),n(1035),n(1036),n(1037),n(1038),n(1039),n(1040),n(1041),n(1042),n(1043),n(471),n(474),n(475),n(476),n(477),n(1044),n(478),n(479),n(480),n(1045),n(1046),n(1047),n(1048),n(1049),n(1050),n(1051),n(1052),n(1053),n(1054),n(1055),n(1056),n(1057),n(1058),n(1059),n(1060),n(1061),n(1062),n(1063),n(1064),n(1065),n(1066),n(1067),n(1068),n(1069),n(1070),n(1071),n(1072),n(1073),n(1074),n(1075),n(238),t.exports=n(57)},function(t,e,n){"use strict";var i=n(21),r=n(81),o=n(42),s=n(4),a=n(73),l=n(124).KEY,c=n(26),u=n(189),d=n(162),h=n(139),p=n(32),f=n(440),m=n(305),g=n(895),v=n(224),b=n(18),y=n(27),_=n(82),w=n(100),S=n(138),E=n(142),x=n(443),C=n(83),T=n(43),k=n(140),O=C.f,P=T.f,I=x.f,A=i.Symbol,M=i.JSON,N=M&&M.stringify,D=p("_hidden"),L=p("toPrimitive"),R={}.propertyIsEnumerable,F=u("symbol-registry"),B=u("symbols"),U=u("op-symbols"),j=Object.prototype,z="function"==typeof A,V=i.QObject,H=!V||!V.prototype||!V.prototype.findChild,G=o&&c(function(){return 7!=E(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=O(j,e);i&&delete j[e],P(t,e,n),i&&t!==j&&P(j,e,i)}:P,W=function(t){var e=B[t]=E(A.prototype);return e._k=t,e},q=z&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},$=function(t,e,n){return t===j&&$(U,e,n),b(t),e=w(e,!0),b(n),r(B,e)?(n.enumerable?(r(t,D)&&t[D][e]&&(t[D][e]=!1),n=E(n,{enumerable:S(0,!1)})):(r(t,D)||P(t,D,S(1,{})),t[D][e]=!0),G(t,e,n)):P(t,e,n)},Y=function(t,e){b(t);for(var n,i=g(e=_(e)),r=0,o=i.length;o>r;)$(t,n=i[r++],e[n]);return t},X=function(t,e){return void 0===e?E(t):Y(E(t),e)},K=function(t){var e=R.call(this,t=w(t,!0));return!(this===j&&r(B,t)&&!r(U,t))&&(!(e||!r(this,t)||!r(B,t)||r(this,D)&&this[D][t])||e)},Q=function(t,e){if(t=_(t),e=w(e,!0),t!==j||!r(B,e)||r(U,e)){var n=O(t,e);return!n||!r(B,e)||r(t,D)&&t[D][e]||(n.enumerable=!0),n}},J=function(t){for(var e,n=I(_(t)),i=[],o=0;n.length>o;)r(B,e=n[o++])||e==D||e==l||i.push(e);return i},Z=function(t){for(var e,n=t===j,i=I(n?U:_(t)),o=[],s=0;i.length>s;)!r(B,e=i[s++])||n&&!r(j,e)||o.push(B[e]);return o};z||(A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===j&&e.call(U,n),r(this,D)&&r(this[D],t)&&(this[D][t]=!1),G(this,t,S(1,n))};return o&&H&&G(j,t,{configurable:!0,set:e}),W(t)},a(A.prototype,"toString",function(){return this._k}),C.f=Q,T.f=$,n(143).f=x.f=J,n(191).f=K,n(223).f=Z,o&&!n(123)&&a(j,"propertyIsEnumerable",K,!0),f.f=function(t){return W(p(t))}),s(s.G+s.W+s.F*!z,{Symbol:A});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)p(tt[et++]);for(var nt=k(p.store),it=0;nt.length>it;)m(nt[it++]);s(s.S+s.F*!z,"Symbol",{for:function(t){return r(F,t+="")?F[t]:F[t]=A(t)},keyFor:function(t){if(!q(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){H=!0},useSimple:function(){H=!1}}),s(s.S+s.F*!z,"Object",{create:X,defineProperty:$,defineProperties:Y,getOwnPropertyDescriptor:Q,getOwnPropertyNames:J,getOwnPropertySymbols:Z}),M&&s(s.S+s.F*(!z||c(function(){var t=A();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(y(e)||void 0!==t)&&!q(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!q(e))return e}),i[1]=e,N.apply(M,i)}}),A.prototype[L]||n(72)(A.prototype,L,A.prototype.valueOf),d(A,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},function(t,e,n){t.exports=n(189)("native-function-to-string",Function.toString)},function(t,e,n){var i=n(140),r=n(223),o=n(191);t.exports=function(t){var e=i(t),n=r.f;if(n)for(var s,a=n(t),l=o.f,c=0;a.length>c;)l.call(t,s=a[c++])&&e.push(s);return e}},function(t,e,n){var i=n(4);i(i.S,"Object",{create:n(142)})},function(t,e,n){var i=n(4);i(i.S+i.F*!n(42),"Object",{defineProperty:n(43).f})},function(t,e,n){var i=n(4);i(i.S+i.F*!n(42),"Object",{defineProperties:n(442)})},function(t,e,n){var i=n(82),r=n(83).f;n(102)("getOwnPropertyDescriptor",function(){return function(t,e){return r(i(t),e)}})},function(t,e,n){var i=n(50),r=n(84);n(102)("getPrototypeOf",function(){return function(t){return r(i(t))}})},function(t,e,n){var i=n(50),r=n(140);n(102)("keys",function(){return function(t){return r(i(t))}})},function(t,e,n){n(102)("getOwnPropertyNames",function(){return n(443).f})},function(t,e,n){var i=n(27),r=n(124).onFreeze;n(102)("freeze",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){var i=n(27),r=n(124).onFreeze;n(102)("seal",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){var i=n(27),r=n(124).onFreeze;n(102)("preventExtensions",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){var i=n(27);n(102)("isFrozen",function(t){return function(e){return!i(e)||!!t&&t(e)}})},function(t,e,n){var i=n(27);n(102)("isSealed",function(t){return function(e){return!i(e)||!!t&&t(e)}})},function(t,e,n){var i=n(27);n(102)("isExtensible",function(t){return function(e){return!!i(e)&&(!t||t(e))}})},function(t,e,n){var i=n(4);i(i.S,"Object",{is:n(446)})},function(t,e,n){var i=n(4);i(i.S,"Object",{setPrototypeOf:n(309).set})},function(t,e,n){var i=n(4);i(i.P,"Function",{bind:n(447)})},function(t,e,n){var i=n(43).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||n(42)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var i=n(27),r=n(84),o=n(32)("hasInstance"),s=Function.prototype;o in s||n(43).f(s,o,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var i=n(4),r=n(449);i(i.G+i.F*(parseInt!=r),{parseInt:r})},function(t,e,n){var i=n(4),r=n(450);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},function(t,e,n){"use strict";var i=n(21),r=n(81),o=n(90),s=n(311),a=n(100),l=n(26),c=n(143).f,u=n(83).f,d=n(43).f,h=n(164).trim,p=i.Number,f=p,m=p.prototype,g="Number"==o(n(142)(m)),v="trim"in String.prototype,b=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():h(e,3);var n,i,r,o=e.charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var s,l=e.slice(2),c=0,u=l.length;c<u;c++)if((s=l.charCodeAt(c))<48||s>r)return NaN;return parseInt(l,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(g?l(function(){m.valueOf.call(n)}):"Number"!=o(n))?s(new f(b(e)),n,p):b(e)};for(var y,_=n(42)?c(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;_.length>w;w++)r(f,y=_[w])&&!r(p,y)&&d(p,y,u(f,y));p.prototype=m,m.constructor=p,n(73)(i,"Number",p)}},function(t,e,n){"use strict";var i=n(4),r=n(91),o=n(451),s=n(312),a=1..toFixed,l=Math.floor,c=[0,0,0,0,0,0],u="Number.toFixed: incorrect invocation!",d=function(t,e){for(var n=-1,i=e;++n<6;)i+=t*c[n],c[n]=i%1e7,i=l(i/1e7)},h=function(t){for(var e=6,n=0;--e>=0;)n+=c[e],c[e]=l(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==c[t]){var n=String(c[t]);e=""===e?n:e+s.call("0",7-n.length)+n}return e},f=function(t,e,n){return 0===e?n:e%2==1?f(t,e-1,n*t):f(t*t,e/2,n)},m=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e};i(i.P+i.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(26)(function(){a.call({})})),"Number",{toFixed:function(t){var e,n,i,a,l=o(this,u),c=r(t),g="",v="0";if(c<0||c>20)throw RangeError(u);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(g="-",l=-l),l>1e-21)if(e=m(l*f(2,69,1))-69,n=e<0?l*f(2,-e,1):l/f(2,e,1),n*=4503599627370496,(e=52-e)>0){for(d(0,n),i=c;i>=7;)d(1e7,0),i-=7;for(d(f(10,i,1),0),i=e-1;i>=23;)h(1<<23),i-=23;h(1<<i),d(1,1),h(2),v=p()}else d(0,n),d(1<<-e,0),v=p()+s.call("0",c);return c>0?(a=v.length,v=g+(a<=c?"0."+s.call("0",c-a)+v:v.slice(0,a-c)+"."+v.slice(a-c))):v=g+v,v}})},function(t,e,n){"use strict";var i=n(4),r=n(26),o=n(451),s=1..toPrecision;i(i.P+i.F*(r(function(){return"1"!==s.call(1,void 0)})||!r(function(){s.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(e):s.call(e,t)}})},function(t,e,n){var i=n(4);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var i=n(4),r=n(21).isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,e,n){var i=n(4);i(i.S,"Number",{isInteger:n(452)})},function(t,e,n){var i=n(4);i(i.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var i=n(4),r=n(452),o=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},function(t,e,n){var i=n(4);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var i=n(4);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var i=n(4),r=n(450);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(t,e,n){var i=n(4),r=n(449);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(t,e,n){var i=n(4),r=n(453),o=Math.sqrt,s=Math.acosh;i(i.S+i.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},function(t,e,n){function i(t){return isFinite(t=+t)&&0!=t?t<0?-i(-t):Math.log(t+Math.sqrt(t*t+1)):t}var r=n(4),o=Math.asinh;r(r.S+r.F*!(o&&1/o(0)>0),"Math",{asinh:i})},function(t,e,n){var i=n(4),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var i=n(4),r=n(313);i(i.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var i=n(4);i(i.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var i=n(4),r=Math.exp;i(i.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},function(t,e,n){var i=n(4),r=n(314);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},function(t,e,n){var i=n(4);i(i.S,"Math",{fround:n(454)})},function(t,e,n){var i=n(4),r=Math.abs;i(i.S,"Math",{hypot:function(t,e){for(var n,i,o=0,s=0,a=arguments.length,l=0;s<a;)n=r(arguments[s++]),l<n?(i=l/n,o=o*i*i+1,l=n):n>0?(i=n/l,o+=i*i):o+=n;return l===1/0?1/0:l*Math.sqrt(o)}})},function(t,e,n){var i=n(4),r=Math.imul;i(i.S+i.F*n(26)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i;return 0|r*o+((65535&n>>>16)*o+r*(65535&i>>>16)<<16>>>0)}})},function(t,e,n){var i=n(4);i(i.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var i=n(4);i(i.S,"Math",{log1p:n(453)})},function(t,e,n){var i=n(4);i(i.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var i=n(4);i(i.S,"Math",{sign:n(313)})},function(t,e,n){var i=n(4),r=n(314),o=Math.exp;i(i.S+i.F*n(26)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var i=n(4),r=n(314),o=Math.exp;i(i.S,"Math",{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var i=n(4);i(i.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var i=n(4),r=n(141),o=String.fromCharCode,s=String.fromCodePoint;i(i.S+i.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,s=0;i>s;){if(e=+arguments[s++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var i=n(4),r=n(82),o=n(35);i(i.S,"String",{raw:function(t){for(var e=r(t.raw),n=o(e.length),i=arguments.length,s=[],a=0;n>a;)s.push(String(e[a++])),a<i&&s.push(String(arguments[a]));return s.join("")}})},function(t,e,n){"use strict";n(164)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var i=n(4),r=n(227)(!1);i(i.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,e,n){"use strict";var i=n(4),r=n(35),o=n(317),s="".endsWith;i(i.P+i.F*n(318)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,i=r(e.length),a=void 0===n?i:Math.min(r(n),i),l=String(t);return s?s.call(e,l,a):e.slice(a-l.length,a)===l}})},function(t,e,n){"use strict";var i=n(4),r=n(317);i(i.P+i.F*n(318)("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(4);i(i.P,"String",{repeat:n(312)})},function(t,e,n){"use strict";var i=n(4),r=n(35),o=n(317),s="".startsWith;i(i.P+i.F*n(318)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return s?s.call(e,i,n):e.slice(n,n+i.length)===i}})},function(t,e,n){"use strict";n(74)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){"use strict";n(74)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(74)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(74)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(74)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(74)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(74)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){"use strict";n(74)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(74)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){"use strict";n(74)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(74)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(74)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(74)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){var i=n(4);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var i=n(4),r=n(50),o=n(100);i(i.P+i.F*n(26)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=r(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var i=n(4),r=n(969);i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(t,e,n){"use strict";var i=n(26),r=Date.prototype.getTime,o=Date.prototype.toISOString,s=function(t){return t>9?t:"0"+t};t.exports=i(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!i(function(){o.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),i=e<0?"-":e>9999?"+":"";return i+("00000"+Math.abs(e)).slice(i?-6:-4)+"-"+s(t.getUTCMonth()+1)+"-"+s(t.getUTCDate())+"T"+s(t.getUTCHours())+":"+s(t.getUTCMinutes())+":"+s(t.getUTCSeconds())+"."+(n>99?n:"0"+s(n))+"Z"}:o},function(t,e,n){var i=Date.prototype,r=i.toString,o=i.getTime;new Date(NaN)+""!="Invalid Date"&&n(73)(i,"toString",function(){var t=o.call(this);return t===t?r.call(this):"Invalid Date"})},function(t,e,n){var i=n(32)("toPrimitive"),r=Date.prototype;i in r||n(72)(r,i,n(972))},function(t,e,n){"use strict";var i=n(18),r=n(100);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),"number"!=t)}},function(t,e,n){var i=n(4);i(i.S,"Array",{isArray:n(224)})},function(t,e,n){"use strict";var i=n(4),r=n(320);i(i.S+i.F*n(26)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)r(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var i=n(4),r=n(82),o=[].join;i(i.P+i.F*(n(190)!=Object||!n(92)(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var i=n(4),r=n(308),o=n(90),s=n(141),a=n(35),l=[].slice;i(i.P+i.F*n(26)(function(){r&&l.call(r)}),"Array",{slice:function(t,e){var n=a(this.length),i=o(this);if(e=void 0===e?n:e,"Array"==i)return l.call(this,t,e);for(var r=s(t,n),c=s(e,n),u=a(c-r),d=new Array(u),h=0;h<u;h++)d[h]="String"==i?this.charAt(r+h):this[r+h];return d}})},function(t,e,n){"use strict";var i=n(4),r=n(64),o=n(50),s=n(26),a=[].sort,l=[1,2,3];i(i.P+i.F*(s(function(){l.sort(void 0)})||!s(function(){l.sort(null)})||!n(92)(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),r(t))}})},function(t,e,n){"use strict";var i=n(4),r=n(103)(0),o=n(92)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},function(t,e,n){var i=n(27),r=n(224),o=n(32)("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var i=n(4),r=n(103)(1);i(i.P+i.F*!n(92)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(4),r=n(103)(2);i(i.P+i.F*!n(92)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(4),r=n(103)(3);i(i.P+i.F*!n(92)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(4),r=n(103)(4);i(i.P+i.F*!n(92)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(4),r=n(457);i(i.P+i.F*!n(92)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var i=n(4),r=n(457);i(i.P+i.F*!n(92)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var i=n(4),r=n(222)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(s||!n(92)(o)),"Array",{indexOf:function(t){return s?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(4),r=n(82),o=n(91),s=n(35),a=[].lastIndexOf,l=!!a&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(l||!n(92)(a)),"Array",{lastIndexOf:function(t){if(l)return a.apply(this,arguments)||0;var e=r(this),n=s(e.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,o(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in e&&e[i]===t)return i||0;return-1}})},function(t,e,n){var i=n(4);i(i.P,"Array",{copyWithin:n(458)}),n(125)("copyWithin")},function(t,e,n){var i=n(4);i(i.P,"Array",{fill:n(323)}),n(125)("fill")},function(t,e,n){"use strict";var i=n(4),r=n(103)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),i(i.P+i.F*o,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(125)("find")},function(t,e,n){"use strict";var i=n(4),r=n(103)(6),o="findIndex",s=!0;o in[]&&Array(1)[o](function(){s=!1}),i(i.P+i.F*s,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(125)(o)},function(t,e,n){n(144)("Array")},function(t,e,n){var i=n(21),r=n(311),o=n(43).f,s=n(143).f,a=n(228),l=n(192),c=i.RegExp,u=c,d=c.prototype,h=/a/g,p=/a/g,f=new c(h)!==h;if(n(42)&&(!f||n(26)(function(){return p[n(32)("match")]=!1,c(h)!=h||c(p)==p||"/a/i"!=c(h,"i")}))){c=function(t,e){var n=this instanceof c,i=a(t),o=void 0===e;return!n&&i&&t.constructor===c&&o?t:r(f?new u(i&&!o?t.source:t,e):u((i=t instanceof c)?t.source:t,i&&o?l.call(t):e),n?this:d,c)};for(var m=s(u),g=0;m.length>g;)!function(t){t in c||o(c,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})}(m[g++]);d.constructor=c,c.prototype=d,n(73)(i,"RegExp",c)}n(144)("RegExp")},function(t,e,n){"use strict";n(461);var i=n(18),r=n(192),o=n(42),s=/./.toString,a=function(t){n(73)(RegExp.prototype,"toString",t,!0)};n(26)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?a(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)}):"toString"!=s.name&&a(function(){return s.call(this)})},function(t,e,n){"use strict";var i=n(18),r=n(35),o=n(326),s=n(230);n(231)("match",1,function(t,e,n,a){return[function(n){var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=a(n,t,this);if(e.done)return e.value;var l=i(t),c=String(this);if(!l.global)return s(l,c);var u=l.unicode;l.lastIndex=0;for(var d,h=[],p=0;null!==(d=s(l,c));){var f=String(d[0]);h[p]=f,""===f&&(l.lastIndex=o(c,r(l.lastIndex),u)),p++}return 0===p?null:h}]})},function(t,e,n){"use strict";var i=n(18),r=n(50),o=n(35),s=n(91),a=n(326),l=n(230),c=Math.max,u=Math.min,d=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,f=function(t){return void 0===t?t:String(t)};n(231)("replace",2,function(t,e,n,m){function g(t,e,i,o,s,a){var l=i+t.length,c=o.length,u=p;return void 0!==s&&(s=r(s),u=h),n.call(a,u,function(n,r){var a;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(l);case"<":a=s[r.slice(1,-1)];break;default:var u=+r;if(0===u)return n;if(u>c){var h=d(u/10);return 0===h?n:h<=c?void 0===o[h-1]?r.charAt(1):o[h-1]+r.charAt(1):n}a=o[u-1]}return void 0===a?"":a})}return[function(i,r){var o=t(this),s=void 0==i?void 0:i[e];return void 0!==s?s.call(i,o,r):n.call(String(o),i,r)},function(t,e){var r=m(n,t,this,e);if(r.done)return r.value;var d=i(t),h=String(this),p="function"==typeof e;p||(e=String(e));var v=d.global;if(v){var b=d.unicode;d.lastIndex=0}for(var y=[];;){var _=l(d,h);if(null===_)break;if(y.push(_),!v)break;""===String(_[0])&&(d.lastIndex=a(h,o(d.lastIndex),b))}for(var w="",S=0,E=0;E<y.length;E++){_=y[E];for(var x=String(_[0]),C=c(u(s(_.index),h.length),0),T=[],k=1;k<_.length;k++)T.push(f(_[k]));var O=_.groups;if(p){var P=[x].concat(T,C,h);void 0!==O&&P.push(O);var I=String(e.apply(void 0,P))}else I=g(x,h,C,T,O,e);C>=S&&(w+=h.slice(S,C)+I,S=C+x.length)}return w+h.slice(S)}]})},function(t,e,n){"use strict";var i=n(18),r=n(446),o=n(230);n(231)("search",1,function(t,e,n,s){return[function(n){var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=s(n,t,this);if(e.done)return e.value;var a=i(t),l=String(this),c=a.lastIndex;r(c,0)||(a.lastIndex=0);var u=o(a,l);return r(a.lastIndex,c)||(a.lastIndex=c),null===u?-1:u.index}]})},function(t,e,n){"use strict";var i=n(228),r=n(18),o=n(193),s=n(326),a=n(35),l=n(230),c=n(325),u=n(26),d=Math.min,h=[].push,p="length",f=!u(function(){RegExp(4294967295,"y")});n(231)("split",2,function(t,e,n,u){var m;return m="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[p]||2!="ab".split(/(?:ab)*/)[p]||4!=".".split(/(.?)(.?)/)[p]||".".split(/()()/)[p]>1||"".split(/.?/)[p]?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!i(t))return n.call(r,t,e);for(var o,s,a,l=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,f=void 0===e?4294967295:e>>>0,m=new RegExp(t.source,u+"g");(o=c.call(m,r))&&!((s=m.lastIndex)>d&&(l.push(r.slice(d,o.index)),o[p]>1&&o.index<r[p]&&h.apply(l,o.slice(1)),a=o[0][p],d=s,l[p]>=f));)m.lastIndex===o.index&&m.lastIndex++;return d===r[p]?!a&&m.test("")||l.push(""):l.push(r.slice(d)),l[p]>f?l.slice(0,f):l}:"0".split(void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var r=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,r,i):m.call(String(r),n,i)},function(t,e){var i=u(m,t,this,e,m!==n);if(i.done)return i.value;var c=r(t),h=String(this),p=o(c,RegExp),g=c.unicode,v=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(f?"y":"g"),b=new p(f?c:"^(?:"+c.source+")",v),y=void 0===e?4294967295:e>>>0;if(0===y)return[];if(0===h.length)return null===l(b,h)?[h]:[];for(var _=0,w=0,S=[];w<h.length;){b.lastIndex=f?w:0;var E,x=l(b,f?h:h.slice(w));if(null===x||(E=d(a(b.lastIndex+(f?0:w)),h.length))===_)w=s(h,w,g);else{if(S.push(h.slice(_,w)),S.length===y)return S;for(var C=1;C<=x.length-1;C++)if(S.push(x[C]),S.length===y)return S;w=_=E}}return S.push(h.slice(_)),S}]})},function(t,e,n){"use strict";var i,r,o,s,a=n(123),l=n(21),c=n(89),u=n(163),d=n(4),h=n(27),p=n(64),f=n(145),m=n(146),g=n(193),v=n(327).set,b=n(328)(),y=n(329),_=n(462),w=n(232),S=n(463),E=l.TypeError,x=l.process,C=x&&x.versions,T=C&&C.v8||"",k=l.Promise,O="process"==u(x),P=function(){},I=r=y.f,A=!!function(){try{var t=k.resolve(1),e=(t.constructor={})[n(32)("species")]=function(t){t(P,P)};return(O||"function"==typeof PromiseRejectionEvent)&&t.then(P)instanceof e&&0!==T.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),M=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},N=function(t,e){if(!t._n){t._n=!0;var n=t._c;b(function(){for(var i=t._v,r=1==t._s,o=0;n.length>o;)!function(e){var n,o,s,a=r?e.ok:e.fail,l=e.resolve,c=e.reject,u=e.domain;try{a?(r||(2==t._h&&R(t),t._h=1),!0===a?n=i:(u&&u.enter(),n=a(i),u&&(u.exit(),s=!0)),n===e.promise?c(E("Promise-chain cycle")):(o=M(n))?o.call(n,l,c):l(n)):c(i)}catch(t){u&&!s&&u.exit(),c(t)}}(n[o++]);t._c=[],t._n=!1,e&&!t._h&&D(t)})}},D=function(t){v.call(l,function(){var e,n,i,r=t._v,o=L(t);if(o&&(e=_(function(){O?x.emit("unhandledRejection",r,t):(n=l.onunhandledrejection)?n({promise:t,reason:r}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t._h=O||L(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},L=function(t){return 1!==t._h&&0===(t._a||t._c).length},R=function(t){v.call(l,function(){var e;O?x.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},F=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),N(e,!0))},B=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw E("Promise can't be resolved itself");(e=M(t))?b(function(){var i={_w:n,_d:!1};try{e.call(t,c(B,i,1),c(F,i,1))}catch(t){F.call(i,t)}}):(n._v=t,n._s=1,N(n,!1))}catch(t){F.call({_w:n,_d:!1},t)}}};A||(k=function(t){f(this,k,"Promise","_h"),p(t),i.call(this);try{t(c(B,this,1),c(F,this,1))}catch(t){F.call(this,t)}},i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n(147)(k.prototype,{then:function(t,e){var n=I(g(this,k));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=O?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=c(B,t,1),this.reject=c(F,t,1)},y.f=I=function(t){return t===k||t===s?new o(t):r(t)}),d(d.G+d.W+d.F*!A,{Promise:k}),n(162)(k,"Promise"),n(144)("Promise"),s=n(57).Promise,d(d.S+d.F*!A,"Promise",{reject:function(t){var e=I(this);return(0,e.reject)(t),e.promise}}),d(d.S+d.F*(a||!A),"Promise",{resolve:function(t){return S(a&&this===s?k:this,t)}}),d(d.S+d.F*!(A&&n(229)(function(t){k.all(t).catch(P)})),"Promise",{all:function(t){var e=this,n=I(e),i=n.resolve,r=n.reject,o=_(function(){var n=[],o=0,s=1;m(t,!1,function(t){var a=o++,l=!1;n.push(void 0),s++,e.resolve(t).then(function(t){l||(l=!0,n[a]=t,--s||i(n))},r)}),--s||i(n)});return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=I(e),i=n.reject,r=_(function(){m(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},function(t,e,n){"use strict";var i=n(465),r=n(148);n(233)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(r(this,"WeakSet"),t,!0)}},i,!1,!0)},function(t,e,n){"use strict";var i=n(4),r=n(234),o=n(333),s=n(18),a=n(141),l=n(35),c=n(27),u=n(21).ArrayBuffer,d=n(193),h=o.ArrayBuffer,p=o.DataView,f=r.ABV&&u.isView,m=h.prototype.slice,g=r.VIEW;i(i.G+i.W+i.F*(u!==h),{ArrayBuffer:h}),i(i.S+i.F*!r.CONSTR,"ArrayBuffer",{isView:function(t){return f&&f(t)||c(t)&&g in t}}),i(i.P+i.U+i.F*n(26)(function(){return!new h(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==m&&void 0===e)return m.call(s(this),t);for(var n=s(this).byteLength,i=a(t,n),r=a(void 0===e?n:e,n),o=new(d(this,h))(l(r-i)),c=new p(this),u=new p(o),f=0;i<r;)u.setUint8(f++,c.getUint8(i++));return o}}),n(144)("ArrayBuffer")},function(t,e,n){var i=n(4);i(i.G+i.W+i.F*!n(234).ABV,{DataView:n(333).DataView})},function(t,e,n){n(110)("Int8",1,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(110)("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(110)("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}},!0)},function(t,e,n){n(110)("Int16",2,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(110)("Uint16",2,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(110)("Int32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(110)("Uint32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(110)("Float32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(110)("Float64",8,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){var i=n(4),r=n(64),o=n(18),s=(n(21).Reflect||{}).apply,a=Function.apply;i(i.S+i.F*!n(26)(function(){s(function(){})}),"Reflect",{apply:function(t,e,n){var i=r(t),l=o(n);return s?s(i,e,l):a.call(i,e,l)}})},function(t,e,n){var i=n(4),r=n(142),o=n(64),s=n(18),a=n(27),l=n(26),c=n(447),u=(n(21).Reflect||{}).construct,d=l(function(){function t(){}return!(u(function(){},[],t)instanceof t)}),h=!l(function(){u(function(){})});i(i.S+i.F*(d||h),"Reflect",{construct:function(t,e){o(t),s(e);var n=arguments.length<3?t:o(arguments[2]);if(h&&!d)return u(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(c.apply(t,i))}var l=n.prototype,p=r(a(l)?l:Object.prototype),f=Function.apply.call(t,p,e);return a(f)?f:p}})},function(t,e,n){var i=n(43),r=n(4),o=n(18),s=n(100);r(r.S+r.F*n(26)(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=s(e,!0),o(n);try{return i.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var i=n(4),r=n(83).f,o=n(18);i(i.S,"Reflect",{deleteProperty:function(t,e){var n=r(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var i=n(4),r=n(18),o=function(t){this._t=r(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(316)(o,"Object",function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}}),i(i.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){function i(t,e){var n,a,u=arguments.length<3?t:arguments[2];return c(t)===u?t[e]:(n=r.f(t,e))?s(n,"value")?n.value:void 0!==n.get?n.get.call(u):void 0:l(a=o(t))?i(a,e,u):void 0}var r=n(83),o=n(84),s=n(81),a=n(4),l=n(27),c=n(18);a(a.S,"Reflect",{get:i})},function(t,e,n){var i=n(83),r=n(4),o=n(18);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return i.f(o(t),e)}})},function(t,e,n){var i=n(4),r=n(84),o=n(18);i(i.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},function(t,e,n){var i=n(4);i(i.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var i=n(4),r=n(18),o=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},function(t,e,n){var i=n(4);i(i.S,"Reflect",{ownKeys:n(467)})},function(t,e,n){var i=n(4),r=n(18),o=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){function i(t,e,n){var l,h,p=arguments.length<4?t:arguments[3],f=o.f(u(t),e);if(!f){if(d(h=s(t)))return i(h,e,n,p);f=c(0)}if(a(f,"value")){if(!1===f.writable||!d(p))return!1;if(l=o.f(p,e)){if(l.get||l.set||!1===l.writable)return!1;l.value=n,r.f(p,e,l)}else r.f(p,e,c(0,n));return!0}return void 0!==f.set&&(f.set.call(p,n),!0)}var r=n(43),o=n(83),s=n(84),a=n(81),l=n(4),c=n(138),u=n(18),d=n(27);l(l.S,"Reflect",{set:i})},function(t,e,n){var i=n(4),r=n(309);r&&i(i.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){"use strict";var i=n(4),r=n(222)(!0);i(i.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(125)("includes")},function(t,e,n){"use strict";var i=n(4),r=n(468),o=n(50),s=n(35),a=n(64),l=n(322);i(i.P,"Array",{flatMap:function(t){var e,n,i=o(this);return a(t),e=s(i.length),n=l(i,0),r(n,i,i,e,0,1,t,arguments[1]),n}}),n(125)("flatMap")},function(t,e,n){"use strict";var i=n(4),r=n(468),o=n(50),s=n(35),a=n(91),l=n(322);i(i.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),n=s(e.length),i=l(e,0);return r(i,e,e,n,0,void 0===t?1:a(t)),i}}),n(125)("flatten")},function(t,e,n){"use strict";var i=n(4),r=n(227)(!0);i(i.P,"String",{at:function(t){return r(this,t)}})},function(t,e,n){"use strict";var i=n(4),r=n(469),o=n(232),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);i(i.P+i.F*s,"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){"use strict";var i=n(4),r=n(469),o=n(232),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);i(i.P+i.F*s,"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";n(164)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";n(164)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){"use strict";var i=n(4),r=n(101),o=n(35),s=n(228),a=n(192),l=RegExp.prototype,c=function(t,e){this._r=t,this._s=e};n(316)(c,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),i(i.P,"String",{matchAll:function(t){if(r(this),!s(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in l?String(t.flags):a.call(t),i=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return i.lastIndex=o(t.lastIndex),new c(i,e)}})},function(t,e,n){n(305)("asyncIterator")},function(t,e,n){n(305)("observable")},function(t,e,n){var i=n(4),r=n(467),o=n(82),s=n(83),a=n(320);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,i=o(t),l=s.f,c=r(i),u={},d=0;c.length>d;)void 0!==(n=l(i,e=c[d++]))&&a(u,e,n);return u}})},function(t,e,n){var i=n(4),r=n(470)(!1);i(i.S,"Object",{values:function(t){return r(t)}})},function(t,e,n){var i=n(4),r=n(470)(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},function(t,e,n){"use strict";var i=n(4),r=n(50),o=n(64),s=n(43);n(42)&&i(i.P+n(235),"Object",{__defineGetter__:function(t,e){s.f(r(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var i=n(4),r=n(50),o=n(64),s=n(43);n(42)&&i(i.P+n(235),"Object",{__defineSetter__:function(t,e){s.f(r(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var i=n(4),r=n(50),o=n(100),s=n(84),a=n(83).f;n(42)&&i(i.P+n(235),"Object",{__lookupGetter__:function(t){var e,n=r(this),i=o(t,!0);do{if(e=a(n,i))return e.get}while(n=s(n))}})},function(t,e,n){"use strict";var i=n(4),r=n(50),o=n(100),s=n(84),a=n(83).f;n(42)&&i(i.P+n(235),"Object",{__lookupSetter__:function(t){var e,n=r(this),i=o(t,!0);do{if(e=a(n,i))return e.set}while(n=s(n))}})},function(t,e,n){n(236)("WeakSet")},function(t,e,n){n(237)("WeakSet")},function(t,e,n){var i=n(4);i(i.G,{global:n(21)})},function(t,e,n){var i=n(4);i(i.S,"System",{global:n(21)})},function(t,e,n){var i=n(4),r=n(90);i(i.S,"Error",{isError:function(t){return"Error"===r(t)}})},function(t,e,n){var i=n(4);i(i.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},function(t,e,n){var i=n(4);i(i.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var i=n(4),r=180/Math.PI;i(i.S,"Math",{degrees:function(t){return t*r}})},function(t,e,n){var i=n(4),r=n(481),o=n(454);i(i.S,"Math",{fscale:function(t,e,n,i,s){return o(r(t,e,n,i,s))}})},function(t,e,n){var i=n(4);i(i.S,"Math",{iaddh:function(t,e,n,i){var r=t>>>0,o=e>>>0,s=n>>>0;return o+(i>>>0)+((r&s|(r|s)&~(r+s>>>0))>>>31)|0}})},function(t,e,n){var i=n(4);i(i.S,"Math",{isubh:function(t,e,n,i){var r=t>>>0,o=e>>>0,s=n>>>0;return o-(i>>>0)-((~r&s|~(r^s)&r-s>>>0)>>>31)|0}})},function(t,e,n){var i=n(4);i(i.S,"Math",{imulh:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i,s=n>>16,a=i>>16,l=(s*o>>>0)+(r*o>>>16);return s*a+(l>>16)+((r*a>>>0)+(65535&l)>>16)}})},function(t,e,n){var i=n(4);i(i.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var i=n(4),r=Math.PI/180;i(i.S,"Math",{radians:function(t){return t*r}})},function(t,e,n){var i=n(4);i(i.S,"Math",{scale:n(481)})},function(t,e,n){var i=n(4);i(i.S,"Math",{umulh:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i,s=n>>>16,a=i>>>16,l=(s*o>>>0)+(r*o>>>16);return s*a+(l>>>16)+((r*a>>>0)+(65535&l)>>>16)}})},function(t,e,n){var i=n(4);i(i.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,n){"use strict";var i=n(4),r=n(57),o=n(21),s=n(193),a=n(463);i(i.P+i.R,"Promise",{finally:function(t){var e=s(this,r.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then(function(){return n})}:t,n?function(n){return a(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var i=n(4),r=n(329),o=n(462);i(i.S,"Promise",{try:function(t){var e=r.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){var i=n(111),r=n(18),o=i.key,s=i.set;i.exp({defineMetadata:function(t,e,n,i){s(t,e,r(n),o(i))}})},function(t,e,n){var i=n(111),r=n(18),o=i.key,s=i.map,a=i.store;i.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:o(arguments[2]),i=s(r(e),n,!1);if(void 0===i||!i.delete(t))return!1;if(i.size)return!0;var l=a.get(e);return l.delete(n),!!l.size||a.delete(e)}})},function(t,e,n){var i=n(111),r=n(18),o=n(84),s=i.has,a=i.get,l=i.key,c=function(t,e,n){if(s(t,e,n))return a(t,e,n);var i=o(e);return null!==i?c(t,i,n):void 0};i.exp({getMetadata:function(t,e){return c(t,r(e),arguments.length<3?void 0:l(arguments[2]))}})},function(t,e,n){var i=n(331),r=n(473),o=n(111),s=n(18),a=n(84),l=o.keys,c=o.key,u=function(t,e){var n=l(t,e),o=a(t);if(null===o)return n;var s=u(o,e);return s.length?n.length?r(new i(n.concat(s))):s:n};o.exp({getMetadataKeys:function(t){return u(s(t),arguments.length<2?void 0:c(arguments[1]))}})},function(t,e,n){var i=n(111),r=n(18),o=i.get,s=i.key;i.exp({getOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var i=n(111),r=n(18),o=i.keys,s=i.key;i.exp({getOwnMetadataKeys:function(t){return o(r(t),arguments.length<2?void 0:s(arguments[1]))}})},function(t,e,n){var i=n(111),r=n(18),o=n(84),s=i.has,a=i.key,l=function(t,e,n){if(s(t,e,n))return!0;var i=o(e);return null!==i&&l(t,i,n)};i.exp({hasMetadata:function(t,e){return l(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var i=n(111),r=n(18),o=i.has,s=i.key;i.exp({hasOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var i=n(111),r=n(18),o=n(64),s=i.key,a=i.set;i.exp({metadata:function(t,e){return function(n,i){a(t,e,(void 0!==i?r:o)(n),s(i))}}})},function(t,e,n){var i=n(4),r=n(328)(),o=n(21).process,s="process"==n(90)(o);i(i.G,{asap:function(t){var e=s&&o.domain;r(e?e.bind(t):t)}})},function(t,e,n){"use strict";var i=n(4),r=n(21),o=n(57),s=n(328)(),a=n(32)("observable"),l=n(64),c=n(18),u=n(145),d=n(147),h=n(72),p=n(146),f=p.RETURN,m=function(t){return null==t?void 0:l(t)},g=function(t){var e=t._c;e&&(t._c=void 0,e())},v=function(t){return void 0===t._o},b=function(t){v(t)||(t._o=void 0,g(t))},y=function(t,e){c(t),this._c=void 0,this._o=t,t=new _(this);try{var n=e(t),i=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){i.unsubscribe()}:l(n),this._c=n)}catch(e){return void t.error(e)}v(this)&&g(this)};y.prototype=d({},{unsubscribe:function(){b(this)}});var _=function(t){this._s=t};_.prototype=d({},{next:function(t){var e=this._s;if(!v(e)){var n=e._o;try{var i=m(n.next);if(i)return i.call(n,t)}catch(t){try{b(e)}finally{throw t}}}},error:function(t){var e=this._s;if(v(e))throw t;var n=e._o;e._o=void 0;try{var i=m(n.error);if(!i)throw t;t=i.call(n,t)}catch(t){try{g(e)}finally{throw t}}return g(e),t},complete:function(t){var e=this._s;if(!v(e)){var n=e._o;e._o=void 0;try{var i=m(n.complete);t=i?i.call(n,t):void 0}catch(t){try{g(e)}finally{throw t}}return g(e),t}}});var w=function(t){u(this,w,"Observable","_f")._f=l(t)};d(w.prototype,{subscribe:function(t){return new y(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||r.Promise)(function(n,i){l(t);var r=e.subscribe({next:function(e){try{return t(e)}catch(t){i(t),r.unsubscribe()}},error:i,complete:n})})}}),d(w,{from:function(t){var e="function"==typeof this?this:w,n=m(c(t)[a]);if(n){var i=c(n.call(t));return i.constructor===e?i:new e(function(t){return i.subscribe(t)})}return new e(function(e){var n=!1;return s(function(){if(!n){try{if(p(t,!1,function(t){if(e.next(t),n)return f})===f)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,n=new Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:w)(function(t){var e=!1;return s(function(){if(!e){for(var i=0;i<n.length;++i)if(t.next(n[i]),e)return;t.complete()}}),function(){e=!0}})}}),h(w.prototype,a,function(){return this}),i(i.G,{Observable:w}),n(144)("Observable")},function(t,e,n){var i=n(21),r=n(4),o=n(232),s=[].slice,a=/MSIE .\./.test(o),l=function(t){return function(e,n){var i=arguments.length>2,r=!!i&&s.call(arguments,2);return t(i?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,n)}};r(r.G+r.B+r.F*a,{setTimeout:l(i.setTimeout),setInterval:l(i.setInterval)})},function(t,e,n){var i=n(4),r=n(327);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,n){(function(e){!function(e){"use strict";function n(t,e,n,i){var o=e&&e.prototype instanceof r?e:r,s=Object.create(o.prototype),a=new p(i||[]);return s._invoke=c(t,n,a),s}function i(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function r(){}function o(){}function s(){}function a(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function l(t){function n(e,r,o,s){var a=i(t[e],t,r);if("throw"!==a.type){var l=a.arg,c=l.value;return c&&"object"==typeof c&&b.call(c,"__await")?Promise.resolve(c.__await).then(function(t){n("next",t,o,s)},function(t){n("throw",t,o,s)}):Promise.resolve(c).then(function(t){l.value=t,o(l)},s)}s(a.arg)}function r(t,e){function i(){return new Promise(function(i,r){n(t,e,i,r)})}return o=o?o.then(i,i):i()}"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n));var o;this._invoke=r}function c(t,e,n){var r=C;return function(o,s){if(r===k)throw new Error("Generator is already running");if(r===O){if("throw"===o)throw s;return m()}for(n.method=o,n.arg=s;;){var a=n.delegate;if(a){var l=u(a,n);if(l){if(l===P)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===C)throw r=O,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=k;var c=i(t,e,n);if("normal"===c.type){if(r=n.done?O:T,c.arg===P)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=O,n.method="throw",n.arg=c.arg)}}}function u(t,e){var n=t.iterator[e.method];if(n===g){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=g,u(t,e),"throw"===e.method))return P;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return P}var r=i(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,P;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=g),e.delegate=null,P):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,P)}function d(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function h(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function p(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(d,this),this.reset(!0)}function f(t){if(t){var e=t[_];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(b.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=g,e.done=!0,e};return i.next=i}}return{next:m}}function m(){return{value:g,done:!0}}var g,v=Object.prototype,b=v.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},_=y.iterator||"@@iterator",w=y.asyncIterator||"@@asyncIterator",S=y.toStringTag||"@@toStringTag",E="object"==typeof t,x=e.regeneratorRuntime;if(x)return void(E&&(t.exports=x));x=e.regeneratorRuntime=E?t.exports:{},x.wrap=n;var C="suspendedStart",T="suspendedYield",k="executing",O="completed",P={},I={};I[_]=function(){return this};var A=Object.getPrototypeOf,M=A&&A(A(f([])));M&&M!==v&&b.call(M,_)&&(I=M);var N=s.prototype=r.prototype=Object.create(I);o.prototype=N.constructor=s,s.constructor=o,s[S]=o.displayName="GeneratorFunction",x.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},x.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,S in t||(t[S]="GeneratorFunction")),t.prototype=Object.create(N),t},x.awrap=function(t){return{__await:t}},a(l.prototype),l.prototype[w]=function(){return this},x.AsyncIterator=l,x.async=function(t,e,i,r){var o=new l(n(t,e,i,r));return x.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},a(N),N[S]="Generator",N[_]=function(){return this},N.toString=function(){return"[object Generator]"},x.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},x.values=f,p.prototype={constructor:p,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(h),!t)for(var e in this)"t"===e.charAt(0)&&b.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=g)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,i){return o.type="throw",o.arg=t,n.next=e,i&&(n.method="next",n.arg=g),!!i}if(this.done)throw t;for(var n=this,i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var s=b.call(r,"catchLoc"),a=b.call(r,"finallyLoc");if(s&&a){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&b.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,P):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),P},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),h(n),P}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;h(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:f(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=g),P}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,n(41))},function(t,e,n){n(1078),t.exports=n(57).RegExp.escape},function(t,e,n){var i=n(4),r=n(1079)(/[\\^$*+?.()|[\]{}]/g,"\\$&");i(i.S,"RegExp",{escape:function(t){return r(t)}})},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function e(){store.dispatch(Object(p.initAppUi)()),this.settings=n(9),this.cookie=n(250),this.initialize.apply(this,arguments)}function i(t){}function r(t){return!!t}var o=n(1081),s=(n.n(o),n(1083)),a=(n.n(s),n(1084)),l=(n.n(a),n(1)),c=n.n(l),u=n(16),d=n.n(u),h=n(159),p=n(87),f=n(5),m=n.n(f),g=n(0),v=n.n(g),b=n(17),y=n.n(b),_=n(353),w=n.n(_),S=n(361),E=n.n(S),x=n(40),C=(n.n(x),n(1372)),T=n.n(C),k=n(1373),O=n.n(k),P=n(1374),I=n.n(P),A=n(95),M=n.n(A),N=n(2),D=n.n(N),L=n(7),R=n.n(L),F=n(23),B=n.n(F),U=n(676),j=n.n(U),z=n(14),V=n.n(z),H=n(6),G=n.n(H),W=n(137),q=n.n(W),$=n(71),Y=n.n($),X=n(413),K=n.n(X),Q=n(698),J=n.n(Q),Z=n(75),tt=n.n(Z),et=n(15),nt=n.n(et),it=Object(h.a)(function(){return new Promise(function(t){t()}).then(n.bind(null,772))});n(1371);var rt=n(1375).default;window.store=rt(),T()(m.a),O()(v.a),y.a.$=m.a,n(52),n(699),n(75),n(1434),n(700),n(22),n(14),n(108),n(9),n(54),n(1479),n(1482),n(1483),n(695),n(1825),n(1826),n(286);v.a.extend(e.prototype,E.a,{readyToRenderEvents:{"app:start:render":!1},initialize:function(){var t=this,e="https://"+this.getPlatformHost(),n=e+"/maintenance/status.html?_r="+v.a.now();w.a.get(n).then(function(n){1===n.data||M.a.getQueryParam("qaoriginip")?t.startDetectSession():(location.href=e+"/system-maintenance",window.location.href="/system-maintenance")}).catch(function(e){if(v.a.isUndefined(e.response))return t.createOfflinePage(n);t.startDetectSession()}),this._initDone=!1,D.a.on("start:detect:session",function(){return t.startDetectSession()}),D.a.on("all",this.initDoneEvent,this)},visitPraxis:function(){var t=this.settings.getPaymentsServiceVendor(),e=this.settings.getAuPaymentsServiceVendor(),n=this.settings.getTtmBviPaymentsServiceVendor();if("PRAXIS"===t||"PRAXIS"===e||"PRAXIS"===n){if("1"!==this.cookie.getCookieByName("bbvisited")){var i=this.settings.getPraxisRedirectUrl();""!==i&&(document.cookie="bbvisited=1",window.location.href=i+window.location.href)}}},startDetectSession:function(){D.a.trigger("app:initialize:start"),R.a.getSessionModel().detect(this.detectSessionResult.bind(this))},detectSessionResult:function(t){var e=this;Promise.all([B.a.loadLanguages(),this.settings.load()]).then(function(){return e.visitPraxis()}).then(function(){return tt.a.loadAffiliateTracking()}).then(function(){var t=e.settings.getInstalledRelatedAppsKey();e.includeElement("meta","getInstalledRelatedApps",{"http-equiv":"origin-trial","data-feature":"getInstalledRelatedApps","data-expires":"2017-12-24",content:t}),e.initUnauthorizedScripts(),Y.a.loadThemeForBrand()}).then(function(){return"active"===t?e.onActiveSession():e.onInactiveSession()}).then(function(){return D.a.trigger("app:start:render")}).catch(i)},onActiveSession:function(){var t=this;return this.initAuthorizedScripts(),new Promise(function(e,n){if(q.a.isDetected()){var i=t.settings.getPlatformType(),r=q.a.getQueryString();if(q.a.isPlatformSwitchingNeeded(i))return D.a.trigger("platform:switch",q.a.getPlatform(),r)}Promise.all([j.a.load(),V.a.load(),R.a.getUserCommonData().load(),J.a.load(),R.a.getUserLevelsModel().load()]).then(function(){return B.a.getDetectedLanguage(R.a.getUserCommonData().getSelectedLanguage())}).then(function(i){var r=R.a.getUserCommonData();t.settings.isDefaultAdvancedViewsEnabled()&&r.isFirstLogin()&&(r.saveTradingViewMode("advanced"),r.saveOpenPositionMode("interactive")),R.a.isPromotionMarketsX()&&(r.isTradingViewModeSet()||r.saveTradingViewMode("advanced",!1),r.isOpenPositionModeSet()||r.saveOpenPositionMode("interactive",!1),tt.a.storeMarketsxFlag(),Y.a.applyMarketsX(!0)),Y.a.loadOnLogin(),R.a.getUserAccountServices().load().then(function(){var t=r.wasTradingCentralEnabled(),e=R.a.getUserAccountServices().isTradingCentralAvailable();t!==e&&r.saveTradingCentralEnabled(e)}),t.settings.isGuaranteedStopLossEnabled()&&G.a.loadRegulationGslStatus().then(function(t){var e=t.data;R.a.setGuaranteedStopLoss(e)}),B.a.loadDictionary(i).then(function(){function n(){G.a.storeSettings({firstLogin:!1}),q.a.prepare(),e()}Y.a.initBrandTitle();var i=r.getSelectedLanguage(),o=B.a.getCurrentLanguage();i!==o&&r.saveSelectedLanguage(o),R.a.getUserAwardsModel().load(),R.a.getUserAccountMetricsModel().load(),R.a.getUserLeverageLevels().load(),R.a.getUserLogin().setLoginState(!0),R.a.getUserData().determineAccount(t.settings),R.a.getUserTokenModel().load(R.a.getUserData().getCrmboCustomer().id),R.a.getUserDocumentsModel().load().then(n),K.a.init()}).catch(n)}).catch(n)})},onInactiveSession:function(){var t=this;return new Promise(function(e,n){function i(){B.a.loadDictionary(o).then(function(){Y.a.initBrandTitle(),D.a.trigger("app:session:inactive"),e()}).catch(n)}var r=t.onActiveSession.bind(t),o="";B.a.getDetectedLanguage().then(function(t){o=t,R.a.getUserLogin().getRememberData()?R.a.getUserLogin().autoLoginRequest().then(r).then(e).catch(i):i()})})},initDoneEvent:function(t){!1===this.readyToRenderEvents[t]&&(this.readyToRenderEvents[t]=!0),!this._initDone&&v.a.every(this.readyToRenderEvents,r)&&(D.a.off("all",this.initDoneEvent,this),this._initDone=!0,this.createAppView())},createOfflinePage:function(e){var i=(n(772),t("#wrapper")[0]),r=function(){d.a.findDOMNode(i)&&d.a.unmountComponentAtNode(i),window.location.reload(!0)};d.a.render(c.a.createElement(it,{onLine:r,testUrl:e}),i)},getContainer:function(){return nt.a.mobile()?this.getWrapperElement():this.getMainBoxElement()},getMainBoxElement:function(){return this.router.appView.mainBoxElement},getWrapperElement:function(){return this.router.appView.wrapperElement},getPopupsPlaceholder:function(){return this.router.appView.popupsPlaceholderElement},createAppView:function(){var t=n(75),e=n(1828);t.trackDcmEvent("sitev"),t.trackFBEvent("PageView"),this.router=new e,new I.a,y.a.history.start()},initAuthorizedScripts:function(){var t=this;if(this.settings.checkTipranksEnabled().then(function(e){return e&&t.includeScript("tipranks",t.settings.getTipranksScriptLocation())}),this.settings.checkEventsAndTradeEnabled().then(function(e){return e&&t.includeScript("events-and-trade",t.settings.getEventsAndTradeScriptLocation())}),this.settings.isPlatformMessagingEnabled()&&this.includeScript("in-platform-messaging",this.settings.getPlatformMessagingScriptLocation()),window.PushNotification&&window.device){window.PushNotification.init({android:{},browser:{pushServiceURL:"http://push.api.phonegap.com/v1/push"},ios:{alert:"true",badge:!0,sound:"false"},windows:{}}).on("registration",function(t){var e=t.registrationId;G.a.storeMobilePushId(e,device.uuid+".com.markets.android")})}},initUnauthorizedScripts:function(){if(this.settings.isGtmTrackingEnabled()){var t=this.settings.getGtmTrackingId();window.dataLayer=window.dataLayer||[],window.dataLayer.push({"gtm.start":(new Date).getTime(),event:"gtm.js"}),this.includeScript("gtm-tracking","https://www.googletagmanager.com/gtm.js?id="+t)}if(this.settings.isDcmTrackingEnabled()){var e=this.settings.getDcmTrackingId();window.dataLayer=window.dataLayer||[],window.gtag=function(){dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",e),this.includeScript("dcm-tracking","https://www.googletagmanager.com/gtag/js?id="+e)}if(this.settings.isSocialLoginGoogleEnabled(),this.settings.isSocialLoginFacebookEnabled(),this.settings.isFBTrackingEnabled()){var n=this.settings.getFBTrackingID();n&&(!function(t,e,n,i,r,o,s){t.fbq||(r=t.fbq=function(){r.callMethod?r.callMethod.apply(r,arguments):r.queue.push(arguments)},t._fbq||(t._fbq=r),r.push=r,r.loaded=!0,r.version="2.0",r.queue=[],o=e.createElement(n),o.async=!0,o.src="https://connect.facebook.net/en_US/fbevents.js",s=e.getElementsByTagName(n)[0],s.parentNode.insertBefore(o,s))}(window,document,"script"),window.fbq("init",n))}this.settings.isCaptchaEnabled()&&this.includeScript("recaptcha","https://www.google.com/recaptcha/api.js")},includeScript:function(t,e,n){e&&this.includeElement("script",t,{type:"text/javascript",defer:"",async:"",src:e,onload:n})},includeElement:function(t,e,n){if(!document.getElementById(t+"-"+e)){var i=document.createElement("script");for(var r in n)n.hasOwnProperty(r)&&n[r]&&i.setAttribute(r,n[r]);i.setAttribute("id",t+"-"+e),document.head.appendChild(i)}},getPlatformHost:function(){var t=localStorage.getItem("_platform_host_");return t||"live-trader.markets.com"},setPlatformHost:function(t){localStorage.setItem("_platform_host_",t)},getPhoneGapPlatformServerBaseUrl:function(){return"https://"+this.getPlatformHost()+"/trading-platform/"}}),window._app=new e,window.__VERSION__={hash:"c45d5acc6ebdbd7dd9a2f26e076b3b4351ef285a\n",time:"2019-05-07T10:12:58.107Z"}}.call(e,n(5))},function(t,e){},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r))return t;var o;return o=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},function(t,e){},function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function i(t){return t}function r(t,e,n){function r(t,e){var n=b.hasOwnProperty(e)?b[e]:null;E.hasOwnProperty(e)&&a("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",e),t&&a("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",e)}function c(t,n){if(n){a("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),a(!e(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var i=t.prototype,o=i.__reactAutoBindPairs;n.hasOwnProperty(l)&&_.mixins(t,n.mixins);for(var s in n)if(n.hasOwnProperty(s)&&s!==l){var c=n[s],u=i.hasOwnProperty(s);if(r(u,s),_.hasOwnProperty(s))_[s](t,c);else{var d=b.hasOwnProperty(s),f="function"==typeof c,m=f&&!d&&!u&&!1!==n.autobind;if(m)o.push(s,c),i[s]=c;else if(u){var g=b[s];a(d&&("DEFINE_MANY_MERGED"===g||"DEFINE_MANY"===g),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",g,s),"DEFINE_MANY_MERGED"===g?i[s]=h(i[s],c):"DEFINE_MANY"===g&&(i[s]=p(i[s],c))}else i[s]=c}}}else;}function u(t,e){if(e)for(var n in e){var i=e[n];if(e.hasOwnProperty(n)){var r=n in _;a(!r,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var o=n in t;if(o){var s=y.hasOwnProperty(n)?y[n]:null;return a("DEFINE_MANY_MERGED"===s,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(t[n]=h(t[n],i))}t[n]=i}}}function d(t,e){a(t&&e&&"object"==typeof t&&"object"==typeof e,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in e)e.hasOwnProperty(n)&&(a(void 0===t[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),t[n]=e[n]);return t}function h(t,e){return function(){var n=t.apply(this,arguments),i=e.apply(this,arguments);if(null==n)return i;if(null==i)return n;var r={};return d(r,n),d(r,i),r}}function p(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function f(t,e){var n=e.bind(t);return n}function m(t){for(var e=t.__reactAutoBindPairs,n=0;n<e.length;n+=2){var i=e[n],r=e[n+1];t[i]=f(t,r)}}function g(t){var e=i(function(t,i,r){this.__reactAutoBindPairs.length&&m(this),this.props=t,this.context=i,this.refs=s,this.updater=r||n,this.state=null;var o=this.getInitialState?this.getInitialState():null;a("object"==typeof o&&!Array.isArray(o),"%s.getInitialState(): must return an object or null",e.displayName||"ReactCompositeComponent"),this.state=o});e.prototype=new x,e.prototype.constructor=e,e.prototype.__reactAutoBindPairs=[],v.forEach(c.bind(null,e)),c(e,w),c(e,t),c(e,S),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),a(e.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var r in b)e.prototype[r]||(e.prototype[r]=null);return e}var v=[],b={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},y={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},_={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)c(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=o({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=o({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=h(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=o({},t.propTypes,e)},statics:function(t,e){u(t,e)},autobind:function(){}},w={componentDidMount:function(){this.__isMounted=!0}},S={componentWillUnmount:function(){this.__isMounted=!1}},E={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t,e)},isMounted:function(){return!!this.__isMounted}},x=function(){};return o(x.prototype,t.prototype,E),g}var o=n(34),s=n(169),a=n(19),l="mixins";t.exports=r},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(13),o=n(0),s=n(45),a=n(38),l=n(3),c=n(1236),u=n(9),d=n(10),h=d.INSTRUMENT_TYPE_FOREX,p=d.POSITION_DIRECTION_BUY,f=d.POSITION_DIRECTION_SELL,m=n(10),g=m.PERCENTS_100;i.exports=r.extend({defaults:function(){return{ticker:null,sentiment:null,category:"",categoryList:[],symbol:"",description:"",name:"",id:null,enable:!0,active:!0,ask:0,askDirection:0,baseCurrency:null,bid:0,bidDirection:!1,currency:"",dayClose:!1,dayHigh:0,dayLow:0,dayOpen:0,displayName:"",domain:"",instrumentId:0,instrumentSymbol:"",isCategory:!1,isInstrument:!0,limitStopDistance:0,lotName:"",lotSize:1,markDirection:0,markPrice:"NaN",maxOrderSize:1e3,minOrderIncrement:1,minOrderSize:1,orders:new s,percentChange:!1,pipsPrecision:0,precision:0,trading:"",visible:!0,allowOrdersOutsideOfTradingHours:!1,type:"",argsForFormulaInAccountCurrency:"",argsForFormulaInInstrumentCurrency:"",formulaInAccountCurrency:"",formulaInInstrumentCurrency:"",tieredMarginApplied:!1,positionCode:null,outOfMarketHours:!1,tradeStatus:"",isMarginLevelLow:!1,tradable:!0,buyTradable:!0,sellTradable:!0,editable:!0,closable:!0,basket:null,positions:new s,priceAlerts:new s,expirationDays:null}},initialize:function(){this.status=new c({instrument:this}),this.on("change:bid change:dayClose",this.updatePercentChange),this.on("change:outOfMarketHours change:isMarginLevelLow change:trading change:visible change:allowOrdersOutsideOfTradingHours",this.updateTradable),this.on("change:outOfMarketHours change:trading change:allowOrdersOutsideOfTradingHours",this.updateClosable),this.listenToOnce(this,"change:bid change:ask",this.updateTradable)},getId:function(){return this.get("id")},getCategoryName:function(){return this.get("category")},isActive:function(){return!0===this.get("active")},isEnabled:function(){return!0===this.get("enable")},isDisabled:function(){return!1===this.get("enable")},isTradableBySide:function(t){var e=String(t).toLowerCase();return e===p?this.isBuyTradable():e===f?this.isSellTradable():this.status.isTradable()},isBuyTradable:function(){return this.get("buyTradable")},isSellTradable:function(){return this.get("sellTradable")},isEditable:function(){return this.get("editable")},isClosable:function(){return this.get("closable")},isOutOfMarketHours:function(){return this.get("outOfMarketHours")},enable:function(){this.set("enable",!0)},disable:function(){this.set("enable",!1)},getName:function(){return this.get("name")},getSymbol:function(){return this.get("symbol")||this.getName()},updatePercentChange:function(){var t=this.get("bid"),e=this.get("dayClose");if(!1!==t&&!1!==e){e=Number(e),e=o.isNaN(e)?0:e;var n=e?(t-e)/e*g:0;this.set("percentChange",Number(n.toFixed(2)))}},updateTradable:function(){this.set("buyTradable",this.status.isBuyTradable()),this.set("sellTradable",this.status.isSellTradable()),this.set("editable",this.status.isEditable())},updateClosable:function(){this.set("closable",this.status.isClosable()),this.set("cancelable",this.status.isCancelable())},getPercentChange:function(){var t=this.get("bid"),e=this.get("dayClose");return e?((t-e)/e*g).toFixed(2):0},isPercentChangeIncreasing:function(){return this.getPercentChange()>=0},getPercentStr:function(){var t=this.getPercentChange();return(t>=0?"+"+t:t)+"%"},getAmount:function(){return{amount:this.get("amount"),amountIncrement:this.get("amountIncrement")}},getAsk:function(t){return t?this.get("ask").toFixed(this.get("precision")):this.get("ask")},getBid:function(t){var e=this.get("bid");return!1===e?"":t?e.toFixed(this.get("precision")):e},getRateByType:function(t){return"ask"===t?this.getAsk():this.getBid()},fixRate:function(t){return Number(t).toFixed(this.getPrecision())},getAskDirection:function(){return this.get("askDirection")},getBidDirection:function(){return this.get("bidDirection")},getBaseCurrency:function(){return this.get("baseCurrency")},getCurrency:function(){var t=this.get("currency");return t?String(t).replace("$",""):""},getCurrencySymbol:function(){var t=this.getCurrency();return t?__currency(t):""},getBaseCurrencySymbol:function(){var t=this.get("baseCurrency");return t?__currency(t):""},isAmountWordUsed:function(){return this.isTypeForex()&&"currency.crypto"!==this.getCategoryName()},getAmountLabel:function(){return this.isAmountWordUsed()?__("order.form.amount.frx"):__("order.form.amount.cfd")},getDayClose:function(){return this.get("dayClose")},getDayHigh:function(){return this.get("dayHigh")},getDayLow:function(){return this.get("dayLow")},getDayOpen:function(){return this.get("dayOpen")},getDisplayName:function(){return this.get("displayName")||this.getName()},getDomain:function(){return this.get("domain")},getInstrumentId:function(){return this.get("instrumentId")||this.getId()},getInstrumentSymbol:function(){return this.get("instrumentSymbol")},isCategory:function(){return this.get("isCategory")},isInstrument:function(){return this.get("isInstrument")},getLimitStopDistance:function(){return Number(this.get("limitStopDistance"))},getLotName:function(){return this.get("lotName")},getLotSize:function(){return this.get("lotSize")},getMarginRate:function(){return this.get("marginRate")},getMarkDirection:function(){return this.get("markDirection")},getMarkPrice:function(){return this.get("markPrice")},getMaxOrderSize:function(){return this.get("maxOrderSize")*this.getLotSize()},getMinOrderIncrement:function(){return this.get("minOrderIncrement")*this.getLotSize()},getMinOrderSize:function(){return this.get("minOrderSize")*this.getLotSize()},getMinOrderSizeFormatted:function(){return this.getBaseCurrencySymbol()?a(this.getMinOrderSize()).formatForeignCurrency(this.getBaseCurrencySymbol(),"$0,0.[00]"):a(this.getMinOrderSize()).format("0,0.[00]")+" "+__("instrument_info.min_trade_size.units")},getOrders:function(){return this.get("orders")},hasOrders:function(){return this.getOrders().length>0},getPipsPrecision:function(){return Number(this.get("pipsPrecision"))},getPrecision:function(){return Number(this.get("precision"))},getPrecisionAsFloat:function(){return 1/Math.pow(10,this.getPrecision())},getTradingMode:function(){return this.get("trading")},isAllowOrdersOutsideOfTradingHours:function(){return this.get("allowOrdersOutsideOfTradingHours")},isMarginLevelLow:function(){return this.get("isMarginLevelLow")},getType:function(){return this.get("type")},isVisible:function(){return!0===this.get("visible")},getPrecisionSize:function(){return this.convertPrecision(this.getPrecision())},getPipsPrecisionSize:function(t){return this.convertPrecision(t||this.getPipsPrecision())},convertPrecision:function(t){return 1/Math.pow(10,t)},getPipsPrecisionDiff:function(){var t=this.getPipsPrecision(),e=this.getPrecision();return Math.abs(e-t)},getPipsPrecisionStep:function(){return this.getPipsPrecisionSize(this.getPipsPrecisionDiff())},getArgsForFormulaInAccountCurrency:function(){return this.get("argsForFormulaInAccountCurrency")},getArgsForFormulaInInstrumentCurrency:function(){return this.get("argsForFormulaInInstrumentCurrency")},getFormulaInAccountCurrency:function(){return this.get("formulaInAccountCurrency")},getFormulaInInstrumentCurrency:function(){return this.get("formulaInInstrumentCurrency")},isFormulaInAccountCurrencyNotEmpty:function(){return!o.isEmpty(this.getFormulaInAccountCurrency())},isFormulaInInstrumentCurrencyNotEmpty:function(){return!o.isEmpty(this.getFormulaInInstrumentCurrency())},getMidRate:function(){return(this.getAsk()+this.getBid())/2},getDescription:function(){return this.get("description")},isTypeForex:function(){return this.getType()===h},getPositions:function(){return this.get("positions")},hasPositions:function(){return this.getPositions().length>0},getSortedPositions:function(){return this.get("positions").sortBy(function(t){return Math.abs(t.get("modifiedTime"))})},addPosition:function(t){this.getPositions().add(t),t.once("remove",function(t){this.getPositions().remove(t),t.trigger("ui:position-closed",t)},this)},addOrder:function(t){this.getOrders().add(t),t.once("remove",function(t){this.getOrders().remove(t),t.trigger("ui:order-closed",t)},this)},getPriceAlerts:function(){return this.get("priceAlerts")},getSavedPriceAlerts:function(){return this.getPriceAlerts().filter(function(t){return t.isAvailableOnServer()})},addPriceAlert:function(t){this.getPriceAlerts().add(t),t.on("delete",function(){this.getPriceAlerts().remove(t,{silent:!0}),0===this.getPriceAlerts().length&&o.delay(function(){this.trigger("change:priceAlertsAvailability",this,{})}.bind(this),1)},this)},getTicker:function(){return this.get("ticker")},getSellPrice:function(){return this.getBid()},getBuyPrice:function(){return this.getAsk()},getSellDirection:function(){return this.get("bidDirection")},getBuyDirection:function(){return this.get("askDirection")},getBasket:function(){return this.get("basket")},checkInsightsEnabled:function(){return Promise.all([u.checkEventsAndTradeEnabled(),u.checkTipranksEnabled(),u.checkInsidersEnabled(),u.checkBloggersEnabled()]).then(function(t){return Promise.resolve(o.some(t))})},isFractionalAmountEnabled:function(){return this.getMinOrderIncrement()%1!=0},getExpirationDays:function(){return this.get("expirationDays")},getExpirationDate:function(){var t=this.getExpirationDays();return t?l().add(t,"days").utc().format("DD/MM/YYYY"):null},getGroupName:function(){return n(1370)(this.getCategoryName(),this.getSymbol())},getCategoryList:function(){return this.get("categoryList")||[]},isTieredMarginApplied:function(){return this.get("tieredMarginApplied")}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(13),s=n(9),a=n(675),l=a.NO_MODE,c=a.CLOSE_ONLY_MODE,u=a.LONG_ONLY_MODE,d=a.SHORT_ONLY_MODE,h=a.FULL_MODE,p=n(10),f=p.YES,m=p.NO;i.exports=o.extend({getInstrument:function(){return this.get("instrument")},isVisible:function(){return this.getInstrument().isVisible()},isOutOfMarketHours:function(){return this.getInstrument().isOutOfMarketHours()},isTradableOutsideOfTradingHours:function(){return this.getInstrument().isAllowOrdersOutsideOfTradingHours()},canTradeOutsideOfTradingHours:function(){return this.isOutOfMarketHours()&&this.isTradableOutsideOfTradingHours()},isMarginLevelLow:function(){return this.getInstrument().isMarginLevelLow()},hasTradingMode:function(t){return this.getInstrument().getTradingMode()===t},isEditable:function(){return(!this.isOutOfMarketHours()||this.canTradeOutsideOfTradingHours())&&!(this.hasTradingMode(l)||this.hasTradingMode(c))},isClosable:function(){return!this.isOutOfMarketHours()&&!this.hasTradingMode(l)},isCancelable:function(){return(!this.isOutOfMarketHours()||this.canTradeOutsideOfTradingHours())&&!this.hasTradingMode(l)},isBuyTradable:function(){return this.isVisible()&&this.hasAsk()&&!this.isMarginLevelLow()&&(!this.isOutOfMarketHours()||this.canTradeOutsideOfTradingHours())&&(this.hasTradingMode(h)||this.hasTradingMode(u))},isSellTradable:function(){return this.isVisible()&&this.hasBid()&&!this.isMarginLevelLow()&&(!this.isOutOfMarketHours()||this.canTradeOutsideOfTradingHours())&&(this.hasTradingMode(h)||this.hasTradingMode(d))},hasBid:function(){return this.getInstrument().getBid()>0},hasAsk:function(){return this.getInstrument().getAsk()>0},isTradable:function(){return this.isBuyTradable()&&this.isSellTradable()},getStatusMessage:function(){return this.isVisible()&&this.hasBid()&&this.hasAsk()?this.hasTradingMode(l)?__("accountInfo.outOfMarket.other"):this.canTradeOutsideOfTradingHours()?__("instrument.info.trading.outside_of_trading_hours"):this.isOutOfMarketHours()?__("accountInfo.outOfMarket.notrade"):this.hasTradingMode(c)?__("accountInfo.outOfMarket.close"):this.hasTradingMode(u)?__("instrument.info.trading.restricted.sell"):this.hasTradingMode(d)?__("instrument.info.trading.restricted.buy"):__("accountInfo.outOfMarket.trade"):__("accountInfo.outOfMarket.other")},getNotClosableMessage:function(){return this.hasTradingMode(l)?__("accountInfo.outOfMarket.other"):this.canTradeOutsideOfTradingHours()?__("button.tooltip.trading.outside_of_trading_hours"):this.isOutOfMarketHours()?__("accountInfo.outOfMarket.notrade"):""},getNotCancelableMessage:function(){return this.hasTradingMode(l)?__("accountInfo.outOfMarket.other"):this.isOutOfMarketHours()?__("accountInfo.outOfMarket.notrade"):""},getNotTradableMessage:function(){return this.isVisible()?this.hasTradingMode(l)?__("accountInfo.outOfMarket.other"):this.canTradeOutsideOfTradingHours()?__("button.tooltip.trading.outside_of_trading_hours"):this.isOutOfMarketHours()?__("accountInfo.outOfMarket.notrade"):this.hasTradingMode(c)?__("accountInfo.outOfMarket.close"):this.hasTradingMode(d)?__("accountInfo.outOfMarket.buy"):this.hasTradingMode(u)?__("accountInfo.outOfMarket.sell"):this.isMarginLevelLow()?__("margin.level_2.buy_sell_button_tooltip.description"):"":__("accountInfo.outOfMarket.other")},getEditableMessage:function(){return this.isEditable()?"":this.getNotTradableMessage()},getClosableMessage:function(){return this.isClosable()?"":this.getNotClosableMessage()},getCancelableMessage:function(){return this.isCancelable()?"":this.getNotCancelableMessage()},getBuyTradableMessage:function(){return this.getNotTradableMessage()},getSellTradableMessage:function(){return this.getNotTradableMessage()},getTradableInstruments_24_7_Text:function(){return r.contains(s.getTradableInstruments_24_7(),this.getInstrument().getSymbol())?__("instrument_info.tradable_24_7"):""},canTradeOutsideOfTradingHoursMessage:function(){return this.isTradableOutsideOfTradingHours()?__(f):__(m)}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function i(t){var e=String(t).match(/(\d*)(\w*)/),n=e&&Number(e[1]),i=e&&e[2];if(l.isNumber(n))switch(i){case"s":return n*u;case"m":return n*d;case"h":return n*h;case"d":return n*p;case"W":return n*f;case"M":return n*m;case"Y":return n*g;default:return Number(n)}throw new Error('Unknown duration format "'+t+'"')}function r(t){var e=c[t];if(e){var n=e.lastUpdated,i=e.duration;return l.now()-n>=i}return!1}function o(t){return r(t)?null:c[t]}function s(t,e,n){var r=c[t],o=n?i(n):r?r.duration:v,s=r?r.debouncedDelete:l.debounce(function(){return a(t)},o);return c[t]={data:e,duration:o,lastUpdated:l.now(),debouncedDelete:s},s(),e}function a(t){delete c[t]}Object.defineProperty(e,"__esModule",{value:!0}),e.convertStrToTimestamp=i,e.isOutdated=r,e.getCache=o,e.putCache=s,e.deleteCache=a;var l=n(0),c={},u=1e3,d=60*u,h=60*d,p=24*h,f=7*p,m=4*f,g=12*m,v=i("5m")},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=(n(0),n(17)),o=n(52).resizeString,s=n(2),a=r.Model.extend({defaults:function(){return{user:{fullName:"",email:""}}},initialize:function(){this.listenTo(s,"stream:type:USER_LOGIN_INFO",this._onStreamUpdate)},getFullName:function(t,e){return o(this.get("user").fullName,t,e)},getEmail:function(t,e){return o(this.get("user").email,t,e)},getSessionId:function(){return this.get("sessionId")},getAccountCode:function(){return this.get("account")?this.get("account").accountCode:null},_onStreamUpdate:function(t){t.user.fullName=t.user.fullName.replace(/'/g,"").trim(),this.set(t),s.trigger("user:info",this.toJSON())}});i.exports=a}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(17),o=n(2),s=n(6),a=n(22),l=n(136),c=l.setFavoriteInstruments,u=r.Model.extend({defaults:function(){return{favorites:[]}},getFavorites:function(){return this.get("favorites")},initialize:function(){this.listenTo(o,"stream:type:FAVOURITES",this._onStreamUpdate)},updateFavorites:function(t,e){var n=this.getFavorites();return"add"===e?-1===n.indexOf(t)&&(n.push(t),this.set("favorites",n)):"remove"===e&&-1!==n.indexOf(t)&&(n.splice(n.indexOf(t),1),this.set("favorites",n)),s.updateFavorites(a.getAtmosphereId(),t,e).then(function(){o.trigger("favorites:update")})},_onStreamUpdate:function(t){t=t.filter(function(t){return""!==t}),store.dispatch(c(t)),this.set("favorites",t)}});i.exports=u}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(2),s=n(17),a=5e3,l=100,c=/^(\d\d\|)[a-zA-Z0-9-]{1,}(\|0\|X\|)$/g,u="Websocket... CLOSE MAX_RECONNECT_ATTEMPTS reached",d="Websocket... CLOSE missing atmosphereId",h=function(t,e,n){return"Websocket... CLOSE triggered by native event. code: "+t+" reason: "+e+". Last message at "+(Date.now()-n)/1e3+"sec ago"},p=function(t){return"Websocket... Try to reconnect attempt #"+t},f=function(t){function e(t){var i=new WebSocket(t);i.onopen=function(t){n._reconnectionAttempts=0,n.__lastMessage=Date.now(),n.trigger("open",t)},i.onerror=function(t){n.trigger("error",t)},i.onmessage=function(t){n.__lastMessage=Date.now();var e=t.data;c.test(e)&&(n.atmosphereId=e.split("|")[1]),setTimeout(function(){return n.trigger("message",e)},0)},i.onclose=function(t){var i=t.code,r=t.reason,s=h(i,r,n.__lastMessage);return o.trigger("log:info",s),n._reconnectionAttempts===l?(o.trigger("log:error",u),void n.trigger("close",t)):n.atmosphereId?void setTimeout(function(){var t=n._reconnectionAttempts++;o.trigger("log:info",p(t)),e(n.addr.replace("X-Atmosphere-tracking-id=0","X-Atmosphere-tracking-id="+n.atmosphereId).replace("sessionState=dx-new","sessionState=dx-recover"))},a):(o.trigger("log:error",d),void n.trigger("close",t))}}this.addr=t,i.extend(this,s.Events);var n=this;n._reconnectionAttempts=0,n.atmosphereId=null,e(n.addr)};r.exports=f}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports=""},function(t,e,n){var i;void 0!==(i=function(t,e,n){var i=Object.freeze({ARABIC:"ar",CZECH:"cz",DANISH:"da",DUTCH:"nl",FINNISH:"fi",FRENCH:"fr",GERMAN:"de",GREEK:"el",ITALIAN:"it",NORWEGIAN:"no",POLISH:"pl",RUSSIAN:"ru",SPANISH:"es",SWEDISH:"sv",ENGLISH:"en"});n.exports={LANGUAGE:i}}.call(e,n,e,t))&&(t.exports=i)},function(t,e){t.exports='<div class="popup-box popup-size-<%-options.size%> popup-valign-<%-options.valign%> popup-halign-<%-options.halign%> <%=options.nameClass%> "><div class="popup-panel"><div class="popup-holder"><div class="popup-content" style="<%- options.boxWidth ? \'width:\' + options.boxWidth + \';\' : \'\' %><%- options.maxBoxWidth ? \'max-width:\' + options.maxBoxWidth + \';\' : \'\' %>"> <% if (options.isHeaderShowed) { %> <div class="popup-header popup-header-bg-style-<%-options.headerBgStyle%> popup-header-style-<%-options.headerStyle%> hidden-xs"><div class="popup-header-icon"></div><div class="popup-caption flex flex-valign-center"> <% if (options.headerStyle == \'default\') { %> <span><%=_.first(options.caption)%></span>&nbsp;<span><%=_.rest(options.caption).join(\' \')%></span> <% } %> <%\n                        if (options.headerStyle == \'order\')\n                        {\n                            var elements = options.caption.map(function(v) {\n                                return \'<span>\'+v+\'</span>\';\n                            });\n                            %> <div class="text"><%=elements.join(\'<b>|</b>\')%></div><div class="information"><%=options.captionInfo%></div> <% } %> </div><div class="popup-actions fn-close-popup btn"><i class="icon-close-<%-options.closeIconStyle%>"></i></div></div> <% if (options.size == \'default\') { %> <div class="popup-mobile-header visible-xs"><div class="prev btn fn-close-popup"><i class="icon arrow"></i></div><div class="center"> <%= _.isArray(options.caption) ? options.caption.join(\' \') : options.caption %> </div><div class="next btn"></div></div> <% } %> <% if (options.size == \'small\') { %> <div class="popup-header popup-header-bg-style-<%-options.headerBgStyle%> popup-header-style-<%-options.headerStyle%> visible-xs"><div class="popup-header-icon"></div><div class="popup-caption flex flex-align-center"><span><%=_.first(options.caption)%></span>&nbsp;<span><%=_.rest(options.caption).join(\' \')%></span></div></div> <% } %> <% } %> <div class="popup-body"></div></div></div></div></div>'},function(t,e){t.exports='<div class="message-box <%=options.isHeaderShowed ? \'message-box-with-header\' : \'\'%>"> <% if (options.showLogo) { %> <div class="logotype-box"><span class="logotype header-logo <%=options.isLightTheme ? \'logotype--dark\' : \'\' %>"></span></div> <% } %> <% if (options.isMarketsXPromotion) { %> <div class="logo"></div> <% } %> <div class="text subHeader"><%=options.subHeader%></div> <% if (options.caption && !options.isHeaderShowed) { %> <div class="title"><%=(_.isArray(options.caption) ? options.caption.join(\' \') : options.caption)%></div> <% } %> <div class="text"><%=options.text%></div><div class="text"><%=options.messageContent%></div> <% if (options.isShowOkButton) { %> <div class="actions <% if (options.isShowCloseForMobile) {%>hidden-xs<% } %>"><button class="btn btn-primary"><%=options.okBtnText%></button></div> <% } %> </div> <% if (options.isShowCloseForMobile) { %> <div class="message-box-double-actions visible-xs"><div class="actions flex"><div class="block-button flex"><button class="btn fn-close-popup"><span class="flex flex-align-center flex-valign-center"><%=__(\'actions.close\')%></span></button></div> <% if (options.isShowOkButton) { %> <div class="block-button flex"><button class="btn btn-primary fn-ok"><span class="flex flex-align-center flex-valign-center"><%=options.okBtnText%></span></button></div> <% } %> </div></div> <% } %>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(289),r=n(838),o=n(274),s=n(136),a=n(361),l=n.n(a),c=n(2),u=n.n(c),d=n(0),h=n.n(d),p=n(14),f=n.n(p),m=n(58),g=n.n(m),v=n(108),b=n.n(v),y=n(874),_=n.n(y),w=n(875),S=n.n(w),E=n(257),x=n.n(E),C=n(10),T=n(289),k=function(t){return!h.a.isEmpty(t.positionCode)&&h.a.isNumber(t.margin)&&h.a.isNumber(t.plOpen)&&h.a.isNumber(t.totalPL)},O=function(t){return JSON.parse(JSON.stringify(t))},P=h.a.extend({},l.a,{_cachedPositionsMetrics:{},initialize:function(){var t=this;this.listenTo(u.a,"stream:type:REQUIRED_MARGIN",this.onRequiredMargin),this.listenTo(u.a,"stream:type:SUMMARY",this.onSummary),this.listenTo(u.a,"stream:type:QUOTE",this.onQuote),this.listenTo(u.a,"stream:type:INSTRUMENT_SETTINGS_UPDATE",function(e){store.dispatch(Object(o.instrumentSettingsUpdate)(O(e))),t.onInstrumentSetting(e)}),this.listenTo(u.a,"stream:type:INSTRUMENT_TRADE_STATUSES",function(e){store.dispatch(Object(o.instrumentTradeStatuses)(O(e))),t.onInstrumentSetting(e)}),this.listenTo(u.a,"stream:type:FX_INSTRUMENT",this.onFxInstrument),this.listenTo(u.a,"stream:type:OPEN_POSITION",this.onOpenPosition),this.listenTo(u.a,"stream:type:POSITION_METRICS",this.onPositionMetrics),this.listenTo(u.a,"stream:type:HISTORY_ORDER",this.onHistoryOrder),this.listenTo(u.a,"stream:type:HISTORY_ORDER_FILTERS",this.onHistoryOrderFilters),this.listenTo(u.a,"stream:type:CLOSED_POSITION",this.onClosedPositions),this.listenTo(u.a,"stream:type:CLOSED_POSITION_FILTERS",this.onClosedPositionsFilters),this.listenTo(u.a,"stream:type:FX_SYSTEM_SETTINGS",this.onFxSystemSettings),this.listenTo(u.a,"stream:type:ORDER",this.onOrder),this.listenTo(u.a,"stream:type:OPEN_POSITION_FILTERS",this.onOpenPositionFilters),this.listenTo(u.a,"stream:type:REQUIRED_MARGIN",this.onRequiredMargin),this.listenTo(u.a,"stream:type:SUMMARY",this.onSummary),this.listenTo(u.a,"stream:type:QUOTE",this.onQuote),this.listenTo(u.a,"stream:type:SWAP_RATE",this.onSwapRate),this.listenTo(u.a,"stream:type:TOTALS",this.onTotal)},updateInstruments:function(t,e){h.a.each(t,function(t){var n=void 0;if(t.positionCode){var i=g.a.getPositionByCode(t.positionCode),r=i&&i.get("instrumentId");n=f.a.getInstrumentById(r),delete t.instrumentSymbol,delete t.positionCode}else{var o=t[e];n=f.a.getInstrumentBySymbol(o),n||(n=f.a.createInstrument(t))}n.set(t)})},updatePositions:function(t,e){var n=this;h.a.each(t,function(t){var i=t[e],r=g.a.getPositionByCode(i);if(!r&&h.a.has(t,"instrumentId")){var o=h.a.isEmpty(n._cachedPositionsMetrics[i])?{}:n._cachedPositionsMetrics[i];r=g.a.createPosition(h.a.extend(o,t,{positionCode:i}))}r&&r.set(t)}),g.a.ready(),g.a.trigger("update")},updateOrders:function(t){h.a.chain(t).filter(function(t){return!h.a.contains([C.ORDER_EXECUTION_STATUS_WAITING_GSL],t.lastExecutionStatus)}).each(function(t){var e=t.orderChainId,n=t.status===C.WORKING&&t.timeInForce===C.TIME_IN_FORCE_GTC,i=b.a.getOrderById(e);if(h.a.has(t,"requestId")){var r=x.a.get(t.requestId);r&&(__eventos("tradingPlatform:orderForm:serverResponse",h.a.extend(r,{orderStatus:C.APPROVED,positionId:t.orderChainId})),x.a.delete(t.requestId))}if(!n)return void b.a.remove(i);i||(i=b.a.createOrder(h.a.extend({},t,{orderChainId:e}))),i&&i.set(t)}),b.a.ready(),b.a.trigger("update")},onClosedPositionsFilters:function(t){var e=h.a.first(t);switch(!h.a.isEmpty(e)&&h.a.isString(e.id)&&e.id.split(".").pop()){case"":S.a.filteredData(e.filteredIds);break;case"-filter-all":S.a.allFilterData(e.filteredIds)}},onClosedPositions:function(t){S.a.fillBuffer(t)},updateOrderHistoryFilter:function(t){var e=h.a.first(t);switch(!h.a.isEmpty(e)&&h.a.isString(e.id)&&e.id.split(".").pop()){case"C":_.a.cancelledFilterData(e.filteredIds);break;case"R":_.a.rejectedFilterData(e.filteredIds);break;case"CR-filter-all":_.a.allFilterData(e.filteredIds)}},updateOrderHistory:function(t){_.a.fillBuffer(t)},onRequiredMargin:function(t){this.updateInstruments(t,"instrumentSymbol")},onSummary:function(t){store.dispatch(Object(o.summary)(O(t))),this.updateInstruments(t,"symbol")},onQuote:function(t){store.dispatch(Object(o.updateInstrumentsQuote)(O(t))),this.updateInstruments(t,"symbol")},onFxInstrument:function(t){store.dispatch(Object(o.fxInstrument)(O(t))),this.updateInstruments(t,"symbol")},onInstrumentSetting:function(t){this.updateInstruments(t,"instrumentSymbol")},onOpenPosition:function(t){store.dispatch(Object(i.openPosition)(O(t))),t&&t.edited&&t.edited.length&&(this.updatePositions(t.edited,"positionCode"),store.dispatch(Object(T.clearClosedPosition)({positionsArr:t.edited,removed:!1}))),t&&t.removed&&t.removed.length&&(g.a.removePositionsByCode(t.removed),store.dispatch(Object(T.clearClosedPosition)({positionsArr:t.removed,removed:!0})))},onPositionMetrics:function(t){var e=this;store.dispatch(Object(i.positionMetrics)(O(t)));var n=h.a.filter(t,k);h.a.each(n,function(t){e._cachedPositionsMetrics[t.positionCode]=t}),this.updatePositions(n,"positionCode")},onHistoryOrderFilters:function(t){this.updateOrderHistoryFilter(t)},onHistoryOrder:function(t){this.updateOrderHistory(t)},onFxSystemSettings:function(t){store.dispatch(Object(o.fxSystemSettings)(O(t))),h.a.has(t,"overnightInterestTime")&&(f.a.overnightInterestTime=t.overnightInterestTime)},onOrder:function(t){store.dispatch(Object(r.d)(O(t))),t&&t.edited&&t.edited.length&&this.updateOrders(t.edited),t&&t.removed&&t.removed.length&&b.a.removeOrdersByIds(t.removed)},onTotal:function(t){store.dispatch(Object(s.totals)(t))},onOpenPositionFilters:function(t){store.dispatch(Object(i.openPositionFilters)(t))},onSwapRate:function(t){store.dispatch(Object(o.swapRatesReceived)(O(t)))}});P.initialize(),e.default=P},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(13),o=n(14),s=r.extend({idAttribute:"positionCode",defaults:function(){return{accountId:0,amountIncrement:0,cost:0,costBasis:0,instrumentId:0,modifiedTime:0,positionCode:"",quantity:0,stopLoss:null,takeProfit:null,time:0,uid:"",userLogin:""}},_isInstrumentLinked:!1,getAccountId:function(){return this.get("accountId")},getCost:function(){return this.get("cost")},getCostBasis:function(){return this.get("costBasis")},getInstrumentId:function(){return this.get("instrumentId")},getModifiedTime:function(){return this.get("modifiedTime")},getPositionCode:function(){return this.get("positionCode")},getQuantity:function(){return this.get("quantity")},getStopLoss:function(){return this.get("stopLoss")},getTakeProfit:function(){return this.get("takeProfit")},getTime:function(){return this.get("time")},getUid:function(){return this.get("uid")},getUserLogin:function(){return this.get("userLogin")},getAdjustment:function(){return this.get("adjustment")},getDividends:function(){return this.get("dividends")},getFinancing:function(){return this.get("financing")},getCommision:function(){return this.getDividends()+this.getAdjustment()+this.getFinancing()},getPLOpen:function(){return this.get("plOpen")},set:function(){r.prototype.set.apply(this,arguments);var t=this.getInstrumentId();if(!this._isInstrumentLinked&&t){var e=o.getInstrumentById(t);e&&(e.addPosition(this),this._isInstrumentLinked=!0)}return this}});i.exports=s}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(13),o=n(14);i.exports=r.extend({idAttribute:"orderChainId",defaults:function(){return{accountId:0,amountIncrement:0,attached:!1,averagePrice:0,createdTime:0,filledQuantity:0,instrumentId:0,lastExecutionStatus:"",limitPrice:0,liquidation:!1,modifiedTime:0,ocoGroupCode:null,orderChainId:"",quantity:0,remainingQuantity:0,requestId:null,status:"",statusDescription:"",stopLimitPrice:0,stopLoss:null,stopPrice:"",stopPriceOffset:"",takeProfit:null,timeInForce:"",trailPrice:"",triggerPrice:1.08,type:""}},_isInstrumentLinked:!1,getInstrumentId:function(){return this.get("instrumentId")},getAction:function(){return this.get("quantity")>0?"Buy":this.get("quantity")<0?"Sell":void 0},getPrice:function(){return this.get("stopLimitPrice")},getLabel:function(){return"NaN"===this.get("stopPrice")?"above":"below"},isLimitPrice:function(){return"NaN"!==this.get("limitPrice")},getOrderChainId:function(){return this.get("orderChainId")},getInstrument:function(){return this.get("instrument")},isTakeProfit:function(){return!!this.get("takeProfit")},getTakeProfit:function(){return this.get("takeProfit").fixedPrice},isStopLoss:function(){return!!this.get("stopLoss")},getStopLoss:function(){return this.get("stopLoss").fixedPrice},getType:function(){return this.get("type")},set:function(){r.prototype.set.apply(this,arguments);var t=this.getInstrumentId();if(!this._isInstrumentLinked&&t){var e=o.getInstrumentById(t);e&&(e.addOrder(this),this._isInstrumentLinked=!0)}return this}})}.call(e,n,e,t))&&(t.exports=i)},,,,,,,,function(t,e,n){"use strict";function i(t){return"text"===t.type&&/\r?\n/.test(t.data)&&""===t.data.trim()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var o,s=n(174),a=n(1297),l=i(a),c=n(1298),u=i(c),d=n(1304),h=i(d),p=n(1305),f=i(p);e.default=(o={},r(o,s.ElementType.Text,l.default),r(o,s.ElementType.Tag,u.default),r(o,s.ElementType.Style,h.default),r(o,s.ElementType.Directive,f.default),r(o,s.ElementType.Comment,f.default),r(o,s.ElementType.Script,f.default),r(o,s.ElementType.CDATA,f.default),r(o,s.ElementType.Doctype,f.default),o)},function(t,e){t.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},function(t,e,n){"use strict";function i(t){console&&console.warn}function r(){r.init.call(this)}function o(t){return void 0===t._maxListeners?r.defaultMaxListeners:t._maxListeners}function s(t,e,n,r){var s,a,l;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(a=t._events,void 0===a?(a=t._events=Object.create(null),t._eventsCount=0):(void 0!==a.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),a=t._events),l=a[e]),void 0===l)l=a[e]=n,++t._eventsCount;else if("function"==typeof l?l=a[e]=r?[n,l]:[l,n]:r?l.unshift(n):l.push(n),(s=o(t))>0&&l.length>s&&!l.warned){l.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=l.length,i(c)}return t}function a(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,g(this.listener,this.target,t))}function l(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=a.bind(i);return r.listener=n,i.wrapFn=r,r}function c(t,e,n){var i=t._events;if(void 0===i)return[];var r=i[e];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?p(r):d(r,r.length)}function u(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function d(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}function h(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function p(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}var f,m="object"==typeof Reflect?Reflect:null,g=m&&"function"==typeof m.apply?m.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};f=m&&"function"==typeof m.ownKeys?m.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var v=Number.isNaN||function(t){return t!==t};t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var b=10;Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return b},set:function(t){if("number"!=typeof t||t<0||v(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");b=t}}),r.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||v(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},r.prototype.getMaxListeners=function(){return o(this)},r.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=r[t];if(void 0===a)return!1;if("function"==typeof a)g(a,this,e);else for(var l=a.length,c=d(a,l),n=0;n<l;++n)g(c[n],this,e);return!0},r.prototype.addListener=function(t,e){return s(this,t,e,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(t,e){return s(this,t,e,!0)},r.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,l(this,t,e)),this},r.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,l(this,t,e)),this},r.prototype.removeListener=function(t,e){var n,i,r,o,s;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(i=this._events))return this;if(void 0===(n=i[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():h(n,r),1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,s||e)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(t){var e,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},r.prototype.listeners=function(t){return c(this,t,!0)},r.prototype.rawListeners=function(t){return c(this,t,!1)},r.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):u.call(t,e)},r.prototype.listenerCount=u,r.prototype.eventNames=function(){return this._eventsCount>0?f(this._events):[]}},function(t,e,n){var i=n(653),r=t.exports=Object.create(i),o={tagName:"name"};Object.keys(o).forEach(function(t){var e=o[t];Object.defineProperty(r,t,{get:function(){return this[e]||null},set:function(t){return this[e]=t,t}})})},function(t,e,n){function i(t,e){this.init(t,e)}function r(t,e){return c.getElementsByTagName(t,e,!0)}function o(t,e){return c.getElementsByTagName(t,e,!0,1)[0]}function s(t,e,n){return c.getText(c.getElementsByTagName(t,e,n,1)).trim()}function a(t,e,n,i,r){var o=s(n,i,r);o&&(t[e]=o)}var l=n(652),c=n(654);n(247)(i,l),i.prototype.init=l;var u=function(t){return"rss"===t||"feed"===t||"rdf:RDF"===t};i.prototype.onend=function(){var t,e,n={},i=o(u,this.dom);i&&("feed"===i.name?(e=i.children,n.type="atom",a(n,"id","id",e),a(n,"title","title",e),(t=o("link",e))&&(t=t.attribs)&&(t=t.href)&&(n.link=t),a(n,"description","subtitle",e),(t=s("updated",e))&&(n.updated=new Date(t)),a(n,"author","email",e,!0),n.items=r("entry",e).map(function(t){var e,n={};return t=t.children,a(n,"id","id",t),a(n,"title","title",t),(e=o("link",t))&&(e=e.attribs)&&(e=e.href)&&(n.link=e),(e=s("summary",t)||s("content",t))&&(n.description=e),(e=s("updated",t))&&(n.pubDate=new Date(e)),n})):(e=o("channel",i.children).children,n.type=i.name.substr(0,3),n.id="",a(n,"title","title",e),a(n,"link","link",e),a(n,"description","description",e),(t=s("lastBuildDate",e))&&(n.updated=new Date(t)),a(n,"author","managingEditor",e,!0),n.items=r("item",i.children).map(function(t){var e,n={};return t=t.children,a(n,"id","guid",t),a(n,"title","title",t),a(n,"link","link",t),a(n,"description","description",t),(e=s("pubDate",t))&&(n.pubDate=new Date(e)),n}))),this.dom=n,l.prototype._handleCallback.call(this,i?null:Error("couldn't find root of feed"))},t.exports=i},function(t,e,n){function i(t,e){return t.children?t.children.map(function(t){return s(t,e)}).join(""):""}function r(t){return Array.isArray(t)?t.map(r).join(""):a(t)?"br"===t.name?"\n":r(t.children):t.type===o.CDATA?r(t.children):t.type===o.Text?t.data:""}var o=n(175),s=n(1279),a=o.isTag;t.exports={getInnerHTML:i,getOuterHTML:s,getText:r}},function(t,e,n){function i(t,e){if(t){var n,i="";for(var r in t)n=t[r],i&&(i+=" "),i+=r,(null!==n&&""!==n||e.xmlMode)&&(i+='="'+(e.decodeEntities?u.encodeXML(n):n)+'"');return i}}function r(t,e){"svg"===t.name&&(e={decodeEntities:e.decodeEntities,xmlMode:!0});var n="<"+t.name,r=i(t.attribs,e);return r&&(n+=" "+r),!e.xmlMode||t.children&&0!==t.children.length?(n+=">",t.children&&(n+=p(t.children,e)),h[t.name]&&!e.xmlMode||(n+="</"+t.name+">")):n+="/>",n}function o(t){return"<"+t.data+">"}function s(t,e){var n=t.data||"";return!e.decodeEntities||t.parent&&t.parent.name in d||(n=u.encodeXML(n)),n}function a(t){return"<![CDATA["+t.children[0].data+"]]>"}function l(t){return"\x3c!--"+t.data+"--\x3e"}var c=n(175),u=n(1280),d={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0},h={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},p=t.exports=function(t,e){Array.isArray(t)||t.cheerio||(t=[t]),e=e||{};for(var n="",i=0;i<t.length;i++){var u=t[i];"root"===u.type?n+=p(u.children,e):c.isTag(u)?n+=r(u,e):u.type===c.Directive?n+=o(u):u.type===c.Comment?n+=l(u):u.type===c.CDATA?n+=a(u):n+=s(u,e)}return n}},function(t,e,n){var i=n(1281),r=n(1282);e.decode=function(t,e){return(!e||e<=0?r.XML:r.HTML)(t)},e.decodeStrict=function(t,e){return(!e||e<=0?r.XML:r.HTMLStrict)(t)},e.encode=function(t,e){return(!e||e<=0?i.XML:i.HTML)(t)},e.encodeXML=i.XML,e.encodeHTML4=e.encodeHTML5=e.encodeHTML=i.HTML,e.decodeXML=e.decodeXMLStrict=r.XML,e.decodeHTML4=e.decodeHTML5=e.decodeHTML=r.HTML,e.decodeHTML4Strict=e.decodeHTML5Strict=e.decodeHTMLStrict=r.HTMLStrict,e.escape=i.escape},function(t,e,n){function i(t){return Object.keys(t).sort().reduce(function(e,n){return e[t[n]]="&"+n+";",e},{})}function r(t){var e=[],n=[];return Object.keys(t).forEach(function(t){1===t.length?e.push("\\"+t):n.push(t)}),n.unshift("["+e.join("")+"]"),new RegExp(n.join("|"),"g")}function o(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"}function s(t){return"&#x"+(1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function a(t,e){function n(e){return t[e]}return function(t){return t.replace(e,n).replace(f,s).replace(p,o)}}function l(t){return t.replace(m,o).replace(f,s).replace(p,o)}var c=i(n(356)),u=r(c);e.XML=a(c,u);var d=i(n(355)),h=r(d);e.HTML=a(d,h);var p=/[^\0-\x7F]/g,f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=r(c);e.escape=l},function(t,e,n){function i(t){var e=Object.keys(t).join("|"),n=o(t);e+="|#[xX][\\da-fA-F]+|#\\d+";var i=new RegExp("&(?:"+e+");","g");return function(t){return String(t).replace(i,n)}}function r(t,e){return t<e?1:-1}function o(t){return function(e){return"#"===e.charAt(1)?c("X"===e.charAt(2)||"x"===e.charAt(2)?parseInt(e.substr(3),16):parseInt(e.substr(2),10)):t[e.slice(1,-1)]}}var s=n(355),a=n(651),l=n(356),c=n(650),u=i(l),d=i(s),h=function(){function t(t){return";"!==t.substr(-1)&&(t+=";"),u(t)}for(var e=Object.keys(a).sort(r),n=Object.keys(s).sort(r),i=0,l=0;i<n.length;i++)e[l]===n[i]?(n[i]+=";?",l++):n[i]+=";";var c=new RegExp("&(?:"+n.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),u=o(s);return function(e){return String(e).replace(c,t)}}();t.exports={XML:u,HTML:h,HTMLStrict:d}},function(t,e){var n=e.getChildren=function(t){return t.children},i=e.getParent=function(t){return t.parent};e.getSiblings=function(t){var e=i(t);return e?n(e):[t]},e.getAttributeValue=function(t,e){return t.attribs&&t.attribs[e]},e.hasAttrib=function(t,e){return!!t.attribs&&hasOwnProperty.call(t.attribs,e)},e.getName=function(t){return t.name}},function(t,e){e.removeElement=function(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){var e=t.parent.children;e.splice(e.lastIndexOf(t),1)}},e.replaceElement=function(t,e){var n=e.prev=t.prev;n&&(n.next=e);var i=e.next=t.next;i&&(i.prev=e);var r=e.parent=t.parent;if(r){var o=r.children;o[o.lastIndexOf(t)]=e}},e.appendChild=function(t,e){if(e.parent=t,1!==t.children.push(e)){var n=t.children[t.children.length-2];n.next=e,e.prev=n,e.next=null}},e.append=function(t,e){var n=t.parent,i=t.next;if(e.next=i,e.prev=t,t.next=e,e.parent=n,i){if(i.prev=e,n){var r=n.children;r.splice(r.lastIndexOf(i),0,e)}}else n&&n.children.push(e)},e.prepend=function(t,e){var n=t.parent;if(n){var i=n.children;i.splice(i.lastIndexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=n,e.prev=t.prev,e.next=t,t.prev=e}},function(t,e,n){function i(t,e,n,i){return Array.isArray(e)||(e=[e]),"number"==typeof i&&isFinite(i)||(i=1/0),r(t,e,!1!==n,i)}function r(t,e,n,i){for(var o,s=[],a=0,l=e.length;a<l&&!(t(e[a])&&(s.push(e[a]),--i<=0))&&(o=e[a].children,!(n&&o&&o.length>0&&(o=r(t,o,n,i),s=s.concat(o),(i-=o.length)<=0)));a++);return s}function o(t,e){for(var n=0,i=e.length;n<i;n++)if(t(e[n]))return e[n];return null}function s(t,e){for(var n=null,i=0,r=e.length;i<r&&!n;i++)c(e[i])&&(t(e[i])?n=e[i]:e[i].children.length>0&&(n=s(t,e[i].children)));return n}function a(t,e){for(var n=0,i=e.length;n<i;n++)if(c(e[n])&&(t(e[n])||e[n].children.length>0&&a(t,e[n].children)))return!0;return!1}function l(t,e){for(var n=[],i=e.slice();i.length;){var r=i.shift();c(r)&&(r.children&&r.children.length>0&&i.unshift.apply(i,r.children),t(r)&&n.push(r))}return n}var c=n(175).isTag;t.exports={filter:i,find:r,findOneChild:o,findOne:s,existsOne:a,findAll:l}},function(t,e,n){function i(t,e){return"function"==typeof e?function(n){return n.attribs&&e(n.attribs[t])}:function(n){return n.attribs&&n.attribs[t]===e}}function r(t,e){return function(n){return t(n)||e(n)}}var o=n(175),s=e.isTag=o.isTag;e.testElement=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){if("tag_name"===n){if(!s(e)||!t.tag_name(e.name))return!1}else if("tag_type"===n){if(!t.tag_type(e.type))return!1}else if("tag_contains"===n){if(s(e)||!t.tag_contains(e.data))return!1}else if(!e.attribs||!t[n](e.attribs[n]))return!1}else;return!0};var a={tag_name:function(t){return"function"==typeof t?function(e){return s(e)&&t(e.name)}:"*"===t?s:function(e){return s(e)&&e.name===t}},tag_type:function(t){return"function"==typeof t?function(e){return t(e.type)}:function(e){return e.type===t}},tag_contains:function(t){return"function"==typeof t?function(e){return!s(e)&&t(e.data)}:function(e){return!s(e)&&e.data===t}}};e.getElements=function(t,e,n,o){var s=Object.keys(t).map(function(e){var n=t[e];return e in a?a[e](n):i(e,n)});return 0===s.length?[]:this.filter(s.reduce(r),e,n,o)},e.getElementById=function(t,e,n){return Array.isArray(e)||(e=[e]),this.findOne(i("id",t),e,!1!==n)},e.getElementsByTagName=function(t,e,n,i){return this.filter(a.tag_name(t),e,n,i)},e.getElementsByTagType=function(t,e,n,i){return this.filter(a.tag_type(t),e,n,i)}},function(t,e){e.removeSubsets=function(t){for(var e,n,i,r=t.length;--r>-1;){for(e=n=t[r],t[r]=null,i=!0;n;){if(t.indexOf(n)>-1){i=!1,t.splice(r,1);break}n=n.parent}i&&(t[r]=e)}return t};var n={DISCONNECTED:1,PRECEDING:2,FOLLOWING:4,CONTAINS:8,CONTAINED_BY:16},i=e.compareDocumentPosition=function(t,e){var i,r,o,s,a,l,c=[],u=[];if(t===e)return 0;for(i=t;i;)c.unshift(i),i=i.parent;for(i=e;i;)u.unshift(i),i=i.parent;for(l=0;c[l]===u[l];)l++;return 0===l?n.DISCONNECTED:(r=c[l-1],o=r.children,s=c[l],a=u[l],o.indexOf(s)>o.indexOf(a)?r===e?n.FOLLOWING|n.CONTAINED_BY:n.FOLLOWING:r===t?n.PRECEDING|n.CONTAINS:n.PRECEDING)};e.uniqueSort=function(t){var e,r,o=t.length;for(t=t.slice();--o>-1;)e=t[o],(r=t.indexOf(e))>-1&&r<o&&t.splice(o,1);return t.sort(function(t,e){var r=i(t,e);return r&n.PRECEDING?-1:r&n.FOLLOWING?1:0}),t}},function(t,e,n){function i(t){o.call(this,new r(this),t)}function r(t){this.scope=t}t.exports=i;var o=n(655);n(247)(i,o),i.prototype.readable=!0;var s=n(174).EVENTS;Object.keys(s).forEach(function(t){if(0===s[t])r.prototype["on"+t]=function(){this.scope.emit(t)};else if(1===s[t])r.prototype["on"+t]=function(e){this.scope.emit(t,e)};else{if(2!==s[t])throw Error("wrong number of arguments!");r.prototype["on"+t]=function(e,n){this.scope.emit(t,e,n)}}})},function(t,e){},function(t,e,n){"use strict";function i(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function r(t){var e=i(t);if("string"!=typeof e&&(b.isEncoding===y||!y(t)))throw new Error("Unknown encoding: "+t);return e||t}function o(t){this.encoding=r(t);var e;switch(this.encoding){case"utf16le":this.text=h,this.end=p,e=4;break;case"utf8":this.fillLast=c,e=4;break;case"base64":this.text=f,this.end=m,e=3;break;default:return this.write=g,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=b.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t,e,n){var i=e.length-1;if(i<n)return 0;var r=s(e[i]);return r>=0?(r>0&&(t.lastNeed=r-1),r):--i<n||-2===r?0:(r=s(e[i]))>=0?(r>0&&(t.lastNeed=r-2),r):--i<n||-2===r?0:(r=s(e[i]),r>=0?(r>0&&(2===r?r=0:t.lastNeed=r-3),r):0)}function l(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}function c(t){var e=this.lastTotal-this.lastNeed,n=l(this,t,e);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){var n=a(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function d(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function h(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function p(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function f(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function m(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function g(t){return t.toString(this.encoding)}function v(t){return t&&t.length?this.write(t):""}var b=n(1291).Buffer,y=b.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=d,o.prototype.text=u,o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){function i(t,e){for(var n in t)e[n]=t[n]}function r(t,e,n){return s(t,e,n)}var o=n(248),s=o.Buffer;s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?t.exports=o:(i(o,e),e.Buffer=r),i(s,r),r.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return s(t,e,n)},r.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=s(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},r.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return s(t)},r.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}},,,,function(t,e,n){function i(t){this._cbs=t||{}}t.exports=i;var r=n(174).EVENTS;Object.keys(r).forEach(function(t){if(0===r[t])t="on"+t,i.prototype[t]=function(){this._cbs[t]&&this._cbs[t]()};else if(1===r[t])t="on"+t,i.prototype[t]=function(e){this._cbs[t]&&this._cbs[t](e)};else{if(2!==r[t])throw Error("wrong number of arguments");t="on"+t,i.prototype[t]=function(e,n){this._cbs[t]&&this._cbs[t](e,n)}}})},function(t,e,n){function i(t){this._cbs=t||{},this.events=[]}t.exports=i;var r=n(174).EVENTS;Object.keys(r).forEach(function(t){if(0===r[t])t="on"+t,i.prototype[t]=function(){this.events.push([t]),this._cbs[t]&&this._cbs[t]()};else if(1===r[t])t="on"+t,i.prototype[t]=function(e){this.events.push([t,e]),this._cbs[t]&&this._cbs[t](e)};else{if(2!==r[t])throw Error("wrong number of arguments");t="on"+t,i.prototype[t]=function(e,n){this.events.push([t,e,n]),this._cbs[t]&&this._cbs[t](e,n)}}}),i.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},i.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var t=0,e=this.events.length;t<e;t++)if(this._cbs[this.events[t][0]]){var n=this.events[t].length;1===n?this._cbs[this.events[t][0]]():2===n?this._cbs[this.events[t][0]](this.events[t][1]):this._cbs[this.events[t][0]](this.events[t][1],this.events[t][2])}}},function(t,e,n){"use strict";function i(t){return t.data}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){var i=t.name;if(!(0,f.default)(i))return null;var r=(0,u.default)(t.attribs,e),o=null;return-1===h.default.indexOf(i)&&(o=(0,l.default)(t.children,n)),s.default.createElement(i,r,o)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(1),s=i(o),a=n(354),l=i(a),c=n(656),u=i(c),d=n(1303),h=i(d),p=n(657),f=i(p)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return Object.keys(t).filter(function(t){return(0,u.default)(t)}).reduce(function(e,n){var i=n.toLowerCase(),r=l.default[i]||i;return e[r]=d(r,t[n]),e},{})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(1300),s=i(o),a=n(1301),l=i(a),c=n(657),u=i(c),d=function(t,e){return s.default.map(function(t){return t.toLowerCase()}).indexOf(t.toLowerCase())>=0&&(e=t),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=["allowfullScreen","async","autoplay","capture","checked","controls","default","defer","disabled","formnovalidate","hidden","loop","multiple","muted","novalidate","open","playsinline","readonly","required","reversed","scoped","seamless","selected","itemscope"]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={accept:"accept","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",allowtransparency:"allowTransparency",alt:"alt",as:"as",async:"async",autocomplete:"autoComplete",autoplay:"autoPlay",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",challenge:"challenge",checked:"checked",cite:"cite",classid:"classID",class:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlsList:"controlsList",coords:"coords",crossorigin:"crossOrigin",data:"data",datetime:"dateTime",default:"default",defer:"defer",dir:"dir",disabled:"disabled",download:"download",draggable:"draggable",enctype:"encType",form:"form",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",for:"htmlFor","http-equiv":"httpEquiv",icon:"icon",id:"id",inputmode:"inputMode",integrity:"integrity",is:"is",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginheight:"marginHeight",marginwidth:"marginWidth",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",slot:"slot",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",datatype:"datatype",inlist:"inlist",prefix:"prefix",property:"property",resource:"resource",typeof:"typeof",vocab:"vocab",autocapitalize:"autoCapitalize",autocorrect:"autoCorrect",autosave:"autoSave",color:"color",itemprop:"itemProp",itemscope:"itemScope",itemtype:"itemType",itemid:"itemID",itemref:"itemRef",results:"results",security:"security",unselectable:"unselectable"}},function(t,e,n){"use strict";function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""===t?{}:t.split(";").reduce(function(t,e){var n=e.split(/^([^:]+):/).filter(function(t,e){return e>0}).map(function(t){return t.trim().toLowerCase()}),i=r(n,2),o=i[0],s=i[1];return void 0===s?t:(o=o.replace(/^-ms-/,"ms-").replace(/-(.)/g,function(t,e){return e.toUpperCase()}),t[o]=s,t)},{})}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=void 0;t.children.length>0&&(n=t.children[0].data);var i=(0,l.default)(t.attribs,e);return s.default.createElement("style",i,n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(1),s=i(o),a=n(656),l=i(a)},function(t,e,n){"use strict";function i(){return null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.decodeEntities,i=void 0===n||n,r=e.transform,o=e.preprocessNodes,a=void 0===o?function(t){return t}:o,c=a(s.default.parseDOM(t,{decodeEntities:i}));return(0,l.default)(c,r)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(174),s=i(o),a=n(354),l=i(a)},function(t,e){},function(t,e,n){!function(e,i){t.exports=i(n(1),n(1309))}("undefined"!=typeof self&&self,function(t,e){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(e,n){e.exports=t},function(t,e,n){"use strict";(function(i){Object.defineProperty(e,"__esModule",{value:!0});var r,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(0),l=(r=a,r&&r.__esModule?r:{default:r}),c=void 0===i?window:i;e.default=function(e,n){var i=function(t){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return t.chartType=e,t.Highcharts=n,t.displayName="Highcharts"+e,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,a.Component),s(i,[{key:"setChartRef",value:function(t){this.chartRef=t}},{key:"renderChart",value:function(t){var e=this;if(!t)throw new Error("Config must be specified for the "+this.displayName+" component");var n=t.chart;this.chart=new this.Highcharts[this.chartType](o({},t,{chart:o({},n,{renderTo:this.chartRef})}),this.props.callback),this.props.neverReflow||c&&c.requestAnimationFrame&&requestAnimationFrame(function(){e.chart&&e.chart.options&&e.chart.reflow()})}},{key:"shouldComponentUpdate",value:function(t){return!!(t.neverReflow||t.isPureConfig&&this.props.config===t.config)||(this.renderChart(t.config),!1)}},{key:"getChart",value:function(){if(!this.chart)throw new Error("getChart() should not be called before the component is mounted");return this.chart}},{key:"componentDidMount",value:function(){this.renderChart(this.props.config)}},{key:"componentWillUnmount",value:function(){this.chart.destroy()}},{key:"render",value:function(){return l.default.createElement("div",o({ref:this.setChartRef.bind(this)},this.props.domProps))}}]),i}();i.defaultProps={callback:function(){},domProps:{}};var r=i;return r.Highcharts=n,r.withHighcharts=function(n){return t.exports(e,n)},r},t.exports=e.default}).call(e,n(2))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},,function(t,e,n){t.exports=n(5)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(6));e.default=(0,r.default)("Chart",o.default),t.exports=e.default},function(t,n){t.exports=e}])})},function(t,e,n){var i;!function(r,o){"object"==typeof t&&t.exports?t.exports=r.document?o(r):o:void 0!==(i=function(){return o(r)}.call(e,n,e,t))&&(t.exports=i)}("undefined"!=typeof window?window:this,function(t){var e=function(){var e=void 0===t?window:t,n=e.document,i=e.navigator&&e.navigator.userAgent||"",r=n&&n.createElementNS&&!!n.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o=/(edge|msie|trident)/i.test(i)&&!e.opera,s=-1!==i.indexOf("Firefox"),a=-1!==i.indexOf("Chrome"),l=s&&4>parseInt(i.split("Firefox/")[1],10);return e.Highcharts?e.Highcharts.error(16,!0):{product:"Highcharts",version:"6.2.0",deg2rad:2*Math.PI/360,doc:n,hasBidiBug:l,hasTouch:n&&void 0!==n.documentElement.ontouchstart,isMS:o,isWebKit:-1!==i.indexOf("AppleWebKit"),isFirefox:s,isChrome:a,isSafari:!a&&-1!==i.indexOf("Safari"),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(i),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:r,win:e,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[]}}();!function(t){t.timers=[];var e=t.charts,n=t.doc,i=t.win;t.error=function(e,n){if(e=t.isNumber(e)?"Highcharts error #"+e+": www.highcharts.com/errors/"+e:e,n)throw Error(e);i.console},t.Fx=function(t,e,n){this.options=e,this.elem=t,this.prop=n},t.Fx.prototype={dSetter:function(){var t,e=this.paths[0],n=this.paths[1],i=[],r=this.now,o=e.length;if(1===r)i=this.toD;else if(o===n.length&&1>r)for(;o--;)t=parseFloat(e[o]),i[o]=isNaN(t)?n[o]:r*parseFloat(n[o]-t)+t;else i=n;this.elem.attr("d",i,null,!0)},update:function(){var t=this.elem,e=this.prop,n=this.now,i=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,n,null,!0):t.style[e]=n+this.unit,i&&i.call(t,n,this)},run:function(e,n,r){var o=this,s=o.options,a=function(t){return!a.stopped&&o.step(t)},l=i.requestAnimationFrame||function(t){setTimeout(t,13)},c=function(){for(var e=0;e<t.timers.length;e++)t.timers[e]()||t.timers.splice(e--,1);t.timers.length&&l(c)};e!==n||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=e,this.end=n,this.unit=r,this.now=this.start,this.pos=0,a.elem=this.elem,a.prop=this.prop,a()&&1===t.timers.push(a)&&l(c)):(delete s.curAnim[this.prop],s.complete&&0===t.keys(s.curAnim).length&&s.complete.call(this.elem))},step:function(e){var n,i=+new Date,r=this.options,o=this.elem,s=r.complete,a=r.duration,l=r.curAnim;return o.attr&&!o.element?e=!1:e||i>=a+this.startTime?(this.now=this.end,this.pos=1,this.update(),n=l[this.prop]=!0,t.objectEach(l,function(t){!0!==t&&(n=!1)}),n&&s&&s.call(o),e=!1):(this.pos=r.easing((i-this.startTime)/a),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0),e},initPath:function(e,n,i){function r(t){var e,n;for(u=t.length;u--;)e="M"===t[u]||"L"===t[u],n=/[a-zA-Z]/.test(t[u+3]),e&&n&&t.splice(u+1,0,t[u+1],t[u+2],t[u+1],t[u+2])}function o(t,e){for(;t.length<l;){t[0]=e[l-t.length];var n=t.slice(0,f);[].splice.apply(t,[0,0].concat(n)),g&&(n=t.slice(t.length-f),[].splice.apply(t,[t.length,0].concat(n)),u--)}t[0]="M"}function s(t,e){for(var n=(l-t.length)/f;0<n&&n--;)c=t.slice().splice(t.length/v-f,f*v),c[0]=e[l-f-n*f],p&&(c[f-6]=c[f-2],c[f-5]=c[f-1]),[].splice.apply(t,[t.length/v,0].concat(c)),g&&n--}n=n||"";var a,l,c,u,d=e.startX,h=e.endX,p=-1<n.indexOf("C"),f=p?7:3;n=n.split(" "),i=i.slice();var m,g=e.isArea,v=g?2:1;if(p&&(r(n),r(i)),d&&h){for(u=0;u<d.length;u++){if(d[u]===h[0]){a=u;break}if(d[0]===h[h.length-d.length+u]){a=u,m=!0;break}}void 0===a&&(n=[])}return n.length&&t.isNumber(a)&&(l=i.length+a*v*f,m?(o(n,i),s(i,n)):(o(i,n),s(n,i))),[n,i]},fillSetter:function(){t.Fx.prototype.strokeSetter.apply(this,arguments)},strokeSetter:function(){this.elem.attr(this.prop,t.color(this.start).tweenTo(t.color(this.end),this.pos),null,!0)}},t.merge=function(){var e,n,i=arguments,r={},o=function(e,n){return"object"!=typeof e&&(e={}),t.objectEach(n,function(i,r){!t.isObject(i,!0)||t.isClass(i)||t.isDOMElement(i)?e[r]=n[r]:e[r]=o(e[r]||{},i)}),e};for(!0===i[0]&&(r=i[1],i=Array.prototype.slice.call(i,2)),n=i.length,e=0;e<n;e++)r=o(r,i[e]);return r},t.pInt=function(t,e){return parseInt(t,e||10)},t.isString=function(t){return"string"==typeof t},t.isArray=function(t){return"[object Array]"===(t=Object.prototype.toString.call(t))||"[object Array Iterator]"===t},t.isObject=function(e,n){return!(!e||"object"!=typeof e||n&&t.isArray(e))},t.isDOMElement=function(e){return t.isObject(e)&&"number"==typeof e.nodeType},t.isClass=function(e){var n=e&&e.constructor;return!(!t.isObject(e,!0)||t.isDOMElement(e)||!n||!n.name||"Object"===n.name)},t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)&&1/0>t&&-1/0<t},t.erase=function(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}},t.defined=function(t){return void 0!==t&&null!==t},t.attr=function(e,n,i){var r;return t.isString(n)?t.defined(i)?e.setAttribute(n,i):e&&e.getAttribute&&((r=e.getAttribute(n))||"class"!==n||(r=e.getAttribute(n+"Name"))):t.defined(n)&&t.isObject(n)&&t.objectEach(n,function(t,n){e.setAttribute(n,t)}),r},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,e,n){if(e)return setTimeout(t,e,n);t.call(0,n)},t.clearTimeout=function(e){t.defined(e)&&clearTimeout(e)},t.extend=function(t,e){var n;t||(t={});for(n in e)t[n]=e[n];return t},t.pick=function(){var t,e,n=arguments,i=n.length;for(t=0;t<i;t++)if(void 0!==(e=n[t])&&null!==e)return e},t.css=function(e,n){t.isMS&&!t.svg&&n&&void 0!==n.opacity&&(n.filter="alpha(opacity="+100*n.opacity+")"),t.extend(e.style,n)},t.createElement=function(e,i,r,o,s){e=n.createElement(e);var a=t.css;return i&&t.extend(e,i),s&&a(e,{padding:0,border:"none",margin:0}),r&&a(e,r),o&&o.appendChild(e),e},t.extendClass=function(e,n){var i=function(){};return i.prototype=new e,t.extend(i.prototype,n),i},t.pad=function(t,e,n){return Array((e||2)+1-String(t).replace("-","").length).join(n||0)+t},t.relativeLength=function(t,e,n){return/%$/.test(t)?e*parseFloat(t)/100+(n||0):parseFloat(t)},t.wrap=function(t,e,n){var i=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments),e=arguments,r=this;return r.proceed=function(){i.apply(r,arguments.length?arguments:e)},t.unshift(i),t=n.apply(this,t),r.proceed=null,t}},t.datePropsToTimestamps=function(e){t.objectEach(e,function(n,i){t.isObject(n)&&"function"==typeof n.getTime?e[i]=n.getTime():(t.isObject(n)||t.isArray(n))&&t.datePropsToTimestamps(n)})},t.formatSingle=function(e,n,i){var r=/\.([0-9])/,o=t.defaultOptions.lang;return/f$/.test(e)?(i=(i=e.match(r))?i[1]:-1,null!==n&&(n=t.numberFormat(n,i,o.decimalPoint,-1<e.indexOf(",")?o.thousandsSep:""))):n=(i||t.time).dateFormat(e,n),n},t.format=function(e,n,i){for(var r,o,s,a,l,c="{",u=!1,d=[];e&&-1!==(c=e.indexOf(c));){if(r=e.slice(0,c),u){for(r=r.split(":"),o=r.shift().split("."),a=o.length,l=n,s=0;s<a;s++)l&&(l=l[o[s]]);r.length&&(l=t.formatSingle(r.join(":"),l,i)),d.push(l)}else d.push(r);e=e.slice(c+1),c=(u=!u)?"}":"{"}return d.push(e),d.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,n,i,r,o){var s,a=e;for(i=t.pick(i,1),s=e/i,n||(n=o?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===r&&(1===i?n=t.grep(n,function(t){return 0==t%1}):.1>=i&&(n=[1/i]))),r=0;r<n.length&&(a=n[r],!(o&&a*i>=e||!o&&s<=(n[r]+(n[r+1]||n[r]))/2));r++);return a=t.correctFloat(a*i,-Math.round(Math.log(.001)/Math.LN10))},t.stableSort=function(t,e){var n,i,r=t.length;for(i=0;i<r;i++)t[i].safeI=i;for(t.sort(function(t,i){return n=e(t,i),0===n?t.safeI-i.safeI:n}),i=0;i<r;i++)delete t[i].safeI},t.arrayMin=function(t){for(var e=t.length,n=t[0];e--;)t[e]<n&&(n=t[e]);return n},t.arrayMax=function(t){for(var e=t.length,n=t[0];e--;)t[e]>n&&(n=t[e]);return n},t.destroyObjectProperties=function(e,n){t.objectEach(e,function(t,i){t&&t!==n&&t.destroy&&t.destroy(),delete e[i]})},t.discardElement=function(e){var n=t.garbageBin;n||(n=t.createElement("div")),e&&n.appendChild(e),n.innerHTML=""},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.setAnimation=function(e,n){n.renderer.globalAnimation=t.pick(e,n.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(e,n,i,r){e=+e||0,n=+n;var o,s,a=t.defaultOptions.lang,l=(e.toString().split(".")[1]||"").split("e")[0].length,c=e.toString().split("e");return-1===n?n=Math.min(l,20):t.isNumber(n)?n&&c[1]&&0>c[1]&&(o=n+ +c[1],0<=o?(c[0]=(+c[0]).toExponential(o).split("e")[0],n=o):(c[0]=c[0].split(".")[0]||0,e=20>n?(c[0]*Math.pow(10,c[1])).toFixed(n):0,c[1]=0)):n=2,s=(Math.abs(c[1]?c[0]:e)+Math.pow(10,-Math.max(n,l)-1)).toFixed(n),l=String(t.pInt(s)),o=3<l.length?l.length%3:0,i=t.pick(i,a.decimalPoint),r=t.pick(r,a.thousandsSep),e=(0>e?"-":"")+(o?l.substr(0,o)+r:""),e+=l.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+r),n&&(e+=i+s.slice(-n)),c[1]&&0!=+e&&(e+="e"+c[1]),e},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(e,n,r){return"width"===n?Math.max(0,Math.min(e.offsetWidth,e.scrollWidth)-t.getStyle(e,"padding-left")-t.getStyle(e,"padding-right")):"height"===n?Math.max(0,Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,"padding-top")-t.getStyle(e,"padding-bottom")):(i.getComputedStyle||t.error(27,!0),(e=i.getComputedStyle(e,void 0))&&(e=e.getPropertyValue(n),t.pick(r,"opacity"!==n)&&(e=t.pInt(e))),e)},t.inArray=function(e,n,i){return(t.indexOfPolyfill||Array.prototype.indexOf).call(n,e,i)},t.grep=function(e,n){return(t.filterPolyfill||Array.prototype.filter).call(e,n)},t.find=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){var n,i=t.length;for(n=0;n<i;n++)if(e(t[n],n))return t[n]},t.some=function(e,n,i){return(t.somePolyfill||Array.prototype.some).call(e,n,i)},t.map=function(t,e){for(var n=[],i=0,r=t.length;i<r;i++)n[i]=e.call(t[i],t[i],i,t);return n},t.keys=function(e){return(t.keysPolyfill||Object.keys).call(void 0,e)},t.reduce=function(e,n,i){return(t.reducePolyfill||Array.prototype.reduce).apply(e,2<arguments.length?[n,i]:[n])},t.offset=function(t){var e=n.documentElement;return t=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0},{top:t.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(e,n){for(var i=t.timers.length;i--;)t.timers[i].elem!==e||n&&n!==t.timers[i].prop||(t.timers[i].stopped=!0)},t.each=function(e,n,i){return(t.forEachPolyfill||Array.prototype.forEach).call(e,n,i)},t.objectEach=function(t,e,n){for(var i in t)t.hasOwnProperty(i)&&e.call(n||t[i],t[i],i,t)},t.addEvent=function(e,n,i,r){var o,s=e.addEventListener||t.addEventListenerPolyfill;return o="function"==typeof e&&e.prototype?e.prototype.protoEvents=e.prototype.protoEvents||{}:e.hcEvents=e.hcEvents||{},t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0),s&&s.call(e,n,i,!1),o[n]||(o[n]=[]),o[n].push(i),r&&t.isNumber(r.order)&&(i.order=r.order,o[n].sort(function(t,e){return t.order-e.order})),function(){t.removeEvent(e,n,i)}},t.removeEvent=function(e,n,i){function r(n,i){var r=e.removeEventListener||t.removeEventListenerPolyfill;r&&r.call(e,n,i,!1)}function o(i){var o,s;e.nodeName&&(n?(o={},o[n]=!0):o=i,t.objectEach(o,function(t,e){if(i[e])for(s=i[e].length;s--;)r(e,i[e][s])}))}var s,a;t.each(["protoEvents","hcEvents"],function(l){var c=e[l];c&&(n?(s=c[n]||[],i?(a=t.inArray(i,s),-1<a&&(s.splice(a,1),c[n]=s),r(n,i)):(o(c),c[n]=[])):(o(c),e[l]={}))})},t.fireEvent=function(e,i,r,o){var s,a,l,c,u;r=r||{},n.createEvent&&(e.dispatchEvent||e.fireEvent)?(s=n.createEvent("Events"),s.initEvent(i,!0,!0),t.extend(s,r),e.dispatchEvent?e.dispatchEvent(s):e.fireEvent(i,s)):t.each(["protoEvents","hcEvents"],function(n){if(e[n])for(a=e[n][i]||[],l=a.length,r.target||t.extend(r,{preventDefault:function(){r.defaultPrevented=!0},target:e,type:i}),c=0;c<l;c++)(u=a[c])&&!1===u.call(e,r)&&r.preventDefault()}),o&&!r.defaultPrevented&&o.call(e,r)},t.animate=function(e,n,i){var r,o,s,a,l="";t.isObject(i)||(a=arguments,i={duration:a[2],easing:a[3],complete:a[4]}),t.isNumber(i.duration)||(i.duration=400),i.easing="function"==typeof i.easing?i.easing:Math[i.easing]||Math.easeInOutSine,i.curAnim=t.merge(n),t.objectEach(n,function(a,c){t.stop(e,c),s=new t.Fx(e,i,c),o=null,"d"===c?(s.paths=s.initPath(e,e.d,n.d),s.toD=n.d,r=0,o=1):e.attr?r=e.attr(c):(r=parseFloat(t.getStyle(e,c))||0,"opacity"!==c&&(l="px")),o||(o=a),o&&o.match&&o.match("px")&&(o=o.replace(/px/g,"")),s.run(r,o,l)})},t.seriesType=function(e,n,i,r,o){var s=t.getOptions(),a=t.seriesTypes;return s.plotOptions[e]=t.merge(s.plotOptions[n],i),a[e]=t.extendClass(a[n]||function(){},r),a[e].prototype.type=e,o&&(a[e].prototype.pointClass=t.extendClass(t.Point,o)),a[e]},t.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9),e=0;return function(){return"highcharts-"+t+"-"+e++}}(),i.jQuery&&(i.jQuery.fn.highcharts=function(){var n=[].slice.call(arguments);if(this[0])return n[0]?(new(t[t.isString(n[0])?n.shift():"Chart"])(this[0],n[0],n[1]),this):e[t.attr(this[0],"data-highcharts-chart")]})}(e),function(t){var e=t.each,n=t.isNumber,i=t.map,r=t.merge,o=t.pInt;t.Color=function(e){if(!(this instanceof t.Color))return new t.Color(e);this.init(e)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(e){var n,r,o,s;if((this.input=e=this.names[e&&e.toLowerCase?e.toLowerCase():""]||e)&&e.stops)this.stops=i(e.stops,function(e){return new t.Color(e[1])});else if(e&&e.charAt&&"#"===e.charAt()&&(n=e.length,e=parseInt(e.substr(1),16),7===n?r=[(16711680&e)>>16,(65280&e)>>8,255&e,1]:4===n&&(r=[(3840&e)>>4|(3840&e)>>8,(240&e)>>4|240&e,(15&e)<<4|15&e,1])),!r)for(o=this.parsers.length;o--&&!r;)s=this.parsers[o],(n=s.regex.exec(e))&&(r=s.parse(n));this.rgba=r||[]},get:function(t){var i,o=this.input,s=this.rgba;return this.stops?(i=r(o),i.stops=[].concat(i.stops),e(this.stops,function(e,n){i.stops[n]=[i.stops[n][0],e.get(t)]})):i=s&&n(s[0])?"rgb"===t||!t&&1===s[3]?"rgb("+s[0]+","+s[1]+","+s[2]+")":"a"===t?s[3]:"rgba("+s.join(",")+")":o,i},brighten:function(t){var i,r=this.rgba;if(this.stops)e(this.stops,function(e){e.brighten(t)});else if(n(t)&&0!==t)for(i=0;3>i;i++)r[i]+=o(255*t),0>r[i]&&(r[i]=0),255<r[i]&&(r[i]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this},tweenTo:function(t,e){var n=this.rgba,i=t.rgba;return i.length&&n&&n.length?(t=1!==i[3]||1!==n[3],e=(t?"rgba(":"rgb(")+Math.round(i[0]+(n[0]-i[0])*(1-e))+","+Math.round(i[1]+(n[1]-i[1])*(1-e))+","+Math.round(i[2]+(n[2]-i[2])*(1-e))+(t?","+(i[3]+(n[3]-i[3])*(1-e)):"")+")"):e=t.input||"none",e}},t.color=function(e){return new t.Color(e)}}(e),function(t){var e,n,i=t.addEvent,r=t.animate,o=t.attr,s=t.charts,a=t.color,l=t.css,c=t.createElement,u=t.defined,d=t.deg2rad,h=t.destroyObjectProperties,p=t.doc,f=t.each,m=t.extend,g=t.erase,v=t.grep,b=t.hasTouch,y=t.inArray,_=t.isArray,w=t.isFirefox,S=t.isMS,E=t.isObject,x=t.isString,C=t.isWebKit,T=t.merge,k=t.noop,O=t.objectEach,P=t.pick,I=t.pInt,A=t.removeEvent,M=t.stop,N=t.svg,D=t.SVG_NS,L=t.symbolSizes,R=t.win;e=t.SVGElement=function(){return this},m(e.prototype,{opacity:1,SVG_NS:D,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline cursor".split(" "),init:function(t,e){this.element="span"===e?c(e):p.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(e,n,i){return n=t.animObject(P(n,this.renderer.globalAnimation,!0)),0!==n.duration?(i&&(n.complete=i),r(this,e,n)):(this.attr(e,null,i),n.step&&n.step.call(this)),this},complexColor:function(e,n,i){var r,o,s,a,l,c,d,h,p,m,g,v,b=this.renderer,y=[];t.fireEvent(this.renderer,"complexColor",{args:arguments},function(){e.radialGradient?o="radialGradient":e.linearGradient&&(o="linearGradient"),o&&(s=e[o],l=b.gradients,d=e.stops,m=i.radialReference,_(s)&&(e[o]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&m&&!u(s.gradientUnits)&&(a=s,s=T(s,b.getRadialAttr(m,a),{gradientUnits:"userSpaceOnUse"})),O(s,function(t,e){"id"!==e&&y.push(e,t)}),O(d,function(t){y.push(t)}),y=y.join(","),l[y]?g=l[y].attr("id"):(s.id=g=t.uniqueKey(),l[y]=c=b.createElement(o).attr(s).add(b.defs),c.radAttr=a,c.stops=[],f(d,function(e){0===e[1].indexOf("rgba")?(r=t.color(e[1]),h=r.get("rgb"),p=r.get("a")):(h=e[1],p=1),e=b.createElement("stop").attr({offset:e[0],"stop-color":h,"stop-opacity":p}).add(c),c.stops.push(e)})),v="url("+b.url+"#"+g+")",i.setAttribute(n,v),i.gradient=y,e.toString=function(){return v})})},applyTextOutline:function(e){var n,i,r,s,a,l=this.element;if(-1!==e.indexOf("contrast")&&(e=e.replace(/contrast/g,this.renderer.getContrast(l.style.fill))),e=e.split(" "),i=e[e.length-1],(r=e[0])&&"none"!==r&&t.svg){for(this.fakeTS=!0,e=[].slice.call(l.getElementsByTagName("tspan")),this.ySetter=this.xSetter,r=r.replace(/(^[\d\.]+)(.*?)$/g,function(t,e,n){return 2*e+n}),a=e.length;a--;)n=e[a],"highcharts-text-outline"===n.getAttribute("class")&&g(e,l.removeChild(n));s=l.firstChild,f(e,function(t,e){0===e&&(t.setAttribute("x",l.getAttribute("x")),e=l.getAttribute("y"),t.setAttribute("y",e||0),null===e&&l.setAttribute("y",0)),t=t.cloneNode(1),o(t,{class:"highcharts-text-outline",fill:i,stroke:i,"stroke-width":r,"stroke-linejoin":"round"}),l.insertBefore(t,s)})}},attr:function(t,e,n,i){var r,o,s,a,l=this.element,c=this;return"string"==typeof t&&void 0!==e&&(r=t,t={},t[r]=e),"string"==typeof t?c=(this[t+"Getter"]||this._defaultGetter).call(this,t,l):(O(t,function(e,n){s=!1,i||M(this,n),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(n)&&(o||(this.symbolAttr(t),o=!0),s=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),s||(a=this[n+"Setter"]||this._defaultSetter,a.call(this,e,n,l),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,e,a))},this),this.afterSetters()),n&&n.call(this),c},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(t,e,n){for(var i=this.shadows,r=i.length;r--;)n.call(i[r],"height"===t?Math.max(e-(i[r].cutHeight||0),0):"d"===t?this.d:e,t,i[r])},addClass:function(t,e){var n=this.attr("class")||"";return-1===n.indexOf(t)&&(e||(t=(n+(n?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return-1!==y(t,(this.attr("class")||"").split(" "))},removeClass:function(t){return this.attr("class",(this.attr("class")||"").replace(t,""))},symbolAttr:function(t){var e=this;f("x y r start end width height innerR anchorX anchorY".split(" "),function(n){e[n]=P(t[n],e[n])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var n;return e=e||t.strokeWidth||0,n=Math.round(e)%2/2,t.x=Math.floor(t.x||this.x||0)+n,t.y=Math.floor(t.y||this.y||0)+n,t.width=Math.floor((t.width||this.width||0)-2*n),t.height=Math.floor((t.height||this.height||0)-2*n),u(t.strokeWidth)&&(t.strokeWidth=e),t},css:function(t){var e,n,i=this.styles,r={},s=this.element,a="",c=!i,u=["textOutline","textOverflow","width"];return t&&t.color&&(t.fill=t.color),i&&O(t,function(t,e){t!==i[e]&&(r[e]=t,c=!0)}),c&&(i&&(t=m(i,r)),t&&(null===t.width||"auto"===t.width?delete this.textWidth:"text"===s.nodeName.toLowerCase()&&t.width&&(e=this.textWidth=I(t.width))),this.styles=t,e&&!N&&this.renderer.forExport&&delete t.width,s.namespaceURI===this.SVG_NS?(n=function(t,e){return"-"+e.toLowerCase()},O(t,function(t,e){-1===y(e,u)&&(a+=e.replace(/([A-Z])/g,n)+":"+t+";")}),a&&o(s,"style",a)):l(s,t),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))),this},strokeWidth:function(){return this["stroke-width"]||0},on:function(t,e){var n=this,i=n.element;return b&&"click"===t?(i.ontouchstart=function(t){n.touchEventFired=Date.now(),t.preventDefault(),e.call(i,t)},i.onclick=function(t){(-1===R.navigator.userAgent.indexOf("Android")||1100<Date.now()-(n.touchEventFired||0))&&e.call(i,t)}):i["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){return this.inverted=t,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,n=this.scaleX,i=this.scaleY,r=this.inverted,o=this.rotation,s=this.matrix,a=this.element;r&&(t+=this.width,e+=this.height),t=["translate("+t+","+e+")"],u(s)&&t.push("matrix("+s.join(",")+")"),r?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+P(this.rotationOriginX,a.getAttribute("x"),0)+" "+P(this.rotationOriginY,a.getAttribute("y")||0)+")"),(u(n)||u(i))&&t.push("scale("+P(n,1)+" "+P(i,1)+")"),t.length&&a.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){var i,r,o,s,a={};r=this.renderer,o=r.alignedObjects;var l,c;return t?(this.alignOptions=t,this.alignByTranslate=e,(!n||x(n))&&(this.alignTo=i=n||"renderer",g(o,this),o.push(this),n=null)):(t=this.alignOptions,e=this.alignByTranslate,i=this.alignTo),n=P(n,r[i],r),i=t.align,r=t.verticalAlign,o=(n.x||0)+(t.x||0),s=(n.y||0)+(t.y||0),"right"===i?l=1:"center"===i&&(l=2),l&&(o+=(n.width-(t.width||0))/l),a[e?"translateX":"x"]=Math.round(o),"bottom"===r?c=1:"middle"===r&&(c=2),c&&(s+=(n.height-(t.height||0))/c),a[e?"translateY":"y"]=Math.round(s),this[this.placed?"animate":"attr"](a),this.placed=!0,this.alignAttr=a,this},getBBox:function(t,e){var n,i,r,o,s,a=this.renderer,l=this.element,c=this.styles,h=this.textStr,p=a.cache,g=a.cacheKeys,v=l.namespaceURI===this.SVG_NS;if(e=P(e,this.rotation),i=e*d,r=c&&c.fontSize,u(h)&&(s=h.toString(),-1===s.indexOf("<")&&(s=s.replace(/[0-9]/g,"0")),s+=["",e||0,r,this.textWidth,c&&c.textOverflow].join()),s&&!t&&(n=p[s]),!n){if(v||a.forExport){try{(o=this.fakeTS&&function(t){f(l.querySelectorAll(".highcharts-text-outline"),function(e){e.style.display=t})})&&o("none"),n=l.getBBox?m({},l.getBBox()):{width:l.offsetWidth,height:l.offsetHeight},o&&o("")}catch(t){}(!n||0>n.width)&&(n={width:0,height:0})}else n=this.htmlGetBBox();if(a.isSVG&&(t=n.width,a=n.height,v&&(n.height=a={"11px,17":14,"13px,20":16}[c&&c.fontSize+","+Math.round(a)]||a),e&&(n.width=Math.abs(a*Math.sin(i))+Math.abs(t*Math.cos(i)),n.height=Math.abs(a*Math.cos(i))+Math.abs(t*Math.sin(i)))),s&&0<n.height){for(;250<g.length;)delete p[g.shift()];p[s]||g.push(s),p[s]=n}}return n},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,n=this.renderer,i=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&n.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:n.box).appendChild(i),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t=this,e=t.element||{},n=t.renderer.isSVG&&"SPAN"===e.nodeName&&t.parentGroup,i=e.ownerSVGElement,r=t.clipPath;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,M(t),r&&i&&(f(i.querySelectorAll("[clip-path],[CLIP-PATH]"),function(t){var e=t.getAttribute("clip-path"),n=r.element.id;(-1<e.indexOf("(#"+n+")")||-1<e.indexOf('("#'+n+'")'))&&t.removeAttribute("clip-path")}),t.clipPath=r.destroy()),t.stops){for(i=0;i<t.stops.length;i++)t.stops[i]=t.stops[i].destroy();t.stops=null}for(t.safeRemoveChild(e),t.destroyShadows();n&&n.div&&0===n.div.childNodes.length;)e=n.parentGroup,t.safeRemoveChild(n.div),delete n.div,n=e;return t.alignTo&&g(t.renderer.alignedObjects,t),O(t,function(e,n){delete t[n]}),null},shadow:function(t,e,n){var i,r,s,a,l,c,u=[],d=this.element;if(t){if(!this.shadows){for(a=P(t.width,3),l=(t.opacity||.15)/a,c=this.parentInverted?"(-1,-1)":"("+P(t.offsetX,1)+", "+P(t.offsetY,1)+")",i=1;i<=a;i++)r=d.cloneNode(0),s=2*a+1-2*i,o(r,{stroke:t.color||"#000000","stroke-opacity":l*i,"stroke-width":s,transform:"translate"+c,fill:"none"}),r.setAttribute("class",(r.getAttribute("class")||"")+" highcharts-shadow"),n&&(o(r,"height",Math.max(o(r,"height")-s,0)),r.cutHeight=s),e?e.element.appendChild(r):d.parentNode&&d.parentNode.insertBefore(r,d),u.push(r);this.shadows=u}}else this.destroyShadows();return this},destroyShadows:function(){f(this.shadows||[],function(t){this.safeRemoveChild(t)},this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){return t=P(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,n){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(n.setAttribute(e,t),this[e]=t)},dashstyleSetter:function(t){var e,n=this["stroke-width"];if("inherit"===n&&(n=1),t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=t.length;e--;)t[e]=I(t[e])*n;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.alignValue=t,this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,n){this[e]=t,n.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=p.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(p.createTextNode(String(P(t),"").replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,n){"string"==typeof t?n.setAttribute(e,t):t&&this.complexColor(t,e,n)},visibilitySetter:function(t,e,n){"inherit"===t?n.removeAttribute(e):this[e]!==t&&n.setAttribute(e,t),this[e]=t},zIndexSetter:function(t,e){var n,i,r,o=this.renderer,s=this.parentGroup,a=(s||o).element||o.box,l=this.element,o=a===o.box;n=this.added;var c;if(u(t)?(l.setAttribute("data-z-index",t),t=+t,this[e]===t&&(n=!1)):u(this[e])&&l.removeAttribute("data-z-index"),this[e]=t,n){for((t=this.zIndex)&&s&&(s.handleZ=!0),e=a.childNodes,c=e.length-1;0<=c&&!i;c--)s=e[c],n=s.getAttribute("data-z-index"),r=!u(n),s!==l&&(0>t&&r&&!o&&!c?(a.insertBefore(l,e[c]),i=!0):(I(n)<=t||r&&(!u(t)||0<=t))&&(a.insertBefore(l,e[c+1]||null),i=!0));i||(a.insertBefore(l,e[o?3:0]||null),i=!0)}return i},_defaultSetter:function(t,e,n){n.setAttribute(e,t)}}),e.prototype.yGetter=e.prototype.xGetter,e.prototype.translateXSetter=e.prototype.translateYSetter=e.prototype.rotationSetter=e.prototype.verticalAlignSetter=e.prototype.rotationOriginXSetter=e.prototype.rotationOriginYSetter=e.prototype.scaleXSetter=e.prototype.scaleYSetter=e.prototype.matrixSetter=function(t,e){this[e]=t,this.doTransform=!0},e.prototype["stroke-widthSetter"]=e.prototype.strokeSetter=function(t,n,i){this[n]=t,this.stroke&&this["stroke-width"]?(e.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===n&&0===t&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)},n=t.SVGRenderer=function(){this.init.apply(this,arguments)},m(n.prototype,{Element:e,SVG_NS:D,init:function(t,e,n,r,s,a){var c;r=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}).css(this.getStyle(r)),c=r.element,t.appendChild(c),o(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&o(c,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=c,this.boxWrapper=r,this.alignedObjects=[],this.url=(w||C)&&p.getElementsByTagName("base").length?R.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(p.createTextNode("Created with Highcharts 6.2.0")),this.defs=this.createElement("defs").add(),this.allowHTML=a,this.forExport=s,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,n,!1);var u;w&&t.getBoundingClientRect&&(e=function(){l(t,{left:0,top:0}),u=t.getBoundingClientRect(),l(t,{left:Math.ceil(u.left)-u.left+"px",top:Math.ceil(u.top)-u.top+"px"})},e(),this.unSubPixelFix=i(R,"resize",e))},getStyle:function(t){return this.style=m({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),h(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:k,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},truncate:function(t,e,n,i,r,o,s){var a,l,c,u=this,d=t.rotation,h=i?1:0,f=(n||i).length,m=f,g=[],v=function(t){e.firstChild&&e.removeChild(e.firstChild),t&&e.appendChild(p.createTextNode(t))},b=function(o,a){if(a=a||o,void 0===g[a])if(e.getSubStringLength)try{g[a]=r+e.getSubStringLength(0,i?a+1:a)}catch(t){}else u.getSpanWidth&&(v(s(n||i,o)),g[a]=r+u.getSpanWidth(t,e));return g[a]};if(t.rotation=0,l=b(e.textContent.length),c=r+l>o){for(;h<=f;)m=Math.ceil((h+f)/2),i&&(a=s(i,m)),l=b(m,a&&a.length-1),h===f?h=f+1:l>o?f=m-1:h=m;0===f?v(""):n&&f===n.length-1||v(a||s(n||i,m))}return i&&i.splice(0,m),t.actualWidth=l,t.rotation=d,c},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},buildText:function(t){var e,n,i,r=t.element,s=this,a=s.forExport,c=P(t.textStr,"").toString(),u=-1!==c.indexOf("<"),d=r.childNodes,h=o(r,"x"),m=t.styles,g=t.textWidth,b=m&&m.lineHeight,_=m&&m.textOutline,w=m&&"ellipsis"===m.textOverflow,S=m&&"nowrap"===m.whiteSpace,E=m&&m.fontSize,x=d.length,m=g&&!t.added&&this.box,C=function(t){var e;return e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:E||s.style.fontSize||12,b?I(b):s.fontMetrics(e,t.getAttribute("style")?t:r).h},T=function(t,e){return O(s.escapes,function(n,i){e&&-1!==y(n,e)||(t=t.toString().replace(new RegExp(n,"g"),i))}),t},k=function(t,e){var n;if(n=t.indexOf("<"),t=t.substring(n,t.indexOf(">")-n),-1!==(n=t.indexOf(e+"="))&&(n=n+e.length+1,'"'===(e=t.charAt(n))||"'"===e))return t=t.substring(n+1),t.substring(0,t.indexOf(e))};if((n=[c,w,S,b,_,E,g].join())!==t.textCache){for(t.textCache=n;x--;)r.removeChild(d[x]);u||_||w||g||-1!==c.indexOf(" ")?(m&&m.appendChild(r),c=u?c.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[c],c=v(c,function(t){return""!==t}),f(c,function(n,c){var u,d=0,m=0;n=n.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),u=n.split("|||"),f(u,function(n){if(""!==n||1===u.length){var f,v,b={},y=p.createElementNS(s.SVG_NS,"tspan");if((f=k(n,"class"))&&o(y,"class",f),(f=k(n,"style"))&&(f=f.replace(/(;| |^)color([ :])/,"$1fill$2"),o(y,"style",f)),(v=k(n,"href"))&&!a&&(o(y,"onclick",'location.href="'+v+'"'),o(y,"class","highcharts-anchor"),l(y,{cursor:"pointer"}))," "!==(n=T(n.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" "))){if(y.appendChild(p.createTextNode(n)),d?b.dx=0:c&&null!==h&&(b.x=h),o(y,b),r.appendChild(y),!d&&i&&(!N&&a&&l(y,{display:"block"}),o(y,"dy",C(y))),g){var _=n.replace(/([^\^])-/g,"$1- ").split(" "),b=!S&&(1<u.length||c||1<_.length);v=0;var x=C(y);if(w)e=s.truncate(t,y,n,void 0,0,Math.max(0,g-parseInt(E||12,10)),function(t,e){return t.substring(0,e)+"…"});else if(b)for(;_.length;)_.length&&!S&&0<v&&(y=p.createElementNS(D,"tspan"),o(y,{dy:x,x:h}),f&&o(y,"style",f),y.appendChild(p.createTextNode(_.join(" ").replace(/- /g,"-"))),r.appendChild(y)),s.truncate(t,y,null,_,0===v?m:0,g,function(t,e){return _.slice(0,e).join(" ").replace(/- /g,"-")}),m=t.actualWidth,v++}d++}}}),i=i||r.childNodes.length}),w&&e&&t.attr("title",T(t.textStr,["&lt;","&gt;"])),m&&m.removeChild(r),_&&t.applyTextOutline&&t.applyTextOutline(_)):r.appendChild(p.createTextNode(T(c)))}},getContrast:function(t){return t=a(t).rgba,t[0]*=1,t[1]*=1.2,t[2]*=.5,459<t[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(t,e,n,r,o,s,a,l,c){var u=this.label(t,e,n,c,null,null,null,null,"button"),d=0;u.attr(T({padding:8,r:2},o));var h,p,f,g;return o=T({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},o),h=o.style,delete o.style,s=T(o,{fill:"#e6e6e6"},s),p=s.style,delete s.style,a=T(o,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},a),f=a.style,delete a.style,l=T(o,{style:{color:"#cccccc"}},l),g=l.style,delete l.style,i(u.element,S?"mouseover":"mouseenter",function(){3!==d&&u.setState(1)}),i(u.element,S?"mouseout":"mouseleave",function(){3!==d&&u.setState(d)}),u.setState=function(t){1!==t&&(u.state=d=t),u.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),u.attr([o,s,a,l][t||0]).css([h,p,f,g][t||0])},u.attr(o).css(m({cursor:"default"},h)),u.on("click",function(t){3!==d&&r.call(u,t)})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return _(t)?e.d=t:E(t)&&m(e,t),this.createElement("path").attr(e)},circle:function(t,e,n){return t=E(t)?t:{x:t,y:e,r:n},e=this.createElement("circle"),e.xSetter=e.ySetter=function(t,e,n){n.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,n,i,r,o){return E(t)?(i=t,e=i.y,n=i.r,t=i.x):i={innerR:i,start:r,end:o},t=this.symbol("arc",t,e,n,n,i),t.r=n,t},rect:function(t,e,n,i,r,s){r=E(t)?t.r:r;var a=this.createElement("rect");return t=E(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(n,0),height:Math.max(i,0)},void 0!==s&&(t.strokeWidth=s,t=a.crisp(t)),t.fill="none",r&&(t.r=r),a.rSetter=function(t,e,n){o(n,{rx:t,ry:t})},a.attr(t)},setSize:function(t,e,n){var i=this.alignedObjects,r=i.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:P(n,!0)?void 0:0});r--;)i[r].align()},g:function(t){var e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e},image:function(t,e,n,r,o,s){var a,l={preserveAspectRatio:"none"},c=function(t,e){t.setAttributeNS?t.setAttributeNS("http://www.w3.org/1999/xlink","href",e):t.setAttribute("hc-svg-href",e)},u=function(e){c(a.element,t),s.call(a,e)};return 1<arguments.length&&m(l,{x:e,y:n,width:r,height:o}),a=this.createElement("image").attr(l),s?(c(a.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),l=new R.Image,i(l,"load",u),l.src=t,l.complete&&u({})):c(a.element,t),a},symbol:function(t,e,n,i,r,o){var a,d,h,g=this,v=/^url\((.*?)\)$/,b=v.test(t),y=!b&&(this.symbols[t]?t:"circle"),_=y&&this.symbols[y],w=u(e)&&_&&_.call(this.symbols,Math.round(e),Math.round(n),i,r,o);return _?(a=this.path(w),a.attr("fill","none"),m(a,{symbolName:y,x:e,y:n,width:i,height:r}),o&&m(a,o)):b&&(d=t.match(v)[1],a=this.image(d),a.imgwidth=P(L[d]&&L[d].width,o&&o.width),a.imgheight=P(L[d]&&L[d].height,o&&o.height),h=function(){a.attr({width:a.width,height:a.height})},f(["width","height"],function(t){a[t+"Setter"]=function(t,e){var n={},i=this["img"+e],r="width"===e?"translateX":"translateY";this[e]=t,u(i)&&(this.element&&this.element.setAttribute(e,i),this.alignByTranslate||(n[r]=((this[e]||0)-i)/2,this.attr(n)))}}),u(e)&&a.attr({x:e,y:n}),a.isImg=!0,u(a.imgwidth)&&u(a.imgheight)?h():(a.attr({width:0,height:0}),c("img",{onload:function(){var t=s[g.chartIndex];0===this.width&&(l(this,{position:"absolute",top:"-999em"}),p.body.appendChild(this)),L[d]={width:this.width,height:this.height},a.imgwidth=this.width,a.imgheight=this.height,a.element&&h(),this.parentNode&&this.parentNode.removeChild(this),!--g.imgCount&&t&&t.onload&&t.onload()},src:d}),this.imgCount++)),a},symbols:{circle:function(t,e,n,i){return this.arc(t+n/2,e+i/2,n/2,i/2,{start:0,end:2*Math.PI,open:!1})},square:function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n,e+i,t,e+i,"Z"]},triangle:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i,t,e+i,"Z"]},"triangle-down":function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n/2,e+i,"Z"]},diamond:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i/2,t+n/2,e+i,t,e+i/2,"Z"]},arc:function(t,e,n,i,r){var o=r.start,s=r.r||n,a=r.r||i||n,l=r.end-.001;n=r.innerR,i=P(r.open,.001>Math.abs(r.end-r.start-2*Math.PI));var c=Math.cos(o),d=Math.sin(o),h=Math.cos(l),l=Math.sin(l);return r=.001>r.end-o-Math.PI?0:1,s=["M",t+s*c,e+a*d,"A",s,a,0,r,1,t+s*h,e+a*l],u(n)&&s.push(i?"M":"L",t+n*h,e+n*l,"A",n,n,0,r,0,t+n*c,e+n*d),s.push(i?"":"Z"),s},callout:function(t,e,n,i,r){var o=Math.min(r&&r.r||0,n,i),s=o+6,a=r&&r.anchorX;r=r&&r.anchorY;var l;return l=["M",t+o,e,"L",t+n-o,e,"C",t+n,e,t+n,e,t+n,e+o,"L",t+n,e+i-o,"C",t+n,e+i,t+n,e+i,t+n-o,e+i,"L",t+o,e+i,"C",t,e+i,t,e+i,t,e+i-o,"L",t,e+o,"C",t,e,t,e,t+o,e],a&&a>n?r>e+s&&r<e+i-s?l.splice(13,3,"L",t+n,r-6,t+n+6,r,t+n,r+6,t+n,e+i-o):l.splice(13,3,"L",t+n,i/2,a,r,t+n,i/2,t+n,e+i-o):a&&0>a?r>e+s&&r<e+i-s?l.splice(33,3,"L",t,r+6,t-6,r,t,r-6,t,e+o):l.splice(33,3,"L",t,i/2,a,r,t,i/2,t,e+o):r&&r>i&&a>t+s&&a<t+n-s?l.splice(23,3,"L",a+6,e+i,a,e+i+6,a-6,e+i,t+o,e+i):r&&0>r&&a>t+s&&a<t+n-s&&l.splice(3,3,"L",a-6,e,a,e-6,a+6,e,n-o,e),l}},clipRect:function(e,n,i,r){var o=t.uniqueKey(),s=this.createElement("clipPath").attr({id:o}).add(this.defs);return e=this.rect(e,n,i,r,0).add(s),e.id=o,e.clipPath=s,e.count=0,e},text:function(t,e,n,i){var r={};return!i||!this.allowHTML&&this.forExport?(r.x=Math.round(e||0),n&&(r.y=Math.round(n)),u(t)&&(r.text=t),t=this.createElement("text").attr(r),i||(t.xSetter=function(t,e,n){var i,r,o=n.getElementsByTagName("tspan"),s=n.getAttribute(e);for(r=0;r<o.length;r++)i=o[r],i.getAttribute(e)===s&&i.setAttribute(e,t);n.setAttribute(e,t)}),t):this.html(t,e,n)},fontMetrics:function(t,e){return t=t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize,t=/px/.test(t)?I(t):/em/.test(t)?parseFloat(t)*(e?this.fontMetrics(null,e.parentNode).f:16):12,e=24>t?t+3:Math.round(1.2*t),{h:e,b:Math.round(.8*e),f:t}},rotCorr:function(t,e,n){var i=t;return e&&n&&(i=Math.max(i*Math.cos(e*d),4)),{x:-t/3*Math.sin(e*d),y:i}},label:function(n,i,r,o,s,a,l,c,d){var h,p,g,v,b,y,_,w,S,E,x,C,k,O=this,P=O.g("button"!==d&&"label"),I=P.text=O.text("",0,0,l).attr({zIndex:1}),M=0,N=3,D=0,L={},R=/^url\((.*?)\)$/.test(o),F=R;d&&P.addClass("highcharts-"+d),F=R,E=function(){return(w||0)%2/2},x=function(){var t=I.element.style,e={};p=(void 0===g||void 0===v||_)&&u(I.textStr)&&I.getBBox(),P.width=(g||p.width||0)+2*N+D,P.height=(v||p.height||0)+2*N,S=N+O.fontMetrics(t&&t.fontSize,I).b,F&&(h||(P.box=h=O.symbols[o]||R?O.symbol(o):O.rect(),h.addClass(("button"===d?"":"highcharts-label-box")+(d?" highcharts-"+d+"-box":"")),h.add(P),t=E(),e.x=t,e.y=(c?-S:0)+t),e.width=Math.round(P.width),e.height=Math.round(P.height),h.attr(m(e,L)),L={})},C=function(){var t,e=D+N;t=c?0:S,u(g)&&p&&("center"===_||"right"===_)&&(e+={center:.5,right:1}[_]*(g-p.width)),e===I.x&&t===I.y||(I.attr("x",e),I.hasBoxWidthChanged&&(p=I.getBBox(!0),x()),void 0!==t&&I.attr("y",t)),I.x=e,I.y=t},k=function(t,e){h?h.attr(t,e):L[t]=e},P.onAdd=function(){I.add(P),P.attr({text:n||0===n?n:"",x:i,y:r}),h&&u(s)&&P.attr({anchorX:s,anchorY:a})},P.widthSetter=function(e){g=t.isNumber(e)?e:null},P.heightSetter=function(t){v=t},P["text-alignSetter"]=function(t){_=t},P.paddingSetter=function(t){u(t)&&t!==N&&(N=P.padding=t,C())},P.paddingLeftSetter=function(t){u(t)&&t!==D&&(D=t,C())},P.alignSetter=function(t){(t={left:0,center:.5,right:1}[t])!==M&&(M=t,p&&P.attr({x:b}))},P.textSetter=function(t){void 0!==t&&I.textSetter(t),x(),C()},P["stroke-widthSetter"]=function(t,e){t&&(F=!0),w=this["stroke-width"]=t,k(e,t)},P.strokeSetter=P.fillSetter=P.rSetter=function(t,e){"r"!==e&&("fill"===e&&t&&(F=!0),P[e]=t),k(e,t)},P.anchorXSetter=function(t,e){s=P.anchorX=t,k(e,Math.round(t)-E()-b)},P.anchorYSetter=function(t,e){a=P.anchorY=t,k(e,t-y)},P.xSetter=function(t){P.x=t,M&&(t-=M*((g||p.width)+2*N),P["forceAnimate:x"]=!0),b=Math.round(t),P.attr("translateX",b)},P.ySetter=function(t){y=P.y=Math.round(t),P.attr("translateY",y)};var B=P.css;return m(P,{css:function(t){if(t){var e={};t=T(t),f(P.textProps,function(n){void 0!==t[n]&&(e[n]=t[n],delete t[n])}),I.css(e),"width"in e&&x()}return B.call(P,t)},getBBox:function(){return{width:p.width+2*N,height:p.height+2*N,x:p.x-N,y:p.y-N}},shadow:function(t){return t&&(x(),h&&h.shadow(t)),P},destroy:function(){A(P.element,"mouseenter"),A(P.element,"mouseleave"),I&&(I=I.destroy()),h&&(h=h.destroy()),e.prototype.destroy.call(P),P=O=x=C=k=null}})}}),t.Renderer=n}(e),function(t){var e=t.attr,n=t.createElement,i=t.css,r=t.defined,o=t.each,s=t.extend,a=t.isFirefox,l=t.isMS,c=t.isWebKit,u=t.pick,d=t.pInt,h=t.SVGRenderer,p=t.win,f=t.wrap;s(t.SVGElement.prototype,{htmlCss:function(t){var e="SPAN"===this.element.tagName&&t&&"width"in t,n=u(e&&t.width,void 0);return e&&(delete t.width,this.textWidth=n,this.htmlUpdateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=s(this.styles,t),i(this.element,t),this},htmlGetBBox:function(){var t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,n=this.translateX||0,s=this.translateY||0,a=this.x||0,l=this.y||0,c=this.textAlign||"left",u={left:0,center:.5,right:1}[c],h=this.styles,p=h&&h.whiteSpace;if(i(e,{marginLeft:n,marginTop:s}),this.shadows&&o(this.shadows,function(t){i(t,{marginLeft:n+1,marginTop:s+1})}),this.inverted&&o(e.childNodes,function(n){t.invertChild(n,e)}),"SPAN"===e.tagName){var f,h=this.rotation,m=this.textWidth&&d(this.textWidth),g=[h,c,e.innerHTML,this.textWidth,this.textAlign].join();(f=m!==this.oldTextWidth)&&!(f=m>this.oldTextWidth)&&((f=this.textPxLength)||(i(e,{width:"",whiteSpace:p||"nowrap"}),f=e.offsetWidth),f=f>m),f&&/[ \-]/.test(e.textContent||e.innerText)?(i(e,{width:m+"px",display:"block",whiteSpace:p||"normal"}),this.oldTextWidth=m,this.hasBoxWidthChanged=!0):this.hasBoxWidthChanged=!1,g!==this.cTT&&(p=t.fontMetrics(e.style.fontSize).b,!r(h)||h===(this.oldRotation||0)&&c===this.oldAlign||this.setSpanRotation(h,u,p),this.getSpanCorrection(!r(h)&&this.textPxLength||e.offsetWidth,p,u,h,c)),i(e,{left:a+(this.xCorr||0)+"px",top:l+(this.yCorr||0)+"px"}),this.cTT=g,this.oldRotation=h,this.oldAlign=c}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,n){var r={},o=this.renderer.getTransformKey();r[o]=r.transform="rotate("+t+"deg)",r[o+(a?"Origin":"-origin")]=r.transformOrigin=100*e+"% "+n+"px",i(this.element,r)},getSpanCorrection:function(t,e,n){this.xCorr=-t*n,this.yCorr=-e}}),s(h.prototype,{getTransformKey:function(){return l&&!/Edge/.test(p.navigator.userAgent)?"-ms-transform":c?"-webkit-transform":a?"MozTransform":p.opera?"-o-transform":""},html:function(t,i,r){var a=this.createElement("span"),l=a.element,c=a.renderer,d=c.isSVG,h=function(t,e){o(["opacity","visibility"],function(n){f(t,n+"Setter",function(t,n,i,r){t.call(this,n,i,r),e[i]=n})}),t.addedSetters=!0};return a.textSetter=function(t){t!==l.innerHTML&&delete this.bBox,this.textStr=t,l.innerHTML=u(t,""),a.doTransform=!0},d&&h(a,a.element.style),a.xSetter=a.ySetter=a.alignSetter=a.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),a[e]=t,a.doTransform=!0},a.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},a.attr({text:t,x:Math.round(i),y:Math.round(r)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),l.style.whiteSpace="nowrap",a.css=a.htmlCss,d&&(a.add=function(t){var i,r=c.box.parentNode,u=[];if(this.parentGroup=t){if(!(i=t.div)){for(;t;)u.push(t),t=t.parentGroup;o(u.reverse(),function(t){function o(e,n){t[n]=e,"translateX"===n?l.left=e+"px":l.top=e+"px",t.doTransform=!0}var l,c=e(t.element,"class");c&&(c={className:c}),i=t.div=t.div||n("div",c,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},i||r),l=i.style,s(t,{classSetter:function(t){return function(e){this.element.setAttribute("class",e),t.className=e}}(i),on:function(){return u[0].div&&a.on.apply({element:u[0].div},arguments),t},translateXSetter:o,translateYSetter:o}),t.addedSetters||h(t,l)})}}else i=r;return i.appendChild(l),a.added=!0,a.alignOnAdd&&a.htmlUpdateTransform(),a}),a}})}(e),function(t){var e=t.defined,n=t.each,i=t.extend,r=t.merge,o=t.pick,s=t.timeUnits,a=t.win;t.Time=function(t){this.update(t,!1)},t.Time.prototype={defaultOptions:{},update:function(t){var e=o(t&&t.useUTC,!0),n=this;this.options=t=r(!0,this.options||{},t),this.Date=t.Date||a.Date,this.timezoneOffset=(this.useUTC=e)&&t.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),(this.variableTimezone=!(e&&!t.getTimezoneOffset&&!t.timezone))||this.timezoneOffset?(this.get=function(t,e){var i=e.getTime(),r=i-n.getTimezoneOffset(e);return e.setTime(r),t=e["getUTC"+t](),e.setTime(i),t},this.set=function(t,e,i){var r;"Milliseconds"===t||"Seconds"===t||"Minutes"===t&&0==e.getTimezoneOffset()%60?e["set"+t](i):(r=n.getTimezoneOffset(e),r=e.getTime()-r,e.setTime(r),e["setUTC"+t](i),t=n.getTimezoneOffset(e),r=e.getTime()+t,e.setTime(r))}):e?(this.get=function(t,e){return e["getUTC"+t]()},this.set=function(t,e,n){return e["setUTC"+t](n)}):(this.get=function(t,e){return e["get"+t]()},this.set=function(t,e,n){return e["set"+t](n)})},makeTime:function(e,n,i,r,s,a){var l,c,u;return this.useUTC?(l=this.Date.UTC.apply(0,arguments),c=this.getTimezoneOffset(l),l+=c,u=this.getTimezoneOffset(l),c!==u?l+=u-c:c-36e5!==this.getTimezoneOffset(l-36e5)||t.isSafari||(l-=36e5)):l=new this.Date(e,n,o(i,1),o(r,0),o(s,0),o(a,0)).getTime(),l},timezoneOffsetFunction:function(){var e=this,n=this.options,i=a.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t).getTimezoneOffset()};if(n.timezone){if(i)return function(t){return 6e4*-i.tz(t,n.timezone).utcOffset()};t.error(25)}return this.useUTC&&n.getTimezoneOffset?function(t){return 6e4*n.getTimezoneOffset(t)}:function(){return 6e4*(e.timezoneOffset||0)}},dateFormat:function(e,n,i){if(!t.defined(n)||isNaN(n))return t.defaultOptions.lang.invalidDate||"";e=t.pick(e,"%Y-%m-%d %H:%M:%S");var r=this,o=new this.Date(n),s=this.get("Hours",o),a=this.get("Day",o),l=this.get("Date",o),c=this.get("Month",o),u=this.get("FullYear",o),d=t.defaultOptions.lang,h=d.weekdays,p=d.shortWeekdays,f=t.pad,o=t.extend({a:p?p[a]:h[a].substr(0,3),A:h[a],d:f(l),e:f(l,2," "),w:a,b:d.shortMonths[c],B:d.months[c],m:f(c+1),o:c+1,y:u.toString().substr(2,2),Y:u,H:f(s),k:s,I:f(s%12||12),l:s%12||12,M:f(r.get("Minutes",o)),p:12>s?"AM":"PM",P:12>s?"am":"pm",S:f(o.getSeconds()),L:f(Math.floor(n%1e3),3)},t.dateFormats);return t.objectEach(o,function(t,i){for(;-1!==e.indexOf("%"+i);)e=e.replace("%"+i,"function"==typeof t?t.call(r,n):t)}),i?e.substr(0,1).toUpperCase()+e.substr(1):e},resolveDTLFormat:function(e){return t.isObject(e,!0)?e:(e=t.splat(e),{main:e[0],from:e[1],to:e[2]})},getTimeTicks:function(t,r,a,l){var c,u,d=this,h=[],p={};c=new d.Date(r);var f,m=t.unitRange,g=t.count||1;if(l=o(l,1),e(r)){d.set("Milliseconds",c,m>=s.second?0:g*Math.floor(d.get("Milliseconds",c)/g)),m>=s.second&&d.set("Seconds",c,m>=s.minute?0:g*Math.floor(d.get("Seconds",c)/g)),m>=s.minute&&d.set("Minutes",c,m>=s.hour?0:g*Math.floor(d.get("Minutes",c)/g)),m>=s.hour&&d.set("Hours",c,m>=s.day?0:g*Math.floor(d.get("Hours",c)/g)),m>=s.day&&d.set("Date",c,m>=s.month?1:g*Math.floor(d.get("Date",c)/g)),m>=s.month&&(d.set("Month",c,m>=s.year?0:g*Math.floor(d.get("Month",c)/g)),u=d.get("FullYear",c)),m>=s.year&&d.set("FullYear",c,u-u%g),m===s.week&&(u=d.get("Day",c),d.set("Date",c,d.get("Date",c)-u+l+(u<l?-7:0))),u=d.get("FullYear",c),l=d.get("Month",c);var v=d.get("Date",c),b=d.get("Hours",c);for(r=c.getTime(),d.variableTimezone&&(f=a-r>4*s.month||d.getTimezoneOffset(r)!==d.getTimezoneOffset(a)),r=c.getTime(),c=1;r<a;)h.push(r),r=m===s.year?d.makeTime(u+c*g,0):m===s.month?d.makeTime(u,l+c*g):!f||m!==s.day&&m!==s.week?f&&m===s.hour&&1<g?d.makeTime(u,l,v,b+c*g):r+m*g:d.makeTime(u,l,v+c*g*(m===s.day?1:7)),c++;h.push(r),m<=s.hour&&1e4>h.length&&n(h,function(t){0==t%18e5&&"000000000"===d.dateFormat("%H%M%S%L",t)&&(p[t]="day")})}return h.info=i(t,{higherRanks:p,totalRange:m*g}),h}}}(e),function(t){var e=t.color,n=t.merge;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:t.Time.prototype.defaultOptions,chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:t.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:t.isTouchDevice?25:10,backgroundColor:e("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"https://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(e){return t.defaultOptions=n(!0,t.defaultOptions,e),t.time.update(n(t.defaultOptions.global,t.defaultOptions.time),!1),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,t.time=new t.Time(n(t.defaultOptions.global,t.defaultOptions.time)),t.dateFormat=function(e,n,i){return t.time.dateFormat(e,n,i)}}(e),function(t){var e=t.correctFloat,n=t.defined,i=t.destroyObjectProperties,r=t.fireEvent,o=t.isNumber,s=t.merge,a=t.pick,l=t.deg2rad;t.Tick=function(t,e,n,i,r){this.axis=t,this.pos=e,this.type=n||"",this.isNewLabel=this.isNew=!0,this.parameters=r||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,n||i||this.addLabel()},t.Tick.prototype={addLabel:function(){var i,r,o,l,c=this,u=c.axis,d=u.options,h=u.chart,p=u.categories,f=u.names,m=c.pos,g=a(c.options&&c.options.labels,d.labels),v=u.tickPositions,b=m===v[0],y=m===v[v.length-1],p=this.parameters.category||(p?a(p[m],f[m],m):m),_=c.label,v=v.info;u.isDatetimeAxis&&v&&(r=h.time.resolveDTLFormat(d.dateTimeLabelFormats[!d.grid&&v.higherRanks[m]||v.unitName]),i=r.main),c.isFirst=b,c.isLast=y,c.formatCtx={axis:u,chart:h,isFirst:b,isLast:y,dateTimeLabelFormat:i,tickPositionInfo:v,value:u.isLog?e(u.lin2log(p)):p,pos:m},d=u.labelFormatter.call(c.formatCtx,this.formatCtx),(l=r&&r.list)&&(c.shortenLabel=function(){for(o=0;o<l.length;o++)if(_.attr({text:u.labelFormatter.call(t.extend(c.formatCtx,{dateTimeLabelFormat:l[o]}))}),_.getBBox().width<u.getSlotWidth(c)-2*a(g.padding,5))return;_.attr({text:""})}),n(_)?_&&_.textStr!==d&&(!_.textWidth||g.style&&g.style.width||_.styles.width||_.css({width:null}),_.attr({text:d})):((c.label=_=n(d)&&g.enabled?h.renderer.text(d,0,0,g.useHTML).css(s(g.style)).add(u.labelGroup):null)&&(_.textPxLength=_.getBBox().width),c.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,n=this.axis,i=n.options.labels,r=t.x,o=n.chart.chartWidth,s=n.chart.spacing,c=a(n.labelLeft,Math.min(n.pos,s[3])),s=a(n.labelRight,Math.max(n.isRadial?0:n.pos+n.len,o-s[1])),u=this.label,d=this.rotation,h={left:0,center:.5,right:1}[n.labelAlign||u.attr("align")],p=u.getBBox().width,f=n.getSlotWidth(this),m=f,g=1,v={};d||"justify"!==a(i.overflow,"justify")?0>d&&r-h*p<c?e=Math.round(r/Math.cos(d*l)-c):0<d&&r+h*p>s&&(e=Math.round((o-r)/Math.cos(d*l))):(o=r+(1-h)*p,r-h*p<c?m=t.x+m*(1-h)-c:o>s&&(m=s-t.x+m*h,g=-1),m=Math.min(f,m),m<f&&"center"===n.labelAlign&&(t.x+=g*(f-m-h*(f-Math.min(p,m)))),(p>m||n.autoRotation&&(u.styles||{}).width)&&(e=m)),e&&(this.shortenLabel?this.shortenLabel():(v.width=e,(i.style||{}).textOverflow||(v.textOverflow="ellipsis"),u.css(v)))},getPosition:function(e,n,i,o){var s=this.axis,a=s.chart,l=o&&a.oldChartHeight||a.chartHeight;return e={x:e?t.correctFloat(s.translate(n+i,null,null,o)+s.transB):s.left+s.offset+(s.opposite?(o&&a.oldChartWidth||a.chartWidth)-s.right-s.left:0),y:e?l-s.bottom+s.offset-(s.opposite?s.height:0):t.correctFloat(l-s.translate(n+i,null,null,o)-s.transB)},r(this,"afterGetPosition",{pos:e}),e},getLabelPosition:function(t,e,i,o,s,a,c,u){var d=this.axis,h=d.transA,p=d.reversed,f=d.staggerLines,m=d.tickRotCorr||{x:0,y:0},g=s.y,v=o||d.reserveSpaceDefault?0:-d.labelOffset*("center"===d.labelAlign?.5:1),b={};return n(g)||(g=0===d.side?i.rotation?-8:-i.getBBox().height:2===d.side?m.y+8:Math.cos(i.rotation*l)*(m.y-i.getBBox(!1,0).height/2)),t=t+s.x+v+m.x-(a&&o?a*h*(p?-1:1):0),e=e+g-(a&&!o?a*h*(p?1:-1):0),f&&(i=c/(u||1)%f,d.opposite&&(i=f-i-1),e+=d.labelOffset/f*i),b.x=t,b.y=Math.round(e),r(this,"afterGetLabelPosition",{pos:b}),b},getMarkPath:function(t,e,n,i,r,o){return o.crispLine(["M",t,e,"L",t+(r?0:-n),e+(r?n:0)],i)},renderGridLine:function(t,e,n){var i=this.axis,r=i.options,o=this.gridLine,s={},l=this.pos,c=this.type,u=a(this.tickmarkOffset,i.tickmarkOffset),d=i.chart.renderer,h=c?c+"Grid":"grid",p=r[h+"LineWidth"],f=r[h+"LineColor"],r=r[h+"LineDashStyle"];o||(s.stroke=f,s["stroke-width"]=p,r&&(s.dashstyle=r),c||(s.zIndex=1),t&&(e=0),this.gridLine=o=d.path().attr(s).addClass("highcharts-"+(c?c+"-":"")+"grid-line").add(i.gridGroup)),o&&(n=i.getPlotLinePath(l+u,o.strokeWidth()*n,t,"pass"))&&o[t||this.isNew?"attr":"animate"]({d:n,opacity:e})},renderMark:function(t,e,n){var i=this.axis,r=i.options,o=i.chart.renderer,s=this.type,l=s?s+"Tick":"tick",c=i.tickSize(l),u=this.mark,d=!u,h=t.x;t=t.y;var p=a(r[l+"Width"],!s&&i.isXAxis?1:0),r=r[l+"Color"];c&&(i.opposite&&(c[0]=-c[0]),d&&(this.mark=u=o.path().addClass("highcharts-"+(s?s+"-":"")+"tick").add(i.axisGroup),u.attr({stroke:r,"stroke-width":p})),u[d?"attr":"animate"]({d:this.getMarkPath(h,t,c[0],u.strokeWidth()*n,i.horiz,o),opacity:e}))},renderLabel:function(t,e,n,i){var r=this.axis,s=r.horiz,l=r.options,c=this.label,u=l.labels,d=u.step,r=a(this.tickmarkOffset,r.tickmarkOffset),h=!0,p=t.x;t=t.y,c&&o(p)&&(c.xy=t=this.getLabelPosition(p,t,c,s,u,r,i,d),this.isFirst&&!this.isLast&&!a(l.showFirstLabel,1)||this.isLast&&!this.isFirst&&!a(l.showLastLabel,1)?h=!1:!s||u.step||u.rotation||e||0===n||this.handleOverflow(t),d&&i%d&&(h=!1),h&&o(t.y)?(t.opacity=n,c[this.isNewLabel?"attr":"animate"](t),this.isNewLabel=!1):(c.attr("y",-9999),this.isNewLabel=!0))},render:function(e,n,i){var r=this.axis,o=r.horiz,s=this.pos,l=a(this.tickmarkOffset,r.tickmarkOffset),s=this.getPosition(o,s,l,n),l=s.x,c=s.y,r=o&&l===r.pos+r.len||!o&&c===r.pos?-1:1;i=a(i,1),this.isActive=!0,this.renderGridLine(n,i,r),this.renderMark(s,i,r),this.renderLabel(s,n,i,e),this.isNew=!1,t.fireEvent(this,"afterRender")},destroy:function(){i(this,this.axis)}}}(e);var n=function(t){var e=t.addEvent,n=t.animObject,i=t.arrayMax,r=t.arrayMin,o=t.color,s=t.correctFloat,a=t.defaultOptions,l=t.defined,c=t.deg2rad,u=t.destroyObjectProperties,d=t.each,h=t.extend,p=t.fireEvent,f=t.format,m=t.getMagnitude,g=t.grep,v=t.inArray,b=t.isArray,y=t.isNumber,_=t.isString,w=t.merge,S=t.normalizeTickInterval,E=t.objectEach,x=t.pick,C=t.removeEvent,T=t.splat,k=t.syncTimeout,O=t.Tick,P=function(){this.init.apply(this,arguments)};return t.extend(P.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,labels:{enabled:!0,indentation:10,x:0,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return t.numberFormat(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,n){var i=n.isX,r=this;r.chart=t,r.horiz=t.inverted&&!r.isZAxis?!i:i,r.isXAxis=i,r.coll=r.coll||(i?"xAxis":"yAxis"),p(this,"init",{userOptions:n}),r.opposite=n.opposite,r.side=n.side||(r.horiz?r.opposite?0:2:r.opposite?1:3),r.setOptions(n);var o=this.options,s=o.type;r.labelFormatter=o.labels.formatter||r.defaultLabelFormatter,r.userOptions=n,r.minPixelPadding=0,r.reversed=o.reversed,r.visible=!1!==o.visible,r.zoomEnabled=!1!==o.zoomEnabled,r.hasNames="category"===s||!0===o.categories,r.categories=o.categories||r.hasNames,r.names||(r.names=[],r.names.keys={}),r.plotLinesAndBandsGroups={},r.isLog="logarithmic"===s,r.isDatetimeAxis="datetime"===s,r.positiveValuesOnly=r.isLog&&!r.allowNegativeLog,r.isLinked=l(o.linkedTo),r.ticks={},r.labelEdge=[],r.minorTicks={},r.plotLinesAndBands=[],r.alternateBands={},r.len=0,r.minRange=r.userMinRange=o.minRange||o.maxZoom,r.range=o.range,r.offset=o.offset||0,r.stacks={},r.oldStacks={},r.stacksTouched=0,r.max=null,r.min=null,r.crosshair=x(o.crosshair,T(t.options.tooltip.crosshairs)[i?0:1],!1),n=r.options.events,-1===v(r,t.axes)&&(i?t.axes.splice(t.xAxis.length,0,r):t.axes.push(r),t[r.coll].push(r)),r.series=r.series||[],t.inverted&&!r.isZAxis&&i&&void 0===r.reversed&&(r.reversed=!0),E(n,function(t,n){e(r,n,t)}),r.lin2log=o.linearToLogConverter||r.lin2log,r.isLog&&(r.val2lin=r.log2lin,r.lin2val=r.lin2log),p(this,"afterInit")},setOptions:function(t){this.options=w(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],w(a[this.coll],t)),p(this,"afterSetOptions",{userOptions:t})},defaultLabelFormatter:function(){var e,n=this.axis,i=this.value,r=n.chart.time,o=n.categories,s=this.dateTimeLabelFormat,l=a.lang,c=l.numericSymbols,l=l.numericSymbolMagnitude||1e3,u=c&&c.length,d=n.options.labels.format,n=n.isLog?Math.abs(i):n.tickInterval;if(d)e=f(d,this,r);else if(o)e=i;else if(s)e=r.dateFormat(s,i);else if(u&&1e3<=n)for(;u--&&void 0===e;)r=Math.pow(l,u+1),n>=r&&0==10*i%r&&null!==c[u]&&0!==i&&(e=t.numberFormat(i/r,-1)+c[u]);return void 0===e&&(e=1e4<=Math.abs(i)?t.numberFormat(i,-1):t.numberFormat(i,-1,void 0,"")),e},getSeriesExtremes:function(){var t=this,e=t.chart;p(this,"getSeriesExtremes",null,function(){t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),d(t.series,function(n){if(n.visible||!e.options.chart.ignoreHiddenSeries){var o,s=n.options,a=s.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&0>=a&&(a=null),t.isXAxis?(s=n.xData,s.length&&(n=r(s),o=i(s),y(n)||n instanceof Date||(s=g(s,y),n=r(s),o=i(s)),s.length&&(t.dataMin=Math.min(x(t.dataMin,s[0],n),n),t.dataMax=Math.max(x(t.dataMax,s[0],o),o)))):(n.getExtremes(),o=n.dataMax,n=n.dataMin,l(n)&&l(o)&&(t.dataMin=Math.min(x(t.dataMin,n),n),t.dataMax=Math.max(x(t.dataMax,o),o)),l(a)&&(t.threshold=a),(!s.softThreshold||t.positiveValuesOnly)&&(t.softThreshold=!1))}})}),p(this,"afterGetSeriesExtremes")},translate:function(t,e,n,i,r,o){var s=this.linkedParent||this,a=1,l=0,c=i?s.oldTransA:s.transA;i=i?s.oldMin:s.min;var u=s.minPixelPadding;return r=(s.isOrdinal||s.isBroken||s.isLog&&r)&&s.lin2val,c||(c=s.transA),n&&(a*=-1,l=s.len),s.reversed&&(a*=-1,l-=a*(s.sector||s.len)),e?(t=(t*a+l-u)/c+i,r&&(t=s.lin2val(t))):(r&&(t=s.val2lin(t)),t=y(i)?a*(t-i)*c+l+a*u+(y(o)?c*o:0):void 0),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,n,i,r){var o,s,a,l=this.chart,c=this.left,u=this.top,d=n&&l.oldChartHeight||l.chartHeight,h=n&&l.oldChartWidth||l.chartWidth;o=this.transB;var p=function(t,e,n){return("pass"!==i&&t<e||t>n)&&(i?t=Math.min(Math.max(e,t),n):a=!0),t};return r=x(r,this.translate(t,null,null,n)),r=Math.min(Math.max(-1e5,r),1e5),t=n=Math.round(r+o),o=s=Math.round(d-r-o),y(r)?this.horiz?(o=u,s=d-this.bottom,t=n=p(t,c,c+this.width)):(t=c,n=h-this.right,o=s=p(o,u,u+this.height)):(a=!0,i=!1),a&&!i?null:l.renderer.crispLine(["M",t,o,"L",n,s],e||1)},getLinearTickPositions:function(t,e,n){var i,r=s(Math.floor(e/t)*t);n=s(Math.ceil(n/t)*t);var o,a=[];if(s(r+t)===r&&(o=20),this.single)return[e];for(e=r;e<=n&&(a.push(e),(e=s(e+t,o))!==i);)i=e;return a},getMinorTickInterval:function(){var t=this.options;return!0===t.minorTicks?x(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval},getMinorTickPositions:function(){var t=this,e=t.options,n=t.tickPositions,i=t.minorTickInterval,r=[],o=t.pointRangePadding||0,s=t.min-o,o=t.max+o,a=o-s;if(a&&a/i<t.len/3)if(t.isLog)d(this.paddedTicks,function(e,n,o){n&&r.push.apply(r,t.getLogTickPositions(i,o[n-1],o[n],!0))});else if(t.isDatetimeAxis&&"auto"===this.getMinorTickInterval())r=r.concat(t.getTimeTicks(t.normalizeTimeTickInterval(i),s,o,e.startOfWeek));else for(e=s+(n[0]-s)%i;e<=o&&e!==r[0];e+=i)r.push(e);return 0!==r.length&&t.trimTicks(r),r},adjustForMinRange:function(){var t,e,n,o,s,a,c,u,h=this.options,p=this.min,f=this.max;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(l(h.min)||l(h.max)?this.minRange=null:(d(this.series,function(t){for(a=t.xData,o=c=t.xIncrement?1:a.length-1;0<o;o--)s=a[o]-a[o-1],(void 0===n||s<n)&&(n=s)}),this.minRange=Math.min(5*n,this.dataMax-this.dataMin))),f-p<this.minRange&&(e=this.dataMax-this.dataMin>=this.minRange,u=this.minRange,t=(u-f+p)/2,t=[p-t,x(h.min,p-t)],e&&(t[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),p=i(t),f=[p+u,x(h.max,p+u)],e&&(f[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),(f=r(f))-p<u&&(t[0]=f-u,t[1]=x(h.min,f-u),p=i(t))),this.min=p,this.max=f},getClosest:function(){var t;return this.categories?t=1:d(this.series,function(e){var n=e.closestPointRange,i=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&l(n)&&i&&(t=l(t)?Math.min(t,n):n)}),t},nameToX:function(t){var e,n=b(this.categories),i=n?this.categories:this.names,r=t.options.x;return t.series.requireSorting=!1,l(r)||(r=!1===this.options.uniqueNames?t.series.autoIncrement():n?v(t.name,i):x(i.keys[t.name],-1)),-1===r?n||(e=i.length):e=r,void 0!==e&&(this.names[e]=t.name,this.names.keys[t.name]=e),e},updateNames:function(){var e=this,n=this.names;0<n.length&&(d(t.keys(n.keys),function(t){delete n.keys[t]}),n.length=0,this.minRange=this.userMinRange,d(this.series||[],function(t){t.xIncrement=null,t.points&&!t.isDirtyData||(t.processData(),t.generatePoints()),d(t.points,function(n,i){var r;n.options&&void 0!==(r=e.nameToX(n))&&r!==n.x&&(n.x=r,t.xData[i]=r)})}))},setAxisTranslation:function(t){var e,n=this,i=n.max-n.min,r=n.axisPointRange||0,o=0,s=0,a=n.linkedParent,l=!!n.categories,c=n.transA,u=n.isXAxis;(u||l||r)&&(e=n.getClosest(),a?(o=a.minPointOffset,s=a.pointRangePadding):d(n.series,function(t){var i=l?1:u?x(t.options.pointRange,e,0):n.axisPointRange||0;t=t.options.pointPlacement,r=Math.max(r,i),n.single||(o=Math.max(o,_(t)?0:i/2),s=Math.max(s,"on"===t?0:i))}),a=n.ordinalSlope&&e?n.ordinalSlope/e:1,n.minPointOffset=o*=a,n.pointRangePadding=s*=a,n.pointRange=Math.min(r,i),u&&(n.closestPointRange=e)),t&&(n.oldTransA=c),n.translationSlope=n.transA=c=n.staticScale||n.len/(i+s||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=c*o,p(this,"afterSetAxisTranslation")},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var n,i,r,o,a=this,c=a.chart,u=a.options,h=a.isLog,f=a.isDatetimeAxis,g=a.isXAxis,v=a.isLinked,b=u.maxPadding,_=u.minPadding,w=u.tickInterval,E=u.tickPixelInterval,C=a.categories,T=y(a.threshold)?a.threshold:null,k=a.softThreshold;f||C||v||this.getTickAmount(),r=x(a.userMin,u.min),o=x(a.userMax,u.max),v?(a.linkedParent=c[a.coll][u.linkedTo],c=a.linkedParent.getExtremes(),a.min=x(c.min,c.dataMin),a.max=x(c.max,c.dataMax),u.type!==a.linkedParent.options.type&&t.error(11,1)):(!k&&l(T)&&(a.dataMin>=T?(n=T,_=0):a.dataMax<=T&&(i=T,b=0)),a.min=x(r,n,a.dataMin),a.max=x(o,i,a.dataMax)),h&&(a.positiveValuesOnly&&!e&&0>=Math.min(a.min,x(a.dataMin,a.min))&&t.error(10,1),a.min=s(a.log2lin(a.min),15),a.max=s(a.log2lin(a.max),15)),a.range&&l(a.max)&&(a.userMin=a.min=r=Math.max(a.dataMin,a.minFromRange()),a.userMax=o=a.max,a.range=null),p(a,"foundExtremes"),a.beforePadding&&a.beforePadding(),a.adjustForMinRange(),!(C||a.axisPointRange||a.usePercentage||v)&&l(a.min)&&l(a.max)&&(c=a.max-a.min)&&(!l(r)&&_&&(a.min-=c*_),!l(o)&&b&&(a.max+=c*b)),y(u.softMin)&&!y(a.userMin)&&(a.min=Math.min(a.min,u.softMin)),y(u.softMax)&&!y(a.userMax)&&(a.max=Math.max(a.max,u.softMax)),y(u.floor)&&(a.min=Math.max(a.min,u.floor)),y(u.ceiling)&&(a.max=Math.min(a.max,u.ceiling)),k&&l(a.dataMin)&&(T=T||0,!l(r)&&a.min<T&&a.dataMin>=T?a.min=T:!l(o)&&a.max>T&&a.dataMax<=T&&(a.max=T)),a.tickInterval=a.min===a.max||void 0===a.min||void 0===a.max?1:v&&!w&&E===a.linkedParent.options.tickPixelInterval?w=a.linkedParent.tickInterval:x(w,this.tickAmount?(a.max-a.min)/Math.max(this.tickAmount-1,1):void 0,C?1:(a.max-a.min)*E/Math.max(a.len,E)),g&&!e&&d(a.series,function(t){t.processData(a.min!==a.oldMin||a.max!==a.oldMax)}),a.setAxisTranslation(!0),a.beforeSetTickPositions&&a.beforeSetTickPositions(),a.postProcessTickInterval&&(a.tickInterval=a.postProcessTickInterval(a.tickInterval)),a.pointRange&&!w&&(a.tickInterval=Math.max(a.pointRange,a.tickInterval)),e=x(u.minTickInterval,a.isDatetimeAxis&&a.closestPointRange),!w&&a.tickInterval<e&&(a.tickInterval=e),f||h||w||(a.tickInterval=S(a.tickInterval,null,m(a.tickInterval),x(u.allowDecimals,!(.5<a.tickInterval&&5>a.tickInterval&&1e3<a.max&&9999>a.max)),!!this.tickAmount)),this.tickAmount||(a.tickInterval=a.unsquish()),this.setTickPositions()},setTickPositions:function(){var e,n=this.options,i=n.tickPositions;e=this.getMinorTickInterval();var r=n.tickPositioner,o=n.startOnTick,s=n.endOnTick;this.tickmarkOffset=this.categories&&"between"===n.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===e&&this.tickInterval?this.tickInterval/5:e,this.single=this.min===this.max&&l(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==n.allowDecimals),this.tickPositions=e=i&&i.slice(),!e&&(!this.ordinalPositions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)?(e=[this.min,this.max],t.error(19)):e=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),e.length>this.len&&(e=[e[0],e.pop()],e[0]===e[1]&&(e.length=1)),this.tickPositions=e,r&&(r=r.apply(this,[this.min,this.max])))&&(this.tickPositions=e=r),this.paddedTicks=e.slice(0),this.trimTicks(e,o,s),this.isLinked||(this.single&&2>e.length&&(this.min-=.5,this.max+=.5),i||r||this.adjustTickAmount()),p(this,"afterSetTickPositions")},trimTicks:function(t,e,n){var i=t[0],r=t[t.length-1],o=this.minPointOffset||0;if(!this.isLinked){if(e&&-1/0!==i)this.min=i;else for(;this.min-o>t[0];)t.shift();if(n)this.max=r;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&l(i)&&!this.options.tickPositions&&t.push((r+i)/2)}},alignToOthers:function(){var t,e={},n=this.options;return!1===this.chart.options.chart.alignTicks||!1===n.alignTicks||!1===n.startOnTick||!1===n.endOnTick||this.isLog||d(this.chart[this.coll],function(n){var i=n.options,i=[n.horiz?i.left:i.top,i.width,i.height,i.pane].join();n.series.length&&(e[i]?t=!0:e[i]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,n=t.tickPixelInterval;!l(t.tickInterval)&&this.len<n&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/n)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,n=this.tickAmount,i=this.finalTickAmt,r=e&&e.length,o=x(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(r<n){for(;e.length<n;)e.length%2||this.min===o?e.push(s(e[e.length-1]+t)):e.unshift(s(e[0]-t));this.transA*=(r-1)/(n-1),this.min=e[0],this.max=e[e.length-1]}else r>n&&(this.tickInterval*=2,this.setTickPositions());if(l(i)){for(t=n=e.length;t--;)(3===i&&1==t%2||2>=i&&0<t&&t<n-1)&&e.splice(t,1);this.finalTickAmt=void 0}}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,d(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks(),p(this,"afterSetScale")},setExtremes:function(t,e,n,i,r){var o=this,s=o.chart;n=x(n,!0),d(o.series,function(t){delete t.kdTree}),r=h(r,{min:t,max:e}),p(o,"setExtremes",r,function(){o.userMin=t,o.userMax=e,o.eventArgs=r,n&&s.redraw(i)})},zoom:function(t,e){var n=this.dataMin,i=this.dataMax,r=this.options,o=Math.min(n,x(r.min,n)),r=Math.max(i,x(r.max,i));return t===this.min&&e===this.max||(this.allowZoomOutside||(l(n)&&(t<o&&(t=o),t>r&&(t=r)),l(i)&&(e<o&&(e=o),e>r&&(e=r))),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var e=this.chart,n=this.options,i=n.offsets||[0,0,0,0],r=this.horiz,o=this.width=Math.round(t.relativeLength(x(n.width,e.plotWidth-i[3]+i[1]),e.plotWidth)),s=this.height=Math.round(t.relativeLength(x(n.height,e.plotHeight-i[0]+i[2]),e.plotHeight)),a=this.top=Math.round(t.relativeLength(x(n.top,e.plotTop+i[0]),e.plotHeight,e.plotTop)),n=this.left=Math.round(t.relativeLength(x(n.left,e.plotLeft+i[3]),e.plotWidth,e.plotLeft));this.bottom=e.chartHeight-s-a,this.right=e.chartWidth-o-n,this.len=Math.max(r?o:s,0),this.pos=r?n:a},getExtremes:function(){var t=this.isLog;return{min:t?s(this.lin2log(this.min)):this.min,max:t?s(this.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,n=e?this.lin2log(this.min):this.min,e=e?this.lin2log(this.max):this.max;return null===t||-1/0===t?t=n:1/0===t?t=e:n>t?t=n:e<t&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return t=(x(t,0)-90*this.side+720)%360,15<t&&165>t?"right":195<t&&345>t?"left":"center"},tickSize:function(t){var e=this.options,n=e[t+"Length"],i=x(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(i&&n)return"inside"===e[t+"Position"]&&(n=-n),[n,i]},labelMetrics:function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},unsquish:function(){var t,e,n,i=this.options.labels,r=this.horiz,o=this.tickInterval,a=o,u=this.len/(((this.categories?1:0)+this.max-this.min)/o),h=i.rotation,p=this.labelMetrics(),f=Number.MAX_VALUE,m=function(t){return t/=u||1,t=1<t?Math.ceil(t):1,s(t*o)};return r?(n=!i.staggerLines&&!i.step&&(l(h)?[h]:u<x(i.autoRotationLimit,80)&&i.autoRotation))&&d(n,function(n){var i;(n===h||n&&-90<=n&&90>=n)&&(e=m(Math.abs(p.h/Math.sin(c*n))),(i=e+Math.abs(n/360))<f&&(f=i,t=n,a=e))}):i.step||(a=m(p.h)),this.autoRotation=n,this.labelRotation=x(t,h),a},getSlotWidth:function(t){var e=this.chart,n=this.horiz,i=this.options.labels,r=Math.max(this.tickPositions.length-(this.categories?0:1),1),o=e.margin[3];return t&&t.slotWidth||n&&2>(i.step||0)&&!i.rotation&&(this.staggerLines||1)*this.len/r||!n&&(i.style&&parseInt(i.style.width,10)||o&&o-e.spacing[3]||.33*e.chartWidth)},renderUnsquish:function(){var t,e,n,i=this.chart,r=i.renderer,o=this.tickPositions,s=this.ticks,a=this.options.labels,l=a&&a.style||{},c=this.horiz,u=this.getSlotWidth(),h=Math.max(1,Math.round(u-2*(a.padding||5))),p={},f=this.labelMetrics(),m=a.style&&a.style.textOverflow,g=0;if(_(a.rotation)||(p.rotation=a.rotation||0),d(o,function(t){(t=s[t])&&t.label&&t.label.textPxLength>g&&(g=t.label.textPxLength)}),this.maxLabelLength=g,this.autoRotation)g>h&&g>f.h?p.rotation=this.labelRotation:this.labelRotation=0;else if(u&&(t=h,!m))for(e="clip",h=o.length;!c&&h--;)n=o[h],(n=s[n].label)&&(n.styles&&"ellipsis"===n.styles.textOverflow?n.css({textOverflow:"clip"}):n.textPxLength>u&&n.css({width:u+"px"}),n.getBBox().height>this.len/o.length-(f.h-f.f)&&(n.specificTextOverflow="ellipsis"));p.rotation&&(t=g>.5*i.chartHeight?.33*i.chartHeight:g,m||(e="ellipsis")),(this.labelAlign=a.align||this.autoLabelAlign(this.labelRotation))&&(p.align=this.labelAlign),d(o,function(n){var i=(n=s[n])&&n.label,r=l.width,o={};i&&(i.attr(p),n.shortenLabel?n.shortenLabel():t&&!r&&"nowrap"!==l.whiteSpace&&(t<i.textPxLength||"SPAN"===i.element.tagName)?(o.width=t,m||(o.textOverflow=i.specificTextOverflow||e),i.css(o)):i.styles&&i.styles.width&&!o.width&&!r&&i.css({width:null}),delete i.specificTextOverflow,n.rotation=p.rotation)},this),this.tickRotCorr=r.rotCorr(f.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||l(this.min)&&l(this.max)&&this.tickPositions&&0<this.tickPositions.length},addTitle:function(t){var e,n=this.chart.renderer,i=this.horiz,r=this.opposite,o=this.options.title;this.axisTitle||((e=o.textAlign)||(e=(i?{low:"left",middle:"center",high:"right"}:{low:r?"right":"left",middle:"center",high:r?"left":"right"})[o.align]),this.axisTitle=n.text(o.text,0,0,o.useHTML).attr({zIndex:7,rotation:o.rotation||0,align:e}).addClass("highcharts-axis-title").css(w(o.style)).add(this.axisGroup),this.axisTitle.isNew=!0),o.style.width||this.isRadial||this.axisTitle.css({width:this.len}),this.axisTitle[t?"show":"hide"](!0)},generateTick:function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new O(this,t)},getOffset:function(){var t,e,n,i=this,r=i.chart,o=r.renderer,s=i.options,a=i.tickPositions,c=i.ticks,u=i.horiz,h=i.side,f=r.inverted&&!i.isZAxis?[1,0,3,2][h]:h,m=0,g=0,v=s.title,b=s.labels,y=0,_=r.axisOffset,r=r.clipOffset,w=[-1,1,1,-1][h],S=s.className,C=i.axisParent;t=i.hasData(),i.showAxis=e=t||x(s.showEmpty,!0),i.staggerLines=i.horiz&&b.staggerLines,i.axisGroup||(i.gridGroup=o.g("grid").attr({zIndex:s.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(S||"")).add(C),i.axisGroup=o.g("axis").attr({zIndex:s.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(S||"")).add(C),i.labelGroup=o.g("axis-labels").attr({zIndex:b.zIndex||7}).addClass("highcharts-"+i.coll.toLowerCase()+"-labels "+(S||"")).add(C)),t||i.isLinked?(d(a,function(t,e){i.generateTick(t,e)}),i.renderUnsquish(),i.reserveSpaceDefault=0===h||2===h||{1:"left",3:"right"}[h]===i.labelAlign,x(b.reserveSpace,"center"===i.labelAlign||null,i.reserveSpaceDefault)&&d(a,function(t){y=Math.max(c[t].getLabelSize(),y)}),i.staggerLines&&(y*=i.staggerLines),i.labelOffset=y*(i.opposite?-1:1)):E(c,function(t,e){t.destroy(),delete c[e]}),v&&v.text&&!1!==v.enabled&&(i.addTitle(e),e&&!1!==v.reserveSpace&&(i.titleOffset=m=i.axisTitle.getBBox()[u?"height":"width"],n=v.offset,g=l(n)?0:x(v.margin,u?5:10))),i.renderLine(),i.offset=w*x(s.offset,_[h]),i.tickRotCorr=i.tickRotCorr||{x:0,y:0},o=0===h?-i.labelMetrics().h:2===h?i.tickRotCorr.y:0,g=Math.abs(y)+g,y&&(g=g-o+w*(u?x(b.y,i.tickRotCorr.y+8*w):b.x)),i.axisTitleMargin=x(n,g),i.getMaxLabelDimensions&&(i.maxLabelDimensions=i.getMaxLabelDimensions(c,a)),u=this.tickSize("tick"),_[h]=Math.max(_[h],i.axisTitleMargin+m+w*i.offset,g,t&&a.length&&u?u[0]+w*i.offset:0),s=s.offset?0:2*Math.floor(i.axisLine.strokeWidth()/2),r[f]=Math.max(r[f],s),p(this,"afterGetOffset")},getLinePath:function(t){var e=this.chart,n=this.opposite,i=this.offset,r=this.horiz,o=this.left+(n?this.width:0)+i,i=e.chartHeight-this.bottom-(n?this.height:0)+i;return n&&(t*=-1),e.renderer.crispLine(["M",r?this.left:o,r?i:this.top,"L",r?e.chartWidth-this.right:o,r?i:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,i=this.len,r=this.options.title,o=t?e:n,s=this.opposite,a=this.offset,l=r.x||0,c=r.y||0,u=this.axisTitle,d=this.chart.renderer.fontMetrics(r.style&&r.style.fontSize,u),u=Math.max(u.getBBox(null,0).height-d.h-1,0),i={low:o+(t?0:i),middle:o+i/2,high:o+(t?i:0)}[r.align],e=(t?n+this.height:e)+(t?1:-1)*(s?-1:1)*this.axisTitleMargin+[-u,u,d.f,-u][this.side];return{x:t?i+l:e+(s?this.width:0)+a+l,y:t?e+c-(s?this.height:0)+a:i+c}},renderMinorTick:function(t){var e=this.chart.hasRendered&&y(this.oldMin),n=this.minorTicks;n[t]||(n[t]=new O(this,t,"minor")),e&&n[t].isNew&&n[t].render(null,!0),n[t].render(null,!1,1)},renderTick:function(t,e){var n=this.isLinked,i=this.ticks,r=this.chart.hasRendered&&y(this.oldMin);(!n||t>=this.min&&t<=this.max)&&(i[t]||(i[t]=new O(this,t)),r&&i[t].isNew&&i[t].render(e,!0,-1),i[t].render(e))},render:function(){var e,i,r=this,o=r.chart,s=r.options,a=r.isLog,l=r.isLinked,c=r.tickPositions,u=r.axisTitle,h=r.ticks,f=r.minorTicks,m=r.alternateBands,g=s.stackLabels,v=s.alternateGridColor,b=r.tickmarkOffset,_=r.axisLine,w=r.showAxis,S=n(o.renderer.globalAnimation);r.labelEdge.length=0,r.overlap=!1,d([h,f,m],function(t){E(t,function(t){t.isActive=!1})}),(r.hasData()||l)&&(r.minorTickInterval&&!r.categories&&d(r.getMinorTickPositions(),function(t){r.renderMinorTick(t)}),c.length&&(d(c,function(t,e){r.renderTick(t,e)}),b&&(0===r.min||r.single)&&(h[-1]||(h[-1]=new O(r,-1,null,!0)),h[-1].render(-1))),v&&d(c,function(n,s){i=void 0!==c[s+1]?c[s+1]+b:r.max-b,0==s%2&&n<r.max&&i<=r.max+(o.polar?-b:b)&&(m[n]||(m[n]=new t.PlotLineOrBand(r)),e=n+b,m[n].options={from:a?r.lin2log(e):e,to:a?r.lin2log(i):i,color:v},m[n].render(),m[n].isActive=!0)}),r._addedPlotLB||(d((s.plotLines||[]).concat(s.plotBands||[]),function(t){r.addPlotBandOrLine(t)}),r._addedPlotLB=!0)),d([h,f,m],function(t){var e,n=[],i=S.duration;E(t,function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,n.push(e))}),k(function(){for(e=n.length;e--;)t[n[e]]&&!t[n[e]].isActive&&(t[n[e]].destroy(),delete t[n[e]])},t!==m&&o.hasRendered&&i?i:0)}),_&&(_[_.isPlaced?"animate":"attr"]({d:this.getLinePath(_.strokeWidth())}),_.isPlaced=!0,_[w?"show":"hide"](!0)),u&&w&&(s=r.getTitlePosition(),y(s.y)?(u[u.isNew?"attr":"animate"](s),u.isNew=!1):(u.attr("y",-9999),u.isNew=!0)),g&&g.enabled&&r.renderStackTotals(),r.isDirty=!1,p(this,"afterRender")},redraw:function(){this.visible&&(this.render(),d(this.plotLinesAndBands,function(t){t.render()})),d(this.series,function(t){t.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(t){var e,n=this,i=n.stacks,r=n.plotLinesAndBands;if(p(this,"destroy",{keepEvents:t}),t||C(n),E(i,function(t,e){u(t),i[e]=null}),d([n.ticks,n.minorTicks,n.alternateBands],function(t){u(t)}),r)for(t=r.length;t--;)r[t].destroy();d("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" "),function(t){n[t]&&(n[t]=n[t].destroy())});for(e in n.plotLinesAndBandsGroups)n.plotLinesAndBandsGroups[e]=n.plotLinesAndBandsGroups[e].destroy();E(n,function(t,e){-1===v(e,n.keepProps)&&delete n[e]})},drawCrosshair:function(t,e){var n,i,r=this.crosshair,s=x(r.snap,!0),a=this.cross;if(p(this,"drawCrosshair",{e:t,point:e}),t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(l(e)||!s)){if(s?l(e)&&(i=x(e.crosshairPos,this.isXAxis?e.plotX:this.len-e.plotY)):i=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),l(i)&&(n=this.getPlotLinePath(e&&(this.isXAxis?e.x:x(e.stackY,e.y)),null,null,null,i)||null),!l(n))return void this.hideCrosshair();s=this.categories&&!this.isRadial,a||(this.cross=a=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(s?"category ":"thin ")+r.className).attr({zIndex:x(r.zIndex,2)}).add(),a.attr({stroke:r.color||(s?o("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":x(r.width,1)}).css({"pointer-events":"none"}),r.dashStyle&&a.attr({dashstyle:r.dashStyle})),a.show().attr({d:n}),s&&!r.width&&a.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();p(this,"afterDrawCrosshair",{e:t,point:e})},hideCrosshair:function(){this.cross&&this.cross.hide()}}),t.Axis=P}(e);return function(t){var e=t.Axis,n=t.getMagnitude,i=t.normalizeTickInterval,r=t.timeUnits;e.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},e.prototype.normalizeTimeTickInterval=function(t,e){var o=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=o[o.length-1];var s,a=r[e[0]],l=e[1];for(s=0;s<o.length&&(e=o[s],a=r[e[0]],l=e[1],!(o[s+1]&&t<=(a*l[l.length-1]+r[o[s+1][0]])/2));s++);return a===r.year&&t<5*a&&(l=[1,2,5]),t=i(t/a,l,"year"===e[0]?Math.max(n(t/a),1):1),{unitRange:a,count:t,unitName:e[0]}}}(e),function(t){var e=t.Axis,n=t.getMagnitude,i=t.map,r=t.normalizeTickInterval,o=t.pick;e.prototype.getLogTickPositions=function(t,e,s,a){var l=this.options,c=this.len,u=[];if(a||(this._minorAutoInterval=null),.5<=t)t=Math.round(t),u=this.getLinearTickPositions(t,e,s);else if(.08<=t)for(var d,h,p,f,m,c=Math.floor(e),l=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];c<s+1&&!m;c++)for(h=l.length,d=0;d<h&&!m;d++)p=this.log2lin(this.lin2log(c)*l[d]),p>e&&(!a||f<=s)&&void 0!==f&&u.push(f),f>s&&(m=!0),f=p;else e=this.lin2log(e),s=this.lin2log(s),t=a?this.getMinorTickInterval():l.tickInterval,t=o("auto"===t?null:t,this._minorAutoInterval,l.tickPixelInterval/(a?5:1)*(s-e)/((a?c/this.tickPositions.length:c)||1)),t=r(t,null,n(t)),u=i(this.getLinearTickPositions(t,e,s),this.log2lin),a||(this._minorAutoInterval=t/5);return a||(this.tickInterval=t),u},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}}(e),function(t,e){var n=t.arrayMax,i=t.arrayMin,r=t.defined,o=t.destroyObjectProperties,s=t.each,a=t.erase,l=t.merge,c=t.pick;t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){t.fireEvent(this,"render");var e=this,n=e.axis,i=n.horiz,o=e.options,s=o.label,a=e.label,u=o.to,d=o.from,h=o.value,p=r(d)&&r(u),f=r(h),m=e.svgElem,g=!m,v=[],b=o.color,y=c(o.zIndex,0),_=o.events,v={class:"highcharts-plot-"+(p?"band ":"line ")+(o.className||"")},w={},S=n.chart.renderer,E=p?"bands":"lines";if(n.isLog&&(d=n.log2lin(d),u=n.log2lin(u),h=n.log2lin(h)),f?(v.stroke=b,v["stroke-width"]=o.width,o.dashStyle&&(v.dashstyle=o.dashStyle)):p&&(b&&(v.fill=b),o.borderWidth&&(v.stroke=o.borderColor,v["stroke-width"]=o.borderWidth)),w.zIndex=y,E+="-"+y,(b=n.plotLinesAndBandsGroups[E])||(n.plotLinesAndBandsGroups[E]=b=S.g("plot-"+E).attr(w).add()),g&&(e.svgElem=m=S.path().attr(v).add(b)),f)v=n.getPlotLinePath(h,m.strokeWidth());else{if(!p)return;v=n.getPlotBandPath(d,u,o)}return g&&v&&v.length?(m.attr({d:v}),_&&t.objectEach(_,function(t,n){m.on(n,function(t){_[n].apply(e,[t])})})):m&&(v?(m.show(),m.animate({d:v})):(m.hide(),a&&(e.label=a=a.destroy()))),s&&r(s.text)&&v&&v.length&&0<n.width&&0<n.height&&!v.isFlat?(s=l({align:i&&p&&"center",x:i?!p&&4:10,verticalAlign:!i&&p&&"middle",y:i?p?16:10:p?6:-4,rotation:i&&!p&&90},s),this.renderLabel(s,v,p,y)):a&&a.hide(),e},renderLabel:function(t,e,r,o){var s=this.label,a=this.axis.chart.renderer;s||(s={align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(r?"band":"line")+"-label "+(t.className||"")},s.zIndex=o,this.label=s=a.text(t.text,0,0,t.useHTML).attr(s).add(),s.css(t.style)),o=e.xBounds||[e[1],e[4],r?e[6]:e[1]],e=e.yBounds||[e[2],e[5],r?e[7]:e[2]],r=i(o),a=i(e),s.align(t,!1,{x:r,y:a,width:n(o)-r,height:n(e)-a}),s.show()},destroy:function(){a(this.axis.plotLinesAndBands,this),delete this.axis,o(this)}},t.extend(e.prototype,{getPlotBandPath:function(t,e){var n,i=this.getPlotLinePath(e,null,null,!0),r=this.getPlotLinePath(t,null,null,!0),o=[],s=this.horiz,a=1;if(t=t<this.min&&e<this.min||t>this.max&&e>this.max,r&&i)for(t&&(n=r.toString()===i.toString(),a=0),t=0;t<r.length;t+=6)s&&i[t+1]===r[t+1]?(i[t+1]+=a,i[t+4]+=a):s||i[t+2]!==r[t+2]||(i[t+2]+=a,i[t+5]+=a),o.push("M",r[t+1],r[t+2],"L",r[t+4],r[t+5],i[t+4],i[t+5],i[t+1],i[t+2],"z"),o.isFlat=n;return o},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(e,n){var i=new t.PlotLineOrBand(this,e).render(),r=this.userOptions;return i&&(n&&(r[n]=r[n]||[],r[n].push(e)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,n=this.options,i=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();s([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],function(e){for(r=e.length;r--;)e[r].id===t&&a(e,e[r])})},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}})}(e,n),function(t){var e=t.doc,n=t.each,i=t.extend,r=t.format,o=t.isNumber,s=t.map,a=t.merge,l=t.pick,c=t.splat,u=t.syncTimeout,d=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split,this.outside=e.outside&&!this.split},cleanSplit:function(t){n(this.chart.series,function(e){var n=e&&e.tt;n&&(!n.isActive||t?e.tt=n.destroy():n.isActive=!1)})},getLabel:function(){var e,n=this.chart.renderer,i=this.options;return this.label||(this.outside&&(this.container=e=t.doc.createElement("div"),e.className="highcharts-tooltip-container",t.css(e,{position:"absolute",top:"1px",pointerEvents:i.style&&i.style.pointerEvents}),t.doc.body.appendChild(e),this.renderer=n=new t.Renderer(e,0,0)),this.split?this.label=n.g("tooltip"):(this.label=n.label("",0,0,i.shape||"callout",null,null,i.useHTML,null,"tooltip").attr({padding:i.padding,r:i.borderRadius}),this.label.attr({fill:i.backgroundColor,"stroke-width":i.borderWidth}).css(i.style).shadow(i.shadow)),this.outside&&(this.label.attr({x:this.distance,y:this.distance}),this.label.xSetter=function(t){e.style.left=t+"px"},this.label.ySetter=function(t){e.style.top=t+"px"}),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),a(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,a(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),t.discardElement(this.container)),t.clearTimeout(this.hideTimer),t.clearTimeout(this.tooltipTimeout)},move:function(e,n,r,o){var s=this,a=s.now,l=!1!==s.options.animation&&!s.isHidden&&(1<Math.abs(e-a.x)||1<Math.abs(n-a.y)),c=s.followPointer||1<s.len;i(a,{x:l?(2*a.x+e)/3:e,y:l?(a.y+n)/2:n,anchorX:c?void 0:l?(2*a.anchorX+r)/3:r,anchorY:c?void 0:l?(a.anchorY+o)/2:o}),s.getLabel().attr(a),l&&(t.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(e,n,r,o)},32))},hide:function(e){var n=this;t.clearTimeout(this.hideTimer),e=l(e,this.options.hideDelay,500),this.isHidden||(this.hideTimer=u(function(){n.getLabel()[e?"fadeOut":"hide"](),n.isHidden=!0},e))},getAnchor:function(t,e){var i,r,o=this.chart,a=o.pointer,l=o.inverted,u=o.plotTop,d=o.plotLeft,h=0,p=0;return t=c(t),this.followPointer&&e?(void 0===e.chartX&&(e=a.normalize(e)),t=[e.chartX-o.plotLeft,e.chartY-u]):t[0].tooltipPos?t=t[0].tooltipPos:(n(t,function(t){i=t.series.yAxis,r=t.series.xAxis,h+=t.plotX+(!l&&r?r.left-d:0),p+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!l&&i?i.top-u:0)}),h/=t.length,p/=t.length,t=[l?o.plotWidth-p:h,this.shared&&!l&&1<t.length&&e?e.chartY-u:l?o.plotHeight-h:p]),s(t,Math.round)},getPosition:function(t,n,i){var r,o=this.chart,s=this.distance,a={},c=o.inverted&&i.h||0,u=this.outside,d=u?e.documentElement.clientWidth-2*s:o.chartWidth,h=u?Math.max(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.documentElement.clientHeight):o.chartHeight,p=o.pointer.chartPosition,f=["y",h,n,(u?p.top-s:0)+i.plotY+o.plotTop,u?0:o.plotTop,u?h:o.plotTop+o.plotHeight],m=["x",d,t,(u?p.left-s:0)+i.plotX+o.plotLeft,u?0:o.plotLeft,u?d:o.plotLeft+o.plotWidth],g=!this.followPointer&&l(i.ttBelow,!o.inverted==!!i.negative),v=function(t,e,n,i,r,o){var l=n<i-s,u=i+s+n<e,d=i-s-n;if(i+=s,g&&u)a[t]=i;else if(!g&&l)a[t]=d;else if(l)a[t]=Math.min(o-n,0>d-c?d:d-c);else{if(!u)return!1;a[t]=Math.max(r,i+c+n>e?i:i+c)}},b=function(t,e,n,i){var r;return i<s||i>e-s?r=!1:a[t]=i<n/2?1:i>e-n/2?e-n-2:i-n/2,r},y=function(t){var e=f;f=m,m=e,r=t},_=function(){!1!==v.apply(0,f)?!1!==b.apply(0,m)||r||(y(!0),_()):r?a.x=a.y=0:(y(!0),_())};return(o.inverted||1<this.len)&&y(),_(),a},defaultFormatter:function(t){var e,n=this.points||c(this);return e=[t.tooltipFooterHeaderFormatter(n[0])],e=e.concat(t.bodyFormatter(n)),e.push(t.tooltipFooterHeaderFormatter(n[0],!0)),e},refresh:function(e,i){var r,o,s,a=this.options,u=e,d={},h=[];r=a.formatter||this.defaultFormatter;var p,d=this.shared;a.enabled&&(t.clearTimeout(this.hideTimer),this.followPointer=c(u)[0].series.tooltipOptions.followPointer,s=this.getAnchor(u,i),i=s[0],o=s[1],!d||u.series&&u.series.noSharedTooltip?d=u.getLabelConfig():(n(u,function(t){t.setState("hover"),h.push(t.getLabelConfig())}),d={x:u[0].category,y:u[0].y},d.points=h,u=u[0]),this.len=h.length,d=r.call(d,this),p=u.series,this.distance=l(p.tooltipOptions.distance,16),!1===d?this.hide():(r=this.getLabel(),this.isHidden&&r.attr({opacity:1}).show(),this.split?this.renderSplit(d,c(e)):(a.style.width||r.css({width:this.chart.spacingBox.width}),r.attr({text:d&&d.join?d.join(""):d}),r.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+l(u.colorIndex,p.colorIndex)),r.attr({stroke:a.borderColor||u.color||p.color||"#666666"}),this.updatePosition({plotX:i,plotY:o,negative:u.negative,ttBelow:u.ttBelow,h:s[2]||0})),this.isHidden=!1))},renderSplit:function(e,i){var r,o=this,s=[],a=this.chart,c=a.renderer,u=!0,d=this.options,h=0,p=this.getLabel(),f=a.plotTop;t.isString(e)&&(e=[!1,e]),n(e.slice(0,i.length+1),function(t,e){if(!1!==t){e=i[e-1]||{isHeader:!0,plotX:i[0].plotX};var n=e.series||o,m=n.tt,g=e.series||{},v="highcharts-color-"+l(e.colorIndex,g.colorIndex,"none");m||(n.tt=m=c.label(null,null,null,"callout",null,null,d.useHTML).addClass("highcharts-tooltip-box "+v+(e.isHeader?" highcharts-tooltip-header":"")).attr({padding:d.padding,r:d.borderRadius,fill:d.backgroundColor,stroke:d.borderColor||e.color||g.color||"#333333","stroke-width":d.borderWidth}).add(p)),m.isActive=!0,m.attr({text:t}),m.css(d.style).shadow(d.shadow),t=m.getBBox(),g=t.width+m.strokeWidth(),e.isHeader?(h=t.height,a.xAxis[0].opposite&&(r=!0,f-=h),g=Math.max(0,Math.min(e.plotX+a.plotLeft-g/2,a.chartWidth+(a.scrollablePixels?a.scrollablePixels-a.marginRight:0)-g))):g=e.plotX+a.plotLeft-l(d.distance,16)-g,0>g&&(u=!1),t=(e.series&&e.series.yAxis&&e.series.yAxis.pos)+(e.plotY||0),t-=f,e.isHeader&&(t=r?-h:a.plotHeight+h),s.push({target:t,rank:e.isHeader?1:0,size:n.tt.getBBox().height+1,point:e,x:g,tt:m})}}),this.cleanSplit(),t.distribute(s,a.plotHeight+h),n(s,function(t){var e=t.point,n=e.series;t.tt.attr({visibility:void 0===t.pos?"hidden":"inherit",x:u||e.isHeader?t.x:e.plotX+a.plotLeft+l(d.distance,16),y:t.pos+f,anchorX:e.isHeader?e.plotX+a.plotLeft:e.plotX+n.xAxis.pos,anchorY:e.isHeader?a.plotTop+a.plotHeight/2:e.plotY+n.yAxis.pos})})},updatePosition:function(t){var e=this.chart,n=this.getLabel(),i=(this.options.positioner||this.getPosition).call(this,n.width,n.height,t),r=t.plotX+e.plotLeft;t=t.plotY+e.plotTop;var o;this.outside&&(o=(this.options.borderWidth||0)+2*this.distance,this.renderer.setSize(n.width+o,n.height+o,!1),r+=e.pointer.chartPosition.left-i.x,t+=e.pointer.chartPosition.top-i.y),this.move(Math.round(i.x),Math.round(i.y||0),r,t)},getDateFormat:function(t,e,n,i){var r,o,s=this.chart.time,a=s.dateFormat("%m-%d %H:%M:%S.%L",e),l={millisecond:15,second:12,minute:9,hour:6,day:3},c="millisecond";for(o in d){if(t===d.week&&+s.dateFormat("%w",e)===n&&"00:00:00.000"===a.substr(6)){o="week";break}if(d[o]>t){o=c;break}if(l[o]&&a.substr(l[o])!=="01-01 00:00:00.000".substr(l[o]))break;"week"!==o&&(c=o)}return o&&(r=s.resolveDTLFormat(i[o]).main),r},getXDateFormat:function(t,e,n){e=e.dateTimeLabelFormats;var i=n&&n.closestPointRange;return(i?this.getDateFormat(i,t.x,n.options.startOfWeek,e):e.day)||e.year},tooltipFooterHeaderFormatter:function(t,e){e=e?"footer":"header";var i=t.series,s=i.tooltipOptions,a=s.xDateFormat,l=i.xAxis,c=l&&"datetime"===l.options.type&&o(t.key),u=s[e+"Format"];return c&&!a&&(a=this.getXDateFormat(t,s,l)),c&&a&&n(t.point&&t.point.tooltipDateKeys||["key"],function(t){u=u.replace("{point."+t+"}","{point."+t+":"+a+"}")}),r(u,{point:t,series:i},this.chart.time)},bodyFormatter:function(t){return s(t,function(t){var e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"])})}}}(e),function(t){var e=t.addEvent,n=t.attr,i=t.charts,r=t.color,o=t.css,s=t.defined,a=t.each,l=t.extend,c=t.find,u=t.fireEvent,d=t.isNumber,h=t.isObject,p=t.offset,f=t.pick,m=t.splat,g=t.Tooltip;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},g&&(t.tooltip=new g(t,e.tooltip),this.followTouchMove=f(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e=this.chart,n=e.options.chart,i=n.zoomType||"",e=e.inverted;/touch/.test(t.type)&&(i=f(n.pinchType,i)),this.zoomX=t=/x/.test(i),this.zoomY=i=/y/.test(i),this.zoomHor=t&&!e||i&&e,this.zoomVert=i&&!e||t&&e,this.hasZoom=t||i},normalize:function(t,e){var n;return n=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=p(this.chart.container)),l(t,{chartX:Math.round(n.pageX-e.left),chartY:Math.round(n.pageY-e.top)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return a(this.chart.axes,function(n){e[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(t[n.horiz?"chartX":"chartY"])})}),e},findNearestKDPoint:function(t,e,n){var i;return a(t,function(t){var r=!(t.noSharedTooltip&&e)&&0>t.options.findNearestPointBy.indexOf("y");if(t=t.searchPoint(n,r),(r=h(t,!0))&&!(r=!h(i,!0)))var r=i.distX-t.distX,o=i.dist-t.dist,s=(t.series.group&&t.series.group.zIndex)-(i.series.group&&i.series.group.zIndex),r=0<(0!==r&&e?r:0!==o?o:0!==s?s:i.series.index>t.series.index?-1:1);r&&(i=t)}),i},getPointFromEvent:function(t){t=t.target;for(var e;t&&!e;)e=t.point,t=t.parentNode;return e},getChartCoordinatesFromPoint:function(t,e){var n=t.series,i=n.xAxis,n=n.yAxis,r=f(t.clientX,t.plotX),o=t.shapeArgs;return i&&n?e?{chartX:i.len+i.pos-r,chartY:n.len+n.pos-t.plotY}:{chartX:r+i.pos,chartY:t.plotY+n.pos}:o&&o.x&&o.y?{chartX:o.x,chartY:o.y}:void 0},getHoverData:function(e,n,i,r,o,s,l){var u,d=[],p=l&&l.isBoosting;return r=!(!r||!e),l=n&&!n.stickyTracking?[n]:t.grep(i,function(t){return t.visible&&!(!o&&t.directTouch)&&f(t.options.enableMouseTracking,!0)&&t.stickyTracking}),n=(u=r?e:this.findNearestKDPoint(l,o,s))&&u.series,u&&(o&&!n.noSharedTooltip?(l=t.grep(i,function(t){return t.visible&&!(!o&&t.directTouch)&&f(t.options.enableMouseTracking,!0)&&!t.noSharedTooltip}),a(l,function(t){var e=c(t.points,function(t){return t.x===u.x&&!t.isNull});h(e)&&(p&&(e=t.getPoint(e)),d.push(e))})):d.push(u)),{hoverPoint:u,hoverSeries:n,hoverPoints:d}},runPointActions:function(n,r){var o,s=this.chart,l=s.tooltip&&s.tooltip.options.enabled?s.tooltip:void 0,c=!!l&&l.shared,u=r||s.hoverPoint,d=u&&u.series||s.hoverSeries,d=this.getHoverData(u,d,s.series,"touchmove"!==n.type&&(!!r||d&&d.directTouch&&this.isDirectTouch),c,n,{isBoosting:s.isBoosting}),u=d.hoverPoint;if(o=d.hoverPoints,r=(d=d.hoverSeries)&&d.tooltipOptions.followPointer,c=c&&d&&!d.noSharedTooltip,u&&(u!==s.hoverPoint||l&&l.isHidden)){if(a(s.hoverPoints||[],function(e){-1===t.inArray(e,o)&&e.setState()}),a(o||[],function(t){t.setState("hover")}),s.hoverSeries!==d&&d.onMouseOver(),s.hoverPoint&&s.hoverPoint.firePointEvent("mouseOut"),!u.series)return;u.firePointEvent("mouseOver"),s.hoverPoints=o,s.hoverPoint=u,l&&l.refresh(c?o:u,n)}else r&&l&&!l.isHidden&&(u=l.getAnchor([{}],n),l.updatePosition({plotX:u[0],plotY:u[1]}));this.unDocMouseMove||(this.unDocMouseMove=e(s.container.ownerDocument,"mousemove",function(e){var n=i[t.hoverChartIndex];n&&n.pointer.onDocumentMouseMove(e)})),a(s.axes,function(e){var i=f(e.crosshair.snap,!0),r=i?t.find(o,function(t){return t.series[e.coll]===e}):void 0;r||!i?e.drawCrosshair(n,r):e.hideCrosshair()})},reset:function(t,e){var n=this.chart,i=n.hoverSeries,r=n.hoverPoint,o=n.hoverPoints,s=n.tooltip,l=s&&s.shared?o:r;t&&l&&a(m(l),function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?s&&l&&(s.refresh(l),s.shared&&o?a(o,function(t){t.setState(t.state,!0),t.series.isCartesian&&(t.series.xAxis.crosshair&&t.series.xAxis.drawCrosshair(null,t),t.series.yAxis.crosshair&&t.series.yAxis.drawCrosshair(null,t))}):r&&(r.setState(r.state,!0),a(n.axes,function(t){t.crosshair&&t.drawCrosshair(null,r)}))):(r&&r.onMouseOut(),o&&a(o,function(t){t.setState()}),i&&i.onMouseOut(),s&&s.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),a(n.axes,function(t){t.hideCrosshair()}),this.hoverX=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(t,e){var n,i=this.chart;a(i.series,function(r){n=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&r.group&&(r.group.attr(n),r.markerGroup&&(r.markerGroup.attr(n),r.markerGroup.clip(e?i.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(n))}),i.clipRect.attr(e||i.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,n=this.chart,i=n.options.chart,o=t.chartX,s=t.chartY,a=this.zoomHor,l=this.zoomVert,c=n.plotLeft,u=n.plotTop,d=n.plotWidth,h=n.plotHeight,p=this.selectionMarker,f=this.mouseDownX,m=this.mouseDownY,g=i.panKey&&t[i.panKey+"Key"];p&&p.touch||(o<c?o=c:o>c+d&&(o=c+d),s<u?s=u:s>u+h&&(s=u+h),this.hasDragged=Math.sqrt(Math.pow(f-o,2)+Math.pow(m-s,2)),10<this.hasDragged&&(e=n.isInsidePlot(f-c,m-u),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!g&&!p&&(this.selectionMarker=p=n.renderer.rect(c,u,a?1:d,l?1:h,0).attr({fill:i.selectionMarkerFill||r("#335cad").setOpacity(.25).get(),class:"highcharts-selection-marker",zIndex:7}).add()),p&&a&&(o-=f,p.attr({width:Math.abs(o),x:(0<o?0:o)+f})),p&&l&&(o=s-m,p.attr({height:Math.abs(o),y:(0<o?0:o)+m})),e&&!p&&i.panning&&n.pan(t,i.panning)))},drop:function(t){var e=this,n=this.chart,i=this.hasPinched;if(this.selectionMarker){var r,c={originalEvent:t,xAxis:[],yAxis:[]},h=this.selectionMarker,p=h.attr?h.attr("x"):h.x,f=h.attr?h.attr("y"):h.y,m=h.attr?h.attr("width"):h.width,g=h.attr?h.attr("height"):h.height;(this.hasDragged||i)&&(a(n.axes,function(n){if(n.zoomEnabled&&s(n.min)&&(i||e[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var o=n.horiz,a="touchend"===t.type?n.minPixelPadding:0,l=n.toValue((o?p:f)+a),o=n.toValue((o?p+m:f+g)-a);c[n.coll].push({axis:n,min:Math.min(l,o),max:Math.max(l,o)}),r=!0}}),r&&u(n,"selection",c,function(t){n.zoom(l(t,i?{animation:!1}:null))})),d(n.index)&&(this.selectionMarker=this.selectionMarker.destroy()),i&&this.scaleGroups()}n&&d(n.index)&&(o(n.container,{cursor:n._cursor}),n.cancelClick=10<this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),2!==t.button&&(this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t))},onDocumentMouseUp:function(e){i[t.hoverChartIndex]&&i[t.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(t){var e=this.chart,n=this.chartPosition;t=this.normalize(t,n),!n||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(e){var n=i[t.hoverChartIndex];n&&(e.relatedTarget||e.toElement)&&(n.pointer.reset(),n.pointer.chartPosition=null)},onContainerMouseMove:function(e){var n=this.chart;s(t.hoverChartIndex)&&i[t.hoverChartIndex]&&i[t.hoverChartIndex].mouseIsDown||(t.hoverChartIndex=n.index),e=this.normalize(e),e.returnValue=!1,"mousedown"===n.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!n.isInsidePlot(e.chartX-n.plotLeft,e.chartY-n.plotTop)||n.openMenu||this.runPointActions(e)},inClass:function(t,e){for(var i;t;){if(i=n(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;t=t.relatedTarget||t.toElement,this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,n=e.hoverPoint,i=e.plotLeft,r=e.plotTop;t=this.normalize(t),e.cancelClick||(n&&this.inClass(t.target,"highcharts-tracker")?(u(n.series,"click",l(t,{point:n})),e.hoverPoint&&n.firePointEvent("click",t)):(l(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-i,t.chartY-r)&&u(e,"click",t)))},setDOMEvents:function(){var n=this,i=n.chart.container,r=i.ownerDocument;i.onmousedown=function(t){n.onContainerMouseDown(t)},i.onmousemove=function(t){n.onContainerMouseMove(t)},i.onclick=function(t){n.onContainerClick(t)},this.unbindContainerMouseLeave=e(i,"mouseleave",n.onContainerMouseLeave),t.unbindDocumentMouseUp||(t.unbindDocumentMouseUp=e(r,"mouseup",n.onDocumentMouseUp)),t.hasTouch&&(i.ontouchstart=function(t){n.onContainerTouchStart(t)},i.ontouchmove=function(t){n.onContainerTouchMove(t)},t.unbindDocumentTouchEnd||(t.unbindDocumentTouchEnd=e(r,"touchend",n.onDocumentTouchEnd)))},destroy:function(){var e=this;e.unDocMouseMove&&e.unDocMouseMove(),this.unbindContainerMouseLeave(),t.chartCount||(t.unbindDocumentMouseUp&&(t.unbindDocumentMouseUp=t.unbindDocumentMouseUp()),t.unbindDocumentTouchEnd&&(t.unbindDocumentTouchEnd=t.unbindDocumentTouchEnd())),clearInterval(e.tooltipTimeout),t.objectEach(e,function(t,n){e[n]=null})}}}(e),function(t){var e=t.charts,n=t.each,i=t.extend,r=t.map,o=t.noop,s=t.pick;i(t.Pointer.prototype,{pinchTranslate:function(t,e,n,i,r,o){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,n,i,r,o),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,n,i,r,o)},pinchTranslateDirection:function(t,e,n,i,r,o,s,a){var l,c,u,d=this.chart,h=t?"x":"y",p=t?"X":"Y",f="chart"+p,m=t?"width":"height",g=d["plot"+(t?"Left":"Top")],v=a||1,b=d.inverted,y=d.bounds[t?"h":"v"],_=1===e.length,w=e[0][f],S=n[0][f],E=!_&&e[1][f],x=!_&&n[1][f];n=function(){!_&&20<Math.abs(w-E)&&(v=a||Math.abs(S-x)/Math.abs(w-E)),c=(g-S)/v+w,l=d["plot"+(t?"Width":"Height")]/v},n(),e=c,e<y.min?(e=y.min,u=!0):e+l>y.max&&(e=y.max-l,u=!0),u?(S-=.8*(S-s[h][0]),_||(x-=.8*(x-s[h][1])),n()):s[h]=[S,x],b||(o[h]=c-g,o[m]=l),o=b?1/v:v,r[m]=l,r[h]=e,i[b?t?"scaleY":"scaleX":"scale"+p]=v,i["translate"+p]=o*g+(S-o*w)},pinch:function(t){var e=this,a=e.chart,l=e.pinchDown,c=t.touches,u=c.length,d=e.lastValidTouch,h=e.hasZoom,p=e.selectionMarker,f={},m=1===u&&(e.inClass(t.target,"highcharts-tracker")&&a.runTrackerClick||e.runChartClick),g={};1<u&&(e.initiated=!0),h&&e.initiated&&!m&&t.preventDefault(),r(c,function(t){return e.normalize(t)}),"touchstart"===t.type?(n(c,function(t,e){l[e]={chartX:t.chartX,chartY:t.chartY}}),d.x=[l[0].chartX,l[1]&&l[1].chartX],d.y=[l[0].chartY,l[1]&&l[1].chartY],n(a.axes,function(t){if(t.zoomEnabled){var e=a.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,i=t.toPixels(s(t.options.min,t.dataMin)),r=t.toPixels(s(t.options.max,t.dataMax)),o=Math.max(i,r);e.min=Math.min(t.pos,Math.min(i,r)-n),e.max=Math.max(t.pos+t.len,o+n)}}),e.res=!0):e.followTouchMove&&1===u?this.runPointActions(e.normalize(t)):l.length&&(p||(e.selectionMarker=p=i({destroy:o,touch:!0},a.plotBox)),e.pinchTranslate(l,c,f,p,g,d),e.hasPinched=h,e.scaleGroups(f,g),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,n){var i,r=this.chart;r.index!==t.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),t.hoverChartIndex=r.index,1===e.touches.length?(e=this.normalize(e),r.isInsidePlot(e.chartX-r.plotLeft,e.chartY-r.plotTop)&&!r.openMenu?(n&&this.runPointActions(e),"touchmove"===e.type&&(n=this.pinchDown,i=!!n[0]&&4<=Math.sqrt(Math.pow(n[0].chartX-e.chartX,2)+Math.pow(n[0].chartY-e.chartY,2))),s(i,!0)&&this.pinch(e)):n&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(n){e[t.hoverChartIndex]&&e[t.hoverChartIndex].pointer.drop(n)}})}(e),function(t){var e=t.addEvent,n=t.charts,i=t.css,r=t.doc,o=t.extend,s=t.noop,a=t.Pointer,l=t.removeEvent,c=t.win,u=t.wrap;if(!t.hasTouch&&(c.PointerEvent||c.MSPointerEvent)){var d={},h=!!c.PointerEvent,p=function(){var e=[];return e.item=function(t){return this[t]},t.objectEach(d,function(t){e.push({pageX:t.pageX,pageY:t.pageY,target:t.target})}),e},f=function(e,i,r,o){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!n[t.hoverChartIndex]||(o(e),o=n[t.hoverChartIndex].pointer,o[i]({type:r,target:e.currentTarget,preventDefault:s,touches:p()}))};o(a.prototype,{onContainerPointerDown:function(t){f(t,"onContainerTouchStart","touchstart",function(t){d[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){f(t,"onContainerTouchMove","touchmove",function(t){d[t.pointerId]={pageX:t.pageX,pageY:t.pageY},d[t.pointerId].target||(d[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){f(t,"onDocumentTouchEnd","touchend",function(t){delete d[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,h?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,h?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(r,h?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),u(a.prototype,"init",function(t,e,n){t.call(this,e,n),this.hasZoom&&i(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),u(a.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)}),u(a.prototype,"destroy",function(t){this.batchMSEvents(l),t.call(this)})}}(e),function(t){var e=t.addEvent,n=t.css,i=t.discardElement,r=t.defined,o=t.each,s=t.fireEvent,a=t.isFirefox,l=t.marginNames,c=t.merge,u=t.pick,d=t.setAnimation,h=t.stableSort,p=t.win,f=t.wrap;t.Legend=function(t,e){this.init(t,e)},t.Legend.prototype={init:function(t,n){this.chart=t,this.setOptions(n),n.enabled&&(this.render(),e(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=e(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},setOptions:function(t){var e=u(t.padding,8);this.options=t,this.itemStyle=t.itemStyle,this.itemHiddenStyle=c(this.itemStyle,t.itemHiddenStyle),this.itemMarginTop=t.itemMarginTop||0,this.padding=e,this.initialItemY=e-5,this.symbolWidth=u(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted},update:function(t,e){var n=this.chart;this.setOptions(c(!0,this.options,t)),this.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,u(e,!0)&&n.redraw(),s(this,"afterUpdate")},colorizeItem:function(t,e){t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden");var n=this.options,i=t.legendItem,r=t.legendLine,o=t.legendSymbol,a=this.itemHiddenStyle.color,n=e?n.itemStyle.color:a,l=e?t.color||a:a,c=t.options&&t.options.marker,u={fill:l};i&&i.css({fill:n,color:n}),r&&r.attr({stroke:l}),o&&(c&&o.isMarker&&(u=t.pointAttribs(),e||(u.stroke=u.fill=a)),o.attr(u)),s(this,"afterColorizeItem",{item:t,visible:e})},positionItems:function(){o(this.allItems,this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},positionItem:function(t){var e=this.options,n=e.symbolPadding,e=!e.rtl,i=t._legendItemPos,o=i[0],i=i[1],s=t.checkbox;(t=t.legendGroup)&&t.element&&t[r(t.translateY)?"animate":"attr"]({translateX:e?o:this.legendWidth-o-2*n-4,translateY:i}),s&&(s.x=o,s.y=i)},destroyItem:function(t){var e=t.checkbox;o(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&i(t.checkbox)},destroy:function(){function t(t){this[t]&&(this[t]=this[t].destroy())}o(this.getAllItems(),function(e){o(["legendItem","legendGroup"],t,e)}),o("clipRect up down pager nav box title group".split(" "),t,this),this.display=null},positionCheckboxes:function(){var t,e=this.group&&this.group.alignAttr,i=this.clipHeight||this.legendHeight,r=this.titleHeight;e&&(t=e.translateY,o(this.allItems,function(o){var s,a=o.checkbox;a&&(s=t+r+a.y+(this.scrollOffset||0)+3,n(a,{left:e.translateX+o.checkboxOffset+a.x-20+"px",top:s+"px",display:this.proximate||s>t-6&&s<t+i-6?"":"none"}))},this))},renderTitle:function(){var t=this.options,e=this.padding,n=t.title,i=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,e-3,e-4,null,null,null,t.useHTML,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)),t=this.title.getBBox(),i=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},setText:function(e){var n=this.options;e.legendItem.attr({text:n.labelFormat?t.format(n.labelFormat,e,this.chart.time):n.labelFormatter.call(e)})},renderItem:function(t){var e=this.chart,n=e.renderer,i=this.options,r=this.symbolWidth,o=i.symbolPadding,s=this.itemStyle,a=this.itemHiddenStyle,l="horizontal"===i.layout?u(i.itemDistance,20):0,d=!i.rtl,h=t.legendItem,p=!t.series,f=!p&&t.series.drawLegendSymbol?t.series:t,m=f.options,m=this.createCheckboxForItem&&m&&m.showCheckbox,l=r+o+l+(m?20:0),g=i.useHTML,v=t.options.className;h||(t.legendGroup=n.g("legend-item").addClass("highcharts-"+f.type+"-series highcharts-color-"+t.colorIndex+(v?" "+v:"")+(p?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=h=n.text("",d?r+o:-o,this.baseline||0,g).css(c(t.visible?s:a)).attr({align:d?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(r=s.fontSize,this.fontMetrics=n.fontMetrics(r,h),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,h.attr("y",this.baseline)),this.symbolHeight=i.symbolHeight||this.fontMetrics.f,f.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,h,g),m&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),s.width||h.css({width:(i.itemWidth||i.width||e.spacingBox.width)-l}),this.setText(t),e=h.getBBox(),t.itemWidth=t.checkboxOffset=i.itemWidth||t.legendItemWidth||e.width+l,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(t.legendItemHeight||e.height||this.symbolHeight)},layoutItem:function(t){var e=this.options,n=this.padding,i="horizontal"===e.layout,r=t.itemHeight,o=e.itemMarginBottom||0,s=this.itemMarginTop,a=i?u(e.itemDistance,20):0,l=e.width,c=l||this.chart.spacingBox.width-2*n-e.x,e=e.alignColumns&&this.totalItemWidth>c?this.maxItemWidth:t.itemWidth;i&&this.itemX-n+e>c&&(this.itemX=n,this.itemY+=s+this.lastLineHeight+o,this.lastLineHeight=0),this.lastItemY=s+this.itemY+o,this.lastLineHeight=Math.max(r,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],i?this.itemX+=e:(this.itemY+=s+r+o,this.lastLineHeight=r),this.offsetWidth=l||Math.max((i?this.itemX-n-(t.checkbox?0:a):e)+n,this.offsetWidth)},getAllItems:function(){var t=[];return o(this.chart.series,function(e){var n=e&&e.options;e&&u(n.showInLegend,!r(n.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===n.legendType?e.data:e)))}),s(this,"afterGetAllItems",{allItems:t}),t},getAlignment:function(){var t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)},adjustMargins:function(t,e){var n=this.chart,i=this.options,s=this.getAlignment();s&&o([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(o,a){o.test(s)&&!r(t[a])&&(n[l[a]]=Math.max(n[l[a]],n.legend[(a+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][a]*i[a%2?"x":"y"]+u(i.margin,12)+e[a]+(0===a&&void 0!==n.options.title.margin?n.titleOffset+n.options.title.margin:0)))})},proximatePositions:function(){var e=this.chart,n=[],i="left"===this.options.align;o(this.allItems,function(r){var o,s;o=i,r.xAxis&&r.points&&(r.xAxis.options.reversed&&(o=!o),o=t.find(o?r.points:r.points.slice(0).reverse(),function(e){return t.isNumber(e.plotY)}),s=r.legendGroup.getBBox().height,n.push({target:r.visible?(o?o.plotY:r.xAxis.height)-.3*s:e.plotHeight,size:s,item:r}))},this),t.distribute(n,e.plotHeight),o(n,function(t){t.item._legendItemPos[1]=e.plotTop-e.spacing[0]+t.pos})},render:function(){var t,e,n,i=this.chart,r=i.renderer,s=this.group,a=this.box,l=this.options,u=this.padding;this.itemX=u,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,s||(this.group=s=r.g("legend").attr({zIndex:7}).add(),this.contentGroup=r.g().attr({zIndex:1}).add(s),this.scrollGroup=r.g().add(this.contentGroup)),this.renderTitle(),t=this.getAllItems(),h(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),l.reversed&&t.reverse(),this.allItems=t,this.display=e=!!t.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,o(t,this.renderItem,this),o(t,this.layoutItem,this),t=(l.width||this.offsetWidth)+u,n=this.lastItemY+this.lastLineHeight+this.titleHeight,n=this.handleOverflow(n),n+=u,a||(this.box=a=r.rect().addClass("highcharts-legend-box").attr({r:l.borderRadius}).add(s),a.isNew=!0),a.attr({stroke:l.borderColor,"stroke-width":l.borderWidth||0,fill:l.backgroundColor||"none"}).shadow(l.shadow),0<t&&0<n&&(a[a.isNew?"attr":"animate"](a.crisp.call({},{x:0,y:0,width:t,height:n},a.strokeWidth())),a.isNew=!1),a[e?"show":"hide"](),this.legendWidth=t,this.legendHeight=n,e&&(r=i.spacingBox,/(lth|ct|rth)/.test(this.getAlignment())&&(r=c(r,{y:r.y+i.titleOffset+i.options.title.margin})),s.align(c(l,{width:t,height:n,verticalAlign:this.proximate?"top":l.verticalAlign}),!0,r)),this.proximate||this.positionItems()},handleOverflow:function(t){var e,n,i=this,r=this.chart,s=r.renderer,a=this.options,l=a.y,c=this.padding,r=r.spacingBox.height+("top"===a.verticalAlign?-l:l)-c,l=a.maxHeight,d=this.clipRect,h=a.navigation,p=u(h.animation,!0),f=h.arrowSize||12,m=this.nav,g=this.pages,v=this.allItems,b=function(t){"number"==typeof t?d.attr({height:t}):d&&(i.clipRect=d.destroy(),i.contentGroup.clip()),i.contentGroup.div&&(i.contentGroup.div.style.clip=t?"rect("+c+"px,9999px,"+(c+t)+"px,0)":"auto")};return"horizontal"!==a.layout||"middle"===a.verticalAlign||a.floating||(r/=2),l&&(r=Math.min(r,l)),g.length=0,t>r&&!1!==h.enabled?(this.clipHeight=e=Math.max(r-20-this.titleHeight-c,0),this.currentPage=u(this.currentPage,1),this.fullHeight=t,o(v,function(t,i){var r=t._legendItemPos[1],o=Math.round(t.legendItem.getBBox().height),s=g.length;(!s||r-g[s-1]>e&&(n||r)!==g[s-1])&&(g.push(n||r),s++),t.pageIx=s-1,n&&(v[i-1].pageIx=s-1),i===v.length-1&&r+o-g[s-1]>e&&(g.push(r),t.pageIx=s),r!==n&&(n=r)}),d||(d=i.clipRect=s.clipRect(0,c,9999,0),i.contentGroup.clip(d)),b(e),m||(this.nav=m=s.g().attr({zIndex:1}).add(this.group),this.up=s.symbol("triangle",0,0,f,f).on("click",function(){i.scroll(-1,p)}).add(m),this.pager=s.text("",15,10).addClass("highcharts-legend-navigation").css(h.style).add(m),this.down=s.symbol("triangle-down",0,0,f,f).on("click",function(){i.scroll(1,p)}).add(m)),i.scroll(0),t=r):m&&(b(),this.nav=m.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var n=this.pages,i=n.length;t=this.currentPage+t;var r=this.clipHeight,o=this.options.navigation,s=this.pager,a=this.padding;t>i&&(t=i),0<t&&(void 0!==e&&d(e,this.chart),this.nav.attr({translateX:a,translateY:r+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({class:1===t?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),s.attr({text:t+"/"+i}),this.down.attr({x:18+this.pager.getBBox().width,class:t===i?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===t?o.inactiveColor:o.activeColor}).css({cursor:1===t?"default":"pointer"}),this.down.attr({fill:t===i?o.inactiveColor:o.activeColor}).css({cursor:t===i?"default":"pointer"}),this.scrollOffset=-n[t-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=t,this.positionCheckboxes())}},t.LegendSymbolMixin={drawRectangle:function(t,e){var n=t.symbolHeight,i=t.options.squareSymbol;e.legendSymbol=this.chart.renderer.rect(i?(t.symbolWidth-n)/2:0,t.baseline-n+1,i?n:t.symbolWidth,n,u(t.options.symbolRadius,n/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e=this.options,n=e.marker,i=t.symbolWidth,r=t.symbolHeight,o=r/2,s=this.chart.renderer,a=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b);var l;l={"stroke-width":e.lineWidth||0},e.dashStyle&&(l.dashstyle=e.dashStyle),this.legendLine=s.path(["M",0,t,"L",i,t]).addClass("highcharts-graph").attr(l).add(a),n&&!1!==n.enabled&&i&&(e=Math.min(u(n.radius,o),o),0===this.symbol.indexOf("url")&&(n=c(n,{width:r,height:r}),e=0),this.legendSymbol=n=s.symbol(this.symbol,i/2-e,t-e,2*e,2*e,n).addClass("highcharts-point").add(a),n.isMarker=!0)}},(/Trident\/7\.0/.test(p.navigator.userAgent)||a)&&f(t.Legend.prototype,"positionItem",function(t,e){var n=this,i=function(){e._legendItemPos&&t.call(n,e)};i(),setTimeout(i)})}(e),function(t){var e=t.addEvent,n=t.animate,i=t.animObject,r=t.attr,o=t.doc,s=t.Axis,a=t.createElement,l=t.defaultOptions,c=t.discardElement,u=t.charts,d=t.css,h=t.defined,p=t.each,f=t.extend,m=t.find,g=t.fireEvent,v=t.grep,b=t.isNumber,y=t.isObject,_=t.isString,w=t.Legend,S=t.marginNames,E=t.merge,x=t.objectEach,C=t.Pointer,T=t.pick,k=t.pInt,O=t.removeEvent,P=t.seriesTypes,I=t.splat,A=t.syncTimeout,M=t.win,N=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,n){return new N(t,e,n)},f(N.prototype,{callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(_(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(n,i){var r,o,s=n.series,a=n.plotOptions||{};g(this,"init",{args:arguments},function(){n.series=null,r=E(l,n);for(o in r.plotOptions)r.plotOptions[o].tooltip=a[o]&&E(a[o].tooltip)||void 0;r.tooltip.userOptions=n.chart&&n.chart.forExport&&n.tooltip.userOptions||n.tooltip,r.series=n.series=s,this.userOptions=n;var c=r.chart,d=c.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=i,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.time=n.time&&t.keys(n.time).length?new t.Time(n.time):t.time,this.hasCartesianSeries=c.showAxes;var h=this;h.index=u.length,u.push(h),t.chartCount++,d&&x(d,function(t,n){e(h,n,t)}),h.xAxis=[],h.yAxis=[],h.pointCount=h.colorCounter=h.symbolCounter=0,g(h,"afterInit"),h.firstRender()})},initSeries:function(e){var n=this.options.chart;return(n=P[e.type||n.type||n.defaultSeriesType])||t.error(17,!0),n=new n,n.init(this,e),n},orderSeries:function(t){var e=this.series;for(t=t||0;t<e.length;t++)e[t]&&(e[t].index=t,e[t].name=e[t].getName())},isInsidePlot:function(t,e,n){var i=n?e:t;return t=n?t:e,0<=i&&i<=this.plotWidth&&0<=t&&t<=this.plotHeight},redraw:function(e){g(this,"beforeRedraw");var n,i,r,o=this.axes,s=this.series,a=this.pointer,l=this.legend,c=this.userOptions.legend,u=this.isDirtyLegend,d=this.hasCartesianSeries,h=this.isDirtyBox,m=this.renderer,v=m.isHidden(),b=[];for(this.setResponsive&&this.setResponsive(!1),t.setAnimation(e,this),v&&this.temporaryDisplay(),this.layOutTitles(),e=s.length;e--;)if(r=s[e],r.options.stacking&&(n=!0,r.isDirty)){i=!0;break}if(i)for(e=s.length;e--;)r=s[e],r.options.stacking&&(r.isDirty=!0);p(s,function(t){t.isDirty&&("point"===t.options.legendType?(t.updateTotals&&t.updateTotals(),u=!0):c&&(c.labelFormatter||c.labelFormat)&&(u=!0)),t.isDirtyData&&g(t,"updatedData")}),u&&l&&l.options.enabled&&(l.render(),this.isDirtyLegend=!1),n&&this.getStacks(),d&&p(o,function(t){t.updateNames(),t.updateYNames&&t.updateYNames(),t.setScale()}),this.getMargins(),d&&(p(o,function(t){t.isDirty&&(h=!0)}),p(o,function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,b.push(function(){g(t,"afterSetExtremes",f(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(h||n)&&t.redraw()})),h&&this.drawChartBox(),g(this,"predraw"),p(s,function(t){(h||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1}),a&&a.reset(!0),m.draw(),g(this,"redraw"),g(this,"render"),v&&this.temporaryDisplay(!0),p(b,function(t){t.call()})},get:function(t){function e(e){return e.id===t||e.options&&e.options.id===t}var n,i,r=this.series;for(n=m(this.axes,e)||m(this.series,e),i=0;!n&&i<r.length;i++)n=m(r[i].points||[],e);return n},getAxes:function(){var t=this,e=this.options,n=e.xAxis=I(e.xAxis||{}),e=e.yAxis=I(e.yAxis||{});g(this,"getAxes"),p(n,function(t,e){t.index=e,t.isX=!0}),p(e,function(t,e){t.index=e}),n=n.concat(e),p(n,function(e){new s(t,e)}),g(this,"afterGetAxes")},getSelectedPoints:function(){var t=[];return p(this.series,function(e){t=t.concat(v(e.data||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return v(this.series,function(t){return t.selected})},setTitle:function(t,e,n){var i,r=this,o=r.options;i=o.title=E({style:{color:"#333333",fontSize:o.isStock?"16px":"18px"}},o.title,t),o=o.subtitle=E({style:{color:"#666666"}},o.subtitle,e),p([["title",t,i],["subtitle",e,o]],function(t,e){var n=t[0],i=r[n],o=t[1];t=t[2],i&&o&&(r[n]=i=i.destroy()),t&&!i&&(r[n]=r.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,class:"highcharts-"+n,zIndex:t.zIndex||4}).add(),r[n].update=function(t){r.setTitle(!e&&t,e&&t)},r[n].css(t.style))}),r.layOutTitles(n)},layOutTitles:function(t){var e,n=0,i=this.renderer,r=this.spacingBox;p(["title","subtitle"],function(t){var e=this[t],o=this.options[t];t="title"===t?-3:o.verticalAlign?0:n+2;var s;e&&(s=o.style.fontSize,s=i.fontMetrics(s,e).b,e.css({width:(o.width||r.width+o.widthAdjust)+"px"}).align(f({y:t+s},o),!1,"spacingBox"),o.floating||o.verticalAlign||(n=Math.ceil(n+e.getBBox(o.useHTML).height)))},this),e=this.titleOffset!==n,this.titleOffset=n,!this.isDirtyBox&&e&&(this.isDirtyBox=this.isDirtyLegend=e,this.hasRendered&&T(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,n=e.width,e=e.height,i=this.renderTo;h(n)||(this.containerWidth=t.getStyle(i,"width")),h(e)||(this.containerHeight=t.getStyle(i,"height")),this.chartWidth=Math.max(0,n||this.containerWidth||600),this.chartHeight=Math.max(0,t.relativeLength(e,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(e){var n=this.renderTo;if(e)for(;n&&n.style;)n.hcOrigStyle&&(t.css(n,n.hcOrigStyle),delete n.hcOrigStyle),n.hcOrigDetached&&(o.body.removeChild(n),n.hcOrigDetached=!1),n=n.parentNode;else for(;n&&n.style&&(o.body.contains(n)||n.parentNode||(n.hcOrigDetached=!0,o.body.appendChild(n)),("none"===t.getStyle(n,"display",!1)||n.hcOricDetached)&&(n.hcOrigStyle={display:n.style.display,height:n.style.height,overflow:n.style.overflow},e={display:"block",overflow:"hidden"},n!==this.renderTo&&(e.height=0),t.css(n,e),n.offsetWidth||n.style.setProperty("display","block","important")),(n=n.parentNode)!==o.body););},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,n,i,s=this.options,l=s.chart;e=this.renderTo;var c,d=t.uniqueKey();e||(this.renderTo=e=l.renderTo),_(e)&&(this.renderTo=e=o.getElementById(e)),e||t.error(13,!0),n=k(r(e,"data-highcharts-chart")),b(n)&&u[n]&&u[n].hasRendered&&u[n].destroy(),r(e,"data-highcharts-chart",this.index),e.innerHTML="",l.skipClone||e.offsetWidth||this.temporaryDisplay(),this.getChartSize(),n=this.chartWidth,i=this.chartHeight,c=f({position:"relative",overflow:"hidden",width:n+"px",height:i+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},l.style),this.container=e=a("div",{id:d},c,e),this._cursor=e.style.cursor,this.renderer=new(t[l.renderer]||t.Renderer)(e,n,i,null,l.forExport,s.exporting&&s.exporting.allowHTML),this.setClassName(l.className),this.renderer.setStyle(l.style),this.renderer.chartIndex=this.index,g(this,"afterGetContainer")},getMargins:function(t){var e=this.spacing,n=this.margin,i=this.titleOffset;this.resetMargins(),i&&!h(n[0])&&(this.plotTop=Math.max(this.plotTop,i+this.options.title.margin+e[0])),this.legend&&this.legend.display&&this.legend.adjustMargins(n,e),g(this,"getMargins"),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],n=t.margin;t.hasCartesianSeries&&p(t.axes,function(t){t.visible&&t.getOffset()}),p(S,function(i,r){h(n[r])||(t[i]+=e[r])}),t.setChartSize()},reflow:function(e){var n=this,i=n.options.chart,r=n.renderTo,s=h(i.width)&&h(i.height),a=i.width||t.getStyle(r,"width"),i=i.height||t.getStyle(r,"height"),r=e?e.target:M;s||n.isPrinting||!a||!i||r!==M&&r!==o||(a===n.containerWidth&&i===n.containerHeight||(t.clearTimeout(n.reflowTimeout),n.reflowTimeout=A(function(){n.container&&n.setSize(void 0,void 0,!1)},e?100:0)),n.containerWidth=a,n.containerHeight=i)},setReflow:function(t){var n=this;!1===t||this.unbindReflow?!1===t&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=e(M,"resize",function(t){n.reflow(t)}),e(this,"destroy",this.unbindReflow))},setSize:function(e,r,o){var s=this,a=s.renderer;s.isResizing+=1,t.setAnimation(o,s),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,void 0!==e&&(s.options.chart.width=e),void 0!==r&&(s.options.chart.height=r),s.getChartSize(),e=a.globalAnimation,(e?n:d)(s.container,{width:s.chartWidth+"px",height:s.chartHeight+"px"},e),s.setChartSize(!0),a.setSize(s.chartWidth,s.chartHeight,o),p(s.axes,function(t){t.isDirty=!0,t.setScale()}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.layOutTitles(),s.getMargins(),s.redraw(o),s.oldChartHeight=null,g(s,"resize"),A(function(){s&&g(s,"endResize",null,function(){--s.isResizing})},i(e).duration)},setChartSize:function(t){var e,n,i,r,o=this.inverted,s=this.renderer,a=this.chartWidth,l=this.chartHeight,c=this.options.chart,u=this.spacing,d=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=n=Math.round(this.plotTop),this.plotWidth=i=Math.max(0,Math.round(a-e-this.marginRight)),this.plotHeight=r=Math.max(0,Math.round(l-n-this.marginBottom)),this.plotSizeX=o?r:i,this.plotSizeY=o?i:r,this.plotBorderWidth=c.plotBorderWidth||0,this.spacingBox=s.spacingBox={x:u[3],y:u[0],width:a-u[3]-u[1],height:l-u[0]-u[2]},this.plotBox=s.plotBox={x:e,y:n,width:i,height:r},a=2*Math.floor(this.plotBorderWidth/2),o=Math.ceil(Math.max(a,d[3])/2),s=Math.ceil(Math.max(a,d[0])/2),this.clipBox={x:o,y:s,width:Math.floor(this.plotSizeX-Math.max(a,d[1])/2-o),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(a,d[2])/2-s))},t||p(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()}),g(this,"afterSetChartSize",{skipAxes:t})},resetMargins:function(){var t=this,e=t.options.chart;p(["margin","spacing"],function(n){var i=e[n],r=y(i)?i:[i,i,i,i];p(["Top","Right","Bottom","Left"],function(i,o){t[n][o]=T(e[n+i],r[o])})}),p(S,function(e,n){t[e]=T(t.margin[n],t.spacing[n])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,n=this.options.chart,i=this.renderer,r=this.chartWidth,o=this.chartHeight,s=this.chartBackground,a=this.plotBackground,l=this.plotBorder,c=this.plotBGImage,u=n.backgroundColor,d=n.plotBackgroundColor,h=n.plotBackgroundImage,p=this.plotLeft,f=this.plotTop,m=this.plotWidth,v=this.plotHeight,b=this.plotBox,y=this.clipRect,_=this.clipBox,w="animate";s||(this.chartBackground=s=i.rect().addClass("highcharts-background").add(),w="attr"),t=n.borderWidth||0,e=t+(n.shadow?8:0),u={fill:u||"none"},(t||s["stroke-width"])&&(u.stroke=n.borderColor,u["stroke-width"]=t),s.attr(u).shadow(n.shadow),s[w]({x:e/2,y:e/2,width:r-e-t%2,height:o-e-t%2,r:n.borderRadius}),w="animate",a||(w="attr",this.plotBackground=a=i.rect().addClass("highcharts-plot-background").add()),a[w](b),a.attr({fill:d||"none"}).shadow(n.plotShadow),h&&(c?c.animate(b):this.plotBGImage=i.image(h,p,f,m,v).add()),y?y.animate({width:_.width,height:_.height}):this.clipRect=i.clipRect(_),w="animate",l||(w="attr",this.plotBorder=l=i.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),l.attr({stroke:n.plotBorderColor,"stroke-width":n.plotBorderWidth||0,fill:"none"}),l[w](l.crisp({x:p,y:f,width:m,height:v},-l.strokeWidth())),this.isDirtyBox=!1,g(this,"afterDrawChartBox")},propFromSeries:function(){var t,e,n,i=this,r=i.options.chart,o=i.options.series;p(["inverted","angular","polar"],function(s){for(t=P[r.type||r.defaultSeriesType],n=r[s]||t&&t.prototype[s],e=o&&o.length;!n&&e--;)(t=P[o[e].type])&&t.prototype[s]&&(n=!0);i[s]=n})},linkSeries:function(){var t=this,e=t.series;p(e,function(t){t.linkedSeries.length=0}),p(e,function(e){var n=e.options.linkedTo;_(n)&&(n=":previous"===n?t.series[e.index-1]:t.get(n))&&n.linkedParent!==e&&(n.linkedSeries.push(e),e.linkedParent=n,e.visible=T(e.options.visible,n.options.visible,e.visible))}),g(this,"afterLinkSeries")},renderSeries:function(){p(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&p(e.items,function(n){var i=f(e.style,n.style),r=k(i.left)+t.plotLeft,o=k(i.top)+t.plotTop+12;delete i.left,delete i.top,t.renderer.text(n.html,r,o).attr({zIndex:2}).css(i).add()})},render:function(){var t,e,n,i=this.axes,r=this.renderer,o=this.options;this.setTitle(),this.legend=new w(this,o.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),o=this.plotWidth,t=this.plotHeight=Math.max(this.plotHeight-21,0),p(i,function(t){t.setScale()}),this.getAxisMargins(),e=1.1<o/this.plotWidth,n=1.05<t/this.plotHeight,(e||n)&&(p(i,function(t){(t.horiz&&e||!t.horiz&&n)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&p(i,function(t){t.visible&&t.render()}),this.seriesGroup||(this.seriesGroup=r.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(t){var e=this;t=E(!0,this.options.credits,t),t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){t.href&&(M.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var e,n=this,i=n.axes,r=n.series,o=n.container,s=o&&o.parentNode;for(g(n,"destroy"),n.renderer.forExport?t.erase(u,n):u[n.index]=void 0,t.chartCount--,n.renderTo.removeAttribute("data-highcharts-chart"),O(n),e=i.length;e--;)i[e]=i[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=r.length;e--;)r[e]=r[e].destroy();p("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(t){var e=n[t];e&&e.destroy&&(n[t]=e.destroy())}),o&&(o.innerHTML="",O(o),s&&c(o)),x(n,function(t,e){delete n[e]})},firstRender:function(){var t=this,e=t.options;t.isReadyToRender&&!t.isReadyToRender()||(t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),p(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),g(t,"beforeRender"),C&&(t.pointer=new C(t,e)),t.render(),!t.renderer.imgCount&&t.onload&&t.onload(),t.temporaryDisplay(!0))},onload:function(){p([this.callback].concat(this.callbacks),function(t){t&&void 0!==this.index&&t.apply(this,[this])},this),g(this,"load"),g(this,"render"),h(this.index)&&this.setReflow(this.options.chart.reflow),this.onload=null}})}(e),function(t){var e=t.addEvent,n=t.Chart,i=t.each;e(n,"afterSetChartSize",function(e){var n=this.options.chart.scrollablePlotArea;(n=n&&n.minWidth)&&!this.renderer.forExport&&(this.scrollablePixels=n=Math.max(0,n-this.chartWidth))&&(this.plotWidth+=n,this.clipBox.width+=n,e.skipAxes||i(this.axes,function(e){1===e.side?e.getPlotLinePath=function(){var n,i=this.right;return this.right=i-e.chart.scrollablePixels,n=t.Axis.prototype.getPlotLinePath.apply(this,arguments),this.right=i,n}:(e.setAxisSize(),e.setAxisTranslation())}))}),e(n,"render",function(){this.scrollablePixels?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),n.prototype.setUpScrolling=function(){this.scrollingContainer=t.createElement("div",{className:"highcharts-scrolling"},{overflowX:"auto",WebkitOverflowScrolling:"touch"},this.renderTo),this.innerContainer=t.createElement("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},n.prototype.applyFixed=function(){var e,n,i=this.container,r=!this.fixedDiv;r&&(this.fixedDiv=t.createElement("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:2},null,!0),this.renderTo.insertBefore(this.fixedDiv,this.renderTo.firstChild),this.fixedRenderer=e=new t.Renderer(this.fixedDiv,0,0),this.scrollableMask=e.path().attr({fill:t.color(this.options.chart.backgroundColor||"#fff").setOpacity(.85).get(),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),t.each([this.inverted?".highcharts-xaxis":".highcharts-yaxis",this.inverted?".highcharts-xaxis-labels":".highcharts-yaxis-labels",".highcharts-contextbutton",".highcharts-credits",".highcharts-legend",".highcharts-subtitle",".highcharts-title",".highcharts-legend-checkbox"],function(n){t.each(i.querySelectorAll(n),function(t){(t.namespaceURI===e.SVG_NS?e.box:e.box.parentNode).appendChild(t),t.style.pointerEvents="auto"})})),this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),n=this.chartWidth+this.scrollablePixels,t.stop(this.container),this.container.style.width=n+"px",this.renderer.boxWrapper.attr({width:n,height:this.chartHeight,viewBox:[0,0,n,this.chartHeight].join(" ")}),this.chartBackground.attr({width:n}),r&&(n=this.options.chart.scrollablePlotArea,n.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixels*n.scrollPositionX)),r=this.axisOffset,n=this.plotTop-r[0]-1;var r=this.plotTop+this.plotHeight+r[2],o=this.plotLeft+this.plotWidth-this.scrollablePixels;this.scrollableMask.attr({d:this.scrollablePixels?["M",0,n,"L",this.plotLeft-1,n,"L",this.plotLeft-1,r,"L",0,r,"Z","M",o,n,"L",this.chartWidth,n,"L",this.chartWidth,r,"L",o,r,"Z"]:["M",0,0]})}}(e),function(t){var e,n=t.each,i=t.extend,r=t.erase,o=t.fireEvent,s=t.format,a=t.isArray,l=t.isNumber,c=t.pick,u=t.uniqueKey,d=t.defined,h=t.removeEvent;t.Point=e=function(){},t.Point.prototype={init:function(t,e,n){return this.series=t,this.color=t.color,this.applyOptions(e,n),this.id=d(this.id)?this.id:u(),t.options.colorByPoint?(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter],e=e.length,n=t.colorCounter,++t.colorCounter===e&&(t.colorCounter=0)):n=t.colorIndex,this.colorIndex=c(this.colorIndex,n),t.chart.pointCount++,o(this,"afterInit"),this},applyOptions:function(t,n){var r=this.series,o=r.options.pointValKey||r.pointValKey;return t=e.prototype.optionsToObject.call(this,t),i(this,t),this.options=this.options?i(this.options,t):t,t.group&&delete this.group,t.dataLabels&&delete this.dataLabels,o&&(this.y=this[o]),this.isNull=c(this.isValid&&!this.isValid(),null===this.x||!l(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===n&&r.xAxis&&r.xAxis.hasNames&&(this.x=r.xAxis.nameToX(this)),void 0===this.x&&r&&(this.x=void 0===n?r.autoIncrement(this):n),this},setNestedProperty:function(e,n,i){return i=i.split("."),t.reduce(i,function(e,i,r,o){return e[i]=o.length-1===r?n:t.isObject(e[i],!0)?e[i]:{},e[i]},e),e},optionsToObject:function(e){var n={},i=this.series,r=i.options.keys,o=r||i.pointArrayMap||["y"],s=o.length,c=0,u=0;if(l(e)||null===e)n[o[0]]=e;else if(a(e))for(!r&&e.length>s&&(i=typeof e[0],"string"===i?n.name=e[0]:"number"===i&&(n.x=e[0]),c++);u<s;)r&&void 0===e[c]||(0<o[u].indexOf(".")?t.Point.prototype.setNestedProperty(n,e[c],o[u]):n[o[u]]=e[c]),c++,u++;else"object"==typeof e&&(n=e,e.dataLabels&&(i._hasPointLabels=!0),e.marker&&(i._hasPointMarkers=!0));return n},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var t,e=this.series,n=e.zones,e=e.zoneAxis||"y",i=0;for(t=n[i];this[e]>=t.value;)t=n[++i];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=t&&t.color&&!this.options.color?t.color:this.nonZonedColor,t},destroy:function(){var t,e=this.series.chart,n=e.hoverPoints;e.pointCount--,n&&(this.setState(),r(n,this),n.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel||this.dataLabels)&&(h(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this);for(t in this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)t=e[i],this[t]&&(this[t]=this[t].destroy());this.dataLabels&&(n(this.dataLabels,function(t){t.element&&t.destroy()}),delete this.dataLabels),this.connectors&&(n(this.connectors,function(t){t.element&&t.destroy()}),delete this.connectors)},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,r=c(i.valueDecimals,""),o=i.valuePrefix||"",a=i.valueSuffix||"";return n(e.pointArrayMap||["y"],function(e){e="{point."+e,(o||a)&&(t=t.replace(RegExp(e+"}","g"),o+e+"}"+a)),t=t.replace(RegExp(e+"}","g"),e+":,."+r+"f}")}),s(t,{point:this,series:this.series},e.chart.time)},firePointEvent:function(t,e,n){var i=this,r=this.series.options;(r.point.events[t]||i.options&&i.options.events&&i.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(n=function(t){i.select&&i.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),o(this,t,e,n)},visible:!0}}(e),function(t){var e=t.addEvent,n=t.animObject,i=t.arrayMax,r=t.arrayMin,o=t.correctFloat,s=t.defaultOptions,a=t.defaultPlotOptions,l=t.defined,c=t.each,u=t.erase,d=t.extend,h=t.fireEvent,p=t.grep,f=t.isArray,m=t.isNumber,g=t.isString,v=t.merge,b=t.objectEach,y=t.pick,_=t.removeEvent,w=t.splat,S=t.SVGElement,E=t.syncTimeout,x=t.win;t.Series=t.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",enabledThreshold:2,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":t.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:t.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(t,n){var i,r,o=this,s=t.series;o.chart=t,o.options=n=o.setOptions(n),o.linkedSeries=[],o.bindAxes(),d(o,{name:n.name,state:"",visible:!1!==n.visible,selected:!0===n.selected}),i=n.events,b(i,function(t,n){e(o,n,t)}),(i&&i.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)&&(t.runTrackerClick=!0),o.getColor(),o.getSymbol(),c(o.parallelArrays,function(t){o[t+"Data"]=[]}),o.setData(n.data,!1),o.isCartesian&&(t.hasCartesianSeries=!0),s.length&&(r=s[s.length-1]),o._i=y(r&&r._i,-1)+1,t.orderSeries(this.insert(s)),h(this,"afterInit")},insert:function(t){var e,n=this.options.index;if(m(n)){for(e=t.length;e--;)if(n>=y(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return y(e,t.length-1)},bindAxes:function(){var e,n=this,i=n.options,r=n.chart;c(n.axisTypes||[],function(o){c(r[o],function(t){e=t.options,(i[o]===e.index||void 0!==i[o]&&i[o]===e.id||void 0===i[o]&&0===e.index)&&(n.insert(t.series),n[o]=t,t.isDirty=!0)}),n[o]||n.optionalAxis===o||t.error(18,!0)})},updateParallelArrays:function(t,e){var n=t.series,i=arguments,r=m(e)?function(i){var r="y"===i&&n.toYData?n.toYData(t):t[i];n[i+"Data"][e]=r}:function(t){Array.prototype[e].apply(n[t+"Data"],Array.prototype.slice.call(i,2))};c(n.parallelArrays,r)},autoIncrement:function(){var t,e=this.options,n=this.xIncrement,i=e.pointIntervalUnit,r=this.chart.time,n=y(n,e.pointStart,0);return this.pointInterval=t=y(this.pointInterval,e.pointInterval,1),i&&(e=new r.Date(n),"day"===i?r.set("Date",e,r.get("Date",e)+t):"month"===i?r.set("Month",e,r.get("Month",e)+t):"year"===i&&r.set("FullYear",e,r.get("FullYear",e)+t),t=e.getTime()-n),this.xIncrement=n+t,n},setOptions:function(t){var e=this.chart,n=e.options,i=n.plotOptions,r=(e.userOptions||{}).plotOptions||{},o=i[this.type];return this.userOptions=t,e=v(o,i.series,t),this.tooltipOptions=v(s.tooltip,s.plotOptions.series&&s.plotOptions.series.tooltip,s.plotOptions[this.type].tooltip,n.tooltip.userOptions,i.series&&i.series.tooltip,i[this.type].tooltip,t.tooltip),this.stickyTracking=y(t.stickyTracking,r[this.type]&&r[this.type].stickyTracking,r.series&&r.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||e.stickyTracking),null===o.marker&&delete e.marker,this.zoneAxis=e.zoneAxis,t=this.zones=(e.zones||[]).slice(),!e.negativeColor&&!e.negativeFillColor||e.zones||t.push({value:e[this.zoneAxis+"Threshold"]||e.threshold||0,className:"highcharts-negative",color:e.negativeColor,fillColor:e.negativeFillColor}),t.length&&l(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),h(this,"afterSetOptions",{options:e}),e},getName:function(){return this.name||"Series "+(this.index+1)},getCyclic:function(t,e,n){var i,r=this.chart,o=this.userOptions,s=t+"Index",a=t+"Counter",c=n?n.length:y(r.options.chart[t+"Count"],r[t+"Count"]);e||(i=y(o[s],o["_"+s]),l(i)||(r.series.length||(r[a]=0),o["_"+s]=i=r[a]%c,r[a]+=1),n&&(e=n[i])),void 0!==i&&(this[s]=i),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||a[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:t.LegendSymbolMixin.drawLineMarker,updateData:function(e){var n,i,r,o=this.options,s=this.points,a=[],l=this.requireSorting;if(c(e,function(e){var i;i=t.defined(e)&&this.pointClass.prototype.optionsToObject.call({series:this},e).x,m(i)&&(i=t.inArray(i,this.xData,r),-1===i||s[i].touched?a.push(e):e!==o.data[i]?(s[i].update(e,!1,null,!1),s[i].touched=!0,l&&(r=i+1)):s[i]&&(s[i].touched=!0),n=!0)},this),n)for(e=s.length;e--;)i=s[e],i.touched||i.remove(!1),i.touched=!1;else{if(e.length!==s.length)return!1;c(e,function(t,e){s[e].update&&t!==o.data[e]&&s[e].update(t,!1,null,!1)})}return c(a,function(t){this.addPoint(t,!1)},this),!0},setData:function(e,n,i,r){var o,s,a=this,l=a.points,u=l&&l.length||0,d=a.options,h=a.chart,p=null,v=a.xAxis,b=d.turboThreshold,_=this.xData,w=this.yData,S=(o=a.pointArrayMap)&&o.length;if(e=e||[],o=e.length,n=y(n,!0),!1!==r&&o&&u&&!a.cropped&&!a.hasGroupedData&&a.visible&&!a.isSeriesBoosting&&(s=this.updateData(e)),!s){if(a.xIncrement=null,a.colorCounter=0,c(this.parallelArrays,function(t){a[t+"Data"].length=0}),b&&o>b){for(i=0;null===p&&i<o;)p=e[i],i++;if(m(p))for(i=0;i<o;i++)_[i]=this.autoIncrement(),w[i]=e[i];else if(f(p))if(S)for(i=0;i<o;i++)p=e[i],_[i]=p[0],w[i]=p.slice(1,S+1);else for(i=0;i<o;i++)p=e[i],_[i]=p[0],w[i]=p[1];else t.error(12)}else for(i=0;i<o;i++)void 0!==e[i]&&(p={series:a},a.pointClass.prototype.applyOptions.apply(p,[e[i]]),a.updateParallelArrays(p,i));for(w&&g(w[0])&&t.error(14,!0),a.data=[],a.options.data=a.userOptions.data=e,i=u;i--;)l[i]&&l[i].destroy&&l[i].destroy();v&&(v.minRange=v.userMinRange),a.isDirty=h.isDirtyBox=!0,a.isDirtyData=!!l,i=!1}"point"===d.legendType&&(this.processData(),this.generatePoints()),n&&h.redraw(i)},processData:function(e){var n,i=this.xData,r=this.yData,o=i.length;n=0;var s,a,l,c=this.xAxis,u=this.options;l=u.cropThreshold;var d,h,p=this.getExtremesFromAll||u.getExtremesFromAll,f=this.isCartesian,u=c&&c.val2lin,m=c&&c.isLog,g=this.requireSorting;if(f&&!this.isDirty&&!c.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(c&&(e=c.getExtremes(),d=e.min,h=e.max),f&&this.sorted&&!p&&(!l||o>l||this.forceCrop)&&(i[o-1]<d||i[0]>h?(i=[],r=[]):this.yData&&(i[0]<d||i[o-1]>h)&&(n=this.cropData(this.xData,this.yData,d,h),i=n.xData,r=n.yData,n=n.start,s=!0)),l=i.length||1;--l;)o=m?u(i[l])-u(i[l-1]):i[l]-i[l-1],0<o&&(void 0===a||o<a)?a=o:0>o&&g&&(t.error(15),g=!1);this.cropped=s,this.cropStart=n,this.processedXData=i,this.processedYData=r,this.closestPointRange=a},cropData:function(t,e,n,i,r){var o,s=t.length,a=0,l=s;for(r=y(r,this.cropShoulder,1),o=0;o<s;o++)if(t[o]>=n){a=Math.max(0,o-r);break}for(n=o;n<s;n++)if(t[n]>i){l=n+r;break}return{xData:t.slice(a,l),yData:e.slice(a,l),start:a,end:l}},generatePoints:function(){var t,e,n,i,r=this.options,o=r.data,s=this.data,a=this.processedXData,l=this.processedYData,c=this.pointClass,u=a.length,h=this.cropStart||0,p=this.hasGroupedData,r=r.keys,f=[];for(s||p||(s=[],s.length=o.length,s=this.data=s),r&&p&&(this.options.keys=!1),i=0;i<u;i++)e=h+i,p?(n=(new c).init(this,[a[i]].concat(w(l[i]))),n.dataGroup=this.groupMap[i],n.dataGroup.options&&(n.options=n.dataGroup.options,d(n,n.dataGroup.options))):(n=s[e])||void 0===o[e]||(s[e]=n=(new c).init(this,o[e],a[i])),n&&(n.index=e,f[i]=n);if(this.options.keys=r,s&&(u!==(t=s.length)||p))for(i=0;i<t;i++)i!==h||p||(i+=u),s[i]&&(s[i].destroyElements(),s[i].plotX=void 0);this.data=s,this.points=f},getExtremes:function(t){var e,n=this.yAxis,o=this.processedXData,s=[],a=0;e=this.xAxis.getExtremes();var l,c,u,d,h=e.min,p=e.max,g=this.requireSorting?1:0;for(t=t||this.stackedYData||this.processedYData||[],e=t.length,d=0;d<e;d++)if(c=o[d],u=t[d],l=(m(u,!0)||f(u))&&(!n.positiveValuesOnly||u.length||0<u),c=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(o[d+g]||c)>=h&&(o[d-g]||c)<=p,l&&c)if(l=u.length)for(;l--;)"number"==typeof u[l]&&(s[a++]=u[l]);else s[a++]=u;this.dataMin=r(s),this.dataMax=i(s)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,n,i,r=this.options,s=r.stacking,a=this.xAxis,c=a.categories,u=this.yAxis,d=this.points,p=d.length,f=!!this.modifyValue,g=r.pointPlacement,v="between"===g||m(g),b=r.threshold,_=r.startFromThreshold?b:0,w=Number.MAX_VALUE;for("between"===g&&(g=.5),m(g)&&(g*=y(r.pointRange||a.pointRange)),r=0;r<p;r++){var S=d[r],E=S.x,x=S.y;e=S.low;var C,T=s&&u.stacks[(this.negStacks&&x<(_?0:b)?"-":"")+this.stackKey];u.positiveValuesOnly&&null!==x&&0>=x&&(S.isNull=!0),S.plotX=t=o(Math.min(Math.max(-1e5,a.translate(E,0,0,0,1,g,"flags"===this.type)),1e5)),s&&this.visible&&!S.isNull&&T&&T[E]&&(i=this.getStackIndicator(i,E,this.index),C=T[E],x=C.points[i.key],e=x[0],x=x[1],e===_&&i.key===T[E].base&&(e=y(m(b)&&b,u.min)),u.positiveValuesOnly&&0>=e&&(e=null),S.total=S.stackTotal=C.total,S.percentage=C.total&&S.y/C.total*100,S.stackY=x,C.setOffset(this.pointXOffset||0,this.barW||0)),S.yBottom=l(e)?Math.min(Math.max(-1e5,u.translate(e,0,1,0,1)),1e5):null,f&&(x=this.modifyValue(x,S)),S.plotY=e="number"==typeof x&&1/0!==x?Math.min(Math.max(-1e5,u.translate(x,0,1,0,1)),1e5):void 0,S.isInside=void 0!==e&&0<=e&&e<=u.len&&0<=t&&t<=a.len,S.clientX=v?o(a.translate(E,0,0,0,1,g)):t,S.negative=S.y<(b||0),S.category=c&&void 0!==c[S.x]?c[S.x]:S.x,S.isNull||(void 0!==n&&(w=Math.min(w,Math.abs(t-n))),n=t),S.zone=this.zones.length&&S.getZone()}this.closestPointRangePx=w,h(this,"afterTranslate")},getValidPoints:function(t,e){var n=this.chart;return p(t||this.points||[],function(t){return!(e&&!n.isInsidePlot(t.plotX,t.plotY,n.inverted))&&!t.isNull})},setClip:function(t){var e=this.chart,n=this.options,i=e.renderer,r=e.inverted,o=this.clipBox,s=o||e.clipBox,a=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,s.height,n.xAxis,n.yAxis].join(),l=e[a],c=e[a+"m"];l||(t&&(s.width=0,r&&(s.x=e.plotSizeX),e[a+"m"]=c=i.clipRect(r?e.plotSizeX+99:-99,r?-e.plotLeft:-e.plotTop,99,r?e.chartWidth:e.chartHeight)),e[a]=l=i.clipRect(s),l.count={length:0}),t&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),!1!==n.clip&&(this.group.clip(t||o?l:e.clipRect),this.markerGroup.clip(c),this.sharedClipKey=a),t||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&a&&e[a]&&(o||(e[a]=e[a].destroy()),e[a+"m"]&&(e[a+"m"]=e[a+"m"].destroy())))},animate:function(t){var e,i=this.chart,r=n(this.options.animation);t?this.setClip(r):(e=this.sharedClipKey,(t=i[e])&&t.animate({width:i.plotSizeX,x:0},r),i[e+"m"]&&i[e+"m"].animate({width:i.plotSizeX+99,x:0},r),this.animate=null)},afterAnimate:function(){this.setClip(),h(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var t,e,n,i,r,o,s,a,l=this.points,c=this.chart,u=this.options.marker,d=this[this.specialGroup]||this.markerGroup,h=y(u.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>=u.enabledThreshold*u.radius);if(!1!==u.enabled||this._hasPointMarkers)for(t=0;t<l.length;t++)e=l[t],i=e.graphic,r=e.marker||{},o=!!e.marker,n=h&&void 0===r.enabled||r.enabled,s=e.isInside,n&&!e.isNull?(n=y(r.symbol,this.symbol),a=this.markerAttribs(e,e.selected&&"select"),i?i[s?"show":"hide"](!0).animate(a):s&&(0<a.width||e.hasImage)&&(e.graphic=i=c.renderer.symbol(n,a.x,a.y,a.width,a.height,o?r:u).add(d)),i&&i.attr(this.pointAttribs(e,e.selected&&"select")),i&&i.addClass(e.getClassName(),!0)):i&&(e.graphic=i.destroy())},markerAttribs:function(t,e){var n=this.options.marker,i=t.marker||{},r=i.symbol||n.symbol,o=y(i.radius,n.radius);return e&&(n=n.states[e],e=i.states&&i.states[e],o=y(e&&e.radius,n&&n.radius,o+(n&&n.radiusPlus||0))),t.hasImage=r&&0===r.indexOf("url"),t.hasImage&&(o=0),t={x:Math.floor(t.plotX)-o,y:t.plotY-o},o&&(t.width=t.height=2*o),t},pointAttribs:function(t,e){var n=this.options.marker,i=t&&t.options,r=i&&i.marker||{},o=this.color,s=i&&i.color,a=t&&t.color,i=y(r.lineWidth,n.lineWidth);return t=t&&t.zone&&t.zone.color,o=s||t||a||o,t=r.fillColor||n.fillColor||o,o=r.lineColor||n.lineColor||o,e&&(n=n.states[e],e=r.states&&r.states[e]||{},i=y(e.lineWidth,n.lineWidth,i+y(e.lineWidthPlus,n.lineWidthPlus,0)),t=e.fillColor||n.fillColor||t,o=e.lineColor||n.lineColor||o),{stroke:o,"stroke-width":i,fill:t}},destroy:function(){var e,n,i,r,o=this,s=o.chart,a=/AppleWebKit\/533/.test(x.navigator.userAgent),l=o.data||[];for(h(o,"destroy"),_(o),c(o.axisTypes||[],function(t){(r=o[t])&&r.series&&(u(r.series,o),r.isDirty=r.forceRedraw=!0)}),o.legendItem&&o.chart.legend.destroyItem(o),n=l.length;n--;)(i=l[n])&&i.destroy&&i.destroy();o.points=null,t.clearTimeout(o.animationTimeout),b(o,function(t,n){t instanceof S&&!t.survive&&(e=a&&"group"===n?"hide":"destroy",t[e]())}),s.hoverSeries===o&&(s.hoverSeries=null),u(s.series,o),s.orderSeries(),b(o,function(t,e){delete o[e]})},getGraphPath:function(t,e,n){var i,r,o=this,s=o.options,a=s.step,u=[],d=[];return t=t||o.points,(i=t.reversed)&&t.reverse(),(a={right:1,center:2}[a]||a&&3)&&i&&(a=4-a),!s.connectNulls||e||n||(t=this.getValidPoints(t)),c(t,function(i,c){var h=i.plotX,p=i.plotY,f=t[c-1];(i.leftCliff||f&&f.rightCliff)&&!n&&(r=!0),i.isNull&&!l(e)&&0<c?r=!s.connectNulls:i.isNull&&!e?r=!0:(0===c||r?c=["M",i.plotX,i.plotY]:o.getPointSpline?c=o.getPointSpline(t,i,c):a?(c=1===a?["L",f.plotX,p]:2===a?["L",(f.plotX+h)/2,f.plotY,"L",(f.plotX+h)/2,p]:["L",h,f.plotY],c.push("L",h,p)):c=["L",h,p],d.push(i.x),a&&(d.push(i.x),2===a&&d.push(i.x)),u.push.apply(u,c),r=!1)}),u.xMap=d,o.graphPath=u},drawGraph:function(){var t=this,e=this.options,n=(this.gappedPath||this.getGraphPath).call(this),i=[["graph","highcharts-graph",e.lineColor||this.color,e.dashStyle]],i=t.getZonesGraphs(i);c(i,function(i,r){var o=i[0],s=t[o];s?(s.endX=t.preventGraphAnimation?null:n.xMap,s.animate({d:n})):n.length&&(t[o]=t.chart.renderer.path(n).addClass(i[1]).attr({zIndex:1}).add(t.group),s={stroke:i[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},i[3]?s.dashstyle=i[3]:"square"!==e.linecap&&(s["stroke-linecap"]=s["stroke-linejoin"]="round"),s=t[o].attr(s).shadow(2>r&&e.shadow)),s&&(s.startX=n.xMap,s.isArea=n.isArea)})},getZonesGraphs:function(t){return c(this.zones,function(e,n){t.push(["zone-graph-"+n,"highcharts-graph highcharts-zone-graph-"+n+" "+(e.className||""),e.color||this.color,e.dashStyle||this.options.dashStyle])},this),t},applyZones:function(){var t,e,n,i,r,o,s,a,l,u=this,d=this.chart,h=d.renderer,p=this.zones,f=this.clips||[],m=this.graph,g=this.area,v=Math.max(d.chartWidth,d.chartHeight),b=this[(this.zoneAxis||"y")+"Axis"],_=d.inverted,w=!1;p.length&&(m||g)&&b&&void 0!==b.min&&(r=b.reversed,o=b.horiz,m&&!this.showLine&&m.hide(),g&&g.hide(),i=b.getExtremes(),c(p,function(c,p){t=r?o?d.plotWidth:0:o?0:b.toPixels(i.min),t=Math.min(Math.max(y(e,t),0),v),e=Math.min(Math.max(Math.round(b.toPixels(y(c.value,i.max),!0)),0),v),w&&(t=e=b.toPixels(i.max)),s=Math.abs(t-e),a=Math.min(t,e),l=Math.max(t,e),b.isXAxis?(n={x:_?l:a,y:0,width:s,height:v},o||(n.x=d.plotHeight-n.x)):(n={x:0,y:_?l:a,width:v,height:s},o&&(n.y=d.plotWidth-n.y)),_&&h.isVML&&(n=b.isXAxis?{x:0,y:r?a:l,height:n.width,width:d.chartWidth}:{x:n.y-d.plotLeft-d.spacingBox.x,y:0,width:n.height,height:d.chartHeight}),f[p]?f[p].animate(n):(f[p]=h.clipRect(n),m&&u["zone-graph-"+p].clip(f[p]),g&&u["zone-area-"+p].clip(f[p])),w=c.value>i.max,u.resetZones&&0===e&&(e=void 0)}),this.clips=f)},invertGroups:function(t){function n(){c(["group","markerGroup"],function(e){r[e]&&(o.renderer.isVML&&r[e].attr({width:r.yAxis.len,height:r.xAxis.len}),r[e].width=r.yAxis.len,r[e].height=r.xAxis.len,r[e].invert(t))})}var i,r=this,o=r.chart;r.xAxis&&(i=e(o,"resize",n),e(r,"destroy",i),n(),r.invertGroups=n)},plotGroup:function(t,e,n,i,r){var o=this[t],s=!o;return s&&(this[t]=o=this.chart.renderer.g().attr({zIndex:i||.1}).add(r)),o.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(l(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(o.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),o.attr({visibility:n})[s?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,n=this.yAxis;return t.inverted&&(e=n,n=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,r=e.options,o=!!e.animate&&i.renderer.isSVG&&n(r.animation).duration,s=e.visible?"inherit":"hidden",a=r.zIndex,l=e.hasRendered,c=i.seriesGroup,u=i.inverted;t=e.plotGroup("group","series",s,a,c),e.markerGroup=e.plotGroup("markerGroup","markers",s,a,c),o&&e.animate(!0),t.inverted=!!e.isCartesian&&u,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(u),!1===r.clip||e.sharedClipKey||l||t.clip(i.clipRect),o&&e.animate(),l||(e.animationTimeout=E(function(){e.afterAnimate()},o)),e.isDirty=!1,e.hasRendered=!0,h(e,"afterRender")},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,n=this.group,i=this.xAxis,r=this.yAxis;n&&(t.inverted&&n.attr({width:t.plotWidth,height:t.plotHeight}),n.animate({translateX:y(i&&i.left,t.plotLeft),translateY:y(r&&r.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var n=this.xAxis,i=this.yAxis,r=this.chart.inverted;return this.searchKDTree({clientX:r?n.len-t.chartY+n.pos:t.chartX-n.pos,plotY:r?i.len-t.chartX+i.pos:t.chartY-i.pos},e)},buildKDTree:function(){function t(n,i,r){var o,s;if(s=n&&n.length)return o=e.kdAxisArray[i%r],n.sort(function(t,e){return t[o]-e[o]}),s=Math.floor(s/2),{point:n[s],left:t(n.slice(0,s),i+1,r),right:t(n.slice(s+1),i+1,r)}}this.buildingKdTree=!0;var e=this,n=-1<e.options.findNearestPointBy.indexOf("y")?2:1;delete e.kdTree,E(function(){e.kdTree=t(e.getValidPoints(null,!e.directTouch),n,n),e.buildingKdTree=!1},e.options.kdNow?0:1)},searchKDTree:function(t,e){function n(t,e,a,c){var u,d,h=e.point,p=i.kdAxisArray[a%c],f=h;return d=l(t[r])&&l(h[r])?Math.pow(t[r]-h[r],2):null,u=l(t[o])&&l(h[o])?Math.pow(t[o]-h[o],2):null,u=(d||0)+(u||0),h.dist=l(u)?Math.sqrt(u):Number.MAX_VALUE,h.distX=l(d)?Math.sqrt(d):Number.MAX_VALUE,p=t[p]-h[p],u=0>p?"left":"right",d=0>p?"right":"left",e[u]&&(u=n(t,e[u],a+1,c),f=u[s]<f[s]?u:h),e[d]&&Math.sqrt(p*p)<f[s]&&(t=n(t,e[d],a+1,c),f=t[s]<f[s]?t:f),f}var i=this,r=this.kdAxisArray[0],o=this.kdAxisArray[1],s=e?"distX":"dist";if(e=-1<i.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree)return n(t,this.kdTree,e,e)}})}(e),function(t){var e=t.Axis,n=t.Chart,i=t.correctFloat,r=t.defined,o=t.destroyObjectProperties,s=t.each,a=t.format,l=t.objectEach,c=t.pick,u=t.Series;t.StackItem=function(t,e,n,i,r){var o=t.chart.inverted;this.axis=t,this.isNegative=n,this.options=e,this.x=i,this.total=null,this.points={},this.stack=r,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(o?n?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":n?"bottom":"top"),y:c(e.y,o?4:n?14:-6),x:c(e.x,o?n?-6:6:0)},this.textAlign=e.textAlign||(o?n?"right":"left":"center")},t.StackItem.prototype={destroy:function(){o(this,this.axis)},render:function(t){var e=this.axis.chart,n=this.options,i=n.format,i=i?a(i,this,e.time):n.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=e.renderer.text(i,null,null,n.useHTML).css(n.style).attr({align:this.textAlign,rotation:n.rotation,visibility:"hidden"}).add(t),this.label.labelrank=e.plotHeight},setOffset:function(t,e){var n=this.axis,i=n.chart,o=n.translate(n.usePercentage?100:this.total,0,0,0,1),s=n.translate(0),s=r(o)&&Math.abs(o-s);t=i.xAxis[0].translate(this.x)+t,n=r(o)&&this.getStackBox(i,this,t,o,e,s,n),(e=this.label)&&n&&(e.align(this.alignOptions,null,n),n=e.alignAttr,e[!1===this.options.crop||i.isInsidePlot(n.x,n.y)?"show":"hide"](!0))},getStackBox:function(t,e,n,i,r,o,s){var a=e.axis.reversed,l=t.inverted;return t=s.height+s.pos-(l?t.plotLeft:t.plotTop),e=e.isNegative&&!a||!e.isNegative&&a,{x:l?e?i:i-o:n,y:l?t-n-r:e?t-i-o:t-i,width:l?o:r,height:l?r:o}}},n.prototype.getStacks=function(){var t=this;s(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),s(t.series,function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+c(e.options.stack,""))})},e.prototype.buildStacks=function(){var t,e=this.series,n=c(this.options.reversedStacks,!0),i=e.length;if(!this.isXAxis){for(this.usePercentage=!1,t=i;t--;)e[n?t:i-t-1].setStackedPoints();for(t=0;t<i;t++)e[t].modifyStacks()}},e.prototype.renderStackTotals=function(){var t=this.chart,e=t.renderer,n=this.stacks,i=this.stackTotalGroup;i||(this.stackTotalGroup=i=e.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),i.translate(t.plotLeft,t.plotTop),l(n,function(t){l(t,function(t){t.render(i)})})},e.prototype.resetStacks=function(){var t=this,e=t.stacks;t.isXAxis||l(e,function(e){l(e,function(n,i){n.touched<t.stacksTouched?(n.destroy(),delete e[i]):(n.total=null,n.cumulative=null)})})},e.prototype.cleanStacks=function(){var t;this.isXAxis||(this.oldStacks&&(t=this.stacks=this.oldStacks),l(t,function(t){l(t,function(t){t.cumulative=t.total})}))},u.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var e,n,o,s,a,l,u,d=this.processedXData,h=this.processedYData,p=[],f=h.length,m=this.options,g=m.threshold,v=c(m.startFromThreshold&&g,0),b=m.stack,m=m.stacking,y=this.stackKey,_="-"+y,w=this.negStacks,S=this.yAxis,E=S.stacks,x=S.oldStacks;for(S.stacksTouched+=1,a=0;a<f;a++)l=d[a],u=h[a],e=this.getStackIndicator(e,l,this.index),s=e.key,o=(n=w&&u<(v?0:g))?_:y,E[o]||(E[o]={}),E[o][l]||(x[o]&&x[o][l]?(E[o][l]=x[o][l],E[o][l].total=null):E[o][l]=new t.StackItem(S,S.options.stackLabels,n,l,b)),o=E[o][l],null!==u?(o.points[s]=o.points[this.index]=[c(o.cumulative,v)],r(o.cumulative)||(o.base=s),o.touched=S.stacksTouched,0<e.index&&!1===this.singleStacks&&(o.points[s][0]=o.points[this.index+","+l+",0"][0])):o.points[s]=o.points[this.index]=null,"percent"===m?(n=n?y:_,w&&E[n]&&E[n][l]?(n=E[n][l],o.total=n.total=Math.max(n.total,o.total)+Math.abs(u)||0):o.total=i(o.total+(Math.abs(u)||0))):o.total=i(o.total+(u||0)),o.cumulative=c(o.cumulative,v)+(u||0),null!==u&&(o.points[s].push(o.cumulative),p[a]=o.cumulative);"percent"===m&&(S.usePercentage=!0),this.stackedYData=p,S.oldStacks={}}},u.prototype.modifyStacks=function(){var t,e=this,n=e.stackKey,i=e.yAxis.stacks,r=e.processedXData,o=e.options.stacking;e[o+"Stacker"]&&s([n,"-"+n],function(n){for(var s,a,l=r.length;l--;)s=r[l],t=e.getStackIndicator(t,s,e.index,n),(a=(s=i[n]&&i[n][s])&&s.points[t.key])&&e[o+"Stacker"](a,s,l)})},u.prototype.percentStacker=function(t,e,n){e=e.total?100/e.total:0,t[0]=i(t[0]*e),t[1]=i(t[1]*e),this.stackedYData[n]=t[1]},u.prototype.getStackIndicator=function(t,e,n,i){return!r(t)||t.x!==e||i&&t.key!==i?t={x:e,index:0,key:i}:t.index++,t.key=[n,e,t.index].join(),t}}(e),function(t){var e=t.addEvent,n=t.animate,i=t.Axis,r=t.createElement,o=t.css,s=t.defined,a=t.each,l=t.erase,c=t.extend,u=t.fireEvent,d=t.inArray,h=t.isNumber,p=t.isObject,f=t.isArray,m=t.merge,g=t.objectEach,v=t.pick,b=t.Point,y=t.Series,_=t.seriesTypes,w=t.setAnimation,S=t.splat;c(t.Chart.prototype,{addSeries:function(t,e,n){var i,r=this;return t&&(e=v(e,!0),u(r,"addSeries",{options:t},function(){i=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),u(r,"afterAddSeries"),e&&r.redraw(n)})),i},addAxis:function(t,e,n,r){var o=e?"xAxis":"yAxis",s=this.options;return t=m(t,{index:this[o].length,isX:e}),e=new i(this,t),s[o]=S(s[o]||{}),s[o].push(t),v(n,!0)&&this.redraw(r),e},showLoading:function(t){var i=this,s=i.options,a=i.loadingDiv,l=s.loading,u=function(){a&&o(a,{left:i.plotLeft+"px",top:i.plotTop+"px",width:i.plotWidth+"px",height:i.plotHeight+"px"})};a||(i.loadingDiv=a=r("div",{className:"highcharts-loading highcharts-loading-hidden"},null,i.container),i.loadingSpan=r("span",{className:"highcharts-loading-inner"},null,a),e(i,"redraw",u)),a.className="highcharts-loading",i.loadingSpan.innerHTML=t||s.lang.loading,o(a,c(l.style,{zIndex:10})),o(i.loadingSpan,l.labelStyle),i.loadingShown||(o(a,{opacity:0,display:""}),n(a,{opacity:l.style.opacity||.5},{duration:l.showDuration||0})),i.loadingShown=!0,u()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",n(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){o(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" "),update:function(t,e,n,i){var r,o,l=this,c={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},p=t.chart,f=[];u(l,"update",{options:t}),p&&(m(!0,l.options.chart,p),"className"in p&&l.setClassName(p.className),"reflow"in p&&l.setReflow(p.reflow),("inverted"in p||"polar"in p||"type"in p)&&(l.propFromSeries(),r=!0),"alignTicks"in p&&(r=!0),g(p,function(t,e){-1!==d("chart."+e,l.propsRequireUpdateSeries)&&(o=!0),-1!==d(e,l.propsRequireDirtyBox)&&(l.isDirtyBox=!0)}),"style"in p&&l.renderer.setStyle(p.style)),t.colors&&(this.options.colors=t.colors),t.plotOptions&&m(!0,this.options.plotOptions,t.plotOptions),g(t,function(t,e){l[e]&&"function"==typeof l[e].update?l[e].update(t,!1):"function"==typeof l[c[e]]&&l[c[e]](t),"chart"!==e&&-1!==d(e,l.propsRequireUpdateSeries)&&(o=!0)}),a("xAxis yAxis zAxis series colorAxis pane".split(" "),function(e){var i;t[e]&&("series"===e&&(i=[],a(l[e],function(t,e){t.options.isInternal||i.push(e)})),a(S(t[e]),function(t,r){(r=s(t.id)&&l.get(t.id)||l[e][i?i[r]:r])&&r.coll===e&&(r.update(t,!1),n&&(r.touched=!0)),!r&&n&&("series"===e?l.addSeries(t,!1).touched=!0:"xAxis"!==e&&"yAxis"!==e||(l.addAxis(t,"xAxis"===e,!1).touched=!0))}),n&&a(l[e],function(t){t.touched||t.options.isInternal?delete t.touched:f.push(t)}))}),a(f,function(t){t.remove&&t.remove(!1)}),r&&a(l.axes,function(t){t.update({},!1)}),o&&a(l.series,function(t){t.update({},!1)}),t.loading&&m(!0,l.options.loading,t.loading),r=p&&p.width,p=p&&p.height,h(r)&&r!==l.chartWidth||h(p)&&p!==l.chartHeight?l.setSize(r,p,i):v(e,!0)&&l.redraw(i),u(l,"afterUpdate",{options:t})},setSubtitle:function(t){this.setTitle(void 0,t)}}),c(b.prototype,{update:function(t,e,n,i){function r(){s.applyOptions(t),null===s.y&&l&&(s.graphic=l.destroy()),p(t,!0)&&(l&&l.element&&t&&t.marker&&void 0!==t.marker.symbol&&(s.graphic=l.destroy()),t&&t.dataLabels&&s.dataLabel&&(s.dataLabel=s.dataLabel.destroy()),s.connector&&(s.connector=s.connector.destroy())),o=s.index,a.updateParallelArrays(s,o),u.data[o]=p(u.data[o],!0)||p(t,!0)?s.options:v(t,u.data[o]),a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===u.legendType&&(c.isDirtyLegend=!0),e&&c.redraw(n)}var o,s=this,a=s.series,l=s.graphic,c=a.chart,u=a.options;e=v(e,!0),!1===i?r():s.firePointEvent("update",{options:t},r)},remove:function(t,e){this.series.removePoint(d(this,this.series.data),t,e)}}),c(y.prototype,{addPoint:function(t,e,n,i){var r,o,s,a,l=this.options,c=this.data,u=this.chart,d=this.xAxis,d=d&&d.hasNames&&d.names,h=l.data,p=this.xData;if(e=v(e,!0),r={series:this},this.pointClass.prototype.applyOptions.apply(r,[t]),a=r.x,s=p.length,this.requireSorting&&a<p[s-1])for(o=!0;s&&p[s-1]>a;)s--;this.updateParallelArrays(r,"splice",s,0,0),this.updateParallelArrays(r,s),d&&r.name&&(d[a]=r.name),h.splice(s,0,t),o&&(this.data.splice(s,0,null),this.processData()),"point"===l.legendType&&this.generatePoints(),n&&(c[0]&&c[0].remove?c[0].remove(!1):(c.shift(),this.updateParallelArrays(r,"shift"),h.shift())),this.isDirtyData=this.isDirty=!0,e&&u.redraw(i)},removePoint:function(t,e,n){var i=this,r=i.data,o=r[t],s=i.points,a=i.chart,l=function(){s&&s.length===r.length&&s.splice(t,1),r.splice(t,1),i.options.data.splice(t,1),i.updateParallelArrays(o||{series:i},"splice",t,1),o&&o.destroy(),i.isDirty=!0,i.isDirtyData=!0,e&&a.redraw()};w(n,a),e=v(e,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(t,e,n){function i(){r.destroy(),r.remove=null,o.isDirtyLegend=o.isDirtyBox=!0,o.linkSeries(),v(t,!0)&&o.redraw(e)}var r=this,o=r.chart;!1!==n?u(r,"remove",null,i):i()},update:function(e,n){var i,r=this,o=r.chart,s=r.userOptions,l=r.oldType||r.type,h=e.type||s.type||o.options.chart.type,p=_[l].prototype,f=["group","markerGroup","dataLabelsGroup"],g=["navigatorSeries","baseSeries"],b=r.finishedAnimating&&{animation:!1},y=["data","name","turboThreshold"],w=t.keys(e),S=0<w.length;if(a(w,function(t){-1===d(t,y)&&(S=!1)}),S)e.data&&this.setData(e.data,!1),e.name&&this.setName(e.name,!1);else{g=f.concat(g),a(g,function(t){g[t]=r[t],delete r[t]}),e=m(s,b,{index:r.index,pointStart:v(s.pointStart,r.xData[0])},{data:r.options.data},e),r.remove(!1,null,!1);for(i in p)r[i]=void 0;_[h||l]?c(r,_[h||l].prototype):t.error(17,!0),a(g,function(t){r[t]=g[t]}),r.init(o,e),e.zIndex!==s.zIndex&&a(f,function(t){r[t]&&r[t].attr({zIndex:e.zIndex})}),r.oldType=l,o.linkSeries()}u(this,"afterUpdate"),v(n,!0)&&o.redraw(!!S&&void 0)},setName:function(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}}),c(i.prototype,{update:function(t,e){var n=this.chart,i=t&&t.events||{};t=m(this.userOptions,t),n.options[this.coll].indexOf&&(n.options[this.coll][n.options[this.coll].indexOf(this.userOptions)]=t),g(n.options[this.coll].events,function(t,e){void 0===i[e]&&(i[e]=void 0)}),this.destroy(!0),this.init(n,c(t,{events:i})),n.isDirtyBox=!0,v(e,!0)&&n.redraw()},remove:function(t){for(var e=this.chart,n=this.coll,i=this.series,r=i.length;r--;)i[r]&&i[r].remove(!1);l(e.axes,this),l(e[n],this),f(e.options[n])?e.options[n].splice(this.options.index,1):delete e.options[n],a(e[n],function(t,e){t.options.index=t.userOptions.index=e}),this.destroy(),e.isDirtyBox=!0,v(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})}(e),function(t){var e=t.color,n=t.each,i=t.map,r=t.pick,o=t.Series;(0,t.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(e){var o,s,a=[],l=[],c=this.xAxis,u=this.yAxis,d=u.stacks[this.stackKey],h={},p=this.index,f=u.series,m=f.length,g=r(u.options.reversedStacks,!0)?1:-1;if(e=e||this.points,this.options.stacking){for(s=0;s<e.length;s++)e[s].leftNull=e[s].rightNull=null,h[e[s].x]=e[s];t.objectEach(d,function(t,e){null!==t.total&&l.push(e)}),l.sort(function(t,e){return t-e}),o=i(f,function(){return this.visible}),n(l,function(t,e){var i,r,f=0;if(h[t]&&!h[t].isNull)a.push(h[t]),n([-1,1],function(n){var a=1===n?"rightNull":"leftNull",c=0,u=d[l[e+n]];if(u)for(s=p;0<=s&&s<m;)i=u.points[s],i||(s===p?h[t][a]=!0:o[s]&&(r=d[t].points[s])&&(c-=r[1]-r[0])),s+=g;h[t][1===n?"rightCliff":"leftCliff"]=c});else{for(s=p;0<=s&&s<m;){if(i=d[t].points[s]){f=i[1];break}s+=g}f=u.translate(f,0,1,0,1),a.push({isNull:!0,plotX:c.translate(t,0,0,0,1),x:t,plotY:f,yBottom:f})}})}return a},getGraphPath:function(t){var e,n,i,s,a=o.prototype.getGraphPath,l=this.options,c=l.stacking,u=this.yAxis,d=[],h=[],p=this.index,f=u.stacks[this.stackKey],m=l.threshold,g=u.getThreshold(l.threshold),l=l.connectNulls||"percent"===c,v=function(e,n,r){var o=t[e];e=c&&f[o.x].points[p];var s=o[r+"Null"]||0;r=o[r+"Cliff"]||0;var a,l,o=!0;r||s?(a=(s?e[0]:e[1])+r,l=e[0]+r,o=!!s):!c&&t[n]&&t[n].isNull&&(a=l=m),void 0!==a&&(h.push({plotX:i,plotY:null===a?g:u.getThreshold(a),isNull:o,isCliff:!0}),d.push({plotX:i,plotY:null===l?g:u.getThreshold(l),doCurve:!1}))};for(t=t||this.points,c&&(t=this.getStackPoints(t)),e=0;e<t.length;e++)n=t[e].isNull,i=r(t[e].rectPlotX,t[e].plotX),s=r(t[e].yBottom,g),(!n||l)&&(l||v(e,e-1,"left"),n&&!c&&l||(h.push(t[e]),d.push({x:e,plotX:i,plotY:s})),l||v(e,e+1,"right"));return e=a.call(this,h,!0,!0),d.reversed=!0,n=a.call(this,d,!0,!0),n.length&&(n[0]="L"),n=e.concat(n),a=a.call(this,h,!1,l),n.xMap=e.xMap,this.areaPath=n,a},drawGraph:function(){this.areaPath=[],o.prototype.drawGraph.apply(this);var t=this,i=this.areaPath,s=this.options,a=[["area","highcharts-area",this.color,s.fillColor]];n(this.zones,function(e,n){a.push(["zone-area-"+n,"highcharts-area highcharts-zone-area-"+n+" "+e.className,e.color||t.color,e.fillColor||s.fillColor])}),n(a,function(n){var o=n[0],a=t[o];a?(a.endX=t.preventGraphAnimation?null:i.xMap,a.animate({d:i})):(a=t[o]=t.chart.renderer.path(i).addClass(n[1]).attr({fill:r(n[3],e(n[2]).setOpacity(r(s.fillOpacity,.75)).get()),zIndex:0}).add(t.group),a.isArea=!0),a.startX=i.xMap,a.shiftUnit=s.step?2:1})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(e),function(t){var e=t.pick;(t=t.seriesType)("spline","line",{},{getPointSpline:function(t,n,i){var r=n.plotX,o=n.plotY,s=t[i-1];i=t[i+1];var a,l,c,u;if(s&&!s.isNull&&!1!==s.doCurve&&!n.isCliff&&i&&!i.isNull&&!1!==i.doCurve&&!n.isCliff){t=s.plotY,c=i.plotX,i=i.plotY;var d=0;a=(1.5*r+s.plotX)/2.5,l=(1.5*o+t)/2.5,c=(1.5*r+c)/2.5,u=(1.5*o+i)/2.5,c!==a&&(d=(u-l)*(c-r)/(c-a)+o-u),l+=d,u+=d,l>t&&l>o?(l=Math.max(t,o),u=2*o-l):l<t&&l<o&&(l=Math.min(t,o),u=2*o-l),u>i&&u>o?(u=Math.max(i,o),l=2*o-u):u<i&&u<o&&(u=Math.min(i,o),l=2*o-u),n.rightContX=c,n.rightContY=u}return n=["C",e(s.rightContX,s.plotX),e(s.rightContY,s.plotY),e(a,r),e(l,o),r,o],s.rightContX=s.rightContY=null,n}})}(e),function(t){var e=t.seriesTypes.area.prototype;(0,t.seriesType)("areaspline","spline",t.defaultPlotOptions.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,drawGraph:e.drawGraph,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(e),function(t){var e=t.animObject,n=t.color,i=t.each,r=t.extend,o=t.defined,s=t.isNumber,a=t.merge,l=t.pick,c=t.Series,u=t.seriesType,d=t.svg;u("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){c.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&i(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,n=e.options,r=e.xAxis,o=e.yAxis,s=r.options.reversedStacks,s=r.reversed&&!s||!r.reversed&&s,a={},c=0;!1===n.grouping?c=1:i(e.chart.series,function(n){var i,r=n.options,s=n.yAxis;n.type!==e.type||!n.visible&&e.chart.options.chart.ignoreHiddenSeries||o.len!==s.len||o.pos!==s.pos||(r.stacking?(t=n.stackKey,void 0===a[t]&&(a[t]=c++),i=a[t]):!1!==r.grouping&&(i=c++),n.columnIndex=i)});var u=Math.min(Math.abs(r.transA)*(r.ordinalSlope||n.pointRange||r.closestPointRange||r.tickInterval||1),r.len),d=u*n.groupPadding,h=(u-2*d)/(c||1),n=Math.min(n.maxPointWidth||r.len,l(n.pointWidth,h*(1-2*n.pointPadding)));return e.columnMetrics={width:n,offset:(h-n)/2+(d+((e.columnIndex||0)+(s?1:0))*h-u/2)*(s?-1:1)},e.columnMetrics},crispCol:function(t,e,n,i){var r=this.chart,o=this.borderWidth,s=-(o%2?.5:0),o=o%2?.5:1;return r.inverted&&r.renderer.isVML&&(o+=1),this.options.crisp&&(n=Math.round(t+n)+s,t=Math.round(t)+s,n-=t),i=Math.round(e+i)+o,s=.5>=Math.abs(e)&&.5<i,e=Math.round(e)+o,i-=e,s&&i&&(--e,i+=1),{x:t,y:e,width:n,height:i}},translate:function(){var t=this,e=t.chart,n=t.options,r=t.dense=2>t.closestPointRange*t.xAxis.transA,r=t.borderWidth=l(n.borderWidth,r?0:1),s=t.yAxis,a=n.threshold,u=t.translatedThreshold=s.getThreshold(a),d=l(n.minPointLength,5),h=t.getColumnMetrics(),p=h.width,f=t.barW=Math.max(p,1+2*r),m=t.pointXOffset=h.offset;e.inverted&&(u-=.5),n.pointPadding&&(f=Math.ceil(f)),c.prototype.translate.apply(t),i(t.points,function(n){var i,r=l(n.yBottom,u),c=999+Math.abs(r),h=p,c=Math.min(Math.max(-c,n.plotY),s.len+c),g=n.plotX+m,v=f,b=Math.min(c,r),y=Math.max(c,r)-b;d&&Math.abs(y)<d&&(y=d,i=!s.reversed&&!n.negative||s.reversed&&n.negative,n.y===a&&t.dataMax<=a&&s.min<a&&(i=!i),b=Math.abs(b-u)>d?r-d:u-(i?d:0)),o(n.options.pointWidth)&&(h=v=Math.ceil(n.options.pointWidth),g-=Math.round((h-p)/2)),n.barX=g,n.pointWidth=h,n.tooltipPos=e.inverted?[s.len+s.pos-e.plotLeft-c,t.xAxis.len-g-v/2,y]:[g+v/2,c+s.pos-e.plotTop,y],n.shapeType="rect",n.shapeArgs=t.crispCol.apply(t,n.isNull?[g,u,v,0]:[g,b,v,y])})},getSymbol:t.noop,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var i,r=this.options,o=this.pointAttrToOptions||{};i=o.stroke||"borderColor";var s=o["stroke-width"]||"borderWidth",l=t&&t.color||this.color,c=t&&t[i]||r[i]||this.color||l,u=t&&t[s]||r[s]||this[s]||0,o=r.dashStyle;return t&&this.zones.length&&(l=t.getZone(),l=t.options.color||l&&l.color||this.color),e&&(t=a(r.states[e],t.options.states&&t.options.states[e]||{}),e=t.brightness,l=t.color||void 0!==e&&n(l).brighten(t.brightness).get()||l,c=t[i]||c,u=t[s]||u,o=t.dashStyle||o),i={fill:l,stroke:c,"stroke-width":u},o&&(i.dashstyle=o),i},drawPoints:function(){var t,e=this,n=this.chart,r=e.options,o=n.renderer,l=r.animationLimit||250;i(e.points,function(i){var c=i.graphic,u=c&&n.pointCount<l?"animate":"attr";s(i.plotY)&&null!==i.y?(t=i.shapeArgs,c?c[u](a(t)):i.graphic=c=o[i.shapeType](t).add(i.group||e.group),r.borderRadius&&c.attr({r:r.borderRadius}),c[u](e.pointAttribs(i,i.selected&&"select")).shadow(r.shadow,null,r.stacking&&!r.borderRadius),c.addClass(i.getClassName(),!0)):c&&(i.graphic=c.destroy())})},animate:function(t){var n,i=this,o=this.yAxis,s=i.options,a=this.chart.inverted,l={},c=a?"translateX":"translateY";d&&(t?(l.scaleY=.001,t=Math.min(o.pos+o.len,Math.max(o.pos,o.toPixels(s.threshold))),a?l.translateX=t-o.len:l.translateY=t,i.group.attr(l)):(n=i.group.attr(c),i.group.animate({scaleY:1},r(e(i.options.animation),{step:function(t,e){l[c]=n+e.pos*(o.pos-n),i.group.attr(l)}})),i.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&i(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),c.prototype.remove.apply(t,arguments)}})}(e),function(t){(t=t.seriesType)("bar","column",null,{inverted:!0})}(e),function(t){var e=t.Series;(t=t.seriesType)("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)}})}(e),function(t){var e=t.deg2rad,n=t.isNumber,i=t.pick,r=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t,e,n=this.options,o=this.chart,s=2*(n.slicedOffset||0),a=o.plotWidth-2*s,o=o.plotHeight-2*s,l=n.center,l=[i(l[0],"50%"),i(l[1],"50%"),n.size||"100%",n.innerSize||0],c=Math.min(a,o);for(t=0;4>t;++t)e=l[t],n=2>t||2===t&&/%$/.test(e),l[t]=r(e,[a,o,c,l[2]][t])+(n?s:0);return l[3]>l[2]&&(l[3]=l[2]),l},getStartAndEndRadians:function(t,i){return t=n(t)?t:0,i=n(i)&&i>t&&360>i-t?i:t+360,{start:e*(t+-90),end:e*(i+-90)}}}}(e),function(t){var e=t.addEvent,n=t.CenteredSeriesMixin,i=t.defined,r=t.each,o=t.extend,s=n.getStartAndEndRadians,a=t.inArray,l=t.noop,c=t.pick,u=t.Point,d=t.Series,h=t.seriesType,p=t.setAnimation;h("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:t.seriesTypes.column.prototype.pointAttribs,animate:function(t){var e=this,n=e.points,i=e.startAngleRad;t||(r(n,function(t){var n=t.graphic,r=t.shapeArgs;n&&(n.attr({r:t.startR||e.center[3]/2,start:i,end:i}),n.animate({r:r.r,start:r.start,end:r.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,n=0,i=this.points,r=i.length,o=this.options.ignoreHiddenPoint;for(t=0;t<r;t++)e=i[t],n+=o&&!e.visible?0:e.isNull?0:e.y;for(this.total=n,t=0;t<r;t++)e=i[t],e.percentage=0<n&&(e.visible||!o)?e.y/n*100:0,e.total=n},generatePoints:function(){d.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,n,i,r,o,a,l=0,u=this.options,d=u.slicedOffset,h=d+(u.borderWidth||0),p=s(u.startAngle,u.endAngle),f=this.startAngleRad=p.start,p=(this.endAngleRad=p.end)-f,m=this.points,g=u.dataLabels.distance,u=u.ignoreHiddenPoint,v=m.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,n,r){return i=Math.asin(Math.min((e-t[1])/(t[2]/2+r.labelDistance),1)),t[0]+(n?-1:1)*Math.cos(i)*(t[2]/2+r.labelDistance)},o=0;o<v;o++)a=m[o],a.labelDistance=c(a.options.dataLabels&&a.options.dataLabels.distance,g),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,a.labelDistance),e=f+l*p,u&&!a.visible||(l+=a.percentage/100),n=f+l*p,a.shapeType="arc",a.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*e)/1e3,end:Math.round(1e3*n)/1e3},i=(n+e)/2,i>1.5*Math.PI?i-=2*Math.PI:i<-Math.PI/2&&(i+=2*Math.PI),a.slicedTranslation={translateX:Math.round(Math.cos(i)*d),translateY:Math.round(Math.sin(i)*d)},n=Math.cos(i)*t[2]/2,r=Math.sin(i)*t[2]/2,a.tooltipPos=[t[0]+.7*n,t[1]+.7*r],a.half=i<-Math.PI/2||i>Math.PI/2?1:0,a.angle=i,e=Math.min(h,a.labelDistance/5),a.labelPos=[t[0]+n+Math.cos(i)*a.labelDistance,t[1]+r+Math.sin(i)*a.labelDistance,t[0]+n+Math.cos(i)*e,t[1]+r+Math.sin(i)*e,t[0]+n,t[1]+r,0>a.labelDistance?"center":a.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var t,e,n,i,s=this,a=s.chart.renderer,l=s.options.shadow;l&&!s.shadowGroup&&(s.shadowGroup=a.g("shadow").add(s.group)),r(s.points,function(r){if(e=r.graphic,r.isNull)e&&(r.graphic=e.destroy());else{i=r.shapeArgs,t=r.getTranslate();var c=r.shadowGroup;l&&!c&&(c=r.shadowGroup=a.g("shadow").add(s.shadowGroup)),c&&c.attr(t),n=s.pointAttribs(r,r.selected&&"select"),e?e.setRadialReference(s.center).attr(n).animate(o(i,t)):(r.graphic=e=a[r.shapeType](i).setRadialReference(s.center).attr(t).add(s.group),e.attr(n).attr({"stroke-linejoin":"round"}).shadow(l,c)),e.attr({visibility:r.visible?"inherit":"hidden"}),e.addClass(r.getClassName())}})},searchPoint:l,sortByAngle:function(t,e){t.sort(function(t,n){return void 0!==t.angle&&(n.angle-t.angle)*e})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getCenter:n.getCenter,getSymbol:l},{init:function(){u.prototype.init.apply(this,arguments);var t,n=this;return n.name=c(n.name,"Slice"),t=function(t){n.slice("select"===t.type)},e(n,"select",t),e(n,"unselect",t),n},isValid:function(){return t.isNumber(this.y,!0)&&0<=this.y},setVisible:function(t,e){var n=this,i=n.series,o=i.chart,s=i.options.ignoreHiddenPoint;e=c(e,s),t!==n.visible&&(n.visible=n.options.visible=t=void 0===t?!n.visible:t,i.options.data[a(n,i.data)]=n.options,r(["graphic","dataLabel","connector","shadowGroup"],function(e){n[e]&&n[e][t?"show":"hide"](!0)}),n.legendItem&&o.legend.colorizeItem(n,t),t||"hover"!==n.state||n.setState(""),s&&(i.isDirty=!0),e&&o.redraw())},slice:function(t,e,n){var r=this.series;p(n,r.chart),c(e,!0),this.sliced=this.options.sliced=i(t)?t:!this.sliced,r.options.data[a(this,r.data)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r-1,start:e.start,end:e.end})}})}(e),function(t){var e=t.addEvent,n=t.arrayMax,i=t.defined,r=t.each,o=t.extend,s=t.format,a=t.map,l=t.merge,c=t.noop,u=t.pick,d=t.relativeLength,h=t.Series,p=t.seriesTypes,f=t.some,m=t.stableSort,g=t.isArray,v=t.splat;t.distribute=function(e,n,i){function o(t,e){return t.target-e.target}var s,l,c=!0,d=e,h=[];l=0;var p=d.reducedLen||n;for(s=e.length;s--;)l+=e[s].size;if(l>p){for(m(e,function(t,e){return(e.rank||0)-(t.rank||0)}),l=s=0;l<=p;)l+=e[s].size,s++;h=e.splice(s-1,e.length)}for(m(e,o),e=a(e,function(t){return{size:t.size,targets:[t.target],align:u(t.align,.5)}});c;){for(s=e.length;s--;)c=e[s],l=(Math.min.apply(0,c.targets)+Math.max.apply(0,c.targets))/2,c.pos=Math.min(Math.max(0,l-c.size*c.align),n-c.size);for(s=e.length,c=!1;s--;)0<s&&e[s-1].pos+e[s-1].size>e[s].pos&&(e[s-1].size+=e[s].size,e[s-1].targets=e[s-1].targets.concat(e[s].targets),e[s-1].align=.5,e[s-1].pos+e[s-1].size>n&&(e[s-1].pos=n-e[s-1].size),e.splice(s,1),c=!0)}d.push.apply(d,h),s=0,f(e,function(e){var o=0;if(f(e.targets,function(){if(d[s].pos=e.pos+o,Math.abs(d[s].pos-d[s].target)>i)return r(d.slice(0,s+1),function(t){delete t.pos}),d.reducedLen=(d.reducedLen||n)-.1*n,d.reducedLen>.1*n&&t.distribute(d,n,i),!0;o+=d[s].size,s++}))return!0}),m(d,o)},h.prototype.drawDataLabels=function(){function n(t,e){var n=e.filter;return!n||(e=n.operator,t=t[n.property],n=n.value,">"===e&&t>n||"<"===e&&t<n||">="===e&&t>=n||"<="===e&&t<=n||"=="===e&&t==n||"==="===e&&t===n)}function o(t,e){var n,i=[];if(g(t)&&!g(e))i=a(t,function(t){return l(t,e)});else if(g(e)&&!g(t))i=a(e,function(e){return l(t,e)});else if(g(t)||g(e))for(n=Math.max(t.length,e.length);n--;)i[n]=l(t[n],e[n]);else i=l(t,e);return i}var c,d,h=this,p=h.chart,f=h.options,m=f.dataLabels,b=h.points,y=h.hasRendered||0,_=u(m.defer,!!f.animation),w=p.renderer,m=o(o(p.options.plotOptions&&p.options.plotOptions.series&&p.options.plotOptions.series.dataLabels,p.options.plotOptions&&p.options.plotOptions[h.type]&&p.options.plotOptions[h.type].dataLabels),m);(g(m)||m.enabled||h._hasPointLabels)&&(d=h.plotGroup("dataLabelsGroup","data-labels",_&&!y?"hidden":"visible",m.zIndex||6),_&&(d.attr({opacity:+y}),y||e(h,"afterAnimate",function(){h.visible&&d.show(!0),d[f.animation?"animate":"attr"]({opacity:1},{duration:200})})),r(b,function(e){c=v(o(m,e.dlOptions||e.options&&e.options.dataLabels)),r(c,function(r,o){var a,l,c,m,g=r.enabled&&!e.isNull&&n(e,r),v=e.dataLabels?e.dataLabels[o]:e.dataLabel,b=e.connectors?e.connectors[o]:e.connector,y=!v;g&&(a=e.getLabelConfig(),l=r[e.formatPrefix+"Format"]||r.format,a=i(l)?s(l,a,p.time):(r[e.formatPrefix+"Formatter"]||r.formatter).call(a,r),l=r.style,c=r.rotation,l.color=u(r.color,l.color,h.color,"#000000"),"contrast"===l.color&&(e.contrastColor=w.getContrast(e.color||h.color),l.color=r.inside||0>u(r.distance,e.labelDistance)||f.stacking?e.contrastColor:"#000000"),f.cursor&&(l.cursor=f.cursor),m={fill:r.backgroundColor,stroke:r.borderColor,"stroke-width":r.borderWidth,r:r.borderRadius||0,rotation:c,padding:r.padding,zIndex:1},t.objectEach(m,function(t,e){void 0===t&&delete m[e]})),!v||g&&i(a)?g&&i(a)&&(v?m.text=a:(e.dataLabels=e.dataLabels||[],v=e.dataLabels[o]=c?w.text(a,0,-9999).addClass("highcharts-data-label"):w.label(a,0,-9999,r.shape,null,null,r.useHTML,null,"data-label"),o||(e.dataLabel=v),v.addClass(" highcharts-data-label-color-"+e.colorIndex+" "+(r.className||"")+(r.useHTML?" highcharts-tracker":""))),v.options=r,v.attr(m),v.css(l).shadow(r.shadow),v.added||v.add(d),h.alignDataLabel(e,v,r,null,y)):(e.dataLabel=e.dataLabel.destroy(),e.dataLabels&&(1===e.dataLabels.length?delete e.dataLabels:delete e.dataLabels[o]),o||delete e.dataLabel,b&&(e.connector=e.connector.destroy(),e.connectors&&(1===e.connectors.length?delete e.connectors:delete e.connectors[o])))})})),t.fireEvent(this,"afterDrawDataLabels")},h.prototype.alignDataLabel=function(t,e,n,i,r){var s,a=this.chart,l=a.inverted,c=u(t.dlBox&&t.dlBox.centerX,t.plotX,-9999),d=u(t.plotY,-9999),h=e.getBBox(),p=n.rotation,f=n.align,m=this.visible&&(t.series.forceDL||a.isInsidePlot(c,Math.round(d),l)||i&&a.isInsidePlot(c,l?i.x+1:i.y+i.height-1,l)),g="justify"===u(n.overflow,"justify");m&&(s=n.style.fontSize,s=a.renderer.fontMetrics(s,e).b,i=o({x:l?this.yAxis.len-d:c,y:Math.round(l?this.xAxis.len-c:d),width:0,height:0},i),o(n,{width:h.width,height:h.height}),p?(g=!1,c=a.renderer.rotCorr(s,p),c={x:i.x+n.x+i.width/2+c.x,y:i.y+n.y+{top:0,middle:.5,bottom:1}[n.verticalAlign]*i.height},e[r?"attr":"animate"](c).attr({align:f}),d=(p+720)%360,d=180<d&&360>d,"left"===f?c.y-=d?h.height:0:"center"===f?(c.x-=h.width/2,c.y-=h.height/2):"right"===f&&(c.x-=h.width,c.y-=d?0:h.height),e.placed=!0,e.alignAttr=c):(e.align(n,null,i),c=e.alignAttr),g&&0<=i.height?t.isLabelJustified=this.justifyDataLabel(e,n,c,h,i,r):u(n.crop,!0)&&(m=a.isInsidePlot(c.x,c.y)&&a.isInsidePlot(c.x+h.width,c.y+h.height)),n.shape&&!p)&&e[r?"attr":"animate"]({anchorX:l?a.plotWidth-t.plotY:t.plotX,anchorY:l?a.plotHeight-t.plotX:t.plotY}),m||(e.attr({y:-9999}),e.placed=!1)},h.prototype.justifyDataLabel=function(t,e,n,i,r,o){var s,a,l=this.chart,c=e.align,u=e.verticalAlign,d=t.box?0:t.padding||0;return s=n.x+d,0>s&&("right"===c?e.align="left":e.x=-s,a=!0),s=n.x+i.width-d,s>l.plotWidth&&("left"===c?e.align="right":e.x=l.plotWidth-s,a=!0),s=n.y+d,0>s&&("bottom"===u?e.verticalAlign="top":e.y=-s,a=!0),s=n.y+i.height-d,s>l.plotHeight&&("top"===u?e.verticalAlign="bottom":e.y=l.plotHeight-s,a=!0),a&&(t.placed=!o,t.align(e,null,r)),a},p.pie&&(p.pie.prototype.drawDataLabels=function(){var e,o,s,a,l,c,d,p,f,m,g=this,v=g.data,b=g.chart,y=g.options.dataLabels,_=u(y.connectorPadding,10),w=u(y.connectorWidth,1),S=b.plotWidth,E=b.plotHeight,x=Math.round(b.chartWidth/3),C=g.center,T=C[2]/2,k=C[1],O=[[],[]],P=[0,0,0,0];g.visible&&(y.enabled||g._hasPointLabels)&&(r(v,function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)}),h.prototype.drawDataLabels.apply(g),r(v,function(t){t.dataLabel&&(t.visible?(O[t.half].push(t),t.dataLabel._pos=null,!i(y.style.width)&&!i(t.options.dataLabels&&t.options.dataLabels.style&&t.options.dataLabels.style.width)&&t.dataLabel.getBBox().width>x&&(t.dataLabel.css({width:.7*x}),t.dataLabel.shortened=!0)):(t.dataLabel=t.dataLabel.destroy(),t.dataLabels&&1===t.dataLabels.length&&delete t.dataLabels))}),r(O,function(n,o){var h,v,w,x=n.length,O=[];if(x)for(g.sortByAngle(n,o-.5),0<g.maxLabelDistance&&(h=Math.max(0,k-T-g.maxLabelDistance),v=Math.min(k+T+g.maxLabelDistance,b.plotHeight),r(n,function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,k-T-t.labelDistance),t.bottom=Math.min(k+T+t.labelDistance,b.plotHeight),w=t.dataLabel.getBBox().height||21,t.distributeBox={target:t.labelPos[1]-t.top+w/2,size:w,rank:t.y},O.push(t.distributeBox))}),h=v+w-h,t.distribute(O,h,h/5)),m=0;m<x;m++)e=n[m],l=e.labelPos,s=e.dataLabel,f=!1===e.visible?"hidden":"inherit",p=h=l[1],O&&i(e.distributeBox)&&(void 0===e.distributeBox.pos?f="hidden":(c=e.distributeBox.size,p=e.top+e.distributeBox.pos)),delete e.positionIndex,d=y.justify?C[0]+(o?-1:1)*(T+e.labelDistance):g.getX(p<e.top+2||p>e.bottom-2?h:p,o,e),s._attr={visibility:f,align:l[6]},s._pos={x:d+y.x+({left:_,right:-_}[l[6]]||0),y:p+y.y-10},l.x=d,l.y=p,u(y.crop,!0)&&(a=s.getBBox().width,h=null,d-a<_&&1===o?(h=Math.round(a-d+_),P[3]=Math.max(h,P[3])):d+a>S-_&&0===o&&(h=Math.round(d+a-S+_),P[1]=Math.max(h,P[1])),0>p-c/2?P[0]=Math.max(Math.round(c/2-p),P[0]):p+c/2>E&&(P[2]=Math.max(Math.round(p+c/2-E),P[2])),s.sideOverflow=h)}),0===n(P)||this.verifyDataLabelOverflow(P))&&(this.placeDataLabels(),w&&r(this.points,function(t){var e;o=t.connector,(s=t.dataLabel)&&s._pos&&t.visible&&0<t.labelDistance?(f=s._attr.visibility,(e=!o)&&(t.connector=o=b.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+t.colorIndex+(t.className?" "+t.className:"")).add(g.dataLabelsGroup),o.attr({"stroke-width":w,stroke:y.connectorColor||t.color||"#666666"})),o[e?"attr":"animate"]({d:g.connectorPath(t.labelPos)}),o.attr("visibility",f)):o&&(t.connector=o.destroy())}))},p.pie.prototype.connectorPath=function(t){var e=t.x,n=t.y;return u(this.options.dataLabels.softConnector,!0)?["M",e+("left"===t[6]?5:-5),n,"C",e,n,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],"L",t[4],t[5]]:["M",e+("left"===t[6]?5:-5),n,"L",t[2],t[3],"L",t[4],t[5]]},p.pie.prototype.placeDataLabels=function(){r(this.points,function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.sideOverflow&&(e._attr.width=e.getBBox().width-e.sideOverflow,e.css({width:e._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),e.shortened=!0),e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))},this)},p.pie.prototype.alignDataLabel=c,p.pie.prototype.verifyDataLabelOverflow=function(t){var e,n=this.center,i=this.options,r=i.center,o=i.minSize||80,s=null!==i.size;return s||(null!==r[0]?e=Math.max(n[2]-Math.max(t[1],t[3]),o):(e=Math.max(n[2]-t[1]-t[3],o),n[0]+=(t[3]-t[1])/2),null!==r[1]?e=Math.max(Math.min(e,n[2]-Math.max(t[0],t[2])),o):(e=Math.max(Math.min(e,n[2]-t[0]-t[2]),o),n[1]+=(t[0]-t[2])/2),e<n[2]?(n[2]=e,n[3]=Math.min(d(i.innerSize||0,e),e),this.translate(n),this.drawDataLabels&&this.drawDataLabels()):s=!0),s}),p.column&&(p.column.prototype.alignDataLabel=function(t,e,n,i,r){var o=this.chart.inverted,s=t.series,a=t.dlBox||t.shapeArgs,c=u(t.below,t.plotY>u(this.translatedThreshold,s.yAxis.len)),d=u(n.inside,!!this.options.stacking);a&&(i=l(a),0>i.y&&(i.height+=i.y,i.y=0),a=i.y+i.height-s.yAxis.len,0<a&&(i.height-=a),o&&(i={x:s.yAxis.len-i.y-i.height,y:s.xAxis.len-i.x-i.width,width:i.height,height:i.width}),d||(o?(i.x+=c?0:i.width,i.width=0):(i.y+=c?i.height:0,i.height=0))),n.align=u(n.align,!o||d?"center":c?"right":"left"),n.verticalAlign=u(n.verticalAlign,o||d?"middle":c?"top":"bottom"),h.prototype.alignDataLabel.call(this,t,e,n,i,r),t.isLabelJustified&&t.contrastColor&&e.css({color:t.contrastColor})})}(e),function(t){var e=t.Chart,n=t.each,i=t.isArray,r=t.objectEach,o=t.pick;t=t.addEvent,t(e,"render",function(){var t=[];n(this.labelCollectors||[],function(e){t=t.concat(e())}),n(this.yAxis||[],function(e){e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&r(e.stacks,function(e){r(e,function(e){t.push(e.label)})})}),n(this.series||[],function(e){var r=e.options.dataLabels;e.visible&&(!1!==r.enabled||e._hasPointLabels)&&n(e.points,function(e){if(e.visible){var r=i(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[];n(r,function(n){var i=n.options;n.labelrank=o(i.labelrank,e.labelrank,e.shapeArgs&&e.shapeArgs.height),i.allowOverlap||t.push(n)})}})}),this.hideOverlappingLabels(t)}),e.prototype.hideOverlappingLabels=function(t){var e,i,r,o,s,a,l=t.length,c=this.renderer;for(r=function(t){var e,n,i,r=t.box?0:t.padding||0;if(i=0,t&&(!t.alignAttr||t.placed))return e=t.alignAttr||{x:t.attr("x"),y:t.attr("y")},n=t.parentGroup,t.width||(i=t.getBBox(),t.width=i.width,t.height=i.height,i=c.fontMetrics(null,t.element).h),{x:e.x+(n.translateX||0)+r,y:e.y+(n.translateY||0)+r-i,width:t.width-2*r,height:t.height-2*r}},i=0;i<l;i++)(e=t[i])&&(e.oldOpacity=e.opacity,e.newOpacity=1,e.absoluteBox=r(e));for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),i=0;i<l;i++)for(a=(r=t[i])&&r.absoluteBox,e=i+1;e<l;++e)s=(o=t[e])&&o.absoluteBox,a&&s&&r!==o&&0!==r.newOpacity&&0!==o.newOpacity&&(s=function(t,e,n,i,r,o,s,a){return!(r>t+n||r+s<t||o>e+i||o+a<e)}(a.x,a.y,a.width,a.height,s.x,s.y,s.width,s.height))&&((r.labelrank<o.labelrank?r:o).newOpacity=0);n(t,function(t){var e,n;t&&(n=t.newOpacity,t.oldOpacity!==n&&(t.alignAttr&&t.placed?(n?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=n,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)):t.attr({opacity:n})),t.isOld=!0)})}}(e),function(t){var e,n=t.addEvent,i=t.Chart,r=t.createElement,o=t.css,s=t.defaultOptions,a=t.defaultPlotOptions,l=t.each,c=t.extend,u=t.fireEvent,d=t.hasTouch,h=t.inArray,p=t.isObject,f=t.Legend,m=t.merge,g=t.pick,v=t.Point,b=t.Series,y=t.seriesTypes,_=t.svg;e=t.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart.pointer,n=function(t){var n=e.getPointFromEvent(t);void 0!==n&&(e.isDirectTouch=!0,n.onMouseOver(t))};l(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.div?t.dataLabel.div.point=t:t.dataLabel.element.point=t)}),t._hasTracking||(l(t.trackerGroups,function(i){t[i]&&(t[i].addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(t){e.onTrackerMouseOut(t)}),d&&t[i].on("touchstart",n),t.options.cursor&&t[i].css(o).css({cursor:t.options.cursor}))}),t._hasTracking=!0),u(this,"afterDrawTracker")},drawTrackerGraph:function(){var t,e=this,n=e.options,i=n.trackByArea,r=[].concat(i?e.areaPath:e.graphPath),o=r.length,s=e.chart,a=s.pointer,c=s.renderer,h=s.options.tooltip.snap,p=e.tracker,f=function(){s.hoverSeries!==e&&e.onMouseOver()},m="rgba(192,192,192,"+(_?1e-4:.002)+")";if(o&&!i)for(t=o+1;t--;)"M"===r[t]&&r.splice(t+1,0,r[t+1]-h,r[t+2],"L"),(t&&"M"===r[t]||t===o)&&r.splice(t,0,"L",r[t-2]+h,r[t-1]);p?p.attr({d:r}):e.graph&&(e.tracker=c.path(r).attr({"stroke-linejoin":"round",stroke:m,fill:i?m:"none","stroke-width":e.graph.strokeWidth()+(i?0:2*h),visibility:e.visible?"visible":"hidden",zIndex:2}).addClass(i?"highcharts-tracker-area":"highcharts-tracker-line").add(e.group),l([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(t){a.onTrackerMouseOut(t)}),n.cursor&&t.css({cursor:n.cursor}),d&&t.on("touchstart",f)})),u(this,"afterDrawTracker")}},y.column&&(y.column.prototype.drawTracker=e.drawTrackerPoint),y.pie&&(y.pie.prototype.drawTracker=e.drawTrackerPoint),y.scatter&&(y.scatter.prototype.drawTracker=e.drawTrackerPoint),s.legend.itemStyle.cursor="pointer",c(f.prototype,{setItemEvents:function(t,e,n){var i=this,r=i.chart.renderer.boxWrapper,o="highcharts-legend-"+(t instanceof v?"point":"series")+"-active";(n?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),r.addClass(o),e.css(i.options.itemHoverStyle)}).on("mouseout",function(){e.css(m(t.visible?i.itemStyle:i.itemHiddenStyle)),r.removeClass(o),t.setState()}).on("click",function(e){var n=function(){t.setVisible&&t.setVisible()};r.removeClass(o),e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,n):u(t,"legendItemClick",e,n)})},createCheckboxForItem:function(t){t.checkbox=r("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),n(t.checkbox,"click",function(e){u(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),c(i.prototype,{showResetZoom:function(){function t(){e.zoomOut()}var e=this,n=s.lang,i=e.options.chart.resetZoomButton,r=i.theme,o=r.states,a="chart"===i.relativeTo?null:"plotBox";u(this,"beforeShowResetZoom",null,function(){e.resetZoomButton=e.renderer.button(n.resetZoom,null,null,t,r,o&&o.hover).attr({align:i.position.align,title:n.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(i.position,!1,a)})},zoomOut:function(){u(this,"selection",{resetSelection:!0},this.zoom)},zoom:function(t){var e,n,i=this.pointer,r=!1;!t||t.resetSelection?(l(this.axes,function(t){e=t.zoom()}),i.initiated=!1):l(t.xAxis.concat(t.yAxis),function(t){var n=t.axis;i[n.isXAxis?"zoomX":"zoomY"]&&(e=n.zoom(t.min,t.max),n.displayBtn&&(r=!0))}),n=this.resetZoomButton,r&&!n?this.showResetZoom():!r&&p(n)&&(this.resetZoomButton=n.destroy()),e&&this.redraw(g(this.options.chart.animation,t&&t.animation,100>this.pointCount))},pan:function(t,e){var n,i=this,r=i.hoverPoints;r&&l(r,function(t){t.setState()}),l("xy"===e?[1,0]:[1],function(e){e=i[e?"xAxis":"yAxis"][0];var r=e.horiz,o=t[r?"chartX":"chartY"],r=r?"mouseDownX":"mouseDownY",s=i[r],a=(e.pointRange||0)/2,l=e.reversed&&!i.inverted||!e.reversed&&i.inverted?-1:1,c=e.getExtremes(),u=e.toValue(s-o,!0)+a*l,l=e.toValue(s+e.len-o,!0)-a*l,d=l<u,s=d?l:u,u=d?u:l,l=Math.min(c.dataMin,a?c.min:e.toValue(e.toPixels(c.min)-e.minPixelPadding)),a=Math.max(c.dataMax,a?c.max:e.toValue(e.toPixels(c.max)+e.minPixelPadding)),d=l-s;0<d&&(u+=d,s=l),d=u-a,0<d&&(u=a,s-=d),e.series.length&&s!==c.min&&u!==c.max&&(e.setExtremes(s,u,!1,!1,{trigger:"pan"}),n=!0),i[r]=o}),n&&i.redraw(!1),o(i.container,{cursor:"move"})}}),c(v.prototype,{select:function(t,e){var n=this,i=n.series,r=i.chart;t=g(t,!n.selected),n.firePointEvent(t?"select":"unselect",{accumulate:e},function(){n.selected=n.options.selected=t,i.options.data[h(n,i.data)]=n.options,n.setState(t&&"select"),e||l(r.getSelectedPoints(),function(t){t.selected&&t!==n&&(t.selected=t.options.selected=!1,i.options.data[h(t,i.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this.series.chart,n=e.pointer;t=t?n.normalize(t):n.getChartCoordinatesFromPoint(this,e.inverted),n.runPointActions(t,this)},onMouseOut:function(){var t=this.series.chart;this.firePointEvent("mouseOut"),l(t.hoverPoints||[],function(t){t.setState()}),t.hoverPoints=t.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,i=m(e.series.options.point,e.options).events;e.events=i,t.objectEach(i,function(t,i){n(e,i,t)}),this.hasImportedEvents=!0}},setState:function(t,e){var n,i=Math.floor(this.plotX),r=this.plotY,o=this.series,s=o.options.states[t||"normal"]||{},l=a[o.type].marker&&o.options.marker,d=l&&!1===l.enabled,h=l&&l.states&&l.states[t||"normal"]||{},p=!1===h.enabled,f=o.stateMarkerGraphic,m=this.marker||{},v=o.chart,b=o.halo,y=l&&o.markerAttribs;(t=t||"")===this.state&&!e||this.selected&&"select"!==t||!1===s.enabled||t&&(p||d&&!1===h.enabled)||t&&m.states&&m.states[t]&&!1===m.states[t].enabled||(y&&(n=o.markerAttribs(this,t)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),t&&this.graphic.addClass("highcharts-point-"+t),this.graphic.animate(o.pointAttribs(this,t),g(v.options.chart.animation,s.animation)),n&&this.graphic.animate(n,g(v.options.chart.animation,h.animation,l.animation)),f&&f.hide()):(t&&h&&(l=m.symbol||o.symbol,f&&f.currentSymbol!==l&&(f=f.destroy()),f?f[e?"animate":"attr"]({x:n.x,y:n.y}):l&&(o.stateMarkerGraphic=f=v.renderer.symbol(l,n.x,n.y,n.width,n.height).add(o.markerGroup),f.currentSymbol=l),f&&f.attr(o.pointAttribs(this,t))),f&&(f[t&&v.isInsidePlot(i,r,v.inverted)?"show":"hide"](),f.element.point=this)),(i=s.halo)&&i.size?(b||(o.halo=b=v.renderer.path().add((this.graphic||f).parentGroup)),b.show()[e?"animate":"attr"]({d:this.haloPath(i.size)}),b.attr({class:"highcharts-halo highcharts-color-"+g(this.colorIndex,o.colorIndex)+(this.className?" "+this.className:""),zIndex:-1}),b.point=this,b.attr(c({fill:this.color||o.color,"fill-opacity":i.opacity},i.attributes))):b&&b.point&&b.point.haloPath&&b.animate({d:b.point.haloPath(0)},null,b.hide),this.state=t,u(this,"afterSetState"))},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),c(b.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&u(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,n=e.tooltip,i=e.hoverPoint;e.hoverSeries=null,i&&i.onMouseOut(),this&&t.events.mouseOut&&u(this,"mouseOut"),!n||this.stickyTracking||n.shared&&!this.noSharedTooltip||n.hide(),this.setState()},setState:function(t){var e=this,n=e.options,i=e.graph,r=n.states,o=n.lineWidth,n=0;if(t=t||"",e.state!==t&&(l([e.group,e.markerGroup,e.dataLabelsGroup],function(n){n&&(e.state&&n.removeClass("highcharts-series-"+e.state),t&&n.addClass("highcharts-series-"+t))}),e.state=t,!r[t]||!1!==r[t].enabled)&&(t&&(o=r[t].lineWidth||o+(r[t].lineWidthPlus||0)),i&&!i.dashstyle))for(o={"stroke-width":o},i.animate(o,g(r[t||"normal"]&&r[t||"normal"].animation,e.chart.options.chart.animation));e["zone-graph-"+n];)e["zone-graph-"+n].attr(o),n+=1},setVisible:function(t,e){var n,i=this,r=i.chart,o=i.legendItem,s=r.options.chart.ignoreHiddenSeries,a=i.visible;n=(i.visible=t=i.options.visible=i.userOptions.visible=void 0===t?!a:t)?"show":"hide",l(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(t){i[t]&&i[t][n]()}),r.hoverSeries!==i&&(r.hoverPoint&&r.hoverPoint.series)!==i||i.onMouseOut(),o&&r.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&l(r.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),l(i.linkedSeries,function(e){e.setVisible(t,!1)}),s&&(r.isDirtyBox=!0),u(i,n),!1!==e&&r.redraw()},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),u(this,t?"select":"unselect")},drawTracker:e.drawTrackerGraph})}(e),function(t){var e=t.Chart,n=t.each,i=t.inArray,r=t.isArray,o=t.isObject,s=t.pick,a=t.splat;e.prototype.setResponsive=function(e){var i=this.options.responsive,r=[],o=this.currentResponsive;i&&i.rules&&n(i.rules,function(n){void 0===n._id&&(n._id=t.uniqueKey()),this.matchResponsiveRule(n,r,e)},this);var s=t.merge.apply(0,t.map(r,function(e){return t.find(i.rules,function(t){return t._id===e}).chartOptions})),r=r.toString()||void 0;r!==(o&&o.ruleIds)&&(o&&this.update(o.undoOptions,e),r?(this.currentResponsive={ruleIds:r,mergedOptions:s,undoOptions:this.currentOptions(s)},this.update(s,e)):this.currentResponsive=void 0)},e.prototype.matchResponsiveRule=function(t,e){var n=t.condition;(n.callback||function(){return this.chartWidth<=s(n.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=s(n.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=s(n.minWidth,0)&&this.chartHeight>=s(n.minHeight,0)}).call(this)&&e.push(t._id)},e.prototype.currentOptions=function(e){function n(e,s,l,c){var u;t.objectEach(e,function(t,e){if(!c&&-1<i(e,["series","xAxis","yAxis"]))for(t=a(t),l[e]=[],u=0;u<t.length;u++)s[e][u]&&(l[e][u]={},n(t[u],s[e][u],l[e][u],c+1));else o(t)?(l[e]=r(t)?[]:{},n(t,s[e]||{},l[e],c+1)):l[e]=s[e]||null})}var s={};return n(e,this.options,s,0),s}}(e),e})},function(t,e,n){"use strict";function i(t){if(void 0!==t){var e=Object.getPrototypeOf(t);s=arguments.length>1?Array.prototype.slice.call(arguments,1):Object.getOwnPropertyNames(e),s.forEach(function(t){var n=Object.getOwnPropertyDescriptor(e,t);void 0!==n&&-1===o.indexOf(t)&&"function"==typeof n.value&&Object.defineProperty(e,t,r(e,t,n))})}}function r(t,e,n){var i=n.value;return{configurable:!0,get:function(){if(this===t||this.hasOwnProperty(e))return i;var n=i.bind(this);return Object.defineProperty(this,e,{value:n,configurable:!0,writable:!0}),n}}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=["constructor","render","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount"],s=[];t.exports=e.default},function(t,e,n){function i(t){var e=r[t];return e?n.e(e[1]).then(function(){return n(e[0])}):Promise.reject(new Error("Cannot find module '"+t+"'."))}var r={"./cfdglobal/dark/main.scss":[1907,57],"./cfdglobal/light/main.scss":[1908,56],"./dark.scss":[1909,50],"./light.scss":[1910,55],"./theme_template.scss":[1911,58]};i.keys=function(){return Object.keys(r)},i.id=1311,t.exports=i},function(t,e){},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l=n(1),c=i(l),u=n(1314),d=n(1320),h=i(d),p=n(1322),f=i(p),m=n(253),g=(0,m.canUseDOM)()&&n(1323),v=function(t){function e(n){r(this,e);var i=o(this,t.call(this,n));return i.innerSliderRefHandler=function(t){return i.innerSlider=t},i.slickPrev=function(){return i.innerSlider.slickPrev()},i.slickNext=function(){return i.innerSlider.slickNext()},i.slickGoTo=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.innerSlider.slickGoTo(t,e)},i.slickPause=function(){return i.innerSlider.pause("paused")},i.slickPlay=function(){return i.innerSlider.autoPlay("play")},i.state={breakpoint:null},i._responsiveMediaHandlers=[],i}return s(e,t),e.prototype.media=function(t,e){g.register(t,e),this._responsiveMediaHandlers.push({query:t,handler:e})},e.prototype.componentWillMount=function(){var t=this;if(this.props.responsive){var e=this.props.responsive.map(function(t){return t.breakpoint});e.sort(function(t,e){return t-e}),e.forEach(function(n,i){var r=void 0;r=0===i?(0,h.default)({minWidth:0,maxWidth:n}):(0,h.default)({minWidth:e[i-1]+1,maxWidth:n}),(0,m.canUseDOM)()&&t.media(r,function(){t.setState({breakpoint:n})})});var n=(0,h.default)({minWidth:e.slice(-1)[0]});(0,m.canUseDOM)()&&this.media(n,function(){t.setState({breakpoint:null})})}},e.prototype.componentWillUnmount=function(){this._responsiveMediaHandlers.forEach(function(t){g.unregister(t.query,t.handler)})},e.prototype.render=function(){var t,e,n=this;this.state.breakpoint?(e=this.props.responsive.filter(function(t){return t.breakpoint===n.state.breakpoint}),t="unslick"===e[0].settings?"unslick":a({},f.default,this.props,e[0].settings)):t=a({},f.default,this.props),t.centerMode&&(t.slidesToScroll,t.slidesToScroll=1),t.fade&&(t.slidesToShow,t.slidesToScroll,t.slidesToShow=1,t.slidesToScroll=1);var i=c.default.Children.toArray(this.props.children);i=i.filter(function(t){return"string"==typeof t?!!t.trim():!!t}),t.variableWidth&&(t.rows>1||t.slidesPerRow>1)&&(t.variableWidth=!1);for(var r=[],o=null,s=0;s<i.length;s+=t.rows*t.slidesPerRow){for(var l=[],d=s;d<s+t.rows*t.slidesPerRow;d+=t.slidesPerRow){for(var h=[],p=d;p<d+t.slidesPerRow&&(t.variableWidth&&i[p].props.style&&(o=i[p].props.style.width),!(p>=i.length));p+=1)h.push(c.default.cloneElement(i[p],{key:100*s+10*d+p,tabIndex:-1,style:{width:100/t.slidesPerRow+"%",display:"inline-block"}}));l.push(c.default.createElement("div",{key:10*s+d},h))}t.variableWidth?r.push(c.default.createElement("div",{key:s,style:{width:o}},l)):r.push(c.default.createElement("div",{key:s},l))}if("unslick"===t){var m="regular slider "+(this.props.className||"");return c.default.createElement("div",{className:m},r)}return r.length<=t.slidesToShow&&(t.unslick=!0),c.default.createElement(u.InnerSlider,a({ref:this.innerSliderRefHandler},t),r)},e}(c.default.Component);e.default=v},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.InnerSlider=void 0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u=n(1),d=i(u),h=n(16),p=i(h),f=n(1315),m=i(f),g=n(1316),v=i(g),b=n(59),y=i(b),_=n(253),w=n(1317),S=n(1318),E=n(1319),x=n(660),C=i(x);e.InnerSlider=function(t){function e(n){o(this,e);var i=s(this,t.call(this,n));return i.listRefHandler=function(t){return i.list=t},i.trackRefHandler=function(t){return i.track=t},i.adaptHeight=function(){if(i.props.adaptiveHeight&&i.list){var t=i.list.querySelector('[data-index="'+i.state.currentSlide+'"]');i.list.style.height=(0,_.getHeight)(t)+"px"}},i.componentWillMount=function(){if(i.ssrInit(),i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var t=(0,_.getOnDemandLazySlides)(c({},i.props,i.state));t.length>0&&(i.setState(function(e){return{lazyLoadedList:e.lazyLoadedList.concat(t)}}),i.props.onLazyLoad&&i.props.onLazyLoad(t))}},i.componentDidMount=function(){var t=c({listRef:i.list,trackRef:i.track},i.props);i.updateState(t,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),"progressive"===i.props.lazyLoad&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new C.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(t){t.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,t.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window&&(window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized))},i.componentWillUnmount=function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(t){return clearTimeout(t)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer)},i.componentWillReceiveProps=function(t){for(var e=c({listRef:i.list,trackRef:i.track},t,i.state),n=!1,r=Object.keys(i.props),o=Array.isArray(r),s=0,r=o?r:r[Symbol.iterator]();;){var a;if(o){if(s>=r.length)break;a=r[s++]}else{if(s=r.next(),s.done)break;a=s.value}var u=a;if(!t.hasOwnProperty(u)){n=!0;break}if("object"!==l(t[u])&&"function"!=typeof t[u]&&t[u]!==i.props[u]){n=!0;break}}i.updateState(e,n,function(){i.state.currentSlide>=d.default.Children.count(t.children)&&i.changeSlide({message:"index",index:d.default.Children.count(t.children)-t.slidesToShow,currentSlide:i.state.currentSlide}),t.autoplay?i.autoPlay("update"):i.pause("paused")})},i.componentDidUpdate=function(){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var t=(0,_.getOnDemandLazySlides)(c({},i.props,i.state));t.length>0&&(i.setState(function(e){return{lazyLoadedList:e.lazyLoadedList.concat(t)}}),i.props.onLazyLoad&&i.props.onLazyLoad(t))}i.adaptHeight()},i.onWindowResized=function(t){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,v.default)(function(){return i.resizeWindow(t)},50),i.debouncedResize()},i.resizeWindow=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(p.default.findDOMNode(i.track)){var e=c({listRef:i.list,trackRef:i.track},i.props,i.state);i.updateState(e,t,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}},i.updateState=function(t,e,n){var r=(0,_.initializedState)(t);t=c({},t,r,{slideIndex:r.currentSlide});var o=(0,_.getTrackLeft)(t);t=c({},t,{left:o});var s=(0,_.getTrackCSS)(t);(e||d.default.Children.count(i.props.children)!==d.default.Children.count(t.children))&&(r.trackStyle=s),i.setState(r,n)},i.ssrInit=function(){if(i.props.variableWidth){var t=0,e=0,n=[],r=(0,_.getPreClones)(c({},i.props,i.state,{slideCount:i.props.children.length})),o=(0,_.getPostClones)(c({},i.props,i.state,{slideCount:i.props.children.length}));i.props.children.forEach(function(e){n.push(e.props.style.width),t+=e.props.style.width});for(var s=0;s<r;s++)e+=n[n.length-1-s],t+=n[n.length-1-s];for(var a=0;a<o;a++)t+=n[a];for(var l=0;l<i.state.currentSlide;l++)e+=n[l];var u={width:t+"px",left:-e+"px"};if(i.props.centerMode){var h=n[i.state.currentSlide]+"px";u.left="calc("+u.left+" + (100% - "+h+") / 2 ) "}return void i.setState({trackStyle:u})}var p=d.default.Children.count(i.props.children),f=c({},i.props,i.state,{slideCount:p}),m=(0,_.getPreClones)(f)+(0,_.getPostClones)(f)+p,g=100/i.props.slidesToShow*m,v=100/m,b=-v*((0,_.getPreClones)(f)+i.state.currentSlide)*g/100;i.props.centerMode&&(b+=(100-v*g/100)/2);var y={width:g+"%",left:b+"%"};i.setState({slideWidth:v+"%",trackStyle:y})},i.checkImagesLoad=function(){var t=document.querySelectorAll(".slick-slide img"),e=t.length,n=0;Array.prototype.forEach.call(t,function(t){var r=function(){return++n&&n>=e&&i.onWindowResized()};if(t.onclick){var o=t.onclick;t.onclick=function(){o(),t.parentNode.focus()}}else t.onclick=function(){return t.parentNode.focus()};t.onload||(i.props.lazyLoad?t.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(t.onload=r,t.onerror=function(){r(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})},i.progressiveLazyLoad=function(){for(var t=[],e=c({},i.props,i.state),n=i.state.currentSlide;n<i.state.slideCount+(0,_.getPostClones)(e);n++)if(i.state.lazyLoadedList.indexOf(n)<0){t.push(n);break}for(var r=i.state.currentSlide-1;r>=-(0,_.getPreClones)(e);r--)if(i.state.lazyLoadedList.indexOf(r)<0){t.push(r);break}t.length>0?(i.setState(function(e){return{lazyLoadedList:e.lazyLoadedList.concat(t)}}),i.props.onLazyLoad&&i.props.onLazyLoad(t)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)},i.slideHandler=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=i.props,o=n.asNavFor,s=n.currentSlide,a=n.beforeChange,l=n.onLazyLoad,u=n.speed,d=n.afterChange,h=(0,_.slideHandler)(c({index:t},i.props,i.state,{trackRef:i.track,useCSS:i.props.useCSS&&!e})),p=h.state,f=h.nextState;if(p){a&&a(s,p.currentSlide);var m=p.lazyLoadedList.filter(function(t){return i.state.lazyLoadedList.indexOf(t)<0});l&&m.length>0&&l(m),i.setState(p,function(){o&&o.innerSlider.state.currentSlide!==s&&o.innerSlider.slideHandler(t),f&&(i.animationEndCallback=setTimeout(function(){var t=f.animating,e=r(f,["animating"]);i.setState(e,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:t})},10)),d&&d(p.currentSlide),delete i.animationEndCallback})},u))})}},i.changeSlide=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=c({},i.props,i.state),r=(0,_.changeSlide)(n,t);(0===r||r)&&(!0===e?i.slideHandler(r,e):i.slideHandler(r))},i.clickHandler=function(t){!1===i.clickable&&(t.stopPropagation(),t.preventDefault()),i.clickable=!0},i.keyHandler=function(t){var e=(0,_.keyHandler)(t,i.props.accessibility,i.props.rtl);""!==e&&i.changeSlide({message:e})},i.selectHandler=function(t){i.changeSlide(t)},i.disableBodyScroll=function(){var t=function(t){t=t||window.event,t.preventDefault&&t.preventDefault(),t.returnValue=!1};window.ontouchmove=t},i.enableBodyScroll=function(){window.ontouchmove=null},i.swipeStart=function(t){i.props.verticalSwiping&&i.disableBodyScroll();var e=(0,_.swipeStart)(t,i.props.swipe,i.props.draggable);""!==e&&i.setState(e)},i.swipeMove=function(t){var e=(0,_.swipeMove)(t,c({},i.props,i.state,{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));e&&(e.swiping&&(i.clickable=!1),i.setState(e))},i.swipeEnd=function(t){var e=(0,_.swipeEnd)(t,c({},i.props,i.state,{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(e){var n=e.triggerSlideHandler;delete e.triggerSlideHandler,i.setState(e),void 0!==n&&(i.slideHandler(n),i.props.verticalSwiping&&i.enableBodyScroll())}},i.slickPrev=function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))},i.slickNext=function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))},i.slickGoTo=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t=Number(t),isNaN(t))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:t,currentSlide:i.state.currentSlide},e)},0))},i.play=function(){var t;if(i.props.rtl)t=i.state.currentSlide-i.props.slidesToScroll;else{if(!(0,_.canGoNext)(c({},i.props,i.state)))return!1;t=i.state.currentSlide+i.props.slidesToScroll}i.slideHandler(t)},i.autoPlay=function(t){i.autoplayTimer&&clearInterval(i.autoplayTimer);var e=i.state.autoplaying;if("update"===t){if("hovered"===e||"focused"===e||"paused"===e)return}else if("leave"===t){if("paused"===e||"focused"===e)return}else if("blur"===t&&("paused"===e||"hovered"===e))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})},i.pause=function(t){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var e=i.state.autoplaying;"paused"===t?i.setState({autoplaying:"paused"}):"focused"===t?"hovered"!==e&&"playing"!==e||i.setState({autoplaying:"focused"}):"playing"===e&&i.setState({autoplaying:"hovered"})},i.onDotsOver=function(){return i.props.autoplay&&i.pause("hovered")},i.onDotsLeave=function(){return i.props.autoplay&&"hovered"===i.state.autoplaying&&i.autoPlay("leave")},i.onTrackOver=function(){return i.props.autoplay&&i.pause("hovered")},i.onTrackLeave=function(){return i.props.autoplay&&"hovered"===i.state.autoplaying&&i.autoPlay("leave")},i.onSlideFocus=function(){return i.props.autoplay&&i.pause("focused")},i.onSlideBlur=function(){return i.props.autoplay&&"focused"===i.state.autoplaying&&i.autoPlay("blur")},i.render=function(){var t=(0,y.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),e=c({},i.props,i.state),n=(0,_.extractObject)(e,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding"]),r=i.props.pauseOnHover;n=c({},n,{onMouseEnter:r?i.onTrackOver:null,onMouseLeave:r?i.onTrackLeave:null,onMouseOver:r?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect?i.selectHandler:null});var o;if(!0===i.props.dots&&i.state.slideCount>=i.props.slidesToShow){var s=(0,_.extractObject)(e,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),a=i.props.pauseOnDotsHover;s=c({},s,{clickHandler:i.changeSlide,onMouseEnter:a?i.onDotsLeave:null,onMouseOver:a?i.onDotsOver:null,onMouseLeave:a?i.onDotsLeave:null}),o=d.default.createElement(S.Dots,s)}var l,u,h=(0,_.extractObject)(e,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);h.clickHandler=i.changeSlide,i.props.arrows&&(l=d.default.createElement(E.PrevArrow,h),u=d.default.createElement(E.NextArrow,h));var p=null;i.props.vertical&&(p={height:i.state.listHeight});var f=null;!1===i.props.vertical?!0===i.props.centerMode&&(f={padding:"0px "+i.props.centerPadding}):!0===i.props.centerMode&&(f={padding:i.props.centerPadding+" 0px"});var m=c({},p,f),g=i.props.touchMove,v={className:"slick-list",style:m,onClick:i.clickHandler,onMouseDown:g?i.swipeStart:null,onMouseMove:i.state.dragging&&g?i.swipeMove:null,onMouseUp:g?i.swipeEnd:null,onMouseLeave:i.state.dragging&&g?i.swipeEnd:null,onTouchStart:g?i.swipeStart:null,onTouchMove:i.state.dragging&&g?i.swipeMove:null,onTouchEnd:g?i.swipeEnd:null,onTouchCancel:i.state.dragging&&g?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},b={className:t,dir:"ltr"};return i.props.unslick&&(v={className:"slick-list"},b={className:t}),d.default.createElement("div",b,i.props.unslick?"":l,d.default.createElement("div",c({ref:i.listRefHandler},v),d.default.createElement(w.Track,c({ref:i.trackRefHandler},n),i.props.children)),i.props.unslick?"":u,i.props.unslick?"":o)},i.list=null,i.track=null,i.state=c({},m.default,{currentSlide:i.props.initialSlide,slideCount:d.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null,i}return a(e,t),e}(d.default.Component)},function(t,e,n){"use strict";e.__esModule=!0;var i={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0};e.default=i},function(t,e,n){(function(e){function n(t,e,n){function r(e){var n=m,i=g;return m=g=void 0,x=e,b=t.apply(i,n)}function o(t){return x=t,y=setTimeout(u,e),C?r(t):b}function l(t){var n=t-E,i=t-x,r=e-n;return T?w(r,v-i):r}function c(t){var n=t-E,i=t-x;return void 0===E||n>=e||n<0||T&&i>=v}function u(){var t=S();if(c(t))return d(t);y=setTimeout(u,l(t))}function d(t){return y=void 0,k&&m?r(t):(m=g=void 0,b)}function h(){void 0!==y&&clearTimeout(y),x=0,m=E=g=y=void 0}function p(){return void 0===y?b:d(S())}function f(){var t=S(),n=c(t);if(m=arguments,g=this,E=t,n){if(void 0===y)return o(E);if(T)return y=setTimeout(u,e),r(E)}return void 0===y&&(y=setTimeout(u,e)),b}var m,g,v,b,y,E,x=0,C=!1,T=!1,k=!0;if("function"!=typeof t)throw new TypeError(a);return e=s(e)||0,i(n)&&(C=!!n.leading,T="maxWait"in n,v=T?_(s(n.maxWait)||0,e):v,k="trailing"in n?!!n.trailing:k),f.cancel=h,f.flush=p,f}function i(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function r(t){return!!t&&"object"==typeof t}function o(t){return"symbol"==typeof t||r(t)&&y.call(t)==c}function s(t){if("number"==typeof t)return t;if(o(t))return l;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(u,"");var n=h.test(t);return n||p.test(t)?f(t.slice(2),n?2:8):d.test(t)?l:+t}var a="Expected a function",l=NaN,c="[object Symbol]",u=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,p=/^0o[0-7]+$/i,f=parseInt,m="object"==typeof e&&e&&e.Object===Object&&e,g="object"==typeof self&&self&&self.Object===Object&&self,v=m||g||Function("return this")(),b=Object.prototype,y=b.toString,_=Math.max,w=Math.min,S=function(){return v.Date.now()};t.exports=n}).call(e,n(41))},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.Track=void 0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l=n(1),c=i(l),u=n(59),d=i(u),h=n(253),p=function(t){var e,n,i,r,o;return o=t.rtl?t.slideCount-1-t.index:t.index,i=o<0||o>=t.slideCount,t.centerMode?(r=Math.floor(t.slidesToShow/2),n=(o-t.currentSlide)%t.slideCount==0,o>t.currentSlide-r-1&&o<=t.currentSlide+r&&(e=!0)):e=t.currentSlide<=o&&o<t.currentSlide+t.slidesToShow,{"slick-slide":!0,"slick-active":e,"slick-center":n,"slick-cloned":i,"slick-current":o===t.currentSlide}},f=function(t){var e={};return void 0!==t.variableWidth&&!1!==t.variableWidth||(e.width=t.slideWidth),t.fade&&(e.position="relative",t.vertical?e.top=-t.index*parseInt(t.slideHeight):e.left=-t.index*parseInt(t.slideWidth),e.opacity=t.currentSlide===t.index?1:0,e.transition="opacity "+t.speed+"ms "+t.cssEase+", visibility "+t.speed+"ms "+t.cssEase,e.WebkitTransition="opacity "+t.speed+"ms "+t.cssEase+", visibility "+t.speed+"ms "+t.cssEase),e},m=function(t,e){return t.key||e},g=function(t){var e,n=[],i=[],r=[],o=c.default.Children.count(t.children),s=(0,h.lazyStartIndex)(t),l=(0,h.lazyEndIndex)(t);return c.default.Children.forEach(t.children,function(u,g){var v=void 0,b={message:"children",index:g,slidesToScroll:t.slidesToScroll,currentSlide:t.currentSlide};v=!t.lazyLoad||t.lazyLoad&&t.lazyLoadedList.indexOf(g)>=0?u:c.default.createElement("div",null);var y=f(a({},t,{index:g})),_=v.props.className||"",w=p(a({},t,{index:g}));if(n.push(c.default.cloneElement(v,{key:"original"+m(v,g),"data-index":g,className:(0,d.default)(w,_),tabIndex:"-1","aria-hidden":!w["slick-active"],style:a({outline:"none"},v.props.style||{},y),onClick:function(e){v.props&&v.props.onClick&&v.props.onClick(e),t.focusOnSelect&&t.focusOnSelect(b)}})),t.infinite&&!1===t.fade){var S=o-g;S<=(0,h.getPreClones)(t)&&o!==t.slidesToShow&&(e=-S,e>=s&&(v=u),w=p(a({},t,{index:e})),i.push(c.default.cloneElement(v,{key:"precloned"+m(v,e),"data-index":e,tabIndex:"-1",className:(0,d.default)(w,_),"aria-hidden":!w["slick-active"],style:a({},v.props.style||{},y),onClick:function(e){v.props&&v.props.onClick&&v.props.onClick(e),t.focusOnSelect&&t.focusOnSelect(b)}}))),o!==t.slidesToShow&&(e=o+g,e<l&&(v=u),w=p(a({},t,{index:e})),r.push(c.default.cloneElement(v,{key:"postcloned"+m(v,e),"data-index":e,tabIndex:"-1",className:(0,d.default)(w,_),"aria-hidden":!w["slick-active"],style:a({},v.props.style||{},y),onClick:function(e){v.props&&v.props.onClick&&v.props.onClick(e),t.focusOnSelect&&t.focusOnSelect(b)}})))}}),t.rtl?i.concat(n,r).reverse():i.concat(n,r)};e.Track=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return s(e,t),e.prototype.render=function(){var t=g(this.props),e=this.props,n=e.onMouseEnter,i=e.onMouseOver,r=e.onMouseLeave,o={onMouseEnter:n,onMouseOver:i,onMouseLeave:r};return c.default.createElement("div",a({className:"slick-track",style:this.props.trackStyle},o),t)},e}(c.default.PureComponent)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.Dots=void 0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l=n(1),c=i(l),u=n(59),d=i(u),h=function(t){return t.infinite?Math.ceil(t.slideCount/t.slidesToScroll):Math.ceil((t.slideCount-t.slidesToShow)/t.slidesToScroll)+1};e.Dots=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return s(e,t),e.prototype.clickHandler=function(t,e){e.preventDefault(),this.props.clickHandler(t)},e.prototype.render=function(){var t=this,e=h({slideCount:this.props.slideCount,slidesToScroll:this.props.slidesToScroll,slidesToShow:this.props.slidesToShow,infinite:this.props.infinite}),n=this.props,i=n.onMouseEnter,r=n.onMouseOver,o=n.onMouseLeave,s={onMouseEnter:i,onMouseOver:r,onMouseLeave:o},l=Array.apply(null,Array(e+1).join("0").split("")).map(function(e,n){var i=n*t.props.slidesToScroll,r=n*t.props.slidesToScroll+(t.props.slidesToScroll-1),o=(0,d.default)({"slick-active":t.props.currentSlide>=i&&t.props.currentSlide<=r}),s={message:"dots",index:n,slidesToScroll:t.props.slidesToScroll,currentSlide:t.props.currentSlide},a=t.clickHandler.bind(t,s);return c.default.createElement("li",{key:n,className:o},c.default.cloneElement(t.props.customPaging(n),{onClick:a}))});return c.default.cloneElement(this.props.appendDots(l),a({className:this.props.dotsClass},s))},e}(c.default.PureComponent)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.NextArrow=e.PrevArrow=void 0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l=n(1),c=i(l),u=n(59),d=i(u),h=n(253);e.PrevArrow=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return s(e,t),e.prototype.clickHandler=function(t,e){e&&e.preventDefault(),this.props.clickHandler(t,e)},e.prototype.render=function(){var t={"slick-arrow":!0,"slick-prev":!0},e=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(t["slick-disabled"]=!0,e=null);var n={key:"0","data-role":"none",className:(0,d.default)(t),style:{display:"block"},onClick:e},i={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?c.default.cloneElement(this.props.prevArrow,a({},n,i)):c.default.createElement("button",a({key:"0",type:"button"},n)," ","Previous")},e}(c.default.PureComponent),e.NextArrow=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return s(e,t),e.prototype.clickHandler=function(t,e){e&&e.preventDefault(),this.props.clickHandler(t,e)},e.prototype.render=function(){var t={"slick-arrow":!0,"slick-next":!0},e=this.clickHandler.bind(this,{message:"next"});(0,h.canGoNext)(this.props)||(t["slick-disabled"]=!0,e=null);var n={key:"1","data-role":"none",className:(0,d.default)(t),style:{display:"block"},onClick:e},i={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?c.default.cloneElement(this.props.nextArrow,a({},n,i)):c.default.createElement("button",a({key:"1",type:"button"},n)," ","Next")},e}(c.default.PureComponent)},function(t,e,n){var i=n(1321),r=function(t){return/[height|width]$/.test(t)},o=function(t){var e="",n=Object.keys(t);return n.forEach(function(o,s){var a=t[o];o=i(o),r(o)&&"number"==typeof a&&(a+="px"),e+=!0===a?o:!1===a?"not "+o:"("+o+": "+a+")",s<n.length-1&&(e+=" and ")}),e},s=function(t){var e="";return"string"==typeof t?t:t instanceof Array?(t.forEach(function(n,i){e+=o(n),i<t.length-1&&(e+=", ")}),e):o(t)};t.exports=s},function(t,e){var n=function(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).toLowerCase()};t.exports=n},function(t,e,n){"use strict";e.__esModule=!0;var i=n(1),r=function(t){return t&&t.__esModule?t:{default:t}}(i),o={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(t){return r.default.createElement("ul",{style:{display:"block"}},t)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(t){return r.default.createElement("button",null,t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0};e.default=o},function(t,e,n){var i=n(1324);t.exports=new i},function(t,e,n){function i(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}var r=n(1325),o=n(661),s=o.each,a=o.isFunction,l=o.isArray;i.prototype={constructor:i,register:function(t,e,n){var i=this.queries,o=n&&this.browserIsIncapable;return i[t]||(i[t]=new r(t,o)),a(e)&&(e={match:e}),l(e)||(e=[e]),s(e,function(e){a(e)&&(e={match:e}),i[t].addHandler(e)}),this},unregister:function(t,e){var n=this.queries[t];return n&&(e?n.removeHandler(e):(n.clear(),delete this.queries[t])),this}},t.exports=i},function(t,e,n){function i(t,e){this.query=t,this.isUnconditional=e,this.handlers=[],this.mql=window.matchMedia(t);var n=this;this.listener=function(t){n.mql=t.currentTarget||t,n.assess()},this.mql.addListener(this.listener)}var r=n(1326),o=n(661).each;i.prototype={constuctor:i,addHandler:function(t){var e=new r(t);this.handlers.push(e),this.matches()&&e.on()},removeHandler:function(t){var e=this.handlers;o(e,function(n,i){if(n.equals(t))return n.destroy(),!e.splice(i,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){o(this.handlers,function(t){t.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var t=this.matches()?"on":"off";o(this.handlers,function(e){e[t]()})}},t.exports=i},function(t,e){function n(t){this.options=t,!t.deferSetup&&this.setup()}n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(t){return this.options===t||this.options.match===t}},t.exports=n},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(17),o=n(2),s=n(6),a=n(136),l=a.updateAccountMetrics,c=n(150),u=c.MARGIN_VALUES,d=u.BONUS_AMOUNT_CHECK_PERIOD,h=u.RISK_LEVEL_MAX,p=r.Model.extend({defaults:function(){return{accountId:0,balance:0,buyingPower:0,equity:0,margin:0,profitLoss:0,riskLevel:0,activeBonusesAmount:0}},initialize:function(){var t=this;this.listenTo(o,"stream:type:ACCOUNT_METRICS",this._onStreamUpdate),this.listenTo(o,"user:active_bonus:reload",this.load),this.activeBonusAmountCheck=setInterval(function(){return t.loadActiveBonusesAmount()},d)},load:function(){return this.loadActiveBonusesAmount()},destroy:function(){clearInterval(this.activeBonusAmountCheck),r.Model.prototype.destroy.call(this)},getAccountId:function(){return this.get("accountId")},getBalance:function(){return this.get("balance")},getBuyingPower:function(){return this.get("buyingPower")},getEquity:function(){return this.get("equity")},getProfitLoss:function(){return this.get("profitLoss")},getRiskLevel:function(){return isNaN(this.get("riskLevel"))||Math.abs(this.get("riskLevel").toFixed(0))===h?null:+this.get("riskLevel").toFixed(0)},getMarginUsed:function(){return this.get("margin")},getMaintenanceMargin:function(){return this.get("maintenanceMargin")},getAvailableForWithdrawal:function(){var t=n(7),e=this.get("availableBalanceForWithdrawal")-this.getActiveBonusesAmount()+t.getUserPendingDeposit();return e<t.getUserPendingDeposit()&&(e=t.getUserPendingDeposit()),e<0&&(e=0),e},getActiveBonusesAmount:function(){return this.get("activeBonusesAmount")||0},loadActiveBonusesAmount:function(){return s.loadActiveBonusesAmount().then(this.loadActiveBonusesAmountSuccess.bind(this))},loadActiveBonusesAmountSuccess:function(t){this.set("activeBonusesAmount",t.data)},_onStreamUpdate:function(t){t.balance>this.getBalance()&&o.trigger("user:balance:updated"),this.set(t);var e=this.toJSON();o.trigger("user:account-metrics",e),store.dispatch(l(e))}});i.exports=p}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(17),o=n(2),s=n(136),a=s.updateAccountSettings,l=r.Model.extend({defaults:function(){return{liquidationLevel:0,marginAlertLevel2:1,disableMarginChecks:!1}},initialize:function(){this.listenTo(o,"stream:type:ACCOUNT_SETTINGS",this._onStreamUpdate)},getLiquidationLevel:function(){return this.get("liquidationLevel")},getMarginAlertLevel2:function(){return this.get("marginAlertLevel2")},getDisableMarginChecks:function(){return this.get("disableMarginChecks")},_onStreamUpdate:function(t){this.set(t),o.trigger("user:account-settings",this.toJSON()),store.dispatch(a(this.toJSON()))}});i.exports=l}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,r){var o=n(17),s=n(2),a=n(0),l=n(6),c=n(9),u=n(122),d=o.Model.extend({detected:!1,defaults:function(){return{status:"inactive"}},initialize:function(){i("body").on("click",function(){s.trigger("user:session:prolong")}),this.listenTo(s,"app:ready",this.startSessionTimer),this.listenTo(s,"user:session:prolong",this.prolongSession),this.listenTo(s,"user:session:confirm-activity",this.confirmActivity),this.listenTo(s,"user:session:close",this.closeSession),this.listenTo(s,"platform:switch",this.clearSessionTimer)},markSessionAsActive:function(){this.set("status","active"),s.trigger("session:active")},markSessionAsInactive:function(){this.set("status","inactive"),s.trigger("session:inactive")},isSessionActive:function(){return"active"===this.get("status")},isSessionInactive:function(){return!this.isSessionActive()},detect:function(t){var e=this,i=n(7);if(!a.isFunction(t))throw new Error("Callback must be a function");this.detected=!1,i.getUserData().load().then(function(){e.detected=!0,e.markSessionAsActive(),t("active"),s.trigger("session:detected")}).catch(function(){e.detected=!0,e.markSessionAsInactive(),t("inactive"),s.trigger("session:detected")})},isDetected:function(){return this.detected},startSessionTimer:function(){this.prolongSession();var t=this,e=setInterval(function(){var e=Date.now(),n=t.get("lastActivity"),i=e-n;i>c.getLogoutTimeout()?s.trigger("user:session:close"):i>c.getInactivityConfirmationTimeout()&&(t.get("confirmationShown")||(s.trigger("ui:inactivity-confirmation"),t.set("confirmationShown",!0))),l.checkSession().catch(function(){t.clearSessionTimer(),s.trigger("ui:connection-lost")})},5e3);this.set("timer",e)},clearSessionTimer:function(){var t=this.get("timer");t&&clearInterval(t)},prolongSession:function(){this.get("confirmationShown")||this.set("lastActivity",Date.now())},confirmActivity:function(){this.set("confirmationShown",!1),s.trigger("user:session:prolong")},closeSession:function(){var t=n(7);this.markSessionAsInactive(),this.clearSessionTimer(),this.set("confirmationShown",!1),Promise.all([t.logout(),u.externalLogout()]).then(function(){window.location.reload()})}});r.exports=d}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(5),n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){function r(t){return t&&t.customer?(c.trackFBEvent("Lead"),s.trigger("gtm:lead",t.customer.crmboCustomer),c.trackDcmEvent("leadw",t.customer.crmboCustomer.id)):window.__eventos("test:dcm:missingUser",{},!0),Promise.resolve(t)}var o=n(17),s=n(2),a=n(0),l=n(6),c=n(75),u=n(23),d=n(199),h=n(258).DEVICES;return o.Model.extend({initialize:function(t){this.options=t},createNewAccount:function(t){var e={appSource:h[d.device()],params:a.extend({uid:c.getMachineId()},c.getAffiliateTracking(),c.getReferrer())};return a.extend(e,t),l.register(e).then(function(t){return r(t.data)}).then(function(){return l.simpleLogin(t)}).then(this.storeSetting.bind(this)).then(l.changeLanguage(u.getCurrentLanguage())).catch(function(t){return Promise.reject(t)})},storeSetting:function(t){return l.storeSettings({selectedLanguage:u.getCurrentLanguage(),firstLogin:!0}).then(function(e){return e.data.error?Promise.reject(e.data.error):t})}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r;void 0!==(r=function(t,e,r){var o=n(13),s=n(2),a="application_settings",l={asideBox:"asideBoxOpened",floatingOpenPositions:"floatingOpenPositionsEnabled",chartHeight:"chartHeight"};r.exports=new(o.extend({defaults:function(){var t;return t={instrumentDetailsStatus:"closed",selectedInstruments:{},"signals:isFloated":!1},i(t,l.asideBox,!0),i(t,l.floatingOpenPositions,!1),i(t,"chartVisibility","visible"),t},constructor:function(){var t=localStorage.getItem(a);o.prototype.constructor.apply(this,arguments),t&&this.set(JSON.parse(t))},initialize:function(){this.listenTo(s,"ui:aside-box-opened",this.asideBoxOpened),this.listenTo(s,"ui:click:floating:open-positions",this.floatingOpenPositionsEnabled)},set:function(){var t=o.prototype.set.apply(this,arguments);return this.save(),t},save:function(){localStorage.setItem(a,JSON.stringify(this.toJSON()))},asideBoxOpened:function(){return arguments.length?this.set(l.asideBox,arguments[0]):this.get(l.asideBox)},floatingOpenPositionsEnabled:function(){return arguments.length?this.set(l.floatingOpenPositions,arguments[0]):this.get(l.floatingOpenPositions)},chartHeight:function(){if(!arguments.length)return this.get(l.chartHeight);parseFloat(arguments[0])>0?this.set(l.chartHeight,arguments[0]):this.unset(l.chartHeight,{silent:!0})},getChartVisibility:function(){return this.get("chartVisibility")}}))}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=(n(0),n(13)),o=n(2),s=n(6);i.exports=r.extend({defaults:function(){return{eligibleForBonuses:!1,fullRegistrationBonusTermsAndConditionsAccepted:"false",proofOfId:!1,proofOfResidence:!1,requiresAdditionalData:!0,requiresDocumentsUpload:!0,tradeConfirmationRequired:!1}},initialize:function(){this.listenTo(o,"request:fxstart:success",this.loadDataCompliance)},load:function(){this.loadDataCompliance()},loadDataCompliance:function(){s.queryDataCompliance().then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this))},loadSuccess:function(t){this.set(t.data),o.trigger("user:load:data-compliance:success")},loadError:function(t){},isTradeConfirmationRequired:function(){return this.get("tradeConfirmationRequired")}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(13),s=n(2),a=n(6),l=n(10),c=l.APPROVED;i.exports=o.extend({initialize:function(){this.listenTo(s,"user:login",this.load)},load:function(){return a.queryCreditCardsDetailed().then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this))},loadSuccess:function(t){return this.set("creditCards",t.data),s.trigger("user:load:credit-card:success"),Promise.resolve(t)},loadError:function(t){return Promise.reject(t)},isVerified:function(){return r.every(this.get("creditCards"),function(t){return t.frontStatus===c&&t.backStatus===c})},reLoad:function(){return this.load()},getCardByNumber:function(t){return r.findWhere(this.get("creditCards"),{number:t})}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(17),o=n(2),s=n(6),a=n(0),l=n(10),c=l.PENDING,u=l.CONFIRM,d=l.REJECT,h={NON_COMPLIANT:0,COMPLIANT:1,PENDING:2,LIMITED:3,REVOKED:4,SUSPENDED:5},p={INACTIVITY:1,EXPIRATION:3},f={PENDING_ECDD:1,PENDING_PHONE_VERIFICATION:2};i.exports=r.Model.extend({account:{},load:function(){return s.loadCustomerInfo().then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this))},loadSuccess:function(t){return this.set(t.data),o.trigger("user:data:update"),Promise.resolve(t)},loadError:function(t){return Promise.reject(t)},determineAccount:function(t){var e=this.getCrmboCustomer().accounts,n=a.findWhere(e,{tradingAccountType:String(t.getPlatformTypeId()),tradePlatformType:"11"});n&&this.setAccount(n)},setAccount:function(t){this.account=t},getAccount:function(){return this.account||{}},getAccountId:function(){return this.getAccount().id},getUser:function(){return this.get("userData")||{}},getTinData:function(){var t=this.getUser();return t&&t.tinData||{}},getCustomer:function(){return this.get("customer")||{}},getCrmboCustomer:function(){var t=this.getCustomer();return t&&t.crmboCustomer||{}},isFromEuropeanEconomicAreaCountry:function(){return this.get("europeanEconomicAreaCountry")},isFullRegistrationCompleted:function(){return this.get("fullRegistrationCompleted")},isCompliance:function(){return this.get("complianceStage")===h.COMPLIANT},isComplianceSuspended:function(){return this.get("complianceStage")===h.SUSPENDED},isLimitedCompliance:function(){return this.get("complianceStage")===h.LIMITED},isPendingCompliance:function(){return this.get("complianceStage")===h.PENDING},isComplianceSuspendedGroundInactivity:function(){return this.isComplianceSuspended()&&this.get("complianceSuspendedGround")===p.INACTIVITY},isComplianceSuspendedGroundExpiration:function(){return this.isComplianceSuspended()&&this.get("complianceSuspendedGround")===p.EXPIRATION},isComplianceSuspendedGroundOther:function(){return this.isComplianceSuspended()&&!this.isComplianceSuspendedGroundInactivity()&&!this.isComplianceSuspendedGroundExpiration()},isPendingComplianceGroundPendingECDD:function(){return this.isPendingCompliance()&&this.get("pendingComplianceGround")===f.PENDING_ECDD},isPendingComplianceGroundPhoneVerification:function(){return this.isPendingCompliance()&&this.get("pendingComplianceGround")===f.PENDING_PHONE_VERIFICATION},isNotEEACompliance:function(){return!this.isCompliance()&&!this.isComplianceSuspended()&&!this.isFromEuropeanEconomicAreaCountry()},isFirstDeposit:function(){return!0===this.get("firstDeposit")},isTradeEnabled:function(){return a.isMatch(this.get("realMap").tradeAction,{action:"T"})},isElectiveProfessionalEnabled:function(){return this.getUser().electiveProfessionalEnabled},isForcePasswordChange:function(){return this.getUser().requestPasswordChange},isPromotionMarketsX:function(){var t=this.getRegistrationData();return t&&!!t.marketingPromotion},getRegistrationData:function(){return a.result(this.getUser(),"registrationData")},getComplianceData:function(){return a.result(this.getUser(),"complianceData")},hasCustomerSelectedCompany:function(){return!0===a.result(this.getRegistrationData(),"companySelection")},confirmCompanyMismatch:function(){return a.result(this.getComplianceData(),"confirmCompanyMismatch")},updateConfirmCompanyMismatch:function(t){this.getComplianceData().confirmCompanyMismatch=t},hasPendingConfirmSelectedCompany:function(){return this.confirmCompanyMismatch()===c},confirmRegulationCompanyMismatch:function(){this.updateConfirmCompanyMismatch(u)},rejectRegulationCompanyMismatch:function(){this.updateConfirmCompanyMismatch(d)},getBrandCompanyData:function(){return a.result(this.getUser(),"brandCompanyData")},setBrandCompanyData:function(t){this.getUser().brandCompanyData=t},isCustomerLevelGoalAlert:function(){var t=this.getUser();return!!t.hasOwnProperty("customerLevelGoalAlert")&&t.customerLevelGoalAlert.hasOwnProperty("level")},getUserTotalDeposits:function(){var t=this.getUser();return t.hasOwnProperty("customerLevelGoalAlert")?t.customerLevelGoalAlert.totalDoneDeposits:null},getAdditionalDepositForMarketX:function(){var t=this.getUser();if(t.hasOwnProperty("customerLevelGoalAlert")){return t.customerLevelGoalAlert.threshold-t.customerLevelGoalAlert.totalDoneDeposits}return null},getMarketxThreshold:function(){var t=this.getUser();return t.hasOwnProperty("customerLevelGoalAlert")?t.customerLevelGoalAlert.threshold:null},getPartnerCompanyNameKey:function(){return this.getBrandCompanyData().partnerCompanyNameKey},setPartnerCompanyNameKey:function(t){return this.getBrandCompanyData().partnerCompanyNameKey=t,this.getPartnerCompanyNameKey()},getCustomerId:function(){return this.getUser().id}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(17),o=n(0),s=n(2),a=n(6),l=n(22),c=n(199),u=n(258).DEVICES,d=n(9);return r.Model.extend({defaults:function(){return{remembered:!1,logoutReasons:[]}},_isLoggedIn:!1,setUserModel:function(t){this._userModel=t},initialize:function(){this.listenTo(s,"session:active",o.partial(this.setLoginState,!0)),this.listenTo(s,"session:inactive",o.partial(this.setLoginState,!1)),this.fetch()},save:function(){localStorage.setItem("user.login",JSON.stringify(this.toJSON()))},setLoginState:function(t){this._isLoggedIn=!!t},login:function(t,e){return this.simpleLoginRequest(t,e)},externalAuthLogin:function(t,e){return this.externalAuthLoginRequest(t,e)},simpleLoginRequest:function(t,e){var n=this;t.appSource=u[c.device()];var i=a.simpleLogin(t).then(this.simpleLoginRequestSuccess.bind(this,t));return e&&i.then(this.generateEvent.bind(this)),i.catch(function(t){return n.simpleLoginRequestError(t)})},autoLogin:function(t,e){var n=this,i=a.autoLogin(t,u[c.device()]).then(this.autoLoginSuccess.bind(this));return e&&i.then(this.generateEvent.bind(this)),i.catch(function(t){return n.simpleLoginRequestError(t)})},autoLoginSuccess:function(t){return __eventos("onBoardFlow:login:afterLoginAction"),this.setLoginState(!0),this._userModel.getUserData().load()},externalAuthLoginRequest:function(t,e){return a.externalAuthLogin(t,e).then(this.externalAuthLoginRequestSuccess.bind(this))},simpleLoginRequestSuccess:function(t,e){return __eventos("onBoardFlow:login:afterLoginAction"),this.setLoginState(!0),!0===t.remember&&e.data.rememberMeToken&&this.set({remembered:e.data.rememberMeToken}),this.save(),this._userModel.getUserData().load()},simpleLoginRequestError:function(t){var e=this.formatError(t);return s.trigger("user:login:error",e),Promise.reject(e)},externalAuthLoginRequestSuccess:function(t){return __eventos("onBoardFlow:login:afterLoginAction"),this.setLoginState(!0),this.save(),this._userModel.getUserData().load()},externalAuthLoginRequestError:function(t){var e=this.formatError(t);return s.trigger("user:login:error",e),Promise.reject(e)},logout:function(){return this.logoutRequest()},logoutRequest:function(){return this.clearRememberedData(),this.setLoginState(!1),a.makeLogout(l.getAtmosphereId())},generateEvent:function(t){return s.trigger("user:login",t),t},formatError:function(t){return{message:{401:__("login.incorrect_username_or_password"),429:__("login.too_many_login_attempts"),400:__("login.inactive_user_error")}[t.response&&t.response.status||0]||t.message}},isLoggedIn:function(){return this._isLoggedIn},wasLoggedIn:function(){return!!localStorage.getItem("user.login")},fetch:function(){var t=localStorage.getItem("user.login");if(t)try{t=JSON.parse(t),this.set(t,{silent:this.isLoggedIn()})}catch(t){}},autoLoginRequest:function(){var t=this.getRememberData();return t?this.autoLogin(t).then(function(){return s.trigger("start:detect:session")}):Promise.reject()},remember:function(t,e){var n=e.data.rememberMeToken;return this.set({remembered:n}),this.save(),e},getRememberData:function(){var t=this.get("remembered");return t||!1},isLogoutReasonEqual:function(t){return-1!==this.get("logoutReasons").indexOf(t)},addLogoutReason:function(t){this.get("logoutReasons").push(t)},clearLogoutReason:function(){this.set("logoutReasons",[])},isRemembered:function(){return!o.isEmpty(this.getRememberData())},clearRememberedData:function(){this.clear({silent:!0}),this.set(this.defaults()),this.save()},getUserAccountData:function(){return this._userData.getAccount()},getUserData:function(){return this._userModel.getUserData()},needForcePasswordChange:function(){return d.isForcePasswordChangeEnabled()&&this.getUserData().isForcePasswordChange()}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(17),o=n(2),s=n(6);n(9);i.exports=r.Model.extend({token:null,load:function(t){return s.loadQueryToken(t).then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this))},loadSuccess:function(t){return this.token=t.data,o.trigger("user:token"),Promise.resolve(t)},loadError:function(t){return this.token=null,Promise.reject(t)},getToken:function(){return this.token}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};void 0!==(r=function(t,e,i){var r=n(17),s=n(2),a=n(6),l=n(3),c=n(9),u=n(362),d=n(0),h=n(150),p=h.DEFAULT_OPEN_POSITION_MODE,f=h.DEFAULT_TRADING_VIEW_MODE,m=h.DEFAULT_CHART_MODE,g=h.DEFAULT_CHART_MODE_MARKETSX,v=h.TRADING_CENTRAL_ENABLED_KEY,b=n(69),y=b.GMT,_=b.LOCAL,w=b.CHART_MODE_OPTIONS,S=n(136),E=S.updateFavorites;i.exports=r.Model.extend({defaults:{settings:{openPositionMode:null,tradingViewMode:null,userTimezoneObject:{id:y,displayName:"",offset:0,gmt:y}}},load:function(){return a.loadCommonData().then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this))},loadSuccess:function(t){var e=u.recursive(this.defaults,t.data),i=e&&e.settings&&e.settings.favorites;this.set(e);var r=n(824),o=r.setSettings;return window.store.dispatch(o(t.data.settings)),s.trigger("user:common:data:update"),this.loadCurrentTimezone(),d.isArray(i)&&window.store.dispatch(E(i,!1)),Promise.resolve(t)},loadError:function(t){return Promise.reject(t)},loadCurrentTimezone:function(){a.getTimezoneCurrent().then(this.loadCurrentTimezoneSuccess.bind(this)).catch(this.loadCurrentTimezoneError.bind(this))},loadCurrentTimezoneSuccess:function(t){var e=n(119),i=t.data,r=i.id,s=i.offset,a=this.get("settings"),l=a.userTimezoneObject,u=c.isTimezoneEnabled(),h=u?e.defined(s):e.default,p=o({id:_,displayName:__("user.timezone.local")},e.local.getUserTimezoneObjectItem()),f=o({},t.data,{gmt:h.GMTPostfix(),displayName:__("user.timezone."+t.data.id.replace(/[^\w]/,"_").toLowerCase())}),m=void 0;return l.displayName=__("user.timezone.gmt"),m=!u||d.isNil(r)||d.isNil(s)?l:r===p.id?p:f,this.setUserTimezoneObject(m),Promise.resolve(t)},loadCurrentTimezoneError:function(t){return Promise.reject(t)},getSelectedLanguage:function(){return this.get("settings").selectedLanguage},isFirstLogin:function(){return!1!==this.get("settings").firstLogin},saveSelectedLanguage:function(t){return this.get("settings").selectedLanguage=t,a.changeLanguage(t),a.storeSettings({selectedLanguage:t})},getAppTheme:function(){return this.get("settings").appTheme},getAppThemeId:function(){return"dark"===this.get("settings").appTheme?1:0},saveAppTheme:function(t){return this.get("settings").appTheme=t,a.storeSettings({appTheme:t})},saveOpenPositionMode:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.get("settings").openPositionMode=t,e)return a.storeSettings({openPositionMode:t})},getOpenPositionMode:function(){return this.get("settings")&&this.get("settings").openPositionMode||p},isOpenPositionModeSet:function(){return!(!this.get("settings")||!this.get("settings").openPositionMode)},saveTradingSettings:function(t){return this.get("settings").tradingSettings=t,a.storeSettings({tradingSettings:t})},getTradingSettings:function(){return this.get("settings").tradingSettings},saveUserTimezoneId:function(t){return this.get("settings").userTimezone=t,a.storeSettings({userTimezone:t})},getUserTimezoneId:function(){return this.get("settings").userTimezone},saveMyAccountActiveFields:function(t){return this.get("settings").myAccountActiveFields=t,a.storeSettings({myAccountActiveFields:t})},getMyAccountActiveFields:function(){return this.get("settings").myAccountActiveFields},saveMyAccountPosition:function(t){return this.get("settings").myAccountPosition=t,a.storeSettings({myAccountPosition:t})},getMyAccountPosition:function(){return this.get("settings").myAccountPosition},setUserTimezoneObject:function(t){this.get("settings").userTimezoneObject=t},getUserTimezoneObject:function(){return this.get("settings").userTimezoneObject||this.defaults.settings.userTimezoneObject},getTradingCentralSettings:function(){return this.get("settings")["chart.setting/tradingCentral"]},setTradingCentralSettings:function(t){this.get("settings")["chart.setting/tradingCentral"]=t},wasTradingCentralEnabled:function(){return!0===this.get("settings")[v]},isTradingCentralEnabled:function(){return d.isObject(this.getTradingCentralSettings())},saveTradingCentralEnabled:function(t){this.get("settings")[v]=t;var e={};return e[v]=t,a.storeSettings(e)},getAllIndicators:function(){return this.get("chartSettings").studies},getPeriods:function(){return this.get("chartSettings").periods},getRanges:function(){return this.get("chartSettings").ranges},getPeriodRangePairs:function(){return this.get("chartSettings").pairs},getActiveIndicators:function(){return this._parseSettings(this.get("settings")["chart.setting/studies"])},saveActiveIndicators:function(t){t=JSON.stringify(t),this.get("settings")["chart.setting/studies"]=t,a.storeSettings({"chart.setting/studies":t})},getInactiveIndicators:function(){return this._parseSettings(this.get("settings")["chart.setting/studies_inactive"],{})},saveInactiveIndicators:function(t){t=JSON.stringify(t),this.get("settings")["chart.setting/studies_inactive"]=t,a.storeSettings({"chart.setting/studies_inactive":t})},getChartSettings:function(){return this.get("settings")["chart.setting/indigo"]},saveChartSettings:function(t){t=JSON.stringify(t),this.get("settings")["chart.setting/indigo"]=t,a.storeSettings({"chart.setting/indigo":t})},getDrawingSettings:function(t){return t?this._parseSettings(this.get("settings")["chart.setting/drawings"],{})[t]:this._parseSettings(this.get("settings")["chart.setting/drawings"],{})},saveDrawingSettings:function(t,e){var n=this.getDrawingSettings();n[t]=e,n=JSON.stringify(n),this.get("settings")["chart.setting/drawings"]=n,a.storeSettings({"chart.setting/drawings":n})},getMultiChartsSettings:function(){return this._parseSettings(this.get("settings")["chart.setting/multiCharts"])},saveMultiChartsSettings:function(t){var e=this,n=this.getMultiChartsSettings();return n=JSON.stringify(d.extend({},n,t)),this.get("settings")["chart.setting/multiCharts"]=n,a.storeSettings({"chart.setting/multiCharts":n}).then(function(t){return e.trigger("multicharts:updated"),Promise.resolve(t)})},getMultiChartsInactiveIndicators:function(){return this._parseSettings(this.get("settings")["chart.setting/multiCharts_studies_inactive"],[])},saveMultiChartsInactiveIndicators:function(t){t=JSON.stringify(t),this.get("settings")["chart.setting/multiCharts_studies_inactive"]=t,a.storeSettings({"chart.setting/multiCharts_studies_inactive":t})},_parseSettings:function(t,e){if(d.isUndefined(t)||d.isNull(t))return e;if(!d.isString(t))return t;try{return JSON.parse(t)}catch(t){return e}},getTradingViewMode:function(){return this.get("settings")&&this.get("settings").tradingViewMode||f},saveTradingViewMode:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.get("settings").tradingViewMode=t,e)return a.storeSettings({tradingViewMode:t})},isAdvancedTradingView:function(){return"advanced"===this.getTradingViewMode()},isTradingViewModeSet:function(){return!(!this.get("settings")||!this.get("settings").tradingViewMode)},saveChartMode:function(t){return this.get("settings").chartMode=t,a.storeSettings({chartMode:t})},getChartMode:function(){var t=this.get("settings");if(t&&d.contains(w,t.chartMode))return t.chartMode;var e=n(7);return e.isPromotionMarketsX()||e.isEligibleForMarketsX()||e.getUserLevelsModel().isMarketsX()?g:m},getEyeCountVisibleTimes:function(){return this._parseSettings(this.get("settings")["eye.setting/count_visible_times"],0)},saveEyeCountVisibleTimes:function(t){return this.get("settings")["eye.setting/count_visible_times"]=t,a.storeSettings({"eye.setting/count_visible_times":t})},getStartWeekForEye:function(){return this._parseSettings(this.get("settings")["eye.setting/start_week"],l().week()-1)},saveStartWeekForEye:function(t){return this.get("settings")["eye.setting/start_week"]=t,a.storeSettings({"eye.setting/start_week":t})},getIntervalForEye:function(){return this._parseSettings(this.get("settings")["eye.setting/interval"],null)},saveIntervalForEye:function(t){return this.get("settings")["eye.setting/interval"]=t,a.storeSettings({"eye.setting/interval":t})},getMultiChartsPendingStatus:function(){var t=this.get("settings").multiCharts_pending_status;return t?+t:void 0},saveMultiChartsPendingStatus:function(t){return this.get("settings").multiCharts_pending_status=t,a.storeSettings({multiCharts_pending_status:t})}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(17),o=n(2),s=n(6),a=n(0);i.exports=r.Model.extend({promise:null,initialize:function(){this.listenTo(o,"user:awards:reload",this.load)},load:function(){return this.promise=s.loadAwards().then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this)),this.promise},loadSuccess:function(t){return this.set(t.data),o.trigger("user:awards:update"),Promise.resolve(this)},loadError:function(t){return Promise.reject(t)},ready:function(t){this.promise.then(t)},getBonuses:function(t){var e=this.get("bonusesMap")[t];if(a.isEmpty(e))return{};var n=e.bonuses;return n||{}},getManualBonus:function(){return this.getBonuses().manual},getPendingBonus:function(){return this.getBonuses().pending},getAutomaticBonus:function(){return this.getBonuses().automatic},getComplianceBonus:function(){return this.getBonuses().compliance},getInstantComplianceBonus:function(){return this.getBonuses().instant_compliance},getEligibleCompliance:function(){return this.getBonuses().eligible_compliance},getSasPendingBonus:function(){return this.getBonuses().sas_pending},getVerifiedIdBonus:function(t){return this.getBonuses(t).verified_id},getVerifiedResidenceBonus:function(t){return this.getBonuses(t).verified_residence},hasFullRegistrationBonus:function(t){return a.isNumber(this.getFullRegistrationBonus(t))},getFullRegistrationBonus:function(t){return this.getBonuses(t).full_registration},getCompleteVerificationBonus:function(){return this.getBonuses().complete_verification},getDepositBonus:function(t){var e=this.get("bonusesMap")[t];return a.isEmpty(e)?null:e.depositBonuses},isFirstDepositExists:function(t){var e=this.get("bonusesMap")[t];return!a.isEmpty(e)&&!a.isEmpty(e.depositBonuses)&&!a.isEmpty(e.depositBonuses.all)},getFirstDepositBonus:function(){return this.getBonuses().first_deposit},getExtraFirstDepositBonus:function(){return this.getBonuses().extra_first_deposit},getQuizAsicBonus:function(t){return this.getBonuses(t).quiz_asic},getSmsVerificationBonus:function(){return this.getBonuses().sms_verification},getPopularDeposit:function(t){var e=this.get("bonusesMap")[t];if(a.isEmpty(e))return null;var n=e.depositBonuses,i=n&&n.popular;return i?i.deposit:null},getPopularDepositBonus:function(t){var e=this.get("bonusesMap")[t];if(a.isEmpty(e))return null;var n=e.depositBonuses,i=n&&n.popular;return i?i.bonus:null}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(13),s=n(2),a=n(6),l=n(9);i.exports=o.extend({defaults:function(){return{requests:[],hasRequests:!1,count:0}},initialize:function(){o.prototype.initialize.apply(this,arguments),this.listenTo(s,"app:session:active",this.load)},hasBonusRequests:function(){return this.get("hasRequests")},getBonusRequests:function(){return this.get("requests")},getBonusesCount:function(){return this.get("count")},loadBonusRequests:function(){return a.queryBonusRequests().then(this.loadBonusRequestsSuccess.bind(this))},loadBonusRequestsSuccess:function(t){var e=r.groupBy(t.data,"tradingAccountId"),n=t.data.length;return r.isEmpty(e)||(this.set({hasRequests:!0,requests:e,count:n}),s.trigger("user:bonus_requests:update")),Promise.resolve(this)},load:function(){var t=this;l.isBonusesEnabled()&&(this.listenTo(s,"user:info",this.loadBonusRequests),this.refreshBonusRequests=setInterval(function(){return t.loadBonusRequests()},1e3*l.getBonusRequestsRefreshPeriodSec()))},destroy:function(){clearInterval(this.refreshBonusRequests),o.prototype.destroy.call(this)},canShowMultipleBonusRequests:function(t){return l.canMergeMultipleBonusRequests()&&t.length>1}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(17),o=n(2),s=n(6),a=n(221),l=n(363),c=n(9),u=n(244),d=u.onLoadPriceAlertsSuccess,h=r.Model.extend({_alerts:null,initialize:function(){r.Model.prototype.initialize.apply(this,arguments),this.listenTo(o,"app:session:active",this.loadAllAlertsData),this.listenTo(o,"user:logout",this.onUserLogout)},loadAllAlertsData:function(){var t=this;c.isLive()&&c.checkPriceAlertsEnabled().then(function(e){e&&Promise.all([t.loadAlerts(),t.loadAlertTypes()]).then(function(){a.loadData(t._alerts),o.trigger("price-alerts:get-existed")}).catch(function(t){})})},loadAlerts:function(){var t=this,e=n(7),i=e.getUserData().getAccount();return!i||s.priceAlertsList(i.platformAccountId).then(function(e){t._alerts=e.data,store.dispatch(d(e.data))}).catch(function(t){})},loadAlertTypes:function(){return s.priceAlertsGetTypes().then(function(t){l.loadData(t.data)}).catch(function(t){})},onUserLogout:function(){var t=this;c.isLive()&&c.checkPriceAlertsEnabled().then(function(e){e&&(t.eventsOff(),a.reset())})},getAlertTypes:function(){return l},getAlerts:function(){return a}});i.exports=h}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(13),s=n(1350),a=n(670),l=o.extend({idAttribute:"id",defaults:{id:null,description:null,functionName:null,localizationKey:null,params:{},createTime:null,sendTo:{},status:1,modificationTime:null,weight:0,alertTypeGroup:null},initialize:function(t){var e=this;this.set(t,{silent:!0}),i.isUndefined(s[this.getId()])||(i.each(s[this.getId()],function(t,n){e[n]=t},this),i.isUndefined(a[this.alertTypeGroup])||this.set("alertTypeGroup",a[this.alertTypeGroup],{silent:!0}),i.isUndefined(this.gridValueFormatter)&&(this.gridValueFormatter=function(t){return t}),i.isUndefined(this.gridLabel)&&(this.gridLabel="tab.price-alerts.grid.columns.amount"),i.isUndefined(this.weight)&&this.set("weight",this.getId(),{silent:!0}))},getId:function(){return this.get("id")},getLocalizationKey:function(){return this.get("localizationKey")}});r.exports=l}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,n){var i={Buy:"tab.price-alerts.description-labels.tipranks_consensus.paramValue1.buy",Sell:"tab.price-alerts.description-labels.tipranks_consensus.paramValue1.sell",Neutral:"tab.price-alerts.description-labels.tipranks_consensus.paramValue1.neutral","Strong Buy":"tab.price-alerts.description-labels.tipranks_consensus.paramValue1.strong_buy","Strong Sell":"tab.price-alerts.description-labels.tipranks_consensus.paramValue1.strong_sell"},r={step:1,precision:1,min:0,max:100},o={min:[0,"it's min"],max:[100,"it's max"]},s={3:{fieldsNames:["paramValue1"],defaultValue:{paramValue1:5},getFieldOptions:function(){return{paramValue1:{step:.1,precision:2,min:-1e4,max:1e4}}},getFieldRules:function(){return{paramValue1:{min:[-1e4,"it's min"],max:[1e4,"it's max"]}}},renderClass:{paramValue1:"daily.change"},isFluctuate:{paramValue1:!1},templates:{paramValue1:"spin.html"},templatesData:{paramValue1:{}},getGridLabel:"tab.price-alerts.grid.columns.percent"},7:{fieldsNames:["paramValue1"],defaultValue:{paramValue1:80},getFieldOptions:{paramValue1:r},getFieldRules:{paramValue1:o},renderClass:{paramValue1:"sentiment"},isFluctuate:{paramValue1:!1},templates:{paramValue1:"spin.html"},templatesData:{paramValue1:{}},getGridLabel:"tab.price-alerts.grid.columns.percent"},8:{fieldsNames:["paramValue1"],defaultValue:{paramValue1:80},getFieldOptions:{paramValue1:r},getFieldRules:{paramValue1:o},renderClass:{paramValue1:"sentiment"},isFluctuate:{paramValue1:!1},templates:{paramValue1:"spin.html"},templatesData:{paramValue1:{}},getGridLabel:"tab.price-alerts.grid.columns.percent"},9:{fieldsNames:["paramValue1"],defaultValue:function(t){return{paramValue1:t.getBid()+20*t.getPrecisionSize()}},getFieldOptions:function(t){return{paramValue1:{step:t.getPrecisionSize(),precision:t.getPrecision(),min:t.getPrecisionSize()}}},getFieldRules:function(t){return{paramValue1:{min:[t.getPrecisionSize(),"it's min"]}}},renderClass:{paramValue1:"price.alert"},isFluctuate:{paramValue1:!0},templates:{paramValue1:"spin.html"},templatesData:{paramValue1:{}},getGridLabel:"tab.price-alerts.grid.columns.sell.rate"},10:{fieldsNames:["paramValue1","paramValue2","paramValue3"],defaultValue:{paramValue1:"",paramValue2:"",paramValue3:"0:0:5"},getFieldOptions:{paramValue1:{},paramValue2:{},paramValue3:{}},getFieldRules:{paramValue1:{max_length:[255,"Title max 255"]},paramValue2:{not_empty:"Can not be empty",max_length:[255,"Title max 255"]},paramValue3:{}},renderClass:{paramValue1:"price.alert",paramValue2:"price.alert",paramValue3:"price.alert"},isFluctuate:{paramValue1:!1,paramValue2:!1,paramValue3:!1},templates:{paramValue1:"title.html",paramValue2:"description.html",paramValue3:"remind.html"},templatesData:{paramValue1:{},paramValue2:{},paramValue3:{}},gridLabel:"tab.price-alerts.grid.amount-cell.label.reminder"},11:{fieldsNames:["paramValue1"],defaultValue:{paramValue1:"Buy"},getFieldOptions:{},getFieldRules:{paramValue1:{}},renderClass:{paramValue1:"tipranks.consensus"},isFluctuate:{paramValue1:!1},templates:{paramValue1:"select.html"},templatesData:{paramValue1:{selectOptions:i}},alertTypeGroup:100,gridValueFormatter:function(t){return __(i[t])},gridLabel:"tab.price-alerts.grid.amount-cell.label.tipranks_consensus"},12:{fieldsNames:["paramValue1"],defaultValue:function(t){return{paramValue1:t.getBid()+20*t.getPrecisionSize()}},getFieldOptions:function(t){return{paramValue1:{step:t.getPrecisionSize(),precision:t.getPrecision(),min:t.getPrecisionSize()}}},getFieldRules:function(t){return{paramValue1:{min:[t.getPrecisionSize(),"it's min"]}}},renderClass:{paramValue1:"price.alert"},isFluctuate:{paramValue1:!0},templates:{paramValue1:"spin.html"},templatesData:{paramValue1:{}},alertTypeGroup:100,gridLabel:"tab.price-alerts.grid.columns.amount"},13:{fieldsNames:["paramValue1"],defaultValue:{paramValue1:5},getFieldOptions:function(){return{paramValue1:{step:.1,precision:2,min:-1e4,max:1e4}}},getFieldRules:function(){return{paramValue1:{min:[-1e4,"it's min"],max:[1e4,"it's max"]}}},renderClass:{paramValue1:"daily.change"},isFluctuate:{paramValue1:!1},templates:{paramValue1:"spin.html"},templatesData:{paramValue1:{}},alertTypeGroup:100,gridLabel:"tab.price-alerts.grid.columns.percent"}};n.exports=s}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(17),o=(n(2),n(3)),s=n(6),a=n(0),l=n(854),c=n(829);i.exports=r.Model.extend({defaults:function(){return{documents:[],approvedByElectronicVerification:!1}},load:function(){return s.getDocuments().then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this))},loadSuccess:function(t){return this.set("documents",t.data.documents),this.set("approvedByElectronicVerification",t.data.approvedByElectronicVerification),this.set("callScheduled",t.data.callScheduled),Promise.resolve(this)},loadError:function(t){return Promise.reject(t)},hasDocumentInReview:function(){return!this.documentsApprovedByEV()&&a.chain(this.get("documents")).map(function(t){return a.contains([l.IN_PROCESS,l.PENDING],t.status)}).some().value()},hasBothDocumentsInReview:function(){return!this.documentsApprovedByEV()&&(!!this.isDocumentsUploaded()&&a.every(this.get("documents"),function(t){return a.contains([c.PROOF_OF_RESIDENCE,c.PROOF_OF_ID],t.type)&&a.contains([l.IN_PROCESS,l.PENDING],t.status)}))},hasDocumentExpired:function(){return!this.documentsApprovedByEV()&&a.chain(this.get("documents")).map(function(t){return t.status==l.EXPIRED}).some().value()},hasDocumentRejected:function(){return!this.documentsApprovedByEV()&&a.chain(this.get("documents")).map(function(t){return t.status==l.REJECTED}).some().value()},hasDocumentPendingExpiration:function(){return!this.documentsApprovedByEV()&&a.chain(this.get("documents")).map(function(t){return t.status==l.PENDING_EXPIRATION}).some().value()},hasDocumentPendingExpirationSoon:function(){if(this.documentsApprovedByEV())return!1;var t=!1;return a.chain(this.get("documents")).map(function(e){if(e.status==l.PENDING_EXPIRATION){var n=1e3*o().add(14,"days").unix();(!e.expirationDate||e.expirationDate<=n)&&(t=!0)}}),t},getDocuments:function(){return this.get("documents")},documentsApprovedByEV:function(){return this.get("approvedByElectronicVerification")},isDocumentsApproved:function(){var t=this.get("documents");return!!this.documentsApprovedByEV()||!a.isEmpty(t)&&a.chain(t).map(function(t){return t.status==l.APPROVED}).every().value()},isSomeDocumentsApproved:function(){var t=this.get("documents");return!!this.documentsApprovedByEV()||!a.isEmpty(t)&&a.chain(t).map(function(t){return t.status==l.APPROVED}).some().value()},isDocumentsApprovedByEV:function(){return this.documentsApprovedByEV()},isDocumentsUploaded:function(){var t=this.get("documents"),e=!1,n=!1;return a.each(t,function(t){t.type==c.PROOF_OF_RESIDENCE&&(n=!0),t.type==c.PROOF_OF_ID&&(e=!0)}),e&&n},isSomeDocumentsUploaded:function(){var t=this.get("documents");return a.some(t,function(t){return t.type==c.PROOF_OF_RESIDENCE||t.type==c.PROOF_OF_ID})}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(17),o=n(9);i.exports=r.Model.extend({load:function(){return o.checkTradingCentralEnabled().then(this.loadSuccess.bind(this))},loadSuccess:function(t){return this.set({tradingCentral:t}),Promise.resolve(t)},isTradingCentralAvailable:function(){return this.get("tradingCentral")}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(17);i.exports=r.Model.extend({defaults:function(){return{impressionCount:0,nextCheck:-1}},initialize:function(){this.fetch()},fetch:function(){var t=localStorage.getItem("add_to_home_screen");t&&this.set(JSON.parse(t))},save:function(){var t=JSON.stringify(this.toJSON());localStorage.setItem("add_to_home_screen",t)},getNextCheck:function(){return this.get("nextCheck")},getImpressionCount:function(){return this.get("impressionCount")},setNextCheck:function(t){this.set("nextCheck",t),this.save()},setImpressionCount:function(t){this.set("impressionCount",t),this.save()},incImpressionCount:function(){this.setImpressionCount(this.getImpressionCount()+1)}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(17),o=(n(2),n(6));n(0);i.exports=r.Model.extend({defaults:function(){return{webinars:[]}},getWebinars:function(t){return this.promise=o.getWebinars(t).then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this)),this.promise},load:function(){var t=n(7),e=t.getUserData().getCrmboCustomer().id;return this.getWebinars(e)},loadSuccess:function(t){return this.set("webinars",t.data.webinars),Promise.resolve(this)},loadError:function(t){return Promise.reject(t)},ready:function(t){this.promise.then(t)}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(17),s=n(0),a=n(6),l=n(9),c=n(2);i.exports=o.Model.extend({_checkAccountLevel:null,_upgradePopup:null,defaults:function(){return{levels:[],isTcAccepted:!1,isEnable:!1,isShowUpgradePopup:!1}},initialize:function(){this.listenTo(c,"user:balance:updated",this.onUpdateBalance)},load:function(){return l.checkCustomerLevelsEnabled().then(function(t){if(t)return this.set({isEnable:t}),this.loadLevels().then(function(t){var e=t.data;if(e.length>0)return this.set({levels:e}),Promise.all([this.checkTcAccept(),this.checkPromotion()]).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}.bind(this))}.bind(this)).catch(this.loadError.bind(this))},onUpdateBalance:function(){this.isMarketsX()||this.load().then(function(t){if(this.isEnable()&&!this.isMarketsX())if(this.loadLevels(),t[1].data)this.showUpgradePopup();else{this._checkAccountLevel&&clearInterval(this._checkAccountLevel),this._checkAccountLevel=setInterval(function(){this.checkPromotion().then(function(t){t.data&&(this.showUpgradePopup(),clearInterval(this._checkAccountLevel),this._checkAccountLevel=null)}.bind(this))}.bind(this),5e3),setTimeout(function(){this._checkAccountLevel&&(clearInterval(this._checkAccountLevel),this._checkAccountLevel=null)}.bind(this),2e4)}}.bind(this))},loadLevels:function(){return a.getCustomerLevels().then(function(t){return this.set({levels:t.data}),Promise.resolve(t)}.bind(this)).catch(this.loadError.bind(this))},checkPromotion:function(){return a.isShowLevelPromotion().then(function(t){return this.set({isShowUpgradePopup:t.data}),Promise.resolve(t)}.bind(this)).catch(this.loadError.bind(this))},checkTcAccept:function(){return a.isTcAccepted().then(function(t){return this.set({isTcAccepted:t.data}),Promise.resolve(t)}.bind(this)).catch(this.loadError.bind(this))},loadError:function(t){return Promise.reject(t)},getLevels:function(){return this.get("levels")},getAmount:function(){var t=this.getMarketsXLevel();return t?""+__currency(t.currency)+t.amount:"0$"},getMarketsXLevel:function(){return s.find(this.getLevels(),function(t){return"MarketsX"===t.name})},getSelectedLevel:function(){return s.find(this.getLevels(),function(t){return t.selected})},getIdForLevel:function(t){return s.find(this.getLevels(),function(e){return e.name===t}).id},isTcAccepted:function(){return this.get("isTcAccepted")},isEligibleForMarketsX:function(){return!!this.getMarketsXLevel()&&this.getMarketsXLevel().eligible},isPromotionMarketsX:function(){return!!this.getMarketsXLevel()&&this.getMarketsXLevel().requested},isEnable:function(){return this.get("isEnable")&&this.getLevels().length>0},isShowUpgradePopup:function(){return this.get("isShowUpgradePopup")},isMarketsX:function(){return this.getSelectedLevel()&&s.isMatch(this.getSelectedLevel(),{name:"MarketsX"})},acceptTcForMarketsX:function(){return a.acceptTcForMarketsX().then(function(t){return this.set({isTcAccepted:!0}),Promise.resolve(t)}.bind(this)).catch(function(t){return Promise.reject(t)})},declineTcForMarketsX:function(){return a.declineTcForMarketsX().then(function(t){return this.set({isTcAccepted:!1}),Promise.resolve(t)}.bind(this)).catch(function(t){return Promise.reject(t)})},acceptForMarketsX:function(t){return a.acceptForMarketsX(this.getIdForLevel(t)).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},declineForMarketsX:function(){return a.declineForMarketsX().then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},showUpgradePopup:function(t,e){this._upgradePopup||(this._upgradePopup=new(n(1356))({parent:r(".wrapper"),isHeaderShowed:!1,caption:__("withdraw.title"),previousCaption:__("actions.back"),headerStyle:"wizard",maxBoxWidth:"100%",showBoxShadow:!1,showHeader:!1,overlayTranslucent:"1",onCancel:e||function(){},onSuccess:t||function(){},addClass:"marketsX-popup-update",style:"marketsX"}))},showPromotionPopup:function(t,e){new(n(1365))({parent:r(".wrapper"),isHeaderShowed:!1,headerStyle:"wizard",boxWidth:"100%",showBoxShadow:!1,showHeader:!1,overlayTranslucent:"1",onSuccess:t||s.noop,onCancel:e,addClass:"marketsX-popup-promotion",style:""})}})}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(24),s=r.template(n(1358)),a=n(672),l=n(1),c=n(16),u=n(7),d=n(1362),h=n(114),p=n(673),f=n(71),m=o.extend({name:"customer-level-upgrade",events:function(){return r.extend({},r.result(o.prototype,"events"),{"click .fn-submit-upgrade":"onSubmit","click .fn-no_thanks":"onCancel"})},initialize:function(t){o.prototype.initialize.apply(this,arguments),this.onSuccess=function(){t.onSuccess(),location.reload()},this.onDecline=t.onCancel,this.render(t)},render:function(t){o.prototype.render.call(this),this.$el.find(".responsive-panel").addClass(t.addClass),this.setContent(s({})),this.checkbox=new h({el:this.$el.find(".checkbox__input")[0]}),this.listenTo(this.checkbox,"change",this.changeCheckbox),this.disableSubmitButton(),c.render(l.createElement(d,{}),this.$el.find(".features_list")[0])},disableSubmitButton:function(){return this.$el.find(".fn-submit-upgrade").addClass("disabled"),this},enableSubmitButton:function(){return this.$el.find(".fn-submit-upgrade").removeClass("disabled"),this},changeCheckbox:function(t){this.checkbox.isChecked()?this.enableSubmitButton():this.disableSubmitButton()},close:function(){u.getUserLevelsModel()._upgradePopup=null,o.prototype.close.call(this)},onCancel:function(){this.unmount(),this.checkbox.destroy(),this.close(),u.getUserLevelsModel().declineForMarketsX(),this.onDecline()},unmount:function(){c.unmountComponentAtNode(this.$el.find(".features_list")[0])},onSubmit:function(){var t=this;this.checkbox.isChecked()&&(this.unmount(),this.close(),u.getUserLevelsModel().acceptForMarketsX("MarketsX").then(function(){f.applyMarketsX(!0),u.getUserCommonData().isAdvancedTradingView()?new a({parent:document.body,isHeaderShowed:!1,btnText:__("marketsX.popup.upgrade.congratulations.btn"),texts:[__("marketsX.popup.upgrade.congratulations.text1"),__("marketsX.popup.upgrade.congratulations.text2")],onOK:t.onSuccess}):new p({onSuccess:t.onSuccess})}))}});i.exports=m}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<div class="hidden-sm hidden-md hidden-lg slide-box-overlay fn-close slide-box-overlay-translucent-<%-options.overlayTranslucent%>"></div><div class="x-popup-box responsive-container" style="<%=options.style%>"><div class="x-popup-panel responsive-panel <%- options.showBoxShadow ? \'responsive-panel-shadow\' : \'\' %>"><div class="x-popup-holder"><div class="x-popup-content" style="width: <%- options.boxWidth %>; max-width: <%- options.maxBoxWidth %>"><div class="responsive-popup-content"> <% if (options.isHeaderShowed) { %> <div class="x-popup-header hidden-xs responsive-header responsive-header-bg-style-<%-options.headerBgStyle%> responsive-header-style-<%-options.headerStyle%>"><div class="header-caption <% if (options.headerStyle == \'instrument_details\'){ %>header-instrument-caption<%}%>"> <% if (options.headerStyle == \'default\' || options.headerStyle == \'autochartist\') { %> <%=options.caption%> <% } %> <% if (options.headerStyle == \'wizard\'){ %> <%=parseWizardHeader(options.caption)%> <% if (options.headerContent) { %> <span class="responsive-header-content"><%=options.headerContent%></span> <% } %> <% } %> <%\n                                if (options.headerStyle == \'order\')\n                                {\n                                    var elements = (_.isArray(options.caption) ? options.caption : [options.caption]);\n                                    elements = options.caption.map(function(v) {\n                                        return \'<span>\'+v+\'</span>\';\n                                    });\n                                %> <div class="text"><%=elements.join(\'<b>|</b>\')%></div><div class="information"><%=options.captionInfo%></div> <% } %> <% if (options.headerStyle == \'instrument_details\'){ %> <div class="header-instrument-title"><div class="instrument-details-title"><%=options.instrument_title%></div><div class="instrument-details-description"><%=options.instrument_description%></div></div><div class="header-instrument-rates"><div class="instrument-sell-change"><table><tr></tr></table></div><div class="instrument-buy-change"><table><tr></tr></table></div></div> <% } %> </div> <% if(options.isMinimizable && options.isDraggable){%> <div class="header-actions fn-size size"><i class="icon icon-minimize"></i></div> <%}%> <div class="header-actions fn-close-popup btn"><i class="icon-close-<%-options.closeIconStyle%>"></i></div></div><div class="hidden-sm hidden-md hidden-lg responsive-header <%-options.headerCaptionStyle%>"><div class="previous btn fn-previous"><div class="arrow"></div><div class="caption"><%=options.previousCaption%></div></div><div class="caption"><%=(_.isArray(options.caption) ? options.caption[0] : options.caption)%></div><div class="navigation-box"></div></div> <% } %> <div class="responsive-popup-body <% if (options.bodyStyle){ %><%-options.bodyStyle%><%}%>"></div></div></div></div></div></div>'},function(t,e){t.exports='<div class="marketsX-popup-body"><div><div class="content"><div class="content__logo"><span class="logo"></span></div><div class="actions hidden-xs"><div class="fn-close-popup btn"><i class="icon-close-grey"></i></div></div><div class="content__main"><div class="content__main--description"><div class="sentence"><span><%= __(\'marketsX.popup.upgrade.congratulations\') %></span> <%= __(\'marketsX.popup.upgrade.text.part1\') %> </div><div class="sentence"> <%= __(\'marketsX.popup.upgrade.text.part2\') %> </div></div><div class="content__main--features"><div class="header"> <%= __(\'marketsX.popup.features.lists.header\') %> </div><div class="features_list"></div></div></div><div class="content__footer"><div class="content__footer--terms"><div class="text"><%= __(\'marketsX.popup.update.classic.text\') %></div><div class="terms"><div class="checkbox__input"><input type="checkbox" value="terms" id="checkboxInput" name=""><label for="checkboxInput"></label></div><div> <%= __(\'marketsX.popup.upgrade.terms.text\') %> </div></div></div><button class="btn btn-primary btn-marketsX fn-submit-upgrade"> <%= __(\'marketsX.popup.update.btn.upgrade\') %> </button> <span class="fn-no_thanks"><%= __(\'marketsX.popup.upgrade.btn.noThanks\') %></span></div></div></div></div>'},function(t,e){t.exports='<div class="marketsX-popup-confirm"></div>'},function(t,e){t.exports='<div class="confirm-dialog"><div class="content <%=(options.hideCancelButton) ? \'single\' : \'\' %> "> <% if(options.showLogo){%> <div class="logotype-box"><span class="logotype <%=options.isLightTheme ? \'logotype--dark\' : \'\' %>"></span></div> <%}%> <% if(options.showConfirmCaption){%> <div class="caption"><%=options.confirmCaption%></div> <%}%> <div class="message"><%=options.confirmMessage%></div></div><div class="actions"> <% if (!options.hideCancelButton) { %> <div class="block-button"><button class="btn fn-cancel"><span class="flex flex-align-center flex-valign-center"><%=options.confirmCancelBtnText%></span></button></div> <% } %> <div class="block-button"><button class="btn btn-primary fn-ok <%=(options.hideCancelButton)?\'single\':\'\' %>"><span class="flex flex-align-center flex-valign-center"><%=options.confirmOKBtnText%></span></button></div></div></div>'},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1);n(0),n(2);i.exports=function(t){return r.createElement("div",null,r.createElement("div",{className:"popup__logo"},r.createElement("span",{className:"logo"})),r.createElement("div",{className:"popup__body"},r.createElement("div",{className:"content"},t.texts.map(function(t,e){return r.createElement("span",{key:e+1},t)})),r.createElement("div",{className:"action"},r.createElement("div",{className:"block-button"},r.createElement("button",{className:"btn btn-primary single",onClick:t.onSubmit},r.createElement("span",{className:"flex flex-align-center flex-valign-center"},t.btnText))))))}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=n(1363).default,s=n(1364).default,a=n(118).default;i.exports=function(t){t.icon;return r.createElement("div",null,r.createElement(a,{minWidth:768},r.createElement(o,null)),r.createElement(a,{maxWidth:767},r.createElement(s,null)))}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n.n(i),o=n(259),s=function(){return r.a.createElement("ul",{className:"list"},r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(o.a,{icon:"icon-marketsX-popup-pricing"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.better.pricing")))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(o.a,{icon:"icon-marketsX-popup-support"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.personal.support")))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(o.a,{icon:"icon-marketsX-popup-news"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.advanced.trading.tools")))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(o.a,{icon:"icon-marketsX-popup-tools"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.insights.and.news")))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(o.a,{icon:"icon-marketsX-popup-sentiment"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.sentiment.tools")))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(o.a,{icon:"icon-marketsX-popup-customization"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.customization")))))};e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n.n(i),o=n(277),s=n.n(o),a=n(252),l=n(251),c=n(259),u=n(7),d=n.n(u),h=function(){var t=d.a.getUserCommonData(),e={dots:!0,autoplaySpeed:5e3,nextArrow:r.a.createElement(l.a,{icon:"icon-marketsX-popup-arrow-right-"+t.getAppTheme()}),prevArrow:r.a.createElement(a.a,{icon:"icon-marketsX-popup-arrow-left-"+t.getAppTheme()})};return r.a.createElement("div",{className:"marketsX-slider"},r.a.createElement(s.a,e,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(c.a,{icon:"icon-marketsX-popup-pricing"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.better.pricing")))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(c.a,{icon:"icon-marketsX-popup-support"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.personal.support")))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(c.a,{icon:"icon-marketsX-popup-news"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.advanced.trading.tools")))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(c.a,{icon:"icon-marketsX-popup-tools"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.insights.and.news")))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(c.a,{icon:"icon-marketsX-popup-sentiment"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.sentiment.tools")))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(c.a,{icon:"icon-marketsX-popup-customization"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.customization"))))))};e.default=h},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(75),s=n(24),a=n(1),l=n(16),c=n(7),u=n(1366),d=n(114),h=n(38),p=r.template(n(1368)),f=s.extend({name:"customer-level-promotion",events:function(){return r.extend({},r.result(s.prototype,"events"),{"click .fn-submit":"onSubmit","click .fn-close-popup":"onCancel"})},initialize:function(t){s.prototype.initialize.apply(this,arguments),this.onSuccess=t.onSuccess,this.render(t)},render:function(t){s.prototype.render.call(this),this.$el.find(".responsive-panel").addClass(t.addClass);var e=c.getUserCommonData(),n=c.getUserCurrencySymbol();this.setContent(p({amount:h(c.getUserLevelsModel().getAmount()).formatForeignCurrency(n,"0,0"),theme:e.getAppTheme()})),this.checkbox=new d({el:this.$el.find(".checkbox__input")[0]}),l.render(a.createElement(u,{}),this.$el.find(".features_list")[0])},unmount:function(){l.unmountComponentAtNode(this.$el.find(".features_list")[0])},onCancel:function(){r.isFunction(this.options.onCancel)&&this.options.onCancel(),this.unmount(),this.checkbox.destroy(),this.close()},onSubmit:function(){var t=this,e=c.getUserLevelsModel();this.checkbox.isChecked()?(o.storeMarketsxFlag(),e.acceptTcForMarketsX().then(function(){return window.location.reload()})):e.declineTcForMarketsX().then(function(){return Promise.all([e.loadLevels(),c.getUserData().load(),c.getUserAwardsModel().load()]).then(function(){return t.onSuccess()})}),this.close()}});i.exports=f}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=n(1367).default,s=n(674).default,a=n(118).default;i.exports=function(t){t.icon;return r.createElement("div",null,r.createElement(a,{minWidth:768},r.createElement(o,null)),r.createElement(a,{maxWidth:767},r.createElement(s,null)))}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n.n(i),o=n(259),s=function(){return r.a.createElement("ul",{className:"list"},r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(o.a,{icon:"icon-marketsX-popup-pricing"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.premiumPricing.title")),r.a.createElement("span",null,__("marketsX.popup.features.lists.premiumPricing.description")))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(o.a,{icon:"icon-marketsX-popup-support"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.bespokeSupport.title")),r.a.createElement("span",null,__("marketsX.popup.features.lists.bespokeSupport.description")))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(o.a,{icon:"icon-marketsX-popup-news"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.exclusiveTools.title")),r.a.createElement("span",null,__("marketsX.popup.features.lists.exclusiveTools.description")))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(o.a,{icon:"icon-marketsX-popup-tools"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.marketsKnowledgeCentre.title")),r.a.createElement("span",null,__("marketsX.popup.features.lists.marketsKnowledgeCentre.description")))))};e.default=s},function(t,e){t.exports='<div class="marketsX-popup-body"><div><div class="content"><div class="content__logo hidden-xs"><span class="logo"></span> <span class="close-popup"><i class="icon icon-marketsX-close-<%=theme%> fn-close-popup"></i></span></div><div class="content__main"><div class="content__main--description"><div class="sentence"> <%= __(\'account_settings.account-level.information.classic.title\') %> </div><div class="separator"></div><div class="sentence"> <%= __(\'account_settings.account-level.information.classic.description.part1\', amount) %> </div><div class="sentence"> <%= __(\'account_settings.account-level.information.classic.description.part2\') %> </div></div><div class="content__main--features"><div class="header"> <%= __(\'marketsX.popup.features.lists.header\') %> </div><div class="features_list"></div></div></div><div class="content__footer"><div class="content__footer--terms"><div class="terms"><div class="checkbox__input"><input type="checkbox" value="terms" id="checkboxInput" name=""><label for="checkboxInput"></label></div><div><%= __(\'marketsX.popup.promotion.terms\') %></div></div></div><button class="btn btn-primary btn-marketsX fn-submit"> <%= __(\'marketsX.popup.promotion.btn.text\') %> </button><div class="close-popup-link fn-close-popup visible-xs"><%=__(\'marketsX.popup.upgrade.btn.noThanks\')%></div></div></div></div></div>'},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=(n(0),n(13)),o=n(2),s=n(6),a=n(9);i.exports=r.extend({defaults:function(){return{eligible:!1,postponed:!1,quizName:"",retakeAfterHours:0}},initialize:function(){this.listenTo(o,"user:login",this.load)},load:function(){if(a.isMultipleQuizEnabled())return s.queryCustomerMultipleQuizStatus().then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this))},loadSuccess:function(t){return this.set(t.data),Promise.resolve(t)},loadError:function(t){return Promise.reject(t)},isQuizEligible:function(){return this.get("eligible")&&!this.get("postponed")},isQuizPostponed:function(){return this.get("eligible")&&this.get("postponed")},whenCustomerCouldRetakeQuiz:function(){return this.get("retakeAfterHours")}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=[{name:function(t){return String(t).split("/")[0]},patternSymbol:/\//i,excludeCategory:"crypto",containCategory:"currency"},{name:function(){return __("lotname.contracts")},excludeSymbol:"GOLD;PLATINUM;SILVER;",containCategory:"crypto;index;bonds;commodity;metal",containSymbol:"NaturalGas"},{name:function(){return __("lotname.shares")},containCategory:"ETFs;Shares"},{name:function(){return __("lotname.barrels")},patternSymbol:/oil/i},{name:function(){return __("lotname.ounces")},containSymbol:"GOLD;PLATINUM;SILVER"}];i.exports=function(t,e){var n=function(t){return String(t).toLocaleLowerCase()},i=function(t){return n(t).split(";")},s=n(t),a=n(e),l=r.filter(o,function(t){var e=t.excludeSymbol,o=t.excludeCategory,l=t.containCategory,c=t.containSymbol,u=t.patternSymbol;if(o){var d=i(o);if(r.some(d,function(t){return-1!==s.indexOf(n(t))}))return!1}if(e){var h=i(e);if(r.contains(h,a))return!1}if(u&&u instanceof RegExp){if(u.test(a))return!0}if(l){var p=i(l);if(r.some(p,function(t){return-1!==s.indexOf(n(t))}))return!0}if(c){var f=i(c);if(r.contains(f,a))return!0}}),c=r.first(l),u=r.isObject(c)&&c.name;return r.isFunction(u)&&u(e)||u||""}}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){function r(t,e){-1==String(e).indexOf("highstock")&&o(c,t,e)}function o(t,e,n,i){u.push({level:t,message:e,stack:n,data:i}),d()}var s=n(0),a=n(2),l=n(6),c="ERR",u=[],d=s.debounce(function(){l.log(u),u=[]},3e3);window.onerror=function(t,e,n,i,o){r.apply(this,arguments)},a.on("log:error",function(t,e,n){o(c,t,e,n)}),a.on("log:warn",function(t,e,n){o("WARN",t,e,n)}),a.on("log:info",function(t,e,n){o("INFO",t,e,n)})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,n){function i(t,e){var n=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector;if(n)return n.call(t,e)}n.exports=function(t){t.fn._easing={linear:function(t){return t},quadratic:function(t){return Math.pow(t,2)},swing:function(t){return.5-Math.cos(t*Math.PI)/2},circ:function(t){return 1-Math.sin(Math.acos(t))},back:function(t,e){return Math.pow(t,2)*((e+1)*t-e)},bounce:function(t){for(var e=0,n=1;1;e+=n,n/=2)if(t>=(7-4*e)/11)return-Math.pow((11-6*e-11*t)/4,2)+Math.pow(n,2)},elastic:function(t,e){return Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*e/3*t)}},t.fn._animate=function(t){var e=new Date,n=1,i=setInterval(function(){var r=new Date-e,o=r/t.duration;o>1&&(o=1);var s=t.delta(o);t.step(s),1==o&&(clearInterval(i),t.complete(n)),n++},t.delay||10)},t.fn.fadeOut=function(t){return this._animate({duration:t.duration,delta:function(t){return this._easing.swing(t)}.bind(this),complete:t.complete,step:function(e){"function"==typeof t.step?t.step(1-e):this.css("opacity",1-e)}.bind(this)}),this},t.fn.fadeIn=function(t){return this._animate({duration:t.duration,delta:function(t){return this._easing.swing(t)}.bind(this),complete:t.complete,step:function(e){"function"==typeof t.step?t.step(0+e):this.css("opacity",0+e)}.bind(this)}),this},t.fn.scrollTo=function(t){var e,n=this[0];e=t.element&&t.element[0]?t.element[0].offsetTop:t.top;var i=n.scrollTop,r=Math.abs(i-e),o=e>i?1:-1;return this._animate({duration:t.duration,delta:function(t){return 1===t?o*Math.abs(n.scrollTop-e):o*this._easing.linear(t)*r}.bind(this),complete:"function"==typeof t.complete?t.complete:function(){},step:function(t){if(n.scrollTop!==e)return n.scrollTop+t<e&&-1===o?n.scrollTop=e:n.scrollTop+t>e&&1===o?n.scrollTop=e:void(n.scrollTop+=t)}.bind(this)}),this},t.fn.closest=function(t){for(var e=this[0];e;){if(i(e,t))return e;e=e.parentElement}return null}}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t){return Array.isArray(t)?t:Array.from(t)}var o;void 0!==(o=function(t,e,n){n.exports=function(t){t.mixin({getExtended:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",i=e.split(n),o=r(i),s=o.slice(0),a=t;for(var l in s){var c=s[l];if(!a[c])return;a=a[c]}return a},capitalize:function(t){if("string"!=typeof t)return t;t=t.toLowerCase();for(var e=0;e<t.length;e++){var n=t[e];if(n.toLowerCase()!==n.toUpperCase())return t.slice(0,e)+t[e].toUpperCase()+t.slice(e+1)}return t},isNil:function(t){return null==t},toKebabCase:function(t){return t?t.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map(function(t){return t.toLowerCase()}).join("-"):t},sum:function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.isArray(n[0])?n[0].reduce(function(t,e){return t+Number(e)},0):n.reduce(function(t,e){return t+Number(e)},0)},mergeDeep:function e(n){for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];if(!o.length)return n;var a=o.shift();if(t.isObject(n)&&t.isObject(a))for(var l in a)if(t.isObject(a[l])){if(n[l]||(n[l]={}),t.isFunction(a[l])){n[l]=a[l];continue}if(t.isArray(a[l])){n[l]=[].concat(i(a[l]));continue}e(n[l],a[l])}else n[l]=a[l];return e.apply(void 0,[n].concat(o))},asStringArray:function(e){return t.isArray(e)?e.map(String):[String(e)]}})}}.call(e,n,e,t))&&(t.exports=o)},function(t,e,n){function i(){r(document).on("mouseover",function(t){for(var e=t.target,n="rtl"===c.attr("dir"),i=void 0,o=void 0,s=void 0;e!==document&&(i=e&&r(e).attr("aria-label"),o=e&&r(e).attr("data-tooltip-align"),s=e&&r(e).attr("data-tooltip-classname"),!i);)e=e.parentNode;if(l&&l.reference===e)return i!==l.options.title&&(l.options.title=i),void(l._isOpen||l.show());l&&l.dispose(),i&&(o||(o="right"),o=n?u[o]:o,l.changeReference(e,{title:i,placement:o,html:!0,popperOptions:{onUpdate:function(){return l.dispose()}},template:d({className:s})}))})}var r=n(5),o=n(0),s=n(679).default,a=n(365).default,l=null,c=r("html"),u={right:"left",left:"right",top:"top",bottom:"bottom",auto:"auto"},d=o.template('<div class="tooltip <%=className ? className : ""%>" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>');s.prototype._show=function(t,e){if(this._isOpen)return this;if(this._isOpen=!0,this._tooltipNode)return this._tooltipNode.style.display="",this._tooltipNode.setAttribute("aria-hidden","false"),this.popperInstance.update(),this;var n=t.getAttribute("title")||e.title;if(!n)return this;var i=this._create(t,e.template,n,e.html);i.setAttribute("aria-describedby",i.id);var r=this._findContainer(e.container,t);this._append(i,r);var s=o.extend({},{placement:e.placement,modifiers:{arrow:{element:this.arrowSelector}}},e.popperOptions);return e.boundariesElement&&(s.modifiers.preventOverflow={boundariesElement:e.boundariesElement}),this.popperInstance=new a(t,i,s),this._tooltipNode=i,this},s.prototype.changeReference=function(t,e){var n=this;this._events.forEach(function(t){var e=t.func,i=t.event;n.reference.removeEventListener(i,e)}),this._events=[],this._isOpen=!1,this.reference=t,o.extend(this.options,e);var i="string"==typeof this.options.trigger?this.options.trigger.split(" ").filter(function(t){return-1!==["click","hover","focus"].indexOf(t)}):[];this._setEventListeners(this.reference,i,this.options)},l=new s(document.body,{title:"",container:document.body,placement:"right",html:!0}),t.exports=i},function(t,e,n){"use strict";function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,e=arguments[1],n=e.type,i=e.payload;switch(n){case nt.m:var r={},o=t.idToSymbolMap,s=V.a.reject(i,function(t){return V.a.isEmpty(t.elements)});return function t(e){V.a.each(e,function(e){if(e.category&&e.elements)return t(e.elements);r[e.symbol]=e,o[e.id]=e.symbol})}(i),it({},t,{tree:s,instrumentSymbolMap:r,idToSymbolMap:o});case nt.e:var a={},l=t.tree,c=t.idToSymbolMap;return function t(e){V.a.each(e,function(e){if(e.category&&e.elements)return t(e.elements);a[e.symbol]=e,c[e.id]=e.symbol})}(l),it({},t,{instrumentSymbolMap:a,idToSymbolMap:c});case nt.f:var u=t.tree,d=function(t){return"tab."+t.replace(new RegExp("/$"),"").replace("/","").split("/").map(function(t){return t.toLowerCase()}).join(".")};!function e(n,i,r){V.a.each(n,function(n){var o=n.category;n.elements&&n.elements.length?(n._pathUrl=i+Object(et.b)(o)+"/",n._path=(r?r+".":"")+o,n._empty=0===n.elements.length,n._localizedNameKey=d(n._path),e(n.elements,n._pathUrl,n._path),t.treePathsMap[n._pathUrl]=n):n._categoryPath=i})}(u,"/","");var h=Object(j.a)(u&&u[0]);return it({},t,{defaultInstrumentTreeCategoryPath:h&&h._pathUrl});case nt.B:return V.a.each(i,function(e){var n=t.QUOTE[e.symbol],i=!!n&&n.bid,r=t.FX_INSTRUMENT[e.symbol];if(!1!==i){var o=st(i,e.dayClose);o&&(e._percentChange=o);var s=ot(i,e.dayClose,r&&r.precision);s&&(e._change=s)}t.SUMMARY[e.symbol]=e}),it({},t);case nt.h:var p=t.INSTRUMENT_TRADE_STATUSES;return V.a.each(i,function(t){return p[t.instrumentSymbol]=t}),it({},t,{INSTRUMENT_TRADE_STATUSES:it({},p)});case nt.g:var f=t.INSTRUMENT_SETTINGS_UPDATE;return V.a.each(i,function(t){return f[t.instrumentSymbol]=it({},f[t.instrumentSymbol],t)}),it({},t,{INSTRUMENT_SETTINGS_UPDATE:it({},f)});case nt.J:var m=t.QUOTE,g=t.FX_INSTRUMENT,v=t.SUMMARY,b=t.instrumentLastQuoteTime;return V.a.each(i,function(t){var n=it({},t),i=g[n.symbol],r=m[n.symbol],o=r&&r._currentAskDirection||0,s=r&&r._currentBidDirection||0,a=i&&i.precision,l=i&&i.pipsPrecision,c=v[n.symbol];if(V.a.isNumber(a)&&(n.ask=Number(n.ask).toFixed(a),n.bid=Number(n.bid).toFixed(a),V.a.isNumber(l))){var u=Number(r&&r._spread||0);n._spread=Number(Object(et.a)(n.bid,n.ask,a,l)),n._spreadDirection=Number(n._spread)===u?n._spreadDirection:n._spread<u?-1:1}n._currentAskDirection=-1===n.askDirection?-1:1===n.askDirection?1:o,n._currentBidDirection=-1===n.bidDirection?-1:1===n.bidDirection?1:s;var d=c&&st(n.bid,c.dayClose);d&&(c._percentChange=d);var h=c&&ot(n.bid,c.dayClose,a);h&&(c._change=h),n.symbol===e.instrumentDetailsSymbol&&(b=Date.now()),m[n.symbol]=n}),it({},t,{instrumentLastQuoteTime:b,QUOTE:m});case nt.c:var y=t.QUOTE,_=t.FX_INSTRUMENT;return V.a.each(i,function(t){var e=t.symbol,n=y[e];if(n){var i=Number(n._spread||0);n.ask=Number(n.ask).toFixed(t.precision),n.bid=Number(n.bid).toFixed(t.precision),n._spread=Number(Object(et.a)(n.bid,n.ask,t.precision,t.pipsPrecision)),n._spreadDirection=Number(n._spread)===i?n._spreadDirection:n._spread<i?-1:1}_[e]=t}),it({},t,{FX_INSTRUMENT:it({},_)});case nt.C:var w=t.SWAP_RATES;return V.a.each(i,function(t){return w[t.symbol]=it({},w[t.symbol],t)}),it({},t,{SWAP_RATES:it({},w)});case nt.y:var S=i.additionalData?i.additionalData.payload:i,E=t.subsCounters.SWAP_RATES;return E[S]||(E[S]=0),E[S]++,it({},t);case nt.G:var x=i.additionalData?i.additionalData.payload:i,C=t.subsCounters.SWAP_RATES;return C[x]--,C[x]<0&&(C[x]=0),it({},t);case nt.d:return it({},t,{FX_SYSTEM_SETTINGS:i});case nt.t:return V.a.each(V.a.values(i),function(t){return J(t)}),it({},t,{ROLLOVER_DATES:i});case nt.n:var T=i.additionalData?i.additionalData.payload:i,k=t.subsCounters.MARGINING_SETTINGS;return k[T]||(k[T]=0),k[T]++,it({},t);case nt.p:var O=t.MARGINING_SETTINGS;return O[t.idToSymbolMap[i.responsePayload.data.instrumentId]]=tt(i.responsePayload.data),it({},t,{MARGINING_SETTINGS:it({},O)});case nt.a:var P=i.additionalData?i.additionalData.payload:i,I=t.subsCounters.MARGINING_SETTINGS;return I[P]--,I[P]<0&&(I[P]=0),it({},t);case nt.q:var A=i.additionalData?i.additionalData.payload:i,M=t.subsCounters.TRADING_CALENDARS_SETTINGS;return M[A]||(M[A]=0),M[A]++,it({},t);case nt.s:var N=t.TRADING_CALENDARS_SETTINGS;return N[t.idToSymbolMap[i.responsePayload.data.instrumentId]]=Y(i.responsePayload.data),it({},t,{TRADING_CALENDARS_SETTINGS:it({},N)});case nt.b:var D=i.additionalData?i.additionalData.payload:i,L=t.subsCounters.TRADING_CALENDARS_SETTINGS;return L[D]--,L[D]<0&&(L[D]=0),it({},t);case nt.u:return it({},t,{instrumentLastQuoteTime:i});case nt.k:return it({},t,{CRYPTO_INFO:it({},i.responsePayload)})}return t}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,e=arguments[1],n=e.type,i=e.payload;switch(n){case at.g:var r=t.POSITION_METRICS;return V.a.each(i,function(t){r[t.positionCode]=t}),lt({},t,{POSITION_METRICS:lt({},r)});case at.e:var o=i.edited,s=i.removed,a=e.instruments,l=t.OPEN_POSITION,c=t.POSITION_METRICS,u=t.instrumentPositions,d=t.instrumentPositionsCounter;return V.a.each(o,function(t){var e=t.positionCode,n=t.instrumentId,i=a.idToSymbolMap[n],r=u[i],o=a.FX_INSTRUMENT[i],s=a.QUOTE[i],c=d[i];if(r||(r=u[i]={}),c||(c=d[i]={_count:0}),r[e]||c._count++,t.quantity=Number(t.quantity),t._instrumentSymbol=i,t._directionName=t.quantity<0?__("actions.sold"):__("actions.bought"),t.costBasis=o?Number(Number(t.costBasis).toFixed(o.precision)):t.costBasic,s){var h=t.costBasis,p=t.quantity>0?s.ask:s.bid;t._priceChange=(p-h)/h*100}r[e]=e,l[e]=t}),V.a.each(s,function(t){var e=l[t];if(e){var n=e._instrumentSymbol,i=u[n],r=d[n];i&&(delete i[t],r&&--r._count<=0&&(delete u[n],delete d[n]))}delete l[t],delete c[t]}),lt({},t,{OPEN_POSITION:lt({},l),instrumentPositions:lt({},u),instrumentPositionsCounter:lt({},d),totalPositionsCount:V.a.size(l)});case at.f:return lt({},t,{OPEN_POSITION_FILTERS:i});case at.c:var h=lt({},t.closingPosition),p=i.positionCode,f=i.status,m=i.closingAmount,g=i.changedQuantity;return h[p]={status:f,closingAmount:m,changedQuantity:g},lt({},t,{closingPosition:lt({},h)});case at.a:var v=lt({},t.closingPosition),b=i.positionCode,y=i.status;return v[b]=y,delete v[b],lt({},t,{closingPosition:lt({},v)})}return t}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,e=arguments[1],n=e.type,i=e.payload;switch(n){case ut.d:var r=i.edited,o=i.removed,s=e.instruments,a=t.ORDER,l=t.instrumentOrders,c=t.instrumentOrdersCounter;return r=V.a.filter(r,function(t){return!V.a.contains([dt.ORDER_EXECUTION_STATUS_WAITING_GSL],t.lastExecutionStatus)}),V.a.each(r,function(t){var e=t.orderChainId,n=t.instrumentId,i=s.idToSymbolMap[n],r=l[i],o=c[i],u=t.status===dt.WORKING&&t.timeInForce===dt.TIME_IN_FORCE_GTC;u?(r||(r=l[i]={}),o||(o=c[i]={_count:0}),r[e]||o._count++,t._instrumentSymbol=i,r[e]=e,a[e]=t):!u&&a[e]&&r[e]&&(delete r[e],delete a[e],--o._count<=0&&(delete c[i],delete l[i]))}),V.a.each(o,function(t){var e=a[t];if(e){var n=e._instrumentSymbol,i=l[n],r=c[n];i&&(delete i[t],r&&--r._count<=0&&(delete l[n],delete c[n]))}delete a[t]}),ht({},t,{ORDER:ht({},a),instrumentOrders:ht({},l),instrumentOrdersCounter:ht({},c),count:V.a.keys(l).length,totalOrdersCount:V.a.size(a)})}return t}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,e=arguments[1],n=e.type,i=e.payload;switch(n){case ft.b:return vt({},t,{status:dt.LOADING,lastUpdated:V.a.now()});case ft.d:var r=vt({},t.all),o=i.additionalData,s=i.responsePayload,a=s.data,l=o.prevStateAll,c=!V.a.isEmpty(l),u=[],d=[];Object.keys(a).forEach(function(t){var e=a[t]._id;r[e]=vt({},r[e],a[t])});var h=V.a.sortBy(a,function(t){return-gt()(t.publish_date).valueOf()});return Object.keys(h).forEach(function(t){var e=h[t]._id;u.push(e),c&&!l[e]&&d.push(e)}),vt({},t,{status:dt.SUCCESS,lastUpdated:V.a.now(),isFirstLoad:!1,all:r,sortedItemsId:u,newItemsId:d,count:V.a.size(a)});case ft.c:return vt({},t,{status:dt.ERROR,all:[]});case ft.i:return vt({},t,{selectedCommentaryId:i});case ft.e:return vt({},t,{selectedCommentaryStatus:dt.LOADING});case ft.g:var p=i.additionalData,f=i.responsePayload;return t.all[p.id]=vt({},f.data),vt({},t,{selectedCommentaryStatus:dt.SUCCESS});case ft.f:return vt({},t,{selectedCommentaryStatus:dt.ERROR});case ft.h:return vt({},t,{pageStatus:dt.OPEN});case ft.a:return vt({},t,{pageStatus:dt.CLOSED,selectedCommentaryId:null})}return t}function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,e=arguments[1],n=e.payload;switch(e.type){case yt.c:var i=e.name,r=e.enabled,o=t.all,s=t.availableServices,l=o[i];return l||(l=o[i]={name:i,enabled:r}),s=V.a.filter(V.a.keys(o),function(t){return o[t].enabled}),_t({},t,{all:_t({},o),availableServices:[].concat(a(s))});case yt.f:return _t({},t,{selectedDropdownService:n})}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt,e=arguments[1],n=e.type,i=e.payload;switch(n){case Ct.n:var r=i.selectedDate,o=i.selectedSmallCalendarDate;return It({},t,{selectedDate:r,selectedSmallCalendarDate:o});case Ct.s:return It({},t,{status:dt.LOADING,lastUpdated:V.a.now()});case Ct.u:var s=i.responsePayload.data,a=t.isPremiumEnabled,l=s&&s.webinars||[],d=V.a.groupBy(l,function(t){return t.category}),h=[].concat(u(V.a.keys(d))),p=V.a.chain(l).sortBy("startTime").reject(function(t){return!a&&t.isPremium}).value();return It({},t,{status:dt.SUCCESS,lastUpdated:V.a.now(),events:[].concat(u(p)),categories:h});case Ct.t:return It({},t,{status:dt.ERROR});case Ct.m:var f=function(t){var e=Object(Pt.b)(new Date(parseInt(t.startTime))),n=parseInt(t.duration),i=gt()(e).add({minutes:n}).toDate().getTime(),r=Object(Pt.a)().getTime(),o=kt.a.getWebinarsActiveAdditionTime(),s=kt.a.getWebinarsPreActiveAdditionTime();e=e.toDate().getTime();var a=t.isPremium,l=i+o<r,c=!l&&e-s<r&&r<i+o,u=!l&&!c&&e-s-At<r,d=!l&&!c&&!u&&e-s>r;return t._currentTime=r,t._start=new Date(e),t._end=new Date(i),t._isPast=l,t._isLive=c,t._isSoon=u,t._isUpcoming=d,t.allDay=!1,t._type=l&&Ct.i||c&&Ct.h||a&&Ct.j||u&&Ct.k||d&&Ct.l,t._period=l&&Ct.i||c&&Ct.h||u&&Ct.k||d&&Ct.l,t},m=V.a.chain(t.events).map(f),g=m.indexBy("id").value(),v=m.map(function(t){return t.id}).value(),b=m.reject(function(t){return t._isPast&&!t.historyVODUrl}).reject(function(t){return t._isPast&&!t.url}).value();return It({},t,{events:[].concat(u(b)),eventsMap:It({},g),eventsIds:[].concat(u(v)),calendarEvents:[].concat(u(b))});case Ct.H:return It({},t,{pageView:Ct.r});case Ct.G:return It({},t,{pageView:Ct.b});case Ct.c:return It({},t,{selectedDate:i});case Ct.e:return It({},t,{selectedSmallCalendarDate:i,selectedDate:i});case Ct.f:return It({},t,{selectedView:String(i).toUpperCase()});case Ct.d:return It({},t,{selectedEventId:i});case Ct.A:var y=t.selectedPastEventIndex,_=t.pastEventsCount,w=(y-1)%_;return It({},t,{morePrevPastEventAvailable:_&&w<_,moreNextPastEventAvailable:_&&w>0,selectedPastEventIndex:_?w:-1});case Ct.B:var S=t.selectedPastEventIndex,E=t.pastEventsCount,x=(S+1)%E;return It({},t,{morePrevPastEventAvailable:E&&x<E-1,moreNextPastEventAvailable:E&&x>0,selectedPastEventIndex:E?x:-1});case Ct.L:return It({},t,{watchWebinarId:i});case Ct.D:case Ct.I:var C=i.additionalData,T=C.eventId,k=(C.action,t.requests);return It({},t,{requests:It(c({},T,dt.PENDING),k)});case Ct.F:case Ct.K:var O=i.additionalData,P=O.eventId,I=O.action,A=i.responsePayload.data,M=t.requests;delete M[P];var N=t.eventsMap,D=N[P];return D.isRegistered=D&&A&&A.success&&"subscribe"===I,It({},t,{requests:It({},M)});case Ct.E:case Ct.J:var L=i.additionalData.eventId,R=t.requests;return delete R[L],It({},t,{requests:It({},R)});case Ct.v:var F=i.name,B=i.value;return"open"===F?It({},t,{isMobileSmallCalendarOpen:!!B}):t;case Ct.a:var U=i.value,j=t.events,z=[],H=[],G=V.a.chain(j);return U?(z=G.filter(function(t){return!t._isPast&&V.a.contains(U,t.category)}).pluck("id").value(),H=G.filter(function(t){return V.a.contains(U,t.category)}).value()):(z=G.filter(function(t){return!t._isPast}).pluck("id").value(),H=G.value()),It({},t,{futureEvents:[].concat(u(z)),calendarEvents:[].concat(u(H)),appliedFilters:It({},t.appliedFilters,{value:U})});case Ct.C:var W=t.events,q=V.a.pluck(V.a.filter(W,function(t){return!t._isPast}),"id"),$=V.a.pluck(V.a.filter(W,function(t){return t._isPast}),"id");$=V.a.sortBy($,function(e){return-1*Object(Ot.c)(t,e)});var Y=V.a.isEmpty($),X=V.a.size($),K=Y?-1:0,Q=!Y&&K!==X-1,J=!Y&&K>0,Z=V.a.first(V.a.filter(q,function(e){return!Object(Ot.f)(t,e)})),tt=V.a.groupBy(q,function(e){return gt()(Object(Ot.c)(t,e)).format("YYYY-MM")});return It({},t,{groupedFutureEvents:[].concat(u(tt)),futureEvents:[].concat(u(q)),pastEvents:[].concat(u($)),nextSessionEventId:Z,morePrevPastEventAvailable:Q,moreNextPastEventAvailable:J,selectedPastEventIndex:K,pastEventsCount:X});case Ct.x:return It({},t,{premiumWebinarsCheckerRequest:dt.LOADING});case Ct.z:return It({},t,{isPremiumEnabled:!!i.responsePayload,premiumWebinarsCheckerRequest:dt.SUCCESS})}return t}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,e=arguments[1],n=e.type,i=e.payload;switch(n){case Nt.f:var r=i.additionalData.ticker;return Dt({},t,h({},r,Dt({},t[r],{status:dt.LOADING})));case Nt.h:var o=i.additionalData,s=i.responsePayload,a=s.data,l=o.ticker,c=o.prevStateAll,u={},d=z.unique(z.map(a,function(t){return t.wire})),p=!z.isEmpty(c),f=[],m=[];d.unshift(__("news.page.filter.all"));for(var g in a){var v=a[g],b=String(v.ref).split("/")[1];u[b]=Dt({},u[b],v),v.image&&v.image!==z.capitalize(dt.NONE)&&f.push(b),p&&!c[b]&&m.push(b)}return Dt({},t,h({},l,Dt({},t[l],{status:dt.SUCCESS,lastUpdated:z.now(),news:u,isEmpty:z.isEmpty(u),newItemsId:m,headlineIds:f,availableFilters:d,count:z.size(a),filter:z.keys(u),selectedDropdownFilter:z.first(d),isFirstLoad:!1})));case Nt.g:var y=i.additionalData.ticker;return Dt({},t,h({},y,Dt({},t[y],{status:dt.ERROR,all:{},availableFilter:[],selectedDropdownFilter:""})));case Nt.c:return Dt({},t,h({},i,Dt({},Rt)));case Nt.m:var _=i.id,w=i.ticker;return Dt({},t,h({},w||Nt.a,Dt({},t[w||Nt.a],{selectedNewsId:_})));case Nt.i:return Dt({},t,h({},Nt.a,Dt({},t[Nt.a],{pageStatus:dt.OPEN})));case Nt.b:return Dt({},t,h({},Nt.a,Dt({},t[Nt.a],{pageStatus:dt.CLOSED,selectedNewsId:null})));case Nt.l:var S=i.ticker,E=i.name,x=t[S].news,C=z.filter(z.keys(x),function(t){return x[t].wire===E||E===__("news.page.filter.all")});return Dt({},t,h({},S,Dt({},t[S],{selectedDropdownFilter:E,filter:C,selectedNewsId:Lt.mobile()?null:z.first(C)})));case Nt.e:return Dt({},t,h({},Nt.a,Dt({},t[Nt.a],{refCount:t[Nt.a].refCount+1})));case Nt.d:return Dt({},t,h({},Nt.a,Dt({},t[Nt.a],{refCount:t[Nt.a].refCount-1})));case Nt.k:return Dt({},t,h({},i,Dt({},Rt)))}return t}function f(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,e=arguments[1],n=e.type,i=e.payload;switch(n){case Bt.a:return jt({},t,{status:dt.LOADING});case Bt.c:var r=i.responsePayload,o=z.isArray(r)&&[].concat(f(r))||[],s=Object(Ut.a)(),a=z.first(o),l=a&&a.playlist,c=l&&z.first(l),u=c&&c.url||"",d=a&&a.name||"";return jt({},t,{status:dt.SUCCESS,playlists:o,selectedUrl:z.has(s,"url")?s.url:u,selectedGroup:z.has(s,"group")?s.group:d});case Bt.b:return jt({},t,{status:dt.ERROR,playlists:{},selectedUrl:null});case Bt.g:return jt({},t,{selectedUrl:i});case Bt.f:return jt({},t,{selectedGroup:i,isOpenGroup:t.selectedGroup!==i||!t.isOpenGroup})}return t}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,e=arguments[1],n=e.type,i=e.payload;switch(n){case Vt.c:return Ht({},t,{list:i});case Vt.d:return Ht({},t,{list:Ht({},t.list,i)});case Vt.a:return Ht({},t,{list:{}});case Vt.b:var r=t.list;return r[i]&&delete r[i],Ht({},t,{list:Ht({},r)})}return t}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,e=arguments[1],n=e.payload;switch(e.type){case Wt.TRADING_SETTINGS__GET_SETTINGS:return qt({},t,{instruments:n});case Wt.TRADING_SETTINGS__EDIT_SETTINGS:return qt({},t,{tradingSettingsIdToEdit:n})}return t}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,e=arguments[1],n=e.type,i=e.payload;switch(n){case Kt.b:return te({},t,{timezone:te({},t.timezone,{status:Kt.f})});case Kt.d:var r=i.responsePayload,o=Zt.a.local,s=V.a.map(r.data,function(t){return t.id===Qt.LOCAL&&(t=te({},t,o.getUserTimezoneObjectItem())),t.displayName=__("user.timezone."+t.id.replace(/[^\w]/,"_").toLowerCase()),t});return te({},t,{timezone:{list:s,status:Kt.g}});case Kt.c:return te({},t,{timezone:{status:Kt.e}});case Kt.a:return te({},t,{isReloadNeeded:i})}return t}function y(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.payload;switch(e.type){case ne.f:return oe({},se);case ne.o:var i=n.responsePayload.data,r=V.a.first(i),o=V.a.first(t.intervals);return oe({},t,{classes:[].concat(y(i)),classesMap:V.a.indexBy(i,"id"),selectedClass:r&&r.id,statusOfClasses:dt.SUCCESS,selectedInterval:o&&o.value});case ne.n:return oe({},t,{statusOfClasses:dt.ERROR});case ne.g:return oe({},t,{alertsMap:{},alertsIds:[],alertsSymbols:[],filteredAlerts:[],statusOfAlerts:dt.LOADING});case ne.l:var s=n.responsePayload.data,a=V.a.chain([].concat(y(s))).reject(function(t){return V.a.isEmpty(t.symbol)||!re.a.getInstrumentBySymbol(t.symbol)}).map(function(t){return t._eventTime=Date.parse(t.eventTime),t._symbol=String(t.symbol).replace(/\//g,"~"),t}).sortBy(function(t){return-1*t._eventTime}),l=a.pluck("symbol").uniq().value(),c=a.map(function(t){return V.a.pick(t,"symbol","_eventTime","sentiment","message")}).groupBy("symbol").value();return oe({},t,{alertsSymbols:[].concat(y(l)),alertsMap:a.indexBy("id").value(),alertsIds:a.pluck("id").value(),statusOfAlerts:dt.SUCCESS,alertsBadges:c});case ne.k:return oe({},t,{statusOfAlerts:dt.ERROR});case ne.h:return oe({},t,{alertsBySymbolMap:{},alertsBySymbolIds:[],statusOfAlerts:dt.LOADING});case ne.j:var u=n.responsePayload.data,d=V.a.chain([].concat(y(u))).map(function(t){return t._eventTime=Date.parse(t.eventTime),t._symbol=String(t.symbol).replace(/\//g,"~"),t}).sortBy(function(t){return-1*t._eventTime}),h=d.map(function(t){return V.a.pick(t,"symbol","_eventTime","sentiment","message")}).groupBy("symbol").value();return oe({},t,{alertsBySymbolMap:d.indexBy("id").value(),alertsBySymbolIds:d.pluck("id").value(),statusOfAlerts:dt.SUCCESS,alertsBadges:oe({},t.alertsBadges,h)});case ne.i:return oe({},t,{alertsBySymbolMap:{},alertsBySymbolIds:[],statusOfAlerts:dt.ERROR});case ne.a:var p=t.alertsMap,f=t.alertsIds,m=t.selectedInstruments,g=t.selectedLevelOfConfidence,v=g.min,b=g.max,_=function(t){return t.percents>=v&&t.percents<=b},w=V.a.chain(f);return V.a.isEmpty(m)||(w=w.filter(function(t){return V.a.contains(m,p[t].symbol)})),w=w.filter(function(t){return p[t]&&_(p[t])}),oe({},t,{filteredAlerts:[].concat(y(w.value()))});case ne.u:return oe({},t,{selectedClass:n});case ne.v:return oe({},t,{selectedInstruments:n});case ne.s:return oe({},t,{selectedInstruments:[]});case ne.w:return oe({},t,{selectedInterval:n});case ne.x:var S=n.min,E=n.max;return oe({},t,{selectedLevelOfConfidence:{min:parseInt(S,10),max:parseInt(E,10)}});case ne.t:return oe({},t,{selectedAlertId:n});case ne.b:return oe({},t,{sentiment:null});case ne.p:return oe({},t,{statusOfSentiment:dt.LOADING});case ne.r:var x=n.responsePayload.data,C=V.a.isEmpty(x)?null:oe({},x);if(C){var T=C.sentimentHistory&&C.sentimentHistory.macd,k=C.priceHistory;C._prices=V.a.chain(k).map(function(t){return{date:Date.parse(t.date),value:t.value}}).sortBy(function(t){return t.date}).map(function(t){return{x:t.date,y:t.value}}).value(),C._sentiments=V.a.chain(T).map(function(t){return{date:Date.parse(t.date),value:t.value}}).sortBy(function(t){return t.date}).map(function(t){return{x:t.date,y:t.value}}).value()}return oe({},t,{statusOfSentiment:dt.SUCCESS,sentiment:C});case ne.q:return oe({},t,{sentiment:null,statusOfSentiment:dt.ERROR});case ne.z:var O=t.openRowAlerts;return O[n]?delete O[n]:O[n]=!0,oe({},t,{openRowAlerts:O});case ne.y:return oe({},t,{selectedAcuityNewsId:n})}return t}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function E(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.type,i=e.payload;switch(n){case ae.s:return ce({},t,{isOpened:i,isActiveMessageVisible:!1});case ae.y:return ce({},t,{apiStatus:dt.SUCCESS});case ae.x:return ce({},t,{apiStatus:dt.LOADING});case ae.w:return ce({},t,{apiStatus:dt.ERROR});case ae.A:return ce({},t,{status:dt.LOADING});case ae.B:return ce({},t,{status:dt.SUCCESS});case ae.z:return ce({},t,{status:dt.ERROR});case ae.e:var r,o=i.messageType,s=i.array,a=[].concat(S(t[o].newIds.list)),l=V.a.uniq([].concat(S(t[o].messages.list),S(s)),!0,function(t){return t.id});return l=V.a.map(l,function(t){return t.isNew&&a.push(t.id),t}),ce({},t,(r={},w(r,o,ce({},t[o],{messages:ue(l),newIds:ue(a)})),w(r,"lastUpdated",V.a.now()),r));case ae.d:var c,u=i.messageType,d=i.array,h=t[u],p=h.newIds.list,f=h.messages.list,m=V.a.filter(d,function(t){return!V.a.some(f,function(e){return e.id===t.id})}),g=V.a.map(m,function(t){return t.isNew=!0,V.a.contains(p,t.id)||p.push(t.id),t});return ce({},t,(c={},w(c,u,ce({},h,{messages:ue([].concat(S(g),S(f))),newIds:ue(p),unread:{count:h.unread.count+g.length},new:{count:h.new.count+g.length}})),w(c,"lastUpdated",V.a.now()),c));case ae.r:var v=i.messageType,b=i.array,y=0,_=t[v].new.count,E=t[v].seenIds.list,x=V.a.filter(t[v].newIds.list,function(t){return!V.a.contains(b,t)}),C=V.a.map(t[v].messages.list,function(t){return V.a.contains(b,t.id)&&(t.isNew=!1,E.push(t.id),y++),t});return ce({},t,w({},v,ce({},t[v],{messages:ue(C),newIds:ue(x),seenIds:ue(E),new:{count:_<0?0:_-y}})));case ae.a:var T=i.messageType,k=i.array,O=0,P=V.a.uniq([].concat(S(t[T].garbage.list),S(k))),I=V.a.filter(t[T].newIds.list,function(t){return!V.a.contains(P,t)}),A=V.a.map(t[T].messages.list,function(t){return V.a.contains(P,t.id)&&(t.isRead||t.isDeleted||O++,t.isDeleted=!0),t}),M=t[T].unread.count-O;return ce({},t,w({},T,ce({},t[T],{messages:ue(A),garbage:ue(P),newIds:ue(I),unread:{count:M<0?0:M}})));case ae.c:var N,D={},L=[],R=function(e){return V.a.map(t[e].messages.list,function(n){return V.a.contains(t[e].garbage.list,n.id)&&(n.isDeleted=!1,n.isRead||D[e]++,n.isNew&&(n.isNew=!1)),n})},F=function(e){return ce({},t[e],{messages:ue(L[e]),garbage:ue([]),unread:{count:t[e].unread.count+D[e]}})};return L=V.a.reduce(t.tabs,function(t,e){return D[e]=0,ce({},t,w({},e,R(e)))},{}),ce({},t,(N={},w(N,le.TYPE_PERSONAL,F(le.TYPE_PERSONAL)),w(N,le.TYPE_PLATFORM,F(le.TYPE_PLATFORM)),N));case ae.b:var B,U=V.a.reduce(t.tabs,function(e,n){var i=V.a.filter(t[n].messages.list,function(t){return!t.isDeleted});return ce({},e,w({},n,i))},{}),j=V.a.reduce(t.tabs,function(e,n){var i=t[n].garbage.list,r=V.a.filter(t[n].marked.list,function(t){return!V.a.contains(i,t)});return ce({},e,w({},n,r))},{}),z=V.a.reduce(t.tabs,function(e,n){var i=t[n].marked.list,r=V.a.filter(t[n].newIds.list,function(t){return!V.a.contains(i,t)});return ce({},e,w({},n,r))},{}),H=function(e){return ce({},t[e],{messages:ue(U[e]),marked:ue(j[e]),newIds:ue(z[e]),garbage:ue([])})};return ce({},t,(B={},w(B,le.TYPE_PERSONAL,H(le.TYPE_PERSONAL)),w(B,le.TYPE_PLATFORM,H(le.TYPE_PLATFORM)),B));case ae.m:var G=i.messageType,W=i.array,q=[].concat(S(t[G].marked.list),S(W));return ce({},t,w({},G,ce({},t[G],{marked:ue(q)})));case ae.p:var $=i.messageType,Y=i.array,X=V.a.filter(t[$].marked.list,function(t){return!V.a.contains(Y,t)});return ce({},t,w({},$,ce({},t[$],{marked:ue(X)})));case ae.q:var K;return ce({},t,(K={},w(K,le.TYPE_PERSONAL,ce({},t[le.TYPE_PERSONAL],{marked:ue([])})),w(K,le.TYPE_PLATFORM,ce({},t[le.TYPE_PLATFORM],{marked:ue([])})),K));case ae.n:var Q,J=i.messageType,Z=i.selected,tt=!0===Z?le.TAB_CHECKBOX_CHECKED:le.TAB_CHECKBOX_UNCHECKED,et=tt===le.TAB_CHECKBOX_CHECKED?V.a.map(t[J].messages.list,function(t){return t.id}):[];return ce({},t,(Q={},w(Q,J,ce({},t[J],{marked:ue(et)})),w(Q,"markAllCheckboxState",tt),Q));case ae.u:var nt;return ce({},t,(nt={},w(nt,t.activeTab,ce({},t[t.activeTab],{marked:ue([])})),w(nt,"activeTab",i),nt));case ae.t:return ce({},t,{activeMessage:i});case ae.v:return ce({},t,{isActiveMessageVisible:i});case ae.h:var it=0,rt=i.messageType,ot=i.array,st=V.a.map(t[rt].messages.list,function(t){return V.a.contains(ot,t.id)&&(t.isRead=!0,it++),t}),at=t[rt].unread.count-it;return ce({},t,w({},rt,ce({},t[rt],{messages:ue(st),unread:{count:at<0?0:at}})));case ae.i:var lt=0,ct=i.messageType,ut=i.isRead,ht=V.a.map(t[ct].messages.list,function(e){return V.a.contains(t[ct].marked.list,e.id)&&(e.isRead!==ut&&lt++,e.isRead=ut),e}),pt=ut?t[ct].unread.count-lt:t[ct].unread.count+lt;return ce({},t,w({},ct,ce({},t[ct],{messages:ue(ht),unread:{count:pt<0?0:pt}})));case ae.o:var ft=0,mt=i.messageType,gt=i.array,vt=V.a.map(t[mt].messages.list,function(t){return V.a.contains(gt,t.id)&&(t.isRead=!1,ft++),t});return ce({},t,w({},mt,ce({},t[mt],{messages:ue(vt),unread:{count:t[mt].unread.count+ft}})));case ae.C:var bt=t.activeTab,yt=t[bt],_t=yt.marked,wt=yt.messages,St=i,Et=le.TAB_CHECKBOX_INDETERMINATE;return 0===_t.count&&(Et=le.TAB_CHECKBOX_UNCHECKED),_t.count&&_t.count===wt.count&&(Et=le.TAB_CHECKBOX_CHECKED),ce({},t,{markAllCheckboxState:St||Et});case ae.D:var xt=i,Ct=t[xt].messages.list,Tt=t[xt].newIds.list,kt=V.a.map(Ct,function(t){if(t.isNew){var e=V.a.indexOf(Tt,t.id);e>-1&&Tt.splice(e,1),t.isNew=!1}return t});return ce({},t,w({},xt,ce({},t[xt],{messages:ue(kt),newIds:ue(Tt)})));case ae.g:var Ot=i.messageType,Pt=i.count;return V.a.contains(t.tabs,Ot)?ce({},t,w({},Ot,ce({},t[Ot],{unread:{count:Pt}}))):ce({},t);case ae.f:var It=i.messageType,At=i.count;return V.a.contains(t.tabs,It)?ce({},t,w({},It,ce({},t[It],{new:{count:At}}))):ce({},t);case ae.l:var Mt=i.additionalData.messageType;return V.a.contains(t.tabs,Mt)?ce({},t,w({},Mt,ce({},t[Mt],{seenIds:ue([])}))):ce({},t)}return t}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,e=arguments[1],n=e.type,i=e.payload;switch(n){case fe.c:var r=i.additionalData.symbol;return me({},t,{ANALYST_RESEARCH_REPORT:me({},t.ANALYST_RESEARCH_REPORT,x({},r,i.responsePayload.data))})}return t}function T(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,e=arguments[1],n=e.type,i=e.payload;switch(n){case Se.h:return Ee({},t,{ACCOUNT_METRICS:Ee({},i)});case Se.i:return Ee({},t,{ACCOUNT_SETTINGS:Ee({},i)});case Se.k:return Ee({},t,{pendingDeposit:i});case Se.g:return Ee({},t,{TOTALS:i[0]});case Se.a:var r=i,o=t.favoriteInstrumentSymbols;return o[r]=r,Ee({},t,{favorites:[].concat(T(t.favorites),[r]),favoriteInstrumentSymbols:Ee({},o),favoriteInstrumentSymbolsCount:V.a.keys(o).length});case Se.b:var s=i,a=t.favoriteInstrumentSymbols,l=t.favorites;a[s]&&delete a[s];var c=V.a.indexOf(l,s);return c>=0&&l.splice(c,1),Ee({},t,{favorites:[].concat(T(l)),favoriteInstrumentSymbols:Ee({},a),favoriteInstrumentSymbolsCount:V.a.keys(a).length});case Se.f:var u=V.a.reject(i,function(t){return V.a.isEmpty(t)||"null"===t||"undefined"===t}),d=t.favorites,h=V.a.uniq([].concat(T(d),T(u)));return Ee({},t,{favorites:[].concat(T(h)),favoriteInstrumentSymbols:Ee({},V.a.indexBy(h)),favoriteInstrumentSymbolsCount:V.a.size(h)});case Se.j:var p=V.a.uniq(V.a.reject(i,V.a.isEmpty));return Ee({},t,{favorites:[].concat(T(p))})}return t}function O(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function P(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,e=arguments[1],n=e.payload;switch(e.type){case Ce.g:var i=n;return V.a.isEmpty(i)&&(i=[].concat(O(Ce.a))),Te({},t,{myAccountActiveFields:i});case Ce.f:var r=[].concat(O(n.additionalData));return Te({},t,{myAccountActiveFields:r});case Ce.d:var o=[].concat(O(t.myAccountActiveFields));return Te({},t,{myAccountActiveFields:o});case Ce.k:return Te({},t,{myAccountIsOpened:n})}return t}function I(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,e=arguments[1],n=e.payload;switch(e.type){case Ie.i:return Me({},t,{isBloggersEnabled:n.responsePayload});case Ie.f:return Me({},t,{isAnalystsEnabled:n.responsePayload});case Ie.r:return Me({},t,{isHedgeFundsEnabled:n.responsePayload});case Ie.u:return Me({},t,{isInsidersEnabled:n.responsePayload});case Ie.c:return Me({},t,{isAcuityNewsSentimentEnabled:n.responsePayload});case Ie.A:return Me({},t,{isNewsSentimentEnabled:n.responsePayload});case Ie.x:return Me({},t,{isNewsFeedEnabled:n.responsePayload});case Ie.o:return Me({},t,{isEventsAndTradeEnabled:n.responsePayload});case Ie.l:return Me({},t,{isCustomerLevelsEnabled:n.responsePayload});case Ie.E:return Me({},t,n);case Ie.B:var i=n.additionalData,r=i.key,o=i.value;return Me({},t,I({},r,o))}return t}function M(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function N(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,e=arguments[1],n=e.type,i=e.payload;switch(n){case De.n:var r=e.instrumentsState.treePathsMap,o=String("/"+i+"/").split("/"),s=V.a.chain(o).compact().indexBy().value(),a="/"+V.a.keys(s).join("/")+"/",l=r[a],c=l&&V.a.pluck(l.elements,"symbol")||[];return Le({},t,{selectedInstrumentCategoryTreePath:a,selectedInstrumentCategoryTreeMap:s,selectedInstrumentCategorySymbols:[].concat(M(c))});case De.m:case De.q:return Le({},t,{selectedInstrumentCategorySymbol:i,instrumentDetailsSymbol:i});case De.i:return Le({},t,{instrumentDetailsState:dt.OPEN,instrumentDetailsSymbol:e.symbol});case De.d:return Le({},t,{instrumentDetailsState:dt.CLOSED});case De.r:return Le({},t,{section:i});case De.z:var u=i.title,d=i.titleKey,h=i.textLink,p=(i.url,d?__(d):u);return p=p===d?u:p,Le({},t,{header:{title:p,titleKey:d,prevBtnText:h}});case De.A:return Le({},t,{selectedInstrumentCategorySymbols:[].concat(M(i))});case De.f:return Le({},t,{dimensions:{width:window.innerWidth,height:window.innerHeight}});case De.h:return Le({},t,{asideBoxState:dt.OPEN});case De.c:return Le({},t,{asideBoxState:dt.CLOSED});case De.w:var f=t.asideBoxState;return Le({},t,{asideBoxState:f===dt.OPEN?dt.CLOSED:dt.OPEN});case De.k:var m=i.height,g=i.width,v=t.chart,b=v.height,y=v.width;return Le({},t,{chart:Le({},t.chart,{height:V.a.isUndefined(m)?b:m,width:V.a.isUndefined(g)?y:g})});case De.u:return Le({},t,{chart:Le({},t.chart,{visibility:dt.VISIBLE})});case De.e:return Le({},t,{chart:Le({},t.chart,{visibility:dt.HIDDEN})});case De.y:return Le({},t,{chart:Le({},t.chart,{state:i})});case De.p:return Le({},t,{selectedTabIdInstrumentDetails:i});case De.a:return Le({},t,{instrumentInfo:Le({},t.instrumentInfo,{visibility:i})});case De.x:var _=i.selectedCategoryPath,w=i.instruments.treePathsMap,S=function(t){return w[t]},E=function(t){return V.a.reject(Object(j.c)(S(t)),function(t){return V.a.isEmpty(t.elements)})},x=V.a.compact(String(_).split("/")),C=Object(j.b)(x,1),T=Object(j.b)(x,2),k=Object(j.b)(x,3),O=Object(j.b)(x,4),P=Object(j.g)(C),I=Object(j.g)(T),A=Object(j.g)(k),N=Object(j.g)(O),D=E(P),L=E(I),R=E(A);return Le({},t,{selectedCategorySections:Le({},t.selectedCategorySections,{tabs:D?[].concat(M(D)):null,groups:L?[].concat(M(L)):null,sectors:R?[].concat(M(R)):null,categoryUrl:P,tabUrl:I,groupUrl:A,sectorUrl:N,hasTabs:!V.a.isEmpty(D),hasGroups:!V.a.isEmpty(L),hasSectors:!V.a.isEmpty(R)})});case De.v:return Le({},t,{selectedInstrumentCategorySymbols:i});case De.s:return Le({},t,{symbolsSortName:i.name,symbolsSortDirection:i.direction});case De.j:return Le({},t,{symbolsSortName:Re.symbolsSortName,symbolsSortDirection:Re.symbolsSortDirection});case De.t:return Le({},t,{shouldInstrumentBeCentered:i});case De.o:return Le({},t,{selectedInstrumentDetailsNewsId:i})}return t}function D(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,e=arguments[1],n=e.type,i=e.payload;switch(n){case Be.a:return Ue({},t,{visibility:i});default:return t}}function L(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(B.combineReducers)({ui:N,instruments:i,positions:r,orders:o,commentaries:s,services:l,webinars:d,news:p,deepLinks:g,tradingSettings:v,accountSettingsPlatformFeature:b,education:m,acuityTrading:_,notificationCenter:E,eventsAndTrade:pe.a,insights:C,tipRanks:ve.u,bloggers:be.e,hedgeFunds:ye.f,insiders:_e.k,settings:A,newsSentiment:we.g,user:k,accountInfo:P,fundamental:Oe.u,priceAlerts:Pe.priceAlertsReducer,basket:Fe.basketReducer,hotjar:D}),n=window.__REDUX_STORE_WATCHER_RS__||function(t){return function(t){return function(e){return t(e)}}};return Object(B.createStore)(e,t,ze(Object(B.applyMiddleware)(U.default,xt,Xt,n)))}Object.defineProperty(e,"__esModule",{value:!0});var R,F,B=n(246),U=n(680),j=n(296),z=n(0),V=n.n(z),H=n(68),G=n.n(H),W=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),q={monday:"message.day0",tuesday:"message.day1",wednesday:"message.day2",thursday:"message.day3",friday:"message.day4",saturday:"message.day5",sunday:"message.day6"},$=function(t){return void 0===t?__("instrument_info.trading_hours"):t?__("instrument_info.current_trading_hours"):__("instrument_info.next_trading_hours")},Y=function(t){var e=V.a.isString(t.startDay)?__(q[t.startDay.toLowerCase()]):"",n=V.a.isString(t.endDay)?__(q[t.endDay.toLowerCase()]):"",i=W(t.tradingHours,2),r=i[0],o=i[1],s=e&&r&&n&&o?e+" "+r+" - "+n+" "+o+" GMT":"";return{name:$(t.active),value:G.a.tradingHours(s,t),html:G.a.tradingHours(s,t,!0),_raw:t,_originalValue:s}},X=function(t){var e="instrument_info.rollover_date.day_number."+t.dayNumberOfMonth,n=__(e);return n===e?t.dayNumberOfMonth:n},K=function(t){var e="instrument_info.day."+t.dayOfWeek,n=__(e);return n===e?t.dayOfWeek:n},Q=function(t){return t.months.map(function(t){return __("instrument_info.rollover_date.month."+t)}).join(", ")},J=function(t){t.value=__("instrument_info.rollover_date.text",X(t),K(t),Q(t))},Z=n(7),tt=function(t){return{marginRatePercent:t.marginRatePercent,marginRateValue:Math.ceil(100/(t.marginRatePercent||100)),maintenanceMarginValue:t.marginRatePercent*Z.getUserAccountSettingsModel().getLiquidationLevel()}},et=n(206),nt=n(643),it=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},rt={defaultInstrumentTreeCategoryPath:null,tree:[],treePathsMap:{},FX_INSTRUMENT:{},INSTRUMENT_SETTINGS_UPDATE:{},INSTRUMENT_TRADE_STATUSES:{},MARGINING_SETTINGS:{},QUOTE:{},ROLLOVER_DATES:{},SUMMARY:{},SWAP_RATES:{},TRADING_CALENDARS_SETTINGS:{},computed:{},idToSymbolMap:{},instrumentSymbolMap:{},instrumentLastQuoteTime:null,CRYPTO_INFO:null,subsCounters:{SWAP_RATES:{},MARGINING_SETTINGS:{},TRADING_CALENDARS_SETTINGS:{}}},ot=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(t&&e){e=Number(e),e=V.a.isNaN(e)?0:e;var i=e?(t-e).toFixed(n):(0).toFixed(n);i=Number(i);var r=0===i?"":i<0?"-":"+",o=0===i?0:i<0?-1:1;return i=0===i?"0":Number(Math.abs(i)).toFixed(n),{sign:r,dir:o,change:i}}},st=function(t,e){if(t&&e){e=Number(e),e=V.a.isNaN(e)?0:e;var n=e?((t-e)/e*100).toFixed(2):(0).toFixed(2);n=Number(n);var i=0===n?"":n<0?"-":"+",r=0===n?0:n<0?-1:1;return n=0===n?"0":Number(Math.abs(n)).toFixed(2),{sign:i,dir:r,change:n}}},at=n(641),lt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ct={POSITION_METRICS:{},OPEN_POSITION:{},OPEN_POSITION_FILTERS:[],instrumentPositions:{},instrumentPositionsCounter:{},closingPosition:{},totalPositionsCount:0},ut=n(642),dt=n(10),ht=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},pt={ORDER:{},instrumentOrders:{},instrumentOrdersCounter:{},count:0,totalOrdersCount:0},ft=n(681),mt=n(3),gt=n.n(mt),vt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},bt={namedKey:"service.commentaries.page.title",status:dt.EMPTY,lastUpdated:0,all:{},sortedItemsId:[],newItemsId:[],isFirstLoad:!0,count:0,enabled:!1,selectedCommentaryId:null,selectedCommentaryStatus:dt.EMPTY,pageStatus:dt.CLOSED},yt=n(216),_t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},wt={all:{},availableServices:[],selectedDropdownService:"",defaultService:"news"},St=n(834),Et=n(9),xt=(n(6),function(t){return function(e){return function(n){var i=n.type;n.payload;switch(i){case yt.a:t.dispatch(Object(St.b)(yt.h.SIGNALS,!0)),Et.checkForexliveEnabled().then(function(e){return t.dispatch(Object(St.b)(yt.h.COMMENTARY,e))}).catch(function(e){return t.dispatch(Object(St.a)(e,yt.h.COMMENTARY))}),Et.checkNewsFeedEnabled().then(function(e){return t.dispatch(Object(St.b)(yt.h.NEWS,e))}).catch(function(e){return t.dispatch(Object(St.a)(e,yt.h.NEWS))})}return e(n)}}}),Ct=n(285),Tt=n(9),kt=n.n(Tt),Ot=n(423),Pt=n(208),It=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},At=36e5,Mt={status:dt.EMPTY,lastUpdated:0,appliedFilters:{category:""},events:[],eventsMap:{},eventsIds:[],sortedRaw:[],futureEvents:[],calendarEvents:[],pastEvents:[],selectedPastEventIndex:-1,pastEventsCount:0,moreNextPastEventAvailable:!1,morePrevPastEventAvailable:!1,requests:{},count:0,enabled:!1,categories:[],pageView:Ct.b,selectedDate:null,selectedSmallCalendarDate:null,selectedView:Ct.M,selectedEventId:null,watchWebinarId:null,nextSessionEventId:null,premiumWebinarsCheckerRequest:dt.EMPTY,isPremiumEnabled:!1,isMobileSmallCalendarOpen:!1},Nt=n(280),Dt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Lt=n(15),Rt={status:dt.EMPTY,news:{},count:0,selectedNewsId:null,lastUpdated:0,isEmpty:!1,enabled:!1,isFirstLoad:!0,filter:[],headlineIds:[],pageStatus:dt.CLOSED,newItemsId:[],availableFilters:[],selectedDropdownFilter:"",refCount:0},Ft=h({namedKey:"service.news.page.title"},Nt.a,Dt({},Rt)),Bt=n(682),Ut=n(683),jt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},zt={status:dt.EMPTY,playlists:{},selectedUrl:null,selectedGroup:null,isOpenGroup:!0},Vt=n(684),Ht=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Gt={list:{}},Wt=n(176),qt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},$t={instruments:[],tradingSettingsIdToEdit:null},Yt=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Xt=function(t){var e=t.dispatch,n=t.getState;return function(t){return function(i){var r=i.types,o=i.callApi,s=i.shouldCallApi,a=void 0===s?function(t){return!0}:s,l=i.additionalData,c=void 0===l?{}:l;if(!r)return t(i);if(!Array.isArray(r)||3!==r.length||!r.every(function(t){return z.isString(t)||z.isFunction(t)}))throw new Error("Expected an array of three string types.");if("function"!=typeof o)throw new Error("Expected callApi to be a function.");if(a(n())){var u=Yt(r,3),d=u[0],h=u[1],p=u[2];return e(z.isFunction(d)?d({additionalData:c}):z.extend({},{type:d,payload:{additionalData:c}})),o().then(function(t){return z.isFunction(h)?(e(h(z.extend({},{responsePayload:t,additionalData:c}))),t):(e(z.extend({},{payload:{responsePayload:t,additionalData:c},type:h})),t)},function(t){var n=t.response;return z.isFunction(p)?(e(p(z.extend({},{additionalData:c,errorCode:z.property(n,"error"),error:!0}))),Promise.reject(n)):(e(z.extend({},{payload:{additionalData:c,errorCode:z.property(n,"error"),error:!0},type:p})),Promise.reject(n))})}}}},Kt=n(685),Qt=n(69),Jt=n(119),Zt=n.n(Jt),te=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ee={isReloadNeeded:!1,timezone:{list:[]}},ne=n(686),ie=n(14),re=n.n(ie),oe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},se={statusOfClasses:dt.EMPTY,statusOfAlerts:dt.EMPTY,statusOfAlertsBySymbol:dt.EMPTY,statusOfSentiment:dt.EMPTY,classesMap:{},alertsMap:{},alertsIds:[],alertsBySymbolMap:{},alertsBySymbolIds:[],alertsBySymbolBadges:{},openRowAlerts:{},alertsBadges:{},intervals:[{name:"acuity-trading.intervals.daily",value:ne.c},{name:"acuity-trading.intervals.hourly",value:ne.e}],sentiment:null,selectedAlertId:null,selectedClass:[],selectedInstruments:[],selectedInterval:[],selectedLevelOfConfidence:{min:70,max:100},filteredAlerts:[],selectedAcuityNewsId:null},ae=n(366),le=n(115),ce=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ue=function(t){return{list:[].concat(S(t)),count:V.a.size(t)}},de=function(){return{messages:ue([]),unread:{count:0},new:{count:0},newIds:ue([]),seenIds:ue([]),garbage:ue([]),marked:ue([])}},he=(R={tabs:[le.TYPE_PERSONAL,le.TYPE_PLATFORM]},w(R,le.TYPE_PERSONAL,de()),w(R,le.TYPE_PLATFORM,de()),w(R,"activeTab",le.TYPE_DEFAULT),w(R,"activeMessage",null),w(R,"isActiveMessageVisible",!1),w(R,"markAllCheckboxState",le.TAB_CHECKBOX_UNCHECKED),w(R,"status",dt.SUCCESS),w(R,"apiStatus",dt.SUCCESS),w(R,"isOpened",!1),w(R,"lastUpdated",V.a.now()),R),pe=n(840),fe=n(876),me=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ge={ANALYST_RESEARCH_REPORT:{}},ve=n(275),be=n(412),ye=n(410),_e=n(411),we=n(415),Se=n(360),Ee=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},xe={ACCOUNT_METRICS:{accountId:0,balance:0,buyingPower:0,equity:0,margin:0,profitLoss:0,riskLevel:0,activeBonusesAmount:0,maintenanceMargin:0,availableBalanceForWithdrawal:0},ACCOUNT_SETTINGS:{liquidationLevel:0,marginAlertLevel2:1,disableMarginChecks:!1},pendingDeposit:0,TOTALS:{},favorites:[],favoriteInstrumentSymbols:{},favoriteInstrumentSymbolsCount:0},Ce=n(177),Te=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ke={myAccountActiveFields:[].concat(O(Ce.a)),myAccountIsOpened:!1},Oe=n(803),Pe=n(244),Ie=n(669),Ae=n(430),Me=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ne=(F={isBloggersEnabled:null,isAnalystsEnabled:null,isHedgeFundsEnabled:null,isInsidersEnabled:null,isNewsSentimentEnabled:null,isEventsAndTradeEnabled:null,isCustomerLevelsEnabled:null,isAcuityNewsSentimentEnabled:null,isNewsFeedEnabled:null},I(F,Ae.b,!0),I(F,Ae.c,yt.h.NEWS),I(F,Ae.a,!0),F),De=n(678),Le=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Re={featuredCategoryPath:"/Trending_now/",selectedInstrumentCategorySymbols:null,selectedInstrumentCategorySymbol:null,selectedInstrumentCategoryTreePath:"",selectedInstrumentCategoryTreeMap:{},selectedTabIdInstrumentDetails:"",selectedCategory:{},selectedCategorySections:{tabs:null,groups:null,sectors:null,hasTabs:!1,hasGroups:!1,hasSectors:!1,tabUrl:null,groupUrl:null,sectorUrl:null},instrumentDetailsState:dt.CLOSED,instrumentDetailsSymbol:null,selectedInstrumentDetailsNewsId:null,instrumentInfo:{visibility:dt.HIDDEN},section:dt.UI_SECTION_TRADING,initialSection:dt.UI_SECTION_TRADING,header:{title:"",prevBtnText:""},asideBoxState:dt.OPEN,chart:{state:dt.EXPANDED,visibility:dt.HIDDEN,height:dt.BASIC_VIEW_INITIAL_CHART_HEIGHT,width:dt.AUTO},symbolsSortName:dt.INSTRUMENT_SORT.INSTRUMENT,symbolsSortDirection:dt.SORT_DIRECTION_ASC,shouldInstrumentBeCentered:!0},Fe=n(184),Be=n(693),Ue=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},je={showDelayAfterSeconds:60,visibility:dt.VISIBLE};e.default=L;var ze=B.compose},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var r=n(0),o=n(5),s=n(128),a=n(10),l=a.EMPTY,c=s.extend({events:function(){return r.extend({},r.result(s.prototype,"events"),{"click .dk-option":"onChangeList","change select":"onChange","click .chosen-elm .chosen-reset":"filterReset"})},initialize:function(){s.prototype.initialize.apply(this,arguments),this.setName(this.$el.attr("name")),this.$select=this.$el.find("select")[0],this.$dkSlectedText=this.$el.find(".dk-select .dk-selected"),this.$dkOptions=this.$el.find(".dk-option"),this.$chosenTotal=this.$el.find(".chosen-total span"),this.$mobileLabel=this.$el.find(".multi-select-mobile-label");var t=this.getDefaultValue();t&&this.setSelected(t,!1)},render:function(){s.prototype.render.apply(this,arguments),this.updateMobileLabel(this.value())},setSelected:function(t,e){this.$dkOptions.forEach(function(e){var n=o(e);n.find('[type="checkbox"]')[0].checked=r.contains(t,n.attr("data-value"))}),this.onChangeList(null,e)},onChangeList:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t){var n=o(t.currentTarget).find('[type="checkbox"]')[0];n.checked=!0!==n.checked}this.setValueFunction(e)},onChange:function(){s.prototype.onChange.apply(this,arguments),this.$dkSlectedText.html(this.getValueFunction(this.value())),this.updateMobileLabel(this.value())},setValueFunction:function(t){var e=r.filter(this.$dkOptions,function(t){return o(t).find("input:checked").length});this.setNativeSelectValue(this.$select,r.map(e,function(t){return o(t).attr("data-value")})),t&&o(this.$select).trigger("change")},value:function(t){if(r.isUndefined(t))return this.getNativeSelectValue();this.setSelected(t,!1)},getNativeSelectValue:function(){var t=this.$select.selectedOptions,e=r.reduce(t,function(t,e){return t.push(e.value),t},[]);return 0===e.length?[l]:e},setNativeSelectValue:function(t,e){for(var n=void 0,i=void 0,o=t.options,s=r.isArray(e)?e:e.split(","),a=o.length;a--;)i=o[a],(i.selected=s.indexOf(i.value)>-1)&&(n=!0);return n?s:(t.selectedIndex=-1,[l])},updateMobileLabel:function(t){this.$mobileLabel.html(this.getValueFunction(t))},getValueFunction:function(t){var e="",n=t.length,i=this.options,s=i.getValueFunction,a=i.allTranslationKey;if(1===t.length&&t[0]!==l){var c=r.filter(this.$dkOptions,function(e){return o(e).attr("data-value")===t[0]});e=s(o(c[0]).find(".dk-select-options__text"))}else t.length>1?e=__(a||"wizard.form.selected",t.length):(e=void 0!==this.options.emptyText?this.options.emptyText:__("wizard.form.label.DEFAULT_EMPTY"),n=0);return this.$chosenTotal.html(n||""),e},filterReset:function(t){this.setSelected([])}});i.exports=c}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports='<div class="field field-type-text-label" name="<%=name%>"><label class="title"> <% if (typeof title == \'undefined\') { %> <%=__(\'wizard.field.label.\' + translationKey)%> <% } else { %> <%=title%> <% } %> </label> <% if (typeof description !== \'undefined\' && description) { %> <label class="description"> <%=description%> </label> <% } %> </div><div class="field field-type-select <%=(disable ? \'field-disabled\' : \'\') + \' \' + (typeof disable === \'string\' ? disable : \'\')%>" name="<%=name%>" data-field-depends="<%=typeof dependent !== \'undefined\' ? _.pluck(dependent, \'name\').join(\' \') : \'\'%>"><label class="field-type-select__title"><span> <% if (typeof title == \'undefined\') { %> <%=__(\'registration.field.label.\' + translationKey)%> <% } else { %> <%=title%> <% } %> </span> <% if (typeof helpHintText !== \'undefined\') { %> <span class="question-tooltip"><div class="tooltiptext"> <%=helpHintText%> </div></span> <% } %> </label> <% var value = \'EMPTY\'; %> <div class="styled-select"><select class="form-control" default-value="<%=value%>"> <% _.each(options, function(option) { %> <% if (option === \'EMPTY\') { %> <option value="EMPTY" disabled="disabled" selected="selected" hidden> <%=typeof emptyText != \'undefined\' ? emptyText : __(\'wizard.form.label.DEFAULT_EMPTY\')%> </option> <% return %> <% } %> <% if (typeof isOptionDisabled === \'function\' ? !isOptionDisabled(option) : true) { %> <option value="<%=typeof transformOptionsValue === \'function\' ? transformOptionsValue(option) : option%>"> <% } %> <% if (typeof transformOptionText === \'function\') { %> <%= transformOptionText(option) %> <% } else if (typeof translationGroupPrefix !== \'undefined\' && typeof translationPrefix == \'undefined\') { %> <%=__(translationGroupPrefix + \'.\' + option)%> <% } else if (typeof translationGroupPrefix == \'undefined\' && typeof translationPrefix !== \'undefined\') { %> <%=__(translationPrefix) + option%> <% } else { %> <%=__((\'reg.questionary.cysec.\' + translationKey) + \'.\' + option)%> <% } %> </option> <% }); %> </select></div><div class="dk-select"><div class="dk-selected" tabindex="0"><%=typeof emptyText != \'undefined\' ? emptyText : __(\'wizard.form.label.DEFAULT_EMPTY\')%></div><ul class="dk-select-options <%=typeof overflowOptions !== \'undefined\' ? \'dk-select-overflow-options\' : \'\' %>" aria-expanded="false"> <% _.each(options, function(option) { %> <% if (option !== \'EMPTY\') { %> <li class="dk-option <%=typeof isOptionDisabled === \'function\' && isOptionDisabled(option) ? \'disabled\' : \'\' %>" data-value="<%=typeof transformOptionsValue === \'function\' ? transformOptionsValue(option) : option%>" aria-label="<%=typeof transformOptionToAriaLabel === \'function\' ? transformOptionToAriaLabel(option) : \'\'%>"> <% if (typeof transformOptionText === \'function\') { %> <%= transformOptionText(option) %> <% } else if (typeof translationGroupPrefix !== \'undefined\' && typeof translationPrefix == \'undefined\') { %> <%=__(translationGroupPrefix + \'.\' + option)%> <% } else if (typeof translationGroupPrefix == \'undefined\' && typeof translationPrefix !== \'undefined\') { %> <%=__(translationPrefix) + option%> <% } else { %> <%=__((\'reg.questionary.cysec.\' + translationKey) + \'.\' + option)%> <% } %> </li> <% } %> <% }); %> </ul></div><div class="field-tooltip"><div class="content"></div></div></div><div class="field field-type-multi-select-default <%=(disable ? \'field-disabled\' : \'\') + \' \' + (typeof disable === \'string\' ? disable : \'\')%>" name="<%=name%>" data-field-depends="<%=typeof dependent !== \'undefined\' ? _.pluck(dependent, \'name\').join(\' \') : \'\'%>"><label><span> <% if (typeof title == \'undefined\') { %> <%=__(\'registration.field.label.\' + translationKey)%> <% } else { %> <%=title%> <% } %> </span> <% if (typeof helpHintText !== \'undefined\') { %> <span class="question-tooltip"><div class="tooltiptext"> <%=helpHintText%> </div></span> <% } %> </label> <% var value = \'EMPTY\'; %> <div class="styled-select"><select class="form-control" default-value="<%=value%>" multiple="multiple"> <% _.each(options, function(option) { %> <% if (option === \'EMPTY\') { %> <option value="EMPTY" disabled="disabled" selected="selected" hidden> <%=typeof emptyText != \'undefined\' ? emptyText : __(\'wizard.form.label.DEFAULT_EMPTY\')%> </option> <% return %> <% } %> <option value="<%=typeof transformOptionsValue === \'function\' ? transformOptionsValue(option) : option%>"> <% if (typeof transformOptionText === \'function\') { %> <%= transformOptionText(option) %> <% } else if (typeof translationGroupPrefix !== \'undefined\' && typeof translationPrefix == \'undefined\') { %> <%=__(translationGroupPrefix + \'.\' + option)%> <% } else if (typeof translationGroupPrefix == \'undefined\' && typeof translationPrefix !== \'undefined\') { %> <%=__(translationPrefix) + option%> <% } else { %> <%=__((\'reg.questionary.cysec.\' + translationKey) + \'.\' + option)%> <% } %> </option> <% }); %> </select><div class="multi-select-mobile-label"></div></div><div class="dk-select chosen-elm"><div class="dk-selected chosen-header-wrapper" tabindex="0"> <%=typeof emptyText != \'undefined\' ? emptyText : __(\'wizard.form.label.DEFAULT_EMPTY\')%> </div><div class="chosen-content-wrapper"><div class="chosen-header"><div class="chosen-total"> <%= typeof totalSelectedText !== \'undefined\' ? totalSelectedText : __(\'wizard.form.total_selected\')%> <span></span></div><a class="chosen-reset"><%= typeof resetText !== \'undefined\' ? resetText : __(\'wizard.form.reset\')%></a></div><ul class="dk-select-options <%=typeof overflowOptions !== \'undefined\' ? \'dk-select-overflow-options\' : \'\' %>" aria-expanded="false"> <% _.each(options, function(option) { %> <% if (option !== \'EMPTY\') { %> <li class="dk-option" data-value="<%=typeof transformOptionsValue === \'function\' ? transformOptionsValue(option) : option%>"><input type="checkbox"> <span class="dk-select-options__text"> <% if (typeof transformOptionText === \'function\') { %> <%= transformOptionText(option) %> <% } else if (typeof translationGroupPrefix !== \'undefined\' && typeof translationPrefix == \'undefined\') { %> <%=__(translationGroupPrefix + \'.\' + option)%> <% } else if (typeof translationGroupPrefix == \'undefined\' && typeof translationPrefix !== \'undefined\') { %> <%=__(translationPrefix) + option%> <% } else { %> <%=__((\'reg.questionary.cysec.\' + translationKey) + \'.\' + option)%> <% } %> </span></li> <% } %> <% }); %> </ul></div></div><div class="field-tooltip"><div class="content"></div></div></div><div class="field field-type-select-country <%=(disable ? \'field-disabled\' : \'\') + \' \' + (typeof disable === \'string\' ? disable : \'\')%>" name="<%=name%>" data-field-depends="<%=typeof dependent !== \'undefined\' ? _.pluck(dependent, \'name\').join(\' \') : \'\'%>"><label><%=typeof title !== \'undefined\' ? title : __(\'registration.field.label.\' + translationKey)%></label> <% var value = \'EMPTY\'; %> <% if (typeof defaultValue !== \'undefined\') { %> <% value = defaultValue; %> <% } %> <div class="styled-select"><select class="form-control" default-value="<%=value%>"> <% _.each(options, function(option) { %> <% if (option === \'EMPTY\') { %> <option value="EMPTY" disabled="disabled" selected="selected" hidden> <%=__(\'wizard.form.label.DEFAULT_EMPTY\')%> </option> <% return %> <% } %> <option value="<%= option%>"> <%=__(translationGroupPrefix + \'.\' + option)%> </option> <% }); %> </select></div><div class="dk-select"><div class="dk-selected" tabindex="0"><%=__(\'wizard.form.label.DEFAULT_EMPTY\')%></div><ul class="dk-select-options" aria-expanded="false"> <% _.each(options, function(option) { %> <% if (option !== \'EMPTY\') { %> <li class="dk-option" data-value="<%=option%>"><span class="flag flag-<%=option.toLowerCase()%>"></span> <%=__(translationGroupPrefix + \'.\' + option)%> </li> <% } %> <% }); %> </ul></div><div class="field-tooltip"><div class="content"></div></div></div><div class="field field-type-multi-checkbox <%=disable ? \'field-disabled\' : \'\'%>" name="<%=name%>"><div class="title"><%=typeof title !== \'undefined\' ? title : __(\'registration.field.label.\' + translationKey)%></div> <% var value = \'\'; %> <% if (typeof savedData !== \'undefined\' && savedData) { %> <% value = savedData.join(\' \'); %> <% } %> <div class="checkbox-group-column" default-value="<%=value%>"> <% _.each(options, function(option) { %> <% var addValue =options.length> 1? \'.\' + option: \'\' %> <input type="checkbox" value="<%=option%>" id="<%=translationKey + \'_\' + option%>"><label for="<%=translationKey + \'_\' + option%>"> <%=__((typeof translationGroupPrefix !== \'undefined\' ? translationGroupPrefix + addValue : (\'registration.field.\' + translationKey)))%> </label> <% }); %> <div class="field-tooltip"><div class="content"></div></div></div></div><div class="field field-type-input <%=typeof dataBefore !== \'undefined\' ? \'has-title\' : \'\'%> <%=disable ? \'field-disabled\' : \'\'%> " name="<%=name%>" data-before="<%=typeof dataBefore !== \'undefined\' ? dataBefore: \'\'%>" data-field-depends="<%=typeof dependent !== \'undefined\' ? _.pluck(dependent, \'name\').join(\' \') : \'\'%>"><label><%=typeof title !== \'undefined\' ? title : __(\'registration.field.label.\' + translationKey)%></label> <% var value = \'\'; %> <% if (typeof defaultValue !== \'undefined\') { %> <% value = defaultValue; %> <% } %> <% var hasPlaceholder = !!(typeof placeholder !== \'undefined\' && placeholder); %> <input type="<%- (typeof type !== \'undefined\') ? type : \'text\'%>" class="form-control input-field" name="<%=name%>" placeholder="<%=hasPlaceholder ? placeholder : \'\'%>" default-value="<%=value%>"> <% if (typeof conversion !== \'undefined\') { %> <div class="field-conversion"><div class="content"></div></div> <% } %> <span class="field-status"></span><div class="field-tooltip"><div class="content"></div></div></div><div class="field field-type-input-addon <%=disable ? \'field-disabled\' : \'\'%>" data-field-depends="<%=typeof dependent !== \'undefined\' ? _.pluck(dependent, \'name\').join(\' \') : \'\'%>"><label><%=typeof title !== \'undefined\' ? title : __(\'registration.field.label.\' + translationKey)%></label> <% var value = \'\'; %> <% if (typeof defaultValue !== \'undefined\') { %> <% value = defaultValue; %> <% } %> <div class="form-control input-field flex flex-row"><input type="<%- (type !== \'undefined\') ? type : \'text\'%>" class="flex-stretch" name="<%=name%>" default-value="<%=value%>"> <% if (typeof addonText !== \'undefined\') { %><div class="flex flex-valign-center field-addonText"><%=addonText%></div><% } %> </div> <% if (typeof conversion !== \'undefined\') { %> <div class="field-conversion"><div class="content"></div></div> <% } %> <span class="field-status"></span><div class="field-tooltip"><div class="content"></div></div></div><div class="field field-type-textarea <%=disable ? \'field-disabled\' : \'\'%>" data-field-depends="<%=typeof dependent !== \'undefined\' ? _.pluck(dependent, \'name\').join(\' \') : \'\'%>"><label><%=typeof title !== \'undefined\' ? title : __(\'registration.field.label.\' + translationKey)%></label> <% var value = \'\'; %> <% if (typeof defaultValue !== \'undefined\') { %> <% value = defaultValue; %> <% } %> <textarea rows="<%=settings.rows%>" cols="<%=settings.cols%>" class="form-control textarea-field" name="<%=name%>" default-value="<%=value%>"></textarea><div class="field-tooltip"><div class="content"></div></div></div><div class="field field-type-phone <%=disable ? \'field-disabled\' : \'\'%>"><label><%=__(\'registration.field.label.\' + translationKey)%></label> <% var value = [\'\',\'\']; %> <% if (typeof savedData !== \'undefined\' && savedData && !_.contains(savedData, \'*\')) { %> <% value[0] = savedData.slice(0, savedData.indexOf(\'-\')) %> <% value[1] = savedData.slice(savedData.indexOf(\'-\') + 1) %> <% } %> <div class="form-complex-inline-input"><div class="styled-select"><select class="form-control" default-value="<%=value[0]%>"> <% _.each(options.countries, function(option) { %> <option value="<%=option.value ? option.value : \'\'%>"> <%="+" + option.value%></option> <% }); %> </select></div><div class="dk-select"> <% var countryCode = options.phoneToCountry[value[0]]%> <div class="dk-selected" tabindex="0"><span class="flag flag-<%=countryCode ? countryCode.toLowerCase() : \'unknown\' %>"></span> <%= value[0] ? \'+\' + value[0] : \'\'%> </div><ul class="dk-select-options" aria-expanded="false"> <% _.each(options.countries, function(option) { %> <li class="dk-option" data-value="<%=option.value ? option.value : \'\'%>"><span class="flag flag-<%=option.code%>"></span> <span class="select-code"><%="+" + option.value%></span><span class="select-country"><%= option.name%></span></li> <%}); %> </ul></div><input type="text" class="form-control" name="<%=name%>" default-value="<%=value[1]%>"></div><span class="field-status"></span><div class="field-tooltip"><div class="content"></div></div></div><div class="field field-type-date <%=disable ? \'field-disabled\' : \'\'%>" name="<%=name%>"><label><%=__(\'registration.field.label.\' + translationKey)%></label> <% var defaultValue = [\'01\', \'01\', \'1930\']; %> <% var value = [\'01\', \'01\', \'1930\']; %> <% var hasSavedData = !!(typeof savedData !== \'undefined\' && savedData); %> <% if (hasSavedData) { %> <% value = savedData.split(\'/\'); %> <% } %> <div class="form-complex-inline-input"><div class="styled-select"><select class="form-control" name="day" default-value="<%=hasSavedData ? value[0]: \'EMPTY\'%>"> <% if(!hasSavedData){%> <option value="EMPTY" disabled="disabled" selected="selected" hidden> <%=__(\'registration.field.date_of_birth.day\')%></option> <% } %> <% _.each(_.range(1, new Date(parseInt(value[2]), parseInt(value[1]), 0).getDate() + 1), function (num){ %> <% num = num < 10 ? (\'0\' + num) : num; %> <option value="<%=num%>"> <%=num%></option> <%}); %> </select></div><div class="dk-select dk-day"><div class="dk-selected" tabindex="0"><%=hasSavedData ? value[0]:\n                __(\'registration.field.date_of_birth.day\')%> </div><ul class="dk-select-options" aria-expanded="false"> <% _.each(_.range(1, new Date(parseInt(value[2]), parseInt(value[1]), 0).getDate() + 1), function (num){ %> <% num = num < 10 ? (\'0\' + num) : num; %> <li class="dk-option" data-value="<%=num%>"><%=num%></li> <%}); %> </ul></div> <%\n        var monthNames = options.splitByComma(__(\'calendar_monthNames\'));\n        %> <div class="styled-select"><select class="form-control" name="month" default-value="<%=hasSavedData ? value[1]: \'EMPTY\'%>"> <% if(!hasSavedData){%> <option value="EMPTY" disabled="disabled" selected="selected" hidden> <%=__(\'registration.field.date_of_birth.month\')%> </option> <% } %> <% _.each(monthNames, function (name, i){ %> <% i = (i + 1) < 10 ? (\'0\' + (i + 1)) : (i + 1); %> <option value="<%=i%>"> <%=name%></option> <% }); %> </select></div><div class="dk-select dk-month"><div class="dk-selected" tabindex="0"><%=hasSavedData ? monthNames[value[1].replace(/^0+/, \'\')-1]:\n                __(\'registration.field.date_of_birth.month\')%> </div><ul class="dk-select-options" aria-expanded="false"> <% _.each(monthNames, function (name, i){ %> <% i = (i + 1) < 10 ? (\'0\' + (i + 1)) : (i + 1); %> <li class="dk-option" data-value="<%=i%>"><%=name%></li> <%}); %> </ul></div><div class="styled-select"><select class="form-control" name="year" default-value="<%=hasSavedData ? value[2]: \'EMPTY\'%>"> <% _.each(_.range(parseInt(options.moment().subtract(options.minAge, \'y\').utc().format("YYYY")), parseInt(options.moment().subtract(options.maxAge, \'y\').utc().format("YYYY")), -1), function (num){ %> <option value="<%=num%>"> <%=num%> </option> <%});%> <% if(!hasSavedData){%> <option value="EMPTY" disabled="disabled" selected="selected" hidden> <%=__(\'registration.field.date_of_birth.year\')%> </option> <% } %> </select></div><div class="dk-select dk-year"><div class="dk-selected" tabindex="0"><%=hasSavedData ? value[2]:\n                __(\'registration.field.date_of_birth.year\')%> </div><ul class="dk-select-options" aria-expanded="false"> <% _.each(_.range(parseInt(options.moment().subtract(options.minAge, \'y\').utc().format("YYYY")), parseInt(options.moment().subtract(options.maxAge, \'y\').utc().format("YYYY")), -1), function (num){ %> <li class="dk-option" data-value="<%=num%>"><%=num%></li> <%}); %> </ul></div></div><div class="field-tooltip"><div class="content"></div></div></div><div class="field field-type-fatca <%=disable ? \'field-disabled\' : \'\'%>" name="<%=name%>"><label><%=__(\'registration.field.label.\' + translationKey)%></label><span><a href="<%=options[2].value%>" target="_blank"> <%=options[2].text%> </a></span> <% var value = \'\'; %> <% var hasSavedData = !!(typeof savedData !== \'undefined\' && savedData); %> <% if (hasSavedData) { %> <% value = savedData %> <% } %> <div class="radio-group-row" default-value="<%=hasSavedData ? value: \'\'%>"><label class="radio-inline"><input type="radio" name="<%=name%>_optradio" value="<%=options[0].value%>"><%=options[0].text%></label><label class="radio-inline"><input type="radio" name="<%=name%>_optradio" value="<%=options[1].value%>"><%=options[1].text%></label></div><div class="field-tooltip"><div class="content"></div></div></div><div class="field field-type-financial-exp <%=disable ? \'field-disabled\' : \'\'%>" name="<%=name%>"><label><%=__(\'registration.field.label.\' + translationKey)%></label> <% var value = \'\'; %> <% if (typeof savedData !== \'undefined\' && savedData) { %> <% value = savedData %> <% } %> <div class="radio-group-row" default-value="<%=value%>"><label class="radio-inline"><input type="radio" name="optradio" value="<%=options[0].value%>"><%=options[0].text%></label><label class="radio-inline"><input type="radio" name="optradio" value="<%=options[1].value%>"><%=options[1].text%></label><div class="field-tooltip"><div class="content"></div></div></div></div><div class="field field-type-radio-description <%=disable ? \'field-disabled\' : \'\'%>" name="<%=name%>"> <% var value = \'\'; %> <% var hasSavedData = !!(typeof savedData !== \'undefined\' && savedData); %> <% if (hasSavedData) { %> <% value = savedData %> <% } %> <% if (typeof title !== \'undefined\' && title) { %> <label><%=title%></label> <% } %> <% if (typeof description !== \'undefined\' && description) { %> <div class="description"><%=description%></div> <% } %> <% _.each(options, function(v) { %> <div><label class="radio-inline"> <% if (value.indexOf(v.valueOf()) !== -1 ) { %> <input type="radio" name="radioDescr" value="<%=v%>" autocomplete="off" checked="checked"><%=__(translationGroupPrefix + \'.\' + v)%> <% } else { %> <input type="radio" name="radioDescr" value="<%=v%>"><%=__(translationGroupPrefix + \'.\' + v)%> <% } %> </label></div> <% }) %> <div class="field-tooltip"><div class="content"></div></div></div><div class="field field-type-radio <%=disable ? \'field-disabled\' : \'\'%>" name="<%=name%>"><div class="flex flex-row flex-valign-center"> <% if (typeof tooltip != \'undefined\') { %> <i class="icon icon-info" data-tooltip-align="right" aria-label="<%=tooltip%>"></i><span>&nbsp;<%=label%>:</span> &nbsp; <% } %> <% _.each(items, function(v) { %> <label class="radio-inline"> <% if (v.checked) { %> <input type="radio" name="<%-name%>" checked="checked" value="<%=v.value%>"><%=v.text%> <% } else { %> <input type="radio" name="<%-name%>" value="<%=v.value%>"><%=v.text%> <% } %> <span class="checkmark"></span></label> <% }) %> </div><div class="field-tooltip"><div class="content"></div></div></div><div class="field field-type-checkbox <%=disable ? \'field-disabled\' : \'\'%> <%=typeof className !== \'undefined\' ? className : \'\' %> "> <% var value = \'\'; %> <% if (typeof savedData !== \'undefined\' && savedData) { %> <% value = savedData %> <% } %> <div class="checkbox-row"> <% if (typeof checked !== \'undefined\' && checked === true) { %> <input type="checkbox" value="<%=options.value%>" id="<%=translationKey + \'_\' + options.value%>" name="<%=name%>" default-value="<%=value%>" parse-string="<%=options.parseString ? \'true\' : \'\'%>" checked="true"> <% } else { %> <input type="checkbox" value="<%=options.value%>" id="<%=translationKey + \'_\' + options.value%>" name="<%=name%>" default-value="<%=value%>" parse-string="<%=options.parseString ? \'true\' : \'\'%>"> <% } %> <label for="<%=translationKey + \'_\' + options.value%>"><span class="checkbox_label_inline"><%=typeof title !== \'undefined\' ? title : __(\'registration.field.label.\' + translationKey)%></span></label> <% if (typeof hint != \'undefined\') { %> <span class="question-tooltip" data-tooltip-align="right" aria-label="<%=hint%>"></span> <% } %> <div class="field-tooltip"><div class="content"></div></div></div></div><div class="field field-type-file <%=disable ? \'field-disabled\' : \'\'%>"><div class="description"><%-description%></div><label class="fileContainer"><div class="title"><%-title%></div><div class="selected-files"></div><input type="file" name="<%=name%>"></label><div class="field-tooltip"><div class="content"></div></div></div><div class="field field-type-datepicker <%=disable ? \'field-disabled\' : \'\'%>"><div class="field-element-container"><div class="form-inline"><div class="form-group inner-addon right-addon"><label for="<%-name%>-element" class="flex flex-row flex-valign-center"> <% if (typeof label != \'undefined\') { %> <div class="label"><%=label%></div> <% } %> <input type="text" class="flex flex-stretch" name="<%=name%>" id="<%-name%>-element"> <i class="glyphicon icon-calendar"></i></label></div></div></div><div class="field-tooltip"><div class="content"></div></div></div><div class="field field-type-timepicker <%=disable ? \'field-disabled\' : \'\'%>"><div class="field-element-container"><div class="form-inline"><div class="form-group inner-addon right-addon"><label for="<%-name%>-element" class="flex flex-row flex-valign-center"> <% if (typeof label != \'undefined\') { %> <div class="label"><%=label%></div> <% } %> <input type="text" class="flex flex-stretch" name="<%=name%>" id="<%-name%>-element"> <i class="glyphicon icon-watch"></i></label></div></div></div><div class="field-tooltip"><div class="content"></div></div></div><div class="field field-type-multi-select <%=(disable ? \'field-disabled\' : \'\') + \' \' + (typeof disable === \'string\' ? disable : \'\')%>" name="<%=name%>" data-field-depends="<%=  _.isArray(dependent) ? _.pluck(dependent, \'name\').join(\' \') : \'\'%>"><label><%=typeof title !== \'undefined\' ? title : __(\'registration.field.label.\' + translationKey)%></label> <% var value = \'EMPTY\'; %> <div class="styled-select"><select class="form-control" default-value="<%=value%>" multiple="multiple"> <% _.each(options, function(option) { %> <% if (option !== \'EMPTY\') { %> <option value="<%= option%>"> <%=__(translationGroupPrefix + \'.\' + option)%> </option> <% } %> <% }); %> </select><div class="multi-select-mobile-label"></div></div><div class="multi-select"></div><div class="field-tooltip"><div class="content"></div></div></div><div class="field field-type-yes-no-details <%=disable ? \'field-disabled\' : \'\'%>" name="<%=name%>" data-field-depends="<%=typeof dependent !== \'undefined\' ? _.pluck(dependent, \'name\').join(\' \') : \'\'%>"><label><%=typeof title !== \'undefined\' ? title : __(\'registration.field.label.\' + translationKey)%> <% if (!!(typeof link !== \'undefined\' && link)) { %> <span><a href="<%=link.href%>" target="_blank"><%=link.text%></a></span> <% } %> </label> <% var hasSavedData = !!(typeof savedData !== \'undefined\' && savedData); %> <% var value = hasSavedData ? savedData : \'\'; %> <% var hasDetails = !!(typeof details !== \'undefined\' && details); %> <div class="form-complex-inline-input <%=hasDetails ? details.type + \'-details\' : \'\'%>"><div class="radio-group-row" default-value="<%=value%>" details-option="<%=hasDetails ? details.option : \'\'%>"><label class="radio-inline"><input type="radio" name="<%=name%>_optradio" value="<%=options[0].value%>"><%=options[0].text%></label><label class="radio-inline"><input type="radio" name="<%=name%>_optradio" value="<%=options[1].value%>"><%=options[1].text%></label></div> <% if (hasDetails) { %> <% if (details.type == "input"){ %> <input type="text" class="form-control input-field details-input-field <%= details.option === value ? \'\' : \'hidden\' %>" default-value="<%=details.value%>" placeholder="<%=details.placeholder%>" max_length="<%=details.max_length%>" name="<%=name%>_details"> <% } %> <% if (details.type == "textarea"){ %> <textarea type="text" class="form-control input-field details-input-field <%= details.option === value ? \'\' : \'hidden\' %> " default-value="<%=details.value%>" placeholder="<%=details.placeholder%>" max_length="<%=details.max_length%>" name="<%=name%>_details">\n                </textarea> <% } %> <% } %> </div><span class="field-status"></span><div class="field-tooltip"><div class="content"></div></div></div>'},function(t,e){},function(t,e){t.exports='<div class="spin-number__input-container flex-stretch"></div><div class="spin-number__controls flex flex-valign-center"><div class="flex flex-column"><div class="spin-number__control-up flex-stretch"></div><div class="spin-number__control-slide"></div><div class="spin-number__control-down flex-stretch"></div></div></div>'},function(t,e){},function(t,e){},function(t,e){t.exports='<div class="field field-rollout field-type-rollout"> <%=(title ? \'<div class="field-title">\'+title+\'</div>\' : \'\')%> <div class="label"><div class="switcher"><label><span class="flex flex-row flex-valign-center platform-features__controls"> <%=(onText ? \'<div>\'+onText+\'</div>\' : \'\')%> <div class="platform-features__switcher"><div class="platform-features__switcher-body"> <%=(\'<input type="checkbox" name="\'+name+\'" \' + (checked ? "checked" : "") + \' \' + (disable ? "disabled" : "") + \' class="ios-switch green small"/>\')%><div><div></div></div></div></div> <%=(offText ? \'<div>\'+offText+\'</div>\' : \'\')%> </span></label></div></div></div>'},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){t.exports='<label class="slider-step-title hidden-sm hidden-md hidden-lg"><%=__default(\'registration.step.title.\' + model.get(\'title\'),"")%></label><div class="form <%=model.get(\'title\')%>"><div class="top"> <%_.each(model.get(\'top\'), function (elem){ %> <%if (_.isFunction(elem.template)){%> <%=elem.template(elem)%> <%}%> <%})%> </div><div class="form-body"> <%_.each(model.get(\'form\'), function (column, i, form){%> <div class="form-col"> <%_.each(column, function (elem, i){%> <%if (_.isFunction(elem.template)){%> <%=elem.template(elem)%> <%}%> <%})%> </div><div class="form-col-separator"><div></div></div> <%});%> </div> <% if (!_.isEmpty(model.get(\'bottom\'))) { %> <div class="bottom"> <%_.each(model.get(\'bottom\'), function (elem){ %> <%if (_.isFunction(elem.template)){%> <%=elem.template(elem)%> <%}%> <%})%> </div> <% } %> </div>'},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(0),s=n(3),a=n(23),l=n(128),c=n(86),u=o.template("                <% var range = typeof maxDays !== 'undefined' ? maxDays : (new Date(selectedYear, selectedMonth, 0).getDate() + 1); %>                <option value='EMPTY' disabled selected > <%=__('registration.field.date_of_birth.day')%> </option>                <% _.each(_.range(1, range), function (num){ %>                    <% num = num < 10 ? ('0' + num) : num; %>                    <option value='<%=num%>'> <%=num%> </option>                <%}); %>"),d=o.template("                <% var range = typeof maxDays !== 'undefined' ? maxDays : (new Date(selectedYear, selectedMonth, 0).getDate() + 1); %>                <% _.each(_.range(1, range), function (num){ %>                    <% num = num < 10 ? ('0' + num) : num; %>                    <li class='dk-option' data-value='<%=num%>'><%=num%></li>                <%}); %>"),h=o.template("                <%var monthNames = splitByComma(__('calendar_monthNames')); %>                <option value='EMPTY' disabled selected hidden> <%=__('registration.field.date_of_birth.month')%> </option>                <% _.each(_.range(1, maxMonths), function (num, i){ %>                    <% var name = monthNames[i];%>                    <% i = (i + 1) < 10 ? ('0' + (i + 1)) : (i + 1); %>                        <option value='<%=i%>'><%=name%></option>                <% }); %>"),p=o.template("                <%var monthNames = splitByComma(__('calendar_monthNames')); %>                <% _.each(_.range(1, maxMonths), function (num, i){ %>                    <% var name = monthNames[i];%>                    <% i = (i + 1) < 10 ? ('0' + (i + 1)) : (i + 1); %>                        <li class='dk-option' data-value='<%=i%>'><%=name%></li>                <% }); %>"),f=l.extend({events:function(){return o.extend({},o.result(l.prototype,"events"),{"click .fieldset-legend":"toggleContent","change [name=month]":"onMonthChange","change [name=year]":"onYearChange","click .dk-day .dk-option":"onChangeListDay","click .dk-month .dk-option":"onChangeListMonth","click .dk-year .dk-option":"onChangeListYear"})},listener:function(t){this.$el.find("[name=year]")[t]("onfocus",this.onFocus),this.$el.find("[name=month]")[t]("onfocus",this.onFocus),this.$el.find("[name=day]")[t]("onfocus",this.onFocus),this.$el.find("[name=year]")[t]("onblur",this.onBlur),this.$el.find("[name=month]")[t]("onblur",this.onBlur),this.$el.find("[name=day]")[t]("onblur",this.onBlur),this.$el.find(".dk-year .dk-selected")[t]("onfocus",this.onFocus),this.$el.find(".dk-month .dk-selected")[t]("onfocus",this.onFocus),this.$el.find(".dk-day .dk-selected")[t]("onfocus",this.onFocus),this.$el.find(".dk-year .dk-selected")[t]("onblur",this.onBlur),this.$el.find(".dk-month .dk-selected")[t]("onblur",this.onBlur),this.$el.find(".dk-day .dk-selected")[t]("onblur",this.onBlur)},initialize:function(){l.prototype.initialize.apply(this,arguments),this.setName(this.$el.attr("name"));var t=this.getDefaultValue();this.day(t.day),this.month(t.month),this.year(t.year),this.calculateMaxValues(),this.listener("on"),this.day()&&this.month()&&this.year()&&this.onYearChange()},calculateMaxValues:function(){this.maxYear=parseInt(this.$el.find("[name=year] :first-child")[0].value);var t=parseInt(s().format("YYYY"))-this.maxYear,e=s().subtract(t,"y").subtract(1,"d");this.maxMonths=parseInt(e.format("MM")),this.maxDays=parseInt(e.format("DD"))},getMonthMaxDays:function(t,e){return t=parseInt(t),e=parseInt(e),e===this.maxYear&&t===this.maxMonths?parseInt(this.maxDays):parseInt(new Date(e,t,0).getDate())},onMonthChange:function(t){var e=this.getMonthMaxDays(this.month(),this.year());if(!o.isNaN(e)){var n="EMPTY";"EMPTY"!=this.day()&&parseInt(this.day())<=e&&(n=this.day()),this.$el.find("[name=day]").html(u({selectedMonth:this.month(),selectedYear:this.year(),maxDays:e+1})),this.$el.find(".dk-day").find("ul").html(d({selectedMonth:this.month(),selectedYear:this.year(),maxDays:e+1})),"EMPTY"!=n?this.$el.find(".dk-day .dk-selected").html(n):this.$el.find(".dk-day .dk-selected").html(__("registration.field.date_of_birth.day")),this.day(n)}},onYearChange:function(t){var e=this.month(),n=this.maxMonths+1;parseInt(this.year())===this.maxYear?e=this.month()>this.maxMonths?"EMPTY":this.month():n=13,this.$el.find("[name=month]").html(h({maxMonths:n,splitByComma:a.splitByComma})),this.$el.find(".dk-month").find("ul").html(p({maxMonths:n,splitByComma:a.splitByComma}));var i=a.splitByComma(__("calendar_monthNames"));"EMPTY"!=e?this.$el.find(".dk-month .dk-selected").html(i[parseInt(e)-1]):this.$el.find(".dk-month .dk-selected").html(__("registration.field.date_of_birth.month")),this.month(e),this.onMonthChange()},field:function(t,e){return o.isUndefined(e)?this.$el.find("[name="+t+"]").val():this.$el.find("[name="+t+"]").val(e)},year:function(t){return this.field("year",t)},month:function(t){return this.field("month",t)},day:function(t){return this.field("day",t)},value:function(){return this.day()+"/"+this.month()+"/"+this.year()},getDefaultValue:function(){return{year:this.$el.find("[name=year]").attr("default-value"),month:this.$el.find("[name=month]").attr("default-value"),day:this.$el.find("[name=day]").attr("default-value")}},isEmpty:function(t){return o.isEmpty(t)||"EMPTY"===t},validate:function(){var t=this.getFilters(),e=this.getRules(),n=new c(t,e),i={birthDate:this.isEmpty(this.day())||this.isEmpty(this.month())||this.isEmpty(this.year())?"":this.value()};this.hideTooltip(),this.setDefaultState();var r=n.validate(i);return!1!==r&&this.fieldError(r),r},inFocus:function(){return this.$el.find("[name=year]:focus, [name=month]:focus, [name=day]:focus, .dk-selected:focus").length>0},onFocus:function(t){this.$el.removeClass("field-error"),this.hideTooltip()},onBlur:function(t){this.inputBuffer="",setTimeout(function(){this.inFocus()||this.validate()&&(this.$el.addClass("field-error"),this.showTooltip())}.bind(this),100)},onChangeList:function(t,e){var n=this.$el.find(".dk-"+e+".dk-select");n.removeClass("dk-select-open-down").find(".dk-select-options").attr("aria-expanded",!1),n.find(".dk-selected").html(this.options.getValueFunction(r(t.target)))[0].focus(),this.options.setValueFunction(n,r(t.target).attr("data-value")),this.$el.removeClass("field-error"),this.hideTooltip(),3==this.$el.find(".field-ok").length&&this.$el.addClass("field-ok"),this.fireChangeEvent(),this.executeCustomOnChange(t)},onChangeListDay:function(t){this.$el.find(".dk-day").addClass("field-ok"),this.onChangeList(t,"day")},onChangeListMonth:function(t){this.$el.find(".dk-month").addClass("field-ok"),this.onChangeList(t,"month")},onChangeListYear:function(t){this.$el.find(".dk-year").addClass("field-ok"),this.onChangeList(t,"year")},destroy:function(){l.prototype.destroy.call(this),this.listener("off")}});i.exports=f}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(689),o=n(0),s=(n(178),r.extend({onPlus:function(t){var e=this,n=function(){var t=parseFloat(e.value()),n=e.options.max;o.isNaN(t)&&(t=0),(!e.options.increment||e.options.increment<e.options.step)&&(e.options.increment=e.options.step),t+=e.options.increment,o.isNumber(n)&&t>n&&(t=n),t=Number(t).toFixed(e.options.precision),e.value(t),e.validateButtons(),e.validate(),e.trigger("change",e)};this.options.repeat&&this.onStop(),this.setState({pristine:!1}),this.state.plusDisabled||this.isDisabled()||function(){n(),e.options.repeat=setInterval(n,e.options.spead)}()},onMinus:function(t){var e=this,n=function(){var t=parseFloat(e.value()),n=e.options.min;o.isNaN(t)||((!e.options.increment||e.options.increment<e.options.step)&&(e.options.increment=e.options.step),t-=e.options.increment,o.isNumber(n)&&t<n&&(t=n),t=Number(t).toFixed(e.options.precision),e.value(t),e.validateButtons(),e.validate(),e.trigger("change",e))};this.options.repeat&&this.onStop(),this.setState({pristine:!1}),this.state.minusDisabled||this.isDisabled()||function(){n(),e.options.repeat=setInterval(n,e.options.spead)}()}}));i.exports=s}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i,r){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l,c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0!==(l=function(t,e,r){var l=n(128),u=n(0),d=n(1391).default,h=n(1),p=n(16),f=n(86),m=n(10),g=m.EMPTY,v=n(33),b=function(t){function e(t){o(this,e);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return v(n),n}return a(e,t),c(e,[{key:"handleMouseDown",value:function(t){t.preventDefault(),t.stopPropagation(),this.props.onSelect(this.props.option,t)}},{key:"handleMouseEnter",value:function(t){this.props.onFocus(this.props.option,t)}},{key:"handleMouseMove",value:function(t){this.props.isFocused||this.props.onFocus(this.props.option,t)}},{key:"render",value:function(){return h.createElement("div",{className:this.props.className,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,title:this.props.option.title},h.createElement("span",{className:"flag flag-"+this.props.option.value.toLowerCase()}),this.props.children)}}]),e}(h.Component),y=function(t){function e(t){o(this,e);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={removeSelected:!0,disabled:!1,closeOnSelect:!1,value:[],rtl:"rtl"===i("html").attr("dir")},v(n),n}return a(e,t),c(e,[{key:"handleSelectChange",value:function(t){u.isArray(t)||(t=t.split(d.defaultProps.delimiter)),t=u.filter(t,function(t){return t!==g}),t.length>this.props.maxValues&&(t=u.first(t,this.props.maxValues)),this.setState({value:t.join(d.defaultProps.delimiter)}),this.props.onChange&&this.props.onChange(t)}},{key:"onFocus",value:function(t){u.isFunction(this.props.onFocus)&&this.props.onFocus(t)}},{key:"onBlur",value:function(t){u.isFunction(this.props.onBlur)&&this.props.onBlur(t)}},{key:"render",value:function(){var t=this.state,e=t.disabled,n=t.closeOnSelect,i=t.value;return h.createElement(d,{closeOnSelect:n,disabled:e,clearable:!1,multi:!0,onBlur:this.onBlur,onFocus:this.onFocus,onChange:this.handleSelectChange,options:this.props.options,placeholder:__("wizard.form.label.DEFAULT_EMPTY"),removeSelected:this.state.removeSelected,optionComponent:b,rtl:this.state.rtl,simpleValue:!0,value:i})}}]),e}(h.Component);r.exports=l.extend({events:function(){return u.extend({},u.result(l.prototype,"events"),{"change select":"onNativeSelectChange","focus select":"onFocus","blur select":"onBlur"})},initialize:function(){l.prototype.initialize.apply(this,arguments),this.setName(this.$el.attr("name")),this.$select=this.$el.find("select")[0],this.selectData=this.optionsToData(this.$select),this.$reactSelect=p.render(h.createElement(y,{options:this.selectData.list,maxValues:10,onChange:this.onReactSelectChange.bind(this),onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this)}),this.$el.find(".multi-select")[0]),this.setDefaultValue()},optionsToData:function(t){var e={list:[],map:{}};return u.each(t.options,function(t){t.value!==g&&(e.list.push(u.pick(t,"label","value")),e.map[t.value]=t.label)}),e},onReactSelectChange:function(t){this.value(t)},onNativeSelectChange:function(){var t=this.value();t.length>10&&this.value(u.first(t,10)),this.onChange()},onChange:function(){var t=this.value();this.$reactSelect.handleSelectChange(t),this.fireChangeEvent(),this.executeCustomOnChange(),this.updateMobileLabel(t),this.isEnabled()&&this.validate()},updateMobileLabel:function(t){var e=this;if(u.isEmpty(t)||t[0]===g)this.$el.find(".multi-select-mobile-label").html(__("wizard.form.label.DEFAULT_EMPTY"));else{var n=u.map(t,function(t){return e.selectData.map[t]}).join(", ");u.isEmpty(t)||(n=t.length+": "+n),this.$el.find(".multi-select-mobile-label").html(n)}},onFocus:function(t){this.$el.removeClass("field-error"),this.hideTooltip()},onBlur:function(){this.validate()},value:function(t){if(u.isUndefined(t))return this.getNativeSelectValue(this.$select);var e=this.getNativeSelectValue(this.$select);t=this.setNativeSelectValue(this.$select,t),f.prototype.rules.not_equals_array(e,t)&&this.onChange()},render:function(){l.prototype.render.apply(this,arguments),this.updateMobileLabel(this.value())},disableElement:function(){this.$el.addClass("field-disabled"),this.$el.find("select").attr("disabled",!0)},enableElement:function(){this.$el.removeClass("field-disabled"),this.$el.find("select").removeAttr("disabled")},getDefaultValue:function(){return[this.$el.find("select").attr("default-value")]},getNativeSelectValue:function(t){for(var e=t.options,n=t.selectedIndex,i="select-one"===t.type,r=i?null:[],o=i?n+1:e.length,s=n<0?o:i?n:0;s<o;s++){var a=e[s];if(a.selected||s===n){var l=a.value;if(i)return l;r.push(l)}}return u.isEmpty(r)?[g]:r},setNativeSelectValue:function(t,e){var n=u.isArray(e)?e:e.split(","),i=t.options,r=!1;return u.forEach(i,function(t){t.selected=n.indexOf(t.value)>-1,t.selected&&(r=!0)}),r?n:(t.selectedIndex=-1,[g])},unmount:function(){p.unmountComponentAtNode(this.$el.find(".multi-select")[0])}})}.call(e,n,e,t))&&(t.exports=l)}).call(e,n(5),n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"Async",function(){return G}),n.d(e,"AsyncCreatable",function(){return J}),n.d(e,"Creatable",function(){return W}),n.d(e,"Value",function(){return I}),n.d(e,"Option",function(){return P}),n.d(e,"defaultMenuRenderer",function(){return y}),n.d(e,"defaultArrowRenderer",function(){return h}),n.d(e,"defaultClearRenderer",function(){return p}),n.d(e,"defaultFilterOptions",function(){return b});var i=n(1392),r=n.n(i),o=n(59),s=n.n(o),a=n(20),l=n.n(a),c=n(1),u=n.n(c),d=n(16),h=(n.n(d),function(t){var e=t.onMouseDown;return u.a.createElement("span",{className:"Select-arrow",onMouseDown:e})});h.propTypes={onMouseDown:l.a.func};var p=function(){return u.a.createElement("span",{className:"Select-clear",dangerouslySetInnerHTML:{__html:"&times;"}})},f=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],m=function(t){for(var e=0;e<f.length;e++)t=t.replace(f[e].letters,f[e].base);return t},g=function(t){return t.replace(/^\s+|\s+$/g,"")},v=function(t){return void 0!==t&&null!==t&&""!==t},b=function(t,e,n,i){return i.ignoreAccents&&(e=m(e)),i.ignoreCase&&(e=e.toLowerCase()),i.trimFilter&&(e=g(e)),n&&(n=n.map(function(t){return t[i.valueKey]})),t.filter(function(t){if(n&&n.indexOf(t[i.valueKey])>-1)return!1;if(i.filterOption)return i.filterOption.call(void 0,t,e);if(!e)return!0;var r=t[i.valueKey],o=t[i.labelKey],s=v(r),a=v(o);if(!s&&!a)return!1;var l=s?String(r):null,c=a?String(o):null;return i.ignoreAccents&&(l&&"label"!==i.matchProp&&(l=m(l)),c&&"value"!==i.matchProp&&(c=m(c))),i.ignoreCase&&(l&&"label"!==i.matchProp&&(l=l.toLowerCase()),c&&"value"!==i.matchProp&&(c=c.toLowerCase())),"start"===i.matchPos?l&&"label"!==i.matchProp&&l.substr(0,e.length)===e||c&&"value"!==i.matchProp&&c.substr(0,e.length)===e:l&&"label"!==i.matchProp&&l.indexOf(e)>=0||c&&"value"!==i.matchProp&&c.indexOf(e)>=0})},y=function(t){var e=t.focusedOption,n=t.focusOption,i=t.inputValue,r=t.instancePrefix,o=t.onFocus,a=t.onOptionRef,l=t.onSelect,c=t.optionClassName,d=t.optionComponent,h=t.optionRenderer,p=t.options,f=t.removeValue,m=t.selectValue,g=t.valueArray,v=t.valueKey,b=d;return p.map(function(t,d){var p=g&&g.some(function(e){return e[v]===t[v]}),y=t===e,_=s()(c,{"Select-option":!0,"is-selected":p,"is-focused":y,"is-disabled":t.disabled});return u.a.createElement(b,{className:_,focusOption:n,inputValue:i,instancePrefix:r,isDisabled:t.disabled,isFocused:y,isSelected:p,key:"option-"+d+"-"+t[v],onFocus:o,onSelect:l,option:t,optionIndex:d,ref:function(t){a(t,y)},removeValue:f,selectValue:m},h(t,d,i))})};y.propTypes={focusOption:l.a.func,focusedOption:l.a.object,inputValue:l.a.string,instancePrefix:l.a.string,onFocus:l.a.func,onOptionRef:l.a.func,onSelect:l.a.func,optionClassName:l.a.string,optionComponent:l.a.func,optionRenderer:l.a.func,options:l.a.array,removeValue:l.a.func,selectValue:l.a.func,valueArray:l.a.array,valueKey:l.a.string};var _=function(t){t.preventDefault(),t.stopPropagation(),"A"===t.target.tagName&&"href"in t.target&&(t.target.target?window.open(t.target.href,t.target.target):window.location.href=t.target.href)},w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S=(function(){function t(t){this.value=t}function e(e){function n(t,e){return new Promise(function(n,r){var a={key:t,arg:e,resolve:n,reject:r,next:null};s?s=s.next=a:(o=s=a,i(t,e))})}function i(n,o){try{var s=e[n](o),a=s.value;a instanceof t?Promise.resolve(a.value).then(function(t){i("next",t)},function(t){i("throw",t)}):r(s.done?"return":"normal",s.value)}catch(t){r("throw",t)}}function r(t,e){switch(t){case"return":o.resolve({value:e,done:!0});break;case"throw":o.reject(e);break;default:o.resolve({value:e,done:!1})}o=o.next,o?i(o.key,o.arg):s=null}var o,s;this._invoke=n,"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),E=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),x=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},T=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},k=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},O=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},P=function(t){function e(t){S(this,e);var n=O(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.handleMouseDown=n.handleMouseDown.bind(n),n.handleMouseEnter=n.handleMouseEnter.bind(n),n.handleMouseMove=n.handleMouseMove.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n.handleTouchEnd=n.handleTouchEnd.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.onFocus=n.onFocus.bind(n),n}return T(e,t),E(e,[{key:"handleMouseDown",value:function(t){t.preventDefault(),t.stopPropagation(),this.props.onSelect(this.props.option,t)}},{key:"handleMouseEnter",value:function(t){this.onFocus(t)}},{key:"handleMouseMove",value:function(t){this.onFocus(t)}},{key:"handleTouchEnd",value:function(t){this.dragging||this.handleMouseDown(t)}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"onFocus",value:function(t){this.props.isFocused||this.props.onFocus(this.props.option,t)}},{key:"render",value:function(){var t=this.props,e=t.option,n=t.instancePrefix,i=t.optionIndex,r=s()(this.props.className,e.className);return e.disabled?u.a.createElement("div",{className:r,onMouseDown:_,onClick:_},this.props.children):u.a.createElement("div",{className:r,style:e.style,role:"option","aria-label":e.label,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,id:n+"-option-"+i,title:e.title},this.props.children)}}]),e}(u.a.Component);P.propTypes={children:l.a.node,className:l.a.string,instancePrefix:l.a.string.isRequired,isDisabled:l.a.bool,isFocused:l.a.bool,isSelected:l.a.bool,onFocus:l.a.func,onSelect:l.a.func,onUnfocus:l.a.func,option:l.a.object.isRequired,optionIndex:l.a.number};var I=function(t){function e(t){S(this,e);var n=O(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.handleMouseDown=n.handleMouseDown.bind(n),n.onRemove=n.onRemove.bind(n),n.handleTouchEndRemove=n.handleTouchEndRemove.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n}return T(e,t),E(e,[{key:"handleMouseDown",value:function(t){if("mousedown"!==t.type||0===t.button)return this.props.onClick?(t.stopPropagation(),void this.props.onClick(this.props.value,t)):void(this.props.value.href&&t.stopPropagation())}},{key:"onRemove",value:function(t){t.preventDefault(),t.stopPropagation(),this.props.onRemove(this.props.value)}},{key:"handleTouchEndRemove",value:function(t){this.dragging||this.onRemove(t)}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"renderRemoveIcon",value:function(){if(!this.props.disabled&&this.props.onRemove)return u.a.createElement("span",{className:"Select-value-icon","aria-hidden":"true",onMouseDown:this.onRemove,onTouchEnd:this.handleTouchEndRemove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove},"×")}},{key:"renderLabel",value:function(){return this.props.onClick||this.props.value.href?u.a.createElement("a",{className:"Select-value-label",href:this.props.value.href,target:this.props.value.target,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown},this.props.children):u.a.createElement("span",{className:"Select-value-label",role:"option","aria-selected":"true",id:this.props.id},this.props.children)}},{key:"render",value:function(){return u.a.createElement("div",{className:s()("Select-value",this.props.value.className),style:this.props.value.style,title:this.props.value.title},this.renderRemoveIcon(),this.renderLabel())}}]),e}(u.a.Component);I.propTypes={children:l.a.node,disabled:l.a.bool,id:l.a.string,onClick:l.a.func,onRemove:l.a.func,value:l.a.object.isRequired};var A=function(t){return"string"==typeof t?t:null!==t&&JSON.stringify(t)||""},M=l.a.oneOfType([l.a.string,l.a.node]),N=l.a.oneOfType([l.a.string,l.a.number]),D=1,L=function(t,e){var n=t.inputValue,i=t.isPseudoFocused,r=t.isFocused,o=e.onSelectResetsInput;return!n||!o&&!(!r&&i||r&&!i)},R=function(t,e,n){var i=t.inputValue,r=t.isPseudoFocused,o=t.isFocused,s=e.onSelectResetsInput;return!i||!s&&!n&&!r&&!o},F=function(t,e){var n=void 0===t?"undefined":w(t);if("string"!==n&&"number"!==n&&"boolean"!==n)return t;var i=e.options,r=e.valueKey;if(i)for(var o=0;o<i.length;o++)if(String(i[o][r])===String(t))return i[o]},B=function(t,e){return!t||(e?0===t.length:0===Object.keys(t).length)},U=function(t){function e(t){S(this,e);var n=O(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return["clearValue","focusOption","getOptionLabel","handleInputBlur","handleInputChange","handleInputFocus","handleInputValueChange","handleKeyDown","handleMenuScroll","handleMouseDown","handleMouseDownOnArrow","handleMouseDownOnMenu","handleTouchEnd","handleTouchEndClearValue","handleTouchMove","handleTouchOutside","handleTouchStart","handleValueClick","onOptionRef","removeValue","selectValue"].forEach(function(t){return n[t]=n[t].bind(n)}),n.state={inputValue:"",isFocused:!1,isOpen:!1,isPseudoFocused:!1,required:!1},n}return T(e,t),E(e,[{key:"componentWillMount",value:function(){this._instancePrefix="react-select-"+(this.props.instanceId||++D)+"-";var t=this.getValueArray(this.props.value);this.props.required&&this.setState({required:B(t[0],this.props.multi)})}},{key:"componentDidMount",value:function(){this.props.autofocus,(this.props.autoFocus||this.props.autofocus)&&this.focus()}},{key:"componentWillReceiveProps",value:function(t){var e=this.getValueArray(t.value,t);t.required?this.setState({required:B(e[0],t.multi)}):this.props.required&&this.setState({required:!1}),this.state.inputValue&&this.props.value!==t.value&&t.onSelectResetsInput&&this.setState({inputValue:this.handleInputValueChange("")})}},{key:"componentDidUpdate",value:function(t,e){if(this.menu&&this.focused&&this.state.isOpen&&!this.hasScrolledToOption){var n=Object(d.findDOMNode)(this.focused),i=Object(d.findDOMNode)(this.menu),r=i.scrollTop,o=r+i.offsetHeight,s=n.offsetTop,a=s+n.offsetHeight;(r>s||o<a)&&(i.scrollTop=n.offsetTop),this.hasScrolledToOption=!0}else this.state.isOpen||(this.hasScrolledToOption=!1);if(this._scrollToFocusedOptionOnUpdate&&this.focused&&this.menu){this._scrollToFocusedOptionOnUpdate=!1;var l=Object(d.findDOMNode)(this.focused),c=Object(d.findDOMNode)(this.menu),u=l.getBoundingClientRect(),h=c.getBoundingClientRect();u.bottom>h.bottom?c.scrollTop=l.offsetTop+l.clientHeight-c.offsetHeight:u.top<h.top&&(c.scrollTop=l.offsetTop)}if(this.props.scrollMenuIntoView&&this.menuContainer){var p=this.menuContainer.getBoundingClientRect();window.innerHeight<p.bottom+this.props.menuBuffer&&window.scrollBy(0,p.bottom+this.props.menuBuffer-window.innerHeight)}if(t.disabled!==this.props.disabled&&(this.setState({isFocused:!1}),this.closeMenu()),e.isOpen!==this.state.isOpen){this.toggleTouchOutsideEvent(this.state.isOpen);var f=this.state.isOpen?this.props.onOpen:this.props.onClose;f&&f()}}},{key:"componentWillUnmount",value:function(){this.toggleTouchOutsideEvent(!1)}},{key:"toggleTouchOutsideEvent",value:function(t){t?!document.addEventListener&&document.attachEvent?document.attachEvent("ontouchstart",this.handleTouchOutside):document.addEventListener("touchstart",this.handleTouchOutside):!document.removeEventListener&&document.detachEvent?document.detachEvent("ontouchstart",this.handleTouchOutside):document.removeEventListener("touchstart",this.handleTouchOutside)}},{key:"handleTouchOutside",value:function(t){this.wrapper&&!this.wrapper.contains(t.target)&&this.closeMenu()}},{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"blurInput",value:function(){this.input&&this.input.blur()}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"handleTouchEnd",value:function(t){this.dragging||this.handleMouseDown(t)}},{key:"handleTouchEndClearValue",value:function(t){this.dragging||this.clearValue(t)}},{key:"handleMouseDown",value:function(t){if(!(this.props.disabled||"mousedown"===t.type&&0!==t.button)){if("INPUT"===t.target.tagName)return void(this.state.isFocused?this.state.isOpen||this.setState({isOpen:!0,isPseudoFocused:!1}):(this._openAfterFocus=this.props.openOnClick,this.focus()));if(t.preventDefault(),!this.props.searchable)return this.focus(),this.setState({isOpen:!this.state.isOpen});if(this.state.isFocused){this.focus();var e=this.input,n=!0;"function"==typeof e.getInput&&(e=e.getInput()),e.value="",this._focusAfterClear&&(n=!1,this._focusAfterClear=!1),this.setState({isOpen:n,isPseudoFocused:!1,focusedOption:null})}else this._openAfterFocus=this.props.openOnClick,this.focus(),this.setState({focusedOption:null})}}},{key:"handleMouseDownOnArrow",value:function(t){this.props.disabled||"mousedown"===t.type&&0!==t.button||(this.state.isOpen?(t.stopPropagation(),t.preventDefault(),this.closeMenu()):this.setState({isOpen:!0}))}},{key:"handleMouseDownOnMenu",value:function(t){this.props.disabled||"mousedown"===t.type&&0!==t.button||(t.stopPropagation(),t.preventDefault(),this._openAfterFocus=!0,this.focus())}},{key:"closeMenu",value:function(){this.props.onCloseResetsInput?this.setState({inputValue:this.handleInputValueChange(""),isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi}):this.setState({isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi}),this.hasScrolledToOption=!1}},{key:"handleInputFocus",value:function(t){if(!this.props.disabled){var e=this.state.isOpen||this._openAfterFocus||this.props.openOnFocus;e=!this._focusAfterClear&&e,this.props.onFocus&&this.props.onFocus(t),this.setState({isFocused:!0,isOpen:!!e}),this._focusAfterClear=!1,this._openAfterFocus=!1}}},{key:"handleInputBlur",value:function(t){if(this.menu&&(this.menu===document.activeElement||this.menu.contains(document.activeElement)))return void this.focus();this.props.onBlur&&this.props.onBlur(t);var e={isFocused:!1,isOpen:!1,isPseudoFocused:!1};this.props.onBlurResetsInput&&(e.inputValue=this.handleInputValueChange("")),this.setState(e)}},{key:"handleInputChange",value:function(t){var e=t.target.value;this.state.inputValue!==t.target.value&&(e=this.handleInputValueChange(e)),this.setState({inputValue:e,isOpen:!0,isPseudoFocused:!1})}},{key:"setInputValue",value:function(t){if(this.props.onInputChange){var e=this.props.onInputChange(t);null!=e&&"object"!==(void 0===e?"undefined":w(e))&&(t=""+e)}this.setState({inputValue:t})}},{key:"handleInputValueChange",value:function(t){if(this.props.onInputChange){var e=this.props.onInputChange(t);null!=e&&"object"!==(void 0===e?"undefined":w(e))&&(t=""+e)}return t}},{key:"handleKeyDown",value:function(t){if(!(this.props.disabled||"function"==typeof this.props.onInputKeyDown&&(this.props.onInputKeyDown(t),t.defaultPrevented)))switch(t.keyCode){case 8:!this.state.inputValue&&this.props.backspaceRemoves&&(t.preventDefault(),this.popValue());break;case 9:if(t.shiftKey||!this.state.isOpen||!this.props.tabSelectsValue)break;t.preventDefault(),this.selectFocusedOption();break;case 13:t.preventDefault(),t.stopPropagation(),this.state.isOpen?this.selectFocusedOption():this.focusNextOption();break;case 27:t.preventDefault(),this.state.isOpen?(this.closeMenu(),t.stopPropagation()):this.props.clearable&&this.props.escapeClearsValue&&(this.clearValue(t),t.stopPropagation());break;case 32:if(this.props.searchable)break;if(t.preventDefault(),!this.state.isOpen){this.focusNextOption();break}t.stopPropagation(),this.selectFocusedOption();break;case 38:t.preventDefault(),this.focusPreviousOption();break;case 40:t.preventDefault(),this.focusNextOption();break;case 33:t.preventDefault(),this.focusPageUpOption();break;case 34:t.preventDefault(),this.focusPageDownOption();break;case 35:if(t.shiftKey)break;t.preventDefault(),this.focusEndOption();break;case 36:if(t.shiftKey)break;t.preventDefault(),this.focusStartOption();break;case 46:!this.state.inputValue&&this.props.deleteRemoves&&(t.preventDefault(),this.popValue())}}},{key:"handleValueClick",value:function(t,e){this.props.onValueClick&&this.props.onValueClick(t,e)}},{key:"handleMenuScroll",value:function(t){if(this.props.onMenuScrollToBottom){var e=t.target;e.scrollHeight>e.offsetHeight&&e.scrollHeight-e.offsetHeight-e.scrollTop<=0&&this.props.onMenuScrollToBottom()}}},{key:"getOptionLabel",value:function(t){return t[this.props.labelKey]}},{key:"getValueArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n="object"===(void 0===e?"undefined":w(e))?e:this.props;if(n.multi){if("string"==typeof t&&(t=t.split(n.delimiter)),!Array.isArray(t)){if(null===t||void 0===t)return[];t=[t]}return t.map(function(t){return F(t,n)}).filter(function(t){return t})}var i=F(t,n);return i?[i]:[]}},{key:"setValue",value:function(t){var e=this;if(this.props.autoBlur&&this.blurInput(),this.props.required){var n=B(t,this.props.multi);this.setState({required:n})}this.props.simpleValue&&t&&(t=this.props.multi?t.map(function(t){return t[e.props.valueKey]}).join(this.props.delimiter):t[this.props.valueKey]),this.props.onChange&&this.props.onChange(t)}},{key:"selectValue",value:function(t){var e=this;this.props.closeOnSelect&&(this.hasScrolledToOption=!1);var n=this.props.onSelectResetsInput?"":this.state.inputValue;this.props.multi?this.setState({focusedIndex:null,inputValue:this.handleInputValueChange(n),isOpen:!this.props.closeOnSelect},function(){e.getValueArray(e.props.value).some(function(n){return n[e.props.valueKey]===t[e.props.valueKey]})?e.removeValue(t):e.addValue(t)}):this.setState({inputValue:this.handleInputValueChange(n),isOpen:!this.props.closeOnSelect,isPseudoFocused:this.state.isFocused},function(){e.setValue(t)})}},{key:"addValue",value:function(t){var e=this.getValueArray(this.props.value),n=this._visibleOptions.filter(function(t){return!t.disabled}),i=n.indexOf(t);this.setValue(e.concat(t)),n.length-1===i?this.focusOption(n[i-1]):n.length>i&&this.focusOption(n[i+1])}},{key:"popValue",value:function(){var t=this.getValueArray(this.props.value);t.length&&!1!==t[t.length-1].clearableValue&&this.setValue(this.props.multi?t.slice(0,t.length-1):null)}},{key:"removeValue",value:function(t){var e=this,n=this.getValueArray(this.props.value);this.setValue(n.filter(function(n){return n[e.props.valueKey]!==t[e.props.valueKey]})),this.focus()}},{key:"clearValue",value:function(t){t&&"mousedown"===t.type&&0!==t.button||(t.preventDefault(),this.setValue(this.getResetValue()),this.setState({inputValue:this.handleInputValueChange(""),isOpen:!1},this.focus),this._focusAfterClear=!0)}},{key:"getResetValue",value:function(){return void 0!==this.props.resetValue?this.props.resetValue:this.props.multi?[]:null}},{key:"focusOption",value:function(t){this.setState({focusedOption:t})}},{key:"focusNextOption",value:function(){this.focusAdjacentOption("next")}},{key:"focusPreviousOption",value:function(){this.focusAdjacentOption("previous")}},{key:"focusPageUpOption",value:function(){this.focusAdjacentOption("page_up")}},{key:"focusPageDownOption",value:function(){this.focusAdjacentOption("page_down")}},{key:"focusStartOption",value:function(){this.focusAdjacentOption("start")}},{key:"focusEndOption",value:function(){this.focusAdjacentOption("end")}},{key:"focusAdjacentOption",value:function(t){var e=this._visibleOptions.map(function(t,e){return{option:t,index:e}}).filter(function(t){return!t.option.disabled});if(this._scrollToFocusedOptionOnUpdate=!0,!this.state.isOpen){var n={focusedOption:this._focusedOption||(e.length?e["next"===t?0:e.length-1].option:null),isOpen:!0};return this.props.onSelectResetsInput&&(n.inputValue=""),void this.setState(n)}if(e.length){for(var i=-1,r=0;r<e.length;r++)if(this._focusedOption===e[r].option){i=r;break}if("next"===t&&-1!==i)i=(i+1)%e.length;else if("previous"===t)i>0?i-=1:i=e.length-1;else if("start"===t)i=0;else if("end"===t)i=e.length-1;else if("page_up"===t){var o=i-this.props.pageSize;i=o<0?0:o}else if("page_down"===t){var s=i+this.props.pageSize;i=s>e.length-1?e.length-1:s}-1===i&&(i=0),this.setState({focusedIndex:e[i].index,focusedOption:e[i].option})}}},{key:"getFocusedOption",value:function(){return this._focusedOption}},{key:"selectFocusedOption",value:function(){if(this._focusedOption)return this.selectValue(this._focusedOption)}},{key:"renderLoading",value:function(){if(this.props.isLoading)return u.a.createElement("span",{className:"Select-loading-zone","aria-hidden":"true"},u.a.createElement("span",{className:"Select-loading"}))}},{key:"renderValue",value:function(t,e){var n=this,i=this.props.valueRenderer||this.getOptionLabel,r=this.props.valueComponent;if(!t.length){return R(this.state,this.props,e)?u.a.createElement("div",{className:"Select-placeholder"},this.props.placeholder):null}var o=this.props.onValueClick?this.handleValueClick:null;return this.props.multi?t.map(function(t,e){return u.a.createElement(r,{disabled:n.props.disabled||!1===t.clearableValue,id:n._instancePrefix+"-value-"+e,instancePrefix:n._instancePrefix,key:"value-"+e+"-"+t[n.props.valueKey],onClick:o,onRemove:n.removeValue,placeholder:n.props.placeholder,value:t},i(t,e),u.a.createElement("span",{className:"Select-aria-only"}," "))}):L(this.state,this.props)?(e&&(o=null),u.a.createElement(r,{disabled:this.props.disabled,id:this._instancePrefix+"-value-item",instancePrefix:this._instancePrefix,onClick:o,placeholder:this.props.placeholder,value:t[0]},i(t[0]))):void 0}},{key:"renderInput",value:function(t,e){var n,i=this,o=s()("Select-input",this.props.inputProps.className),a=this.state.isOpen,l=s()((n={},x(n,this._instancePrefix+"-list",a),x(n,this._instancePrefix+"-backspace-remove-message",this.props.multi&&!this.props.disabled&&this.state.isFocused&&!this.state.inputValue),n)),c=this.state.inputValue;!c||this.props.onSelectResetsInput||this.state.isFocused||(c="");var d=C({},this.props.inputProps,{"aria-activedescendant":a?this._instancePrefix+"-option-"+e:this._instancePrefix+"-value","aria-describedby":this.props["aria-describedby"],"aria-expanded":""+a,"aria-haspopup":""+a,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-owns":l,className:o,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,ref:function(t){return i.input=t},role:"combobox",required:this.state.required,tabIndex:this.props.tabIndex,value:c});if(this.props.inputRenderer)return this.props.inputRenderer(d);if(this.props.disabled||!this.props.searchable){var h=k(this.props.inputProps,[]),p=s()(x({},this._instancePrefix+"-list",a));return u.a.createElement("div",C({},h,{"aria-expanded":a,"aria-owns":p,"aria-activedescendant":a?this._instancePrefix+"-option-"+e:this._instancePrefix+"-value","aria-disabled":""+this.props.disabled,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],className:o,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,ref:function(t){return i.input=t},role:"combobox",style:{border:0,width:1,display:"inline-block"},tabIndex:this.props.tabIndex||0}))}return this.props.autosize?u.a.createElement(r.a,C({id:this.props.id},d,{minWidth:"5"})):u.a.createElement("div",{className:o,key:"input-wrap",style:{display:"inline-block"}},u.a.createElement("input",C({id:this.props.id},d)))}},{key:"renderClear",value:function(){var t=this.getValueArray(this.props.value);if(this.props.clearable&&t.length&&!this.props.disabled&&!this.props.isLoading){var e=this.props.multi?this.props.clearAllText:this.props.clearValueText,n=this.props.clearRenderer();return u.a.createElement("span",{"aria-label":e,className:"Select-clear-zone",onMouseDown:this.clearValue,onTouchEnd:this.handleTouchEndClearValue,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,title:e},n)}}},{key:"renderArrow",value:function(){if(this.props.arrowRenderer){var t=this.handleMouseDownOnArrow,e=this.state.isOpen,n=this.props.arrowRenderer({onMouseDown:t,isOpen:e});return n?u.a.createElement("span",{className:"Select-arrow-zone",onMouseDown:t},n):null}}},{key:"filterOptions",value:function(t){var e=this.state.inputValue,n=this.props.options||[];if(this.props.filterOptions){return("function"==typeof this.props.filterOptions?this.props.filterOptions:b)(n,e,t,{filterOption:this.props.filterOption,ignoreAccents:this.props.ignoreAccents,ignoreCase:this.props.ignoreCase,labelKey:this.props.labelKey,matchPos:this.props.matchPos,matchProp:this.props.matchProp,trimFilter:this.props.trimFilter,valueKey:this.props.valueKey})}return n}},{key:"onOptionRef",value:function(t,e){e&&(this.focused=t)}},{key:"renderMenu",value:function(t,e,n){return t&&t.length?this.props.menuRenderer({focusedOption:n,focusOption:this.focusOption,inputValue:this.state.inputValue,instancePrefix:this._instancePrefix,labelKey:this.props.labelKey,onFocus:this.focusOption,onOptionRef:this.onOptionRef,onSelect:this.selectValue,optionClassName:this.props.optionClassName,optionComponent:this.props.optionComponent,optionRenderer:this.props.optionRenderer||this.getOptionLabel,options:t,removeValue:this.removeValue,selectValue:this.selectValue,valueArray:e,valueKey:this.props.valueKey}):this.props.noResultsText?u.a.createElement("div",{className:"Select-noresults"},this.props.noResultsText):null}},{key:"renderHiddenField",value:function(t){var e=this;if(this.props.name){if(this.props.joinValues){var n=t.map(function(t){return A(t[e.props.valueKey])}).join(this.props.delimiter);return u.a.createElement("input",{disabled:this.props.disabled,name:this.props.name,ref:function(t){return e.value=t},type:"hidden",value:n})}return t.map(function(t,n){return u.a.createElement("input",{disabled:e.props.disabled,key:"hidden."+n,name:e.props.name,ref:"value"+n,type:"hidden",value:A(t[e.props.valueKey])})})}}},{key:"getFocusableOptionIndex",value:function(t){var e=this._visibleOptions;if(!e.length)return null;var n=this.props.valueKey,i=this.state.focusedOption||t;if(i&&!i.disabled){var r=-1;if(e.some(function(t,e){var o=t[n]===i[n];return o&&(r=e),o}),-1!==r)return r}for(var o=0;o<e.length;o++)if(!e[o].disabled)return o;return null}},{key:"renderOuter",value:function(t,e,n){var i=this,r=this.renderMenu(t,e,n);return r?u.a.createElement("div",{ref:function(t){return i.menuContainer=t},className:"Select-menu-outer",style:this.props.menuContainerStyle},u.a.createElement("div",{className:"Select-menu",id:this._instancePrefix+"-list",onMouseDown:this.handleMouseDownOnMenu,onScroll:this.handleMenuScroll,ref:function(t){return i.menu=t},role:"listbox",style:this.props.menuStyle,tabIndex:-1},r)):null}},{key:"render",value:function(){var t=this,e=this.getValueArray(this.props.value),n=this._visibleOptions=this.filterOptions(this.props.multi&&this.props.removeSelected?e:null),i=this.state.isOpen;this.props.multi&&!n.length&&e.length&&!this.state.inputValue&&(i=!1);var r=this.getFocusableOptionIndex(e[0]),o=null;o=this._focusedOption=null!==r?n[r]:null;var a=s()("Select",this.props.className,{"has-value":e.length,"is-clearable":this.props.clearable,"is-disabled":this.props.disabled,"is-focused":this.state.isFocused,"is-loading":this.props.isLoading,"is-open":i,"is-pseudo-focused":this.state.isPseudoFocused,"is-searchable":this.props.searchable,"Select--multi":this.props.multi,"Select--rtl":this.props.rtl,"Select--single":!this.props.multi}),l=null;return this.props.multi&&!this.props.disabled&&e.length&&!this.state.inputValue&&this.state.isFocused&&this.props.backspaceRemoves&&(l=u.a.createElement("span",{id:this._instancePrefix+"-backspace-remove-message",className:"Select-aria-only","aria-live":"assertive"},this.props.backspaceToRemoveMessage.replace("{label}",e[e.length-1][this.props.labelKey]))),u.a.createElement("div",{ref:function(e){return t.wrapper=e},className:a,style:this.props.wrapperStyle},this.renderHiddenField(e),u.a.createElement("div",{ref:function(e){return t.control=e},className:"Select-control",onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleTouchEnd,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,style:this.props.style},u.a.createElement("span",{className:"Select-multi-value-wrapper",id:this._instancePrefix+"-value"},this.renderValue(e,i),this.renderInput(e,r)),l,this.renderLoading(),this.renderClear(),this.renderArrow()),i?this.renderOuter(n,e,o):null)}}]),e}(u.a.Component);U.propTypes={"aria-describedby":l.a.string,"aria-label":l.a.string,"aria-labelledby":l.a.string,arrowRenderer:l.a.func,autoBlur:l.a.bool,autoFocus:l.a.bool,autofocus:l.a.bool,autosize:l.a.bool,backspaceRemoves:l.a.bool,backspaceToRemoveMessage:l.a.string,className:l.a.string,clearAllText:M,clearRenderer:l.a.func,clearValueText:M,clearable:l.a.bool,closeOnSelect:l.a.bool,deleteRemoves:l.a.bool,delimiter:l.a.string,disabled:l.a.bool,escapeClearsValue:l.a.bool,filterOption:l.a.func,filterOptions:l.a.any,id:l.a.string,ignoreAccents:l.a.bool,ignoreCase:l.a.bool,inputProps:l.a.object,inputRenderer:l.a.func,instanceId:l.a.string,isLoading:l.a.bool,joinValues:l.a.bool,labelKey:l.a.string,matchPos:l.a.string,matchProp:l.a.string,menuBuffer:l.a.number,menuContainerStyle:l.a.object,menuRenderer:l.a.func,menuStyle:l.a.object,multi:l.a.bool,name:l.a.string,noResultsText:M,onBlur:l.a.func,onBlurResetsInput:l.a.bool,onChange:l.a.func,onClose:l.a.func,onCloseResetsInput:l.a.bool,onFocus:l.a.func,onInputChange:l.a.func,onInputKeyDown:l.a.func,onMenuScrollToBottom:l.a.func,onOpen:l.a.func,onSelectResetsInput:l.a.bool,onValueClick:l.a.func,openOnClick:l.a.bool,openOnFocus:l.a.bool,optionClassName:l.a.string,optionComponent:l.a.func,optionRenderer:l.a.func,options:l.a.array,pageSize:l.a.number,placeholder:M,removeSelected:l.a.bool,required:l.a.bool,resetValue:l.a.any,rtl:l.a.bool,scrollMenuIntoView:l.a.bool,searchable:l.a.bool,simpleValue:l.a.bool,style:l.a.object,tabIndex:N,tabSelectsValue:l.a.bool,trimFilter:l.a.bool,value:l.a.any,valueComponent:l.a.func,valueKey:l.a.string,valueRenderer:l.a.func,wrapperStyle:l.a.object},U.defaultProps={arrowRenderer:h,autosize:!0,backspaceRemoves:!0,backspaceToRemoveMessage:"Press backspace to remove {label}",clearable:!0,clearAllText:"Clear all",clearRenderer:p,clearValueText:"Clear value",closeOnSelect:!0,deleteRemoves:!0,delimiter:",",disabled:!1,escapeClearsValue:!0,filterOptions:b,ignoreAccents:!0,ignoreCase:!0,inputProps:{},isLoading:!1,joinValues:!1,labelKey:"label",matchPos:"any",matchProp:"any",menuBuffer:0,menuRenderer:y,multi:!1,noResultsText:"No results found",onBlurResetsInput:!0,onCloseResetsInput:!0,onSelectResetsInput:!0,openOnClick:!0,optionComponent:P,pageSize:5,placeholder:"Select...",removeSelected:!0,required:!1,rtl:!1,scrollMenuIntoView:!0,searchable:!0,simpleValue:!1,tabSelectsValue:!0,trimFilter:!0,valueComponent:I,valueKey:"value"};var j={autoload:l.a.bool.isRequired,cache:l.a.any,children:l.a.func.isRequired,ignoreAccents:l.a.bool,ignoreCase:l.a.bool,loadOptions:l.a.func.isRequired,loadingPlaceholder:l.a.oneOfType([l.a.string,l.a.node]),multi:l.a.bool,noResultsText:l.a.oneOfType([l.a.string,l.a.node]),onChange:l.a.func,onInputChange:l.a.func,options:l.a.array.isRequired,placeholder:l.a.oneOfType([l.a.string,l.a.node]),searchPromptText:l.a.oneOfType([l.a.string,l.a.node]),value:l.a.any},z={},V=function(t){return u.a.createElement(U,t)},H={autoload:!0,cache:z,children:V,ignoreAccents:!0,ignoreCase:!0,loadingPlaceholder:"Loading...",options:[],searchPromptText:"Type to search"},G=function(t){function e(t,n){S(this,e);var i=O(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i._cache=t.cache===z?{}:t.cache,i.state={inputValue:"",isLoading:!1,options:t.options},i.onInputChange=i.onInputChange.bind(i),i}return T(e,t),E(e,[{key:"componentDidMount",value:function(){this.props.autoload&&this.loadOptions("")}},{key:"componentWillReceiveProps",value:function(t){t.options!==this.props.options&&this.setState({options:t.options})}},{key:"componentWillUnmount",value:function(){this._callback=null}},{key:"loadOptions",value:function(t){var e=this,n=this.props.loadOptions,i=this._cache;if(i&&Object.prototype.hasOwnProperty.call(i,t))return this._callback=null,void this.setState({isLoading:!1,options:i[t]});var r=function n(r,o){var s=o&&o.options||[];i&&(i[t]=s),n===e._callback&&(e._callback=null,e.setState({isLoading:!1,options:s}))};this._callback=r;var o=n(t,r);o&&o.then(function(t){return r(0,t)},function(t){return r()}),this._callback&&!this.state.isLoading&&this.setState({isLoading:!0})}},{key:"onInputChange",value:function(t){var e=this.props,n=e.ignoreAccents,i=e.ignoreCase,r=e.onInputChange,o=t;if(r){var s=r(o);null!=s&&"object"!==(void 0===s?"undefined":w(s))&&(o=""+s)}var a=o;return n&&(a=m(a)),i&&(a=a.toLowerCase()),this.setState({inputValue:o}),this.loadOptions(a),o}},{key:"noResultsText",value:function(){var t=this.props,e=t.loadingPlaceholder,n=t.noResultsText,i=t.searchPromptText,r=this.state,o=r.inputValue;return r.isLoading?e:o&&n?n:i}},{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var t=this,e=this.props,n=e.children,i=e.loadingPlaceholder,r=e.placeholder,o=this.state,s=o.isLoading,a=o.options,l={noResultsText:this.noResultsText(),placeholder:s?i:r,options:s&&i?[]:a,ref:function(e){return t.select=e}};return n(C({},this.props,l,{isLoading:s,onInputChange:this.onInputChange}))}}]),e}(c.Component);G.propTypes=j,G.defaultProps=H;var W=function(t){function e(t,n){S(this,e);var i=O(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.filterOptions=i.filterOptions.bind(i),i.menuRenderer=i.menuRenderer.bind(i),i.onInputKeyDown=i.onInputKeyDown.bind(i),i.onInputChange=i.onInputChange.bind(i),i.onOptionSelect=i.onOptionSelect.bind(i),i}return T(e,t),E(e,[{key:"createNewOption",value:function(){var t=this.props,e=t.isValidNewOption,n=t.newOptionCreator,i=t.onNewOptionClick,r=t.options,o=void 0===r?[]:r;if(e({label:this.inputValue})){var s=n({label:this.inputValue,labelKey:this.labelKey,valueKey:this.valueKey});this.isOptionUnique({option:s,options:o})&&(i?i(s):(o.unshift(s),this.select.selectValue(s)))}}},{key:"filterOptions",value:function(){var t=this.props,e=t.filterOptions,n=t.isValidNewOption,i=t.promptTextCreator,r=(arguments.length<=2?void 0:arguments[2])||[],o=e.apply(void 0,arguments)||[];if(n({label:this.inputValue})){var s=this.props.newOptionCreator,a=s({label:this.inputValue,labelKey:this.labelKey,valueKey:this.valueKey});if(this.isOptionUnique({option:a,options:r.concat(o)})){var l=i(this.inputValue);this._createPlaceholderOption=s({label:l,labelKey:this.labelKey,valueKey:this.valueKey}),o.unshift(this._createPlaceholderOption)}}return o}},{key:"isOptionUnique",value:function(t){var e=t.option,n=t.options,i=this.props.isOptionUnique;return n=n||this.props.options,i({labelKey:this.labelKey,option:e,options:n,valueKey:this.valueKey})}},{key:"menuRenderer",value:function(t){return(0,this.props.menuRenderer)(C({},t,{onSelect:this.onOptionSelect,selectValue:this.onOptionSelect}))}},{key:"onInputChange",value:function(t){var e=this.props.onInputChange;return this.inputValue=t,e&&(this.inputValue=e(t)),this.inputValue}},{key:"onInputKeyDown",value:function(t){var e=this.props,n=e.shouldKeyDownEventCreateNewOption,i=e.onInputKeyDown,r=this.select.getFocusedOption();r&&r===this._createPlaceholderOption&&n({keyCode:t.keyCode})?(this.createNewOption(),t.preventDefault()):i&&i(t)}},{key:"onOptionSelect",value:function(t){t===this._createPlaceholderOption?this.createNewOption():this.select.selectValue(t)}},{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var t=this,e=this.props,n=e.ref,i=k(e,["ref"]),r=this.props.children;return r||(r=q),r(C({},i,{allowCreate:!0,filterOptions:this.filterOptions,menuRenderer:this.menuRenderer,onInputChange:this.onInputChange,onInputKeyDown:this.onInputKeyDown,ref:function(e){t.select=e,e&&(t.labelKey=e.props.labelKey,t.valueKey=e.props.valueKey),n&&n(e)}}))}}]),e}(u.a.Component),q=function(t){return u.a.createElement(U,t)},$=function(t){var e=t.option,n=t.options,i=t.labelKey,r=t.valueKey;return!n||!n.length||0===n.filter(function(t){return t[i]===e[i]||t[r]===e[r]}).length},Y=function(t){return!!t.label},X=function(t){var e=t.label,n=t.labelKey,i=t.valueKey,r={};return r[i]=e,r[n]=e,r.className="Select-create-option-placeholder",r},K=function(t){return'Create option "'+t+'"'},Q=function(t){switch(t.keyCode){case 9:case 13:case 188:return!0;default:return!1}};W.isOptionUnique=$,W.isValidNewOption=Y,W.newOptionCreator=X,W.promptTextCreator=K,W.shouldKeyDownEventCreateNewOption=Q,W.defaultProps={filterOptions:b,isOptionUnique:$,isValidNewOption:Y,menuRenderer:y,newOptionCreator:X,promptTextCreator:K,shouldKeyDownEventCreateNewOption:Q},W.propTypes={children:l.a.func,filterOptions:l.a.any,isOptionUnique:l.a.func,isValidNewOption:l.a.func,menuRenderer:l.a.any,newOptionCreator:l.a.func,onInputChange:l.a.func,onInputKeyDown:l.a.func,onNewOptionClick:l.a.func,options:l.a.array,promptTextCreator:l.a.func,ref:l.a.func,shouldKeyDownEventCreateNewOption:l.a.func};var J=function(t){function e(){return S(this,e),O(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return T(e,t),E(e,[{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var t=this;return u.a.createElement(G,this.props,function(e){var n=e.ref,i=k(e,["ref"]),r=n;return u.a.createElement(W,i,function(e){var n=e.ref,i=k(e,["ref"]),o=n;return t.props.children(C({},i,{ref:function(e){o(e),r(e),t.select=e}}))})})}}]),e}(u.a.Component),Z=function(t){return u.a.createElement(U,t)};J.propTypes={children:l.a.func.isRequired},J.defaultProps={children:Z},U.Async=G,U.AsyncCreatable=J,U.Creatable=W,U.Value=I,U.Option=P,e.default=U},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(1),d=i(u),h=n(20),p=i(h),f={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},m=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],g=function(t){return m.forEach(function(e){return delete t[e]}),t},v=function(t,e){e.style.fontSize=t.fontSize,e.style.fontFamily=t.fontFamily,e.style.fontWeight=t.fontWeight,e.style.fontStyle=t.fontStyle,e.style.letterSpacing=t.letterSpacing,e.style.textTransform=t.textTransform},b=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),y=function(){return b?"_"+Math.random().toString(36).substr(2,12):void 0},_=function(t){function e(t){o(this,e);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.inputRef=function(t){n.input=t,"function"==typeof n.props.inputRef&&n.props.inputRef(t)},n.placeHolderSizerRef=function(t){n.placeHolderSizer=t},n.sizerRef=function(t){n.sizer=t},n.state={inputWidth:t.minWidth,inputId:t.id||y()},n}return a(e,t),c(e,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentWillReceiveProps",value:function(t){var e=t.id;e!==this.props.id&&this.setState({inputId:e||y()})}},{key:"componentDidUpdate",value:function(t,e){e.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var t=this.input&&window.getComputedStyle(this.input);t&&(v(t,this.sizer),this.placeHolderSizer&&v(t,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var t=void 0;t=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2;t+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0,t<this.props.minWidth&&(t=this.props.minWidth),t!==this.state.inputWidth&&this.setState({inputWidth:t})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var t=this.props.injectStyles;return b&&t?d.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var t=[this.props.defaultValue,this.props.value,""].reduce(function(t,e){return null!==t&&void 0!==t?t:e}),e=l({},this.props.style);e.display||(e.display="inline-block");var n=l({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),i=r(this.props,[]);return g(i),i.className=this.props.inputClassName,i.id=this.state.inputId,i.style=n,d.default.createElement("div",{className:this.props.className,style:e},this.renderStyles(),d.default.createElement("input",l({},i,{ref:this.inputRef})),d.default.createElement("div",{ref:this.sizerRef,style:f},t),this.props.placeholder?d.default.createElement("div",{ref:this.placeHolderSizerRef,style:f},this.props.placeholder):null)}}]),e}(u.Component);_.propTypes={className:p.default.string,defaultValue:p.default.any,extraWidth:p.default.oneOfType([p.default.number,p.default.string]),id:p.default.string,injectStyles:p.default.bool,inputClassName:p.default.string,inputRef:p.default.func,inputStyle:p.default.object,minWidth:p.default.oneOfType([p.default.number,p.default.string]),onAutosize:p.default.func,onChange:p.default.func,placeholder:p.default.string,placeholderIsMinWidth:p.default.bool,style:p.default.object,value:p.default.any},_.defaultProps={minWidth:1,injectStyles:!0},e.default=_},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(76),s=o.extend({events:function(){return i.extend({},i.result(o.prototype,"events"),{"click .switcher input[type=checkbox]":"toggleContent"})},initialize:function(){o.prototype.initialize.apply(this,arguments),this.setName(this.$el.find("input").attr("name"))},getDefaultState:function(){return{opened:this.value()}},value:function(){return this.$el.find(".switcher label input[type=checkbox]")[0].checked},toggleContent:function(){this.setState({opened:!this.state.opened}),this.fireChangeEvent()},showContent:function(){this.$el.addClass("field-rollout-opened")},hideContent:function(){this.$el.removeClass("field-rollout-opened")},update:function(){var t=this.$el.find("input");this.state.disabled?t.attr("disabled","disabled"):t.removeAttr("disabled","disabled"),this.state.opened?this.showContent():this.hideContent()},check:function(){var t=this.$("input[type=checkbox]"),e=t[0];return t&&!this.value()&&(e.click(),e.checked||t.attr("checked",!0)),this},uncheck:function(){var t=this.$("input[type=checkbox]"),e=t[0];return t&&this.value()&&(e.click(),e.checked&&t.attr("checked",!1)),this},isChecked:function(){return this.value()}});r.exports=s}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(76),s=o.extend({events:function(){return i.extend({},i.result(o.prototype,"events"),{"click .fieldset-legend":"toggleContent"})},initialize:function(){o.prototype.initialize.apply(this,arguments),this.setName(this.$el.attr("data-field-name"))},value:function(){return this.state.opened},getDefaultState:function(){return{opened:this.$el.hasClass("field-fieldset-opened")}},toggleContent:function(t){this.setState({opened:!this.state.opened}),this.fireChangeEvent()},update:function(){this.state.opened?this.$el.addClass("field-fieldset-opened"):this.$el.removeClass("field-fieldset-opened")}});r.exports=s}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(76),s=n(52).startWith,a=o.extend({events:function(){return r.extend({},r.result(o.prototype,"events"),{"click input[type=checkbox]":"onChange"})},initialize:function(){o.prototype.initialize.apply(this,arguments),this.setName(this.$el.attr("name"));var t=this.getDefaultValue();t&&this.setChecked(t.split(" "))},_isSelected:function(t){return s(this.getName(),t.id)&&t.checked},value:function(){var t=r.map(r.filter(this.$el.find("input"),this._isSelected,this),function(t){return t.value});return r.isEmpty(t)?null:t},getDefaultValue:function(){return this.$el.find(".checkbox-group-column").attr("default-value")},setChecked:function(t){r.each(this.$el.find("input"),function(e){t.indexOf(e.value)>=0&&(e.checked=!0)})}});i.exports=a}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(76),s=n(86);i.exports=o.extend({events:function(){return r.extend({},r.result(o.prototype,"events"),{"change input[type=radio]":"onChange","input .details-input-field":"onChangeDetails"})},initialize:function(){this.setUpDetails(),o.prototype.initialize.apply(this,arguments),this.setName(this.$el.attr("name")),this.setUpDefaultValue(),this.$el[0].addEventListener("keypress",this.onKeyPress.bind(this))},onKeyPress:function(t){if(13===(t.which||t.keyCode)){t.preventDefault();var e=this.detailsField.val();this.detailsField.val(e+"\n")}},value:function(t){return t?(this.$("input[type=radio]").removeAttr("checked"),this.$("input.base").attr("checked","checked"),void this.setChecked(t)):this.getChecked()},getChecked:function(){var t=r.find(this.$el.find("input[type=radio]"),function(t){return t.checked});return t?t.value:null},detailsValue:function(t){if(void 0===t)return this.detailsField[0].value;this.detailsField[0].value=t},setUpDefaultValue:function(){var t=this.detailsField.attr("default-value");t&&this.detailsValue(t);var e=this.$el.find(".radio-group-row").attr("default-value");e&&this.value(e)},setUpDetails:function(){var t=this.$el.find(".radio-group-row").attr("details-option"),e=r.find(this.$el.find("input[type=radio]"),function(e){return e.value!==t});this.detailsOption=t,this.notDetailsOption=e.value,this.detailsField=this.$el.find(".details-input-field"),this.detailsField[0].onblur=this.onBlurDetails.bind(this),this.detailsMaxLength=this.detailsField.attr("max_length")},setChecked:function(t){var e=r.find(this.$el.find("input[type=radio]"),function(e){return e.value===t});e&&(e.checked=!0)},hasDetails:function(){return!0},isDetailsOptionSelected:function(){return this.value()===this.detailsOption},clearDetails:function(){this.detailsValue("")},toggleDetails:function(){if(this.isDetailsOptionSelected())return this.detailsField.removeClass("hidden"),void this.detailsField[0].focus();this.detailsField.addClass("hidden")},selectNotDetailsOption:function(){this.clearDetails(),this.value(this.notDetailsOption)},afterChangeDetails:function(){this.detailsValue(this.detailsValue().trim())},onChange:function(t){this.isDetailsOptionSelected()||this.clearDetails(),this.toggleDetails(),this.validate(),this.fireChangeEvent(),this.executeCustomOnChange(t)},onChangeDetails:function(t){this.afterChangeDetails(),this.validate()},onBlurDetails:function(t){this.onChangeDetails()},disableElement:function(){this.selectNotDetailsOption(),this.$el.addClass("field-disabled")},enableElement:function(){this.$el.removeClass("field-disabled")},getFilters:function(){var t={};return t[this.getName()]=["string"],t},getRules:function(){var t={};return t[this.getName()]={not_empty:__("registration.warning.this_field_is_required"),not_equals:["null",__("registration.warning.this_field_is_required")]},this.isDetailsOptionSelected()&&(t.details={not_empty:__("registration.warning.this_field_is_required"),max_length:[this.detailsMaxLength,__("registration.warning.this_field.max_size_limit",this.detailsMaxLength)]}),t},_getFieldData:function(){var t={};return t[this.getName()]=this.value(),t.details=this.detailsValue(),t},_gatherFieldErrors:function(t){var e=[];r.each(t,function(t){r.each(t,function(t){e.push(t)})}),t[this.getName()]=e},validate:function(t){this.setDefaultState();var e=this.getFilters(),n=this.getRules(),i=new s(e,n),r=this._getFieldData(),o=i.validate(r);return this._gatherFieldErrors(o),t?!1!==o:(this.hasRules()&&(this.hideTooltip(),this.setDefaultState()),!1!==o?this.fieldError(o):this.fieldVerified(),o)}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,o){var s=n(76),a=n(86),l=n(128),c=l.extend({events:function(){return i.extend({},i.result(l.prototype,"events"),{"click .dk-option":"onChangeList","change select":"onChange"})},initialize:function(){this.$selectDays=this.$el.find("select.select-days"),this.$selectHours=this.$el.find("select.select-hours"),this.$selectMinutes=this.$el.find("select.select-minutes"),s.prototype.initialize.apply(this,arguments),this.setName(this.$el.attr("id")),this.$selectDays[0].onfocus=this.onFocus.bind(this),this.$selectDays[0].onblur=this.onBlur.bind(this),this.$selectHours[0].onfocus=this.onFocus.bind(this),this.$selectHours[0].onblur=this.onBlur.bind(this),this.$selectMinutes[0].onfocus=this.onFocus.bind(this),this.$selectMinutes[0].onblur=this.onBlur.bind(this),this.daysSelect(this.getDefaultValue().days),this.hoursSelect(this.getDefaultValue().hours),this.minutesSelect(this.getDefaultValue().minutes)},getDefaultOptions:function(){return{filterFunction:function(t,e){return t.find(".select-code")[0].textContent.toLowerCase().trim().startsWith(e)}}},genericSelect:function(t,e){if(i.isUndefined(e))return this.$el.find(t).val();var n=this.$el.find(t),r=n.parent().parent();n.val(e),"EMPTY"!==e&&r.find(".dk-selected").html(r.find('li.dk-option[data-value="'+e+'"]').html())},daysSelect:function(t){return this.genericSelect("select.select-days",t)},hoursSelect:function(t){return this.genericSelect("select.select-hours",t)},minutesSelect:function(t){return this.genericSelect("select.select-minutes",t)},validate:function(){var t=this.getFilters(),e=this.getRules(),n=new a(t,e),i={minutes:parseInt(this.minutesSelect())+60*this.hoursSelect()+60*this.daysSelect()*24};this.hideTooltip(),this.setDefaultState();var r=n.validate(i);return!1!==r&&this.fieldError(r),r},value:function(t){var e=this.daysSelect()+":"+this.hoursSelect()+":"+this.minutesSelect();if(i.isUndefined(t))return e;var n=t.split(":");3===n.length?(this.daysSelect(n[0]),this.hoursSelect(n[1]),this.minutesSelect(n[2])):2===n.length?(this.daysSelect("0"),this.hoursSelect(n[0]),this.minutesSelect(n[1])):1===n.length&&(this.daysSelect("0"),this.hoursSelect("0"),this.minutesSelect(n[0])),e!==t&&this.onChange()},onFocus:function(t){this.$el.removeClass("field-error"),this.hideTooltip()},onBlur:function(t){this.validate()&&(this.$el.addClass("field-error"),this.showTooltip())},getDefaultValue:function(){return{days:"0",hours:"0",minutes:"1"}},onChangeList:function(t){var e=r(t.target),n=e.parent().parent().parent();n.find(".dk-select").removeClass("dk-select-open-down").find(".dk-select-options").attr("aria-expanded",!1),n.find(".dk-selected").html("").append('<span class="'+e.find("span:first-child").attr("class")+'"></span>').append(e.html()),n.find("select").val(e.attr("data-value")).trigger("change")}});o.exports=c}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=(n(5),n(76)),s=o.extend({events:function(){return i.extend({},i.result(o.prototype,"events"),{"change input":"onChange"})},initialize:function(t){this.$input=this.$el.find("input"),o.prototype.initialize.apply(this,arguments),this.setName(this.$el.find("input").attr("name")),this.$input[0].onfocus=this.onFocus.bind(this)},isNoPaste:function(){return!!this.$input.attr("no-paste")},setEvent:function(t,e){this.$input[0][t]=e.bind(this)},getDefaultValue:function(){return!1},getDefaultOptions:function(){return i.extend({},i.result(o.prototype,"getDefaultOptions"))},isDefaultValue:function(){return!1},isEmpty:function(){return i.isEmpty(this.value())||this.isDefaultValue()},onChange:function(t){t.preventDefault();var e=void 0,n=t.target.files[0],i=this.$(".title"),r=this.$(".selected-files");n?(e=n.name,i.css("display","none"),r.css("display","block").html(e),this.file=n):(i.css("display","block"),r.css("display","none"),this.file=null),this.fireChangeValueEvent(e)},getFile:function(){return this.file},onFocus:function(t){this.isDefaultValue()&&this.value(""),this.$el.removeClass("field-error"),this.hideTooltip()},disableElement:function(){this.setDefaultValue(),this.$el.addClass("field-disabled"),this.$el.find("input").attr("disabled",!0)},enableElement:function(){this.$el.removeClass("field-disabled"),this.$el.find("input").removeAttr("disabled")},value:function(){return this.file},flush:function(){this.file=null,this.$el.removeClass("field-error"),this.$(".title").css("display","block"),this.$(".selected-files").css("display","none").html("")}});r.exports=s}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=(n(5),n(0)),o=n(128),s=n(213),a=o.extend({events:function(){return this.addEvents(o)({"change input":"onChange"})},initialize:function(t){o.prototype.initialize.apply(this,arguments),this.$input=this.$el.find("input"),this.setName(this.$input.attr("name")),this.instance=new s(this.$("input")[0],{dateFormat:t.dateFormat||"d/m/Y",defaultDate:t.defaultDate||+new Date,maxDate:t.maxDate||+new Date,minDate:t.minDate})},getDefaultValue:function(){return this.$input.attr("default-value")},getDefaultOptions:function(){return r.extend({},r.result(o.prototype,"getDefaultOptions"))},isDefaultValue:function(){return this.value()===this.getDefaultValue()},isEmpty:function(){return r.isEmpty(this.value())||this.isDefaultValue()},onChange:function(t){this.fireChangeValueEvent(this.instance.selectedDates)},setMinDate:function(t){return this.instance.set("minDate",t),this},setMaxDate:function(t){return this.instance.set("maxDate",t),this},getFirstSelectedDate:function(){var t=this.instance.selectedDates;return r.isArray(t)?t[0]:+new Date},disableElement:function(){this.setDefaultValue(),this.$el.addClass("field-disabled"),this.$el.find("input").attr("disabled",!0)},enableElement:function(){this.$el.removeClass("field-disabled"),this.$el.find("input").removeAttr("disabled")},destroy:function(){this.instance.destroy(),o.prototype.destroy.call(this)}});i.exports=a}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(128),s=n(213),a=o.extend({events:function(){return this.addEvents(o)({"change input":"onChange"})},initialize:function(t){o.prototype.initialize.apply(this,arguments),this.$input=this.$el.find("input"),this.setName(this.$input.attr("name")),this.instance=new s(this.$("input")[0],{enableTime:!0,noCalendar:!0,dateFormat:t.dateFormat||"H:i",defaultDate:t.defaultDate||"10:00",time_24hr:!0})},getDefaultValue:function(){return this.$input.attr("default-value")},getDefaultOptions:function(){return r.extend({},r.result(o.prototype,"getDefaultOptions"))},isDefaultValue:function(){return this.value()===this.getDefaultValue()},isEmpty:function(){return r.isEmpty(this.value())||this.isDefaultValue()},onChange:function(){this.fireChangeValueEvent(this.instance.selectedDates)},setMinDate:function(t){return this.instance.set("minDate",t),this},setMaxDate:function(t){return this.instance.set("maxDate",t),this},getFirstSelectedDate:function(){var t=this.instance.selectedDates;return r.isArray(t)?t[0]:+new Date},disableElement:function(){this.value(this.getDefaultValue()),this.$el.addClass("field-disabled"),this.$el.find("input").attr("disabled",!0)},enableElement:function(){this.$el.removeClass("field-disabled"),this.$el.find("input").removeAttr("disabled")},destroy:function(){this.instance.destroy(),o.prototype.destroy.call(this)}});i.exports=a}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<div class="loading-box"><div class="loading-content"><div class="cssload-jumping"><span></span><span></span><span></span></div></div></div>'},function(t,e){t.exports='<% if (!showOnlyChart) {%> <div class="block block--bordered"><div class="block__title block__text"> <%= instrumentDisplayName %> </div><div class="block__content block__text"> <%=blendDetailsText%> </div></div> <%}%> <div class="block block--bordered block--relative blend__performance"><div class="block__title"><div class="block__title-text block__text"><%=__(\'blend.performance\')%></div> <% if (showOnlyChart) {%> <div class="chart__total"></div> <%}%> <div class="blend__field-periods"></div></div><div class="block__content"><br><div class="chart-bar"><div class="chart-bar__body"></div></div></div></div><div class="blend__info-line hidden-xs hidden-sm"> <%= __(\'blend.info-line\') %> <%= __(\'blend.back-tested\') %> </div>'},function(t,e){t.exports='<div class="chart__container"><div class="chart__total"></div><div class="chart__scroll"><div class="chart__bar chart__bar--total"><div class="chart__label chart__label--first"><div class="chart__label--primary"><%=__(\'account_settings.spread_rebate.total_amount\')%></div><div class="chart__label--secondary chart--down"><%= total.formatPercent %></div></div><div class="chart__positive"><div class="chart__value" style="width: 30%"></div></div><div class="chart__splitter"></div><div class="chart__negative"><div class="chart__value"></div></div><div class="chart__label chart__label--second"><div class="chart__label--primary"></div><div class="chart__label--secondary chart--down"><%= total.formatPercent %></div></div></div> <% _.each(data, function(v, i) { %> <div class="chart__bar"><div class="chart__label chart__label--first"><div class="chart__label--primary"><%=v.month%></div><div class="chart__label--secondary chart--<%= v.direction %>"><%=v.formatPercent%></div></div><div class="chart__positive"><div class="chart__value" style="height: <%= v.originValue > 0 ? v.reflectedAbsPercent : 100 %>%"></div></div><div class="chart__splitter"></div><div class="chart__negative"><div class="chart__value" style="height: <%= v.originValue < 0 ? v.reflectedAbsPercent : 100 %>%"></div></div><div class="chart__label chart__label--second"><div class="chart__label--primary"><%=v.month%></div><div class="chart__label--secondary chart--<%= v.direction %>"><%=v.formatPercent%></div></div></div> <% }); %> </div></div>'},function(t,e){t.exports='<div class="chart__container chart--vert"><div class="chart__total"></div><div class="chart__scroll"><div class="chart__bar chart__bar--total"><div class="chart__label chart__label--first"><div class="chart__label--primary"><%=__(\'account_settings.spread_rebate.total_amount\')%></div><div class="chart__label--secondary chart--<%=total.direction%>"><%= total.formatPercent %></div></div><div class="chart__positive"><div class="chart__value" style="width: <%= total.originValue > 0 ? total.reflectedAbsPercent : 100%>%"></div></div><div class="chart__splitter"></div><div class="chart__negative"><div class="chart__value" style="width: <%= total.originValue < 0 ? total.reflectedAbsPercent : 100%>%"></div></div><div class="chart__label chart__label--second"><div class="chart__label--primary"></div><div class="chart__label--secondary chart--<%=total.direction%>"><%= total.formatPercent %></div></div></div> <% _.each(data, function(v, i, arr) { %> <% if (arr.length > showmoreItemsCount && i == showmoreItemsCount) { %> <div class="showmore"><div class="showmore__content showmore__content--hidden"> <% } %> <div class="chart__bar"><div class="chart__label chart__label--first"><div class="chart__label--primary"><%=v.month%></div><div class="chart__label--secondary chart--<%= v.direction %>"><%=v.formatPercent%></div></div><div class="chart__positive"><div class="chart__value" style="width: <%= v.originValue > 0 ? v.reflectedAbsPercent : 100 %>%"></div></div><div class="chart__splitter"></div><div class="chart__negative"><div class="chart__value" style="width: <%= v.originValue < 0 ? v.reflectedAbsPercent : 100 %>%"></div></div><div class="chart__label chart__label--second"><div class="chart__label--primary"><%=v.month%></div><div class="chart__label--secondary chart--<%= v.direction %>"><%=v.formatPercent%></div></div></div> <% if (arr.length > showmoreItemsCount && i == arr.length - 1) { %> </div><div class="showmore__addon"><div><%= __(\'blend.info-line\') %></div><div><%= __(\'blend.back-tested\') %></div></div><div class="showmore__title"><%=__(\'actions.showmore\')%></div></div> <% } %> <% }); %> <% if (data.length <= showmoreItemsCount) { %> <div class="showmore__addon"><div><%= __(\'blend.info-line\') %></div><div><%= __(\'blend.back-tested\') %></div></div> <% } %> </div></div>'},function(t,e){t.exports='<div class="chart__total_content"> <%=__(\'account_settings.spread_rebate.total_amount\')%> <span class="chart__total_value"><%= total.formatPercent %></span></div>'},function(t,e){},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(17),o=(n(2),n(6),n(9),n(7)),s=r.Model.extend({isFrenchRegulation:function(){return o.isGuaranteedStopLossEnabled()},hideMetaTraderLink:function(){return this.isFrenchRegulation()}});i.exports=new s}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var r=n(5),o=n(0),s=n(2),a=n(696),l=n(137),c=o.template(n(1409)),u=n(368).LoginMessageActionType;i.exports=a.extend({events:function(){return o.extend({},o.result(a.prototype,"events"),{"click .icon-login-message-close-button":"onCloseClick","click .login-message-image-panel":"onImageClick"})},getOptions:function(t){return o.extend({},o.result(a.prototype,"getOptions"),{closeOnESC:!1,isHeaderShowed:!1,ignorableByLoginMessage:!0,parent:r("body"),zIndex:this.popup_z_index},t)},initialize:function(t){a.prototype.initialize.apply(this,arguments),this.$el.addClass("login-message-popup")},onCloseClick:function(t){this.trackEvent("closeMessage"),this.close(),t.stopImmediatePropagation()},onImageClick:function(t){switch(this.trackEvent("clkMessage"),this.message.action){case u.EXTERNAL:window.open(this.message.actionUrl,"_blank","");break;case u.INTERNAL:l.campaignsInternalAction(this.message.actionUrl);break;case u.SWITCH_ACCOUNT_TYPE_DEMO:s.trigger("platform:switch","demo");break;case u.SWITCH_ACCOUNT_TYPE_LIVE:s.trigger("platform:switch","live")}this.close(),t.stopImmediatePropagation()},loadImage:function(){var t=new Image;t.addEventListener("load",function(){this.imageWidth=t.width,this.imageHeight=t.height,t=null,this.render()}.bind(this),!1),t.addEventListener("error",function(){this.destroy()}.bind(this),!1),t.src=this.message.contentUrl},preRender:function(){this.canceled?this.destroy():(this.setDisplayed(),this.loadImage())},initPopupClassName:function(){this.$panel.addClass(0===this.message.width?"responsive-image":"unresponsive-image")},render:function(){a.prototype.render.call(this),this.setContent(c()),this.$panel=this.$el.find(".x-popup-panel"),this.$imagePanel=this.$el.find(".login-message-image-panel"),this.$closeButton=this.$el.find(".icon-login-message-close-button"),this.$imagePanel.css("background-image","url('"+this.message.contentUrl+"?"+o.now()+"')"),this.initPopupClassName(),this.initPopupStyle(),this.onResize(),this.startAutoCloseTimer(),this.startCloseButtonTimer(),window.addEventListener("resize",o.throttle(this.onResize.bind(this),100),!1),this.model.interactEvent(this.message.id,"campaign_displayed")},onResize:function(){this.initPopupStyle();var t=this.$panel[0].offsetWidth,e=this.$panel[0].offsetHeight;t/e>this.imageWidth/this.imageHeight?(this.$imagePanel.css("height","100%"),this.$imagePanel.css("width",this.imageWidth*e/this.imageHeight+"px")):(this.$imagePanel.css("height",this.imageHeight*t/this.imageWidth+"px"),this.$imagePanel.css("width","100%"))},initPopupStyle:function(){if(this.$el.css("background-color","rgba(178, 186, 192, "+this.message.opacity/100+")"),0!==this.message.width)this.$panel.css("height",this.message.height+"%"),this.$panel.css("width",this.message.width+"%"),this.$panel.css("top",this.message.marginHeight+"%"),this.$panel.css("left",(100-this.message.width)/2+"%");else{var t=Math.min(this.imageWidth,window.innerWidth)/1,e=Math.min(this.imageHeight,window.innerHeight)/1;this.$panel.css("height",e+"px"),this.$panel.css("width",t+"px"),this.$panel.css("top",(window.innerHeight-e)/2+"px"),this.$panel.css("left",(window.innerWidth-t)/2+"px")}},startCloseButtonTimer:function(){this.closeButtonTimer=setTimeout(function(){this.$closeButton.css("display","block")}.bind(this),Math.max(0,this.message.closeButtonDelay))},startAutoCloseTimer:function(){this.autoCloseTimer=setTimeout(this.autoClose.bind(this),Math.max(0,this.message.duration))},autoClose:function(){this.trackEvent("autoclose"),this.close()},trackEvent:function(t){__eventos("retention:targetLoginMessage:"+t,{campaignID:this.message.id})}})}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports='<div class="login-message-image-panel"><span class="icon-login-message-close-button" style="display: none"></span></div>'},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var r=n(5),o=n(0),s=n(2),a=n(696),l=o.template(n(1411));i.exports=a.extend({initialize:function(t){a.prototype.initialize.apply(this,arguments),this.contentLoaded=!1},events:function(){return o.extend({},o.result(a.prototype,"events"),{"click .icon-login-message-close-button":"onCloseClick"})},getOptions:function(t){return o.extend({},o.result(a.prototype,"getOptions"),{closeOnESC:!1,isHeaderShowed:!1,ignorableByLoginMessage:!0,parent:r("body"),zIndex:this.popup_z_index},t)},preRender:function(){s.trigger("ui:loading"),this.setDisplayed(),this.render(),this.iframe=this.$el.find("#login-message-html-page-iframe")[0],this.iframe.onload=this.onContentLoad.bind(this),this.model.interactEvent(this.message.id,"campaign_displayed")},render:function(){return a.prototype.render.call(this),this.setContent(l({url:this.message.contentUrl})),this},onContentLoad:function(){if(this.contentLoaded)return void this.close();this.contentLoaded=!0,this.resizeCampaignIframe(),this.$el.find(".icon-login-message-close-button").removeClass("hidden"),s.trigger("ui:loading:hide")},onCloseClick:function(t){t.stopImmediatePropagation(),this.close()},resizeCampaignIframe:function(){n(1412)({log:!1,maxWidth:800,maxHeight:800,checkOrigin:!0,sizeWidth:!0,sizeHeight:!0,scrolling:!0,autoResize:!0},"#login-message-html-page-iframe")}})}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports='<div class="login-message-html-page-wrapper"><span class="icon-login-message-close-button hidden"></span><iframe id="login-message-html-page-iframe" class="login-message-html-page-container" src="<%= url %>" scrolling="no" frameborder="0"></iframe></div>'},function(t,e,n){var i,r,o;!function(n){"use strict";function s(t,e,n){"addEventListener"in window?t.addEventListener(e,n,!1):"attachEvent"in window&&t.attachEvent("on"+e,n)}function a(t,e,n){"removeEventListener"in window?t.removeEventListener(e,n,!1):"detachEvent"in window&&t.detachEvent("on"+e,n)}function l(){var t,e=["moz","webkit","o","ms"];for(t=0;t<e.length&&!V;t+=1)V=window[e[t]+"RequestAnimationFrame"];V||u("setup","RequestAnimationFrame not supported")}function c(t){return G[t]?G[t].log:R}function u(t,e){p("log",t,e,c(t))}function d(t,e){p("info",t,e,c(t))}function h(t,e){p("warn",t,e,!0)}function p(t,e,n,i){!0===i&&window.console}function f(t){function e(){function t(){S(M),y(N),P("resizedCallback",M)}n("Height"),n("Width"),E(t,M,"init")}function n(t){var e=Number(G[N]["max"+t]),n=Number(G[N]["min"+t]),i=t.toLowerCase(),r=Number(M[i]);u(N,"Checking "+i+" is in range "+n+"-"+e),r<n&&(r=n,u(N,"Set "+i+" to min value")),r>e&&(r=e,u(N,"Set "+i+" to max value")),M[i]=""+r}function i(t){return A.substr(A.indexOf(":")+B+t)}function r(t){u(N,"MessageCallback passed: {iframe: "+M.iframe.id+", message: "+t+"}"),P("messageCallback",{iframe:M.iframe,message:JSON.parse(t)}),u(N,"--")}function o(){var t=document.body.getBoundingClientRect(),e=M.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:e.height,iframeWidth:e.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(e.top-t.top,10),offsetLeft:parseInt(e.left-t.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})}function l(t,e){function n(){x("Send Page Info","pageInfo:"+o(),t,e)}O(n,32,e)}function c(){function t(t,i){function r(){G[n]?l(G[n].iframe,n):e()}["scroll","resize"].forEach(function(e){u(n,t+e+" listener for sendPageInfo"),i(window,e,r)})}function e(){t("Remove ",a)}var n=N;!function(){t("Add ",s)}(),G[n]&&(G[n].stopPageInfo=e)}function p(){G[N]&&G[N].stopPageInfo&&(G[N].stopPageInfo(),delete G[N].stopPageInfo)}function f(t){var e=t.getBoundingClientRect();return b(N),{x:Math.floor(Number(e.left)+Number(z.x)),y:Math.floor(Number(e.top)+Number(z.y))}}function g(t){var e=t?f(M.iframe):{x:0,y:0},n=function(){return{x:Number(M.width)+e.x,y:Number(M.height)+e.y}}();u(N,"Reposition requested from iFrame (offset x:"+e.x+" y:"+e.y+")"),window.top!==window.self?function(){window.parentIFrame?window.parentIFrame["scrollTo"+(t?"Offset":"")](n.x,n.y):h(N,"Unable to scroll to requested position, window.parentIFrame not found")}():function(){z=n,T(),u(N,"--")}()}function T(){!1!==P("scrollCallback",z)?y(N):_()}function k(t){var e=t.split("#")[1]||"",n=decodeURIComponent(e),i=document.getElementById(n)||document.getElementsByName(n)[0];i?function(){var t=f(i);u(N,"Moving to in page link (#"+e+") at x: "+t.x+" y: "+t.y),z={x:t.x,y:t.y},T(),u(N,"--")}():window.top!==window.self?function(){window.parentIFrame?window.parentIFrame.moveToAnchor(e):u(N,"In page link #"+e+" not found and window.parentIFrame not found")}():u(N,"In page link #"+e+" not found")}function P(t,e){return m(N,t,e)}function I(){G[N]&&(G[N].firstRun=!1)}var A=t.data,M={},N=null;"[iFrameResizerChild]Ready"===A?function(){for(var t in G)x("iFrame requested init",C(t),document.getElementById(t),t)}():function(){return U===(""+A).substr(0,j)&&A.substr(j).split(":")[0]in G}()?(M=function(){var t=A.substr(j).split(":");return{iframe:G[t[0]]&&G[t[0]].iframe,id:t[0],height:t[1],width:t[2],type:t[3]}}(),N=q=M.id,G[N]&&(G[N].loaded=!0),!function(){var t=M.type in{true:1,false:1,undefined:1};return t&&u(N,"Ignoring init message from meta parent page"),t}()&&function(t){var e=!0;return G[t]||(e=!1,h(M.type+" No settings for "+t+". Message was: "+A)),e}(N)&&(u(N,"Received: "+A),function(){var t=!0;return null===M.iframe&&(h(N,"IFrame ("+M.id+") not found"),t=!1),t}()&&function(){var e=t.origin,n=G[N]&&G[N].checkOrigin;if(n&&""+e!="null"&&!function(){return n.constructor===Array?function(){var t=0,i=!1;for(u(N,"Checking connection is from allowed list of origins: "+n);t<n.length;t++)if(n[t]===e){i=!0;break}return i}():function(){var t=G[N]&&G[N].remoteHost;return u(N,"Checking connection is from: "+t),e===t}()}())throw new Error("Unexpected message received from: "+e+" for "+M.iframe.id+". Message was: "+t.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}()&&function(){switch(G[N]&&G[N].firstRun&&I(),M.type){case"close":G[N].closeRequestCallback?m(N,"closeRequestCallback",G[N].iframe):v(M.iframe);break;case"message":r(i(6));break;case"scrollTo":g(!1);break;case"scrollToOffset":g(!0);break;case"pageInfo":l(G[N]&&G[N].iframe,N),c();break;case"pageInfoStop":p();break;case"inPageLink":k(i(9));break;case"reset":w(M);break;case"init":e(),P("initCallback",M.iframe);break;default:e()}}())):d(N,"Ignored: "+A)}function m(t,e,n){var i=null,r=null;if(G[t]){if("function"!=typeof(i=G[t][e]))throw new TypeError(e+" on iFrame["+t+"] is not a function");r=i(n)}return r}function g(t){var e=t.id;delete G[e]}function v(t){var e=t.id;u(e,"Removing iFrame: "+e);try{t.parentNode&&t.parentNode.removeChild(t)}catch(t){}m(e,"closedCallback",e),u(e,"--"),g(t)}function b(t){null===z&&(z={x:window.pageXOffset!==n?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==n?window.pageYOffset:document.documentElement.scrollTop},u(t,"Get page position: "+z.x+","+z.y))}function y(t){null!==z&&(window.scrollTo(z.x,z.y),u(t,"Set page position: "+z.x+","+z.y),_())}function _(){z=null}function w(t){function e(){S(t),x("reset","reset",t.iframe,t.id)}u(t.id,"Size reset requested by "+("init"===t.type?"host page":"iFrame")),b(t.id),E(e,t,"reset")}function S(t){function e(e){if(!t.id)return void u("undefined","messageData id not set");t.iframe.style[e]=t[e]+"px",u(t.id,"IFrame ("+r+") "+e+" set to "+t[e]+"px")}function n(e){F||"0"!==t[e]||(F=!0,u(r,"Hidden iFrame detected, creating visibility listener"),P())}function i(t){e(t),n(t)}var r=t.iframe.id;G[r]&&(G[r].sizeHeight&&i("height"),G[r].sizeWidth&&i("width"))}function E(t,e,n){n!==e.type&&V?(u(e.id,"Requesting animation frame"),V(t)):t()}function x(t,e,n,i,r){function o(){var r=G[i]&&G[i].targetOrigin;u(i,"["+t+"] Sending msg to iframe["+i+"] ("+e+") targetOrigin: "+r),n.contentWindow.postMessage(U+e,r)}function s(){h(i,"["+t+"] IFrame("+i+") not found")}var a=!1;i=i||n.id,G[i]&&(function(){n&&"contentWindow"in n&&null!==n.contentWindow?o():s()}(),function(){function t(){!G[i]||G[i].loaded||a||(a=!0,h(i,"IFrame has not responded within "+G[i].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}r&&G[i]&&G[i].warningTimeout&&(G[i].msgTimeout=setTimeout(t,G[i].warningTimeout))}())}function C(t){return t+":"+G[t].bodyMarginV1+":"+G[t].sizeWidth+":"+G[t].log+":"+G[t].interval+":"+G[t].enablePublicMethods+":"+G[t].autoResize+":"+G[t].bodyMargin+":"+G[t].heightCalculationMethod+":"+G[t].bodyBackground+":"+G[t].bodyPadding+":"+G[t].tolerance+":"+G[t].inPageLinks+":"+G[t].resizeFrom+":"+G[t].widthCalculationMethod}function T(t,e){function i(){var t=e&&e.id||$.id+L++;return null!==document.getElementById(t)&&(t+=L++),t}function r(){var e=G[c]&&G[c].firstRun,n=G[c]&&G[c].heightCalculationMethod in H;!e&&n&&w({iframe:t,height:0,width:0,type:"init"})}function o(t){if("object"!=typeof t)throw new TypeError("Options is not an object")}function a(t){for(var e in $)$.hasOwnProperty(e)&&(G[c][e]=t.hasOwnProperty(e)?t[e]:$[e])}function l(t){return""===t||"file://"===t?"*":t}var c=function(n){return q=n,""===n&&(t.id=n=i(),R=(e||{}).log,q=n,u(n,"Added missing iframe ID: "+n+" ("+t.src+")")),n}(t.id);!function(){return c in G&&"iFrameResizer"in t}()?(function(e){e=e||{},G[c]={firstRun:!0,iframe:t,remoteHost:t.src.split("/").slice(0,3).join("/")},o(e),a(e),G[c]&&(G[c].targetOrigin=!0===G[c].checkOrigin?l(G[c].remoteHost):"*")}(e),function(){switch(u(c,"IFrame scrolling "+(G[c]&&G[c].scrolling?"enabled":"disabled")+" for "+c),t.style.overflow=!1===(G[c]&&G[c].scrolling)?"hidden":"auto",G[c]&&G[c].scrolling){case"omit":break;case!0:t.scrolling="yes";break;case!1:t.scrolling="no";break;default:t.scrolling=G[c]?G[c].scrolling:"no"}}(),function(){function e(e){1/0!==G[c][e]&&0!==G[c][e]&&(t.style[e]=G[c][e]+"px",u(c,"Set "+e+" = "+G[c][e]+"px"))}function n(t){if(G[c]["min"+t]>G[c]["max"+t])throw new Error("Value for min"+t+" can not be greater than max"+t)}n("Height"),n("Width"),e("maxHeight"),e("minHeight"),e("maxWidth"),e("minWidth")}(),function(){"number"!=typeof(G[c]&&G[c].bodyMargin)&&"0"!==(G[c]&&G[c].bodyMargin)||(G[c].bodyMarginV1=G[c].bodyMargin,G[c].bodyMargin=G[c].bodyMargin+"px")}(),function(e){function i(){x("iFrame.onload",e,t,n,!0),r()}s(t,"load",i),x("init",e,t,n,!0)}(C(c)),function(){Function.prototype.bind&&G[c]&&(G[c].iframe.iFrameResizer={close:v.bind(null,G[c].iframe),removeListeners:g.bind(null,G[c].iframe),resize:x.bind(null,"Window resize","resize",G[c].iframe),moveToAnchor:function(t){x("Move to anchor","moveToAnchor:"+t,G[c].iframe,c)},sendMessage:function(t){t=JSON.stringify(t),x("Send Message","message:"+t,G[c].iframe,c)}})}()):h(c,"Ignored iFrame, already setup.")}function k(t,e){null===W&&(W=setTimeout(function(){W=null,t()},e))}function O(t,e,n){Y[n]||(Y[n]=setTimeout(function(){Y[n]=null,t()},e))}function P(){function t(){for(var t in G)!function(t){function e(e){return"0px"===(G[t]&&G[t].iframe.style[e])}G[t]&&function(t){return null!==t.offsetParent}(G[t].iframe)&&(e("height")||e("width"))&&x("Visibility change","resize",G[t].iframe,t)}(t)}function e(e){u("window","Mutation observed: "+e[0].target+" "+e[0].type),k(t,16)}var n=window.MutationObserver||window.WebKitMutationObserver;n&&function(){var t=document.querySelector("body"),i={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};new n(e).observe(t,i)}()}function I(t){function e(){M("Window "+t,"resize")}u("window","Trigger event: "+t),k(e,16)}function A(){function t(){M("Tab Visable","resize")}"hidden"!==document.visibilityState&&(u("document","Trigger event: Visiblity change"),k(t,16))}function M(t,e){for(var n in G)(function(t){return G[t]&&"parent"===G[t].resizeFrom&&G[t].autoResize&&!G[t].firstRun})(n)&&x(t,e,document.getElementById(n),n)}function N(){s(window,"message",f),s(window,"resize",function(){I("resize")}),s(document,"visibilitychange",A),s(document,"-webkit-visibilitychange",A),s(window,"focusin",function(){I("focus")}),s(window,"focus",function(){I("focus")})}function D(){function t(t,e){e&&(!function(){if(!e.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==e.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+e.tagName+">")}(),T(e,t),i.push(e))}function e(t){t&&t.enablePublicMethods&&h("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var i;return l(),N(),function(r,o){switch(i=[],e(r),typeof o){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(o||"iframe"),t.bind(n,r));break;case"object":t(r,o);break;default:throw new TypeError("Unexpected data type ("+typeof o+")")}return i}}if("undefined"!=typeof window){var L=0,R=!1,F=!1,B="message".length,U="[iFrameSizer]",j=U.length,z=null,V=window.requestAnimationFrame,H={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},G={},W=null,q="Host Page",$={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){h("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}},Y={};window.jQuery&&function(t){t.fn?t.fn.iFrameResize||(t.fn.iFrameResize=function(t){function e(e,n){T(n,t)}return this.filter("iframe").each(e).end()}):d("","Unable to bind to jQuery, it is not fully loaded.")}(window.jQuery),r=[],i=D,(o="function"==typeof i?i.apply(e,r):i)!==n&&(t.exports=o)}}()},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=(n(0),n(2)),o=n(12),s=n(137),a=n(368).LoginMessageActionType;i.exports=o.extend({initialize:function(t){o.prototype.initialize.apply(this,arguments),this.message=t.message,this.listenToOnce(r,"app:ready",function(){this.needShowBannerImmediately()&&this.showBannerMessage()}.bind(this)),this.listenToOnce(r,"login:message:show",this.showBannerMessage)},needShowBannerImmediately:function(){return 10===this.message.priority},showBannerMessage:function(){r.trigger("ui:banner:campaign",{force:this.needShowBannerImmediately(),text:this.message.campaignDataText,handler:this.onBannerClick.bind(this)})},onBannerClick:function(){switch(this.model.interactEvent(this.message.id,"campaign_displayed"),this.message.action){case a.EXTERNAL:window.open(this.message.actionUrl,"_blank","");break;case a.INTERNAL:s.campaignsInternalAction(this.message.actionUrl);break;case a.SWITCH_ACCOUNT_TYPE_DEMO:r.trigger("platform:switch","demo");break;case a.SWITCH_ACCOUNT_TYPE_LIVE:r.trigger("platform:switch","live")}}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"LoginMessageType",function(){return i});var i={IMAGE:"IMAGE",HTML_PAGE:"HTML_PAGE",TEXT:"TEXT"}},function(t,e,n){function i(t){return n(r(t))}function r(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./TradeTech/screenshot_watermark.png":1416,"./finq/screenshot_watermark.png":1417,"./globtrex/screenshot_watermark.png":1418,"./markets/screenshot_watermark.png":1419};i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id=1415},function(t,e,n){t.exports=n.p+"images/2d39c27c4d17.png"},function(t,e,n){t.exports=n.p+"images/e3ccd6e0e1fb.png"},function(t,e,n){t.exports=n.p+"images/3ad8e156ea0f.png"},function(t,e,n){t.exports=n.p+"images/ad1c5696eef9.png"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAApJREFUCNdjYAAAAAIAAeIhvDMAAAAASUVORK5CYII="},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(0),s=(n(2),n(70)),a=n(24),l=n(282),c=o.template(n(1423)),u=n(132),d=n(9),h=a.extend({name:"chart-settings",events:function(){return o.extend({},o.result(a.prototype,"events"),{"click #restore-defaults":"restoreDefaults","click .fn-save":"onSave","click .fn-cancel":"onCancel"})},restoreDefaults:function(){o.extend(this.settings,u(this.defaults)),this.render()},getOptions:function(t){return o.extend({},o.result(a.prototype,"getOptions"),{isHeaderShowed:!0,closeIconStyle:"blue",headerStyle:"wizard",caption:__("chart_settings_popup.title"),indicators:this.indicators},t)},onSave:function(){this.close(),this.saveChartSettingsHandler(this.settings,this.getDiff({},this.defaults,this.settings),this.chartIndex)},onCancel:function(){this.close()},initialize:function(t,e,n,i,r){this.saveChartSettingsHandler=r,this.settings=u(n),this.defaults=u(i),this.chartIndex=e,a.prototype.initialize.apply(this,arguments),this.render()},render:function(){a.prototype.render.call(this),this.setContent(c({chartSettings:this.settings,settings:d})),this.form=new s({el:this.$el.find("#chart-settings-container")}),this.listenTo(this.form,"field:change:show_volume",this.onFieldChanged.bind(this,"switchers.showVolume")),this.listenTo(this.form,"field:change:show_grid",this.onFieldChanged.bind(this,"switchers.showGrid")),this.listenTo(this.form,"field:change:show_trades",this.onFieldChanged.bind(this,"switchers.showTrades")),this.colorPickers=[];var t=this.$el.find(".field-type-colorpicker");o.each(t,function(t){var e=new l({el:t,container:r("#chart-settings-container"),field:t.dataset.field});delete t.dataset.field,this.listenTo(e,"change",this.onFieldChanged.bind(this,e.field)),this.colorPickers.push(e)},this)},onFieldChanged:function(t,e){if(void 0!==t){t=t.split(".");for(var n=0,i=this.settings;n<t.length-1;)i=i[t[n]],n++;i[t[n]]=e.value()}},destroy:function(){a.prototype.destroy.call(this)},getDiff:function(t,e,n){return o.omit(o.mapObject(n,function(t,i){return o.isObject(t)?this.getDiff({},e[i],n[i]):n[i]!==e[i]?t:void 0},this),function(t){return o.isUndefined(t)||o.isObject(t)&&o.isEmpty(t)})}});i.exports=h}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var r=n(0),o=n(5),s=n(12),a=r.template('<% _.each(colors, function (color, index) {%>\n        <span data-index="<%-index%>" <%-getClassNames(color)%>><div style="background-color:<%-color%>"></div></span>\n        <%})%>'),l=["#272727","#FF0000","#0033C5","#0096CD","#00A81E","#FFB40E","#FF5A00","#FF3423","#521815","#3C464C","#FF5F95","#DA00FF","#33CBFF","#8FEC00","#FFE151","#FF9C63","#FF4E49","#61341A","#A4A4A4","#FFA0C0","#8AADFF","#89E0FF","#9FE79E","#FFED98","#FFC4A2","#FF9694","#5A4E15","#FFFFFF","#FFC7D9","#BACEFF","#B9ECFF","#E6FFCB","#FFF5C2","#FFDCC8","#FFB2B1","#435C26"];i.exports=s.extend({visible:!1,className:"color-picker-dropdown",events:function(){return r.extend({},r.result(s.prototype,"events"),{"click .color-picker-dropdown > span":"handleColorClick"})},show:function(){this.visible=!0,this._initOutsideClickHandler(),this.updatePosition(!0)},hide:function(t){t&&t.target.parentElement===this.button||(this.visible=!1,this._destroyOutsideClickHandler(),this.updatePosition())},toggle:function(){this.visible?this.hide():this.show()},_initOutsideClickHandler:function(){this._outsideClickHandler=this.hide.bind(this),o("body").on("click",this._outsideClickHandler)},_destroyOutsideClickHandler:function(){o("body").off("click",this._outsideClickHandler),this._outsideClickHandler=null},updatePosition:function(t){var e=this.parent.get?this.parent[0]:this.parent,n=this.button.getBoundingClientRect(),i=e.getBoundingClientRect();this.$el.css("top",n.top+n.height-i.top+"px"),this.$el.css("left",n.left-i.left+"px"),this.$el.css("display",this.visible?"flex":"none");var r=e.offsetHeight+e.getBoundingClientRect().top;!t&&this.visible&&r<=this.el.getBoundingClientRect().top&&this.hide()},handleColorClick:function(t){this.$el.find(".color-selected").removeClass("color-selected"),o(t.currentTarget).addClass("color-selected"),this.hide(),this.callback(l[t.currentTarget.dataset.index])},initialize:function(t,e,n,i){s.prototype.initialize.apply(this,arguments),this.button=e,this.color=n,this.callback=i,this.render()},getClassNames:function(t){var e="";return"#FFFFFF"!==t&&"white"!==t||(e+=" color-white"),t===this.color&&(e+=" color-selected"),e.length>0?"class="+e:""},render:function(){this.$el.css("display",this.visible?"flex":"none"),this.$el.html(a({colors:l,getClassNames:this.getClassNames.bind(this)})),this.parent&&o(this.parent).append(this.el)}})}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports='<div id="chart-settings-container" class="form"><div class="chart-settings-restore"><a id="restore-defaults"><%-__(\'chart_settings_popup.restore_defaults\')%></a></div><div class="chart-settings-switchers"><div class="chart-settings-column"><div class="chart-settings-switcher"><div class="field field-type-checkbox"><input name="show_volume" id="show_volume" type="checkbox" <%-chartSettings.switchers.showVolume ? \'checked\' : \'\'%>><label for="show_volume"><%-__(\'chart_settings_popup.show_volume_label\')%></label></div></div></div><div class="chart-settings-column"><div class="chart-settings-switcher"><div class="field field-type-checkbox"><input name="show_grid" id="show_grid" type="checkbox" <%-chartSettings.switchers.showGrid ? \'checked\' : \'\'%>><label for="show_grid"><%-__(\'chart_settings_popup.show_grid_label\')%></label></div></div></div> <% if (chartSettings.switchers.showTrades !== undefined) { %> <div class="chart-settings-column"><div class="chart-settings-switcher"><div class="field field-type-checkbox"><input name="show_trades" id="show_trades" type="checkbox" <%-chartSettings.switchers.showTrades ? \'checked\' : \'\'%>><label for="show_trades"><%-__(\'chart_settings_popup.show_trades\')%></label></div></div></div> <% } %> </div><div class="chart-settings-colors"><div class="chart-settings-column"><div class="chart-settings-header"><%-__(\'chart_settings_popup.candles_caption\')%></div><div class="chart-settings-color-picker"> <%-__(\'chart_settings_popup.bull_label\')%> <div class="field-type-colorpicker" data-color="<%-chartSettings.colors.candles.up%>" data-field="colors.candles.up"></div></div><div class="chart-settings-color-picker"> <%-__(\'chart_settings_popup.bear_label\')%> <div class="field-type-colorpicker" data-color="<%-chartSettings.colors.candles.down%>" data-field="colors.candles.down"></div></div></div><div class="chart-settings-column"><div class="chart-settings-header"><%-__(\'chart_settings_popup.bars_caption\')%></div><div class="chart-settings-color-picker"><%-__(\'chart_settings_popup.up_label\')%> <div class="field-type-colorpicker" data-color="<%-chartSettings.colors.bars.up%>" data-field="colors.bars.up"></div></div><div class="chart-settings-color-picker"><%-__(\'chart_settings_popup.down_label\')%> <div class="field-type-colorpicker" data-color="<%-chartSettings.colors.bars.down%>" data-field="colors.bars.down"></div></div></div><div class="chart-settings-column"><div class="chart-settings-header"><%-__(\'chart_settings_popup.lines_caption\')%></div><div class="chart-settings-color-picker"><%-__(\'chart_settings_popup.up_label\')%> <div class="field-type-colorpicker" data-color="<%-chartSettings.colors.line.up%>" data-field="colors.line.up"></div></div><div class="chart-settings-color-picker"><%-__(\'chart_settings_popup.neutral_label\')%> <div class="field-type-colorpicker" data-color="<%-chartSettings.colors.line.line%>" data-field="colors.line.line"></div></div><div class="chart-settings-color-picker"><%-__(\'chart_settings_popup.down_label\')%> <div class="field-type-colorpicker" data-color="<%-chartSettings.colors.line.down%>" data-field="colors.line.down"></div></div></div><div class="chart-settings-column"><div class="chart-settings-header"><%-__(\'chart_settings_popup.area_caption\')%></div><div class="chart-settings-color-picker"><%-__(\'chart_settings_popup.line_label\')%> <div class="field-type-colorpicker" data-color="<%-chartSettings.colors.area.line%>" data-field="colors.area.line"></div></div><div class="chart-settings-color-picker"><%-__(\'chart_settings_popup.area_label\')%> <div class="field-type-colorpicker" data-color="<%-chartSettings.colors.area.fill%>" data-field="colors.area.fill"></div></div></div><div class="chart-settings-column"><div class="chart-settings-header"><%-__(\'chart_settings_popup.heikin_ashi_caption\')%></div><div class="chart-settings-color-picker"><%-__(\'chart_settings_popup.up_label\')%> <div class="field-type-colorpicker" data-color="<%-chartSettings.colors.heikinashi.up%>" data-field="colors.heikinashi.up"></div></div><div class="chart-settings-color-picker"><%-__(\'chart_settings_popup.down_label\')%> <div class="field-type-colorpicker" data-color="<%-chartSettings.colors.heikinashi.down%>" data-field="colors.heikinashi.down"></div></div></div><div class="chart-settings-column"><div class="chart-settings-header"><%-__(\'chart_settings_popup.common_caption\')%></div><div class="chart-settings-color-picker"><%-__(\'chart_settings_popup.background_label\')%> <div class="field-type-colorpicker" data-color="<%-chartSettings.colors.common.background%>" data-field="colors.common.background"></div></div><div class="chart-settings-color-picker"><%-__(\'chart_settings_popup.foreground_label\')%> <div class="field-type-colorpicker" data-color="<%-chartSettings.colors.common.foreground%>" data-field="colors.common.foreground"></div></div><div class="chart-settings-color-picker"><%-__(\'chart_settings_popup.grid_label\')%> <div class="field-type-colorpicker" data-color="<%-chartSettings.colors.common.grid%>" data-field="colors.common.grid"></div></div><div class="chart-settings-color-picker"><%-__(\'chart_settings_popup.volumes_label\')%> <div class="field-type-colorpicker" data-color="<%-chartSettings.colors.common.volume%>" data-field="colors.common.volume"></div></div></div></div><div class="chart-settings-footer"><div class="action-buttons"><button class="btn btn-primary fn-save"><%=__(\'actions.save\')%></button> <button class="btn fn-cancel"><%=__(\'actions.cancel\')%></button></div> <% if (settings.isLiveChatEnabled()) { %> <div class="help-link"><div><%=__(\'help.need_help\')%> <a href="#"><%=__(\'help.right_here\')%></a></div></div> <% } %> </div></div>'},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(24),s=n(697),a=n(1426),l=n(371),c=r.template(n(1428)),u=r.template(n(1429)),d=n(1430),h=n(132);i.exports=o.extend({currentNumber:0,defaultIndicators:{},activeIndicators:{},events:function(){return r.extend({},r.result(o.prototype,"events"),{"keyup #search-indicators-input":"onSearchInput","click .indicator-item":"onIndicatorSelected","click #indicator-trading-central":"onTradingCentralClicked","click .indicators-list-active input":"onIndicatorClicked","click .indicators-list-available input":"onIndicatorClicked","click #uncheck-indicators":"uncheckIndicators","click .fn-save":"onSave","click .fn-cancel":"onCancel"})},getOptions:function(t){return r.extend({},r.result(o.prototype,"getOptions"),{isHeaderShowed:!0,closeIconStyle:"blue",headerStyle:"wizard",caption:__("chart.indicators_settings.header"),indicators:this.indicators},t)},onSave:function(){var t=this;this.close(),l.save(this.tradingCentral.enabled,this.tradingCentral.settings);var e=r.reduce(r.sortBy(r.filter(this.indicators,function(t){return t.active}),"title"),function(t,e){return t.concat(r.each(e,function(e,n){return e.uiid=+(""+(t.length+1)+n)}))},[]),n=r.reduce(r.sortBy(r.filter(this.indicators,function(t){return!t.active}),"title"),function(e,n){var i=r.map(n,function(e){return d.get(t.defaultIndicators[e.id],e,["uiid"])});return 1===i.length&&r.isObject(i[0])&&r.isEmpty(i[0])||(e[n.id]=i),e},{});this.sendIndicatorsSettings(e,n,this.chartIndex)},onCancel:function(){this.close()},uncheckIndicators:function(){this.activeIndicators=r.each(this.indicators,function(t){return t.active=!1}),this.currentNumber=0,this.render()},onSearchInput:function(t){var e=t.currentTarget.value.toLowerCase();r.each(this.$(".indicator-item"),function(t){t.dataset.indicator.toLowerCase().indexOf(e)<0?t.style.display="none":t.style.display="block"})},onIndicatorSelected:function(t){var e=t.currentTarget.dataset.indicator;if(e===l.defaults.id&&!l.isAvailable())return l.showUnavailableMessage(),t.stopImmediatePropagation(),void t.preventDefault();this.selectedId!==e&&(this.selectedId=e,this.renderIndicatorInfo())},onTradingCentralClicked:function(t){t.currentTarget.checked?this.checkTradingCentral():this.uncheckTradingCentral()},onIndicatorClicked:function(t){var e=t.currentTarget.parentElement.dataset.indicator;t.currentTarget.checked?this.checkIndicator(e,t):this.uncheckIndicator(e,t)},checkIndicator:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectedId,arguments[1]);this.currentNumber<5?(this.currentNumber++,this.indicators[this.selectedId].active=!0,this.renderIndicatorsList()):t&&t.preventDefault()},uncheckIndicator:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectedId,arguments[1]);this.currentNumber>=0?(this.currentNumber--,this.indicators[this.selectedId].active=!1,this.renderIndicatorsList()):t&&t.preventDefault()},checkTradingCentral:function(){this.tradingCentral.enabled=!0,this.renderIndicatorsList(),this.renderIndicatorInfo()},uncheckTradingCentral:function(){this.tradingCentral.enabled=!1,this.renderIndicatorsList(),this.renderIndicatorInfo()},initialize:function(t,e,n,i,s,a){var c=this;o.prototype.initialize.apply(this,arguments),this.chartIndex=e,this.sendIndicatorsSettings=a,this.defaultIndicators=r.reduce(s,function(t,e){return t[e.id]=e,t},{}),n=r.groupBy(n,"id"),this.currentNumber=r.keys(n).length,this.selectedId=void 0,this.indicators=r.reduce(s,function(t,e){var o=void 0;return n[e.id]?(o=n[e.id],o.active=!0,c.selectedId||(c.selectedId=e.id)):i[e.id]?(o=r.map(i[e.id],function(t){return d.apply(e,t)}),o.active=!1):(o=[h(e)],o.active=!1),o.id=e.id,o.title=e.title,t[e.id]=o,t},{}),this.selectedId||(this.selectedId=r.sortBy(r.keys(this.indicators))[0]),this.tradingCentral={enabled:l.isAvailable()&&l.isEnabled(),settings:l.settings},this.render()},render:function(){o.prototype.render.call(this),this.setContent(c()),this.renderIndicatorsList(),this.selectedId&&this.renderIndicatorInfo()},renderIndicatorsList:function(){this.$el.find(".indicators-settings-left-sidebar").html(u({selectedId:this.selectedId,activeIndicators:r.sortBy(r.filter(this.indicators,function(t){return t.active}),"title"),inactiveIndicators:r.sortBy(r.filter(this.indicators,function(t){return!t.active}),"title"),tcId:l.defaults.id,tcEnabled:this.tradingCentral.enabled})),this.$el.find(".indicators-info").css("visibility",this.currentNumber>0?"visible":"hidden"),this.$el.find(".indicators-info > span").html(__("chart.indicators_settings.indicators_count",[this.currentNumber,5])),this.$(".selected").removeClass("selected"),this.$('[data-indicator="'+this.selectedId+'"]').addClass("selected")},renderIndicatorInfo:function(){var t=this;this.$(".selected").removeClass("selected"),this.$('[data-indicator="'+this.selectedId+'"]').addClass("selected"),this.indicatorSettingsView&&this.indicatorSettingsView.destroy&&this.indicatorSettingsView.destroy(),this.selectedId===l.defaults.id?this.indicatorSettingsView=new a({parent:this.$("#indicator-info-container"),indicator:this.tradingCentral.settings,checked:this.tradingCentral.enabled,checkIndicator:this.checkTradingCentral.bind(this)}):this.indicatorSettingsView=new s({parent:this.$("#indicator-info-container"),indicator:this.indicators[this.selectedId],defaultIndicator:this.defaultIndicators[this.selectedId],onChange:function(){return t.checkIndicator()},onAdd:function(e){return t.$el.find(".indicator-item.selected .badge").html(e>1?e-1:"")},onRemove:function(e){return t.$el.find(".indicator-item.selected .badge").html(e>1?e-1:"")}}),this.indicatorSettingsView.render()},destroy:function(){this.indicatorSettingsView.destroy(),o.prototype.destroy.call(this)}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<div class="form"><div class="indicator-header"><div class="indicator-info"><div class="indicator-title"> <%=indicators[0].title%> </div><div class="indicator-description"> <%=localize(\'chart_studies.description.\' + indicators[0].id, "")%> </div></div><div class="indicator-controls"><div class="btn btn-primary fn-add-indicator add-indicator-settings" <%=isFull && "disabled"%>><i class="icon-plus-circe"></i><span><%=__(\'chart_studies.add_settings\')%></span></div> <% if (!hasSettings) { %> <a class="restore-defaults fn-restore-indicator" data-index="0"><%=__(\'chart_studies.restore_defaults\')%></a> <% }; %> </div></div><div class="indicator-settings-list <%= hasSettings ? \'with-settings\' : \'without-settings\' %>"> <% _.each(indicators, function(indicator,indicatorIndex){ %> <div class="indicator-settings-item <%=states[indicatorIndex] && \'active\'%>"> <% if (hasSettings) { %> <div class="indicator-settings-item-header"><div><i class="icon-collapse-settings fn-collapse-indicator <%=states[indicatorIndex] && \'collapsed\'%>" data-index="<%=indicatorIndex%>"></i> <span class="indicator-settings-title"><%= indicator.title + (indicatorIndex === 0 ? \'\' : (" " + (indicatorIndex + 1)))%></span></div><div><a class="restore-defaults fn-restore-indicator" data-index="<%=indicatorIndex%>"><%=__(\'chart_studies.restore_defaults\')%></a><span class="separator"></span> <i class="icon-recycle-blue remove-indicator-settings fn-remove-indicator" data-index="<%=indicatorIndex%>"></i></div></div> <% } %> <div class="indicator-settings-item-content"> <% if (indicator.parameters.length > 0) { %> <div class="indicator-inputs"><div class="indicator-inputs-header"> <%=__(\'chart_studies.settings.category_inputs\')%> </div> <% _.each(indicator.parameters, function (parameter, index) {%> <div class="indicator-input"><div class="indicator-input-name"> <%-localize(\'chart_studies.settings.param_name_\' + parameter.name, parameter.name) %>:</div> <%\n                        switch (parameter.type) {\n                        case "PRICE_FIELD_TYPE":\n                        %> <div class="field field-input field-type-select" name="<%-parameter.name%>-parameter-<%-indicatorIndex%>" data-indicator="<%-indicatorIndex%>" data-type="<%-parameter.type%>" data-category="parameters" data-index="<%-index%>" data-field="value"><div class="styled-select"><select class="form-control" default-value="<%=parameter.value%>"> <% _.each(priceOptions, function(option) { %> <option value="<%=option%>"> <%=__(\'chart_studies.settings.param_value_\' + option.toLowerCase())%> </option> <% }); %> </select></div><div class="dk-select"><div class="dk-selected"><%=parameter.value%></div><ul class="dk-select-options" aria-expanded="false"> <% _.each(priceOptions, function(option) { %> <li class="dk-option" data-value="<%=option%>"> <%=__(\'chart_studies.settings.param_value_\' + option.toLowerCase())%> </li> <%}); %> </ul></div></div> <%\n                        break;\n                        default:\n                        %> <div class="field field-input field-type-spin" data-indicator="<%-indicatorIndex%>" data-type="<%-parameter.type%>" data-category="parameters" data-index="<%-index%>" data-field="value"><div class="input"><input type="input" name="<%-parameter.name%>-<%-indicatorIndex%>" value="<%-parameter.value%>"><div class="field-tooltip"><div class="arrow"></div><div class="content"></div></div></div><div class="actions"><button href="#" class="btn action-plus"><i class="icon-plus"></i></button> <button href="#" class="btn action-minus"><i class="icon-minus"></i></button></div></div> <%\n                        }\n                        %> </div> <% }, this); %> </div> <% }; %> <div class="indicator-plots"><div class="indicator-plots-header"> <%=__(\'chart_studies.settings.category_plots\')%> </div> <% _.each(indicator.lines, function (line, index) {%> <div class="indicator-plot"><div class="indicator-plot-name"> <%-localize(\'chart_studies.settings.line_name_\' + line.title, line.title)%>:</div><div class="field field-thickness field-type-spin" data-indicator="<%-indicatorIndex%>" data-type="<%-line.type%>" data-category="lines" data-index="<%-index%>" data-field="thickness"><div class="input"><input type="text" name="<%-line.title%>-<%-indicatorIndex%>" value="<%-line.thickness%>"><div class="field-tooltip"><div class="arrow"></div><div class="content"></div></div></div><div class="actions"><button href="#" class="btn action-plus"><i class="icon-plus"></i></button> <button href="#" class="btn action-minus"><i class="icon-minus"></i></button></div><div class="colors"> <% _.each(line.colors, function (color,_index) {%> <div class="field-color" data-indicator="<%-indicatorIndex%>" data-line="<%-index%>" data-index="<%-_index%>" data-color="<%-color%>"></div> <% }); %> </div></div></div> <% }); %> </div></div></div> <% }) %> </div></div>'},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var r=n(0),o=n(5),s=n(371),a=n(697),l=r.template(n(1427));i.exports=a.extend({initialize:function(){if(!s.isAvailable())return void s.showUnavailableMessage();a.prototype.initialize.apply(this,arguments),this.defaultIndicator=s.defaults,this.render()},render:function(){this.$el.html(l({resistanceColor:this.indicator.lines[0].colors[0],supportColor:this.indicator.lines[1].colors[0],pivotColor:this.indicator.lines[2].colors[0]})),o(this.parent).html(this.el),this._initColorPickers(".field-type-colorpicker"),this._initScrollHandler()}})}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports='<div class="form"><div class="indicator-header"><div class="indicator-info"><div class="indicator-title"> <%=__(\'trading.central.study.title\')%> </div><div class="indicator-description"> <%=__(\'trading.central.study.description\')%> </div></div><div class="indicator-controls"><a class="restore-defaults"><%=__(\'chart_studies.restore_defaults\')%></a></div></div><div class="indicator-settings-list without-settings"><div class="indicator-settings-item"><div class="indicator-settings-item-content"><div class="indicator-plots"><div class="indicator-plots-header"> <%=__(\'chart_studies.settings.category_plots\')%> </div><div class="indicator-plot"><div class="indicator-plot-name"> <%-__(\'trading.central.study.resistance.title\')%>:</div><div class="field-type-colorpicker" data-color="<%-resistanceColor%>" data-index="0" data-line="0"></div></div><div class="indicator-plot"><div class="indicator-plot-name"> <%-__(\'trading.central.study.support.title\')%>:</div><div class="field-type-colorpicker" data-color="<%-supportColor%>" data-index="0" data-line="1"></div></div><div class="indicator-plot"><div class="indicator-plot-name"> <%-__(\'trading.central.study.pivot.title\')%>:</div><div class="field-type-colorpicker" data-color="<%-pivotColor%>" data-index="0" data-line="2"></div></div></div></div></div></div></div>'},function(t,e){t.exports='<div class="indicators-settings"><div class="indicators-settings-left-sidebar"></div><div class="indicators-settings-right-sidebar"><div><div id="indicator-info-container"></div><div class="indicators-footer"><div class="indicators-button"><button class="btn btn-primary fn-save"><%=__(\'save\')%></button> <button class="btn fn-cancel"><%=__(\'cancel\')%></button></div><div class="indicators-info"><div class="icon icon-info"></div><span></span></div></div></div></div></div>'},function(t,e){t.exports='<div class="search-block search-indicators-block"><div class="search-block-input"><input type="text" id="search-indicators-input" placeholder="<%=__(\'chart.indicators_settings.search\')%>"></div></div><div class="trading-central-item-wrapper"><div class="indicator-item" data-indicator="<%=tcId%>"><input id="indicator-trading-central" type="checkbox" class="fn-tech-instr" <%-tcEnabled ? \'checked\' : \'\'%>><label><span class="checkbox_label_inline"><%-__(\'trading.central.study.title\')%></span></label></div></div> <% if (activeIndicators && _.keys(activeIndicators).length > 0) { %> <div class="indicators-list-active-title"><div class="title"><span><%=__(\'chart.indicators_settings.active_indicators\')%></span><a id="uncheck-indicators"><%=__(\'chart_studies.uncheck_all\')%></a></div></div><div class="indicators-list-active"><ul> <% _.each(activeIndicators, function (indicator) {%> <li class="indicator-item <%-indicator.id == selectedId ? \'selected\' : \'\'%>" data-indicator="<%-indicator.id%>"><input id="indicator-item-<%-indicator.id%>" type="checkbox" class="fn-tech-instr" checked="checked"><label><span class="checkbox_label_inline"><%-indicator.title%><span class="badge"><%-indicator.length > 1 ? indicator.length - 1 : \'\'%></span></span></label></li> <% }); %> </ul></div> <% } %> <div class="indicators-list-available-title"><div class="title"><span><%=__(\'chart.indicators_settings.available_indicators\')%></span></div></div><div class="indicators-list-available"><ul> <% _.each(inactiveIndicators, function (indicator) {%> <li class="indicator-item <%-indicator.id == selectedId ? \'selected\' : \'\'%>" data-indicator="<%-indicator.id%>"><input id="indicator-item-<%-indicator.id%>" type="checkbox" class="fn-tech-instr"><label><span class="checkbox_label_inline"><%-indicator.title%><span class="badge"><%-indicator.length > 1 ? indicator.length - 1 : \'\'%></span></span></label></li> <% }); %> </ul></div>'},function(t,e,n){function i(t,e,n){return o.reduce(e,function(e,r,s){return!o.isEqual(r,t[s])&&n.indexOf(s)<0&&(e[s]=o.isObject(r)&&o.isObject(t[s])?i(t[s],r,n):r),e},{})}function r(t,e){o.each(e,function(e,n){o.isObject(e)?r(t[n],e):t[n]=e})}var o=n(0),s=n(132),a=function(t,e){return i(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[])},l=function(t,e){var n=s(t);return r(n,e),n};t.exports={get:a,apply:l}},function(t,e,n){var i;void 0!==(i=function(t,e,i){i.exports=n(1432)}.call(e,n,e,t))&&(t.exports=i)},function(t,e){t.exports="{\n    # /** LOGIN  **/\n    login: {\n        REAL_ACCOUNT: {\n            NOT_FULL_REGISTRATION_COMPLETED: {\n                # If we try to open full registration popup by deep links.\n                DL_FULLREG: ['event(run_deep_link)'],\n                ELIGIBLE_FOR_BONUS: {\n                        FIRST_LOGIN: ['banner(R)', 'popup(firstLoginRegAndGetBonusOnLogin, open_registration, popup_explore_on_login)', 'event(run_deep_link)'],\n                        NOT_FIRST_LOGIN: ['banner(R)', 'popup(welcomeBackAndGetBonus, open_registration, popup_explore_on_login)', 'event(run_deep_link)']\n                },\n                NOT_ELIGIBLE_FOR_BONUS: {\n                    FIRST_LOGIN: {\n                         IS_PLATFORM_TYPE_POPUP_VISIBLE: ['banner(R_NO_BONUS)', 'popup(firstLoginRegOnLoginPlatformPopup, open_registration_no_bonus, switch_to_demo_mode_sync)', 'event(run_deep_link)'],\n                         NOT_IS_PLATFORM_TYPE_POPUP_VISIBLE: ['banner(R_NO_BONUS)', 'popup(firstLoginRegOnLogin, open_registration_no_bonus, popup_explore_on_login)', 'event(run_deep_link)']\n                    },\n                    NOT_FIRST_LOGIN: ['banner(R_NO_BONUS)', 'popup(welcomeBackAndNeedToReg, open_registration_no_bonus, popup_explore_on_login)', 'event(run_deep_link)']\n                }\n            },\n            NOT_DEEP_LINK: {\n                FULL_REGISTRATION_COMPLETED: {\n                    NOT_MARKETS_X_ENABLE: ['event(actions_login_full_registration_completed)'],\n                    MARKETS_X_ENABLE: {\n                        NOT_MARKETS_X: {\n                            NOT_SHOW_UPGRADE_MARKETS_X_POPUP: ['event(actions_login_full_registration_completed)'],\n                            SHOW_UPGRADE_MARKETS_X_POPUP: ['popup(openUpgradeMarketsX, actions_login_full_registration_completed, actions_login_full_registration_completed)']\n                        },\n                        MARKETS_X: ['event(actions_login_full_registration_completed)']\n                    }\n                }\n            },\n            DEEP_LINK: ['event(run_deep_link)']\n        },\n        NOT_REAL_ACCOUNT: {\n            NOT_FULL_REGISTRATION_COMPLETED: {\n                ELIGIBLE_FOR_BONUS: {\n                    PLATFORM_TYPE_POPUP_DEMO_ENABLED:  ['banner(R)']\n                    NOT_PLATFORM_TYPE_POPUP_DEMO_ENABLED:  ['banner(R)', 'popup(switchToRealAndReg, switch_to_real_and_open_fullreg)']\n                    },\n                NOT_ELIGIBLE_FOR_BONUS: {\n                    PLATFORM_TYPE_POPUP_DEMO_ENABLED:['banner(R_NO_BONUS)']\n                    NOT_PLATFORM_TYPE_POPUP_DEMO_ENABLED:['banner(R_NO_BONUS)', 'popup(switchToRealAndReg, switch_to_real_and_open_fullreg)']\n                }\n            },\n            FULL_REGISTRATION_COMPLETED: {\n                NOT_DEEP_LINK: {\n                    LOW_SCORE: {\n                        MULTIPLE_QUIZ: {\n                            ELIGIBLE_QUIZ: ['banner(QUIZ)', 'popup(welcomeBackAndRetakeQuiz, retake_quiz)'],\n                            POSTPONED_QUIZ: ['popup(welcomeBackQuizPostponed)']\n                        }\n                    },\n                    NOT_LOW_SCORE: {\n                        NOT_FIRST_DEPOSIT_MADE: ['banner(D)', 'openLoginMessage'],\n                        COMPLIANCE_SUSPENDED: {\n                            COMPLIANCE_SUSPENDED_OTHER: ['popup(suspendedComplianceOther, open_login_message)'],\n                            NOT_COMPLIANCE_SUSPENDED_GROUND_INACTIVITY: {\n                                NOT_U_APPROVED_BY_EV: {\n                                    U_EXPIRED: ['banner(U_EXPIRED)', 'popup(verifyExpiredDocumentsDemo, switch_to_real_and_open_verification, open_login_message)'],\n                                    U_REJECTED: ['banner(U_EXPIRED)', 'popup(verifyExpiredDocumentsDemo, switch_to_real_and_open_verification, open_login_message)'],\n                                    U_BOTH_DOCS_IN_REVIEW: ['banner(U_IN_REVIEW)'],\n                                    U_IN_REVIEW: {\n                                        U_VERIFIED || U_PENDING_EXPIRATION || NOT_U_DOC_UPLOADED: ['banner(U_IN_REVIEW)']\n                                    },\n                                },\n                                NOT_COMPLIANCE_SUSPENDED_GROUND_EXPIRATION: {\n                                    U_VERIFIED || U_PENDING_EXPIRATION || NOT_U_DOC_UPLOADED: ['popup(suspendedComplianceInactivity, open_login_message)']\n                                }\n                            },\n                            COMPLIANCE_SUSPENDED_GROUND_INACTIVITY: ['popup(suspendedComplianceInactivity, open_login_message)'],\n                        },\n                        PENDING_COMPLIANCE: {\n                            PENDING_COMPLIANCE_GROUND_ECDD : ['banner(U_NO_BONUS)', 'popup(switchToRealModeAndVerifyAccount, switch_to_real_and_open_verification, open_login_message)'],\n                            PENDING_COMPLIANCE_GROUND_PHONE_VERIFICATION : ['openLoginMessage']\n                        },\n                        COMPLIANCE: {\n                            U_APPROVED_BY_EV: ['openLoginMessage'],\n                            NOT_C_VERIFIED: ['banner(CC)', 'popup(welcomeBackAndVerifyAccount, open_verification_center, open_login_message)'],\n                            NOT_U_PENDING_EXPIRATION: ['openLoginMessage']\n                        },\n                        NOT_COMPLIANCE_OR_COMPLIANCE_SUSPENDED: {\n                            NOT_U_DOC_UPLOADED: ['banner(U_NO_BONUS)', 'popup(switchToRealModeAndVerifyAccount, switch_to_real_and_open_verification, open_login_message)'],\n                            U_REJECTED: ['banner(U_NO_BONUS)', 'popup(switchToRealModeAndVerifyAccount, switch_to_real_and_open_verification, open_login_message)'],\n                            U_EXPIRED: ['banner(U_NO_BONUS)', 'popup(switchToRealModeAndVerifyAccount, switch_to_real_and_open_verification, open_login_message)'],\n                            NOT_U_APPROVED_BY_EV: {\n                                U_BOTH_DOCS_IN_REVIEW: ['banner(U_IN_REVIEW)', 'openLoginMessage'],\n                                U_IN_REVIEW: {\n                                    U_PENDING_EXPIRATION: ['banner(U_IN_REVIEW)', 'openLoginMessage'],\n                                    U_SOME_VERIFIED: ['banner(U_IN_REVIEW)', 'openLoginMessage'],\n                                },\n                                U_PENDING_EXPIRATION: ['openLoginMessage'],\n                                U_SOME_VERIFIED: ['openLoginMessage'],\n                                NOT_U_VERIFIED: ['banner(U_NO_BONUS)', 'openLoginMessage' ],\n                                NOT_C_VERIFIED: ['banner(CC)', 'openLoginMessage']\n                            },\n                            U_APPROVED_BY_EV: ['openLoginMessage'],\n                        },\n                        NOT_U_DOC_UPLOADED: ['banner(U_NO_BONUS)', 'openLoginMessage'],\n                        U_REJECTED: ['banner(U_NO_BONUS)', 'openLoginMessage'],\n                        U_EXPIRED: ['banner(U_EXPIRED)', 'openLoginMessage'],\n                        U_PENDING_EXPIRATION_SOON: ['banner(U_GOING_TO_EXPIRE)', 'popup(verifyGoingToExpireDocumentsDemo, open_login_message)'],\n                        U_PENDING_EXPIRATION: ['banner(U_GOING_TO_EXPIRE)', 'openLoginMessage'],\n                        U_IN_REVIEW: ['banner(U_IN_REVIEW)', 'openLoginMessage'],\n                        NOT_U_VERIFIED: ['banner(U_NO_BONUS)', 'openLoginMessage' ],\n                        NOT_C_VERIFIED: ['banner(CC)', 'openLoginMessage']\n                    }\n                },\n                DEEP_LINK: {\n                    LOW_SCORE: {\n                        MULTIPLE_QUIZ: {\n                            ELIGIBLE_QUIZ: ['banner(QUIZ)']\n                        }\n                    },\n                    NOT_LOW_SCORE: ['event(run_deep_link)']\n                }\n            }\n        }\n    },\n\n    actions_login_full_registration_completed: {\n        LOW_SCORE: {\n            CHECK_KNOWLEDGE_POPUP: {\n                MULTIPLE_QUIZ: {\n                    ELIGIBLE_QUIZ: ['popup(lowScoreRiskWarningWithCheckKnowledge, switch_to_demo_mode, switch_to_demo_and_retake_quiz)'],\n                    NOT_ELIGIBLE_QUIZ: ['popup(lowScoreLoginLive, switch_to_demo_mode)']\n                }\n                NOT_MULTIPLE_QUIZ: ['popup(lowScoreRiskWarningWithCheckKnowledge, switch_to_demo_mode, open_check_knowledge)'],\n            }\n            NOT_CHECK_KNOWLEDGE_POPUP: ['popup(lowScoreLoginLive, switch_to_demo_mode)']\n        },\n        SPANISH_REG_CONFIRMATION_REQUIRED: {\n            ELIGIBLE_FOR_BONUS: {\n                MEDIUM_SCORE: ['banner(R)', 'popup(spanishMediumScoreRiskWarning, open_leverage_selection)'],\n                HIGH_SCORE: ['banner(R)', 'popup(spanishHighScoreRiskWarning, open_leverage_selection)']\n            },\n            NOT_ELIGIBLE_FOR_BONUS: {\n                MEDIUM_SCORE: ['banner(R_NO_BONUS)', 'popup(spanishMediumScoreRiskWarning, open_leverage_selection)'],\n                HIGH_SCORE: ['banner(R_NO_BONUS)', 'popup(spanishHighScoreRiskWarning, open_leverage_selection)']\n            }\n        },\n        NOT_FIRST_DEPOSIT_MADE: ['banner(D)', 'popup(haveNotDepositYet, open_first_deposit:WelcomeBack, open_login_message)'],\n        COMPLIANCE_SUSPENDED: {\n            COMPLIANCE_SUSPENDED_OTHER: ['popup(suspendedComplianceOther, open_login_message)'],\n            NOT_COMPLIANCE_SUSPENDED_GROUND_INACTIVITY: {\n               NOT_U_APPROVED_BY_EV: {\n                    U_EXPIRED: ['banner(U_EXPIRED)', 'popup(verifyExpiredDocumentsBeforePlacingTrade, open_verification_center, open_login_message)'],\n                    U_REJECTED: ['banner(U_EXPIRED)', 'popup(verifyExpiredDocumentsBeforePlacingTrade, open_verification_center, open_login_message)'],\n                    U_BOTH_DOCS_IN_REVIEW: ['banner(U_IN_REVIEW)'],\n                    U_IN_REVIEW: {\n                        U_SOME_VERIFIED || U_PENDING_EXPIRATION || NOT_U_DOC_UPLOADED: ['banner(U_IN_REVIEW)']\n                    },\n                },\n                NOT_COMPLIANCE_SUSPENDED_GROUND_EXPIRATION: {\n                    U_VERIFIED || U_PENDING_EXPIRATION || NOT_U_DOC_UPLOADED: ['popup(suspendedComplianceInactivity, open_login_message)']\n                }\n            },\n            COMPLIANCE_SUSPENDED_GROUND_INACTIVITY: ['popup(suspendedComplianceInactivity, open_login_message)'],\n        },\n        PENDING_COMPLIANCE: {\n            PENDING_COMPLIANCE_GROUND_ECDD : ['banner(U_NO_BONUS)', 'popup(welcomeBackAndVerifyAccount, open_verification_center, open_login_message)'],\n            PENDING_COMPLIANCE_GROUND_PHONE_VERIFICATION : ['banner(PHONE_PENDING)'],\n        },\n        COMPLIANCE: {\n            U_APPROVED_BY_EV: ['openLoginMessage'],\n            NOT_C_VERIFIED: {\n                NOT_PENDING_DEPOSIT:  ['banner(CC)', 'popup(welcomeBackAndVerifyAccount, open_verification_center, open_login_message)'],\n                PENDING_DEPOSIT:  ['banner(CC)', 'popup(verifyCreditCardBeforePlacingTrade, open_verification_center, open_login_message)'],\n            }\n            NOT_U_PENDING_EXPIRATION: ['openLoginMessage'],\n        },\n        NOT_U_DOC_UPLOADED: {\n            MOBILE: {\n                NOT_PENDING_DEPOSIT: ['banner(U_NO_BONUS)', 'popup(welcomeBackAndVerifyAccount, open_verification_center, open_login_message)'],\n                PENDING_DEPOSIT: ['popup(welcomeBackAndVerifyAccount, open_verification_center, open_login_message)']\n            },\n            NOT_MOBILE: ['banner(U_NO_BONUS)', 'popup(welcomeBackAndVerifyAccount, open_verification_center, open_login_message)']\n        },\n        U_REJECTED: ['banner(U_NO_BONUS)', 'popup(welcomeBackAndVerifyAccount, open_verification_center, open_login_message)'],\n        NOT_COMPLIANCE_OR_COMPLIANCE_SUSPENDED: {\n            U_EXPIRED: ['banner(U_EXPIRED)', 'popup(welcomeBackAndVerifyAccount, open_verification_center, open_login_message)'],\n            NOT_U_APPROVED_BY_EV: {\n                U_BOTH_DOCS_IN_REVIEW: {\n                    C_VERIFIED: ['banner(U_IN_REVIEW)', 'openLoginMessage'],\n                    NOT_C_VERIFIED: ['banner(CC)', 'popup(welcomeBackAndVerifyAccount, open_verification_center, open_login_message)']\n                },\n                U_IN_REVIEW: {\n                    C_VERIFIED: {\n                        U_PENDING_EXPIRATION: ['banner(U_IN_REVIEW)', 'openLoginMessage'],\n                        U_SOME_VERIFIED: ['banner(U_IN_REVIEW)', 'openLoginMessage']\n                    },\n                    NOT_C_VERIFIED: ['banner(CC)', 'popup(welcomeBackAndVerifyAccount, open_verification_center, open_login_message)']\n                },\n                U_PENDING_EXPIRATION: ['openLoginMessage'],\n                U_SOME_VERIFIED: ['openLoginMessage'],\n                NOT_C_VERIFIED: ['banner(CC)', 'popup(welcomeBackAndVerifyAccount, open_verification_center, open_login_message)'],\n                NOT_U_VERIFIED: ['banner(U_NO_BONUS)', 'popup(welcomeBackAndVerifyAccount, open_verification_center, open_login_message)']\n            },\n            U_APPROVED_BY_EV: ['openLoginMessage'],\n        },\n        U_EXPIRED: ['banner(U_EXPIRED)', 'popup(verifyExpiredDocumentsBeforePlacingTrade, open_verification_center, open_login_message)'],\n        U_PENDING_EXPIRATION_SOON: ['banner(U_GOING_TO_EXPIRE)', 'popup(verifyGoingToExpireDocumentsBeforePlacingTrade, open_verification_center, open_login_message)'],\n        U_PENDING_EXPIRATION: ['banner(U_GOING_TO_EXPIRE)', 'openLoginMessage'],\n        U_IN_REVIEW: ['banner(U_IN_REVIEW)', 'openLoginMessage'],\n        NOT_C_VERIFIED: ['banner(CC)', 'popup(welcomeBackAndVerifyAccount, open_verification_center, open_login_message)'],\n        NOT_U_VERIFIED: ['banner(U_NO_BONUS)', 'popup(welcomeBackAndVerifyAccount, open_verification_center, open_login_message)']\n        NOT_COMPLIANCE: ['banner(U_NO_BONUS)', 'popup(welcomeBackAndVerifyAccount, open_verification_center)']\n    },\n\n    registration_open: {\n        ELIGIBLE_FOR_BONUS: ['banner(R)', 'openRegistration'],\n        NOT_ELIGIBLE_FOR_BONUS: ['banner(R_NO_BONUS)', 'openRegistrationNoBonus']\n    },\n\n    # // The event is triggered by click on link 'Proceed without receiving an award' at Complete Registration popup.\n    registration_no_bonus: {\n        REAL_ACCOUNT: ['openRegistrationNoBonus']\n    },\n\n    # // The event is triggered by registration.view when registration's fields are filled.\n    registration_filled: {\n            REGISTRATION_EDIT_ALLOWED: ['event(registration_complete_attempt)'],\n            NOT_REGISTRATION_EDIT_ALLOWED: ['popup(pseudoCompleteRegistrationPopup, registration_complete_attempt)']\n    },\n\n    registration_complete_attempt: {\n         REAL_ACCOUNT: {\n           LOW_SCORE: {\n                CHECK_KNOWLEDGE_POPUP: {\n                    MULTIPLE_QUIZ: ['banner(dummy)', 'popup(lowScoreRiskWarningWithCheckKnowledge, complete_registration_and_switch_to_demo_mode, switch_to_demo_and_retake_quiz, registration_open)'],\n                    NOT_MULTIPLE_QUIZ: ['banner(dummy)', 'popup(lowScoreRiskWarningWithCheckKnowledge, complete_registration_and_switch_to_demo_mode, open_check_knowledge, registration_open)'],\n                }\n                NOT_CHECK_KNOWLEDGE_POPUP:  ['banner(dummy)', 'popup(lowScoreRiskWarning, complete_full_registration_and_switch_to_demo_mode, registration_open)']\n           },\n           SPANISH_REG_CONFIRMATION_REQUIRED: {\n               HIGH_SCORE: ['popup(spanishHighScoreRiskWarning, complete_full_registration_and_open_leverage)'],\n               MEDIUM_SCORE: ['popup(spanishMediumScoreRiskWarning, complete_full_registration_and_open_leverage, registration_open)']\n           },\n           NOT_SPANISH_REG_CONFIRMATION_REQUIRED: {\n               HIGH_SCORE: ['event(complete_full_registration_and_open_leverage)'],\n               MEDIUM_SCORE: {\n                   MEDIUM_REGISTRATION_POPUP: ['popup(mediumRegistrationCompleted, complete_full_registration_and_open_leverage)'],\n                   NOT_MEDIUM_REGISTRATION_POPUP: ['popup(mediumScoreRiskWarning, complete_full_registration_and_open_leverage, registration_open)']\n               }\n           }\n       }\n    },\n\n    registration_abort: {\n        REAL_ACCOUNT: {\n            FIRST_TIME_LOADING: {\n                NOT_IS_PLATFORM_TYPE_POPUP_VISIBLE: ['event(popup_explore_on_login)']\n                },\n            NOT_FIRST_TIME_LOADING: {\n                NOT_IS_PLATFORM_TYPE_POPUP_VISIBLE: ['popup(explore)']\n            }\n        }\n    },\n\n    # // Use this event to only open registration window and not continue with the flow\n    registration_only: {\n        REAL_ACCOUNT: {\n            NOT_FULL_REGISTRATION_COMPLETED: {\n                ELIGIBLE_FOR_BONUS: ['popup(regAndGetBonus, open_registration, popup_explore)'],\n                NOT_ELIGIBLE_FOR_BONUS: ['popup(reg, open_registration_no_bonus, popup_explore)']\n            }\n        },\n        NOT_REAL_ACCOUNT: {\n            NOT_FULL_REGISTRATION_COMPLETED: ['popup(switchToRealAndReg, open_registration)']\n        }\n    },\n\n    # /** BANNER CLICK **/\n    banner_click: {\n        REAL_ACCOUNT: {\n            NOT_FULL_REGISTRATION_COMPLETED: {\n                ELIGIBLE_FOR_BONUS: ['popup(regAndGetBonus, open_registration, popup_explore)'],\n                NOT_ELIGIBLE_FOR_BONUS: ['popup(reg, open_registration_no_bonus, popup_explore)']\n            },\n            FULL_REGISTRATION_COMPLETED: {\n                LOW_SCORE: ['switchToDemoMode'],\n                NOT_FIRST_DEPOSIT_MADE: ['event(open_first_deposit:RealBanner)'],\n                PENDING_COMPLIANCE: {\n                    PENDING_COMPLIANCE_GROUND_PHONE_VERIFICATION: []\n                },\n                COMPLIANCE_SUSPENDED: {\n                    NOT_COMPLIANCE_SUSPENDED_GROUND_INACTIVITY: {\n                        NOT_U_APPROVED_BY_EV: {\n                            U_BOTH_DOCS_IN_REVIEW: [],\n                            U_IN_REVIEW: {\n                                U_SOME_VERIFIED: [],\n                                U_PENDING_EXPIRATION: [],\n                                NOT_U_DOC_UPLOADED: [],\n                            },\n                       },\n                    },\n                },\n                NOT_COMPLIANCE_OR_COMPLIANCE_SUSPENDED: {\n                    NOT_U_APPROVED_BY_EV: {\n                        U_BOTH_DOCS_IN_REVIEW: {\n                            C_VERIFIED: [],\n                            NOT_C_VERIFIED: ['openVerificationCenter']\n                        },\n                        U_IN_REVIEW: {\n                            U_SOME_VERIFIED: [],\n                            U_PENDING_EXPIRATION: [],\n                        },\n                   },\n                },\n                NOT_U_DOC_UPLOADED: ['openVerificationCenter'],\n                U_REJECTED: ['openVerificationCenter'],\n                U_EXPIRED: ['openVerificationCenter'],\n                U_PENDING_EXPIRATION: ['openVerificationCenter'],\n                # // click on this banner should do nothing\n                NOT_C_VERIFIED: ['openVerificationCenter']\n                U_IN_REVIEW: [],\n                NOT_COMPLIANCE: ['openVerificationCenter'],\n                NOT_U_VERIFIED: ['openVerificationCenter'],\n            }\n        },\n        NOT_REAL_ACCOUNT: {\n            FULL_REGISTRATION_COMPLETED: {\n                LOW_SCORE: {\n                    MULTIPLE_QUIZ: ['retakeQuiz']\n                },\n                NOT_LOW_SCORE: {\n                    NOT_FIRST_DEPOSIT_MADE: ['popup(mustSwitchToRealAndDeposit, switch_to_real_and_open_deposit)'],\n                    PENDING_COMPLIANCE: {\n                        PENDING_COMPLIANCE_GROUND_ECDD :['popup(switchToRealModeAndVerifyAccount, switch_to_real_and_open_verification, open_login_message)']\n                    }\n                }\n            },\n            NOT_FULL_REGISTRATION_COMPLETED: ['popup(switchToRealAndReg, switch_to_real_and_open_fullreg)'],\n            NOT_U_DOC_UPLOADED: ['popup(switchToRealModeAndVerifyAccount, switch_to_real_and_open_verification)'],\n            COMPLIANCE_SUSPENDED: {\n                COMPLIANCE_SUSPENDED_GROUND_EXPIRATION: {\n                    NOT_U_IN_REVIEW: ['popup(verifyExpiredDocumentsDemo, switch_to_real_and_open_verification)'],\n                    U_IN_REVIEW: {\n                        U_EXPIRED: ['popup(verifyExpiredDocumentsDemo, switch_to_real_and_open_verification)'],\n                        U_REJECTED: ['popup(verifyExpiredDocumentsDemo, switch_to_real_and_open_verification)'],\n                    },\n                },\n                NOT_COMPLIANCE_SUSPENDED_GROUND_INACTIVITY: {\n                    NOT_U_APPROVED_BY_EV: {\n                        U_EXPIRED: ['popup(verifyExpiredDocumentsDemo, switch_to_real_and_open_verification)'],\n                        U_REJECTED: ['popup(verifyExpiredDocumentsDemo, switch_to_real_and_open_verification)'],\n                        U_BOTH_DOCS_IN_REVIEW: [],\n                        U_IN_REVIEW: {\n                            U_SOME_VERIFIED: [],\n                            U_PENDING_EXPIRATION: [],\n                            NOT_U_DOC_UPLOADED: [],\n                        },\n                   },\n                },\n            },\n            NOT_COMPLIANCE_OR_COMPLIANCE_SUSPENDED: {\n                NOT_U_APPROVED_BY_EV: {\n                    U_REJECTED: ['popup(switchToRealModeAndVerifyAccount, switch_to_real_and_open_verification)'],\n                    U_EXPIRED: ['popup(switchToRealModeAndVerifyAccount, switch_to_real_and_open_verification)']\n                    U_BOTH_DOCS_IN_REVIEW: [],\n                    U_IN_REVIEW: {\n                        U_SOME_VERIFIED: [],\n                        U_PENDING_EXPIRATION: [],\n                    },\n                },\n            },\n            U_REJECTED: ['popup(switchToRealModeAndVerifyAccount, switch_to_real_and_open_verification)'],\n            U_EXPIRED: ['popup(verifyExpiredDocumentsDemo, switch_to_real_and_open_verification)'],\n            U_PENDING_EXPIRATION: ['popup(verifyGoingToExpireDocumentsDemo, switch_to_real_and_open_verification)'],\n            NOT_U_VERIFIED: ['popup(switchToRealModeAndVerifyAccount, switch_to_real_and_open_verification)'],\n            NOT_C_VERIFIED: ['popup(switchToRealModeAndVerifyAccount, switch_to_real_and_open_verification)']\n        }\n    },\n\n    # /** BUY SELL **/\n    trade: {\n        REAL_ACCOUNT: {\n            FIRST_LOGIN: {\n                NOT_FULL_REGISTRATION_COMPLETED: {\n                    NOT_FIRST_DEPOSIT_MADE: {\n                        ELIGIBLE_FOR_BONUS: ['popup(needToRegBeforeGetBonusAndTrade, open_registration, popup_explore_on_login)'],\n                        NOT_ELIGIBLE_FOR_BONUS: ['popup(needToRegBeforeTrading, open_registration_no_bonus, popup_explore_on_login)']\n                    },\n                    NOT_BUYING_POWER: ['banner(D)', 'popup(lowBalanceAndFirstDeposit, open_first_deposit)'],\n                    ELIGIBLE_FOR_BONUS: ['popup(needToRegAndGetBonusBeforeTrading, open_registration, popup_explore)'],\n                    NOT_ELIGIBLE_FOR_BONUS: ['popup(needToRegBeforeTrading, open_registration_no_bonus, popup_explore)']\n                },\n                FULL_REGISTRATION_COMPLETED: {\n                    LOW_SCORE: ['switchToDemoMode'],\n                    PENDING_DEPOSIT {\n                        NOT_COMPLIANCE_OR_COMPLIANCE_SUSPENDED: {\n                            U_IN_REVIEW: ['popup(verificationAccountSoon)'],\n                            NOT_U_IN_REVIEW: ['popup(verifyAccountBeforePlacingTrade, open_verification_center)']\n                        }\n                    },\n                    NOT_BUYING_POWER: ['banner(D)', 'popup(lowBalanceAndFirstDeposit, open_first_deposit)']\n                }\n            },\n            NOT_FIRST_LOGIN: {\n                NOT_FULL_REGISTRATION_COMPLETED: {\n                    NOT_FIRST_DEPOSIT_MADE: {\n                        ELIGIBLE_FOR_BONUS: ['popup(needToRegBeforeGetBonusAndTrade, open_registration, popup_explore_on_login)'],\n                        NOT_ELIGIBLE_FOR_BONUS: ['popup(needToRegBeforeTrading, open_registration_no_bonus, popup_explore_on_login)']\n                    }\n                },\n                FULL_REGISTRATION_COMPLETED: {\n                    LOW_SCORE: ['switchToDemoMode'],\n                },\n                NOT_BUYING_POWER: {\n                    PENDING_DEPOSIT: {\n                        PENDING_COMPLIANCE: {\n                            PENDING_COMPLIANCE_GROUND_ECDD :['popup(verifyAccountBeforePlacingTrade, open_verification_center)']\n                            PENDING_COMPLIANCE_GROUND_PHONE_VERIFICATION: {\n                                NOT_C_VERIFIED: ['popup(verifyCreditCardBeforePlacingTrade, open_verification_center)'],\n                                C_VERIFIED: ['popup(proofOfPayment)']\n                            }\n                        },\n                        NOT_U_DOC_UPLOADED: ['popup(verifyAccountBeforePlacingTrade, open_verification_center)'],\n                        U_DOC_UPLOADED: {\n                            U_REJECTED: ['popup(verifyAccountBeforePlacingTrade, open_verification_center)'],\n                            U_EXPIRED: ['popup(verifyAccountBeforePlacingTrade, open_verification_center)'],\n                            NOT_C_VERIFIED: ['popup(verifyCreditCardBeforePlacingTrade, open_verification_center)'],\n                            U_IN_REVIEW: ['popup(verificationAccountSoon)'],\n                            C_VERIFIED: ['popup(proofOfPayment)']\n                        },\n                    },\n                    NOT_ELIGIBLE_FOR_BONUS: ['banner(D)', 'popup(lowBalanceAndDeposit, open_cashier)'],\n                    ELIGIBLE_FOR_BONUS: ['banner(D)', 'popup(lowBalanceAndDeposit, open_cashier)']\n                }\n            }\n        }\n    },\n\n    # /** DEPOSIT **/\n    deposit: {\n        REAL_ACCOUNT: {\n            NOT_FULL_REGISTRATION_COMPLETED: {\n                ELIGIBLE_FOR_BONUS: ['banner(R)','popup(needToRegAndGetBonusBeforeDeposit, open_registration, popup_explore)'],\n                NOT_ELIGIBLE_FOR_BONUS: ['banner(R_NO_BONUS)', 'popup(needToRegBeforeDeposit, open_registration_no_bonus, popup_explore)']\n            },\n            FIRST_LOGIN: {\n                NOT_FIRST_DEPOSIT_MADE: ['openFirstDepositPopup'],\n                FIRST_DEPOSIT_MADE: ['openCashier']\n            },\n            FULL_REGISTRATION_COMPLETED: {\n                LOW_SCORE: ['switchToDemoMode'],\n                NOT_FIRST_DEPOSIT_MADE: ['openFirstDepositPopup'],\n                FIRST_DEPOSIT_MADE: ['openCashier']\n            }\n        },\n        NOT_REAL_ACCOUNT: {\n            NOT_FIRST_DEPOSIT_MADE: ['popup(mustSwitchToRealAndDeposit, switch_to_real_and_open_deposit)'],\n            FIRST_DEPOSIT_MADE: ['popup(mustSwitchToRealAndDeposit, switch_to_real_and_open_deposit)']\n        }\n    },\n\n    deposit_successful: {\n        REAL_ACCOUNT: {\n            NOT_U_VERIFIED: ['banner(U_NO_BONUS)'],\n            NOT_C_VERIFIED: ['banner(CC)'],\n            U_VERIFIED: ['banner(dummy)']\n        }\n    },\n\n    # /** VERIFY **/\n    verify: {\n        REAL_ACCOUNT: {\n            NOT_FULL_REGISTRATION_COMPLETED: {\n                ELIGIBLE_FOR_BONUS: ['popup(needToRegAndGetBonusBeforeVerify, open_registration)'],\n                NOT_ELIGIBLE_FOR_BONUS: ['popup(needToRegBeforeVerify, open_registration_no_bonus)']\n            },\n            FULL_REGISTRATION_COMPLETED: {\n                NOT_LOW_SCORE: {\n                    NOT_COMPLIANCE: ['openVerificationCenter'],\n                    COMPLIANCE: ['openVerificationCenter'],\n                    NOT_U_VERIFIED: ['banner(U_NO_BONUS)', 'openVerificationCenter']\n                }\n                LOW_SCORE: ['switchToDemoMode']\n            }\n        },\n        NOT_REAL_ACCOUNT: {\n            NOT_FULL_REGISTRATION_COMPLETED: ['popup(switchToRealAndRegToVerificationCenter, switch_to_real_and_open_verification)'],\n            FULL_REGISTRATION_COMPLETED: ['popup(switchToRealToVerificationCenter, switch_to_real_and_open_verification)']\n        }\n    },\n\n    # // Verify credit card\n    c_verify: {\n        REAL_ACCOUNT: {\n            COMPLIANCE: {\n                SHOW_VERIFICATION_CENTER_POPUP:['banner(CC)', 'openVerificationCenter'],\n                NOT_SHOW_VERIFICATION_CENTER_POPUP:['banner(dummy)']\n            },\n            U_DOC_UPLOADED: ['banner(U_IN_REVIEW)'],\n            NOT_COMPLIANCE: ['banner(U_NO_BONUS)', 'openVerificationCenter'],\n        }\n    },\n\n    verify_successful: {\n        REAL_ACCOUNT: ['banner(dummy)']\n    },\n\n    verify_documents_uploaded: {\n        REAL_ACCOUNT: {\n            U_VERIFIED: {\n                C_VERIFIED: ['event(verify_successful)'],\n                NOT_C_VERIFIED: ['banner(CC)']\n            },\n            U_DOC_UPLOADED: ['banner(U_IN_REVIEW)']\n        }\n    },\n\n    card_verified: {\n        REAL_ACCOUNT: {\n\n        }\n    },\n\n    # /** WITHDRAW **/\n    withdraw: {\n        NOT_FULL_REGISTRATION_COMPLETED: {\n            ELIGIBLE_FOR_BONUS: ['banner(R)', 'popup(needToRegAndGetBonusBeforeWithdrawal, open_registration)'],\n            NOT_ELIGIBLE_FOR_BONUS: ['banner(R_NO_BONUS)', 'popup(needToRegBeforeWithdrawal, open_registration_no_bonus)']\n        },\n        AUTO_WITHDRAWAL: {\n            COMPLIANCE_SUSPENDED || LIMITED_COMPLIED || COMPLIANCE: {\n                PENDING_DEPOSIT: ['openAutoWithdrawal'],\n                MONEY_FOR_WITHDRAW: ['openAutoWithdrawal'],\n                NOT_MONEY_FOR_WITHDRAW: ['popup(needDepositToWithdraw, open_cashier)']\n            },\n            NOT_COMPLIANCE: {\n                NOT_FIRST_DEPOSIT_MADE: ['popup(needDepositToWithdraw, open_first_deposit)'],\n                PENDING_DEPOSIT: ['openAutoWithdrawal'],\n                NOT_PENDING_DEPOSIT: ['popup(verifyBeforeWithdraw, open_verification_center)']\n            }\n        },\n        NOT_MONEY_FOR_WITHDRAW: {\n            NOT_MANUAL_DEPOSIT_AMOUNT_NEEDED: ['openCashierForWithdraw'],\n            MANUAL_DEPOSIT_AMOUNT_NEEDED: ['popup(needDepositToWithdraw, open_cashier)']\n         },\n        MONEY_FOR_WITHDRAW: ['openWithdraw']\n    },\n\n    leverage: {\n        NOT_FULL_REGISTRATION_COMPLETED: {\n            REAL_ACCOUNT: {\n                ELIGIBLE_FOR_BONUS: ['popup(regAndGetBonusBeforeChangeLeverage, open_registration)'],\n                NOT_ELIGIBLE_FOR_BONUS: ['popup(regBeforeChangeLeverage, open_registration_no_bonus)']\n            },\n            NOT_REAL_ACCOUNT:['popup(switchToRealAndRegToChangeLeverage)']\n        },\n        FULL_REGISTRATION_COMPLETED: {\n            REAL_ACCOUNT: ['openLeveragePopup'],\n            NOT_REAL_ACCOUNT: ['popup(switchToRealToChangeLeverage)']\n        }\n    },\n\n    leverage_selection: {\n        REAL_ACCOUNT: {\n            NOT_MARKETS_X_ENABLE: ['event(leverage_selection_process)'],\n            MARKETS_X_ENABLE: {\n                IS_TC_ACCEPTED_FOR_MARKETS_X: ['event(leverage_selection_process)'],\n                NOT_IS_TC_ACCEPTED_FOR_MARKETS_X: ['popup(promotionMarketsX, leverage_selection_process, leverage_selection_process)']\n            }\n        }\n    },\n\n    leverage_selection_process: {\n        REGISTRATION_LEVERAGE_SELECTION_ENABLED: ['popup(leverageSelection, leverage_selection_complete)'],\n        NOT_REGISTRATION_LEVERAGE_SELECTION_ENABLED: ['event(open_first_deposit:AfterReg)']\n    },\n\n    leverage_selection_complete: {\n        REAL_ACCOUNT: ['banner(D)', 'popup(afterSelectLeveragePopup, open_first_deposit)']\n    },\n\n    change_password: {\n        NOT_REAL_ACCOUNT: ['popup(switchToRealToChangePassword)'],\n        REAL_ACCOUNT: ['openChangePasswordPopup']\n    },\n\n    notifications: {\n        NOT_FULL_REGISTRATION_COMPLETED: {\n            NOT_REAL_ACCOUNT:['popup(switchToRealAndRegToChangeNotifications)'],\n            REAL_ACCOUNT: ['openNotificationsPopup']\n        },\n        FULL_REGISTRATION_COMPLETED: {\n            NOT_REAL_ACCOUNT: ['popup(switchToRealToChangeNotifications)'],\n            REAL_ACCOUNT: ['openNotificationsPopup']\n        }\n    },\n\n    quiz_passed: {\n        NOT_REAL_ACCOUNT: {\n            FULL_REGISTRATION_COMPLETED: {\n                NOT_LOW_SCORE: {\n                    NOT_FIRST_DEPOSIT_MADE: ['banner(D)']\n                },\n                LOW_SCORE: {\n                    NOT_ELIGIBLE_QUIZ || POSTPONED_QUIZ: ['banner(dummy)'],\n                    ELIGIBLE_QUIZ: ['banner(QUIZ)']\n                },\n            }\n        }\n    },\n\n    'open_login_message': {\n        REAL_ACCOUNT: {\n            FIRST_LOGIN: {\n                MARKETS_X_PROMOTION: {\n                    IS_ADVANCED_VIEW: ['openLoginMessage'],\n                    NOT_IS_ADVANCED_VIEW: ['popup(changeViewToAdvanced, openLoginMessage, openLoginMessage)']\n                },\n                NOT_MARKETS_X_PROMOTION: ['openLoginMessage']\n            },\n            NOT_FIRST_LOGIN: ['openLoginMessage']\n        }\n    },\n\n    # /* Additional events */\n    'popup_explore': ['popup(explore)'],\n    'popup_explore_on_login': ['popup(explore_on_login,_,open_login_message)'],\n    'popup_cant_change_leverage': ['popup(lowScoreCantChangeLeverage)'],\n    'open_registration': ['popup(registration)'],\n    'open_registration_no_bonus': ['popup(registrationNoBonus)'],\n    'open_cashier': ['openCashier'],\n    'open_verification_center': ['openVerificationCenter'],\n    'open_events_trade': ['openEventsAndTrade'],\n    'open_tip_ranks': ['openTipRanks'],\n    'open_insiders': ['openInsiders'],\n    'open_webinars': ['openWebinars'],\n    'open_bloggers': ['openBloggers'],\n    'switch_to_real_mode': ['switchToRealMode'],\n    'switch_to_demo_mode': ['switchToDemoMode'],\n    'switch_to_demo_mode_sync': ['switchToDemoModeSync'],\n    'switch_to_real_and_open_fullreg': ['switchToRealAndOpenFullReg'],\n    'switch_to_real_and_open_deposit': ['switchToRealAndOpenDeposit'],\n    'switch_to_real_and_open_verification': ['switchToRealAndOpenVerification'],\n    'open_first_deposit:DeepLink': ['openFirstDepositPopup'],\n    'open_first_deposit:WelcomeBack': ['openFirstDepositPopup'],\n    'open_first_deposit:RealBanner': ['openFirstDepositPopup'],\n    'open_first_deposit:BuySell': ['openFirstDepositPopup'],\n    'open_first_deposit:AfterReg': ['banner(D)', 'event(open_first_deposit)'],\n    'open_first_deposit': ['openFirstDepositPopup'],\n    'complete_registration_and_switch_to_demo_mode': ['event(registration_complete)','switchToDemoMode'],\n    'complete_full_registration_and_switch_to_demo_mode': ['popup(pseudoCompleteRegistrationPopup, switch_to_demo_mode)'],\n    'complete_full_registration_and_open_leverage': ['popup(pseudoCompleteRegistrationPopup, open_leverage_selection)'],\n    'open_leverage_selection' : ['event(leverage_selection)'],\n    'deposit:RealDepositMyAccount': ['event(deposit)'],\n    'deposit:RealDepositItemMainMenu': ['event(deposit)'],\n    'deposit:Registration': ['event(deposit)'],\n    'deposit:RealFundsManDeposit': ['event(deposit)'],\n    'open_check_knowledge': ['openCheckKnowledge'],\n    'run_deep_link': ['runDeepLink']\n    'switch_to_demo_and_retake_quiz': ['switchToDemoAndRetakeQuiz'],\n    'retake_quiz': ['retakeQuiz'],\n    'DEFAULT': ['DEFAULT']\n}\n"},function(t,e,n){var i;void 0!==(i=function(t,e,n){n.exports={EMPTY:"EMPTY",SUCCESS:"SUCCESS",ERROR:"ERROR"}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r,o=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};void 0!==(r=function(t,e,i){function r(t){return b.map(t,function(t,e){return e+"="+t}).join("&")}function a(t,e){return b.reduce(t,function(t,e){return t&&t[e]?t[e]:null},e)}function l(t){this.message="paramsBuilder not found for event: "+t,this.toString=function(){return""+this.message}}function c(){var t=n(7),e=(n(9),n(23)),i=t.getUserData().getCrmboCustomer(),r=t.getUserData().getAccount();return{commonParams:b.extend({sessionId:t.getSessionId()},E),lang:e.getLanguage()||"en",cId:i.id,tpId:r.platformAccountId,tradingAccountType:"0"===r.tradingAccountType?"LIVE":"DEMO",platformType:"COSMOS"}}function u(){return{lang:x.lang,cId:x.cId,tpId:x.tpId,tradingAccountType:x.tradingAccountType,platformType:x.platformType}}function d(t,e){if(!b.isString(t.name)||0===t.name.length)return null;var n=t.name.split(":"),i={},r=a(n,k);if(!r)throw new Error("paramsBuilder not found for event: "+t.name);try{i=r(t.params)||{}}catch(n){if(!e)throw new l(t.name);i=E}var s={},c=o(n,3),u=c[0],d=c[1],h=c[2];return u&&(s.category=u),d&&(s.subCategory=d),h&&(s.action=h),b.extend(i,t.params||{},s)}function h(){I&&A&&(P=!0,x=c(),b.each(window.__eventosCache.flush(),function(t){__eventos(t.eventName,t.params)}),b.each(f(),function(t){__eventos(t.eventName,t.params)}),m())}function p(){var t=localStorage;if(t)return t.setItem(S,JSON.stringify(O))}function f(){var t=localStorage;if(t){var e=t.getItem(S);if(!e)return null;try{return JSON.parse(e)}catch(t){return[]}}}function m(){O=[];var t=localStorage;t&&t.removeItem(S)}var g=n(9),v=(n(75),n(2)),b=(n(13),n(0)),y=n(75),_=n(199),w=n(122),S="eventos.pending.events",E={appSource:_.device(),uId:y.getMachineId(),brandName:g.getBrandName(),clientPlatform:"indigo",isHomeScreen:window.matchMedia("(display-mode: standalone)").matches},x=void 0,C=function(t){return b.extend(t,u(),x.commonParams)},T=function(t){return b.extend({cId:x.cId,tpId:x.tpId},E,t)},k={onBoardFlow:{platformModeSelector:{clkButtonReal:function(){return b.extend({cId:x.cId,tpId:x.tpId},E)},clkButtonDemo:function(){return b.extend({cId:x.cId,tpId:x.tpId},E)}},ATM:{clkButton:function(t){return b.extend(s({cId:x.cId,tpId:x.tpId},t),E)},clkClose:function(t){return b.extend({cId:x.cId,tpId:x.tpId},E)}},login:{afterLoginAction:function(){return b.extend({lang:x.lang,cId:x.cId,tpId:x.tpId,tradingAccountType:x.tradingAccountType,platformType:x.platformType,authMethod:w.getSelectedAuthMethod()||"regular"},x.commonParams)},display:function(t){return b.extend({},{lang:t.lang},E)},clkLogin:function(t){return b.extend({},{rememberMeStatus:t.rememberMeStatus},E)},clkrememberMeCheckBox:function(t){return b.extend({},{rememberMeStatus:t.rememberMeStatus},E)},clkCreateNewAccount:function(){return b.extend({},E)},clkForgetPassword:function(){return b.extend({},E)}},changePassword:{display:T,clkChangePassword:T,clkForgetPassword:T},leadForm:{display:function(t){return b.extend({},{lang:t.lang},E)},clientSubmit:function(){return b.extend({},E)}},cashierDialog:{display:function(){return b.extend({cId:x.cId,tpId:x.tpId},x.commonParams)}},FirstDepositWindow:{clkClose:function(t){return b.extend({cId:x.cId,tpId:x.tpId},E)},clkDeposit:function(t){return b.extend({cId:x.cId,tpId:x.tpId},E)}},addToHomeScreen:{browserTrigger:C,confirmImpression:C,confirmAccept:C,confirmReject:C,nativeImpression:C,nativeReject:C,installed:C},depositSuccess1stCcNonComp:{display:T,clkClose:T,clkVerify:T},depositSuccess1stPmNonComp:{display:T,clkClose:T,clkVerify:T},depositSuccess2ndCcNonComp:{display:T,clkClose:T,clkVerify:T},depositSuccess2ndComp:{display:T,clkClose:T,clkOk:T},bonusApprovalPopupUnified:{clkTerms:T,display:T,clkAccept:T,clkDecline:T},confirmIDBonus:{clkTerms:T,display:T,clkConfirm:T,clkDecline:T},confirmResidenceBonus:{clkTerms:T,display:T,clkConfirm:T,clkDecline:T},registrationWizard:{clientRegisterSuccess:T,clkClose:T,step1Display:T,step2Display:T,step3Display:T,step4Display:T,step5Display:T,step6Display:T,step1Next:T,step2Next:T,step3Next:T,step4Next:T,step5Next:T,step6Next:T,step1Previous:T,step2Previous:T,step3Previous:T,step4Previous:T,step5Previous:T,step6Previous:T},eyeCatcher:{clkEyeChReg:T,clkCloseReg:T,clkEyeChPlt:T,clkClosePlt:T}},tradingPlatform:{signalWidget:{selectSignals:T,selectCommentary:T,selectNews:T,clkSignalsItem:T,clkCommentaryItem:T,clkNewsItem:T},orderForm:{clkSendOrder:C,serverResponse:C,OPmodeChanged:C},closePosition:{clkClosePositionSendOrder:C},inPlatformMessages:{impression:C,expand:C,x_close:C,btn_clk:C,auto_dismiss:C,hover:C},multiCharts:{display:C},changePlatformSettings:{openPositionMode:C,tradingView:C},accountSettings:{clientLeverageChanged:C},chart:{timeout:C},instrumentList:{instrumentSelected:C}},tradingTools:{analystRec:{impression:C},delkos:{impression:C},insiders:{impression:C},bloggers:{impression:C},hedgefunds:{impression:C},newsSentiment:{impression:C}},learn:{webinars:{impression:C},blog:{impression:C}},pendingBonus:{activePendingBonus:{clkBanner:T}},test:{dcm:{sitev:C,leadwBefore:C,leadw:C,fullr:C,first:C,missingUser:C},fb:{PageView:C,Lead:C,CompleteRegistration:C,Purchase:C}},retention:{targetLoginMessage:{autoclose:T,closeMessage:T,clkMessage:T}}},O=[],P=!1;window.__eventos=function(t,e,n){var i=void 0;try{i=d({name:t,params:e},n)}catch(n){if(!(n instanceof l))return v.trigger("log:error","Can`t send tracking event to eventos with error message "+n.message),Promise.reject("e.message");if(!P)return O.push({eventName:t,params:e}),p(),Promise.resolve()}return i?new Promise(function(e,n){var o=document.createElement("img");o.src=g.getEventosTrackingUrl()+"/trackEvent.gif?"+r(i)+"&cb="+Date.now();var s=!1;o.onload=function(){s||(s=!0,e())},o.onerror=function(t){s||(s=!0,n(t))},setTimeout(function(){s||(s=!0,n(new Error("Eventos: "+t+" Max time exceeded before operation completed")))},5e3)}):Promise.reject("Invalid ping request")};var I=!1,A=!1;v.on("user:info",function(){A=!0,h()}),v.on("user:data:update",function(){I=!0,h()}),v.on("settings:load:success",function(){E.brandName=g.getBrandName()})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(701),s={options:{},initialize:function(t){if(!t&&!t.events&&t.conditions)throw"StateManager:initialize. Options should have events and conditions properties.";return this.options=t,this},extend:function(t,e){return this.options=!0===e?r.extend({},t):r.extend({},this.options,t),this},singleConditionProcess:function(t){var e=0==t.indexOf("NOT_"),n=e?t.slice(4):t;if(!this.options.conditions.hasOwnProperty(n))throw new Error("there is no "+n+" condition in conditions.js");var i=r.result(this.options.conditions,n);return!!(i=e?!i:i)},calculateBooleanExpression:function(t){var e=t.split(/\s*\|{2}\s*/);if(e.length>1){var n=r.chain(e).map(this.singleConditionProcess.bind(this)).join("||").value(),i=function(t){return new Function("return ("+t+")")()};return i(n)}return this.singleConditionProcess(e[0])},getExecutableActions:function(t){if(t instanceof o.Actions)return t.getData();for(var e in t){var n=t[e],i=n[0],r=n[1],s=this.calculateBooleanExpression(i);if(s){if(r instanceof o.Actions)return r.getData();if(r=this.getExecutableActions(r))return r}}},findEvent:function(t){var e=r.find(this.options.events,function(e){return e[0]==t||r.includes(e[0].split("||"),t)});return e&&e[1]},event:function(t,e,n){var i=this.findEvent(t);if(!i)return!0;var o=this.getExecutableActions(i),n=r.extend({},{callback:e,source:arguments[2]?arguments[2]:t},n);r.isEmpty(o)?r.isFunction(e)&&e(n):this.runActions(o,n)},trim:function(t){return r.map(t,function(t){return String(t).trim()})},checkConditions:function(t){return void 0===t||(t=this.trim(t),r.every(t,function(t,e,n){return void 0!==this.options.conditions[t]&&r.result(this.options.conditions,t)},this))},runActions:function(t,e){return t=this.trim(t),t=r.map(t,function(t){return String(t).replace(/\s/g,"")}),r.each(t,function(t,n,i){var r=this.detectAction(t);r.isBanner?this.runBannerAction(r,e):r.isPopup?this.runPopupAction(r,e):r.isEvent?this.runEventAction(r,e):this.runDefaultAction(r,e)},this),!0},runBannerAction:function(t,e){var n=t.args[0],i=t.args[1],o=this.options.onBanner;r.isFunction(o)&&o.call(null,n,i,e)},runEventAction:function(t,e){var n=t.args[0];e.source?this.event(n,void 0,e.source):this.event(n)},runPopupAction:function(t,e){var n=t.args[0],i=t.args[1],o=t.args[2],s=t.args[3],a=this.options.handlers[n],l=function(t,e){t&&e.event(t)};r.isFunction(a)&&a.call(this.options.handlers,r.partial(l,i,this),r.partial(l,o,this),r.partial(l,s,this),e)},runDefaultAction:function(t,e){var n=this.options.handlers[t.origin];r.isFunction(n)&&n.call(null,e)},detectAction:function(t){var e=0==t.indexOf("banner"),n=0==t.indexOf("popup"),i=0==t.indexOf("event"),r=this.parsedAction(t);return{origin:t,isBanner:e,isEvent:i,isPopup:n,type:r.type,args:r.args,isDefault:!e&&!n&&!i}},parsedAction:function(t){var e=/(.*?)\((.*?)\)/i,n=t.match(e);return{type:n&&n[1]?n[1]:"",args:n&&n[2]?n[2].split(","):[]}},conditions:function(){var t=this.options.conditions;return r.chain(t).map(function(e,n){return[n,r.result(t,n,!1)]}).reduce(function(t,e,n){return t[e[0]]=e[1],t},{}).value()}};i.exports=function(t){return s.initialize(t)}}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,r){var o=n(0),s=n(2),a=n(15),l=n(173).SECTION;r.exports={openRegistration:function(){return s.trigger("ui:registration",{isBonus:!0})},openRegistrationNoBonus:function(){return s.trigger("ui:registration")},openCashier:function(){s.trigger("ui:deposit")},openCashierForWithdraw:function(){s.trigger("ui:cashier-for-withdraw")},openVerificationCenter:function(){s.trigger("ui:verification-center")},openEventsAndTrade:function(){s.trigger("ui:events-and-trade")},openTipRanks:function(){var t=a.mobile()?"popup.mobile":"popup",e=a.mobile()?i(".wrapper"):_app.getPopupsPlaceholder();new(n(1437)("./tip.ranks."+t+".view"))({parent:e})},openInsiders:function(){var t=a.mobile()?"popup.mobile":"popup",e=a.mobile()?i(".wrapper"):_app.getPopupsPlaceholder();new(n(1444)("./insiders."+t+".view"))({parent:e})},openBloggers:function(){var t=a.mobile()?"popup.mobile":"popup",e=a.mobile()?i(".wrapper"):_app.getPopupsPlaceholder();new(n(703)("./bloggers."+t+".view"))({parent:e})},openWebinars:function(){s.trigger("flow:webinars")},runDeepLink:function(){n(137).run()},openLoginMessage:function(){s.trigger("login:message:show")},DEFAULT:function(t){o.isFunction(t)&&t()},openWithdraw:function(){new(n(1464))({parent:i(".wrapper"),isHeaderShowed:!0,caption:__("withdraw.title"),previousCaption:__("actions.back"),headerStyle:"wizard",maxBoxWidth:"100%",showBoxShadow:!1,showHeader:!0,overlayTranslucent:"1",onPrevious:function(){},onNext:function(){}})},openAutoWithdrawal:function(t){s.trigger("ui:auto-withdrawal",t)},openFirstDepositPopup:function(t){s.trigger("ui:first-deposit",t)},switchToRealMode:function(){s.trigger("platform:switch","live","?path=deposit")},switchToDemoMode:function(){s.trigger("platform:switch","demo")},switchToDemoModeSync:function(){s.trigger("platform:switch:sync","demo")},openLeveragePopup:function(){s.trigger("ui:account-settings",l.LEVERAGE)},openChangePasswordPopup:function(){s.trigger("ui:account-settings",l.PASSWORD)},openNotificationsPopup:function(){s.trigger("ui:account-settings",l.NOTIFICATIONS)},switchToRealAndOpenFullReg:function(){s.trigger("platform:switch","live","?path=fullreg")},switchToRealAndOpenDeposit:function(){s.trigger("platform:switch","live","?path=deposit")},switchToRealAndOpenVerification:function(){s.trigger("platform:switch","live","?path=verification-center")},switchToDemoAndRetakeQuiz:function(){s.trigger("platform:switch","demo","?path=retake-quiz")},retakeQuiz:function(){s.trigger("ui:retake-quiz")},completeFullRegistration:function(){s.trigger("registration:complete")},openCheckKnowledge:function(){s.trigger("open-check-knowledge")}}}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(5),n(0))},function(t,e,n){function i(t){return n(r(t))}function r(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./tip.ranks.popup.mobile.view":1438,"./tip.ranks.popup.view":1442};i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id=1437},function(t,e,n){(function(i,r){function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var s;void 0!==(s=function(t,e,i){var s=n(2),a=n(0),l=n(45),c=n(6),u=n(14),d=n(54),h=n(1),p=n(16),f=n(120),m=n(30),g=n(24),v=n(1439),b=n(10),y=b.PERIODS,_=a.template(n(1440)),w=a.template(n(1441)),S=g.extend({subscribedInstruments:[],initialize:function(t){g.prototype.initialize.apply(this,arguments),this.periods=[].concat(o(y)),this.current_period=this.periods[2],this.getAnalystRecommendations(this.current_period,this.periods[3]),this.listenTo(s,"ui:instrument:change",this.close)},getAnalystRecommendations:function(t,e){var n=this;return t=t||this.current_period,this.addChildView(".tip-ranks-mobile-wrapper",m,{parent:r(".main-box"),position:"absolute"}),this.loadAnalystRecommendations(t,e).then(function(t){return t.data.error?(n.stocks=[],n.render(),n.removeChildView(".tip-ranks-mobile-wrapper"),Promise.reject()):(n.stocks=n.createCollection(t.data),n.render(),n.removeChildView(".tip-ranks-mobile-wrapper"),Promise.resolve())})},loadAnalystRecommendations:function(t,e){return c.getAnalystRecommendations(t).then(function(t){return!t.data.error&&t.data.recommendations&&0!==t.data.recommendations.length||!e?Promise.resolve(t):c.getAnalystRecommendations(e)})},createCollection:function(t){var e=new l,n=[],i=a.reduce(t.recommendations,function(e,n){var i=n.stock_ticker;return a.has(t.stocks,i)&&a.isEmpty(e[i])&&(e[i]=a.extend(t.stocks[i],{ticker:i,symbol:n.symbol})),e},{});return a.each(i,function(t){var i=t.symbol,r=u.getInstrumentBySymbol(i);if(r){var o=new v(t);o.set("instrument",r),n.push(i),e.add(o)}}),this.subscribedInstruments=d.update(n,this.subscribedInstruments).addedSymbols,e},events:function(){return a.extend({},a.result(g.prototype,"events"),{"click td.column-instrument":"viewDetails","change [name=period]":"changePeriod","change [name=instruments]":"filterStocks"})},getOptions:function(t){return a.extend({},a.result(g.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("tab.tipranks"),previousCaption:__("actions.back"),headerStyle:"wizard",bodyStyle:"trading-tools",headerCaptionStyle:"tipranks-mobile-header"},t)},close:function(t){d.remove(this.subscribedInstruments),g.prototype.close.call(this),this.destroy()},changePeriod:function(){var t=this.$el.find("select[name=period] option:checked").val();this.current_period=t,this.getAnalystRecommendations()},filterStocks:function(t){var e=this.$el.find("select[name=instruments] option:checked"),n=[],i=[];e.length>0&&(n=a.map(e,function(t){return r(t).val()})),i=a.filter(this.stocks.models,function(t){return a.find(n,function(e){return e===t.getSymbol()})}),this.renderFilteredData(i)},viewDetails:function(t){var e=r(t.currentTarget),n=e.closest("tr"),i=e.find(".stock-expand span"),o=n.parentNode.rows[n.rowIndex];"+"===i.html()?(r(o).removeClass("hidden"),i.html("-"),__eventos("tradingTools:analystRec:impression",{page:"details",instrumentName:r(n).attr("data-symbol")})):(r(o).addClass("hidden"),i.html("+"))},getBuySell:function(t){var e=this;a.each(t,function(t){var n=t.getConsensus();if("sell"===n){var i=h.createElement(f,{type:"Sell",column:{name:"Sell",key:"bid",direction:"bidDirection"},model:t.get("instrument"),isSelected:!0,onClick:a.noop});p.render(i,e.$el.find('[data-symbol="'+t.getSymbol()+'"] .instrument-sell-change table tr')[0])}if("buy"===n){var r=h.createElement(f,{type:"Buy",column:{name:"Buy",key:"ask",direction:"askDirection"},model:t.get("instrument"),isSelected:!1,onClick:a.noop});p.render(r,e.$el.find("[data-symbol='"+t.getSymbol()+"'] .instrument-buy-change table tr")[0])}})},render:function(){g.prototype.render.call(this);var t=a.isArray(this.stocks.models)&&this.stocks.models.length>0?this.stocks.models:[];return this.setContent(_({stocks:t,periods:this.periods,current_period:this.current_period})),this.$el.find(".content-block").html(w({stocks:t})),this.getBuySell(t),__eventos("tradingTools:analystRec:impression",{page:"main"}),this},renderFilteredData:function(t){var e=a.isArray(t)&&t.length>0?t:this.stocks.models;this.$el.find(".content-block").html(w({stocks:e})),this.getBuySell(e)}});i.exports=S}.call(e,n,e,t))&&(t.exports=s)}).call(e,n(0),n(5))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(13),s=o.extend({defaults:function(){return{avg_target_price:"NA",avg_upside:0,consensus:"",current_price:"NA",high_target_price:0,high_upside:0,low_target_price:0,low_upside:0,name:"",past_prices:[],total_analysts_buy:0,total_analysts_hold:0,total_analysts_recommendations:0,total_analysts_sell:0,symbol:"",ticker:"",instrument:""}},getSymbol:function(){return this.get("symbol")},getTicker:function(){return this.get("ticker")},getName:function(){return this.get("name")},getCurrentPrice:function(){return this.get("current_price")},getAvgTargetPrice:function(){return this.get("avg_target_price")},getHighTargetPrice:function(){return this.get("high_target_price")},getLowTargetPrice:function(){return this.get("low_target_price")},getConsensus:function(){return this.get("consensus").indexOf("Buy")>-1?"buy":this.get("consensus").indexOf("Sell")>-1?"sell":"hold"},getConsensusText:function(){return this.get("consensus")},getBuyRecommendations:function(){return this.get("total_analysts_buy")/this.get("total_analysts_recommendations")*100},getSellRecommendations:function(){return this.get("total_analysts_sell")/this.get("total_analysts_recommendations")*100},getHoldRecommendations:function(){return this.get("total_analysts_hold")/this.get("total_analysts_recommendations")*100},getTotalAnalystsBuy:function(){return this.get("total_analysts_buy")},getTotalAnalystsSell:function(){return this.get("total_analysts_sell")},getTotalAnalystsHold:function(){return this.get("total_analysts_hold")},getTotalAnalystsRecommendations:function(){return this.get("total_analysts_recommendations")},getPastPrices:function(){return this.get("past_prices")},getPriceTargetGraph:function(){var t=75-55*this.getAvgTargetPrice()/this.getHighTargetPrice(),e=75-55*this.getLowTargetPrice()/this.getHighTargetPrice(),n=r.isUndefined(this.getPastPrices())?t:75-55*this.getPastPrices()[0]/this.getHighTargetPrice();if(void 0!=this.getPastPrices()){for(var i=103/this.getPastPrices().length,o=[],s="M123,",a=1,l=this.getPastPrices().length;a<l;a++)o.push(75-55*this.getPastPrices()[a]/this.getHighTargetPrice()),s+=75-55*this.getPastPrices()[a]/this.getHighTargetPrice()+"L"+(123-(a+1)*i)+",";s+=75-this.getPastPrices()[this.getPastPrices().length-1]/this.getHighTargetPrice()*55}return'<svg class="graph"><svg width="226" height="80"><g class="grid y-grid"><g class="tick" transform="translate(0,63.75)" style="opacity: 1;"><line x2="221" y2="0" style="stroke:#6f6f6f"></line><text dy=".32em" x="-3" y="0" style="text-anchor: end;"></text></g><g class="tick" transform="translate(0,45.48277661795407)" style="opacity: 1;"><line x2="221" y2="0" style="stroke:#6f6f6f"></line><text dy=".32em" x="-3" y="0" style="text-anchor: end;"></text></g><g class="tick" transform="translate(0,27.21555323590814)" style="opacity: 1;"><line x2="221" y2="0" style="stroke:#6f6f6f"></line><text dy=".32em" x="-3" y="0" style="text-anchor: end;"></text></g></g>'+(s?'<path d="'+s+'" class="past"></path>':"")+'<path class="high" d="M123,'+n+'L211,20"></path><path class="avg" d="M123,'+n+"L211,"+t+'"></path><path class="low" d="M123,'+n+"L211,"+e+'"></path><text transform="translate(67.75 ,75)" style="text-anchor: middle; fill: rgb(111, 111, 111); font-size: 10px; font-weight: bold; font-family: arial;">'+__("tipranks.text.past_months")+'</text><text transform="translate(173.25 ,75)" style="text-anchor: middle; fill: rgb(111, 111, 111); font-size: 10px; font-weight: bold; font-family: arial;">'+__("tipranks.text.next_months")+'</text><line x1="123" y1="5" x2="123" y2="75" stroke-width="1" style="stroke:#6f6f6f"></line><circle class="current" r="3" cx="123" cy="'+n+'"></circle><circle class="high" r="3" cx="211" cy="20"></circle><circle class="avg" r="3" cx="211" cy="'+t+'"></circle><circle class="low" r="3" cx="211" cy="'+e+'"></circle></g></svg></svg>'}});i.exports=s}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<div class="tip-ranks-mobile-wrapper"><div class="tip-ranks-mobile"><div class="filters"><div class="styled-select period-select"><select name="period"> <%_.each(periods, function(period){ %> <option value="<%=period%>" <%if(period == current_period){%> selected="selected" <%}%>><%=period%></option> <%});%> </select></div><div class="styled-select"><select name="instruments" multiple="multiple" size="4"><option disabled="disabled" selected="selected" class="hidden"><%=__(\'wizard.form.label.DEFAULT_EMPTY\')%></option> <%_.each(stocks, function(stock){ %> <option value="<%=stock.getSymbol()%>"><%=stock.getName()%></option> <% }); %> </select></div></div><div class="content-block"></div></div></div>'},function(t,e){t.exports='<% if(stocks.length > 0) {%> <table class="tipranks-table"><thead><tr class="column-head"><th class="column-instrument"><%=__(\'tipranks.text.share\')%></th><th class="column-recommendation"><%=__(\'tipranks.text.recommendation\')%></th><th class="column-price"><%=__(\'tipranks.text.avg_target_price\')%></th><th class="column-current-price"><%=__(\'tipranks.text.current_price\')%></th></tr></thead><tbody> <% _.each(stocks, function(stock){%> <tr class="row" data-symbol="<%= stock.getSymbol()%>"><td class="column-instrument"><div class="stock-expand"><span>+</span></div><div class="stock-name"><div class="stock-image instrument-img-<%= stock.getSymbol().toLowerCase()%>"></div><div class="stock-data-mobile"><div><%=stock.getName()%></div><div><%=stock.getTicker()%></div></div></div></td><td class="column-recommendation"><div class="stock-buy-sell"> <% if (stock.getConsensus() != \'hold\') {%> <div class="instrument-<%=stock.getConsensus()%>-change"><table><tr></tr></table></div> <%} else { %> <div class="instrument-hold"><%=__(\'tipranks.text.hold\')%></div> <% } %> </div></td><td class="column-price">$<%=stock.getAvgTargetPrice()%></td><td class="column-current-price">$<%=stock.getCurrentPrice()%></td></tr><tr class="row-expand hidden"><td colspan="4"><div class="consensus-block"><div class="title"><%=__(\'tipranks.text.analyst_consensus\')%></div><div class="diagram"><div class="buy" style="width:<%=parseFloat(stock.getBuyRecommendations())%>%"></div><div class="sell" style="width:<%=parseFloat(stock.getSellRecommendations())%>%"></div><div class="hold" style="width:<%=parseFloat(stock.getHoldRecommendations())%>%"></div></div><div class="content"><div><span class="buy"></span> <span><%=__(\'tipranks.text.buy\')%> <%=stock.getBuyRecommendations().toFixed(2)%>% (<%=stock.getTotalAnalystsBuy()%>)</span></div><div><span class="sell"></span> <span><%=__(\'tipranks.text.sell\')%> <%=stock.getSellRecommendations().toFixed(2)%>% (<%=stock.getTotalAnalystsSell()%>)</span></div><div><span class="hold"></span> <span><%=__(\'tipranks.text.hold\')%> <%=stock.getHoldRecommendations().toFixed(2)%>% (<%=stock.getTotalAnalystsHold()%>)</span></div></div><div class="description <%=stock.getConsensus()%>-color"><%=__(\'tipranks.text.consensus_description\', stock.getTotalAnalystsRecommendations(), stock.getName(), __(\'tipranks.text.\' + stock.getConsensusText().toLowerCase()).toUpperCase())%></div></div><div class="graph-block"><div class="title"><%=__(\'tipranks.text.price_target\')%></div><div class="content"> <%= stock.getPriceTargetGraph()%> </div><div class="description"><%=__(\'tipranks.text.price_target_description\', stock.getTotalAnalystsRecommendations(), stock.getName(), \'$\' + stock.getAvgTargetPrice(), \'$\' + stock.getHighTargetPrice(), \'$\' + stock.getLowTargetPrice())%></div></div></td></tr> <%})%> </tbody></table> <%} else {%> <div class="tipranks-empty"><div class="icon-analyst"></div><div><%= __(\'tipranks.text.no_tips\')%></div></div> <%}%>'},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(2),s=n(12),a=n(14),l=n(54),c=n(9),u=n(1),d=n(16),h=n(161).default,p=n(6),f=r.template(n(1443)),m=s.extend({usedSymbols:[],initialize:function(){s.prototype.initialize.apply(this,arguments),this.listenTo(o,"ui:header-itemclick",this.closePopup),this.listenTo(o,"ui:instrument:change",this.closePopup),this.render()},events:function(){return r.extend({},r.result(s.prototype,"events"),{"click .header-tipranks .fn-close-popup":"closePopup"})},closePopup:function(t){l.remove(this.usedSymbols),this.$el.find(".tip-ranks-wrapper").remove(),o.trigger("ui:chart:update-size"),t&&o.navigate("/")},loadTipRanks:function(){var t=this;tipranks&&r.isFunction(tipranks.init)&&tipranks.init({className:"tip-ranks",locale:"en",customDropdown:this.addCustomDropdown,apiURL:p.getTipRanksRequestUrl(),buySellCallback:function(t,e,n){var i=a.getInstrumentBySymbol(t);if(!0===n)return!(!i||i.isTradableBySide(e))&&i.get(e+"NotTradableMessage");if(i){var r={direction:e,symbolOrId:i.id,quantity:null,type:!1,tp:!1,sl:!1,source:"tipranks"};o.trigger("ui:new-position",r)}},project:"indigo",showPriceAlerts:c.isLive(),subscriptionCallback:function(e){return t.usedSymbols=l.update(e,t.usedSymbols).addedSymbols}})},addCustomDropdown:function(t,e,n){d.render(u.createElement(h,{placeholder:__("tipranks.text.all_stoks"),options:e,onChange:n,transformOptionValue:function(t){return t.recommendation.stock_ticker},transformOptionText:function(t){return t.recommendation.symbol}}),t)},render:function(){return s.prototype.render.call(this),this.$el.append(f({})),this.loadTipRanks(),this}});i.exports=m}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<div class="tip-ranks-wrapper popup-item"><div class="popup-item-wrapper"><div class="hidden-xs header-tipranks"><div class="header-actions fn-close-popup"><i class="icon-close-blue"></i></div></div><div class="tip-ranks"></div></div></div>'},function(t,e,n){function i(t){return n(r(t))}function r(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./insiders.popup.mobile.view":1445,"./insiders.popup.view":1448};i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id=1444},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(2),s=n(0),a=n(45),l=n(6),c=n(38),u=n(14),d=n(54),h=n(702),p=n(1),f=n(16),m=n(120),g=n(30),v=n(24),b=s.template(n(1446)),y=s.template(n(1447)),_=v.extend({subscribedInstruments:[],initialize:function(t){v.prototype.initialize.apply(this,arguments),this.addChildView(".insider-mobile-wrapper",g,{parent:r(".main-box"),position:"absolute"}),this.getInsiders(),this.listenTo(o,"ui:instrument:change",this.close)},events:function(){return s.extend({},s.result(v.prototype,"events"),{"click .stock-main":"viewDetails","change [name=stocks]":"filterStocks"})},getOptions:function(t){return s.extend({},s.result(v.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("tab.insiders"),previousCaption:__("actions.back"),headerStyle:"wizard",bodyStyle:"trading-tools",headerCaptionStyle:"insiders-mobile-header"},t)},getInsiders:function(){var t=this;return l.getInsiders().then(function(e){return e.data.error?(t.insiders=[],t.render(),t.removeChildView(".insider-mobile-wrapper"),Promise.reject()):(t.insiders=t.createCollection(e.data),t.render(),t.removeChildView(".insider-mobile-wrapper"),Promise.resolve())})},createCollection:function(t){var e=new a,n=[];return s.each(t,function(t){var i=new h(t);i.getTransactionDistinctInisdersCount()>0&&!s.isUndefined(u.getInstrumentBySymbol(i.getSymbol()))&&(i.set("instrument",u.getInstrumentBySymbol(i.getSymbol())),n.push(i.getSymbol()),e.add(i))}),this.subscribedInstruments=d.update(n,this.subscribedInstruments).addedSymbols,e},viewDetails:function(t){var e=r(t.currentTarget),n=e.closest(".stock-data"),i=e.find(".stock-expand span");"+"==i.html()?(r(n).find(".second-row").removeClass("hidden"),i.html("-")):(r(n).find(".second-row").addClass("hidden"),i.html("+"))},close:function(){d.remove(this.subscribedInstruments),v.prototype.close.call(this),this.destroy()},filterStocks:function(t){var e=this.$el.find("select[name=stocks] option:checked"),n=[],i=[];e.length>0&&(n=s.map(e,function(t){return r(t).val()})),i=s.filter(this.insiders.models,function(t){return s.find(n,function(e){return e==t.getSymbol()})}),this.renderFilteredData(i)},render:function(){v.prototype.render.call(this);var t=s.isArray(this.insiders.models)&&this.insiders.models.length>0?this.insiders.models:[];return this.setContent(b({stocks:t})),this.$el.find(".content-block").html(y({stocks:t,numbro:c})),this.getBuySell(t),__eventos("tradingTools:insiders:impression",{page:"main"}),this},renderFilteredData:function(t){var e=s.isArray(t)&&t.length>0?t:this.insiders.models;this.$el.find(".content-block").html(y({stocks:e,numbro:c})),this.getBuySell(e)},getBuySell:function(t){var e=this;s.each(t,function(t,n){var i=p.createElement(m,{type:"Sell",column:{name:"Sell",key:"bid",direction:"bidDirection"},model:t.get("instrument"),isSelected:!0,onClick:s.noop()}),r=p.createElement(m,{type:"Buy",column:{name:"Buy",key:"ask",direction:"askDirection"},model:t.get("instrument"),isSelected:!1,onClick:s.noop()});f.render(i,e.$el.find(".instrument-sell-change tr")[n]),f.render(r,e.$el.find(".instrument-buy-change tr")[n])})}});i.exports=_}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports='<div class="insider-mobile-wrapper"><div class="insiders-mobile"> <%if(stocks.length > 0) {%> <div class="filters"><div class="styled-select"><select name="stocks" multiple="multiple" size="4"><option disabled="disabled" selected="selected" class="hidden"><%=__(\'wizard.form.label.DEFAULT_EMPTY\')%></option> <%_.each(stocks, function(stock){ %> <option value="<%=stock.getSymbol()%>"><%=stock.getDescription()%></option> <% }); %> </select></div></div> <%} else {%> <div class="insiders-empty"><div class="icon-insiders"></div><div><%= __(\'insiders.text.no.data\')%></div></div> <%}%> <div class="content-block"></div></div></div>'},function(t,e){t.exports='<%\n_.each(stocks, function(stock){\n%> <div class="stock-data"><div class="first-row"><div class="stock-main"><div class="stock-expand"><span>+</span></div><div class="stock-name"><div class="stock-image instrument-img-<%= stock.getSymbol().toLowerCase()%>"></div><div class="stock-data-mobile"><div class="stock-description"><%= stock.getDescription()%> (<%= stock.getStockTicker()%>)</div><div class="stock-price"><span><%=stock.getStockPrice()%></span><span class="<%=stock.getStockDailyChangePercentDir()%>">(<%=stock.getStockDailyChangePercent()%>%)</span></div></div></div></div><div class="stock-buy-sell"><div class="instrument-sell-change"><table><tr></tr></table></div><div class="instrument-buy-change"><table><tr></tr></table></div></div></div><div class="second-row hidden"><div class="stock-block stock-trend"><div class="block-title"><%=__(\'insiders.trend\')%></div><div class="block-content"><span> <%= __(\'insiders.trend.3month\',stock.getDescription(), stock.getStockLast3MonthTrend()>0 ? `<span class="up">${__(\'insiders.bought\')}</span>` : `<span class="down">${__(\'insiders.sold\')}</span>`, numbro(Math.abs(stock.getStockLast3MonthTrendAmount())).format(\'0,0\'))%> </span></div></div><div class="stock-block stock-signal-reasoning"><div class="block-title"><%=__(\'insiders.signal.reasoning\')%></div><div class="block-content"><div class="icon-hands"></div><div class="transactions"><div> <%=__(\'insiders.signal.reasoning.count\', Math.max(stock.getTransactionSellCount(), stock.getTransactionBuyCount()), stock.getTransactionDistinctInisdersCount())%> </div><div><span class="icon-arrow icon-arrow-<%if(stock.getTransactionSellCount() >= stock.getTransactionBuyCount()){%>down<% } else {%>up<%}%>"></span> <span class="<%if(stock.getTransactionSellCount() >= stock.getTransactionBuyCount()){%>down<% } else {%>up<%}%>"> <%=Math.max(stock.getTransactionSellCount(), stock.getTransactionBuyCount())%> <%if(stock.getTransactionSellCount() >= stock.getTransactionBuyCount()){%> <%=__(\'insiders.sold\')%> <% } else {%> <%=__(\'insiders.bought\')%> <%}%> </span></div></div></div></div><div class="stock-block stock-behavior <% if(stock.getConfidenceSignalScore() == \'NA\') {%>full<%}%>"><div class="block-title"><%=__(\'insiders.stock.behavior\')%></div><div class="block-content"><div class="stock-behavior__button <%=stock.getStockLast3MonthChangePercentDir()%>-bg"><%=stock.getStockLast3MonthChangePercent().toFixed(2)%>%</div><div> <%if(stock.getStockLast3MonthChangeChartImg()) {%> <span class="icon-coordinate-plane"><img src="<%=stock.getStockLast3MonthChangeChartImg()%>"></span> <%}%> </div></div></div> <% if(stock.getConfidenceSignalScore() != \'NA\') {%> <div class="stock-block stock-insider-signal"><div class="block-title"><%=__(\'insiders.stock.insider.signal\')%></div><div class="block-content"><div class="icon-<%=stock.getConfidenceSignalScore().toLowerCase().replace(\' \',\'-\')%>"></div><div class="<%=stock.getConfidenceSignalScore().toLowerCase().replace(\' \',\'-\')%>"><%=__(\'insiders.\' + stock.getConfidenceSignalScore().toLowerCase().replace(\' \',\'.\'))%></div></div></div> <% } %> </div></div> <% });%>'},function(t,e,n){(function(i,r){function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var s;void 0!==(s=function(t,e,i){var s=n(0),a=(n(1),n(2)),l=n(12),c=n(45),u=n(6),d=n(7),h=n(14),p=n(54),f=n(702),m=n(1),g=n(16),v=n(120),b=n(38),y=n(1449),_=n(1452),w=n(1453),S=n(30),E=n(161).default,x=l.extend({subscribedInstruments:[],mainTemplate:s.template(n(1454)),insidersTemplate:s.template(n(1455)),detailsTemplate:s.template(n(1456)),events:{"click .insiders-top .icon-close-blue":"close","click .view-report":"viewDetails","click .btn-back":"closeDetails","click .choosen-header-wrapper":"toggleFilter","click .chosen-stocks li span":"filterStocks","click .chosen-stocks li input":"filterItems","click .chosen-stocks .chosen-reset":"filterReset","click .take-tour":"openTour"},tagName:"div",className:"insiders-wrapper popup-item",initialize:function(t){var e=this;l.prototype.initialize.apply(this,arguments),this.listenTo(a,"ui:header-itemclick",this.close),this.listenTo(a,"ui:instrument:change",this.close),this.listenTo(a,"ribbon:update",this.updateContentHeight),r(window).on("resize.insider",function(){return e.updateContentHeight()}),this.parent=t.parent,this.parent.find(".main-box-content").addClass("hidden"),this.createLoadingView(),this.getInsiders()},getInsiders:function(){var t=this;return u.getInsiders().then(function(e){if(e.data.error)return Promise.reject();t.insiders=t.createCollection(e.data),t.render()})},createCollection:function(t){var e=new c,n=[];return s.each(t,function(t){var i=new f(t);i.getTransactionDistinctInisdersCount()>0&&!s.isUndefined(h.getInstrumentBySymbol(i.getSymbol()))&&(i.set("instrument",h.getInstrumentBySymbol(i.getSymbol())),n.push(i.getSymbol()),e.add(i))}),this.subscribedInstruments=p.update(n,this.subscribedInstruments).addedSymbols,e},openInsider:function(t,e){var n=new f(t),i=e.parent().parent().parent().parent(),r=s.find(this.insiders.models,function(t){return t.getStockTicker()===n.getStockTicker()});i.find(".insider-data").html(this.detailsTemplate({item:n,itemMainData:r,numbro:b})).removeClass("hidden"),_("yearly-graph",n),this.transactionsHistory=new y({el:i.find(".transactions-history"),transactions:n.getStockLast3MonthTransactions()}),this.$el.find(".stock-data").addClass("hidden"),i.removeClass("hidden"),this.$el.find(".btn-back").removeClass("hidden"),this.$el.find(".insiders-header").addClass("hidden"),this.$el.find(".chosen-stocks").addClass("hidden"),this.destroyLoadingView(),__eventos("tradingTools:insiders:impression",{page:"details",instrumentName:r.getSymbol()})},viewDetails:function(t){var e=this,n=t.currentTarget.rel;if(n)return this.createLoadingView(),u.getInsider(n).then(function(n){if(n.data.error)return Promise.reject();r(t.currentTarget).parent().addClass("hidden"),e.openInsider(n.data,r(t.currentTarget))})},closeDetails:function(){var t=s.find(this.$el.find(".stock-data"),function(t){return!r(t).hasClass("hidden")});this.$el.find(".btn-back").addClass("hidden"),this.$el.find(".insider-data").addClass("hidden").empty(),this.$el.find(".insiders-header").removeClass("hidden"),this.$el.find(".stock-data").removeClass("hidden").find(".stock-detailed-report").removeClass("hidden"),this.$el.find(".chosen-stocks").removeClass("hidden"),this.transactionsHistory.destroy(),this.transactionsHistory=null,this.$el.find(".content-block")[0].scrollTop=t.offsetTop-90},close:function(t){p.remove(this.subscribedInstruments),a.trigger("ui:chart:update-size"),r(window).off("resize.insider"),this.parent.find(".main-box-content").removeClass("hidden"),t&&a.navigate("/"),this.destroy()},toggleFilter:function(t){var e=r(t.currentTarget).parent();e.hasClass("collapsed")?(e.removeClass("collapsed").addClass("expanded"),r(document).on("click.content",function(t){r(t.target).closest(".chosen-stocks")||(e.removeClass("expanded").addClass("collapsed"),r(document).off("click.content"))})):(e.removeClass("expanded").addClass("collapsed"),r(document).off("click.content"))},filterStocks:function(t){var e=t.currentTarget.previousElementSibling;e.checked=!e.checked,this.filterItems()},filterReset:function(){this.$el.find(".chosen-stocks").removeClass("expanded").addClass("collapsed"),s.each(this.$el.find("input[name=stocks]"),function(t){return t.checked=!1}),this.filterItems()},filterItems:function(){var t=this.$el.find("input[name=stocks]:checked");this.$el.find(".chosen-total span").html(t.length||""),1===t.length?this.$el.find(".chosen-text").html(this.$el.find("input[name=stocks]:checked")[0].value):t.length>1?this.$el.find(".chosen-text").html(__("insiders.filter.shares.selected",t.length)):this.$el.find(".chosen-text").html(__("insiders.filter.all.shares"));var e=[],n=[];t.length>0&&(e=s.map(t,function(t){return r(t).val()})),n=s.filter(this.insiders.models,function(t){return s.find(e,function(e){return e===t.getSymbol()})}),this.renderFilteredData(n)},render:function(){var t=this;l.prototype.render.call(this);var e=d.getApplicationSettings().get("insiders:stockTicker");this.$el.append(this.mainTemplate({stocks:this.insiders.models})),this.$el.find(".content-block").html(this.insidersTemplate({stocks:this.insiders.models,numbro:b})),this.getBuySell(this.insiders.models),this.destroyLoadingView();var n=this.insiders.models.map(function(t){return t});return g.render(m.createElement(E,{options:[].concat(o(n)),placeholder:__("tipranks.text.all_stoks"),onChange:function(e){return t.renderFilteredData(e)},transformOptionText:function(t){return t.get("description")},transformOptionValue:function(t){return t.get("symbol")}}),document.getElementById("searchableDropdown")),e&&(this.createLoadingView(),u.getInsider(e).then(function(n){if(n.data.error)return Promise.reject();var i=t.$el.find("[rel="+e);i.parent().addClass("hidden"),t.openInsider(n.data,i)})),__eventos("tradingTools:insiders:impression",{page:"main"}),this.updateContentHeight(),this},renderFilteredData:function(t){var e=s.isArray(t)&&t.length>0?t:this.insiders.models;this.$el.find(".content-block").html(this.insidersTemplate({stocks:e,numbro:b})),this.getBuySell(e)},openTour:function(){this.$el.find(".content-block")[0].scrollTop=0,w(this.$el)},updateContentHeight:function(){var t=210,e=r(".ribbon-notification");e.length>0&&e[0].clientHeight&&(t+=e[0].clientHeight);var n=document.documentElement.clientHeight-t;this.$el.find(".content-block").css("height",n+"px")},getBuySell:function(t){var e=this,n=0;s.each(t,function(t){var i=m.createElement(v,{type:"Sell",column:{name:"Sell",key:"bid",direction:"bidDirection"},model:t.get("instrument"),isSelected:!0,onClick:function(){}}),r=m.createElement(v,{type:"Buy",column:{name:"Buy",key:"ask",direction:"askDirection"},model:t.get("instrument"),isSelected:!1,onClick:function(){}});g.render(i,e.$el.find(".instrument-sell-change tr")[n]),g.render(r,e.$el.find(".instrument-buy-change tr")[n]),n++})},createLoadingView:function(){this.loadingView=new S({parent:r(".main-box"),position:"absolute"})},destroyLoadingView:function(){this.loadingView&&(this.loadingView.destroy(),this.loadingView=null)}});i.exports=x}.call(e,n,e,t))&&(t.exports=s)}).call(e,n(0),n(5))},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(0),s=n(12),a=n(38),l=s.extend({template:o.template(n(1450)),templateOneTransaction:o.template(n(1451)),events:function(){return o.extend({},o.result(s.prototype,"events"),{"click th.sortable":"sortTransactions"})},initialize:function(t){s.prototype.initialize.apply(this,arguments),this.options.transactions.length>0&&this.render()},sortTransactions:function(t){var e=this,n=t.currentTarget,i=n.classList[1],o=n.classList[2]||"desc";this.$el.find("th").removeClass("asc desc"),"asc"==o?r(n).removeClass("asc").addClass("desc"):r(n).removeClass("desc").addClass("asc"),this.options.transactions.sort(function(t,n){return e._sort(t,n,i,o)}),this.renderTransactions()},_sort:function(t,e,n,i){return"insiderName"==n&&"asc"==i?e.insiderName.localeCompare(t.insiderName):"insiderName"==n&&"desc"==i?t.insiderName.localeCompare(e.insiderName):"transactionAmount"==n&&"asc"==i?e.transactionAmount-t.transactionAmount:"transactionAmount"==n&&"desc"==i?t.transactionAmount-e.transactionAmount:"transactionDate"==n&&"asc"==i?new Date(t.transactionDate).getTime()-new Date(e.transactionDate).getTime():"transactionDate"==n&&"desc"==i?new Date(e.transactionDate).getTime()-new Date(t.transactionDate).getTime():void 0},render:function(){this.$el.append(this.template()),this.renderTransactions()},renderTransactions:function(){var t=this;this.$el.find("tbody")[0].innerHTML="",this.$el.find("tbody")[0].innerHTML+=o.map(this.options.transactions,function(e){return t.templateOneTransaction({transaction:e,numbro:a})}).join("")}});i.exports=l}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports="<div class=\"transactions-history-title\"><%=__('insiders.transactions.history')%></div><div class=\"transactions-history-content\"><table><thead><tr><th class=\"sortable insiderName\"><%=__('insiders.header.insider')%></th><th><%=__('insiders.header.ranking')%></th><th><%=__('insiders.header.action')%></th><th class=\"sortable transactionAmount\"><%=__('insiders.header.amount')%></th><th class=\"sortable transactionDate\"><%=__('insiders.header.date')%></th></tr></thead><tbody></tbody></table></div>"},function(t,e){t.exports="<tr><td class=\"insider-name\"><span><%=transaction.insiderName%></span><span><%=transaction.insiderPosition%></span></td><td class=\"insider-ranking\"><div> <%if(transaction.insiderRating > 0) { %> <% var fill = ((74*20*transaction.insiderRating)/100).toFixed(2);%> <div class=\"stars\"></div><div class=\"fill\" style=\"width:<%=fill%>px\"></div> <% } else { %> <%=__('insiders.not.ranked')%> <% } %> </div></td><td><%=__('insiders.' + transaction.transactionType.toLowerCase().replace(' ','.'))%></td><td><%=numbro(transaction.transactionAmount).format('0,0')%></td><td> <%\n            var d = new Date(transaction.transactionDate);\n            var currentDate = new Date();\n            var diff = Math.round((currentDate.getTime() - d.getTime())/(1000*60*60*24));\n        %> <%=__('insiders.days.ago', diff)%> </td></tr>"},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(278),s=n(23);i.exports=function(t,e){var n=r.map(e.getStockLastYearTransactions(),function(t){var e=t.month.split("-"),n=s.splitByComma(__("calendar_monthNames"));return t.month=n[e[1]-1].substring(0,3)+" "+e[0],t}).reverse(),i=r.map(n,function(t){return t.month}),a=r.map(n,function(t){return t.price}),l=r.map(n,function(t){return t.buyCount}),c=r.map(n,function(t){return-t.sellCount});o.chart(t,{credits:{enabled:!1},chart:{zoomType:!1,width:830,height:205,spacingTop:30,spacingBottom:20,backgroundColor:"#fff",style:{fontFamily:"Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif;"}},title:{text:""},xAxis:{categories:i,style:{color:"#7a7a7a"},tickInterval:1,gridLineWidth:1,gridLineDashStyle:"ShortDot",gridLineColor:"#a4a4a4"},yAxis:[{title:{text:__("insiders.graph.transactions"),style:{color:"#a4a4a4"}},labels:{format:"{value}",style:{color:"#7a7a7a"}},gridLineColor:"#2a2a2a",gridLineDashStyle:"ShortDot"},{title:{text:__("insiders.graph.stock.price"),style:{color:"#a4a4a4"}},labels:{format:"{value}",style:{color:"#9e9052"}},gridLineDashStyle:"ShortDot",gridLineColor:"#a4a4a4",tickPixelInterval:50,opposite:!0}],plotOptions:{spline:{lineWidth:1,marker:{enabled:!1}},column:{groupPadding:.5,pointWidth:24,borderWidth:0}},legend:{enabled:!1},tooltip:{style:{color:"#666"},formatter:function(){var t=this,e=r.find(n,function(e){return e.month===t.x}),i="";return i="#1ecd93"===this.color?__("insiders.graph.tooltip",e.discretionaryBuyCount,' <span style="font-weight:bold; color:#1ecd93">'+__("actions.buy")+"</span>",e.buyCount-e.discretionaryBuyCount,e.transactionDistinctInisdersCount):__("insiders.graph.tooltip",e.discretionarySellCount,' <span style="font-weight:bold; color:#ff433d">'+__("actions.sell")+"</span>",e.sellCount-e.discretionarySellCount,e.transactionDistinctInisdersCount),"<span><b>"+e.month+"</b><br/>"+i+"</span>"}},series:[{name:"",type:"column",data:l,color:"#1ecd93"},{name:"",type:"column",data:c,color:"#ff433d"},{name:"",type:"spline",data:a,color:"#9e9052",yAxis:1,enableMouseTracking:!1}]})}}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=(n(0),n(187));r.exports=function(t){var e=t.find(".take-tour");e.addClass("hidden");var n=[],r=function(e){return t.find(e)},s=function(t,e){return r(t)[e]};n=r("#yearly-graph").length>0?[{element:s(".yearly-transactions",0),intro:__("insiders.text.slide_7_text"),position:"top"},{element:s(".transactions-type",0),intro:__("insiders.text.slide_8_text"),position:"top"}]:[{element:s(".insiders-header",0),intro:__("insiders.text.slide_1_text"),position:"top"},{element:s(".chosen-stocks",0),intro:__("insiders.text.slide_2_text"),position:"top"},{element:s(".stock-insider-signal",0),intro:__("insiders.text.slide_3_text"),position:"top"},{element:s(".stock-signal-reasoning",0),intro:__("insiders.text.slide_4_text"),position:"top"},{element:s(".stock-latest-transaction",0),intro:__("insiders.text.slide_5_text"),position:"top"},{element:s(".stock-detailed-report",1),intro:__("insiders.text.slide_6_text"),position:"top"}],o.introJs().setOptions({nextLabel:__("tipranks.text.slide_next"),prevLabel:__("tipranks.text.slide_prev"),doneLabel:__("actions.done"),skipLabel:" ",steps:n}).oncomplete(function(){i(e.removeClass("hidden"))}).onexit(function(){i(e.removeClass("hidden"))}).start()}}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(5))},function(t,e){t.exports='<div class="popup-item-wrapper"><div class="hidden-xs insiders-top"><div class="header-actions fn-close-popup btn"><i class="icon-close-blue"></i></div></div><div class="insiders"><div class="header-block overflow-unset"><div class="insiders-header"><h3><%=__(\'insiders.header\')%></h3><span><%=__(\'insiders.description\')%></span></div><a class="btn btn-back hidden"><%=__(\'actions.back\')%></a><div class="filters"><div class="take-tour"><%=__(\'tipranks.text.take_tour\')%></div><div id="searchableDropdown"></div></div></div><div class="content-block"></div><div class="risk-warning"><%=__(\'tipranks.text.disclaimer\')%></div></div></div>'},function(t,e){t.exports='<%\n_.each(stocks, function(stock){\n%> <div class="stock-data"><div class="first-row"><div class="stock-name"><div class="stock-image instrument-img-<%= stock.getSymbol().toLowerCase()%>"></div><div class="stock-description"><%= stock.getDescription()%> (<%= stock.getStockTicker()%>)</div></div><div class="stock-price"><span><%=stock.getStockPrice()%></span><span class="<%if(stock.getStockDailyChangePercent()>0){%>up<% } else {%>down<%}%>">(<%=stock.getStockDailyChangePercent()%>%)</span></div><div class="stock-actions"><div class="stock-detailed-report"><a class="view-report" rel="<%=stock.getStockTicker()%>"><span class="icon-report"></span> <span><%=__(\'insiders.detailed.report\')%></span></a></div><div class="stock-buy-sell"><div class="instrument-sell-change"><table><tr></tr></table></div><div class="instrument-buy-change"><table><tr></tr></table></div></div></div></div><div class="second-row"><div class="stock-block stock-trend"><div class="block-title"><%=__(\'insiders.trend\')%></div><div class="block-content"><span> <%= __(\'insiders.trend.3month\',stock.getDescription(), stock.getStockLast3MonthTrend()>0 ? `<span class="up">${__(\'insiders.bought\')}</span>` : `<span class="down">${__(\'insiders.sold\')}</span>`, numbro(Math.abs(stock.getStockLast3MonthTrendAmount())).format(\'0,0\'))%> </span></div></div><div class="stock-block stock-signal-reasoning"><div class="block-title"><%=__(\'insiders.signal.reasoning\')%></div><div class="block-content"><div class="icon-hands"></div><div class="transactions"><div> <%=__(\'insiders.signal.reasoning.count\', Math.max(stock.getTransactionSellCount(), stock.getTransactionBuyCount()), stock.getTransactionDistinctInisdersCount())%> </div><div><span class="icon-arrow icon-arrow-<%if(stock.getTransactionSellCount() >= stock.getTransactionBuyCount()){%>down<% } else {%>up<%}%>"></span> <span class="<%if(stock.getTransactionSellCount() >= stock.getTransactionBuyCount()){%>down<% } else {%>up<%}%>"> <%if(stock.getTransactionSellCount() >= stock.getTransactionBuyCount()){%> <%=__(\'insiders.sold\')%> <% } else {%> <%=__(\'insiders.bought\')%> <%}%> </span></div></div></div></div><div class="stock-block stock-behavior"><div class="block-title"><%=__(\'insiders.stock.behavior\')%></div><div class="block-content"><div class="<%if(stock.getStockLast3MonthChangePercent() > 0){%>up<% } else {%>down<%}%>-bg"><%=stock.getStockLast3MonthChangePercent().toFixed(2)%>%</div><div> <%if(stock.getStockLast3MonthChangeChartImg()) {%> <span class="icon-coordinate-plane"><img src="<%=stock.getStockLast3MonthChangeChartImg()%>"></span> <%}%> </div></div></div> <% if(stock.getConfidenceSignalScore() != \'NA\') {%> <div class="stock-block stock-insider-signal"><div class="block-title"><%=__(\'insiders.stock.insider.signal\')%></div><div class="block-content"><div class="icon-signal icon-<%=stock.getConfidenceSignalScore().toLowerCase().replace(\' \',\'-\')%>"></div><div class="<%=stock.getConfidenceSignalScore().toLowerCase().replace(\' \',\'-\')%>"><%=__(\'insiders.\' + stock.getConfidenceSignalScore().toLowerCase().replace(\' \',\'.\'))%></div></div></div> <% } %> </div><div class="insider-data hidden"></div></div> <% });%>'},function(t,e){t.exports='<div class="stock-yearly-transactions"><div class="stock-block yearly-transactions"><div class="block-title"><%=__(\'insiders.yearly.insider.transactions\', itemMainData.getSymbol())%></div><div class="block-content"><div id="yearly-graph"></div></div></div><div class="amount-and-transactions"><div class="stock-block shares-amount"><div class="block-title"><%=__(\'insiders.yearly.shares.amount\')%></div><div class="block-content"><div class="total-sold"><span class="icon-arrow-down"></span> <span><%=__(\'insiders.sold\')%>:<b><%=numbro(item.getTotalSellAmount()).format(\'0,0\')%></b></span></div><div class="total-bought"><span class="icon-arrow-up"></span> <span><%=__(\'insiders.bought\')%>:<b><%=numbro(item.getTotalBuyAmount()).format(\'0,0\')%></b></span></div></div></div><div class="stock-block transactions-type"><div class="block-title"><%=__(\'insiders.yearly.transactions.type\')%></div><div class="block-content"><div class="total-informative"><span class="icon-informative"></span> <span><%=__(\'insiders.total.informative\', itemMainData.getDiscretionaryTransactions())%></span></div><div class="total-uninformative"><span class="icon-uninformative"></span> <span><%=__(\'insiders.total.uninformative\', itemMainData.getUninformativeTransactions())%></span></div></div></div></div></div><div class="transactions-history"></div>'},function(t,e,n){(function(i,r){function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var s;void 0!==(s=function(t,e,i){var s=n(0),a=n(45),l=n(6),c=n(14),u=n(54),d=n(704),h=n(1),p=n(16),f=n(120),m=n(24),g=n(372),v=n(30),b=n(10),y=b.PERIODS,_=s.template(n(1458)),w=s.template(n(1459)),S=m.extend({subscribedInstruments:[],initialize:function(t){m.prototype.initialize.apply(this,arguments),this.periods=[].concat(o(y)),this.current_period=this.periods[2],this.getBloggers()},getBloggers:function(){var t=this;return this.addChildView(".bloggers-mobile-wrapper",v,{parent:r(".main-box"),position:"absolute"}),l.loadBloggers(this.current_period).then(function(e){return e.data.error?(t.bloggers=[],t.render(),t.removeChildView(".bloggers-mobile-wrapper"),Promise.reject()):(t.bloggers=t.createCollection(e.data),t.render(),t.removeChildView(".bloggers-mobile-wrapper"),Promise.resolve())})},createCollection:function(t){var e=new a,n=[],i=s.reduce(t.bloggerRecommendations,function(e,n){return s.has(t.stocks,n.stockTicker)&&e.push(s.extend({stock:t.stocks[n.stockTicker]},n)),e},[]);return i=s.uniq(i,"stockTicker"),s.each(i,function(t){var i=t.stock.symbol;if(c.getInstrumentBySymbol(i)){var r=new d(t);r.set("instrument",c.getInstrumentBySymbol(i)),n.push(i),e.add(r)}}),this.subscribedInstruments=u.update(n,this.subscribedInstruments).addedSymbols,e},events:function(){return s.extend({},s.result(m.prototype,"events"),{"click td.column-instrument":"viewDetails","change [name=period]":"changePeriod","change [name=instruments]":"filterStocks"})},getOptions:function(t){return s.extend({},s.result(m.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("tab.bloggers"),previousCaption:__("actions.back"),headerStyle:"wizard",bodyStyle:"trading-tools",headerCaptionStyle:"bloggers-mobile-header"},t)},close:function(t){u.remove(this.subscribedInstruments),m.prototype.close.call(this),this.destroy()},changePeriod:function(){var t=this.$el.find("select[name=period] option:checked").val();this.current_period=t,this.getBloggers()},filterStocks:function(t){var e=this.$el.find("select[name=instruments] option:checked"),n=[],i=[];e.length>0&&(n=s.map(e,function(t){return r(t).val()})),i=s.filter(this.bloggers.models,function(t){return s.find(n,function(e){return e===t.getSymbol()})}),this.renderFilteredData(i)},viewDetails:function(t){var e=r(t.currentTarget),n=e.closest("tr");r(n).addClass("active");var i=e.find(".stock-expand span"),o=n.parentNode.rows[n.rowIndex];if("+"===i.html()){r(o).removeClass("hidden"),i.html("-"),__eventos("tradingTools:bloggers:impression",{page:"details",instrumentName:r(n).attr("data-symbol")});var a=s.find(this.bloggers.models,function(t){return t.getSymbol()===r(n).attr("data-symbol")});0===r(o).find(".opinion-distribution .highcharts-container").length&&g(r(o).find(".opinion-distribution .content")[0],a.getOpinions())}else r(o).addClass("hidden"),r(n).removeClass("active"),i.html("+")},getStocksList:function(){return s.uniq(s.map(this.bloggers.models,function(t){return[t.getSymbol(),t.getName()]}),function(t){return JSON.stringify(t)})},render:function(){m.prototype.render.call(this);var t=s.isArray(this.bloggers.models)&&this.bloggers.models.length>0?this.bloggers.models:[];return this.setContent(_({stocks:this.getStocksList(),periods:this.periods,current_period:this.current_period})),this.$el.find(".content-block").html(w({bloggers:t})),this.getBuySell(t),__eventos("tradingTools:bloggers:impression",{page:"main"}),this},renderFilteredData:function(t){var e=s.isArray(t)>0?t:this.bloggers.models;this.$el.find(".content-block").html(w({bloggers:e,periods:this.periods,current_period:this.current_period})),this.getBuySell(e)},getBuySell:function(t){var e=this;s.each(t,function(t,n){var i=h.createElement(f,{type:"Sell",column:{name:"Sell",key:"bid",direction:"bidDirection"},model:t.get("instrument"),isSelected:!0,onClick:s.noop}),r=h.createElement(f,{type:"Buy",column:{name:"Buy",key:"ask",direction:"askDirection"},model:t.get("instrument"),isSelected:!1,onClick:s.noop});p.render(i,e.$el.find(".instrument-sell-change tr")[n]),p.render(r,e.$el.find(".instrument-buy-change tr")[n])})}});i.exports=S}.call(e,n,e,t))&&(t.exports=s)}).call(e,n(0),n(5))},function(t,e){t.exports='<div class="bloggers-mobile-wrapper"><div class="bloggers-mobile"><div class="filters"><div class="styled-select period-select"><select name="period"> <%_.each(periods, function(period){ %> <option value="<%=period%>" <%if(period == current_period){%> selected="selected" <%}%>><%=period%></option> <%});%> </select></div> <%if(stocks.length > 0) {%> <div class="styled-select"><select name="instruments" multiple="multiple" size="4"><option disabled="disabled" selected="selected" class="hidden"><%=__(\'wizard.form.label.DEFAULT_EMPTY\')%></option> <%_.each(stocks, function(item){ %> <option value="<%=item[0]%>"><%=item[1]%></option> <% }); %> </select></div> <%}%> </div><div class="content-block"></div></div></div>'},function(t,e){t.exports='<% if(bloggers.length > 0) {%> <table class="bloggers-table"><thead><tr class="column-head"><th class="column-instrument"><%=__(\'tipranks.text.share\')%></th><th class="column-sentiment"><%=__(\'bloggers.text.sentiment\')%></th></tr></thead><tbody> <% _.each(bloggers, function(item){%> <tr class="row" data-symbol="<%= item.getSymbol()%>"><td class="column-instrument"><div><div class="stock-expand"><span>+</span></div><div class="stock-name"><div class="stock-image instrument-img-<%= item.getSymbol().toLowerCase()%>"></div><div class="stock-data-mobile"><div><%=item.getName()%></div><div><%=item.getTicker()%></div></div></div></div></td><td class="column-sentiment"><div class="<%=item.getSentiment()%>"> <%if (item.getSentiment() != \'neutral\'){%><i class="icon icon-<%=item.getSentiment()%>"></i><%}%> <div><%=item.getSentiment()%></div></div></td></tr><tr class="row-expand hidden"><td colspan="2"><div class="stock-buy-sell"><div class="instrument-sell-change"><table><tr></tr></table></div><div class="instrument-buy-change"><table><tr></tr></table></div></div><div class="bloggers-summary"><div class="bloggers-consensus"><div class="header"><%=__(\'bloggers.consensus\')%></div><div class="content"><div class="consensus-graph"><div class="consensus-bearish"><i class="icon icon-bearish"></i><div><%=__(\'bloggers.bearish\')%></div></div><div class="bar"><b style="width: <%=item.getBearishRatio()%>"></b> <i style="width: <%=item.getBullishRatio()%>"></i></div><div class="consensus-bullish"><i class="icon icon-bullish"></i><div><%=__(\'bloggers.bullish\')%></div></div></div><div class="consensus-text <%=item.getConsensus().toLowerCase()%>"> <%=__(\'bloggers.consensus.text\', item.getTicker(), item.getBloggersNumber(), item.getConsensus())%> </div></div></div><div class="opinion-distribution"><div class="header"><%=__(\'bloggers.opinion.distribution\')%></div><div class="content"></div></div></div></td></tr> <%})%> </tbody></table> <%} else {%> <div class="bloggers-empty"><div class="icon-blogger-empty-grey"></div><div><%= __(\'bloggers.text.no.recommendations\')%></div></div> <%}%>'},function(t,e,n){(function(i,r){function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var s;void 0!==(s=function(t,e,i){var s=n(0),a=n(2),l=n(12),c=n(45),u=n(6),d=n(14),h=n(54),p=n(704),f=n(1),m=n(16),g=n(120),v=n(372),b=n(1461),y=n(30),_=n(161).default,w=n(10),S=w.PERIODS,E=l.extend({subscribedInstruments:[],mainTemplate:s.template(n(1462)),bloggersTemplate:s.template(n(1463)),events:{"click .bloggers-top .icon-close-blue":"close","click .stock-expand":"viewDetails","click .choosen-header-wrapper":"toggleFilter","click .chosen-stocks li":"filterItems","click .chosen-ratings li":"filterItems","click .chosen-elm .chosen-reset":"filterReset","click .chosen-periods li span":"changePeriod","click th.sortable":"sortBloggers","click .take-tour":"openTour"},tagName:"div",className:"bloggers-wrapper popup-item",initialize:function(t){var e=this;l.prototype.initialize.apply(this,arguments),this.listenTo(a,"ui:header-itemclick",this.close),this.listenTo(a,"ui:instrument:change",this.close),this.listenTo(a,"ribbon:update",this.updateContentHeight),r(window).on("resize.blogger",function(){return e.updateContentHeight()}),this.parent=t.parent,this.parent.find(".main-box-content").addClass("hidden"),this.periods=[].concat(o(S)),this.current_period=this.periods[2],this.direction="desc",this.activeColumn="",this.getBloggers(this.current_period,this.periods[3])},getBloggers:function(t,e){var n=this;return t=t||this.current_period,this.addChildView(".bloggers",y,{parent:r(".main-box"),position:"absolute"}),this.loadBloggers(t,e).then(function(t){return t.data.error?(n.bloggers=[],n.render(),n.removeChildView(".bloggers"),Promise.reject()):(n.bloggers=n.createCollection(t.data),n.render(),n.removeChildView(".bloggers"),Promise.resolve())})},loadBloggers:function(t,e){return u.loadBloggers(t).then(function(t){return!t.data.error&&t.data.bloggerRecommendations&&0!==t.data.bloggerRecommendations.length||!e?Promise.resolve(t):u.loadBloggers(e)})},createCollection:function(t){var e=new c,n=[],i=s.reduce(t.bloggerRecommendations,function(e,n){return s.has(t.stocks,n.stockTicker)&&e.push(s.extend({stock:t.stocks[n.stockTicker]},n)),e},[]);return s.each(i,function(t){var i=t.stock.symbol;if(d.getInstrumentBySymbol(i)){var r=new p(t);r.set("instrument",d.getInstrumentBySymbol(i)),n.push(i),e.add(r)}}),this.subscribedInstruments=h.update(n,this.subscribedInstruments).addedSymbols,e},sortBloggers:function(t){var e=t.currentTarget;this.activeColumn=e.classList[0],this.direction="asc"===e.classList[2]?"desc":"asc",this.filterItems()},_sort:function(t,e){var n="desc"===this.direction?-1:1;return"column-blogger"===this.activeColumn?t.getBloggerName().localeCompare(e.getBloggerName())*n:"column-instrument"===this.activeColumn?t.getSymbol().localeCompare(e.getSymbol())*n:void 0},viewDetails:function(t){var e=r(t.currentTarget),n=e.closest("tr");r(n).addClass("active");var i=e.find(".stock-expand span"),o=n.parentNode.rows[n.rowIndex];if("+"===i.html()){r(o).removeClass("hidden"),i.html("-"),__eventos("tradingTools:bloggers:impression",{page:"details",instrumentName:r(n).attr("data-symbol")});var a=s.find(this.bloggers.models,function(t){return t.getSymbol()===r(n).attr("data-symbol")});0===r(o).find(".opinion-distribution .highcharts-container").length&&v(r(o).find(".opinion-distribution .content")[0],a.getOpinions())}else r(o).addClass("hidden"),r(n).removeClass("active"),i.html("+")},close:function(t){h.remove(this.subscribedInstruments),a.trigger("ui:chart:update-size"),r(window).off("resize.blogger"),this.parent.find(".main-box-content").removeClass("hidden"),t&&a.navigate("/"),this.destroy()},changePeriod:function(t){var e=r(t.currentTarget).attr("data-period");this.current_period=e,this.$el.find(".chosen-periods").removeClass("expanded").addClass("collapsed").find(".chosen-text").html(this.current_period),this.getBloggers()},toggleFilter:function(t){var e=r(t.currentTarget).parent();e.hasClass("collapsed")?(e.removeClass("collapsed").addClass("expanded"),r(document).on("click.content",function(t){r(t.target).closest(".chosen-elm")||(e.removeClass("expanded").addClass("collapsed"),r(document).off("click.content"))})):(e.removeClass("expanded").addClass("collapsed"),r(document).off("click.content"))},filterItems:function(t){var e=this;if(!s.isUndefined(t)){var n=t.currentTarget.childNodes[0];n.checked=!n.checked}var i=[],r=this.$el.find("input[name=stocks]:checked");this.$el.find(".chosen-stocks .chosen-total span").html(r.length||""),1===r.length?this.$el.find(".chosen-stocks .chosen-text").html(this.$el.find("input[name=stocks]:checked")[0].value):r.length>1?this.$el.find(".chosen-stocks .chosen-text").html(__("tipranks.filter.shares.selected",r.length)):this.$el.find(".chosen-stocks .chosen-text").html(__("tipranks.filter.all.shares"));var o=[];r.length>0&&(o=s.map(r,function(t){return t.value}));var a=this.$el.find("input[name=ratings]:checked"),l=[];a.length>0&&(l=s.map(a,function(t){return t.value})),this.$el.find(".chosen-ratings .chosen-text").html(0===l.length?__("tipranks.filter.all.ranking"):l.join()+" "+__("tipranks.text.stars")),i=s.filter(this.bloggers.models,function(t){return(!o.length||s.find(o,function(e){return e===t.getSymbol()}))&&(!l.length||s.find(l,function(e){return e===t.getBloggerRating()}))}),i.sort(function(t,n){return e._sort(t,n)}),this.renderFilteredData(i)},filterReset:function(t){var e=t.currentTarget.classList[1];this.$el.find(".chosen-"+e).removeClass("expanded").addClass("collapsed"),s.each(this.$el.find("input[name="+e+"]"),function(t){return t.checked=!1}),this.filterItems()},getStocksList:function(){return s.uniq(s.map(this.bloggers.models,function(t){return[t.getSymbol(),t.getName()]}),function(t){return JSON.stringify(t)})},render:function(){var t=this;l.prototype.render.call(this);var e=s.isArray(this.bloggers.models)&&!s.isEmpty(this.bloggers.models)?this.bloggers.models:[];return this.$el.html(this.mainTemplate({stocks:this.getStocksList(),periods:this.periods,current_period:this.current_period})),this.$el.find(".content-block").html(this.bloggersTemplate({bloggers:this.bloggers.models,direction:this.direction,activeColumn:this.activeColumn})),this.getBuySell(e),m.render(f.createElement(_,{options:[].concat(o(this.bloggers.models)),placeholder:__("tipranks.text.all_stoks"),onChange:function(e){return t.renderFilteredData(e)},transformOptionValue:function(t){return t.get("stock").symbol},transformOptionText:function(t){return t.get("stock").symbol}}),document.getElementById("searchableDropdown")),__eventos("tradingTools:bloggers:impression",{page:"main"}),this.updateContentHeight(),this},renderFilteredData:function(t){var e=s.isArray(t)&&!s.isEmpty(t)?t:this.bloggers.models;this.$el.find(".content-block").html(this.bloggersTemplate({bloggers:e,periods:this.periods,current_period:this.current_period,direction:this.direction,activeColumn:this.activeColumn})),this.getBuySell(e)},openTour:function(){this.$el.find(".content-block")[0].scrollTop=0,b(this.$el)},updateContentHeight:function(){var t=240,e=r(".ribbon-notification");e.length>0&&e[0].clientHeight&&(t+=e[0].clientHeight);var n=document.documentElement.clientHeight-t;this.$el.find(".content-block").css("height",n+"px")},getBuySell:function(t){var e=this;s.each(t,function(t,n){var i=f.createElement(g,{type:"Sell",column:{name:"Sell",key:"bid",direction:"bidDirection"},model:t.get("instrument"),isSelected:!0,onClick:s.noop}),r=f.createElement(g,{type:"Buy",column:{name:"Buy",key:"ask",direction:"askDirection"},model:t.get("instrument"),isSelected:!1,onClick:s.noop});m.render(i,e.$el.find(".instrument-sell-change tr")[n]),m.render(r,e.$el.find(".instrument-buy-change tr")[n])})}});i.exports=E}.call(e,n,e,t))&&(t.exports=s)}).call(e,n(0),n(5))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=(n(0),n(187));r.exports=function(t){var e=t.find(".take-tour");e.addClass("hidden");var n=function(e){return t.find(e)},r=function(t,e){return n(t)[e]},s=function(e,n){return"+"==t.find(".row:first-child .stock-expand span").html()&&t.find(".row:first-child .stock-expand")[0].click(),r(e,n)},a=function(){"-"==t.find(".row:first-child .stock-expand span").html()&&t.find(".row:first-child .stock-expand")[0].click()},l=[{element:r("td.column-blogger",0),intro:__("bloggers.text.slide_1_text"),position:"top"},{element:r("td.column-sentiment",0),intro:__("bloggers.text.slide_2_text"),position:"top"},{element:r("td.column-date",0),intro:__("bloggers.text.slide_3_text"),position:"top"},{element:s(".bloggers-consensus",0),intro:__("bloggers.text.slide_4_text"),position:"top"},{element:s(".opinion-distribution",0),intro:__("bloggers.text.slide_5_text"),position:"top"}];o.introJs().setOptions({nextLabel:__("tipranks.text.slide_next"),prevLabel:__("tipranks.text.slide_prev"),doneLabel:__("actions.done"),skipLabel:" ",steps:l}).oncomplete(function(){i(e.removeClass("hidden")),a()}).onexit(function(){i(e.removeClass("hidden")),a()}).start()}}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(5))},function(t,e){t.exports='<div class="popup-item-wrapper"><div class="hidden-xs bloggers-top"><div class="header-actions fn-close-popup btn"><i class="icon-close-blue"></i></div></div><div class="bloggers"><div class="header-block overflow-unset"><div class="bloggers-header"><h3><%=__(\'tab.bloggers\')%></h3><span><%=__(\'bloggers.description\')%></span></div> <%if (stocks.length > 0) {%> <div class="take-tour"><%=__(\'tipranks.text.take_tour\')%></div> <%}%> <div class="filters"><div class="chosen-elm chosen-periods collapsed"><div class="choosen-header-wrapper"><span class="chosen-text"><%=current_period%></span><span class="up"></span></div><div class="choosen-content-wrapper"><div><ul> <%_.each(periods, function(period){ %> <li><span data-period="<%=period%>"><%=period%></span></li> <% }); %> </ul></div></div></div><div id="searchableDropdown"></div> <%if (stocks.length > 0) {%> <div class="chosen-elm chosen-ratings collapsed"><div class="choosen-header-wrapper"><span class="chosen-text"><%=__(\'tipranks.filter.all.ranking\')%></span><span class="up"></span></div><div class="choosen-content-wrapper"><div><a class="chosen-reset ratings"><%=__(\'tipranks.filter.reset\')%></a><ul> <%_.each([5, 4, 3, 2, 1], function(val) {%> <li><input type="checkbox" name="ratings" value="<%=val%>" id="stars<%=val%>"><span class="stars stars<%=val%>"></span></li> <%});%> </ul></div></div></div> <%}%> </div></div><div class="content-block"></div><div class="risk-warning"><%=__(\'bloggers.text.disclaimer\')%></div></div></div>'},function(t,e){t.exports='<% if(bloggers.length > 0) {%> <table class="bloggers-table"><thead><tr class="column-head"><th class="column-instrument sortable <%=direction%> <%if(activeColumn == \'column-instrument\'){%>active<%}%>"><%=__(\'tipranks.text.share\')%></th><th class="column-blogger sortable <%=direction%> <%if(activeColumn == \'column-blogger\'){%>active<%}%>"><%=__(\'bloggers.text.blogger\')%></th><th class="column-sentiment"><%=__(\'bloggers.text.sentiment\')%></th><th class="column-date"><%=__(\'insiders.header.date\')%></th><th class="column-trade"><%=__(\'tipranks.text.trade\')%></th></tr></thead><tbody> <% _.each(bloggers, function(item){%> <tr class="row" data-symbol="<%= item.getSymbol()%>"><td class="column-instrument"><div><div class="stock-expand"><span>+</span></div><div class="stock-name"><div class="stock-image instrument-img-<%= item.getSymbol().toLowerCase()%>"></div><div class="stock-data"><div><%=item.getName()%></div><div><%=item.getTicker()%></div></div></div></div></td><td class="column-blogger"><div><div class="analyst-pic"><img src="<%=item.getBloggerPicture()%>"></div><div class="analyst-details"><div class="analyst-name"><span><%=item.getBloggerName()%></span><span><%=item.getFirmName()%></span></div><div class="analyst-rating"><div class="stars"></div><div class="fill" style="width: <%= item.getBloggerRatingStarsFill()%>px"></div></div></div></div></td><td class="column-sentiment"><div class="<%=item.getSentiment()%>"> <%if (item.getSentiment() != \'neutral\'){%><i class="icon icon-<%=item.getSentiment()%>"></i><%}%> <div><%=item.getSentiment()%></div></div></td><td class="column-date"><div><%=__(\'insiders.days.ago\', item.getRecommendationDateDiff())%></div></td><td class="column-trade"><div class="stock-buy-sell"><div class="instrument-sell-change"><table><tr></tr></table></div><div class="instrument-buy-change"><table><tr></tr></table></div></div></td></tr><tr class="row-expand hidden"><td colspan="4"><div><div class="bloggers-consensus"><div class="header"><%=__(\'bloggers.consensus\')%></div><div class="content"><div class="consensus-graph"><div class="consensus-bearish"><i class="icon icon-bearish"></i><div><%=__(\'bloggers.bearish\')%></div></div><div class="bar"><b style="width: <%=item.getBearishRatio()%>"></b> <i style="width: <%=item.getBullishRatio()%>"></i></div><div class="consensus-bullish"><i class="icon icon-bullish"></i><div><%=__(\'bloggers.bullish\')%></div></div></div><div class="consensus-text <%=item.getConsensus().toLowerCase()%>"> <%=__(\'bloggers.consensus.text\', item.getTicker(), item.getBloggersNumber(), item.getConsensus())%> </div></div></div><div class="opinion-distribution"><div class="header"><%=__(\'bloggers.opinion.distribution\')%></div><div class="content"></div></div></div></td><td></td></tr> <%})%> </tbody></table> <%} else {%> <div class="bloggers-empty"><div class="icon-blogger-empty-blue"></div><div><%= __(\'bloggers.text.no.recommendations\')%></div></div> <%}%>'},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(0),s=n(24),a=n(1465),l=n(1476),c=n(55),u=n(705),d=n(9),h=o.template(n(1478)),p=s.extend({name:"withdraw-popup",events:function(){return o.extend({},o.result(s.prototype,"events"),{"click .fn-submit":"onSubmit","click .fn-cancel":"onCancel","click .fn-click-disclaimer":function(t){return t.preventDefault(),t.stopPropagation(),new c({parent:r("body"),text:__("withdraw.disclaimer.popup.content"),isHeaderShowed:!1})}})},wizardForm:null,initialize:function(t){s.prototype.initialize.apply(this,arguments),this.render()},render:function(t){s.prototype.render.call(this),this.$el.find(".responsive-panel").addClass("withdraw-popup"),this.setContent(h({settings:d})),this.wizardForm=new l({model:new a,$parent:this.$el.find(".block-form")}),this.listenTo(this.wizardForm,"method:change",this.onMethodChange)},close:function(){s.prototype.close.call(this)},onMethodChange:function(){""===this.wizardForm.method?this.$el.find(".fn-submit").attr("disabled",!0):this.$el.find(".fn-submit").removeAttr("disabled")},onCancel:function(){this.close()},onSubmit:function(){var t=this;if(!this.wizardForm.form.submit()){var e=this.wizardForm.form.getData(),n=u.getMethodById(this.wizardForm.method);n.setData(e).then(function(){return n.proceed()}).then(function(e){return t.withdrawMessage(e)})}},withdrawMessage:function(t){return this.close(),new c({parent:r("body"),text:__("withdraw.message.success"),isHeaderShowed:!1})}});i.exports=p}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(211),s=(n(6),n(7)),a=(n(22),n(2)),l=n(9),c=o.extend({defaults:function(){return n(1466).WithdrawFormConfig()},initialize:function(t){o.prototype.initialize.apply(this,arguments),this.listenTo(a,"user:load:credit-card:success",this.setCreditCards),this.getCreditCards()},updateCreditCards:function(){var t=[];this.get("creditCards").forEach(function(e){"APPROVED"===e.status&&t.push(e.number),l.isPendingCreditCardWithdrawEnabled()&&"PENDING"===e.status&&t.push(e.number)}),i.find(this.get("form")[0],function(t){return"creditCard"===t.name}).options=t},getCreditCard:function(t){return i.findWhere(this.get("creditCards"),{number:t})},setCreditCards:function(){this.set("creditCards",i.values(s.getUserCreditCards().get("creditCards")))},getCreditCards:function(){s._userCreditCards.reLoad()}});r.exports=c}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){function r(t){return{title:"",status:"",form:[[{disable:!1,name:"method",template:a.selectBox,options:l.getMethodIdsAsArray(),translationGroupPrefix:"withdraw.method",title:__("withdraw.form.label.method"),dependent:[],validation:{}},{disable:!0,name:"amount",template:a.inputBox,title:__("withdraw.form.label.amount"),validation:{},conversion:!0,dependent:[{name:"method",handler:function(t,e){var n=e.getField("amount");if(""!==t.value()){n.$el.css("display","block"),n.enable(),n.focus();var i=s.getUserAccountMetricsModel().getEquity();return c.isPendingCreditCardWithdrawEnabled()&&(i=s.getUserAccountMetricsModel().getAvailableForWithdrawal()),void n.setRules({min:[1,__("withdraw.form.error.amount.min",1)],max:[i,__("withdraw.form.error.amount.max")]})}n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"firstName",template:a.inputBox,title:__("withdraw.form.label.firstName"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.firstName")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(t,e){var n=e.getField("firstName");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),t.value()===u.UNION_PAY)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"address",template:a.inputBox,title:__("withdraw.form.label.address"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.address")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(t,e){var n=e.getField("address");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),t.value()===u.UNION_PAY)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"phone",template:a.inputBox,title:__("withdraw.form.label.phone"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.phone")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(t,e){var n=e.getField("phone");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),t.value()===u.UNION_PAY)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{name:"country",title:__("withdraw.form.label.country"),translationGroupPrefix:"country.name",options:o.getCountryList(),template:a.countriesSelectBox,validation:{},disable:!0,dependent:[{name:"method",handler:function(t,e){var n=e.getField("country");if(t.value()===u.WIRE_TRANSFER||t.value()===u.SEA_SOLUTION)return n.$el.css("display","block"),n.enable(),void n.value(s.getUserCountry());n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"bankName",template:a.inputBox,title:__("withdraw.form.label.bankName"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.bankName")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(t,e){var n=e.getField("bankName");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),t.value()===u.UNION_PAY||t.value()===u.WIRE_TRANSFER||t.value()===u.SEA_SOLUTION)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"email",template:a.inputBox,title:__("withdraw.form.label.email"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.email")),email:[__("withdraw.form.error.email")]}},dependent:[{name:"method",handler:function(t,e){var n=e.getField("email");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),t.value()===u.MONEYBOOKERS||t.value()===u.PAYPAL||t.value()===u.GLOBE_PAY)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"creditCard",template:a.selectBox,translationPrefix:"withdraw.creditCards.prefix",title:__("withdraw.form.label.creditCard"),validation:{},dependent:[{name:"method",handler:function(t,e){var n=e.getField("creditCard");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),t.value()===u.CREDIT_DEBIT_CARD)return n.$el.css("display","block"),n.enable(),void n.value(e.getField("creditCard").$el.find("option").val());n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"neteller",template:a.inputBox,title:__("withdraw.form.label.neteller"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.neteller")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(t,e){var n=e.getField("neteller");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),t.value()===u.NETELLER)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"iban",template:a.inputBox,title:__("withdraw.form.label.iban"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.iban")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(t,e){var n=e.getField("iban");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),t.value()===u.WIRE_TRANSFER)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}}],[{disable:!0,name:"beneficiary",template:a.inputBox,title:__("withdraw.form.label.beneficiary"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.beneficiary")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(t,e){var n=e.getField("beneficiary");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),""!==t.value()&&t.value()!==u.UNION_PAY&&t.value()!==u.GLOBE_PAY)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"lastName",template:a.inputBox,title:__("withdraw.form.label.lastName"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.lastName")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(t,e){var n=e.getField("lastName");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),t.value()===u.UNION_PAY)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"city",template:a.inputBox,title:__("withdraw.form.label.city"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.city")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(t,e){var n=e.getField("city");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),t.value()===u.UNION_PAY)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"zipCode",template:a.inputBox,title:__("withdraw.form.label.zipCode"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.zipCode")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(t,e){var n=e.getField("zipCode");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),t.value()===u.UNION_PAY)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"accountNumber",template:a.inputBox,title:__("withdraw.form.label.accountNumber"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.accountNumber")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(t,e){var n=e.getField("accountNumber");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),t.value()===u.WIRE_TRANSFER||t.value()===u.UNION_PAY||t.value()===u.SEA_SOLUTION)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"bankAddress",template:a.inputBox,title:__("withdraw.form.label.bankAddress"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.bankAddress")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(t,e){var n=e.getField("bankAddress");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),t.value()===u.WIRE_TRANSFER||t.value()===u.SEA_SOLUTION)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"swift",template:a.inputBox,title:__("withdraw.form.label.swift"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.swift")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(t,e){var n=e.getField("swift");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),t.value()===u.WIRE_TRANSFER)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"bankDetails",template:a.inputBox,title:__("withdraw.form.label.bankDetails"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.bankDetails")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(t,e){var n=e.getField("bankDetails");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),t.value()===u.UNION_PAY)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"comment",template:a.textArea,title:__("withdraw.form.label.comment"),settings:{rows:0,cols:0},validation:{rules:{max_length:[1e3,__("withdraw.form.error.max_length",1e3)]}},dependent:[{name:"method",handler:function(t,e){var n=e.getField("comment");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),""!==t.value())return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}}]],bottom:[],creditCards:null}}var o=(n(0),n(5),n(1467)),s=n(7),a=n(79),l=n(705),c=n(9),u=n(96).WITHDRAW_METHOD;i.exports.WithdrawFormConfig=r}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){function r(){return o||(o=a.chain(s.getKeysGroup("country.name")).map(function(t){return{name:__("country.name."+t),key:t}}).sortBy("name").pluck("key").value())}var o,s=n(23),a=n(0);i.exports={getCountryList:r}}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){function i(){this.id=l.CREDIT_DEBIT_CARD}var r=n(0),o=n(116),s=n(7),a=n(40),l=n(96).WITHDRAW_METHOD;r.extend(i.prototype,o.prototype,{setData:function(t){var e=this;o.prototype.setData.call(this,t);var n=s.getUserCreditCards();return n.load().then(function(i){var r=n.getCardByNumber(t.creditCard);return e.data.type=a.creditCards[r.type],e.data.number=r.number,e.data.expirationDate="",Promise.resolve()})}}),t.exports=i},function(t,e,n){function i(){this.id=s.GLOBE_PAY}var r=n(0),o=n(116),s=n(96).WITHDRAW_METHOD;r.extend(i.prototype,o.prototype,{setData:function(t){return o.prototype.setData.call(this,t),this.data.email=t.email,Promise.resolve()}}),t.exports=i},function(t,e,n){function i(){this.id=s.MONEYBOOKERS}var r=n(0),o=n(116),s=n(96).WITHDRAW_METHOD;r.extend(i.prototype,o.prototype,{setData:function(t){return o.prototype.setData.call(this,t),this.data.email=t.email,Promise.resolve()}}),t.exports=i},function(t,e,n){function i(){this.id=s.NETELLER}var r=n(0),o=n(116),s=n(96).WITHDRAW_METHOD;r.extend(i.prototype,o.prototype,{setData:function(t){return o.prototype.setData.call(this,t),this.data.netellerId=t.neteller,Promise.resolve()}}),t.exports=i},function(t,e,n){function i(){this.id=s.PAYPAL}var r=n(0),o=n(116),s=n(96).WITHDRAW_METHOD;r.extend(i.prototype,o.prototype,{setData:function(t){return o.prototype.setData.call(this,t),this.data.email=t.email,Promise.resolve()}}),t.exports=i},function(t,e,n){function i(){this.id=s.UNION_PAY}var r=n(0),o=n(116),s=n(96).WITHDRAW_METHOD;r.extend(i.prototype,o.prototype,{setData:function(t){return o.prototype.setData.call(this,t),this.data.address=t.address,this.data.city=t.city,this.data.zipCode=t.zipCode,this.data.phone=t.phone,this.data.bankName=t.bankName,this.data.bankDetails=t.bankDetails,this.data.accountNumber=t.accountNumber,Promise.resolve()}}),t.exports=i},function(t,e,n){function i(){this.id=s.WIRE_TRANSFER}var r=n(0),o=n(116),s=n(96).WITHDRAW_METHOD;r.extend(i.prototype,o.prototype,{setData:function(t){return o.prototype.setData.call(this,t),this.data.bankName=t.bankName,this.data.bankAddress=t.bankAddress,this.data.accountNumber=t.accountNumber,this.data.iban=t.iban,this.data.abaOrSwift=t.swift,this.data.countryCode=t.country,Promise.resolve()}}),t.exports=i},function(t,e,n){function i(){this.id=s.SEA_SOLUTION}var r=n(0),o=n(116),s=n(96).WITHDRAW_METHOD;r.extend(i.prototype,o.prototype,{setData:function(t){return o.prototype.setData.call(this,t),this.data.bankName=t.bankName,this.data.bankAddress=t.bankAddress,this.data.accountNumber=t.accountNumber,this.data.countryCode=t.country,Promise.resolve()}}),t.exports=i},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(210),s=n(30),a=n(7),l=n(6),c=n(22),u=r.template(n(1477)),d=n(70),h=n(15),p=/^(0|[1-9]\d*)(\.|\.\d{1,2})?$/i,f=o.extend({method:null,initialize:function(t){o.prototype.initialize.apply(this,arguments),this.currency=a.getUserCurrency(),this.listenTo(this.model,"change:creditCards",this.onRender),this.fixedLoadingView=new s({parent:t.$parent,position:"fixed",translucent:"2"})},show:function(){this.$parent.html(u({model:this.model,device:n(15)})),this.form=new d({el:this.$parent.find(".form")}),r.each(this.model.getFormFields(),this._setFieldsControls,this),r.each(this.model.getFormFields(),this._updateFieldValue,this)},render:function(){o.prototype.render.call(this)},initForm:function(){this.listenTo(this.form,"field:change:method",this.onMethodChange),this.listenTo(this.form,"field:change:amount",this.onAmountChange),this.listenTo(this.form,"field:change:beneficiary",this.onBeneficiaryChange),this.listenTo(this.form,"field:change:comment",this.onCommentChange)},onRender:function(){this.model.updateCreditCards(),this.fixedLoadingView.destroy(),this.show(),this.initForm(),this.method=this.form.field("method").value()},methodUpdate:function(){"EMPTY"!==this.method&&(h.desktop()||h.tablet())&&this.form.$el.find(".form-body").css({overflow:"auto"})},onMethodChange:function(t){this.method=this.form.field("method").value(),"union_pay"===this.method?this.conversionUsdToCny().then(this.conversionUsdToCnySuccess.bind(this)).catch(this.conversionUsdToCnyError.bind(this)):(this.form.$(".field-conversion > .content").empty(),this.conversionValue=0),this.methodUpdate(),this.trigger("method:change")},onCheckChange:function(t){this.trigger("check:enable")},onAmountChange:function(t){var e=t.value();e.length<=12&&p.test(e)?this.lastValidValue=e:(this.lastValidValue&&""!==e||(this.lastValidValue=""),""!==e&&t.value(this.lastValidValue)),this.calculateConversion(e)},conversionUsdToCny:function(){return l.conversionFromUsdToCny(c.getAtmosphereId(),{from:this.currency,to:"CNY"})},conversionUsdToCnySuccess:function(t){return this.conversionValue=t.data,this.showConversionForCny(this.conversionValue),Promise.resolve(t)},conversionUsdToCnyError:function(t){return Promise.reject(t)},showConversionForCny:function(t){this.form.$(".field-conversion > .content").html('<span class="calculate"></span> <span>&nbsp;(1'+this.currency+" = "+t.toFixed(4)+"CNY)</span>"),this.calculateConversion(a.getUserAccountMetricsModel().getEquity())},calculateConversion:function(t){var e=t*this.conversionValue,n=e?t+this.currency+" = "+e.toFixed(2)+"CNY":"";this.form.$(".field-conversion > .content > span.calculate").html(n)}});i.exports=f}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<label class="slider-step-title hidden-sm hidden-md hidden-lg"><%=__(\'registration.step.title.\' + model.get(\'title\'))%></label><div class="form"><div class="form-body"> <%_.each(model.get(\'form\'), function (column, i, form){ %> <div class="form-col"> <%_.each(column, function (elem, i){ %> <%if (_.isFunction(elem.template)){%> <%=elem.template(elem)%> <%}%> <%})%> </div> <%});%> </div><div class="bottom"> <%_.each(model.get(\'bottom\'), function (elem){ %> <%if (_.isFunction(elem.template)){%> <%=elem.template(elem)%> <%}%> <%})%> </div></div>'},function(t,e){t.exports='<div class="withdraw-popup-body"><div class="content"><div class="block-text"><div><%=__(\'withdraw.text.description\')%></div></div><div class="block-form"></div></div><div class="withdraw-popup-disclaimer"><span class="hidden-xs"><%=__(\'withdraw.disclaimer.popup.content\')%></span><a href="#" class="hidden-md hidden-lg hidden-sm fn-click-disclaimer"><%=__(\'withdraw.disclaimer.popup.link\')%></a></div><div class="form-actions"><div class="block-button"><button class="btn btn-primary submit fn-submit" disabled="disabled"><%=__(\'withdraw.button.save\')%></button></div><div class="block-button"><button class="btn cancel fn-cancel"><%=__(\'cancel\')%></button></div> <% if (settings.isLiveChatEnabled()) { %> <div class="block-help-line hidden-xs"><span><%=__(\'help.need_help\')%></span><span><a href="#" class="fn-help-live-chat-link"><%=__(\'help.right_here\')%></a></span></div> <% } %> </div></div>'},function(t,e,n){(function(i){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0!==(o=function(t,e,i){var o=n(2),l=(n(40),n(7)),c=n(0),u=n(9),d=n(198),h=n(3),p=n(1480),f=n(15),m=n(6),g=n(10),v=g.UI_SECTION_OPEN_POSITION,b=g.UI_SECTION_TRADING;window.LC_API=window.LC_API||{};var y=null,_=["registration"],w=[b,v],S=function(){function t(){r(this,t),o.on("ui:need-help",this.onLivechatOpen.bind(this)),o.on("ui:need-help-menu",this.onLivechatOpen.bind(this,"support")),o.on("user:login",this.onUserLogin.bind(this)),o.on("eye-catcher:start",this.onStartEyeCatcher.bind(this)),o.on("eye-catcher:destroy",this.onDestroyEyeCatcher.bind(this)),o.on("user:inactivity:idle",this.checkSettingsForEyeCatcher.bind(this)),o.listenTo(u,"change:eyecatcher.enabled",this.startEyeCatcher.bind(this))}return a(t,[{key:"onUserLogin",value:function(){var t=this;u.isLiveChatEnabled()&&this.getGroupForLiveChat().then(function(e){t.livechatInit(e);var n=l.getUserData().getCrmboCustomer(),i=c.findWhere(n.accounts,{tradingAccountType:""+u.getPlatformTypeId()});n&&(window.__lc.visitor={name:n.firstName+" "+n.lastName,email:" "},window.__lc.params.push({name:"level",value:l.getUserLevelsModel().isMarketsX()?"MarketsX":"Classic"}),c.isUndefined(n.id)||window.__lc.params.push({name:"customerId",value:n.id}),c.isUndefined(i.platformAccountId)||window.__lc.params.push({name:"platformId",value:i.platformAccountId}))})}},{key:"livechatInit",value:function(t){window.__lc=window.__lc||{},window.__lc.license=u.getLiveChatLicenseId(),window.__lc.ga_version="gtm",window.__lc.chat_between_groups=!1,window.__lc.group=t.groupId,window.__lc.params=[],window.__lc.params.push({name:"platform",value:"indigo"});var e=!0;LC_API.on_before_load=function(){!1===LC_API.visitor_engaged()&&!1===e&&LC_API.hide_chat_window()},LC_API.on_chat_started=function(){e=!0},LC_API.on_message=this.onLivechatOpen;var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="//cdn.livechatinc.com/tracking.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i),t.eyecatcher?this.startEyeCatcher():u.set("eyecatcher.enabled",!1)}},{key:"getGroupForLiveChat",value:function(){var t=this,e=u.isEyeCatcherEnabled()&&c.contains(u.getLangsForEyeCatcher(),__("lang")),n=parseInt(__default("live.chat.eyecatcher.group.id","-1")),i=l.getUserLevelsModel().isMarketsX(),r=parseInt(__("live.chat.group.id"))||0,o=parseInt(__("live.chat.premium.group.id"))||0,s={groupId:r,eyecatcher:!1},a={groupId:n,eyecatcher:!0},d={groupId:o,eyecatcher:!1};return!l.getUserData().isFirstDeposit()&&e?this.createGroupWithAgents(a,s).then(function(e,n){return!n&&i?t.createGroupWithAgents(o,s):s}):i?this.createGroupWithAgents(d,s):Promise.resolve(s)}},{key:"createGroupWithAgents",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.checkLiveChatAgents(t.groupId).then(function(n){return Promise.resolve(n?t:s({},e),n)})}},{key:"checkLiveChatAgents",value:function(t){return m.hasLiveChatAgents(t).then(function(t){return!(!t||!t.data)})}},{key:"onLivechatOpen",value:function(t){if(u.isLiveChatEnabled()){return void this.getGroupForLiveChat().then(function(t){var e=window.open("https://lc.chat/now/6092921/"+t.groupId,"_blank");e.focus&&e.focus()})}}},{key:"startEyeCatcher",value:function(){var t=u.getLangsForEyeCatcher();u.isEyeCatcherEnabled()&&c.contains(t,__("lang"))&&f.desktop()&&o.trigger("eye-catcher:start")}},{key:"onStartEyeCatcher",value:function(){if(!c.isEmpty(LC_API)&&!l.getUserData().isFirstDeposit()&&!y){var t=n(878);y=new t(u.getTimeOutForEyeCatcher(),"platform",["click","mousedown","touchstart","keypress"]),y.init()}}},{key:"onDestroyEyeCatcher",value:function(){t.eyeCatcher=null}},{key:"isShowEyeCatcher",value:function(t){return w.some(function(e){return 0===t.indexOf(e)})}},{key:"checkSettingsForEyeCatcher",value:function(t){var e=l.getUserCommonData();"platform"===t.source?(null===e.getIntervalForEye()&&e.saveIntervalForEye(c.now()-(u.getIntervalForEyeCatcher()+1e4)),d.isPopupOpen()||(e.getStartWeekForEye()===h().week()?e.getEyeCountVisibleTimes()<=u.getTimesPerWeekforEyeCatcher()?u.getIntervalForEyeCatcher()<=c.now()-e.getIntervalForEye()&&this.showEyeCatcherIfPosible(t.source):y&&(y.stop(),y=null):(this.showEyeCatcherIfPosible(t.source),e.saveStartWeekForEye(h().week()),e.saveEyeCountVisibleTimes(1)))):this.showEyeCatcherIfPosible(t.source)}},{key:"showEyeCatcherIfPosible",value:function(e){var n=l.getUserCommonData();LC_API.agents_are_available()&&!LC_API.visitor_engaged()&&LC_API.chat_window_hidden()&&(document.hasFocus()&&"platform"===e||"platform"!==e)&&(l.getUserData().isFirstDeposit()?y&&(y.stop(),y=null):(d.isPopupOpen()&&c.contains(_,d.getNameForOpenPopup())||!d.isPopupOpen()&&this.isShowEyeCatcher(d.getRouter()))&&(t.eyeCatcher||(t.eyeCatcher=new p({source:e}),"platform"===e&&(n.saveEyeCountVisibleTimes(n.getEyeCountVisibleTimes()+1),n.saveIntervalForEye(c.now())))))}}]),t}();S.eyeCatcherIsShow=!0,S.eyeCatcher=null,i.exports=new S}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(2),s=n(12),a=s.extend({tagName:"div",className:"eye-catcher",parent:"body",template:r.template(n(1481)),events:function(){return r.extend({},r.result(s.prototype,"events"),{"click .fn-open-chat":"onClick","click .fn-no_thanks":"onCancel"})},initialize:function(t){this._startTime=r.now(),s.prototype.initialize.apply(this,arguments),this.render()},render:function(){this.$el.html(this.template({})),s.prototype.render.call(this)},destroy:function(){o.trigger("eye-catcher:destroy"),s.prototype.destroy.call(this)},onCancel:function(){o.trigger("eye-catcher:close",{source:this.options.source,duration:this.getDurationMs()}),this.destroy()},hide:function(){this.$el.removeClass("eye-catcher--visible").addClass("eye-catcher--hidden")},show:function(){this.$el.removeClass("eye-catcher--hidden").addClass("eye-catcher--visible")},onClick:function(t){t.preventDefault(),t.stopPropagation(),o.trigger("eye-catcher:click",{source:this.options.source,duration:this.getDurationMs()}),o.trigger("ui:need-help","eyecatcher_"+this.options.source),this.destroy()},getDurationMs:function(){return r.now()-this._startTime}});i.exports=a}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<div class="eye-catcher--wrapper"><div class="eye-catcher__greeting"><div class="icon__close"><button class="fn-no_thanks"><i class="icon-close-blue"></i></button></div><div class="greeting" aria-expanded="false" dir="ltr"><div class="greeting__text fn-open-chat"> <%= __(\'eye_catcher.message\')%> </div></div></div><div class="eye-catcher__icon"><div aria-expanded="false" dir="ltr" class="icon__wrapper"><button class="icon__button fn-open-chat"><div class="img__wrapper"><span class="icon-eye_catcher"></span></div></button></div></div></div>'},function(t,e,n){var i;void 0!==(i=function(t,e,i){function r(){var t=s.getUserData().get("firstDeposit"),e=t?__("link.contact_us.funded.client"):__("link.contact_us"),n=window.open(e,"_blank");n.focus&&n.focus()}var o=n(2),s=n(7);o.on("ui:contact-us",r)}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i,r){function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s,a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();void 0!==(s=function(t,e,i){function r(t){var e=n(215),i=n(212),r=n(14),o=r.getInstrumentBySymbol(t.detail.symbol,!0);if(o){var s=o.get("priceAlert");new e({parent:document.body,model:s||new i({instrumentId:o.getInstrumentId(),alertTypeId:t.detail.defaultType})})}}function s(t){f.trigger("ui:header-itemclick"),f.trigger("ui:price-alerts",t.detail.symbol)}function c(){var t=n(221),e=m.reduce(t.models,function(t,e){return t[e.getInstrument().getSymbol().toLowerCase()]=!0,t},{});window.dispatchEvent(new CustomEvent("price-alerts:update-alerts-list",{detail:e}))}function u(t){return function(e,n){v.event(t||e,n)}}function d(t){var e=t.get("instrumentId"),n=g.getInstrumentById(e),i=t.get("quantity"),r=i>0?"buy":"sell",o=t.get("type"),s=null,a=null,l=t.get("takeProfit"),c=t.get("stopLoss");switch(o){case"STOP":o="Entry Stop",a="buy"===r?"above":"below",s=t.get("stopPrice");break;case"LIMIT":o="Entry Limit",a="buy"===r?"below":"above",s=t.get("limitPrice")}return{instrument:n,order:t,action:r,quantity:Math.abs(i),type:o,orderPosition:a,price:s,takeProfit:l&&l.fixedPrice,stopLoss:c&&c.fixedPrice}}function h(t,e){var i=n(1676),r=n(1679),o=new r;f.trigger("native-popups:block","first-deposit"),Ft=new i({parent:p("body"),source:t.source,model:o,onClose:function(){Ft=null,f.trigger("native-popups:release","first-deposit")},onSuccess:function(){Ft=null,f.trigger("ui:cashier",{amount:o.get("amount"),atmAmount:o.get("amount"),doFirstDeposit:!0,bonusApplied:e})}})}var p=n(5),f=n(2),m=n(0),g=n(14),v=n(700),b=n(7),y=n(23),_=n(95),w=n(71),S=n(9),E=n(75),x=n(40),C=n(52),T=n(879),k=n(173).SECTION,O=n(56),P=n(1484),I=n(71),A=n(38),M=n(55),N=n(47),D=(N.setPopupState,n(78)),L=D.getInstrumentCategoryPath,R=D.getInstrumentCategory,F=n(87),B=F.hideChart,U=F.showChart,j=F.updateChartState,z=n(10),V=z.COLLAPSED,H=z.EXPANDED,G=z.MAXIMIZED,W=z.OPEN_POSITION_MODE,q=n(115),$=q.FLOW_ON_BOARDING,Y=n(187),X=window.matchMedia("(display-mode: standalone)").matches,K=n(87),Q=K.selectInstrumentCategoryTreePath,J=K.selectInstrumentSymbolAndUpdateUrl,Z=K.closeInstrumentDetails,tt=K.openInstrumentDetails,et=K.changeInstrumentInfoVisibility,nt=n(136),it=nt.addFavoriteInstrument,rt=nt.removeFavoriteInstrument,ot=n(10),st=ot.DP_PARAM_POSITION_MODE,at=ot.DP_PARAM_TRADING_VIEW,lt=ot.DP_PARAM_TIMEZONE_ID,ct=ot.DP_PARAM_TIMEZONE_OFFSET,ut=ot.DP_PARAM_TIMEZONE_GMT,dt=ot.DP_PARAM_TIMEZONE_NAME,ht=ot.PATH_SYNC_PARAM_NAME,pt=ot.PLATFORM_TYPE_POPUP,ft=ot.SESSION_EXPIRED_POPUP_TIMEOUT,mt=ot.NA,gt=ot.CHARS,vt=ot.VISIBLE,bt=n(87),yt=(bt.setInstrumentDetailsSymbol,n(15)),_t=n(6),wt=n(1487),St=null,Et=null,xt=null,Ct=null,Tt=null,kt=null,Ot=null,Pt=null,It=null,At=null,Mt=null,Nt=null,Dt=null,Lt=null,Rt=null,Ft=null,Bt=null,Ut=null,jt=null,zt=null,Vt=null,Ht=null,Gt=null,Wt=null,qt=null,$t=null,Yt=null,Xt=null,Kt=null,Qt=null,Jt=null,Zt=null,te=null,ee=null,ne=null,ie=null,re=null,oe=null,se=null,ae=null,le=null,ce=function(){return b.getApplicationSettings()},ue=m.isFunction,de=m.isEmpty,he=m.extend,pe=(m.isObject,new function(){var t=[],e=[],n=[],i=[],r=new function(){var t=this;this.has=function(t){return m.contains(i,t)},this.add=function(e){return t.has(e)||i.push(e),t},this.remove=function(e){var n=m.indexOf(i,e);return~n&&i.splice(n,1),t},this.value=function(){return i}};return new function(){this.modifyPositions=function(){return i=t,r},this.modifyOrders=function(){return i=e,r},this.closePositions=function(){return i=n,r}}}),fe=function(){var t=b.getUserCommonData().getOpenPositionMode(),e=!1,n=!0;return yt.desktop()||t!==W.INTERACTIVE||(e=!0),yt.desktop()&&t===W.ADVANCED&&(e=!0),t===W.INTERACTIVE&&yt.desktop()&&(e=!0,n=!1),{isDraggable:e,isTranslucent:n}};f.on("eventos",function(t,e){"undefined"!=typeof __eventos&&ue(__eventos)&&__eventos(t,e)}),f.on("platform:switch",function(t,e){b.getSessionModel().markSessionAsInactive();var n="https://"+window._app.getPlatformHost(),i=[n,"/fxclient5/controllers/switchTo/",String(t).toLowerCase(),"/"+y.getCurrentLanguage(),(e?e+"&":"?")+"theme="+w.name];i.push("&redirect=false"),_t.get(i.join("")).then(function(t){var e=new _.Url(t.headers.location),n=e.getQueryParam("deepParams");_app.setPlatformHost(e.getDomain()),_t.get(t.headers.location).then(function(){var t=window.location,e=String(t.href).split("#"),i=l(e,2),r=i[0];i[1];t.href=r+"?"+n})}),X&&setTimeout(function(){return window.location.reload()},2e3)}),f.on("platform:switch:sync",function(t){var e,n,i=b.getUserCommonData(),r=(e={},o(e,lt,i.getUserTimezoneObject().id),o(e,ct,i.getUserTimezoneObject().offset),o(e,ut,i.getUserTimezoneObject().gmt),o(e,dt,i.getUserTimezoneObject().displayName),e),s=(n={},o(n,st,i.getOpenPositionMode()),o(n,at,i.getTradingViewMode()),o(n,pt,S.isPlatformTypePopupVisible()),n);S.isTimezoneEnabled()&&(s=a({},s,r));var l=m.reduce(m.keys(s),function(t,e){return t+"&"+e+"="+encodeURIComponent(s[e])},"").slice(1);f.trigger("ui:loading"),f.trigger("platform:switch",String(t).toLowerCase(),"?"+ht+"=sync&"+l)}),f.on("ui:async-module:error",function(t){f.trigger("ui:message-box",{caption:__("indigo.errors.title"),text:__("indigo.generic.error.message")})}),f.on("ui:registration",function(t){Et||(Et=!0,wt.getModule("registration").then(function(e){var n=e.RegistrationView;Et=new n({parent:p("body"),isBonus:t&&!0===t.isBonus||!1,onFinish:t&&t.onFinish||m.noop,onClose:function(){return Et=null}})}).catch(function(t){Et=null}),setTimeout(function(){wt.getModule("risk_warning"),wt.getModule("leverage_selection")},0))}),f.on("ui:after-select-leverage-popup",function(t){xt||(xt=!0,wt.getModule("registration").then(function(e){var n=e.AfterSelectLeveragePopupView,i=e.AfterSelectLeveragePopupModel,r=new i(t),o=t&&t.onOK||m.noop;xt=new n({parent:p("body"),caption:__("leverage.popup.set.title.no_bonus"),isHeaderShowed:!0,model:r,onClose:function(){o(),xt=null}})}).catch(function(t){xt=null}))}),f.on("ui:medium-registration-completed",function(t){te||(te=!0,wt.getModule("medium_registration_completed").then(function(e){var n=e.MediumRegistrationCompletedView,i=e.MediumRegistrationCompletedModel,r=new i(t),o=t&&t.onOK||m.noop;te=new n({parent:p("body"),caption:__("leverage.popup.set.title.no_bonus"),isHeaderShowed:!0,model:r,onClose:function(){o(),te=null}})}).catch(function(t){te=null}))}),f.on("ui:risk-warning",function(t){Tt||(Tt=!0,wt.getModule("risk_warning").then(function(e){var n=e.DefaultRiskWarningView,i=e.RiskWarningModel,r=e.SpanishRiskWarningView,o=e.SpanishRiskWarningTradeView,s=e.CheckKnowledgeRiskWarningView,a=n,l=__("registration.popup.risk.notification");"spanish"===t.regulation&&"trade"===t.action?(a=o,l=__("risk.warning.popup.signature_title")):"spanish"===t.regulation?(a=r,l=__("spanish.regulation.widget.title")):t.checkKnowledge&&(a=s);var c=new i(t);Tt=new a({caption:l,parent:p("body"),model:c,onOK:t.onOK,onCancel:t.onCancel,onBack:t.onBack,onClose:function(){return Tt=null}})}).catch(function(t){Tt=null}))}),f.on("ui:leverage-selection",function(t){Ct||(Ct=!0,wt.getModule("leverage_selection").then(function(e){var n=e.LeverageSelectionView,i=e.LeverageSelectionModel,r=new i(t),o=t&&t.onClose||m.noop,s=t&&t.onOK||m.noop;r.on("change:statusOfLeverages",function(t,e){if("SUCCESS"===e)return r.canChangeLeverage()?void(Ct=new n({caption:__("leverage.popup.title"),parent:document.body,model:r,isHeaderShowed:!0,onOK:function(){s(),Ct=null},onButtonCloseClicked:function(){o(),Ct=null}})):s()})}).catch(function(t){Ct=null}))}),f.on("registration:complete",function(t){if(b.getUserData().isFullRegistrationCompleted())return t();var e=b.getUserScore(),n=b.getUserData().getCrmboCustomer(),i=["userId="+n.id,"password="+n.password,"scoreLevel="+e].join("&");return _t.completeFullRegistration(i).then(function(e){return T.trackSuccessClientRegistration(),b.getUserData().load().then(function(){return t()})})}),f.on("ui:change-language",function(t){var e=function(){return window.location.reload()};b.isLoggedIn()&&b.getUserCommonData().saveSelectedLanguage(t),y.setLanguage(t).then(e).catch(e)}),f.on("ui:instrument",function(t,e){if(g.getInstrumentBySymbol(t)){if(e){var n=L(window.store.getState(),t);store.dispatch(Q(n));var i=_.normalize(n,!0,"/");f.navigate("/trading"+i+t,{trigger:!1})}store.dispatch(et(vt)),store.dispatch(J(t)),store.dispatch(tt(t))}}),f.on("ui:price-alerts",function(t){var e="price-alerts"===b.getApplicationSettings().get("tabs:selectedTabName");f.navigate("/price-alerts/"+t,{replace:e})}),f.on("price-alerts:get-existed",c),p(window).on("price-alerts:new",r),p(window).on("price-alerts:navigate-to",s),p(window).on("price-alerts:get-existed",c),f.on("ui:create-price-alert",function(t){le&&le.destroy();var e=n(212),i=n(215),r=g.getInstrumentBySymbol(t,!0);if(r){var o=r.get("priceAlert");le=new i({parent:document.body,model:o||new e({instrumentId:r.getId()}),onClose:function(){le=null}})}}),f.on("ui:order-history",function(){f.navigate("/canceled-orders")}),f.on("ui:closed-positions",function(){f.navigate("/closed-positions")}),f.on("ui:account-settings",function(t){var e=n(1526);if(St)return St.setActiveTabById(t);St=new e({parent:document.body,tabId:t}),St.once("destroy",function(){St=null})}),f.on("ui:account-settings:close",function(){St&&St.close()}),f.on("ui:open-metatrader",function(t,e){if(Yt)return Yt;Yt=!0,wt.getModule("metatrader").then(function(n){var i=n.MetatraderPopupModel,r=n.MetatraderPopupView,o=new i,s=__("metatrader.accounts.title");if(t){var a=o.getTabById(t);s=__(a.title)}Yt=new r({model:o,parent:p("body"),caption:s,isHeaderShowed:!0,tabId:t,bonusesTab:e,onClose:function(){Yt=null}})}).catch(function(t){Yt=null})}),f.on("ui:deposit-message",function(t){new(n(710))({model:new(n(711))({depositInfo:t}),parent:document.body})}),f.on("ui:deposit-threshold-promotion",function(){var t=function(){if(b.isCustomerLevelGoalAlert()&&!b.isEligibleForMarketsX()){var t=b.getUserCurrencySymbol(),e=A(b.getUserTotalDeposits()).formatForeignCurrency(t,"0,0"),n=A(b.getAdditionalDepositForMarketX()).formatForeignCurrency(t,"0,0");b.getAdditionalDepositForMarketX()>0&&new M({parent:document.body,isHeaderShowed:!1,closeIconStyle:"grey",subHeader:__("promotion.popup.successful.deposit"),text:__("promotion.popup.total.deposit",e),messageContent:__("promotion.popup.meet.threshold",n),showLogo:!1,isMarketsXPromotion:b.isPromotionMarketsX(),nameClass:"marketsx-threshold",isLightTheme:I.isLightTheme(),isShowOkButton:!0})}};S.checkCustomerLevelsEnabled().then(function(e){e&&(b.isCustomerLevelGoalAlert()?t():b.getUserData().load().then(function(){return t()}))})}),f.on("ui:generate-report",function(t){var e=m.template(x.accountStatementURL),n=e({beginPeriod:t.beginPeriod,endPeriod:t.endPeriod,isToday:t.isToday}),i=window.open(n,"_blank");i.focus&&i.focus()}),f.on("flow:deposit",u("deposit")),f.on("flow:deposit:RealDepositMyAccount",u("deposit:RealDepositMyAccount")),f.on("flow:deposit:RealDepositItemMainMenu",u("deposit:RealDepositItemMainMenu")),f.on("flow:deposit:Registration",u("deposit:Registration")),f.on("flow:deposit:RealFundsManDeposit",u("deposit:RealFundsManDeposit")),f.on("flow:trading-tools",u("open_trading_tools")),f.on("flow:events-and-trade",u("open_events_trade")),f.on("ui:tip-ranks",function(){return S.checkTipranksEnabled().then(function(t){return t&&f.trigger("flow:tip-ranks")})}),f.on("flow:tip-ranks",u("open_tip_ranks")),f.on("ui:insiders",function(){return S.checkInsidersEnabled().then(function(t){return t&&f.trigger("flow:insiders")})}),f.on("flow:insiders",u("open_insiders")),f.on("ui:bloggers",function(){return S.checkBloggersEnabled().then(function(t){return t&&f.trigger("flow:bloggers")})}),f.on("flow:bloggers",function(){var t=yt.mobile()?"popup.mobile":"popup",e=yt.mobile()?_app.getContainer():_app.getPopupsPlaceholder();new(n(703)("./bloggers."+t+".view"))({parent:e})}),f.on("ui:hedgefunds",function(){return S.checkHedgeFundsEnabled().then(function(t){return t&&f.trigger("flow:hedgefunds")})}),f.on("flow:hedgefunds",function(){var t=yt.mobile()?"popup.mobile":"popup",e=yt.mobile()?_app.getContainer():_app.getPopupsPlaceholder();new(n(1604)("./hedgefunds."+t+".view"))({parent:e})}),f.on("ui:newsSentiment",function(){return S.checkNewsSentimentEnabled().then(function(t){return t&&f.trigger("flow:newsSentiment")})}),f.on("flow:newsSentiment",function(){wt.getModule("newsSentiment").then(function(t){new(0,t.initNewsSentimentView)({parent:yt.mobile()?p(".wrapper"):_app.getPopupsPlaceholder()})}).catch(function(t){})}),f.on("flow:webinars",function(){S.checkWebinarsEnabled().then(function(t){t&&wt.getModule("webinars").then(function(t){var e=t.default.initWebinarsView;if(e){var n=yt.mobile()?_app.getContainer():_app.getPopupsPlaceholder(),i=new e({parent:n,className:"webinars-wrapper popup-item",onClose:function(t){i.destroy(),i=null,!1!==t&&f.navigate("/")}});i.render()}}).catch(function(t){})})}),f.on("flow:blog",function(){S.checkBlogEnabled().then(function(t){t&&wt.getModule("blog").then(function(t){new(0,t.initBlogPopupView)({parent:yt.mobile()?_app.getContainer():_app.getPopupsPlaceholder()})}).catch(function(t){})})}),f.on("flow:webinar",function(t){S.checkWebinarsEnabled().then(function(e){e&&wt.getModule("webinars").then(function(e){var n=e.initWebinarView,i=e.initWebinarModel;b.getUserWebinarsModel().load(),b.getUserWebinarsModel().ready(function(e){var r=m.find(e.attributes.webinars,function(e){return e.id===t});if(!r)return void f.trigger("flow:webinars");var o=new i(r);if(m.isNull(o.getWebinarURL()))return void f.trigger("flow:webinars");new n({parent:_app.getMainBoxElement(),webinar:o})})}).catch(function(t){})})}),f.on("ui:change-leverage-disabled",u("popup_cant_change_leverage")),f.on("ui:new-position",function(t){if(!b.getUserData().isTradeEnabled())return void f.trigger("ui:message-box",{text:__("trading.contact_support.message")});var e=b.getUserCommonData().getOpenPositionMode(),i=g.getInstrumentById(t.symbolOrId);if(i=i||g.getInstrumentBySymbol(t.symbolOrId),i||f.trigger("ui:message-box",{text:__("instrument_not_found.message")}),!qt||e===W.INTERACTIVE&&yt.desktop()){de(t.source)&&(t.source=Backbone.history.fragment);var r=n(718),o=n(49),s=o.EMPTY,a=o.TYPE_MARKET,l=new r({symbol:i.getSymbol(),direction:t.direction,type:t.type||a,amount:t.quantity||s,takeProfit:t.tp||s,stopLoss:t.sl||s,submitButtonText:__("order.form.send_order"),entry:t.entry});if(e===W.ADVANCED||!yt.desktop()&&e===W.INTERACTIVE){var c=n(719);v.event("trade",function(){qt=new c({parent:document.body,caption:__("dialogs.open_position.title"),isHeaderShowed:!0,source:t.source,model:l}),qt.render(),qt.once("destroy",function(){l.destroy(),qt=null})})}else if(e===W.INTERACTIVE&&yt.desktop()){var u=n(1647);v.event("trade",function(){qt=new u({parent:document.body,caption:i.getDisplayName(),isHeaderShowed:!0,model:l,isDraggable:!yt.tablet()&&!yt.mobile(),isTranslucent:!1,draggableOptions:[-260,220,260,-220],closeIconStyle:"grey",headerStyle:"default",source:t.source}),qt.render(),qt.once("destroy",function(){l.destroy(),qt=null})})}else v.event("trade",function(){qt=n(1649).createNewPositionPopup(t),qt.once("destroy",function(){return qt=null})})}}),f.on("flow:login",function(){if(b.getUserLogin().needForcePasswordChange()){var t=n(1658);new t({parent:p("body"),onPasswordChanged:function(){return v.event("login")}})}else v.event("login")}),f.on("flow:verify",u("verify")),f.on("flow:withdraw",function(t){v.event("withdraw",null,t)}),f.on("flow:"+k.LEVERAGE,u("leverage")),f.on("flow:"+k.NOTIFICATIONS,u("notifications")),f.on("flow:"+k.PASSWORD,u("change_password")),f.on("sm",u()),f.on("user:data:updater:start",function(){n(1661).start()}),f.on("ui:banner",function(t){return P.showText(t)}),f.on("ui:banner:campaign",function(t){return P.showCampaign(t.text,t.handler,t.force)}),f.on("ui:banner-dummy",function(){return P.hide()}),f.on("ui:funds-management",function(){if(!$t){var t=n(738);$t=new t({parent:document.body,onClose:function(){return $t=null}})}}),f.on("ui:instruments:select-category",function(t,e){var n=g.getCategoryByPath(t);if(!n){var i=_.normalize(t,!0,"/");if(n=g.getCategoryByPath(i))t=i;else if(t=g.getFirstCategory().path,t=_.normalize(t,!0,"/"),!(n=g.getCategoryByPath(t)))return}if(!t)return void f.trigger("ui:instruments:select-instrument",e);ce().set({selectedCategoryPath:t}),f.trigger("ui:instruments:select-instrument",e),f.trigger("ui:instruments:category-selected",t,e)}),f.on("ui:instruments:select-instrument",function(t,e,n){t&&(b.getApplicationSettings().set({selectedInstrumentSymbol:t}),f.trigger("ui:instruments:instrument-selected",t,e,n))}),f.on("ui:instruments:instrument-selected",function(t){if(t){var e=R(window.store.getState(),t).split(gt.DOT),n={symbol:t,Category1:m.head(e),Category2:m.tail(e).join(gt.DOT)||mt};return __eventos("tradingPlatform:instrumentList:instrumentSelected",n)}}),f.on("ui:instruments:select-instrument-subrow",function(t,e,n){t&&(b.getApplicationSettings().set({selectedInstrumentSymbol:t}),f.trigger("ui:instruments:instrument-subrow-selected",t,e,n))}),f.on("ui:account-statement",function(){var t=n(1663);kt||(kt=new t({parent:document.body,hideCancelButton:!1,confirmOKBtnText:__("actions.generate"),confirmCancelBtnText:__("actions.close"),onOK:function(){return kt=null},onCancel:function(){return kt=null}}))}),f.on("ui:open-application-store",function(){var t=S.getIosAppStoreURL(),e=S.getAndroidStoreURL(),n=yt.android()?e:t,i=window.open(n,"_blank");i.focus&&i.focus()}),f.on("ui:close-position",function(t){if(!Pt){var e=t.get("positionCode");if(!pe.modifyPositions().has(e)){pe.closePositions().add(e);var i=n(1665),r=n(1667),o=n(14),s=fe(),a=o.getInstrumentById(t.get("instrumentId")),l=t.get("quantity")<0?"Sell":"Buy",c=new r({instrumentModel:a,type:l,direction:l,position:t});Pt=new i({model:c,parent:p("body"),caption:__("close.position.header"),isHeaderShowed:!0,closeIconStyle:"blue",headerBgStyle:"grey",headerStyle:"default",translucent:"1",zIndex:"auto",boxWidth:"",maxBoxWidth:"100%",isDraggable:s.isDraggable,isTranslucent:s.isTranslucent,showBoxShadow:!1,showHeader:!0,overlayTranslucent:"1",previousCaption:__("actions.back"),onPrevious:function(){},onNext:function(){},onClose:function(){Pt=null,pe.closePositions().remove(e)}})}}}),f.on("ui:edit-position",function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments[2];if(!b.getUserData().isTradeEnabled())return void f.trigger("ui:message-box",{text:__("trading.contact_support.message")});if(!Ot){var r=t.get("positionCode");if(!pe.closePositions().has(r)){pe.modifyPositions().add(r);var o=n(1668),s=n(806),a=n(14),l=fe(),c=a.getInstrumentById(t.get("instrumentId")),u=t.get("quantity")<0?"Sell":"Buy",d=new s({instrumentModel:c,type:u,direction:u,position:t}),h={parent:p("body"),boxWidth:"",model:d,caption:__("position.form.modifyPosition"),isHeaderShowed:!0,closeIconStyle:"blue",headerBgStyle:"grey",headerStyle:"default",translucent:"1",zIndex:"auto",maxBoxWidth:"100%",showBoxShadow:!1,showHeader:!0,overlayTranslucent:"1",previousCaption:__("actions.back"),isDraggable:l.isDraggable,isTranslucent:l.isTranslucent,simplified:e,onPrevious:function(){},onNext:function(){},onClose:function(){Ot=null,pe.modifyPositions().remove(r)}};Ot=new o(h),i&&(!1===i.stopLoss?Ot.disableStopLoss():i.stopLoss&&Ot.setStopLoss(i.stopLoss),!1===i.takeProfit?Ot.disableTakeProfit():i.takeProfit&&Ot.setTakeProfit(i.takeProfit))}}}),f.on("ui:edit-order",function(t,e){if(!b.getUserData().isTradeEnabled())return void f.trigger("ui:message-box",{text:__("trading.contact_support.message")});if(!It){var i=void 0,r=fe(),o=d(t),s=b.getUserCommonData().getOpenPositionMode()===W.ADVANCED,a=n(49),l=a.EMPTY;if(s){var c=n(1671);i=n(1672),It=new c({parent:document.body,caption:__("order.form.header.edit"),headerStyle:"default",isHeaderShowed:!0,isDraggable:r.isDraggable,isTranslucent:r.isTranslucent,model:new i({symbol:o.instrument.getSymbol(),type:String(t.get("type")).toLowerCase(),excludeTypes:["market"],direction:o.action,amount:o.quantity,entry:o.price,takeProfit:o.takeProfit||l,stopLoss:o.stopLoss||l,isSearchEnabled:!1,submitButtonText:__("actions.save"),refOrderChainId:t.getOrderChainId(),modifiedTime:t.get("modifiedTime"),time:t.get("time")})}),It.render(),It.once("destroy",function(){return It=null}),e&&(e.price&&It.setPrice(e.price),!1===e.stopLoss?It.disableStopLoss():e.stopLoss&&It.setStopLoss(e.stopLoss),!1===e.takeProfit?It.disableTakeProfit():e.takeProfit&&It.setTakeProfit(e.takeProfit))}else{var u=n(1673);i=n(807);var h=new i({instrumentModel:o.instrument,type:o.action,direction:o.action.toUpperCase(),order:o.order,takeProfit:o.takeProfit,stopLoss:o.stopLoss}),m={parent:p("body"),boxWidth:"",action:o.action,model:h,caption:__("order.form.header.edit"),isHeaderShowed:!0,closeIconStyle:"blue",headerBgStyle:"grey",headerStyle:"default",translucent:"1",zIndex:"auto",maxBoxWidth:"100%",showBoxShadow:!1,showHeader:!0,overlayTranslucent:"1",previousCaption:__("actions.back"),isDraggable:r.isDraggable,isTranslucent:r.isTranslucent,onPrevious:function(){},onNext:function(){},onClose:function(){return It=null}};It=new u(m),e&&(e.price&&It.setPrice(e.price),!1===e.stopLoss?It.disableStopLoss():e.stopLoss&&It.setStopLoss(e.stopLoss),!1===e.takeProfit?It.disableTakeProfit():e.takeProfit&&It.setTakeProfit(e.takeProfit))}}}),f.on("ui:cancel-order",function(t){if(!At){var e=n(22),i=n(51),r=d(t),o=__("cancel.order.confirmation",r.type,r.action,r.instrument.getSymbol(),r.price,r.quantity);At=new i({maxBoxWidth:"100%",parent:document.body,confirmCaption:__("order.form.confirmation.title.cancel"),confirmMessage:o,confirmOKBtnText:__("actions.confirm"),confirmCancelBtnText:__("actions.close"),zIndex:9999,onOK:function(){At=null,_t.orderCancel(e.getAtmosphereId(),r.order.get("orderChainId")).then(function(e){return t.trigger("ui:order-closed",t),Promise.resolve(e)}).catch(function(t){return Promise.reject(t)})},onCancel:function(){return At=null}})}}),f.on("ui:verification-center",function(){Mt||(Mt=!0,wt.getModule("verify").then(function(t){Mt=t({parent:p("body"),onClose:function(){return Mt=null}})}).catch(function(t){Mt=null}))}),f.on("ui:trading-announcement",function(){return window.open(__("link.trading_announcement"),"_blank").focus()}),f.on("ui:deposit",function(t){if(!zt){var e=n(9),i=n(97),r=n(56),o=function(){if(!zt){var t=n(882),e=n(883),i=new e;zt=new t({parent:p("body"),source:"test",model:i,onClose:function(){zt=null},onSuccess:function(){zt=null,f.trigger("ui:cashier",{amount:i.get("amount"),atmAmount:i.get("amount"),doFirstDeposit:!1})}})}},s=function(t){t=m.isObject(t)?t:{};var e=t.selectedAmount;if(t.status!==i.CANCELLED)return i.MANUAL_SELECT_AMOUNT===t.status?o():void f.trigger("ui:cashier",{amount:e,atmAmount:e})};if(e.isDepositAmountsEnabled())return f.trigger("ui:select-deposit-amount",t,s);s(r.MANUAL_DEPOSIT_AMOUNT_NEEDED()?{status:i.MANUAL_SELECT_AMOUNT}:{})}}),f.on("ui:cashier",function(t){if(t=m.isObject(t)?t:{},!b.getUserData().get("depositEnabled"))return void f.trigger("ui:message-box",{text:__("flow.popup.deposit_not_allowed.body"),isHeaderShowed:!1});if(!Lt){var e=n(437),i=e.DepositPopupView,r=n(1675);f.trigger("native-popups:block","cashier"),Lt=new i({parent:p("body"),model:new r({amount:t.amount,doFirstDeposit:t.doFirstDeposit,atmAmount:t.atmAmount,bonusApplied:t.bonusApplied}),message:t.message,onClose:function(){Lt=null,f.trigger("native-popups:release","cashier")}})}}),f.on("ui:cashier-for-withdraw",function(){f.trigger("ui:cashier",{message:__("withdraw.message.for.cashier")})}),f.on("ui:first-deposit",function(t){if(!Ft){var e=n(9),i=n(97);return e.isBonusesEnabled()&&b.getUserAwardsModel().isFirstDepositExists(b.getUserCurrency())?f.trigger("ui:first-deposit-bonus",t,function(e){e=m.isObject(e)?e:{};var n=e.selectedAmount,r=e.bonusApplied;if(i.CANCELLED!==e.status)return i.MANUAL_SELECT_AMOUNT===e.status?h(t,r):i.SELECTED===e.status?f.trigger("ui:cashier",{amount:n,atmAmount:n,doFirstDeposit:!0,bonusApplied:r}):void h(t)}):e.isDepositAmountsEnabled()?f.trigger("ui:select-deposit-amount",t,function(e){e=m.isObject(e)?e:{};var n=e.selectedAmount;if(i.CANCELLED!==e.status)return i.MANUAL_SELECT_AMOUNT===e.status?h(t):i.SELECTED===e.status?f.trigger("ui:cashier",{amount:n,atmAmount:n,doFirstDeposit:!0}):void h(t)}):void h(t)}}),f.on("ui:message-box:fail_deposit",function(){f.trigger("ui:message-box",{parent:p("body"),caption:__("state.machine.confirmation.deposit.failed"),text:__("verification_center.popup.need_help"),isHeaderShowed:!1})}),f.on("registration:filled",function(){f.trigger("sm","registration_filled"),f.trigger("gtm:full_registration");var t=b.getCustomerId();t&&E.trackDcmEvent("fullr",t),E.trackFBEvent("CompleteRegistration")}),f.on("ui:select-deposit-amount",function(t,e){if(!jt){var i=n(1680),r=n(1682),o=new r,s=function(){return ue(e)&&e(o.toJSON())};f.trigger("native-popups:block","select-deposit-amount"),jt=new i({parent:p("body"),model:o,onClose:function(){jt=null,f.trigger("native-popups:release","select-deposit-amount"),s()},onError:s,isHeaderShowed:!0,caption:__("depositDialog.header")})}}),f.on("ui:first-deposit-bonus",function(t,e){if(!Vt){var i=n(885),r=n(884),o=new r,s=function(){return ue(e)&&e(o.toJSON())};Vt=new i({parent:p("body"),model:o,onClose:function(){Vt=null,f.trigger("native-popups:release","first-deposit-bonus"),s()},onError:s,isHeaderShowed:!0,caption:__("deposit_bonus_table.popup.header")})}}),f.on("ui:tutorials",function(){if(!Nt){var t=n(1683);Nt=new t({parent:p("body"),onClose:function(){return Nt=null}})}}),f.on("ui:education",function(){if(!Dt){var t=n(1686);Dt=new t({parent:p("body"),onClose:function(){Dt=null}})}}),f.on("ui:message-box",function(t){if(!Bt){var e=t&&t.onClose;Bt=new M(he({},t,{onClose:function(){ue(e)&&e(),Bt=null},isHeaderShowed:!0===t.isHeaderShowed}))}}),f.on("ui:loading",function(t){if(!Ut){var e=n(30);Ut=new e(he({},{parent:p("body"),translucent:"2"},t))}}),f.on("ui:loading:hide",function(t){Ut&&(Ut.remove(),Ut=null)}),f.on("ui:confirm",function(t){if(!Gt){var e=n(51),i=m.isFunction(t.no)?t.no:m.noop;Gt=new e({parent:p("body"),confirmCaption:t.title,confirmMessage:t.text,confirmOKBtnText:t.textYes||__("yes"),confirmCancelBtnText:t.textNo||__("no"),onOK:function(){t.yes(),Gt=null},onCancel:function(){i(),Gt=null}})}}),f.on("ui:withdraw",function(t){f.trigger("ui:loading"),Promise.all([b.getUserData().load(),b.updateUserPendingDeposit()]).then(function(e){f.trigger("ui:loading:hide"),f.trigger("flow:withdraw",t)}).catch(function(t){f.trigger("ui:loading:hide")})}),f.on("ui:auto-withdrawal",function(t){Ht||(Ht=!0,wt.getModule("auto_withdrawal").then(function(e){var i=n(7),r=e.AutoWithdrawalModel,o=e.AutoWithdrawalView,s=new r(m.extend({},t,{pendingDeposits:i.getUserPendingDeposit()}));Ht=new o({parent:p("body"),caption:__("withdraw.title"),model:s,onClose:function(){return Ht=null}})}).catch(function(t){Ht=null}))}),f.on("funds:withdrawal:success",function(){return f.trigger("user:active_bonus:reload")}),f.on("funds:withdrawal:cancel",function(){return f.trigger("user:active_bonus:reload")}),f.on("funds:deposit:success",function(){return f.trigger("user:active_bonus:reload")}),f.on("ui:async-module:error",function(t){f.trigger("ui:message-box",{caption:__("errors.title"),text:__("generic.error.message")})}),f.on("ui:new-account",function(t){if(!Wt){var e=n(1688),i=e.NewAccountView,r=e.NewAccountModel,o=new r(m.extend({},t));Wt=new i({model:o,parent:_app.getMainBoxElement(),translucent:"no",nameClass:"auth-popup",onClose:function(){return Wt=null}})}}),f.on("ui:account-classification",function(t){if(S.isAccountClassificationEnabled()&&b.isElectiveProfessionalEnabled()){var e=n(1695),i=new e({parent:p("body")});i.once("destroy",function(){i=null})}}),f.on("login:success login:external:success",function(){__eventos("onBoardFlow:login:afterLoginAction"),f.trigger("app:reload:after:login")}),f.on("ui:insights",function(t){var e=n(1702),i=e.InsightsView,r=e.InsightsModel;new i({parent:document.body,model:new r({symbol:t})}).render()}),f.on("user:country:changed",function(){}),f.on("user:company:changed",function(){f.trigger("user:awards:reload"),f.trigger("user:leverage:reload")}),f.on("ui:trading-central",function(){new(n(1711))({parent:p("body")})}),f.on("favorites:add",function(t){b.updateUserFavorites(t,"add"),store.dispatch(it(t))}),f.on("favorites:remove",function(t){b.updateUserFavorites(t,"remove"),store.dispatch(rt(t))}),f.on("favorites:toggle",function(t){-1!==b.getUserFavoritesModel().indexOf(t)?f.trigger("favorites:remove",t):f.trigger("favorites:add",t)}),f.on("ui:signals",function(){if(!Xt){var t=n(1713);Xt=new t({parent:_app.getMainBoxElement()}),Xt.on("destroy",function(){return Xt=null}),Xt.render()}}),f.on("ui:economic-calendar",function(){if(!Kt){var t=n(1716);Kt=new t({parent:_app.getMainBoxElement()}),Kt.on("destroy",function(){return Kt=null}),Kt.render()}}),f.on("ui:news",function(t){var e=n(1721).default,i=n(414),r=i.openNewsPage,o=i.closeNewsPage;oe||(store.dispatch(r()),oe=new e({parent:_app.getPopupsPlaceholder(),className:"popup pane pane__fluid",selectedNewsId:t,onClose:function(t){store.dispatch(o()),oe.destroy(),oe=null,!1!==t&&f.navigate("/")}}),oe.render())}),f.on("user:bonus_requests:approve",function(){f.trigger("user:active_bonus:reload")}),f.on("user:bonus_requests:update",function(){if(!Zt){var t=n(1722);Zt=new t({parent:p("body"),model:b.getUserBonusRequests()}),Zt.once("destroy",function(){return It=null}),Zt.showBonusRequests()}}),f.on("ui:close:floating:open-positions",function(t){b.getApplicationSettings().floatingOpenPositionsEnabled(!1)}),f.on("ui:open:floating:open-positions",function(t){b.getApplicationSettings().floatingOpenPositionsEnabled(!0)}),f.on("ui:active-bonus-progress",function(){f.trigger("ui:bonus-progress")}),f.on("ui:menu:bonuses",function(t){f.trigger("ui:bonus-progress",t)}),f.on("ui:bonus-progress",function(t){Rt||(Rt=!0,wt.getModule("bonus_progress").then(function(e){var n=e.BonusProgressPopupModel,i=e.BonusProgressPopupView,r=new n(m.extend({},t,{}));Rt=new i({parent:p("body"),caption:__("bonus.popup.title"),model:r,onClose:function(){return Rt=null}})}).catch(function(t){Rt=null}))}),f.on("ui:retake-quiz",function(){if(S.isDemo()&&S.isMultipleQuizEnabled()&&O.LOW_SCORE()){var t=n(1727),e=new t({parent:p("body")});e.once("destroy",function(){e=null})}}),f.on("instrument:positions:close_all",function(t){if(!Qt){var e=g.getInstrumentBySymbol(t);if(e){var i=e.getPositions(),r=i&&m.map(i.models,function(t){return t&&String(t.getPositionCode())}),o=n(745),s=n(746);Qt=new s({parent:document.body,confirmCaption:__("positions.close_all.confirmation.title"),confirmOKBtnText:__("yes"),confirmCancelBtnText:__("no"),onClose:function(){return Qt=null},model:new o({positionCodes:r})}),Qt.render()}}}),f.on("positions:close_all",function(){if(!Qt){var t=n(58),e=m.map(t.getClosablePositions(),function(t){return t&&String(t.getPositionCode())}),i=n(745),r=n(746);Qt=new r({parent:document.body,confirmCaption:__("positions.close_all.confirmation.title"),confirmOKBtnText:__("yes"),confirmCancelBtnText:__("no"),onClose:function(){return Qt=null},model:new i({positionCodes:e})}),Qt.render()}}),f.on("orders:cancel_all",function(){if(!Jt){var t=n(108),e=m.map(t.getCancelableOrders(),function(t){return t&&String(t.getOrderChainId())}),i=n(747),r=n(749);Jt=new r({parent:document.body,confirmCaption:__("orders.cancel_all.confirmation.title"),confirmOKBtnText:__("yes"),confirmCancelBtnText:__("no"),onClose:function(){return Jt=null},model:new i({ids:e})}),Jt.render()}}),f.on("instrument:orders:cancel_all",function(t){if(!Jt){var e=g.getInstrumentBySymbol(t);if(e){var i=e.getOrders(),r=(n(108),m.map(i.models,function(t){return t&&String(t.getOrderChainId())})),o=n(747),s=n(749);Jt=new s({parent:document.body,confirmCaption:__("orders.cancel_all.confirmation.title"),confirmOKBtnText:__("yes"),confirmCancelBtnText:__("no"),onClose:function(){return Jt=null},model:new o({ids:r})}),Jt.render()}}}),f.on("settings:update",function(t){var e=t||{},n=e.position_mode,i=e.trading_view,r=e.timezone_id,o=e.timezone_offset,s=e.timezone_gmt,a=e.timezone_name,l=e.platform_type_popup,c=b.getUserCommonData(),u=c.getOpenPositionMode(),d=c.getTradingViewMode(),h=c.getUserTimezoneObject().id;l&&S.set(pt,l),n&&n!==u&&c.saveOpenPositionMode(n),i&&i!==d&&c.saveTradingViewMode(i),r&&r!==h&&(c.saveUserTimezoneId(r),c.setUserTimezoneObject({id:r,offset:o,gmt:s,displayName:a}))}),f.on("ui:chart-indicator-settings:show",function(){n(413).showIndicatorsSettings(void 0)}),f.on("chart:display:hide",function(){store.dispatch(B()),setTimeout(function(){return f.trigger("ui:chart:reflow")},0)}),f.on("chart:display:show",function(){store.dispatch(U()),setTimeout(function(){return f.trigger("ui:chart:reflow")},0)}),f.on("ui:chart:fullscreen-out",function(){store.dispatch(j(H))}),f.on("ui:chart:fullscreen-in",function(){store.dispatch(j(G))}),f.on("ui:chart:minimize-in",function(){store.dispatch(j(V))}),f.on("ui:chart:minimize-out",function(){store.dispatch(j(H))}),f.on("ui:open-instrument-details",function(t){f.trigger("ui:instrument",t),setTimeout(function(){return f.trigger("ui:chart:reflow")},0)}),f.on("ui:close-instrument-details",function(){ee&&(ee.destroy(),ee=null),store.dispatch(Z()),setTimeout(function(){return f.trigger("ui:chart:reflow")},0)}),f.on("open-check-knowledge",function(){var t=b.getUserData().getCrmboCustomer().id,e=y.getCurrentLanguageFullName(),n=S.getCheckKnowledgeLink();if(!m.isEmpty(n)){var i=window.open(C.stringInject(n,[t,e]),"_blank");i.focus&&i.focus()}f.trigger("platform:switch","demo")}),f.on("mobile:header:update",function(t){var e=n(87),i=e.updateHeader;store.dispatch(i(t))}),f.on("ui:events-and-trade",function(){ne&&(ne.destroy(),ne=null);var t=yt.mobile()?"popup.mobile":"popup",e=_app.getPopupsPlaceholder();ne=new(n(1739)("./events.trade."+t+".view"))({parent:e})}),f.on("ui:commentary",function(t){var e=n(1748).default,i=n(186),r=i.openCommentaryPage,o=i.closeCommentaryPage,s=i.selectCommentary;ie?store.dispatch(s(t)):(store.dispatch(r()),ie=new e({parent:_app.getPopupsPlaceholder(),className:"popup pane pane__fluid",uriCommentaryId:t,onClose:function(t){store.dispatch(o()),ie.destroy(),ie=null,!1!==t&&f.navigate("/")}}),ie.render())}),f.on("ui:webinar:watch",function(t){var e=b.getUserData().getCrmboCustomer().id,i=store.getState().webinars.eventsMap[t],r=n(706).default,o=r.initWebinarModel,s=r.initWebinarView,l=o(a({},i));re&&re.destroy(),re=s({parent:p("body"),webinar:l,onClose:function(){return re=null}}),_t.watchWebinar(e,t)}),f.on("eye-catcher:close",function(t){var e=t.source,n=t.duration;switch(e){case"platform":return f.trigger("eventos","onBoardFlow:eyeCatcher:clkClosePlt",{duration:n});case"registration":return f.trigger("eventos","onBoardFlow:eyeCatcher:clkCloseReg",{duration:n})}}),f.on("eye-catcher:click",function(t){var e=t.source,n=t.duration;switch(e){case"platform":return f.trigger("eventos","onBoardFlow:eyeCatcher:clkEyeChPlt",{duration:n});case"registration":return f.trigger("eventos","onBoardFlow:eyeCatcher:clkEyeChReg",{duration:n})}}),f.on("ui:balloon",function(t){var e=t.title,i=t.body;n(297).show({title:e,body:i})}),f.on("ui:platformtype",function(t){var e=t.success,i=t.cancel,r=n(1749);new r({parent:document.body,success:e,cancel:i})}),f.on("ui:acuity-trading",function(){var t=n(1751).default;se&&se.destroy(),se=new t({parent:_app.getPopupsPlaceholder(),onClose:function(t){se.destroy(),se=null,t&&f.navigate("/")}}),se.render()}),f.on("ui:connection-lost",function(){f.trigger("ui:message-box",{parent:document.body,caption:__("socket.connection.lost"),isHeaderShowed:!1,text:"",onOK:function(){window.location.reload()},okBtnText:__("socket.reconnect")})}),f.on("ui:inactivity-confirmation",function(){return new(n(51))({parent:document.body,confirmCaption:__("inactivity.confirmation.title"),confirmMessage:__("inactivity.confirmation.text"),confirmOKBtnText:__("yes"),confirmCancelBtnText:__("no"),zIndex:9999,onOK:function(){f.trigger("user:session:confirm-activity")},onCancel:function(){f.trigger("user:session:close")}})}),f.on("ui:signout",function(){return new(n(51))({parent:document.body,confirmCaption:__("logout.confirmation.title"),confirmMessage:__("logout.confirmation.text"),confirmOKBtnText:__("yes"),confirmCancelBtnText:__("no"),zIndex:9999,onOK:function(){f.trigger("user:session:close")}})}),f.on("ui:file-compliant",function(){return new(n(51))({parent:document.body,hideCancelButton:!0,showHeader:!1,confirmCaption:__("help_complaint.menu"),confirmMessage:__("help_complaint.popup.message"),confirmOKBtnText:__("ok")})}),f.on("ui:legal-documents",function(){var t=n(1809);if(!S.isLegalDocumentsOpenNewTab())return new t;var e=window.open(__("link.legal_documents"),"_blank");e.focus&&e.focus()}),f.on("ui:help-center",function(){if(!S.isFaqOpenNewTabEnabled()){return new(n(1811))({isHeaderShowed:!0,caption:__("faq.menu.title"),previousCaption:__("actions.back"),parent:p("body"),closeIconStyle:"blue",headerBgStyle:"grey",zIndex:"auto",maxBoxWidth:"100%",showBoxShadow:!1,showHeader:!0,headerStyle:"wizard"})}var t=window.open(__("link.faq"),"_blank");t.focus&&t.focus()}),f.on("user:session:expired",function(){var t=n(1813);setTimeout(function(){return new t({position:"fixed",parent:document.body,onLogin:function(){b.getSessionModel().clear(),window.location.reload()}})},ft)}),f.on("ui:notification-center:open",function(){var t=n(1815).default.initNotificationCenterView;ae&&ae.destroy(),ae=new t({parent:_app.getPopupsPlaceholder(),onClose:function(){ae.destroy(),ae=null}}),ae.render()}),f.on("ui:notification-center:close",function(){ae&&(ae.destroy(),ae=null)}),f.on($,function(){var t=p(document).find("#new-advanced__side-nav")[0],e=p(document).find("#new-advanced__instrument-details")[0],n=p(document).find("header.header-box")[0];(t||e)&&Y.introJs().setOptions({nextLabel:__("tipranks.text.slide_next"),prevLabel:__("tipranks.text.slide_prev"),doneLabel:__("actions.done"),skipLabel:" ",steps:[{element:t,intro:__("flow.on-boarding.text.slide_1_text"),position:"right"},{element:e,intro:__("flow.on-boarding.text.slide_2_text"),position:"left"},{element:n,intro:__("flow.on-boarding.text.slide_3_text"),position:"bottom-middle"}]}).start()})}.call(e,n,e,t))&&(t.exports=s)}).call(e,n(0),n(5))},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var r=n(0),o=n(5),s=n(1485);i.exports={views:[],_isReady:!1,_hasText:!1,_isCampaign:!1,handler:null,initialize:function(){var t=this;this._isReady||(this.views=r.map(o(".notification-box"),function(e){return new s({el:e,bannerDriver:t})}),this._isReady=!0)},setText:function(t){this.removeHandler(),r.each(this.views,function(e){return e.message(t)}),this._hasText=!0},showText:function(t){this.initialize(),this.hasNoCampaign()&&this.setText(t)},hide:function(){this.removeHandler(),r.each(this.views,function(t){return t.hide()}),this._hasText=!1,this._isCampaign=!1},showCampaign:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(this.hasNoText()||n)&&(this.initialize(),this.setText(t),this.setHandler(e),this._isCampaign=!0)},hasNoText:function(){return!this._hasText},hasNoCampaign:function(){return!this._isCampaign},setHandler:function(t){r.isFunction(t)&&(this.handler=t)},removeHandler:function(){this.haveHandler()&&(this.handler=null)},haveHandler:function(){return!r.isNull(this.handler)&&r.isFunction(this.handler)}}}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(0),s=n(12),a=n(15),l=n(2);i.exports=s.extend({template:o.template(n(1486)),bannerDriver:null,events:function(){return o.extend({},o.result(s.prototype,"event"),{"click .notification-panel":"onClick"})},initialize:function(t){s.prototype.initialize.apply(this,arguments),this.bannerDriver=t.bannerDriver,this.toggleVisibility=this.toggleVisibility.bind(this),window.addEventListener("orientationchange",this.toggleVisibility,!1)},toggleVisibility:function(){if(a.mobile()){window.matchMedia("(orientation: portrait)").matches?this.$el.removeClass("hidden"):this.$el.addClass("hidden")}},destroy:function(){document.removeEventListener("orientationchange",this.toggleVisibility),s.prototype.destroy.call(this)},show:function(){var t=this;this.$el.fadeIn({duration:800,complete:function(){return t.$el.removeClass("hidden")}})},hide:function(){var t=this;this.$el.fadeOut({duration:800,complete:function(){return t.$el.addClass("hidden")}})},message:function(t){this.show(),this.render(t)},render:function(t){this.$el.html(r(this.template({text:t})))},onClick:function(){this.bannerDriver.haveHandler()?this.bannerDriver.handler.call():l.trigger("sm","banner_click")}})}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports='<div class="notification-panel"><div class="arrow"></div><div class="icon-block"><div class="icon-content"><div class="icon-bell"></div></div></div><div class="text"><%= text %></div></div>'},function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0!==(r=function(t,e,r){var s=n(9),a=n(2),l=function(){function t(){i(this,t),this.registry={registration:function(){return n.e(21).then(n.bind(null,1912))},risk_warning:function(){return n.e(39).then(n.bind(null,1913))},leverage_selection:function(){return n.e(53).then(n.bind(null,1914))},auto_withdrawal:function(){return n.e(33).then(n.bind(null,1915))},verify:function(){return s.isCreditCardFastVerificationEnabled()?n.e(38).then(n.bind(null,1916)):n.e(37).then(n.bind(null,1917))},webinars:function(){return new Promise(function(t){t()}).then(n.bind(null,706))},newsSentiment:function(){return n.e(45).then(n.bind(null,1918))},blog:function(){return n.e(51).then(n.bind(null,1919))},medium_registration_completed:function(){return n.e(52).then(n.bind(null,1920))},bonus_progress:function(){return n.e(40).then(n.bind(null,1921))},metatrader:function(){return n.e(32).then(n.bind(null,1922))}}}return o(t,[{key:"getModule",value:function(t){return this.registry[t]?(a.trigger("ui:loading"),this.registry[t]().then(function(t){return a.trigger("ui:loading:hide"),Promise.resolve(t)}).catch(function(t){return a.trigger("ui:loading:hide"),a.trigger("ui:async-module:error"),Promise.reject(t)})):Promise.reject()}}]),t}();r.exports=new l}.call(e,n,e,t))&&(t.exports=r)},,,,,,,,,,,,,,,,function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(0),s=n(2),a=n(12),l=n(708),c=Object.assign({},l,{template:o.template(n(1508)),events:{"click .webinars-top .fn-close-popup":"close","click .fn-join":"join","click .fn-watch":"watch","click .fn-reg":"register"},tagName:"div",className:"webinars-wrapper",initialize:function(t){var e=this;t.isMinimizable=!0,t.isTranslucent=!1,a.prototype.initialize.apply(this,arguments),s.trigger("ui:webinar:close"),this.listenTo(s,"ui:header-itemclick",this.close),this.listenTo(s,"ui:instrument:change",this.close),this.listenTo(s,"ribbon:update",this.updateContentHeight),r(window).on("resize.insider",function(){return e.updateContentHeight()}),this.loadWebinars(),this.reload=setInterval(function(){e.loadWebinars()},this.refreshTime)},close:function(){s.trigger("ui:chart:update-size"),r(window).off("resize.webinars"),clearInterval(this.reload),s.navigate("/"),this.destroy()},render:function(){a.prototype.render.call(this);var t=0;return this.upcoming_webinars&&(t=o.reduce(this.upcoming_webinars.models,function(t,e){return e.isUpcoming()&&!e.isActive()&&(t+=1),t},0)),this.$el.html(this.template({upcoming_webinars:this.upcoming_webinars&&this.upcoming_webinars.models,past_webinars:this.past_webinars&&this.past_webinars.models,futureWebinarsNum:t})),__eventos("learn:webinars:impression",{}),this.updateContentHeight(),this},watch:function(t){var e=r(t.currentTarget).attr("data-id");s.trigger("ui:webinar:watch",e)},updateContentHeight:function(){var t=210;r(".ribbon-notification").length>0&&r(".ribbon-notification")[0].clientHeight&&(t+=r(".ribbon-notification")[0].clientHeight);var e=document.documentElement.clientHeight-t;this.$el.find(".content-block").css("height",e+"px")}});i.exports=a.extend(c)}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){function i(t){return n(r(t))}function r(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./education.png":859,"./end_of_day.png":860,"./midday_report.png":861,"./morning_call.png":862,"./morning_report.png":863,"./question_answer.png":864,"./special_events.png":865,"./sunday_preview.png":866};i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id=1504},function(t,e){t.exports='<div class="webinar-view <%if(isMobile){%>webinar-mobile-view<%}%>"><div class="webinar-content"><div class="video"><iframe src="<%=webinar.getWebinarURL()%>" frameborder="0" scrolling="no" allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen></iframe></div><div class="info"><div><div class="time"><%=webinar.getWebinarStartTime()%></div><div class="title"><%=webinar.getWebinarTitle()%></div><div class="bottom-details"><div class="hosted-by"><img src="<%=webinar.getWebinarPresenterImg()%>"><div><div><%=__(\'webinars.hosted.by\')%>: <%=webinar.getWebinarPresenterName()%></div><div><%=webinar.getWebinarPresenterTitle()%></div></div></div><div class="other-details"><div class="language"><span class="icon-lang-<%=webinar.getWebinarLanguage()%>"></span> <span><%=__(\'language.\' + webinar.getWebinarLanguage())%></span></div><div class="duration"><span class="icon-watch"></span> <span><%=webinar.getWebinarDuration()%> <%=__(\'webinars.duration.minutes\')%></span></div></div></div> <%if (!isMobile) {%> <div class="disclaimer"><span><%=__(\'webinar.disclaimer.short\')%>&nbsp;<a href="#"><%=__(\'read.more\')%></a></span><span class="hidden"><%=__(\'webinar.disclaimer.long\')%>&nbsp;<a href="#"><%=__(\'close\')%></a></span></div> <%}%> </div></div></div> <% if (webinar.isActive()) {%> <div class="questions"><div class="chat"><div class="chat-header clearfix"><div class="chat-about"><i class="icon-ask-a-question"></i> <span><%= __(\'webinar.chat.ask.question\')%></span></div></div><div class="chat-history"><ul></ul></div><div class="chat-message clearfix"><textarea name="message-to-send" id="message-to-send" placeholder="<%=__(\'webinar.chat.type.message\')%>" rows="3"></textarea><i class="icon-send-message"></i></div></div></div> <%}%> <%if (isMobile) {%> <div class="disclaimer"><span><%=__(\'webinar.disclaimer.short\')%>&nbsp;<a href="#"><%=__(\'read.more\')%></a></span><span class="hidden"><%=__(\'webinar.disclaimer.long\')%>&nbsp;<a href="#"><%=__(\'close\')%></a></span></div> <%}%> </div>'},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=(n(2),n(24)),s=n(6),a=r.template(n(1507)),l=n(7),c=n(30),u=n(9),d=n(15),h=o.extend({initialize:function(t){o.prototype.initialize.apply(this,arguments),this.webinarId=t.webinarId,this.feedbackSent=!1,this.render()},events:function(){return r.extend({},r.result(o.prototype,"events"),{"click .fn-feedback":"addFeedback","keyup .review textarea":"updateCounter"})},getOptions:function(t){return r.extend({},r.result(o.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("webinar.leave.feedback"),previousCaption:__("actions.back"),closeIconStyle:"grey",headerStyle:"wizard"},t)},addFeedback:function(){var t=this.$el.find("textarea").val();t.length>u.getWebinarsFeedbackMaxLength()&&(t=t.substring(0,u.getWebinarsFeedbackMaxLength()-1));var e=this.$el.find('input[name="rating"]:checked').val()||0;return this.createLoadingView(),this.sendFeedback(t,e,!0)},addFeedbackOnClose:function(){return this.sendFeedback("",-1,!1)},sendFeedback:function(t,e,n){var i=this,r=l.getUserData().getCrmboCustomer().id;return s.webinarFeedback(r,this.webinarId,t,e).then(function(t){if(t.data.error)return Promise.reject();localStorage.setItem("webinar"+i.webinarId,!0),n&&(i.feedbackSent=!0,i.destroyLoadingView(),i.$el.find(".webinars-feedback-view").addClass("hidden"),i.$el.find(".webinars-feedback-thankyou").removeClass("hidden"))})},updateCounter:function(t){var e=t.currentTarget.value.length,n=this.$el.find(".errors-block"),i=this.$el.find(".btn");this.$el.find(".chars-num").html(e),t.currentTarget.value.length>u.getWebinarsFeedbackMaxLength()?(n.removeClass("invisible"),i.addClass("disabled")):n.hasClass("invisible")||(n.addClass("invisible"),i.removeClass("disabled"))},render:function(){return o.prototype.render.call(this),this.setContent(a({theme:document.documentElement.getAttribute("theme"),isMobile:d.mobile()})),this},close:function(){this.feedbackSent||this.addFeedbackOnClose(),o.prototype.close.call(this)},createLoadingView:function(){this.loadingView=new c({parent:this.$el.find(".webinars-feedback-view"),position:"absolute"})},destroyLoadingView:function(){this.loadingView&&(this.loadingView.destroy(),this.loadingView=null)}});i.exports=h}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<div class="webinars-feedback-view <%if(isMobile){%>webinars-feedback-mobile-view<%}%>"><div class="title"><%= __(\'webinar.feedback.rate\')%></div><div class="rating"><div class="stars"><input type="radio" id="star5" name="rating" value="5"><label for="star5"></label><input type="radio" id="star4" name="rating" value="4"><label for="star4"></label><input type="radio" id="star3" name="rating" value="3"><label for="star3"></label><input type="radio" id="star2" name="rating" value="2"><label for="star2"></label><input type="radio" id="star1" name="rating" value="1"><label for="star1"></label></div></div><div class="review"><textarea placeholder="<%=__(\'webinar.feedback.default.text\')%>"></textarea><div><div class="errors-block invisible"><%=__(\'webinar.feedback.max.characters\')%></div><div class="chars-num">0</div></div></div><a class="btn btn-primary btn-block fn-feedback" href="#"><div class="button-container"><span><%=__(\'webinar.feedback.send\')%></span></div></a></div><div class="webinars-feedback-thankyou <%if(isMobile){%>webinars-feedback-mobile-thankyou<%}%> hidden"><div><i class="icon-feedback-thankyou-<%-theme%>"></i><div><%=__(\'webinar.feedback.thankyou\')%></div></div></div>'},function(t,e){t.exports='<div class="content-block"><div class="current-webinars"> <%_.each(upcoming_webinars, function(webinar) {%> <div class="webinar <%if(webinar.isActive()){%>active<%}%>"><div class="webinar-content"><div class="webinar-logo"><img src="<%=webinar.getWebinarImg()%>" class="webinar-logo__img"> <%if(webinar.webinarIsPremium()) {%> <span class="icon-premium-badge webinar-logo__badge"> <%}%> </div><div><div class="time"><%=webinar.getWebinarTime()%></div><div class="title"><%=webinar.getWebinarTitle()%></div><div class="hosted-by"><img src="<%=webinar.getWebinarPresenterImg()%>"><div><div><%=__(\'webinars.hosted.by\')%>: <%=webinar.getWebinarPresenterName()%></div><div><%=webinar.getWebinarPresenterTitle()%></div></div></div></div><div><div class="details"><%= __(\'webinars.details\')%>:</div><div class="description"><%=webinar.getWebinarDescription()%></div><div class="language"><span class="icon-lang-<%=webinar.getWebinarLanguage()%>"></span> <span><%=__(\'language.\' + webinar.getWebinarLanguage())%></span></div><div class="duration"><span class="icon-watch"></span> <span><%=webinar.getWebinarDuration()%> <%=__(\'webinars.duration.minutes\')%></span></div></div><div><div class="button"> <%if(webinar.isActive()) {%> <a class="btn btn-primary btn-block fn-join" data-id="<%=webinar.getWebinarId()%>"><div class="button-container"><span> <%=__(\'webinars.join.us\')%> </span></div></a> <%}else{%> <a class="btn btn-primary btn-block fn-reg" data-id="<%=webinar.getWebinarId()%>"><div class="button-container"><span> <%if(webinar.isRegistered()) {%> <%=__(\'webinars.unregister\')%> <%} else {%> <%=__(\'webinars.register\')%> <%}%> </span></div></a> <%}%> </div> <%if(!webinar.isActive()) {%> <div class="calendar"><div> <%=__(\'webinars.add.to.calendar\')%>:</div><div><a class="icon icon-google" target="_blank" href="<%=webinar.getWebinarGoogleCalendarLink()%>"></a> <a class="icon icon-outlook" target="_blank" href="<%=webinar.getWebinarOutlookCalendarLink()%>"></a></div></div> <%}%> </div></div></div> <%})%> <%if(futureWebinarsNum == 0) {%> <div class="no-future-webinars"><span class="icon icon-future-webinars"></span><div><%=__(\'webinars.no.future.webinars\')%></div></div> <%}%> </div><div class="past-webinars webinars-calendar-right"><div class="webinars-title"><%=__(\'webinars.past.webinars\')%></div> <%if (!_.isUndefined(past_webinars) && past_webinars.length > 0) {%> <%_.each(past_webinars, function(webinar) {%> <div class="webinar"><div class="webinar-content"><div><div class="time"><%=webinar.getWebinarTime()%></div><div class="title"><%=webinar.getWebinarTitle()%></div><div class="hosted-by"><img src="<%=webinar.getWebinarPresenterImg()%>"><div><div><%=__(\'webinars.hosted.by\')%>: <%=webinar.getWebinarPresenterName()%></div><div><%=webinar.getWebinarPresenterTitle()%></div></div></div></div><div><div class="details"><%= __(\'webinars.details\')%>:</div><div class="description"><%=webinar.getWebinarDescription()%></div><div class="bottom-block"><div><div class="language"><span class="icon-lang-<%=webinar.getWebinarLanguage()%>"></span> <span><%=__(\'language.\' + webinar.getWebinarLanguage())%></span></div><div class="duration"><span class="icon-watch"></span> <span><%=webinar.getWebinarDuration()%> <%=__(\'webinars.duration.minutes\')%></span></div></div><div><div class="button"><a class="btn btn-primary btn-block <%if(webinar.getWebinarURL()){%>fn-watch<%}else{%>disabled<%}%>" data-id="<%=webinar.getWebinarId()%>"><div class="button-container"><span> <%=__(\'webinars.watch\')%> </span></div></a></div></div></div></div></div></div> <%})%> <%} else {%> <div class="no-past-webinars"><span class="icon icon-past-webinars"></span><div><%=__(\'webinars.no.past.webinars\')%></div></div> <%}%> </div></div>'},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(0),s=n(2),a=n(24),l=n(6),c=n(7),u=n(374),d=o.template(n(1510)),h=n(708),p=Object.assign({},h,{initialize:function(t){var e=this;a.prototype.initialize.apply(this,arguments),s.trigger("ui:webinar:close"),this.loadWebinars(),this.reload=setInterval(function(){e.loadWebinars()},this.refreshTime)},events:function(){return o.extend({},o.result(a.prototype,"events"),{"click .webinars-top .fn-close-popup":"close","click .fn-join":"join","click .fn-watch":"watch","click .fn-reg":"register","click .tab":"changeTab"})},changeTab:function(t){this.$el.find(".tab").removeClass("active"),this.$el.find(".webinars-block").addClass("hidden"),r(t.currentTarget).addClass("active");var e=Array.prototype.indexOf.call(t.currentTarget.parentElement.children,t.currentTarget);r(this.$el.find(".webinars-block").get(e)).removeClass("hidden")},getOptions:function(t){return o.extend({},o.result(a.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("menu.webinar"),previousCaption:__("actions.back"),headerStyle:"wizard",bodyStyle:"webinars-mobile",headerCaptionStyle:"webinars-mobile-header"},t)},close:function(){clearInterval(this.reload),a.prototype.close.call(this),this.destroy()},render:function(){a.prototype.render.call(this);var t=void 0;return this.upcoming_webinars&&(t=o.reduce(this.upcoming_webinars.models,function(t,e){return e.isUpcoming()&&!e.isActive()&&(t+=1),t},0)),this.setContent(d({upcoming_webinars:this.upcoming_webinars.models,past_webinars:this.past_webinars.models,futureWebinarsNum:t})),__eventos("learn:webinars:impression",{}),this},watch:function(t){var e=c.getUserData().getCrmboCustomer().id,n=r(t.currentTarget).attr("data-id"),i=o.find(this.past_webinars.models,function(t){return t.getWebinarId()==n}),s=new u({parent:r("body"),webinar:i,onClose:function(){return s=null}});return l.watchWebinar(e,n).then(function(t){if(t.data.error)return Promise.reject()})}});i.exports=a.extend(p)}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports='<div class="webinars-wrapper-mobile"><div class="webinars-mobile"><div class="webinars-tabs"><div class="tab tab-current-webinars active"><%=__(\'webinars.header\')%></div><div class="tab tab-past-webinars"><%=__(\'webinars.past.webinars\')%></div></div><div class="content-block"><div class="webinars-block current-webinars"> <%_.each(upcoming_webinars, function(webinar) {%> <div class="webinar"><div class="webinar-logo"><img src="<%=webinar.getWebinarImg()%>" class="webinar-logo__img"> <%if(webinar.webinarIsPremium()) {%> <span class="icon-premium-badge webinar-logo__badge"> <%}%> </div><div class="webinar-data <%if(webinar.isActive()){%>active<%}%>"><div class="time"><%if(webinar.isActive()){%><%=__(\'webinars.now\')%><%}else{%><%=webinar.getWebinarTime()%><%}%></div><div class="title"><%=webinar.getWebinarTitle()%></div><div class="hosted-by"><img src="<%=webinar.getWebinarPresenterImg()%>"><div><div><%=__(\'webinars.hosted.by\')%>: <%=webinar.getWebinarPresenterName()%></div><div><%=webinar.getWebinarPresenterTitle()%></div></div></div><div class="language-duration"><div class="language"><span class="icon-lang-<%=webinar.getWebinarLanguage()%>"></span> <span><%=__(\'language.\' + webinar.getWebinarLanguage())%></span></div><div class="duration"><span class="icon-watch"></span> <span><%=webinar.getWebinarDuration()%> <%=__(\'webinars.duration.minutes\')%></span></div></div><div class="btns"><div class="calendar"><div> <%if(!webinar.isActive()) {%> <a class="icon icon-google" target="_blank" href="<%=webinar.getWebinarGoogleCalendarLink()%>"></a> <a class="icon icon-outlook" target="_blank" href="<%=webinar.getWebinarOutlookCalendarLink()%>"></a> <%}%> </div></div><div class="button"> <%if(webinar.isActive()) {%> <a class="btn btn-primary btn-block fn-join" data-id="<%=webinar.getWebinarId()%>"><div class="button-container"><span> <%=__(\'webinars.join.us\')%> </span></div></a> <%}else{%> <a class="btn btn-primary btn-block fn-reg" data-id="<%=webinar.getWebinarId()%>"><div class="button-container"><span> <%if(webinar.isRegistered()) {%> <%=__(\'webinars.unregister\')%> <%} else {%> <%=__(\'webinars.register\')%> <%}%> </span></div></a> <%}%> </div></div></div></div> <%})%> <%if(futureWebinarsNum == 0) {%> <div class="no-future-webinars"><span class="icon icon-future-webinars"></span><div><%=__(\'webinars.no.future.webinars\')%></div></div> <%}%> </div><div class="webinars-block past-webinars hidden"> <%if (!_.isUndefined(past_webinars) && past_webinars.length > 0) {%> <%_.each(past_webinars, function(webinar) {%> <div class="webinar"><div class="webinar-data"><div class="time"><%if(webinar.isActive()){%><%=__(\'webinars.now\')%><%}else{%><%=webinar.getWebinarTime()%><%}%></div><div class="title"><%=webinar.getWebinarTitle()%></div><div class="hosted-by"><img src="<%=webinar.getWebinarPresenterImg()%>"><div><div><%=__(\'webinars.hosted.by\')%>: <%=webinar.getWebinarPresenterName()%></div><div><%=webinar.getWebinarPresenterTitle()%></div></div></div><div class="past-bottom"><div class="language-duration"><div class="language"><span class="icon-lang-<%=webinar.getWebinarLanguage()%>"></span> <span><%=__(\'language.\' + webinar.getWebinarLanguage())%></span></div><div class="duration"><span class="icon-watch"></span> <span><%=webinar.getWebinarDuration()%> <%=__(\'webinars.duration.minutes\')%></span></div></div><div class="btns"><div class="button"><a class="btn btn-primary btn-block <%if(webinar.getWebinarURL()){%>fn-watch<%}else{%>disabled<%}%>" data-id="<%=webinar.getWebinarId()%>"><div class="button-container"><span> <%=__(\'webinars.watch\')%> </span></div></a></div></div></div></div></div> <%})%> <%} else {%> <div class="no-past-webinars"><span class="icon icon-past-webinars"></span><div><%=__(\'webinars.no.past.webinars\')%></div></div> <%}%> </div></div></div></div>'},function(t,e){t.exports='<div class="deposit-popup"> <% if (options.message) { %> <div class="deposit-message"><%=options.message%></div> <% } %> <form id="deposit-frame-form" target="deposit-frame" method="POST"></form><iframe id="deposit-frame" name="deposit-frame" style="visibility: hidden"></iframe></div>'},function(t,e){t.exports='<div class="caption"><%=options.confirmCaption%></div><div class="message"><%=options.confirmMessage%></div> <% if (options.isShowCheckbox === true) { %> <br><div class="form"><div class="field field-type-checkbox"><div class="checkbox-row"><input type="checkbox" id="checkbox" name="checkbox"><label for="checkbox"><span class="checkbox_label_inline"><%=options.checkboxMessage%></span></label></div></div></div> <% } %>'},function(t,e){t.exports='<div class="deposit-first-popup-body"><div class="top"><div class="header"><span> <%=__(\'depositDialog.header\')%> </span></div><div class="content"></div></div><div class="footer"><div class="block-help-line"><div class="fn-cancel"><span><%=__(\'first_deposit.popup.later.desktop\')%></span></div></div></div></div>'},function(t,e){t.exports='<div class="content-blocks"><div class="block-form form"><div class="form-row"><div class="form-label col-top"><div class="text"> <%=__(\'fields.amount\')%>&nbsp;&nbsp;<%=userCurrencySymbol%> </div></div><div class="field field-type-input"><div class="input"><input type="text" name="amount"><div class="field-tooltip"><div class="arrow"></div><div class="content"></div></div></div></div></div></div><div class="block-button"><button class="btn btn-primary submit fn-submit"><span class="flex flex-align-center flex-valign-center"><%=__(\'actions.deposit\')%></span></button></div></div>'},function(t,e){t.exports='<div class="content flex flex-column flex-align-center"><p class="large caption"> <%if(isMarketsX){%> <%- __(\'marketsX.atm_deposit.bonus.popup.title\') %></p> <%}else{%> <%- __(\'atm_deposit.popup.title\') %><p></p> <%}%> <p></p><hr><div class="flex flex-column flex-align-center"><ul class="list"> <% _.each(bonuses, function(item) { %> <li class="item"> <% if (item.emphasized) { %> <div class="qualified"><i class="icon icon-qualified"></i><span><%=__(\'marketsX.qualified\')%></span></div> <% } %> <button class="btn btn-primary large fn-amount <%= item.emphasized ? \'premium\' : \'\' %>" data-value="<%-item.deposit%>"><span class="main-text text-center"> <%= __(\'deposit_bonus_table.popup.item.label\', item.depositString, item.bonusString) %> </span> <% if (isPopular(item)) { %> <span class="ribbon ribbon-red"><span class="pre-ribbon-red"></span> <span class="ribbon-text"><%- __(\'deposit_bonus_table.popup.item.most_popular\') %></span><span class="post-ribbon-red"></span> </span> <% } else if (isBiggest(item)) { %> <span class="ribbon ribbon-orange"><span class="pre-ribbon-orange"></span> <span class="ribbon-text"><%- __(\'deposit_bonus_table.popup.item.best_value\') %></span><span class="post-ribbon-orange"></span> </span> <% } %> </button></li> <% }) %> <li class="item"><button class="btn btn-primary large fn-amount" data-value="-1"><span class="main-text text-center"> <%- __(\'deposit_bonus_table.popup.make_deposit\') %> </span></button></li><li class="item"><button id="deposit-without-bonus" class="btn btn-primary large" data-value="-1"><span class="main-text text-center"> <%- __(\'deposit_bonus_table.popup.make_deposit_without_bonus\')%> </span></button></li></ul></div><hr><p class="info"><%= __(\'deposit_bonus_table.popup.terms_and_conditions\')%></p></div>'},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(201),o=(n(2),n(9),n(6),n(14),r.extend({defaults:function(){return{instrumentModel:null,currentPrice:null,rate:0,rateDirection:0}},initialize:function(){r.prototype.initialize.apply(this,arguments);var t=this.getInstrumentModel();this.setCurrentPrice(this.getDefiniteRate()),this.listenTo(this,"change:rate",this.updatePrice),this.listenTo(t,"change:"+this.getPriceKey(),this.onRateChanged),this.listenTo(t,"change:"+this.getPriceDirectionKey(),this.onPriceDirection),this.setRate(this.getDefiniteRate()),this.setRateDirection(this.getPriceDirectionKey()?t.getAskDirection():t.getBidDirection())},getPriceKey:function(){return"bid"},getRateData:function(){var t=this.getRateDirection(),e=this.getInstrumentModel().fixRate(this.getRate());return{1:{add:"up",remove:"down equally",value:e},0:{add:"equally",remove:"up down",value:e},"-1":{add:"down",remove:"up equally",value:e}}[t]},getPercentData:function(){var t=this.getInstrumentModel(),e=t.isPercentChangeIncreasing(),n=t.getPercentStr();return e?{add:"up",remove:"down",value:n}:{add:"down",remove:"up",value:n}},getPipsPrecision:function(){return this.getInstrumentModel().getPipsPrecision()}}));i.exports=o}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0!==(r=function(t,e,r){function s(t){if(0!==t.endpoint.indexOf("https://android.googleapis.com/gcm/send"))return t.endpoint;var e=t.endpoint;return t.subscriptionId&&-1===t.endpoint.indexOf(t.subscriptionId)&&(e=t.endpoint+"/"+t.subscriptionId),e}function a(t){s(t);return u.getCustomerId()?c.subscribeToWebPush(u.getCustomerId(),t):Promise.reject("Missing cusstomerId")}var l=n(9),c=n(6),u=n(7),d=function(){return navigator.serviceWorker.ready.then(function(t){return t.pushManager.getSubscription()})},h=function(){return navigator.serviceWorker.ready.then(function(t){return t.pushManager.subscribe({userVisibleOnly:!0})})},p=function(){return window.Notification&&window.PushManager&&window.ServiceWorkerRegistration&&window.ServiceWorkerRegistration.prototype.showNotification&&l.isPriceAlertWebPushEnabled()},f=function(){return p()&&"denied"===Notification.permission},m=function(){function t(){i(this,t),this._isSubscriptionAttemptFail=!1,this._subscriptionRequest=null}return o(t,[{key:"subscribeUser",value:function(){var t=this;return p()?f()?Promise.reject("Web Push denied by user"):!this._isSubscriptionAttemptFail&&this._subscriptionRequest?this._subscriptionRequest:(this._subscriptionRequest=new Promise(function(e,n){d().then(function(i){if(i)return void a(i).then(function(){t._isSubscriptionAttemptFail=!1,e()}).catch(function(e){t._isSubscriptionAttemptFail=!0,n(e.message)});h().then(function(i){return a(i).then(function(){t._isSubscriptionAttemptFail=!1,e()}).catch(function(e){t._isSubscriptionAttemptFail=!0,n(e.message)})}).catch(function(e){"denied"===Notification.permission?(t._isSubscriptionAttemptFail=!1,n("Web Push denied by user")):(t._isSubscriptionAttemptFail=!0,n(e.message))})}).catch(function(e){t._isSubscriptionAttemptFail=!0,n(e.message)})}),this._subscriptionRequest):Promise.reject("Web Push not supported")}}]),t}();r.exports=new m,r.exports.isWebPushSupported=p,r.exports.isWebPushDeniedByUser=f,r.exports.getPushManagerSubscription=d}.call(e,n,e,t))&&(t.exports=r)},function(t,e){t.exports='<div class="price-alerts-popup form"><div class="content"><div class="header"><div class="caption"><div class="order-caption"><span class="symbol"><%=instrument.getName()%></span></div><div class="information"><%=instrument.get(\'description\')%></div></div><div class="current-trading-data"><div class="text"><div class="current-rate"><div class="rate-box"><div class="caption"><%=__(\'order.instrument_info.current_rate\')%>:</div><div class="rate"><%=calculationModel.getRate()%></div><div class="h-line"></div><div class="percent up"><span><%=calculationModel.getPercentChange()%></span><i class="arrow"></i></div></div></div></div><div class="sentiment"> <% if (instrument.get(\'sentiment\')) { %> <div><%=__(\'tab.price-alerts.texts.current-trend\')%>:&nbsp;</div><div class="chart"><div class="buyers"><%=instrument.get(\'sentiment\').shorts %>%</div><div class="bar"><i style="width:<%=instrument.get(\'sentiment\').shorts %>%"></i> <b style="width:<%=instrument.get(\'sentiment\').longs %>%"></b></div><div class="sellers"><%=instrument.get(\'sentiment\').longs %>%</div></div> <% } %> </div></div></div><div class="form-fields-container"><div><div class="form-group"><label for="price-alert-type"><%=__(\'tab.price-alerts.alert-type\')%></label><div class="field field-type-select" name="price-alert-type"><div class="styled-select"><select id="price-alert-type" class="form-control" default-value="<%=selectedAlertTypeId%>"> <%\n                                _.each(alertTypes, function(alertType){\n                                %> <option value="<%=alertType.id %>" <%if(selectedAlertTypeId === alertType.id){%> selected="selected" <%}%>> <%=__(\'tab.price-alerts.alert-types.\'+alertType.localizationKey)%> </option> <%\n                                });\n                                %> </select></div><div class="dk-select"><div class="dk-selected"><%=selectedAlertTypeId%></div><ul class="dk-select-options" aria-expanded="false"> <% _.each(alertTypes, function(alertType) { %> <li class="dk-option" data-value="<%=alertType.id %>"> <%=__(\'tab.price-alerts.alert-types.\'+alertType.localizationKey)%> </li> <%}); %> </ul></div><div class="help"><i class="icon-help" aria-label="<%=__(\'tab.price-alerts.alert-type-help\')%>"></i></div></div></div><div class="form-group price-alert-subtypes"></div><div class="form-group price-alert-parameter"></div></div><div><div class="form-group"><div class="notifications-label"><label><%=__(\'tab.price-alerts.notification-type\')%></label><div class="help"><i class="icon-help" aria-label="<%=__(\'tab.price-alerts.alert-notifications-help\')%>"></i></div></div><div class="notifications-switchers"><div class="field field-type-checkbox" style="display: none"><div class="text"><%=__(\'tab.price-alerts.notification-types.sendInPlatformId\')%></div><label><input id="sendInPlatformId" name="sendInPlatformId" type="checkbox" class="ios-switch green" <%if(model.getNotificationSettings().sendInPlatformId){%> checked="checked" <%}%>><div><div></div></div><label for="sendInPlatformId"><%=__(\'tab.price-alerts.notification-types.sendInPlatformId\')%></label></label></div><div class="field field-type-checkbox"><div class="text"><%=__(\'tab.price-alerts.notification-types.sendEmail\')%></div><label><input id="sendEmail" name="sendEmail" type="checkbox" class="ios-switch green" <%if(model.getNotificationSettings().sendEmail){%> checked="checked" <%}%>><div><div></div></div><label for="sendEmail"><%=__(\'tab.price-alerts.notification-types.sendEmail\')%></label></label></div><div class="field field-type-checkbox <%if(smsNotificationsDisabled){%>field-disabled<%}%>" aria-label="<%=__(smsNotificationsNotice)%>" style="display: none"><div class="text"><%=__(\'tab.price-alerts.notification-types.sendSms\')%></div><label><input id="sendSms" name="sendSms" type="checkbox" class="ios-switch green" <%if(model.getNotificationSettings().sendSms){%> checked="checked" <%}%>><div><div></div></div><label for="sendSms"><%=__(\'tab.price-alerts.notification-types.sendSms\')%></label></label></div><div class="field field-type-checkbox <%if(pushNotificationsDisabled){%>field-disabled<%}%>" aria-label="<%=__(pushNotificationsNotice)%>"><div class="text"><%=__(\'tab.price-alerts.notification-types.sendPush\')%></div><label><input id="sendPush" name="sendPush" type="checkbox" class="ios-switch green" <%if(model.getNotificationSettings().sendPush){%> checked="checked" <%}%>><div><div></div></div><label for="sendPush"><%=__(\'tab.price-alerts.notification-types.sendPush\')%></label></label></div><div class="field field-type-checkbox <%if(webPushDisabled){%>field-disabled<%}%>" aria-label="<%=__(webPushNotificationsNotice)%>" style="<%if(!webPushSupported){%>display: none;<%}%>"><div class="text"><%=__(\'tab.price-alerts.notification-types.sendWebPush\')%></div><label><input id="sendWebPush" name="sendWebPush" type="checkbox" class="ios-switch green" <%if(model.getNotificationSettings().sendWebPush){%> checked="checked" <%}%>><div><div></div></div><label for="sendWebPush"><%=__(\'tab.price-alerts.notification-types.sendWebPush\')%></label></label></div></div></div></div></div></div><div class="line"></div><div class="footer"><div class="left"><div class="block-button"><button class="btn btn-primary submit fn-submit" aria-label="" <%if(!model.getThereIsOneNotification()){%> disable <%}%>> <%= model.getId() ? __(\'tab.price-alerts.buttons.edit-alert\') : __(\'tab.price-alerts.buttons.set-alert\') %> </button> <a class="cancel fn-cancel" href="#"><%=__(\'actions.cancel\')%></a></div></div><div class="right"> <% if (settings.isLiveChatEnabled()) { %> <span><%=__(\'help.need_help\')%></span><a href="#" class="fn-help-live-chat-link"><span> <%=__(\'help.right_here\')%> </span></a> <% } %> </div></div></div>'},function(t,e,n){function i(t){return n(r(t))}function r(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./description.html":1520,"./remind.html":1521,"./select.html":1522,"./spin.html":1523,"./title.html":1524};i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id=1519},function(t,e){t.exports='<div class="param-field-container"><label for="<%=paramName%>"><%=__(paramLabel)%></label><div class="field field-type-textarea"><textarea rows="4" cols="50" class="form-control textarea-field" name="<%=paramName%>" id="<%=paramName%>">\n    </textarea></div></div>'},function(t,e){t.exports='<div class="param-field-container"><label><%=__(paramLabel)%></label><div class="field field-type-remind" id="<%=paramName%>"><div class="form-complex-inline-input"><label><%=__(\'tab.price-alerts.description-labels.reminder.days\')%></label><div class="styled-select"><select class="form-control select-days"> <% for(var i = 0; i < 8; i++) { %> <option value="<%=i%>"> <%=i%></option> <% } %> </select></div><div class="dk-select"><div class="dk-selected"></div><ul class="dk-select-options" aria-expanded="false"> <% for(var i = 0; i < 8; i++) { %> <li class="dk-option" data-value="<%=i%>"><%=i%></li> <% } %> </ul></div></div><div class="form-complex-inline-input"><label><%=__(\'tab.price-alerts.description-labels.reminder.hours\')%></label><div class="styled-select"><select class="form-control select-hours"> <% for(var i = 0; i < 24; i++) { %> <option value="<%=i%>"> <%=i%></option> <% } %> </select></div><div class="dk-select"><div class="dk-selected"></div><ul class="dk-select-options" aria-expanded="false"> <% for(var i = 0; i < 24; i++) { %> <li class="dk-option" data-value="<%=i%>"><%=i%></li> <% } %> </ul></div></div><div class="form-complex-inline-input"><label><%=__(\'tab.price-alerts.description-labels.reminder.minutes\')%></label><div class="styled-select"><select class="form-control select-minutes"> <% for(var i = 0; i <=55; i+=5) { %> <option value="<%=i%>"> <%=i%></option> <% } %> </select></div><div class="dk-select"><div class="dk-selected"></div><ul class="dk-select-options" aria-expanded="false"> <% for(var i = 0; i <= 55; i+=5) { %> <li class="dk-option" data-value="<%=i%>"><%=i%></li> <% } %> </ul></div></div></div></div>'},function(t,e){t.exports='<div class="param-field-container"><label for="<%=paramName%>"><%=__(paramLabel)%></label><div class="field field-type-select" name="<%=paramName%>"><div class="styled-select"><select id="<%=paramName%>" class="form-control" name="<%=paramName%>"> <%\n                _.each(selectOptions, function(optionTranslationKey, optionValue){\n                %> <option value="<%=optionValue %>"> <%=__(optionTranslationKey)%> </option> <%\n                });\n                %> </select></div><div class="dk-select"><div class="dk-selected"></div><ul class="dk-select-options" aria-expanded="false"> <% _.each(selectOptions, function(optionTranslationKey, optionValue) { %> <li class="dk-option" data-value="<%=optionValue %>"> <%=__(optionTranslationKey)%> </li> <%}); %> </ul></div><div class="help"><i class="icon-help" aria-label="<%=__(paramHelp)%>"></i></div></div></div>'},function(t,e){t.exports='<label for="<%=paramName%>"><%=__(paramLabel)%></label><div class="field field-type-spin"><div class="input"><input type="text" class="form-control" name="<%=paramName%>" id="<%=paramName%>"></div><div class="actions"><button class="btn action-plus" data-type="amount"><i class="icon-plus"></i></button> <button class="btn action-minus" data-type="amount"><i class="icon-minus"></i></button></div><div class="help"><i class="icon-help" aria-label="<%=__(paramHelp)%>"></i></div></div>'},function(t,e){t.exports='<div class="param-field-container"><label for="<%=paramName%>"><%=__(paramLabel)%></label><div class="field field-type-input"><div class="input"><input type="text" name="<%=paramName%>" id="<%=paramName%>"></div></div></div>'},function(t,e){t.exports='<label for="price-alert-subtype"><%=__(\'tab.price-alerts.alert-type.syptypes.\' + localizationKey)%></label><div class="field field-type-select" name="price-alert-subtype"><div class="styled-select"><select id="price-alert-subtype" class="form-control" default-value="<%=selectedAlertTypeId%>"> <%\n            _.each(subtypes, function(alertType){\n            %> <option value="<%=alertType.id %>" <%if(selectedAlertTypeId === alertType.id){%> selected="selected" <%}%>> <%=__(\'tab.price-alerts.alert-types.\'+alertType.localizationKey)%> </option> <%\n            });\n            %> </select></div><div class="dk-select"><div class="dk-selected"><%=selectedAlertTypeId%></div><ul class="dk-select-options" aria-expanded="false"> <% _.each(subtypes, function(alertType) { %> <li class="dk-option" data-value="<%=alertType.id %>"> <%=__(\'tab.price-alerts.alert-types.\'+alertType.localizationKey)%> </li> <%}); %> </ul></div><div class="help"><i class="icon-help" aria-label="<%=__(\'tab.price-alerts.alert-type.syptypes.\' + localizationKey + \'.help-text\')%>"></i></div></div>'},function(t,e,n){(function(i,r){var o,s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};void 0!==(o=function(t,e,i){var o=n(0),a=n(24),l=o.template(n(1527)),c=n(843),u=n(1530),d=n(1532),h=n(1535),p=n(1537),f=n(1538),m=n(1540),g=n(1542),v=n(1544),b=n(1546),y=n(1596),_=n(51),w=n(30),S=n(1602),E=n(261),x=n(1603),C=n(56),T=n(9),k=n(7),O=n(173).SECTION,P=n(23),I=[O.CUSTOMER_INFO,O.PASSWORD,O.PLATFORM_FEATURES,O.TRADING_SETTINGS,O.LOCALIZATION,O.VIEW_SETTINGS],A=[O.CUSTOMER_INFO,O.SPREAD_REBATE,O.PLATFORM_FEATURES,O.TRADING_SETTINGS,O.LOCALIZATION,O.VIEW_SETTINGS],M=[{id:O.CUSTOMER_INFO,url:"customer-info",title:"account_settings.customer_info.menu.title",view:d,visible:!1},{id:O.ACCOUNT_CLASSIFICATION,url:"account_classification",title:"account_classification.title",view:m,viewOptions:{model:null,modelClass:x},visible:!1},{id:O.LEVERAGE,url:"leverage-settings",title:"account_settings.update_leverage.form.title",view:f,viewOptions:{model:k.getUserLeverageLevels()},visible:!1},{id:O.SPREAD_REBATE,url:"spread-rebate",title:"account_settings.spread_rebate.menu.title",view:h,viewOptions:{model:null,modelClass:E},visible:!1},{id:O.PASSWORD,url:"change-password",title:"account_settings.change_password.form.title",view:u,visible:!1},{id:O.NOTIFICATIONS,url:"notifications",title:"account_settings.notifications.menu.title",view:p,viewOptions:{model:null,modelClass:S},visible:!1},{id:O.PLATFORM_FEATURES,url:"platform-features",title:"account_settings.platform_features.menu.title",visible:!1,isExpand:!0,className:"platform-settings-menu",submenu:[{id:O.TRADING_SETTINGS,url:"trading-settings",title:"account_settings.trading-settings.menu.title",view:b,visible:!1,isSubmenuItem:!0,ancestorId:O.PLATFORM_FEATURES},{id:O.VIEW_SETTINGS,url:"view-settings",title:"account_settings.view-settings.menu.title",view:g,visible:!1,isSubmenuItem:!0,ancestorId:O.PLATFORM_FEATURES},{id:O.LOCALIZATION,url:"localization",title:"account_settings.localization.menu.title",view:v,visible:!1,isSubmenuItem:!0,ancestorId:O.PLATFORM_FEATURES}]},{id:O.ACCOUNT_LEVEL,url:"account-level",title:"account_settings.account-level.menu.title",view:y,visible:!1}],N=a.extend({rendered:!1,name:"account-settings",initialize:function(t){a.prototype.initialize.apply(this,arguments),this.render(),this.rendered=!0,this.$el.addClass("account-settings-popup"),this.$(".responsive-panel").addClass("account-settings-panel"),this.listenTo(P,"language:changing:after",this.rerenderActiveTab.bind(this)),this.load().then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this))},render:function(){a.prototype.render.call(this),this.setContent(l())},setActiveTabById:function(t){this.tabs&&this.tabs.setActiveTabById(t)},close:function(){var t=this.tabs&&this.tabs.getActiveTab(),e=function(){this.rendered=!1,a.prototype.close.call(this),window.store.getState().accountSettingsPlatformFeature.isReloadNeeded&&window.location.reload()}.bind(this);return t&&t.viewInstance.isSaveNeeded()?new _({parent:document.body,zIndex:9999,confirmCaption:__("account_settings.unsaved_changes"),confirmMessage:__("account_settings.unsaved_changes.message"),confirmOKBtnText:__("account_settings.unsaved_changes.ok"),confirmCancelBtnText:__("go_back"),onOK:e,onCancel:function(){}}):e()},destroy:function(){this.destroyLoadingView(),this.tabs&&this.tabs.destroy(),a.prototype.destroy.call(this)},filterAvailableSections:function(t){var e=[];for(var n in t){var i=s({},t[n]);if(T.isAccountSettingsSectionEnabled(i.id)){if(o.has(i,"submenu")){var r=o.filter(i.submenu,function(t){return T.isAccountSettingsSectionEnabled(t.id)});i.submenu=r}e.push(i)}}return e},beforeCreateTabs:function(){var t=this.filterAvailableSections(M);C.FULL_REGISTRATION_COMPLETED()?C.LOW_SCORE()&&(t=o.filter(t,function(t){return o.contains(A,t.id)})):t=o.filter(t,function(t){return o.contains(I,t.id)}),t=o.reject(t,function(t){return t.id===O.LEVERAGE&&!k.getUserLeverageLevels().canChangeLeverage()});var e=function(t,e){return!(t.id!==e||t.viewOptions.model&&t.viewOptions.model.isEnabled())};t=o.reject(t,function(t){return e(t,O.SPREAD_REBATE)}),t=o.reject(t,function(t){return e(t,O.ACCOUNT_CLASSIFICATION)}),t=o.reject(t,function(t){return t.id===O.ACCOUNT_LEVEL&&!k.getUserLevelsModel().isEnable()}),this.createTabs(t)},createTabs:function(t){this.tabs=new c({parent:this.$(".account-settings")[0],tabs:t||M,defaultTabId:this.options.tabId})},rerenderActiveTab:function(){if(!o.isEmpty(this.tabs)){var t=this.tabs.getActiveTab();this.render(),this.beforeCreateTabs(),this.setActiveTabById(t.id)}},createLoadingView:function(){this.loadingView=new w({parent:this.$(".account-settings"),position:"relative"})},destroyLoadingView:function(){this.loadingView&&(this.loadingView.destroy(),this.loadingView=null)},load:function(){this.createLoadingView();var t=o.map(M,function(t){return t&&t.viewOptions?(t.viewOptions.modelClass&&(t.viewOptions.model=new t.viewOptions.modelClass),t.viewOptions.model.load()):Promise.resolve()});return Promise.all(t)},loadSuccess:function(t){this.rendered&&(this.destroyLoadingView(),this.beforeCreateTabs())},loadError:function(t){return this.destroyLoadingView(),new _({parent:r(document.body),zIndex:9999,confirmCaption:__("state.machine.confirmation.error.title"),confirmMessage:__("generic.error.message"),confirmOKBtnText:__("retry"),confirmCancelBtnText:__("actions.cancel"),onOK:this.load.bind(this),onCancel:this.close.bind(this)})}});i.exports=function(t){return new N(o.extend({},t,{caption:__("account_settings.popup.title"),headerStyle:"wizard",isHeaderShowed:!0,closeIconStyle:"blue",headerBgStyle:"transparent"}))}}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports='<div class="account-settings"></div>'},function(t,e){t.exports='<% _.each(tabs, function(item) { %> <li class="<%=item.className || \'\'%> <%- item.active ? \'active\' : \'\'%> <%- item.isExpand ? \'open-submenu\' : \'\'%>"><a href="#" data-tab-id="<%=item.id%>"><%=__(item.title)%> <%if (item.counter) {%><span class="tab-counter" data-counter-id="<%=item.id%>"></span><%}%></a> <% if (item.submenu && item.submenu.length > 0) { %> <i class="submenu-arrow <%- item.isExpand ? \'submenu-arrow-up\' : \'\'%>"></i><ul> <% _.each(item.submenu, function (submenu) { %> <li class="<%=submenu.className || \'\'%> <%- submenu.active ? \'active\' : \'\'%>"><a href="#" data-tab-id="<%=submenu.id%>"><%=__(submenu.title)%> <%if (submenu.counter) {%> <span class="tab-counter" data-counter-id="<%=submenu.id%>"></span> <%}%> </a></li> <% }); %> </ul> <% } %> </li> <% }); %>'},function(t,e){t.exports='<div class="nav-wrapper"><ul class="nav nav-tabs visible-sm visible-md visible-lg"></ul></div>'},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var r=n(5),o=n(0),s=n(12),a=n(2),l=n(9),c=n(23),u=n(70),d=n(55),h=n(6),p=o.template(n(1531)),f=n(10),m=f.HTTP_STATUS_CODE;i.exports=s.extend({tag:"div",className:"content-body change-password",meta:function(){return{currentPassword:{filters:["string"],rules:{not_empty:__("account_settings.change_password.form.validate.not_empty")}},newPassword:{filters:["string"],rules:{not_empty:__("account_settings.change_password.form.validate.not_empty"),alpha_numeric:l.isPasswordClientValidationEnabled()?__("account_settings.change_password.form.validate.chars"):o.noop,password:l.isPasswordClientValidationEnabled()?__("account_settings.change_password.form.validate",l.getPasswordMinLength(),l.getPasswordMaxLength()):o.noop,strict_equals:[function(){var t=this.form.getField("confirmPassword").value();return o.isEmpty(t)?this.form.getField("newPassword").value():t}.bind(this),__("account_settings.change_password.form.validate.not_match")]},dependent:{name:"confirmPassword",handler:function(t){this.value()&&this.validate()}}},confirmPassword:{filters:["string"],rules:{not_empty:__("account_settings.change_password.form.validate.not_empty"),alpha_numeric:l.isPasswordClientValidationEnabled()?__("account_settings.change_password.form.validate.chars"):o.noop,password:l.isPasswordClientValidationEnabled()?__("account_settings.change_password.form.validate",l.getPasswordMinLength(),l.getPasswordMaxLength()):o.noop,strict_equals:[function(){return this.form.getField("newPassword").value()}.bind(this),__("account_settings.change_password.form.validate.not_match")]},dependent:{name:"newPassword",handler:function(t){this.value()&&this.validate()}}}}},events:function(){return o.extend({},o.result(s.prototype,"events"),{"submit form":"onSubmit","click .fn-submit":"onSubmit","click .password-eye":"showPasswordToggle"})},render:function(){var t=this,e=this.meta();this.$el.html(p()),this.form=new u({el:this.el});for(var n in e)!function(n){var i=t.$(".fn-field-tooltip-"+n),r=t.form.getField(n);r.setRules(e[n].rules),r.setFilters(e[n].filters),r.setTooltipMessage=function(t){i.find(".text").html(t)},r.showTooltip=function(){r.$el.addClass("field-error"),i.removeClass("hidden")},r.hideTooltip=function(){r.$el.removeClass("field-error"),i.addClass("hidden")},r.$input[0].onblur=function(){this.validate()&&this.showTooltip()}.bind(r),e[n].dependent&&r.listenTo(r,"dependent:field:"+e[n].dependent.name+":change",e[n].dependent.handler.bind(r)),r.on("change",t.updateSavingAbility,t)}(n);this.disableSubmitButton()},beforeCreate:function(){return!!l.isLive()||(a.trigger("sm","change_password"),!1)},onSubmit:function(t){var e=this;if(t&&t.preventDefault(),!this.isSubmitButtonDisabled()){this.hideRequestMessage().setProcessButtonCaption().disableSubmitButton();var n=this.form.getField("currentPassword").value(),i=this.form.getField("newPassword").value();return h.updatePassword(n,i).then(function(t){return e.requestSuccess(t,i)}).catch(this.requestError.bind(this))}},requestSuccess:function(t,e){if(!o.isEmpty(t.data.error))return Promise.reject(t);h.applyCredentials(e,c.getCurrentLanguage()).then(function(t){return t.data&&h.logoutFromWidgets(t.data,c.getCurrentLanguage())}),this.showRequestMessage(__("account_settings.button.save.success.message"),"success").resetButtonCaption().resetFields()},showErrorMessages:function(t){return t.forEach(function(t){r('<div><i class="icon icon-error-red"></i> <span>'+t+"</span> </div>").appendTo(".messages .action-error")}),this},requestError:function(t){function e(t,e){var n=__("validation.password."+e.key,e.params);return t.push(n===e.key?e.defaultValue:n),t}this.resetButtonCaption().enableSubmitButton();var n=void 0,i=t&&t.response&&t.response.status;return i===m.UNAUTHORIZED?(n=__("account_settings.change_password.form.validate.incorrect"),void this.showRequestMessage(n,"error",".field-action-result")):(i===m.BAD_REQUEST&&t&&o.isArray(t.response.data)&&(n=t.response.data.reduce(e,[])),n?void this.showErrorMessages(n):this.networkError())},networkError:function(){new d({parent:document.body,text:__("account_settings.error.message")})},resetFields:function(){for(var t in this.meta()){var e=this.form.getField(t);e.value(""),e.hideTooltip()}},showPasswordToggle:function(t){var e=r(t.target),n=e.parent().find("input"),i=e.hasClass("icon-eye-gray")?0:1,o={input:["text","password"],icon:[["icon-eye-gray","icon-eye-blue"],["icon-eye-blue","icon-eye-gray"]]};n.attr("type",o.input[i]),e.removeClass(o.icon[i][0]).addClass(o.icon[i][1])},destroy:function(){this.form.destroy(),s.prototype.destroy.call(this)},isPristine:function(){return o.chain(this.form.getFieldsList()).keys().some(function(t){return!o.isEmpty(this.form.getField(t).value())},this).value()},isValidated:function(){return o.chain(this.form.getFieldsList()).keys().every(function(t){return!1===this.form.getField(t).validate(!0)},this).value()},updateSavingAbility:function(){this.isPristine()&&this.isValidated()?this.enableSubmitButton():this.disableSubmitButton()},disableSubmitButton:function(){return this.$(".fn-submit").addClass("disabled").removeClass("btn-primary"),this},enableSubmitButton:function(){return this.$(".fn-submit").removeClass("disabled").addClass("btn-primary"),this.$el.find(".verification-icon").addClass("hidden hidden-xs"),this},isSubmitButtonDisabled:function(){return this.$(".fn-submit").hasClass("disabled")},setProcessButtonCaption:function(){return this.$(".fn-submit-label").html(__("account_settings.button.save.process.message")),this},resetButtonCaption:function(){return this.$(".fn-submit-label").html(__("account_settings.button.save")),this},showRequestMessage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments[2],i=this.$el.find(".fn-submit"),r={success:"icon icon-verified-circle",error:"icon icon-error-red"};return n&&this.$(n).removeClass("hidden").find("span").html(t),i.find(".verification-icon").removeClass("hidden hidden-xs"),i.find(".icon").attr("class",r[e]),this},hideRequestMessage:function(){return this.$(".field-action-result").addClass("hidden"),this.$(".action-result").addClass("hidden"),this.$(".action-error").empty(),this.$el.find(".verification-icon").addClass("hidden hidden-xs"),this},isSaveNeeded:function(){return this.isPristine()},save:function(){return this.onSubmit()}})}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports='<div class="panel-form-box form"><p class="panel-title grid-middle"><i class="icon icon-info hidden-xs"></i> <%=__(\'account_settings.change_password.form.description\')%> </p><div class="panel-form"><form action="" method="post"><div class="grid-2_sm-1 form-row"><div class="col-3_sm-12 grid-middle"><label for="currentPassword"><%=__(\'account_settings.change_password.form.current_password\')%></label></div><div class="col-9_sm-12"><div class="grid-2_sm-1"><div class="col-6_xs-12"><div class="field field-type-input input-field grid-middle fn-field-currentPassword"><input type="password" name="currentPassword" id="currentPassword"> <i class="password-eye icon-eye-gray"></i></div></div><div class="col-6_xs-12 grid-middle"><div class="field-tooltip error hidden fn-field-tooltip-currentPassword"><div class="arrow"></div><div class="text"></div></div><div class="field-action-result grid-middle hidden"><i class="icon icon-error-red"></i> <span></span></div></div></div></div></div><div class="grid-2_sm-1 form-row"><div class="col-3_sm-12 grid-middle"><label for="newPassword"><%=__(\'account_settings.change_password.form.new_password\')%></label></div><div class="col-9_sm-12"><div class="grid-2_sm-1"><div class="col-6_xs-12"><div class="field field-type-input input-field grid-middle fn-field-newPassword" data-field-depends="confirmPassword"><input type="password" name="newPassword" id="newPassword"> <i class="password-eye icon-eye-gray"></i></div></div><div class="col-6_xs-12 grid-middle"><div class="field-tooltip error hidden fn-field-tooltip-newPassword"><div class="arrow"></div><div class="text"></div></div></div></div></div></div><div class="grid-2_sm-1 form-row"><div class="col-3_sm-12 grid-middle"><label for="confirmPassword"><%=__(\'account_settings.change_password.form.verify_password\')%></label></div><div class="col-9_sm-12"><div class="grid-2_sm-1"><div class="col-6_xs-12"><div class="field field-type-input input-field grid-middle fn-field-confirmPassword" data-field-depends="newPassword"><input type="password" name="confirmPassword" id="confirmPassword"> <i class="password-eye icon-eye-gray"></i></div></div><div class="col-6_xs-12 grid-middle"><div class="field-tooltip error hidden fn-field-tooltip-confirmPassword"><div class="arrow"></div><div class="text"></div></div></div></div></div></div><div class="grid-12 messages"><div class="action-result hidden"></div><div class="action-error"></div></div></form></div></div><div class="grid-12_sm-1 form-row form-actions"><div class="actions"><div class="grid-middle"><button class="btn btn-primary fn-submit"><span class="verification-icon grid-middle hidden hidden-xs"><i class="icon"></i> </span><span class="fn-submit-label"><%=__(\'account_settings.button.save\')%></span></button></div></div></div><div class="space hidden-xs"></div>'},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(12),s=n(7),a=n(1533),l=n(9),c=r.template(n(1534));i.exports=o.extend({tag:"div",className:"content-body customer-info",render:function(){var t=s.getUserData().getCrmboCustomer(),e=__default("country.name."+String(t.country).toUpperCase(),t.country),n=__default("country.name."+String(t.citizenship).toUpperCase(),t.citizenship),i=s.getUserData().getAccount(),o=!1,u="NOT_RELEVANT"!==s.getUserData().getTinData().tinAbsenceReason&&s.getUserData().getTinData().tinAbsenceReason;!r.isEmpty(i)&&t&&("it"===t.citizenship&&(o=s.getUserData().getTinData().nationalCountryIdentifier),this.$el.html(c({accountCode:i.userName,email:a.maskEmail(t.email),firstName:t.firstName,lastName:t.lastName,phone:a.maskPhone(t.phone),birthDate:t.birthDate,address:t.address,zipCode:t.zip,country:e,citizenship:n,city:t.city,settings:l,nci:o,primaryTin:a.maskTin(s.getUserData().getTinData().primaryTin),tinAbsenceReason:u,secondaryTin:a.maskTin(s.getUserData().getTinData().secondaryTin),secondaryTinTaxJurisdiction:String(s.getUserData().getTinData().secondaryTinTaxJurisdictionCountry).toUpperCase()})))},beforeCreate:function(){return!0},isSaveNeeded:function(){return!1},save:function(){throw new Error("It is not implemented")}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){function n(t,e){if("function"==typeof t.repeat)return t.repeat(e);for(var n="",i=0;i<e;i++)n+=t;return n}var i=function(t){if(t=String(t),t.length<=3)return t;var e=t.length-3,i=n("*",e),r=t.split("");return r.splice(1,e,i),r.join("")},r=function(t){if(t=String(t),t.length<=3)return t;var e=t.indexOf("@");e=e>0?e:t.length;var i=t.substring(0,e),r=t.substring(e),o=i.length-2,s=n("*",o),a=i.split("");return a.splice(1,o,s),a.join("")+r},o=function(t){return t?i(t):""};t.exports.maskEmail=r,t.exports.maskPhone=i,t.exports.maskTin=o},function(t,e){t.exports="<div class=\"panel-form-box\"><p class=\"panel-title grid-middle\"><i class=\"icon icon-info hidden-xs\"></i> <%=__('account_settings.customer_info.form.description')%> </p><div class=\"panel-form customer-info\"><table><tr><th><%=__('account_settings.customer_info.form.account_code')%></th><td><%=accountCode%></td></tr><tr><th><%=__('account_settings.customer_info.form.email')%></th><td><%=email%></td></tr><tr><th><%=__('account_settings.customer_info.form.first_name')%></th><td><%=firstName%></td></tr><tr><th><%=__('account_settings.customer_info.form.last_name')%></th><td><%=lastName%></td></tr><tr><th><%=__('account_settings.customer_info.form.phone')%></th><td><%=phone%></td></tr><tr><th><%=__('account_settings.customer_info.form.birth_date')%></th><td><%=birthDate%></td></tr><tr><th><%=__('account_settings.customer_info.form.address')%></th><td><%=address%></td></tr><tr><th><%=__('account_settings.customer_info.form.zip_code')%></th><td><%=zipCode%></td></tr><tr><th><%=__('account_settings.customer_info.form.country')%></th><td><%=country%></td></tr><tr><th><%=__('account_settings.customer_info.form.citizenship')%></th><td><%=citizenship%></td></tr><tr><th><%=__('account_settings.customer_info.form.city')%></th><td><%=city%></td></tr> <% if(settings.needShowTinInAccountSettings()) { %> <% if(!primaryTin && nci) { %> <tr><th><%=__('account_settings.customer_info.tax_information')%></th><td><%=nci%></td></tr> <% } else if ( primaryTin || tinAbsenceReason) { %> <tr><th><%=__('account_settings.customer_info.tax_information')%></th><td><%=primaryTin ? primaryTin : __('reg.questionary.cysec.tin_absence_reason.' + tinAbsenceReason)%></td></tr> <% } %> <% if(secondaryTin) { %> <tr><th><%=__('account_settings.customer_info.other_tax_residency')%></th><td><%=__('tax_jurisdiction.' + secondaryTinTaxJurisdiction)%>, <%=secondaryTin%></td></tr> <% } %> <% } %> </table></div></div>"},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){function r(t){new d({parent:document.body,confirmCaption:t.caption,confirmMessage:t.text,confirmOKBtnText:t.textOK,confirmCancelBtnText:t.textCancel,ignorableByLoginMessage:t.ignorableByLoginMessage,hideCancelButton:t.hideCancelButton||!1,onOK:t.success,onCancel:t.cancel,additionalEvents:t.additionalEvents})}function o(t){return Number(t).toFixed(2)}var s=n(0),a=n(12),l=(n(2),n(9),n(55),s.template(n(1536))),c=n(7),u=(n(58),n(23)),d=n(51),h=n(6);i.exports=a.extend({tag:"div",className:"content-body spread-rebate",events:function(){return s.extend({},s.result(a.prototype,"events"),{"click .unsubscribe_spread_rebate":"onUnsubscribe"})},render:function(){var t=this.model.getSpreadRebate(),e=new Date(t.joinedDate),n=new Date(t.expiratedDate);return this.$el.html(l({active:t.active,expired:t.expired,joinedDate:this.getDateFormatted(e),expiratedDate:this.getDateFormatted(n),spreadRebateTotal:c.getUserCurrencySymbol()+o(t.spreadRebateTotal),spreadRebateLastWeek:c.getUserCurrencySymbol()+o(t.spreadRebateLastWeek),spreadRebateCurrentWeek:c.getUserCurrencySymbol()+o(t.spreadRebateCurrentWeek)})),this},beforeCreate:function(){return!0},isSaveNeeded:function(){return!1},save:function(){throw"It is not implemented"},getDateFormatted:function(t){var e=u.splitByComma(__("calendar_monthNames"));return t.getDate()+" "+e[t.getMonth()]+", "+t.getFullYear()},onUnsubscribe:function(t){var e=this;this.unsubscribePopup(function(){var t=c.getUserAccountData().platformAccountId;h.unsubscribeSpreadRebate(t).then(e.unsubscribeSuccesed.bind(e))})},unsubscribeSuccesed:function(t){return t?(t.data&&this.leftProgramPopup(),Promise.resolve(t)):Promise.reject()},unsubscribePopup:function(t){r({text:__("spread_rebate.popup.unsubscribe_message"),textOK:__("ok"),textCancel:__("actions.close"),success:t,cancel:function(){}})},leftProgramPopup:function(){r({text:__("spread_rebate.popup.left_message"),textOK:__("spread_rebate.popup.unsubscribe_confirm"),success:function(){},hideCancelButton:!0})}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports="<div class=\"panel-form-box spread-rebate\"><p class=\"panel-title grid-middle\"><i class=\"icon icon-info hidden-xs\"></i> <%=__('account_settings.spread_rebate.menu.title')%> </p><div class=\"panel-form\"><div class=\"spread-rebate-description\"><span><%=__('account_settings.spread_rebate.subtitle')%></span></div> <% if (!expired) { %> <div class=\"text-block\"><span><%=__('account_settings.spread_rebate.description')%></span></div><div class=\"text-block\"><span><%=__('account_settings.spread_rebate.joined_date')%> <%=joinedDate%></span><span class=\"newline\"><%=__('account_settings.spread_rebate.expiration_date')%> <%=expiratedDate%></span></div><div class=\"text-block\"><b><%=__('account_settings.spread_rebate.refund_summary_subtitle')%></b><span class=\"newline\"><%=__('account_settings.spread_rebate.total_amount')%> <%=spreadRebateTotal%></span><span class=\"newline\"><%=__('account_settings.spread_rebate.last_week_amount')%> <%=spreadRebateLastWeek%></span><span class=\"newline\"><%=__('account_settings.spread_rebate.current_week_amount')%> <%=__('account_settings.spread_rebate.total_amount')%> <%=spreadRebateCurrentWeek%> <%=__('account_settings.spread_rebate.current_week_amount_notice')%></span></div><div class=\"text-block\"><span><%=__('account_settings.spread_rebate.terms_conditions_button')%> <%=__('account_settings.spread_rebate.terms_conditions_appendix')%></span><a class=\"newline pointer unsubscribe_spread_rebate\"><%=__('account_settings.spread_rebate.unsubscribe_button')%></a></div> <% } else { %> <div class=\"text-block\"><span><%=__('account_settings.spread_rebate.expired_description')%></span></div><div class=\"text-block\"><span><%=__('account_settings.spread_rebate.expiration_date')%> <%=expiratedDate%></span></div><div class=\"text-block\"><span><%=__('account_settings.spread_rebate.expired_total_amount')%> <%=spreadRebateTotal%></span></div> <% } %> </div></div>"},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(12),s=n(2),a=n(9),l=r.template(n(712)),c=n(114);n(55);i.exports=o.extend({tag:"div",className:"content-body notifications",events:function(){return r.extend({},r.result(o.prototype,"events"),{"submit form":"onSubmit","click .fn-submit":"onSubmit"})},render:function(){this.$el.html(l()),this.fields=this.createFieldsWrapper(),this.model.rememberAsInitial(),this.listenTo(this.model,"change",this.updateSubmitButton),this.updateSubmitButton()},beforeCreate:function(){return!!a.isLive()||(s.trigger("sm","notifications"),!1)},createFieldsWrapper:function(){var t=this.$(".field-type-checkbox"),e={};return r.each(t,function(t){var n=new c({el:t}),i=n.getName();e[i]=n,this.model.get(i)&&n.check(),this.listenTo(n,"change",function(t,e){this.model.set(t.getName(),e)})},this),e},destroyFields:function(){for(var t in this.fields)this.fields[t].destroy()},destroy:function(){this.destroyFields(),o.prototype.destroy.call(this)},isSaveNeeded:function(){return!this.model.isPristine()},save:function(){throw new Error("It is not implemented")},disableSubmitButton:function(){return this.$(".fn-submit").addClass("disabled").removeClass("btn-primary"),this},enableSubmitButton:function(){return this.$(".fn-submit").removeClass("disabled").addClass("btn-primary"),this.$el.find(".verification-icon").addClass("hidden hidden-xs"),this},isSubmitButtonDisabled:function(){return this.$(".fn-submit").hasClass("disabled")},updateSubmitButton:function(){this.model.isPristine()?this.disableSubmitButton():this.enableSubmitButton()},setProcessButtonCaption:function(){return this.$(".fn-submit-label").html(__("account_settings.button.save.process.message")),this},resetButtonCaption:function(){return this.$(".fn-submit-label").html(__("account_settings.button.save")),this},disableFields:function(){for(var t in this.fields)this.fields[t].disable();return this},enableFields:function(){for(var t in this.fields)this.fields[t].enable();return this},showRequestMessage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=this.$el.find(".fn-submit"),i={success:"icon icon-verified-circle",error:"icon icon-error-red"};return n.find(".verification-icon").removeClass("hidden hidden-xs"),n.find(".icon").attr("class",i[e]),this},hideRequestMessage:function(){return this.$el.find(".verification-icon").addClass("hidden hidden-xs"),this},onSubmit:function(t){if(t&&t.preventDefault(),!this.isSubmitButtonDisabled())return this.hideRequestMessage().disableFields().setProcessButtonCaption().disableSubmitButton(),this.model.save().then(this.saveSuccess.bind(this)).catch(this.saveError.bind(this))},saveSuccess:function(){this.showRequestMessage(__("account_settings.button.save.success.message")).enableFields().resetButtonCaption()},saveError:function(){s.trigger("ui:message-box",{parent:document.body,text:__("account_settings.error.message")}),this.resetButtonCaption().enableFields().enableSubmitButton()}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(12),s=n(2),a=n(9),l=(n(55),r.template(n(1539))),c=n(7),u=n(58),d=n(56),h=n(881),p=n(38);n(178).cutCurrency;i.exports=o.extend({tag:"div",className:"content-body update-leverage",customerLeverage:0,events:function(){return r.extend({},r.result(o.prototype,"events"),{"submit form":"onSubmit","click .fn-submit":"onSubmit","change input[type=radio]":"changeNewLeverage"})},render:function(){var t=this.model.getCurrentLeverageValue(),e=!1;return d.FRENCH_REGULATION()&&u.length>0&&(e=!0),this.$el.html(l({enabledLeverages:this.model.getEnabledLeverages(),currentLeverage:t,disabledLeverageChange:e})),this.listenTo(this.model,"change:currentLeverage",this.updateCurrentLeverage),this.disableSubmitButton(),this.updateSubmitButton(),this.updateExampleDescription(t),this},beforeCreate:function(){return!!a.isLive()||(s.trigger("flow:leverage-settings"),!1)},changeNewLeverage:function(t){var e=t.currentTarget.value;this.model.setNewLeverageValue(e),this.updateExampleDescription(e),this.updateSubmitButton()},updateCurrentLeverage:function(){this.$el.find(".current-leverage span").html(this.model.getCurrentLeverageValue())},isSaveNeeded:function(){return this.model.isPristine()},save:function(){return this.onSubmit()},disableSubmitButton:function(){return this.$el.find(".fn-submit").addClass("disabled").removeClass("btn-primary"),this},enableSubmitButton:function(){return this.hideRequestMessage(),this.$el.find(".fn-submit").removeClass("disabled").addClass("btn-primary"),this.$el.find(".verification-icon").addClass("hidden hidden-xs"),this},isSubmitButtonDisabled:function(){return this.$el.find(".fn-submit").hasClass("disabled")},updateSubmitButton:function(){this.model.isPristine()?this.enableSubmitButton():this.disableSubmitButton()},setProcessButtonCaption:function(){return this.$el.find(".fn-submit-label").html(__("account_settings.button.save.process.message")),this},resetButtonCaption:function(){return this.$el.find(".fn-submit-label").html(__("account_settings.button.save")),this},showRequestMessage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=this.$el.find(".fn-submit"),i={success:"icon icon-verified-circle",error:"icon icon-error-red"};return n.find(".verification-icon").removeClass("hidden hidden-xs"),n.find(".icon").attr("class",i[e]),this},hideRequestMessage:function(){return this.$el.find(".verification-icon").addClass("hidden hidden-xs"),this},onSubmit:function(t){if(t&&t.preventDefault(),!this.isSubmitButtonDisabled())return this.hideRequestMessage().setProcessButtonCaption().disableSubmitButton(),this.customerLeverage=this.model.getCurrentLeverageValue(),this.model.save().then(this.saveSuccess.bind(this)).catch(this.saveError.bind(this))},saveSuccess:function(){this.showRequestMessage(__("account_settings.button.save.success.message")).resetButtonCaption(),h.trackAccountSettingsLeverageChange(this.customerLeverage,this.model.getNewLeverageValue())},saveError:function(){s.trigger("ui:message-box",{parent:document.body,text:__("account_settings.error.message")}),this.model.set("newLeverage",this.model.previous("newLeverage")),this.updateExampleDescription(this.model.getNewLeverageValue()),this.resetButtonCaption(),this.updateSubmitButton()},updateExampleDescription:function(t){var e=__("account_settings.update_leverage.form.example.description",t,p(1e3).formatForeignCurrency(c.getUserCurrencySymbol(),"$0,0.[00]"),p(1e3*t).formatForeignCurrency(c.getUserCurrencySymbol(),"$0,0.[00]"));this.$el.find(".example-description").html(e)}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<div class="panel-form-box"><p class="panel-title grid-middle"><i class="icon icon-info hidden-xs"></i> <%=__(\'account_settings.update_leverage.form.description\')%> </p><div class="panel-form update-leverage"><form action="" method="post"><div class="current-leverage"><b><%=__(\'account_settings.update_leverage.form.current_leverage\')%>:</b> 1:<span><%=currentLeverage%></span></div><div class="adjust-leverage"><%=__(\'account_settings.update_leverage.form.adjust_leverage\')%>:</div><div class="grid-12_sm-1"><div class="col-12_sm-12"><div class="radio-leverage-wraper grid-middle"> <% for (var i = 0; i < enabledLeverages.length; i++) { %> <div class="field field-type-radio"><input type="radio" id="<%=\'leverage-\' + enabledLeverages[i].leverage%>" name="leverage-radio" value="<%=enabledLeverages[i].leverage%>" <% if(disabledLeverageChange) { %> disabled="disabled" <% } %> <% if(enabledLeverages[i].selected) { %> checked="checked" <% } %> ><label for="<%=\'leverage-\' + enabledLeverages[i].leverage%>"><%=\'1:\' + enabledLeverages[i].leverage%></label></div> <% } %> </div></div> <% if(disabledLeverageChange) { %> <div class="col-12_sm-12"><div class="grid-12"><div class="col-12_sm-12 warning"><p><i class="icon icon-error-red"></i> <%=__(\'account_settings.update_leverage.disabled.open_positions\')%> </p></div></div></div> <% } %> <div class="col-12_sm-12 example-panel"><div class="grid-12"><div class="col-12_sm-12 example"><b><%=__(\'account_settings.update_leverage.form.example.title\')%>:</b><p class="example-description"></p></div></div></div><div class="grid-12 messages"><div class="action-result grid-middle hidden hidden-sm hidden-md hidden-lg"><i class="icon icon-verified"></i> <span></span></div></div></div><div class="information"><b><%=__(\'account_settings.update_leverage.footer.title\')%></b><div> <%=__(\'account_settings.update_leverage.footer.description\')%> <br> <%=__(\'account_settings.update_leverage.footer.description.links\')%> </div><div><%=__(\'account_settings.update_leverage.footer.description.notes\')%></div></div></form></div></div><div class="grid-12_sm-1 form-row form-actions"><div class="actions"><div class="grid-middle"><button class="btn btn-primary fn-submit"><span class="verification-icon grid-middle hidden hidden-xs"><i class="icon"></i> </span><span class="fn-submit-label"><%=__(\'account_settings.button.save\')%></span></button></div></div></div><div class="space hidden-xs"></div>'},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(12),s=n(70),a=n(2),l=n(10),c=l.REJECTED,u=l.PENDING,d=l.APPROVED,h=r.template(n(1541));i.exports=o.extend({tag:"div",className:"content-body account-classification",events:function(){return r.extend({},r.result(o.prototype,"events"),{"click .fn-submit":"onSubmit"})},getTextForSubmitButtonTranslateKey:function(t,e){return"ELECTIVE_PROFESSIONAL"===e.toUpperCase()?"":r.isEmpty(t)||t===c?"account_classification.apply.btn":t===u?"account_classification.continue.btn":""},render:function(){var t=this.model.getAccountType(),e=this.model.getApplicationStatus(),n=this.getTextForSubmitButtonTranslateKey(e,t),i=e===c?"account_classification.rejected.note":"account_classification.type.additional.desc";this.form=new s({el:this.el}),this.$el.html(h({account_type:t,buttonTextKey:n,noteTextKey:i,status:e}));var r=this.$(".status_text");return e===d?r.addClass("green"):e===c?r.addClass("red"):r.addClass("blue"),this},beforeCreate:function(){return!0},isSaveNeeded:function(){return!1},save:function(){throw new Error("It is not implemented")},destroy:function(){this.form.destroy(),o.prototype.destroy.call(this)},onSubmit:function(t){t&&t.preventDefault(),a.trigger("ui:account-settings:close"),a.trigger("ui:account-classification")}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<div class="panel-form-box"><div class="panel-form"> <% if (! _.isEmpty(account_type)) { %> <div class="title"><span><%=__(\'account_classification.type.title\')%></span><span class="blue"> <%=__(\'account_classification.type.\' + account_type.toLowerCase())%></span></div><div class="text-block"><span><%=__(\'account_classification.type.\'+ account_type.toLowerCase() + \'.desc\')%></span></div> <% } %> <div class="text-block"><span><%=__(\'account_classification.type.desc.link\')%></span></div><div class="title <%=_.isEmpty(status) ? \'invisible\' : \'\'%>"><span><%=__(\'account_classification.app_status.title\')%></span><span class="status_text"> <%=  __(\'account_classification.app_status.\' + status)%></span></div><div class="title <%=_.isEmpty(buttonTextKey)? \'invisible\' : \'\'%>"><span><%=__(noteTextKey)%></span></div></div></div><div class="grid-12_sm-1 form-row form-actions <%=_.isEmpty(buttonTextKey)? \'invisible\' : \'\'%>"><div class="actions"><div class="grid-middle"><button class="btn btn-primary fn-submit"> <%=__(buttonTextKey)%> </button></div></div></div><div class="space hidden-xs"></div>'},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(12),o=n(16),s=n(1),a=n(8),l=a.Provider,c=n(1543).default;i.exports=r.extend({tag:"div",className:"content-body platform-features",render:function(){r.prototype.render.call(this);this.options;return o.render(s.createElement(l,{store:store},s.createElement(c,null)),this.el),this},destroy:function(){o.unmountComponentAtNode(this.el),r.prototype.destroy.call(this)},beforeCreate:function(){return!0},isSaveNeeded:function(){return!1}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(){return{isTradingViewSwitcherEnabled:y.a.isTradingViewModeSwitcherEnabled(),isChartModeSwitcherEnabled:y.a.isChartModeSwitcherEnabled(),isThemeSwitcherEnabled:c.a.isEnabled()}}Object.defineProperty(e,"__esModule",{value:!0});var l=n(71),c=n.n(l),u=n(1),d=n.n(u),h=n(375),p=n(8),f=n(7),m=n.n(f),g=n(2),v=n.n(g),b=n(9),y=n.n(b),_=n(131),w=n(0),S=n.n(w),E=n(69),x=function(t){var e=(t.onChange,t.positionMode),n=t.onFieldChange;return d.a.createElement("div",{className:"pane pane__row"},d.a.createElement(_.a,{className:"switcher-open-position-mode-block",as:"div",name:"switcher-open-position-mode",title:__("account_settings.open-position-mode.title"),selected:e,options:E.OPEN_POSITION_OPTIONS,transformOptionText:function(t){return __("modes."+[t])},onChange:function(t){return n&&n("positionMode",t)}}))},C=x,T=function(t){var e=(t.onChange,t.themeDigit),n=t.onFieldChange;return d.a.createElement("div",{className:"pane pane__row"},d.a.createElement(_.a,{className:"switcher-mode-block",as:"div",name:"themes-switcher",title:__("account_settings.themes.menu.title"),selected:e,transformOptionText:function(t){return __("themes.label."+c.a.switcherConfig[t])},options:E.THEME_OPTIONS,onChange:function(t){return n&&n("themeDigit",parseInt(t))}}))},k=T,O=function(t){var e=(t.onChange,t.tradingView),n=t.onFieldChange;return d.a.createElement("div",{className:"pane pane__row"},d.a.createElement(_.a,{className:"switcher-mode-block",as:"div",name:"switcher-trading-view-mode",title:__("trading_view.title"),selected:e,transformOptionText:function(t){return __("modes."+t)},options:E.TRADING_VIEW_OPTIONS,onChange:function(t){return n&&n("tradingView",t)}}))},P=O,I=function(t){var e=(t.onChange,t.chartMode),n=t.onFieldChange;return d.a.createElement("div",{className:"pane pane__row"},d.a.createElement(_.a,{className:"switcher-mode-block",as:"div",name:"switcher-chart-mode",title:__("instrument_info.tab.chart"),selected:e,transformOptionText:function(t){return __("modes."+t)},options:E.CHART_MODE_OPTIONS,onChange:function(t){return n&&n("chartMode",t)}}))},A=I,M=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},N=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),D=S.a.first(E.OPEN_POSITION_OPTIONS),L=S.a.first(E.TRADING_VIEW_OPTIONS),R=S.a.first(E.CHART_MODE_OPTIONS),F="themeDigit",B="tradingView",U="positionMode",j="chartMode",z=function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.componentDidMount=function(){var t=m.a.getUserCommonData(),e=t.getAppThemeId(),i=t.getTradingViewMode()||L,r=t.getOpenPositionMode()||D,o=t.getChartMode()||R;n.setState({themeDigit:e,tradingView:i,positionMode:r,chartMode:o,choosenthemeDigit:e,choosentradingView:i,choosenpositionMode:r,choosenchartMode:o})},n.onFieldChange=function(t,e){switch(n.setState({isFieldChanged:!1}),t){case F:n.setState({isChangeThemeSaved:!1});break;case U:n.setState({isOpenPositionModeSaved:!1});break;case B:n.setState({isTradingViewSaved:!1});break;case j:n.setState({isChartModeSaved:!1})}var r="choosen"+t;n.setState(i({},r,e)),e!==n.state[t]?n.changeFieldStatusInState(t,!0):n.state.changedFields[t]&&n.changeFieldStatusInState(t,!1)},n.onError=function(){v.a.trigger("ui:message-box",{text:__("account_settings.error.message")})},n.changeFieldStatusInState=function(t,e){n.setState(function(n){var r=M({},n.changedFields,i({},t,e));return{changedFields:r,isSaveButtonEnabled:S.a.values(r).includes(!0)}})},n.onSaveClick=function(){if(n.state.isSaveButtonEnabled){var t=n.state.changedFields;S.a.keys(t).filter(function(e){return t[e]}).forEach(function(t){switch(t){case F:setTimeout(function(){return n.changeTheme(n.state.choosenthemeDigit)},0);break;case U:setTimeout(function(){return n.changeOpenPositionMode(n.state.choosenpositionMode)},0);break;case B:setTimeout(function(){return n.changeTradingView(n.state.choosentradingView)},0);break;case j:setTimeout(function(){return n.changeChartMode(n.state.choosenchartMode)},0)}})}},n.changeTheme=function(t){var e=1===t?"dark":"light";m.a.getUserCommonData().saveAppTheme(e).then(function(){n.setState({isChangeThemeSaved:!1},function(){setTimeout(function(){return c.a.change(0===t?0:1,!0)},0),n.changeFieldStatusInState(F,!1),n.setState({themeDigit:t,isChangeThemeSaved:!0,isFieldChanged:!0})})}).catch(function(){return n.onError()})},n.changeTradingView=function(t){m.a.getUserCommonData().saveTradingViewMode(t).then(function(){n.setState({isTradingViewSaved:!1},function(){n.changeFieldStatusInState(B,!1),n.setState({tradingViewSection:t,isTradingViewSaved:!0,isFieldChanged:!0}),n.props.dispatch(Object(h.b)(!0)),__eventos("tradingPlatform:changePlatformSettings:tradingView",{tradingView:t},!0)})}).catch(function(){return n.onError()})},n.changeOpenPositionMode=function(t){m.a.getUserCommonData().saveOpenPositionMode(t).then(function(){n.setState({isOpenPositionModeSaved:!1},function(){n.changeFieldStatusInState(U,!1),n.setState({positionModeSection:t,isOpenPositionModeSaved:!0,isFieldChanged:!0}),__eventos("tradingPlatform:changePlatformSettings:openPositionMode",{positionMode:t},!0)})}).catch(function(){return n.onError()})},n.changeChartMode=function(t){m.a.getUserCommonData().saveChartMode(t).then(function(){n.setState({isChartModeSaved:!1},function(){n.changeFieldStatusInState(j,!1),n.setState({chartModeSection:t,isChartModeSaved:!0,isFieldChanged:!0}),n.props.dispatch(Object(h.b)(!0)),__eventos("tradingPlatform:changePlatformSettings:chartMode",{chartMode:t},!0)})}).catch(function(){return n.onError()})},n.state={changedFields:{themesSection:!1,tradingViewSection:!1,positionModeSection:!1,chartModeSection:!1},isSaveButtonEnabled:!1,themeDigit:0,tradingView:L,positionMode:D,chartMode:R,choosenthemeDigit:0,choosentradingView:L,choosenpositionMode:D,choosenchartMode:R,isOpenPositionModeSaved:!0,isChangeThemeSaved:!0,isTradingViewSaved:!0,isChartModeSaved:!0,isFieldChanged:!1},n}return s(e,t),N(e,[{key:"render",value:function(){var t=this.props,e=t.isTradingViewSwitcherEnabled,n=t.isChartModeSwitcherEnabled,i=t.isThemeSwitcherEnabled,r=this.state.isOpenPositionModeSaved&&this.state.isChangeThemeSaved&&this.state.isTradingViewSaved&&this.state.isFieldChanged,o=this.state.choosentradingView===E.TRADING_VIEW_ADVANCED;return d.a.createElement("div",{className:"form platform-features-item",ref:"platformFeaturesForm"},i&&d.a.createElement("div",{className:"field-wrapper"},d.a.createElement(k,{themeDigit:this.state.choosenthemeDigit,onFieldChange:this.onFieldChange})),d.a.createElement("div",{className:"field-wrapper"},d.a.createElement(C,{positionMode:this.state.choosenpositionMode,onFieldChange:this.onFieldChange})),e&&d.a.createElement("div",{className:"field-wrapper"},d.a.createElement(P,{tradingView:this.state.choosentradingView,onFieldChange:this.onFieldChange})),n&&o&&d.a.createElement("div",{className:"field-wrapper"},d.a.createElement(A,{chartMode:this.state.choosenchartMode,onFieldChange:this.onFieldChange})),d.a.createElement("div",{className:"grid-12 form-row form-actions"},d.a.createElement("div",{className:"actions"},d.a.createElement("button",{onClick:this.onSaveClick,className:"btn fn-submit "+(this.state.isSaveButtonEnabled?"btn-primary":"disabled")},d.a.createElement("span",{className:"grid-middle verification-icon "+(r?"":"hidden hidden-xs")},d.a.createElement("i",{className:"icon icon-verified-circle"})),__("account_settings.button.save")))))}}]),e}(d.a.Component);e.default=Object(p.connect)(a)(z)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(12),o=n(16),s=n(1),a=n(8),l=a.Provider,c=n(1545).default;i.exports=r.extend({tag:"div",className:"content-body platform-features",render:function(){r.prototype.render.call(this);this.options;return o.render(s.createElement(l,{store:store},s.createElement(c,null)),this.el),this},destroy:function(){o.unmountComponentAtNode(this.el),r.prototype.destroy.call(this)},beforeCreate:function(){return!0},isSaveNeeded:function(){return!1}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return{timezoneOptions:t.accountSettingsPlatformFeature.timezone.list}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var d=n(1),h=n.n(d),p=n(375),f=n(8),m=n(7),g=n.n(m),v=n(2),b=n.n(v),y=n(9),_=n.n(y),w=n(69),S=n(131),E=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),x=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),E(e,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(p.a)())}},{key:"render",value:function(){var t=this;return h.a.createElement("div",{className:"pane pane__row"},h.a.createElement(S.a,{className:"switcher-timezone-mode-block",as:"div",name:"switcher-timezone-mode",title:__("account_settings.timezone-mode.title"),selected:g.a.getUserCommonData().getUserTimezoneId()||w.GMT,options:this.getOptions(),transformOptionText:function(t){return"<span>"+t.displayName+'</span> <span class="gmt">('+t.gmt+")</span>"},transformOptionsValue:function(t){return t.id},onChange:function(e){return t.props.onFieldChange&&t.props.onFieldChange("timeZone",e)}}),h.a.createElement("div",{className:"pane--center field-addon-right"},h.a.createElement("div",{"aria-label":__("account_settings.timezone-mode.icon.help"),className:"icon icon-help"}),h.a.createElement("div",{className:"field-help"},__("account_settings.timezone-mode.icon.help"))))}},{key:"getOptions",value:function(){return this.props.timezoneOptions.length?this.props.timezoneOptions:[g.a.getUserCommonData().getUserTimezoneObject()]}}]),e}(h.a.Component);x.defaultProps={timezoneOptions:[]};var C=Object(f.connect)(s)(x),T=(n(71),n(29),n(0)),k=n.n(T),O=n(23),P=n.n(O),I=function(t){var e=(t.onChange,t.language),n=t.onFieldChange;return h.a.createElement("div",{className:"pane pane__row"},h.a.createElement(S.a,{className:"switcher-mode-block",as:"div",name:"languages-dropdown",title:__("indigo.account_settings.language.form.title"),selected:e,transformOptionText:function(t){return __("language."+[t])},options:P.a.getLanguages(),onChange:function(t){return n&&n("language",t)}}))},A=I,M=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},N=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),D=_.a.isTimezoneEnabled(),L="timeZone",R="language",F="en",B=function(t){function e(t){l(this,e);var n=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.componentDidMount=function(){var t=g.a.getUserCommonData();n.setState({timeZone:t.getUserTimezoneObject().id||w.GMT,choosentimeZone:t.getUserTimezoneObject().id||w.GMT,language:P.a.getLanguage()||F,choosenlanguage:P.a.getLanguage()||F})},n.onFieldChange=function(t,e){switch(n.setState({isFieldChanged:!1}),t){case L:n.setState({isChangeThemeSaved:!1});break;case R:n.setState({isOpenPositionModeSaved:!1})}var i="choosen"+t;n.setState(a({},i,e)),e!==n.state[t]?n.changeFieldStatusInState(t,!0):n.state.changedFields[t]&&n.changeFieldStatusInState(t,!1)},n.onError=function(){b.a.trigger("ui:message-box",{text:__("account_settings.error.message")})},n.changeFieldStatusInState=function(t,e){n.setState(function(n){var i=M({},n.changedFields,a({},t,e));return{changedFields:i,isSaveButtonEnabled:k.a.values(i).includes(!0)}})},n.onSaveClick=function(){if(n.state.isSaveButtonEnabled){var t=n.state.changedFields;k.a.keys(t).filter(function(e){return t[e]}).forEach(function(t){switch(t){case L:n.changeTimezoneMode(n.state.choosentimeZone);break;case R:n.changeLanguage(n.state.choosenlanguage)}})}},n.changeLanguage=function(t){g.a.isLoggedIn()&&g.a.getUserCommonData().saveSelectedLanguage(t),P.a.setLanguage(t).then(function(){n.setState({isLanguageSaved:!0,isFieldChanged:!0,language:t},function(){n.changeFieldStatusInState(R,!1)}),n.props.dispatch(Object(p.b)(!0))}).catch(function(){return n.onError()})},n.changeTimezoneMode=function(t){g.a.getUserCommonData().saveUserTimezoneId(t).then(function(){n.setState({isTimezoneSaved:!0,isFieldChanged:!0,timeZone:t},function(){n.changeFieldStatusInState(L,!1)}),n.props.dispatch(Object(p.b)(!0))}).catch(function(){return n.onError()})},n.state={changedFields:{timeZoneSection:!1,languageSection:!1},isSaveButtonEnabled:!1,timeZone:w.GMT,choosentimeZone:w.GMT,language:F,choosenlanguage:F,isTimezoneSaved:!0,isLanguageSaved:!0,isFieldChanged:!1},n}return u(e,t),N(e,[{key:"render",value:function(){var t=this.state.isTimezoneSaved&&this.state.isLanguageSaved&&this.state.isFieldChanged;return h.a.createElement("div",{className:"form platform-features-item",ref:"platformFeaturesForm"},D&&h.a.createElement("div",{className:"field-wrapper"},h.a.createElement(C,{onFieldChange:this.onFieldChange})),h.a.createElement("div",{className:"field-wrapper"},h.a.createElement(A,{language:this.state.choosenlanguage,onFieldChange:this.onFieldChange})),h.a.createElement("div",{className:"grid-12 form-row form-actions"},h.a.createElement("div",{className:"actions"},h.a.createElement("button",{onClick:this.onSaveClick,className:"btn fn-submit "+(this.state.isSaveButtonEnabled?"btn-primary":"disabled")},h.a.createElement("span",{className:"grid-middle verification-icon "+(t?"":"hidden hidden-xs")},h.a.createElement("i",{className:"icon icon-verified-circle"})),__("account_settings.button.save")))))}}]),e}(h.a.Component);e.default=Object(f.connect)(null,null)(B)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(12),s=r.template(n(1547)),a=n(1),l=n(16),c=n(8),u=c.Provider,d=n(1548).default;i.exports=o.extend({tag:"div",className:"content-body trading-settings-tab",render:function(){this.$el.html(s({})),l.render(a.createElement(u,{store:store},a.createElement(d,null)),this.el)},beforeCreate:function(){return!0},isSaveNeeded:function(){return!1},destroy:function(){o.prototype.destroy.call(this),l.unmountComponentAtNode(this.el)}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<div class="trading-settings-content"></div>'},function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var h=n(1),p=n.n(h),f=(n(1549),n(36)),m=n(249),g=n(664),v=n(202),b=n(357),y=function(t){var e=t.instrument,n=void 0===e?"":e,i=t.amount,r=t.orderType,o=t.onEdit,s=t.onDelete,a=t.id,l=Object(v.getInstrumentName)(n);return p.a.createElement(b.a,{screenSize:"sm"},p.a.createElement(m.c,{className:"trading-settings__row"},p.a.createElement(m.a,{className:"trading-settings__instrument"},l),p.a.createElement(m.a,null,i),p.a.createElement(m.a,null,Object(v.getOrderType)(r)),p.a.createElement(m.a,null,p.a.createElement(g.a,{style:"link",className:"trading-settings__button trading-settings__button--tool",onClick:function(){return o(a)}},p.a.createElement("span",{className:(Object(v.isAppThemeDark)(),"icon-pencil")})),p.a.createElement(g.a,{style:"link",className:"trading-settings__button trading-settings__button--tool",onClick:function(){return s(a)}},p.a.createElement("span",{className:(Object(v.isAppThemeDark)(),"icon-garbage")})))),p.a.createElement(m.c,{className:"trading-settings__row"},p.a.createElement(m.a,{className:"trading-settings__item"},p.a.createElement("p",null,p.a.createElement("span",{className:"bold"},__("table.header.symbol"),":")," ",l),p.a.createElement("p",null,p.a.createElement("span",{className:"bold"},__("fields.amount"),":")," ",i),p.a.createElement("p",null,p.a.createElement("span",{className:"bold"},__("indigo.order.form.type"),":")," ",Object(v.getOrderType)(r))),p.a.createElement(m.a,null,p.a.createElement(g.a,{style:"link",className:"trading-settings__button trading-settings__button--tool",onClick:function(){return o(a)}},p.a.createElement("span",{className:Object(v.isAppThemeDark)()?"icon-edit-grey":"icon-edit"})),p.a.createElement(g.a,{style:"link",className:"trading-settings__button trading-settings__button--tool",onClick:function(){return s(a)}},p.a.createElement("span",{className:Object(v.isAppThemeDark)()?"icon-remove-grey":"icon-remove-blue"})))))},_=y,w=n(1550),S=n(8),E=n(0),x=n.n(E),C=n(419),T=n(134),k=n.n(T),O=n(176),P=n(33),I=n.n(P),A=n(29),M=n.n(A),N=n(276),D=n.n(N),L=(n(1595),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}),R=D.a.extend({initialize:function(){D.a.prototype.initialize.apply(this,arguments)}}),F=M()({displayName:"Search",getDefaultProps:function(){return{as:"div",onRowClick:x.a.noop,childClassName:null,placeholder:"",overflowComponentSelector:"",value:"",inputClassName:"form-control",columnNamesToShow:null}},getComposedOptions:function(){var t=this;return{className:this.props.childClassName,name:"search",translationKey:"",onRowClick:function(e,n){return t.onRowClick(n)},overflowComponentSelector:this.props.overflowComponentSelector,value:this.props.value,placeholder:this.props.placeholder,inputClassName:this.props.inputClassName,columnNames:this.props.columnNamesToShow}},componentDidMount:function(){this.createField()},createField:function(){this.field||(this.field=new R(L({parent:this.refs.el},this.getComposedOptions())),this.field.render())},shouldComponentUpdate:function(t){return!x.a.isEqual(t,this.props)},destroyField:function(){this.field&&(this.field.remove(),this.field=null)},onRowClick:function(t){this.props.onRowClick(t.get("symbol"))},componentWillUnmount:function(){this.destroyField()},componentDidUpdate:function(){this.destroyField(),this.createField()},render:function(){var t=this.props,e=t.noIcon,n=(t.inputClassName,t.children,t.overflowComponentSelector,t.className),r=(t.value,t.onRowClick,t.childClassName,t.placeholder,t.columnNamesToShow,i(t,["noIcon","inputClassName","children","overflowComponentSelector","className","value","onRowClick","childClassName","placeholder","columnNamesToShow"]));return p.a.createElement(r.as,L({},r,{ref:"el",className:"search-component "+(e&&"search-component--no-icon")+" "+n}))}}),B=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),U=function(t){function e(t,n){o(this,e);var i=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.state={amountIncrement:1,minAmount:1,instrumentSymbol:O.DROPDOWN_DEFAULT_VALUE,orderType:O.ORDER_TYPE.LONG_SHORT,canSubmit:!0,amountError:!1,amountMaxError:!1},i.selectedInstrument=null,i.state={instrumentSymbol:i.props.instrument||O.DROPDOWN_DEFAULT_VALUE,orderType:i.props.orderType||O.ORDER_TYPE.LONG_SHORT},i.amount=i.props.amount,I()(i),i}return a(e,t),B(e,[{key:"componentWillMount",value:function(){this.instruments=k.a.getAllInstruments(),this.state.instrumentSymbol!==O.DROPDOWN_DEFAULT_VALUE&&this.onInstrumentChange(this.state.instrumentSymbol,!1)}},{key:"onInstrumentChange",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.props.onInstrumentChange;n&&n(t),this.selectedInstrument=this.instruments[t],this.setState({instrumentSymbol:t}),this.setDefaultAmount({amountIncrement:this.selectedInstrument.getMinOrderIncrement(),minAmount:this.selectedInstrument.getMinOrderSize()},e)}},{key:"setDefaultAmount",value:function(t,e){var n=t.amountIncrement,i=t.minAmount;e&&(this.amount=i),this.setState({amountIncrement:n,minAmount:i})}},{key:"orderTypeChange",value:function(t){var e=this.props.onOrderTypeChange;e&&e(t),this.setState({orderType:t})}},{key:"isFractionalAmountEnabled",value:function(){return this.selectedInstrument&&this.selectedInstrument.isFractionalAmountEnabled()}},{key:"onAmountChange",value:function(t){this.amount=t}},{key:"isAmountValid",value:function(t){var e=this.state,n=e.amountIncrement,i=void 0===n?1:n,r=e.minAmount;t=this.isFractionalAmountEnabled()?parseFloat(t):parseInt(t,10);var o=this.isFractionalAmountEnabled()?this.divisible(t,i,Math.pow(10,this.selectedInstrument.getPrecision())):this.divisible(t,i),s=!(o&&t>=r),a=t>this.selectedInstrument.getMaxOrderSize();return this.setState({amountError:s,amountMaxError:a}),!((s||a)&&this.state.instrumentSymbol!==O.DROPDOWN_DEFAULT_VALUE)}},{key:"divisible",value:function(t,e,n){return n&&(t=Math.round(t*n),e=Math.round(e*n)),t%e==0}},{key:"onSave",value:function(){var t=this.state,e=t.instrumentSymbol,n=t.orderType,i=this.props,r=i.onSave,o=i.id,s=this.amount;this.isAmountValid(s)&&r&&r({instrument:e,orderType:n,amount:s,id:o})}},{key:"getTextError",value:function(){var t=this.state,e=t.amountIncrement,n=t.amountError,i=t.amountMaxError;return n?__("order.form.validation.amount_step",e):i?__("order.form.validation.amount_too_big",this.selectedInstrument.getMaxOrderSize()):this.props.error?__("account_settings.trading-settings.error"):null}},{key:"render",value:function(){var t=this,e=this.state,n=e.amountIncrement,i=e.minAmount,o=e.instrumentSymbol,s=e.orderType,a=e.amountError,l=e.amountMaxError,c=!!o;return p.a.createElement(f.q,{className:"trading-settings__row trading-settings-item-form  "+(null!==this.getTextError()?"trading-settings-item-form--error":"")},p.a.createElement(f.o,{className:"trading-settings-item-form__field"},p.a.createElement(F,{className:"trading-settings-item-form__search",value:o,onRowClick:this.onInstrumentChange,noIcon:!Object(f.u)(),placeholder:__("account_settings.trading-settings.dropdown.select.placeholder"),overflowComponentSelector:this.props.overflowComponentSelector,columnNamesToShow:["instrumentName"]}),(this.props.error||a||l)&&p.a.createElement("span",{className:"trading-settings-item-form__error"},this.getTextError())),p.a.createElement(f.o,{className:"trading-settings-item-form__field"},p.a.createElement(C.b,{step:n,minValue:i,value:this.amount,precision:this.isFractionalAmountEnabled()?this.selectedInstrument.getPrecision():0,onChange:this.onAmountChange})),p.a.createElement(f.o,{className:"trading-settings-item-form__field"},p.a.createElement(C.a,{options:[].concat(r(x.a.values(O.ORDER_TYPE))),transformOptionText:v.getOrderType,onChange:this.orderTypeChange,selected:s,defaultValue:s,overflowComponentSelector:this.props.overflowComponentSelector})),p.a.createElement(f.o,{className:"trading-settings-item-form__field"},p.a.createElement(f.h,{className:"trading-settings__button",onClick:function(){return t.onSave()},disabled:!c},__("save"))))}}]),e}(p.a.Component),j=U,z=n(135),V=n.n(z),H=n(54),G=n.n(H),W=n(44),q=function(t){return t.tradingSettings},$=Object(W.a)(q,function(t){return t.instruments}),Y=Object(W.a)($,function(t){return[].concat(l(t)).reverse()}),X=Object(W.a)(q,function(t){return t.tradingSettingsIdToEdit}),K=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Q=function(t){return{tradingSettings:Y(t),tradingSettingsToEdit:X(t)}},J=function(t){return{getTradingSettings:function(){return t(Object(w.c)())},addTradingSetting:function(e){return t(Object(w.a)(e))},removeTradingSetting:function(e){return t(Object(w.d)(e))},setTradingSettingToEdit:function(e){return t(Object(w.e)(e))},changeTradingSetting:function(e){return t(Object(w.b)(e))}}},Z=function(t){function e(){var t,n,i,r;c(this,e);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return n=i=u(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),i.state={isAdding:!1,hasEditError:!1,hasAddError:!1},i.subscriptionSymbols=null,r=n,u(i,r)}return d(e,t),K(e,[{key:"toggleAdding",value:function(){this.setState({isAdding:!this.state.isAdding}),this.resetErrors(),this.resetEditing()}},{key:"resetErrors",value:function(){this.setState({hasAddError:!1,hasEditError:!1})}},{key:"resetEditing",value:function(){this.props.setTradingSettingToEdit(null)}},{key:"resetAdding",value:function(){this.setState({isAdding:!1})}},{key:"componentDidMount",value:function(){var t=this;this.props.getTradingSettings(),this.keyboardEvents=V()({escape:function(){t.resetErrors(),t.resetEditing(),t.resetAdding()}})}},{key:"onAddSetting",value:function(t){var e=this;this.props.addTradingSetting(t).then(function(){return e.props.getTradingSettings()}).then(function(){return e.resetErrors()}).then(function(){return e.resetAdding()}).catch(function(){return e.setState({hasAddError:!0})})}},{key:"onDeleteSetting",value:function(t){var e=this;this.props.removeTradingSetting(t).then(function(){return e.props.getTradingSettings()})}},{key:"onEditSetting",value:function(t){this.props.setTradingSettingToEdit(t),this.resetErrors(),this.resetAdding()}},{key:"componentWillUnmount",value:function(){this.keyboardEvents&&this.keyboardEvents.off(),this.removeSubscriptions()}},{key:"isSettingEdit",value:function(t){return this.props.tradingSettingsToEdit===t}},{key:"componentWillUpdate",value:function(t){var e=t.tradingSettings;e&&e.length&&this.createSubscriptions(e)}},{key:"createSubscriptions",value:function(t){this.removeSubscriptions();var e=x.a.chain(t).map(function(t){return t.instrument}).uniq().value();this.subscriptionSymbols=G.a.add(e)}},{key:"removeSubscriptions",value:function(){this.subscriptionSymbols&&G.a.remove(this.subscriptionSymbols)}},{key:"onEditSettingSubmit",value:function(t){var e=this;this.props.changeTradingSetting(t).then(function(){return e.props.getTradingSettings()}).then(function(){return e.onEditSetting(null)}).catch(function(){return e.setState({hasEditError:!0})})}},{key:"render",value:function(){var t=this,e=this.props.tradingSettings,n=this.state,i=n.isAdding,r=n.hasAddError,o=n.hasEditError;return p.a.createElement("div",{className:"trading-settings"},p.a.createElement(f.j,{className:"trading-settings__content"},p.a.createElement(f.k,null,"Trading settings"),p.a.createElement(f.i,null,__("account_settings.trading-settings.description")),p.a.createElement(f.m,{className:"trading-settings__table",theadClassName:"trading-settings__table-header",bodyClassName:"trading-settings__table-body",thead:p.a.createElement(f.q,null,p.a.createElement(f.p,null,__("account_settings.trading-settings.column.instruments")),p.a.createElement(f.p,null,__("fields.amount")),p.a.createElement(f.p,null,__("indigo.order.form.type")),p.a.createElement(f.p,null,p.a.createElement(f.h,{icon:"+",className:"trading-settings__button",onClick:function(){return t.toggleAdding()}},__("actions.add"))))},i&&p.a.createElement(j,{onSave:function(e){return t.onAddSetting(e)},overflowComponentSelector:".trading-settings__table",onOrderTypeChange:function(){return t.resetErrors()},onInstrumentChange:function(){return t.resetErrors()},error:r}),x.a.map(e,function(e){var n=e.instrument,i=e.amount,r=e.orderType,s=e.id;return t.isSettingEdit(s)?p.a.createElement(j,{instrument:n,amount:i,orderType:r,onSave:function(e){return t.onEditSettingSubmit(e)},key:s,id:s,overflowComponentSelector:".trading-settings__table",error:o,onOrderTypeChange:function(){return t.resetErrors()},onInstrumentChange:function(){return t.resetErrors()}}):p.a.createElement(_,{instrument:n,amount:i,orderType:r,key:s,id:s,onDelete:function(e){return t.onDeleteSetting(e)},onEdit:function(e){return t.onEditSetting(e)}})}),!i&&0===e.length&&p.a.createElement(f.q,{className:"trading-settings__empty-settings-row"},p.a.createElement(f.o,{className:"trading-settings__empty-settings"},p.a.createElement("span",{className:"icon-empty-amount trading-settings__empty-settings-icon"}),p.a.createElement("div",null,__("account_settings.trading-settings.empty.description")))))),p.a.createElement(f.r,{screenSize:"sm"},p.a.createElement("div",{className:"trading-settings__button--sm-screen"},p.a.createElement(f.h,{icon:"+",className:"trading-settings__button",onClick:function(){return t.toggleAdding()}},__("actions.add")))))}}]),e}(p.a.Component);e.default=Object(S.connect)(Q,J)(Z)},function(t,e){},function(t,e,n){"use strict";(function(t){function i(){return{type:l.TRADING_SETTINGS__GET_SETTINGS,payload:Object(c.getCurrentSettings)()}}function r(t){return{type:l.TRADING_SETTINGS__EDIT_SETTINGS,payload:t}}function o(t){return{types:[l.TRADING_SETTINGS__ADD_SETTING_START,l.TRADING_SETTINGS__ADD_SETTING_SUCCESS,l.TRADING_SETTINGS__ADD_SETTING_ERROR],callApi:function(){return Object(c.setTradingSettings)(Object(c.getChangedSettings)(t))}}}function s(t){return{types:[l.TRADING_SETTINGS__EDIT_SETTING_START,l.TRADING_SETTINGS__EDIT_SETTING_SUCCESS,l.TRADING_SETTINGS__EDIT_SETTING_ERROR],callApi:function(){return Object(c.setTradingSettings)(Object(c.getChangedSettings)(t))}}}function a(e){var n=Object(c.getCurrentSettings)();return{types:[l.TRADING_SETTINGS__REMOVE_SETTING_START,l.TRADING_SETTINGS__REMOVE_SETTING_SUCCESS,l.TRADING_SETTINGS__REMOVE_SETTING_ERROR],callApi:function(){return Object(c.setTradingSettings)(t.filter(n,function(t){return t.id!==e}))}}}e.c=i,e.e=r,e.a=o,e.b=s,e.d=a;var l=n(176),c=n(202)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(1),o=n(1552),s=n(0),a=r.createClass({displayName:"GridColumns",getDefaultProps:function(){return{className:"",columns:[],onSort:null,sortingData:{}}},getContainerClassName:function(t){var e=[];return e.push(t,this.props.className),e.join(" ")},render:function(){var t=this.props.onSort,e=this.props.collection,n=this.props.sortingData,i=this.props.columns.map(function(i,a){var l=i.customColumnComponent||o;return r.createElement(l,s.extend({},i.columnProps,{key:a,column:i,collection:e,onSort:t,useSorting:i.columnProps&&s.isFunction(i.columnProps.sortCompareFn),sortDirection:n.columnName==i.name?n.sortDirection:0}))});return r.createElement("thead",{className:this.getContainerClassName("columns")},r.createElement("tr",null,i))}});i.exports=a}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(1),o=n(0),s=r.createClass({displayName:"GridColumn",getDefaultProps:function(){return{className:"",sortCompareFn:null,collection:null,useSorting:!1,sortAscending:!1,sortDirection:0,onSort:null,sortAscendingComponent:" ▲",sortDescendingComponent:" ▼",tooltipText:null}},sort:function(){o.isFunction(this.props.sortCompareFn)&&o.isFunction(this.props.onSort)&&this.props.onSort(this.props.column.name,this.props.sortDirection)},render:function(){var t=this.props.column.style,e=this.props.tooltipText,n=[],i=this.props.column.name,o=0==this.props.sortDirection?"":1==this.props.sortDirection?this.props.sortAscendingComponent:this.props.sortDescendingComponent;return n.push("column",this.props.className),this.props.useSorting&&n.push("column-sortable"),r.createElement("th",{onClick:this.sort,className:n.join(" "),style:t,"data-tooltip-align":e?"right":null,"aria-label":e},i&&__(i),r.createElement("span",null,o))}});i.exports=s}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(1),s=n(427),a=o.createClass({displayName:"GridRows",getDefaultProps:function(){return{columns:[],collection:[],screenSize:null,customRowComponent:null,customRowComponentXS:null,customRowComponentSM:null,customRowComponentMD:null,customRowComponentLG:null,onRowClick:function(){},onSubRowClick:function(){},selectedRowId:null}},getInitialState:function(){return{columns:this.props.columns,collection:this.props.collection,selectedRowId:this.props.selectedRowId}},getComponent:function(){var t=this.props.screenSize,e=this.props.customRowComponent||s;if(i.isEmpty(t))return e;var n="customRowComponent"+t,r=this.props[n];return i.isEmpty(r)?e:r},onRowClick:function(t,e){this.setState({selectedRowId:e.cid}),i.isFunction(this.props.onRowClick)&&this.props.onRowClick(t,e)},onSubRowClick:function(t,e){this.setState({selectedRowId:e.cid}),i.isFunction(this.props.onSubRowClick)&&this.props.onSubRowClick(t,e)},setSelectedRow:function(t){this.setState({selectedRowId:t})},render:function(){var t=this.state.columns,e=this.getComponent(),n=this.props.screenSize,i=this.onRowClick,r=this.onSubRowClick,s=this.state.selectedRowId,a=this.state.collection.map(function(a){var l=s==a.cid;return o.createElement(e,{key:a.cid+l,columns:t,model:a,isExpanded:l,isSelected:l,screenSize:n,onRowClick:i,onSubRowClick:r})},this);return o.createElement("tbody",{className:"rows"},a)}});r.exports=a}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=n(133),s=r.createClass({displayName:"Cell",getDefaultProps:function(){return{className:""}},getInitialState:function(){return{percentChange:this.props.model.get("percentChange"),eventName:"change:percentChange"}},componentDidMount:function(){this.props.model.on(this.state.eventName,this.update,this)},componentWillUnmount:function(){this.props.model.off(this.state.eventName,this.update,this)},update:function(){this.setState({percentChange:this.props.model.get("percentChange")})},render:function(){var t=this.props.column.key,e=this.props.model,n=e.get(t),i=[this.props.className,"instrument-name-with-change"];return r.createElement("td",{className:i.join(" ")},r.createElement("div",{className:"name"},n),r.createElement(o,{className:"flex flex-start",value:this.state.percentChange,positiveSymbol:"+",postfix:"%",precision:2}))}});i.exports=s}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=n(713),s=r.createClass({displayName:"GridCellSentiment",getDefaultProps:function(){return{className:""}},render:function(){var t=this.props.column.key,e=this.props.model,n=__(this.props.tooltipText),i=e.get(t),s=[];return i&&i.shorts&&i.longs||(n=null),s.push(this.props.className,"sentiment-block"),r.createElement("td",{className:s.join(" "),"data-tooltip-align":n?"right":null,"aria-label":n},r.createElement(o,{value:i}))}});i.exports=s}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=n(133),s=r.createClass({displayName:"GridCellChange",getDefaultProps:function(){return{className:""}},getInitialState:function(){return{value:this.props.model.get(this.props.column.key),eventName:"change:"+this.props.column.key}},componentDidMount:function(){this.props.model.on(this.state.eventName,this.update,this)},componentWillUnmount:function(){this.props.model.off(this.state.eventName,this.update,this)},update:function(){this.setState({value:this.props.model.get(this.props.column.key)})},render:function(){var t=[this.props.className].join(" ");return r.createElement("td",{className:t},r.createElement(o,{value:this.state.value,positiveSymbol:"+",postfix:"%",useInline:!0,precision:2,alwaysPrecision:!0}))}});i.exports=s}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=n(133),s=n(7),a=r.createClass({displayName:"GridCellPL",getInitialState:function(){return{plOpen:0}},componentDidMount:function(){this.props.model.on("change:"+this.props.column.key,this.update,this)},componentWillUnmount:function(){this.props.model.off("change:"+this.props.column.key,this.update,this)},update:function(){this.setState({plOpen:this.props.model.get("plOpen")})},render:function(){var t=this.props.column.key,e=this.props.model,n=e.get(t),i=s.getUserCurrencySymbol(),a=[this.props.className].join(" ");return r.createElement("td",{className:a},r.createElement(o,{value:n,precision:2,alwaysPrecision:!0,positiveSymbol:"",prefix:i}))}});i.exports=a}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1);i.exports=r.createClass({displayName:"exports",render:function(){return r.createElement("td",null)}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(1),o=n(68),s=n(0),a=function(t){return s.map(t,function(t){return s.isString(t)&&-1!==t.indexOf("UTC 20")?o.gridCellLongText(t):t})||t},l=r.createClass({displayName:"GridCellLongText",render:function(){var t=this.props.model.get(this.props.column.key),e=this.props.model.get(this.props.column.localizationParams);if(this.props.column.valueLocalizable){var n=this.props.column.localizationKeyPrefix||"",i=this.props.column.localizationValueToUpperCase?t.toUpperCase():t.toLowerCase();if(s.isArray(e)&&e.length>0){var o=a(e);t=__default(n+i,"traderejected.unexpected_error",o)}else t=__default(n+i,"traderejected.unexpected_error")}return r.createElement("td",{className:this.props.className},r.createElement("span",{className:"content"},t),r.createElement("span",{"aria-label":t},r.createElement("i",{className:"icon-tooltip"})))}});i.exports=l}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=r.createClass({displayName:"GridCellOrderPrice",render:function(){var t=this.props.model,e=t.get("precision"),n=t.get("stopPrice"),i=t.get("stopLimitPrice"),o=[this.props.className].join(" "),s="NaN"===n?i:n;return s=Number(s).toFixed(e),r.createElement("td",{className:o},s)}});i.exports=o}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=r.createClass({displayName:"GridCellPositionPrice",render:function(){var t=this.props.model,e=t.get("precision"),n=t.get(this.props.column.key),i=Number(n).toFixed(e),o=[this.props.className].join(" ");return r.createElement("td",{className:o},i)}});i.exports=o}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=r.createClass({displayName:"GridCellAbsolute",render:function(){var t=Math.abs(this.props.model.get(this.props.column.key)),e=[this.props.className].join(" ");return r.createElement("td",{className:e},t)}});i.exports=o}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=n(68),s=n(15),a=r.createClass({displayName:"GridCellTimestamp",render:function(){var t=s.mobile(),e=this.props.model.get(this.props.column.key),n=o.gridCellTimestamp(e,"DD/MM/YYYY HH:mm",t),i=[this.props.className].join(" ");return r.createElement("td",{className:i},n)}});i.exports=a}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=n(200);i.exports=r.createClass({displayName:"exports",getDefaultProps:function(){return{expandableElement:null}},toggle:function(){this.props.expandableElement.toggle()},render:function(){return r.createElement("td",{className:"toggle-cell"},r.createElement(o,{className:"btn-toggle",onClick:this.toggle,icon:this.props.expandableElement.props.isExpanded?"triangle-bottom-blue":"triangle-right-blue"}))}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=r.createClass({displayName:"GridCellPriceAlertInstrumentName",getDefaultProps:function(){return{className:""}},render:function(){var t=this.props.model,e=t.get("instrument").get("name"),n=[];return n.push(this.props.className,"instrument-name"),r.createElement("td",{className:n.join(" ")},r.createElement("div",{className:"instrument-name-cell"},e))}});i.exports=o}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(1),s=o.createClass({displayName:"GridCellPriceAlertType",getDefaultProps:function(){return{className:""}},getInitialState:function(){return{alertType:this.props.model.get("alertType")}},componentDidMount:function(){this.props.model.on("change:alertType",this.update,this)},componentWillUnmount:function(){this.props.model.off("change:alertType",this.update,this)},update:function(){this.setState({alertType:this.props.model.get("alertType")})},render:function(){var t=this.props.model,e=[];if(e.push(this.props.className,"alert-type"),i.isUndefined(t.get("alertType")))return o.createElement("td",{className:e.join(" ")},__("tab.price-alerts.alert-types.undefined"));var n="tab.price-alerts.alert-types."+t.get("alertType").get("localizationKey");return o.createElement("td",{className:e.join(" ")},o.createElement("div",{className:"alert-type-cell"},__(n)))}});r.exports=s}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=r.createClass({displayName:"GridCellPriceAlertAmount",getDefaultProps:function(){return{className:""}},getInitialState:function(){return{amount:this.props.model.getParameterValue()}},componentDidMount:function(){this.props.model.on("change:params",this.update,this)},componentWillUnmount:function(){this.props.model.off("change:params",this.update,this)},update:function(){this.setState({amount:this.props.model.getParameterValue()})},render:function(){var t=this.props.model,e=[];return e.push(this.props.className,"alert-amount"),r.createElement("td",{className:e.join(" ")},r.createElement("div",{className:"alert-amount-cell"},t.getParameterValue("paramValue1")))}});i.exports=o}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(1),s=o.createClass({displayName:"GridCellPriceAlertNotifications",getDefaultProps:function(){return{className:""}},getInitialState:function(){return{sendTo:this.props.model.get("sendTo")}},componentDidMount:function(){this.props.model.on("change:sendTo",this.update,this)},componentWillUnmount:function(){this.props.model.off("change:sendTo",this.update,this)},update:function(){this.setState({sendTo:this.props.model.get("sendTo")})},render:function(){var t=[],e=this.props.model,n=e.get("sendTo");i.each(n,function(e,n){e&&t.push(__("tab.price-alerts.notification-types."+n))});var r=[];return r.push(this.props.className,"alert-notifications"),o.createElement("td",{className:r.join(" ")},o.createElement("div",{className:"alert-notifications-cell"},t.join(", ")))}});r.exports=s}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1);n(376),n(377),n(378);var o=r.createClass({displayName:"GridCellPriceAlertCurrent",getDefaultProps:function(){return{className:""}},render:function(){var t=this.props.model,e=[],i=r.createElement(n(1570)("./price.alert."+t.getRenderClass()),{model:t.getInstrument()});return e.push(this.props.className,"alert-current"),r.createElement("td",{className:e.join(" ")},r.createElement("div",{className:"alert-type-cell"},i))}});i.exports=o}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){function i(t){return n(r(t))}function r(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./price.alert.daily.change":376,"./price.alert.daily.change.jsx":376,"./price.alert.price.alert":377,"./price.alert.price.alert.jsx":377,"./price.alert.sentiment":378,"./price.alert.sentiment.jsx":378};i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id=1570},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(1),s=n(9),a=o.createClass({displayName:"GridCellMiniChart",timerId:null,getDefaultProps:function(){return{className:"",isLoaded:!0}},getInitialState:function(){return{timestamp:(new Date).getTime()}},invalidate:function(){this.setState({timestamp:(new Date).getTime()})},initiateTimer:function(){this.props.isLoaded&&null===this.timerId&&(this.timerId=setInterval(this.invalidate,s.getMiniChartsUpdateInterval()))},componentDidMount:function(){this.initiateTimer()},componentDidUpdate:function(){this.initiateTimer()},componentWillUnmount:function(){i.isNull(this.timerId)||clearInterval(this.timerId)},render:function(){var t=this.props.model,e=t.get(this.props.column.key),n=[this.props.className,"instrument-mini-chart"];if(!e||!this.props.isLoaded)return o.createElement("td",null);var i=s.getMiniChartsServiceUrl()+e.replace("/","").replace(" ","").toLowerCase()+".png?t="+this.state.timestamp;return o.createElement("td",{className:n.join(" ")},o.createElement("div",{className:"instrument-mini-chart-cell"},o.createElement("img",{src:i,width:"75"})))}});r.exports=a}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=r.createClass({displayName:"GridCellPriceRange",getDefaultProps:function(){return{className:""}},getInitialState:function(){return{dayLow:this.props.model.get("dayLow"),dayHigh:this.props.model.get("dayHigh")}},componentDidMount:function(){this.props.model.on("change:dayLow",this.update,this),this.props.model.on("change:dayHigh",this.update,this)},componentWillUnmount:function(){this.props.model.off("change:dayLow",this.update,this),this.props.model.off("change:dayHigh",this.update,this)},update:function(){this.setState({dayLow:this.props.model.get("dayLow"),dayHigh:this.props.model.get("dayHigh")})},render:function(){var t=Number(this.props.model.get("precision")),e=this.state.dayLow&&this.state.dayHigh?Number(this.state.dayLow).toFixed(t)+" - "+Number(this.state.dayHigh).toFixed(t):"";return r.createElement("td",{className:this.props.className},r.createElement("div",null,e))}});i.exports=o}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=n(200),s=n(215),a=n(212),l=r.createClass({displayName:"GridCellPriceAlertNew",getDefaultProps:function(){return{tagName:"td"}},getInstrumentId:function(){return parseInt(this.props.model.get("id"))},onClick:function(){new s({parent:document.body,model:new a({instrumentId:this.getInstrumentId()})})},render:function(){return r.createElement(this.props.tagName,{className:"col-4 grid-middle grid-right"},r.createElement(o,{onClick:this.onClick},__("tab.price-alerts.grid.columns.new")))}});i.exports=l}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(1),o=n(207),s=n(1580),a=n(0);i.exports=r.createClass({displayName:"exports",getDefaultProps:function(){return{markAsHovered:a.noop}},shouldComponentUpdate:function(t){return t.model!==this.props.model},mouseOver:function(){this.props.markAsHovered(!0)},mouseOut:function(){this.props.markAsHovered(!1)},render:function(){return r.createElement("td",{className:"cell-anim-button-rate",onMouseOver:this.mouseOver,onMouseOut:this.mouseOut},r.createElement(o.Bid,{symbol:this.props.model.get("symbol"),render:s}))}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i=n(1),r=n(29),o=n(179),s=n(11),a=n(14),l=function(t){return i.createElement("span",null,t.bid)},c=function(){var t=0;return function(e){var n=e.model,i=e.attrs,r=i.bid,o=i.bidDirection,a=i.precision,l=i.pipsPrecision,c=i.sellTradable,u={symbol:n&&n.getSymbol(),bid:!r||Number(r).toFixed(a||0),bidDirection:o,precision:a||0,pipsPrecision:l||0,attrs:i,sellTradable:c,notTradableMessage:n&&n.status.getBuyTradableMessage(),className:s({disabled:!c,up:1===t||1===o,down:-1===t||-1===o,equally:0===t})};return t=o,u}};t.exports=r({displayName:"exports",getInitialState:function(){return{start:(new Date).getSeconds()}},componentDidMount:function(){this.model=a.getInstrumentBySymbol(this.props.symbol),this.model.on("change:bidDirection",this.changeStart),this.bidInterval=setInterval(function(){var t=(new Date).getSeconds();Math.abs(t-this.state.start)>1&&this.model.set("bidDirection","0")}.bind(this),0)},shouldComponentUpdate:function(t,e){return e.start!==this.state.start&&t.symbol!==this.props.symbol},componentWillUnmount:function(){clearInterval(this.bidInterval),this.model.off("change:bidDirection",this.changeStart)},changeStart:function(){this.setState({start:(new Date).getSeconds()})},render:function(){var t=this.props,e=t.symbol,n=t.render,r=void 0===n?l:n;t.children;return i.createElement(o,{symbol:e,options:c(),properties:"bid,bidDirection,precision,pipsPrecision,sellTradable"},r)}})},function(t,e,n){var i=n(1),r=n(29),o=n(179),s=n(11),a=n(14),l=function(t){return i.createElement("span",null,t.ask)},c=function(){var t=0;return function(e){var n=e.model,i=e.attrs,r=i.ask,o=i.askDirection,a=i.precision,l=i.pipsPrecision,c=i.buyTradable,u={symbol:n&&n.getSymbol(),ask:!r||Number(r).toFixed(a||0),askDirection:o,precision:a||0,pipsPrecision:l||0,attrs:i,buyTradable:c,notTradableMessage:n&&n.status.getBuyTradableMessage(),className:s({disabled:!c,up:1===t||1===o,down:-1===t||-1===o,equally:0===t})};return t=o,u}};t.exports=r({displayName:"exports",getInitialState:function(){return{start:(new Date).getSeconds()}},componentDidMount:function(){this.model=a.getInstrumentBySymbol(this.props.symbol),this.model.on("change:askDirection",this.changeStart),this.askInterval=setInterval(function(){var t=(new Date).getSeconds();Math.abs(t-this.state.start)>1&&this.model.set("askDirection","0")}.bind(this),0)},shouldComponentUpdate:function(t,e){return e.start!==this.state.start&&t.symbol!==this.props.symbol||t.render!==this.props.render},componentWillUnmount:function(){clearInterval(this.askInterval),this.model.off("change:askDirection",this.changeStart)},changeStart:function(){this.setState({start:(new Date).getSeconds()})},render:function(){var t=this.props,e=t.symbol,n=t.render,r=void 0===n?l:n;t.children;return i.createElement(o,{symbol:e,options:c(),properties:"ask,askDirection,precision,pipsPrecision,buyTradable"},r)}})},function(t,e,n){var i=n(1),r=n(29),o=(n(0),n(179)),s=n(11),a=function(t){var e=t.attrs.percentChange,n=s({down:e<0,up:e>0,equally:!e});return i.createElement("span",{className:n},e||0,"%")};t.exports=r({displayName:"exports",shouldComponentUpdate:function(t){return t.symbol!==this.props.symbol||t.render!==this.props.render},render:function(){var t=this.props,e=t.symbol,n=t.render,r=void 0===n?a:n;return i.createElement(o,{symbol:e,render:r,properties:"percentChange"})}})},function(t,e,n){var i=n(1),r=n(29),o=(n(0),n(179)),s=n(11),a=n(31),l=function(t){var e=0,n=0;return function(r){var o=r.attrs,l=o.ask,c=o.bid,u=o.precision,d=o.pipsPrecision,h=Math.abs(c-l)/(1/Math.pow(10,d))||!1;!1!==(h=h||!1)&&(h=+Number(h).toFixed(u||0));var p=s({equally:!0});return e=h==n?0:h<n?-1:1,n=h,i.createElement(t,{className:p},h&&(h%100==0?a(h).format("0[.][0000]a"):h)||"")}};t.exports=r({displayName:"exports",getDefaultProps:function(){return{symbol:"",as:"span",render:null}},shouldComponentUpdate:function(t){return t.as!==this.props.as||t.symbol!==this.props.symbol||t.render!==this.props.render},render:function(){var t=this.props,e=t.as,n=t.render,r=t.symbol;return i.createElement(o,{render:n||l(e),symbol:r,properties:"bid,ask"})}})},function(t,e,n){var i=n(1),r=n(29),o=(n(0),n(179)),s=n(11),a=function(){var t=0;return function(e){var n=(e.model,e.attrs),i=n.bidDirection,r=s({icon:1,"icon-arrow-up":1==t||1==i,"icon-arrow-down":-1==t||-1==i});return t=0!=i?i:t,{attrs:n,className:r}}};t.exports=r({displayName:"exports",getDefaultProps:function(){return{as:"i",options:a()}},shouldComponentUpdate:function(t){return t.as!==this.props.as||t.symbol!==this.props.symbol||t.render!==this.props.render},render:function(){var t=this.props,e=t.as,n=(t.render,t.symbol),r=t.children,s=t.options;return i.createElement(o,{as:e,render:r,symbol:n,options:s,properties:"bidDirection"})}})},function(t,e,n){function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=n(1),o=n(11),s=n(2),a=n(52),l=n(10),c=l.SELL,u=n(0),d=function(t){return s.trigger("ui:new-position",{direction:c,symbolOrId:t})};t.exports=function(t){var e=!u.isNaN(parseInt(t.bid)),n=o(i({"price-button":!0,"price-button_ani_xfluid":!0},t.className,!0)),s=o({"price-button__wrapper":!0,btn:!0,disabled:!t.sellTradable,bar_loading:!e});return e&&(t.bid=a.divideValueByPipSize(t.bid,t.pipsPrecision)),r.createElement("div",{className:n},r.createElement("buttton",{disabled:!t.sellTradable,className:s,onClick:function(){return t.sellTradable&&d(t.symbol)},"aria-label":t.notTradableMessage},r.createElement("div",{className:"price-button__title price-button__title_self-end"},!0===t.bid?t.bid:a.formatValueToStringOrComponent(t.bid,!1))))}},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(1),o=n(207),s=n(1582),a=n(0);i.exports=r.createClass({displayName:"exports",getDefaultProps:function(){return{markAsHovered:a.noop}},shouldComponentUpdate:function(t){return t.model!==this.props.model},mouseOver:function(){this.props.markAsHovered(!0)},mouseOut:function(){this.props.markAsHovered(!1)},render:function(){return r.createElement("td",{className:"cell-anim-button-rate",onMouseOver:this.mouseOver,onMouseOut:this.mouseOut},r.createElement(o.Ask,{symbol:this.props.model.get("symbol"),render:s}))}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=n(1),o=n(11),s=n(2),a=n(52),l=n(10),c=l.BUY,u=n(0),d=function(t){return s.trigger("ui:new-position",{direction:c,symbolOrId:t})};t.exports=function(t){var e=!u.isNaN(parseInt(t.ask)),n=o(i({"price-button":!0,"price-button_ani_xfluid":!0},t.className,!0)),s=o({"price-button__wrapper":!0,btn:!0,disabled:!t.buyTradable,bar_loading:!e});return e&&(t.ask=a.divideValueByPipSize(t.ask,t.pipsPrecision)),r.createElement("div",{className:n},r.createElement("buttton",{disabled:!t.buyTradable,className:s,onClick:function(){return t.buyTradable&&d(t.symbol)},"aria-label":t.notTradableMessage},r.createElement("div",{className:"price-button__title price-button__title_self-start"},!0===t.ask?t.ask:a.formatValueToStringOrComponent(t.ask,!1))))}},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=n(207);i.exports=r.createClass({displayName:"exports",shouldComponentUpdate:function(t){return t.model!==this.props.model},render:function(){var t=this.props.model,e=t&&t.get("symbol");return r.createElement("td",{className:"cell-spread-with-direction"},r.createElement("div",{className:"spread flex flex-column flex-align-center"},r.createElement(o.RateDirection,{symbol:e},function(t){return r.createElement("div",null,r.createElement("i",{className:t.className}))}),r.createElement(o.Spread,{as:"div",symbol:e})))}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=n(68),s=r.createClass({displayName:"GridCellOrderPlaceTime",render:function(){var t=this.props.model.get(this.props.column.key),e=o.gridCellOrderPlaceTime(t,"DD/MM/YYYY HH:mm"),n=[this.props.className].join(" ");return r.createElement("td",{className:n},e)}});i.exports=s}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o;void 0!==(o=function(t,e,i){var o=n(1),s=n(68),a=n(11),l=n(0);i.exports=o.createClass({displayName:"exports",getDefaultProps:function(){return{className:"",sortCompareFn:null,collection:null,useSorting:!1,sortAscending:!1,sortDirection:0,onSort:null,tooltipText:null,text:""}},sort:function(){l.isFunction(this.props.sortCompareFn)&&l.isFunction(this.props.onSort)&&this.props.onSort(this.props.column.name,this.props.sortDirection)},render:function(){var t,e=this.props,n=e.className,i=e.useSorting,l=e.sortDirection,c=e.tooltipText,u=e.column,d=u.style,h=u.name,p=parseInt(l,10),f=a((t={},r(t,n,!0),r(t,"column",!0),r(t,"column-sortable",i),r(t,"ascending",1===p),r(t,"descending",-1===p),t));return o.createElement("th",{onClick:this.sort,className:f,style:d,"data-tooltip-align":c?"right":null,"aria-label":c},h&&__(h),s.columnGMTPostfix())}})}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0))},function(t,e,n){n(225),n(226),n(238),n(330),n(471),n(475),n(478),t.exports=n(57).Map},function(t,e,n){n(225),n(226),n(238),n(331),n(474),n(476),n(479),t.exports=n(57).Set},function(t,e,n){n(225),n(238),n(332),n(477),n(480),t.exports=n(57).WeakMap},function(t,e,n){n(226),n(455),t.exports=n(57).Array.from},function(t,e,n){n(444),t.exports=n(57).Object.assign},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=n(431);i.exports=r.createClass({displayName:"exports",getInstrumentId:function(){return this.props.model.get("instrumentId")||this.props.model.get("id")},componentDidMount:function(){this.props.model.on("change:buyTradable",this.update,this)},componentWillUnmount:function(){this.props.model.off("change:buyTradable",this.update,this)},update:function(){this.forceUpdate()},render:function(){return r.createElement("td",null,r.createElement("div",{className:"actions"},r.createElement(o,{onClick:this.props.onClick,type:"primary",id:this.getInstrumentId(),model:this.props.model,isDisabled:!this.props.model.status.isBuyTradable(),tooltipText:this.props.model.status.getBuyTradableMessage(),source:this.props.source},__("actions.buy"))))}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=n(432);i.exports=r.createClass({displayName:"exports",getInstrumentId:function(){return this.props.model.get("instrumentId")||this.props.model.get("id")},componentDidMount:function(){this.props.model.on("change:sellTradable",this.update,this)},componentWillUnmount:function(){this.props.model.off("change:sellTradable",this.update,this)},update:function(){this.forceUpdate()},render:function(){return r.createElement("td",null,r.createElement("div",{className:"actions"},r.createElement(o,{onClick:this.props.onClick,type:"primary",id:this.getInstrumentId(),model:this.props.model,isDisabled:!this.props.model.status.isSellTradable(),tooltipText:this.props.model.status.getSellTradableMessage(),source:this.props.source},__("actions.sell"))))}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=n(830),s=r.createClass({displayName:"GridCellFavouriteButton",render:function(){var t=this.props.column.key,e=this.props.model,n=(e.get(t),e.get("symbol"));return r.createElement("td",{className:"actions"},r.createElement("div",{className:"actions"},r.createElement(o,{symbol:n})))}});i.exports=s}.call(e,n,e,t))&&(t.exports=i)},function(t,e){t.exports='<div class="search-title hidden-sm hidden-md hidden-lg"><span><%=__(\'search.all.instruments\')%></span></div><div class="search-block"><div class="killer-container hidden"></div><div class="search-block-input <%=inputClassName%>"><input type="text" value="<%=value%>" placeholder="<%=placeholder%>" id="search-block-input" autocomplete="off"></div><div class="results"></div></div>'},function(t,e){},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(12),s=n(7),a=(n(9),n(688),n(114)),l=(n(6),n(1)),c=n(16),u=n(1597),d=n(2),h=n(672);i.exports=o.extend({tag:"div",className:"content-body account-level",levelsModel:s.getUserLevelsModel(),events:function(){return r.extend({},r.result(o.prototype,"events"),{"click .fn-submit":"onSubmit"})},initialize:function(){this.listenTo(d,"account-level:error:request",this.onError)},render:function(){this.levelsModel.isMarketsX()?this.template=r.template(n(1598)):this.levelsModel.isEligibleForMarketsX()?this.template=r.template(n(1599)):this.levelsModel.isTcAccepted()?this.template=r.template(n(1600)):this.template=r.template(n(1601)),this.$el.html(this.template({amount:this.levelsModel.getAmount()})),(!this.levelsModel.isMarketsX()&&this.levelsModel.isEligibleForMarketsX()||!this.levelsModel.isEligibleForMarketsX()&&!this.levelsModel.isTcAccepted())&&(this.accountLevelCheckbox=new a({el:this.$el.find("#customer-levels-field")[0]}),this.listenTo(this.accountLevelCheckbox,"change",this.changeLevelCheckbox),this.changeLevelCheckbox()),(this.levelsModel.isMarketsX()||!this.levelsModel.isEligibleForMarketsX()&&!this.levelsModel.isTcAccepted()||!this.levelsModel.isEligibleForMarketsX()&&this.levelsModel.isTcAccepted())&&this.renderSlider()},renderSlider:function(){c.render(l.createElement(u,{}),this.$el.find(".slider-block")[0])},disableSubmitButton:function(){return this.$el.find(".fn-submit").addClass("disabled").removeClass("btn-primary"),this},enableSubmitButton:function(){return this.$el.find(".fn-submit").removeClass("disabled").addClass("btn-primary"),this},destroy:function(){this.accountLevelCheckbox&&this.accountLevelCheckbox.destroy(),o.prototype.destroy.call(this)},changeLevelCheckbox:function(t){(!this.levelsModel.isMarketsX()&&this.levelsModel.isEligibleForMarketsX()||this.levelsModel.isTcAccepted())&&(this.accountLevelCheckbox&&this.accountLevelCheckbox.isChecked()?this.enableSubmitButton():this.disableSubmitButton())},onError:function(){d.trigger("ui:message-box",{caption:__("indigo.errors.title"),text:__("indigo.generic.error.message")})},onSubmit:function(){if(this.levelsModel.isMarketsX()||!this.levelsModel.isEligibleForMarketsX()||!this.accountLevelCheckbox||this.accountLevelCheckbox.isChecked()){var t=function(){return location.reload()};this.levelsModel.isMarketsX()?this.levelsModel.acceptForMarketsX("Classic").then(function(){d.trigger("ui:account-settings:close"),new h({parent:document.body,isHeaderShowed:!1,btnText:__("classic.popup.upgrade.congratulations.btn"),texts:[__("classic.popup.upgrade.congratulations.text1"),__("classic.popup.upgrade.congratulations.text2")],onOK:function(){t()}})}).catch(function(){d.trigger("account-level:error:request")}):this.levelsModel.isEligibleForMarketsX()?this.levelsModel.acceptForMarketsX("MarketsX").then(function(){d.trigger("ui:account-settings:close"),new h({parent:document.body,isHeaderShowed:!1,btnText:__("marketsX.popup.upgrade.congratulations.btn"),texts:[__("marketsX.popup.upgrade.congratulations.text1"),__("marketsX.popup.upgrade.congratulations.text2")],onOK:function(){t()}})}).catch(function(){d.trigger("account-level:error:request")}):this.levelsModel.isTcAccepted()?(d.trigger("ui:account-settings:close"),d.trigger("flow:deposit:RealDepositMyAccount")):(!this.accountLevelCheckbox.isChecked()&&d.trigger("ui:account-settings:close"),this.accountLevelCheckbox.isChecked()&&this.levelsModel.acceptTcForMarketsX().then(function(){d.trigger("ui:account-settings:close")}).catch(function(){d.trigger("account-level:error:request")}))}},beforeCreate:function(){return!0},isSaveNeeded:function(){return!1},save:function(){throw"It is not implemented"}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=n(674).default,s=n(118).default,a=n(7),l=function(){return r.createElement("ul",null,r.createElement("li",null,r.createElement("span",null,__("account.level.classic.not.eligible.premium.pricing"))),r.createElement("li",null,r.createElement("span",null,__("account.level.classic.not.eligible.bespoke.support"))),r.createElement("li",null,r.createElement("span",null,__("account.level.classic.not.eligible.exclusive.tools"))),r.createElement("li",null,r.createElement("span",null,__("account.level.classic.not.eligible.markets.knowledge.centre"))))},c=function(){return r.createElement("ul",null,r.createElement("li",null,r.createElement("span",null,__("account.level.classic.not.eligible.premium.pricing"))),r.createElement("li",null,r.createElement("span",null,__("account.level.classic.not.eligible.bespoke.support"))),r.createElement("li",null,r.createElement("span",null,__("account.level.classic.not.eligible.exclusive.tools"))),r.createElement("li",null,r.createElement("span",null,__("account.level.classic.not.eligible.markets.knowledge.centre"))))},u=function(){return r.createElement("ul",null,r.createElement("li",null,r.createElement("span",null,__("account.settings.popup.marketsX.premium.pricing"))),r.createElement("li",null,r.createElement("span",null,__("account.settings.popup.marketsX.vip.support"))),r.createElement("li",null,r.createElement("span",null,__("account.settings.popup.marketsX.exclusive.tools"))),r.createElement("li",null,r.createElement("span",null,__("account.settings.popup.marketsX.markets.knowledge.centre"))))};i.exports=function(){var t=a.getUserLevelsModel(),e=null;return e=t.isMarketsX()?u:!t.isEligibleForMarketsX()&&t.isTcAccepted()?c:l,r.createElement("div",{className:"features_list"},r.createElement(s,{minWidth:768},e()),r.createElement(s,{maxWidth:767},r.createElement(o,null)))}}.call(e,n,e,t))&&(t.exports=i)},function(t,e){t.exports='<div class="panel-form-box"><p class="panel-title grid-middle"><i class="icon icon-info hidden-xs"></i> <%=__(\'account.level.marketsX\')%> </p><div class="panel-form account-level"><div class="title"><span><%= __(\'account.settings.popup.marketsX.features.lists.header\') %>:</span></div><div class="text-block slider-block"></div><div class="text-block"><a href="<%= __(\'marketsX.link.lern.more\') %>" target="_blank"><%= __(\'marketsX.learn_more\')%></a></div></div></div><div class="grid-12_sm-1 form-row form-actions"><div class="actions"><div class="grid-middle"><button class="btn btn-primary fn-submit"> <%= __(\'marketsX.popup.update.btn.back\') %> </button></div></div></div><div class="space hidden-xs"></div>'},function(t,e){t.exports='<div class="panel-form-box"><p class="panel-title grid-middle"><i class="icon icon-info hidden-xs"></i> <%=__(\'account.level.classic\')%> </p><div class="panel-form account-level"><div class="title block-margin-bottom"><span><%=__(\'account.level.classic.eligible.congratulations\')%></span></div><div class="text-block block-margin-bottom"> <%=__(\'account.level.classic.eligible.part1\')%> </div><div class="text-block"> <%=__(\'account.level.classic.eligible.part2\')%> </div></div></div><div class="grid-12_sm-1 form-row form-actions"><div class="col-12_sm-12"><div class="field field-type-checkbox" id="customer-levels-field"><input type="checkbox" id="customer-levels" name="customer_levels"><label for="customer-levels"></label></div><div class="text"> <%= __(\'marketsX.settings.upgrade.terms.text\') %> </div></div><div class="actions"><div class="grid-middle"><button class="btn btn-primary fn-submit"> <%= __(\'marketsX.popup.update.btn.upgrade\') %> </button></div></div></div><div class="space hidden-xs"></div>'},function(t,e){t.exports='<div class="panel-form-box"><p class="panel-title grid-middle"><i class="icon icon-info hidden-xs"></i> <%=__(\'account.level.classic\')%> </p><div class="panel-form account-level"><div class="text-block"> <%= __(\'account_settings.account-level.information.classic.description.part1\', amount) %> </div><div class="text-block"> <%= __(\'account_settings.account-level.information.classic.description.part2\') %> </div><div class="text-block slider-block"></div><div class="text-block"><a href="<%= __(\'marketsX.link.lern.more\') %>" target="_blank"><%= __(\'marketsX.learn_more\')%></a></div></div></div><div class="grid-12_sm-1 form-row form-actions"><div class="actions"><div class="grid-middle"><button class="btn btn-primary fn-submit"> <%= __(\'marketsX.popup.update.btn.upgrade\') %> </button></div></div></div><div class="space hidden-xs"></div>'},function(t,e){t.exports='<div class="panel-form-box"><p class="panel-title grid-middle"><i class="icon icon-info hidden-xs"></i> <%=__(\'account.level.classic\')%> </p><div class="panel-form account-level"><div class="text-block"> <%= __(\'account_settings.account-level.information.classic.description.part1\', amount) %> </div><div class="text-block"> <%= __(\'account_settings.account-level.information.classic.description.part2\') %> </div><div class="text-block slider-block"></div><div class="text-block"><a href="<%= __(\'marketsX.link.lern.more\') %>" target="_blank"><%= __(\'marketsX.learn_more\')%></a></div></div></div><div class="grid-12_sm-1 form-row form-actions"><div class="col-12_sm-12"><div class="field field-type-checkbox" id="customer-levels-field"><input type="checkbox" id="customer-levels" name="customer_levels"><label for="customer-levels"></label></div><div class="text"> <%= __(\'marketsX.popup.promotion.terms\') %> </div></div><div class="actions"><div class="grid-middle"><button class="btn btn-primary fn-submit"> <%= __(\'account_settings.button.save\') %> </button></div></div></div><div class="space hidden-xs"></div>'},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(13),s=n(6);i.exports=o.extend({initial:{},defaults:{"markets-review-email":!1,"markets-review-sms":!1,"promotions-email":!1,"promotions-sms":!1,"platform-updates-email":!1,"platform-updates-sms":!1,"margin-call-email":!1,"margin-call-sms":!1,"education-email":!1,"education-sms":!1},map:{"markets-review-sms":"Notifications-MarketReviews-SMS","markets-review-email":"Notifications-MarketReviews-Email","promotions-sms":"Notifications-Promotion-SMS","promotions-email":"Notifications-Promotion-Email","platform-updates-sms":"Notifications-PlatformUpdate-SMS","platform-updates-email":"Notifications-PlatformUpdate-Email","margin-call-sms":"Notifications-MarginCall-SMS","margin-call-email":"Notifications-MarginCall-Email","education-sms":"Notifications-Education-SMS","education-email":"Notifications-Education-Email"},load:function(){return s.loadAccountNotification().then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this))},loadSuccess:function(t){var e=this;r.each(t.data,function(t){return e.set(e.keyFromMapByValue(t),!0)})},loadError:function(t){return Promise.reject(t)},keyFromMapByValue:function(t){for(var e in this.map)if(this.map[e]===t)return e},save:function(){return this.rememberAsInitial(),s.updateAccountNotification(this.createSubscribeServicesArray(),this.createUnsubscribeServicesArray())},createSubscribeServicesArray:function(){var t=this.toJSON();return r.chain(t).keys().filter(function(e){return t[e]}).map(function(t){return this.map[t]},this).value()},createUnsubscribeServicesArray:function(){var t=this.toJSON();return r.chain(t).keys().filter(function(e){return!t[e]}).map(function(t){return this.map[t]},this).value()},rememberAsInitial:function(){this.initial={};var t=this.toJSON();for(var e in t)this.initial[e]=t[e]},isPristine:function(){return r.chain(this.initial).keys().every(function(t){return this.get(t)===this.initial[t]},this).value()}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=(n(0),n(13)),o=n(6),s=n(7),a=n(9);i.exports=r.extend({defaults:{accountType:null,applicationStatus:null},load:function(){return s.isElectiveProfessionalEnabled()&&a.isAccountClassificationEnabled()?o.getProfessionalAccountStatuses().then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this)):(this.set("enabled",!1),Promise.resolve())},loadSuccess:function(t){this.set("enabled",!0);var e=t.data,n=e.clientClassification,i=e.approvalStatus;return this.set("accountType",n?n.toUpperCase():""),this.set("applicationStatus",i?i.toUpperCase():""),Promise.resolve(t)},loadError:function(t){return this.set("enabled",!1),400===t.response.status?Promise.resolve(t):Promise.reject(t)},getAccountType:function(){return this.get("accountType")||{}},getApplicationStatus:function(){return this.get("applicationStatus")||{}},isEnabled:function(){return this.get("enabled")}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){function i(t){return n(r(t))}function r(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./hedgefunds.popup.mobile.view":1605,"./hedgefunds.popup.view":1608};i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id=1604},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(0),s=n(45),a=n(6),l=n(14),c=n(54),u=n(716),d=n(24),h=n(30),p=o.template(n(1606)),f=o.template(n(1607)),m=d.extend({subscribedInstruments:[],initialize:function(t){d.prototype.initialize.apply(this,arguments),this.getHedgefunds()},getHedgefunds:function(){var t=this;return this.addChildView(".hedgefunds-mobile-wrapper",h,{parent:r(".main-box"),position:"absolute"}),a.loadHedgefunds().then(function(e){return e.data.error?(t.hedgefunds=[],t.render(),t.removeChildView(".hedgefunds-mobile-wrapper"),Promise.reject()):(t.hedgefunds=t.createCollection(e.data),t.render(),t.removeChildView(".hedgefunds-mobile-wrapper"),Promise.resolve())})},createCollection:function(t){var e=new s,n=[];return o.each(t,function(t){var i=t.symbol;if(l.getInstrumentBySymbol(i)&&o.has(t,"institutionalHoldingSummary")){var r=new u(t);r.set("instrument",l.getInstrumentBySymbol(i)),n.push(i),e.add(r)}}),this.subscribedInstruments=c.update(n,this.subscribedInstruments).addedSymbols,e},events:function(){return o.extend({},o.result(d.prototype,"events"),{"click .stock":"viewDetails","change [name=instruments]":"filterStocks"})},getOptions:function(t){return o.extend({},o.result(d.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("tab.hedgefunds"),previousCaption:__("actions.back"),headerStyle:"wizard",bodyStyle:"trading-tools",headerCaptionStyle:"hedgefunds-mobile-header"},t)},close:function(t){c.remove(this.subscribedInstruments),d.prototype.close.call(this),this.destroy()},filterStocks:function(t){var e=this.$el.find("select[name=instruments] option:checked"),n=[],i=[];e.length>0&&(n=o.map(e,function(t){return r(t).val()})),i=o.filter(this.hedgefunds.models,function(t){return o.find(n,function(e){return e==t.getSymbol()})}),this.renderFilteredData(i)},viewDetails:function(t){var e=r(t.currentTarget),n=e.closest("tr");r(n).addClass("active");var i=e.find(".stock-expand span"),o=n.parentNode.rows[n.rowIndex];"+"==i.html()?(r(o).removeClass("hidden"),i.html("-"),__eventos("tradingTools:hedgefunds:impression",{page:"details",instrumentName:r(n).attr("data-symbol")})):(r(o).addClass("hidden"),r(n).removeClass("active"),i.html("+"))},getStocksList:function(){return o.uniq(o.map(this.hedgefunds.models,function(t){return[t.getSymbol(),t.getDescription()]}),function(t){return JSON.stringify(t)})},render:function(){d.prototype.render.call(this);var t=o.isArray(this.hedgefunds.models)&&this.hedgefunds.models.length>0?this.hedgefunds.models:[];return this.setContent(p({stocks:this.getStocksList()})),this.$el.find(".content-block").html(f({hedgefunds:t})),__eventos("tradingTools:hedgefunds:impression",{page:"main"}),this},renderFilteredData:function(t){var e=o.isArray(t)>0?t:this.hedgefunds.models;this.$el.find(".content-block").html(f({hedgefunds:e}))}});i.exports=m}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports='<div class="hedgefunds-mobile-wrapper"><div class="hedgefunds-mobile"><div class="filters"> <%if(stocks.length > 0) {%> <div class="styled-select"><select name="instruments" multiple="multiple" size="4"><option disabled="disabled" selected="selected" class="hidden"><%=__(\'wizard.form.label.DEFAULT_EMPTY\')%></option> <%_.each(stocks, function(item){ %> <option value="<%=item[0]%>"><%=item[1]%></option> <% }); %> </select></div> <%}%> </div><div class="content-block"></div></div></div>'},function(t,e){t.exports='<% if(hedgefunds.length > 0) {%> <table class="hedgefunds-table"><thead><tr class="column-head"><th class="column-instrument"><%=__(\'tipranks.text.share\')%></th><th class="column-trend"><%=__(\'hedgefunds.text.trend\')%></th></tr></thead><tbody> <% _.each(hedgefunds, function(item){%> <tr class="row" data-symbol="<%= item.getSymbol()%>"><td class="column-instrument"><div class="stock"><div class="stock-expand"><span>+</span></div><div class="stock-name"><div class="stock-image instrument-img-<%= item.getSymbol().toLowerCase()%>"></div><div class="stock-data"><div><%=item.getDescription()%></div><div><%=item.getTicker()%></div></div></div></div></td><td class="column-trend"><div class="<%=item.getTrendDir().toLowerCase()%>"> <%= __(\'hedgefunds.trend.text\', __(\'hedgefunds.trend.\' + item.getTrendDir().toLowerCase()), item.getTrend()) %> </div></td></tr><tr class="row-expand hidden"><td colspan="2"><div class="stock-details" data-symbol="<%=item.getSymbol()%>"><div class="hedgefund-data-summary"><div class="hedgefunds-holdings-graph"><div class="header"><%=__(\'hedgefunds.holdings.in\')%> <%=item.getTicker()%></div><div class="content"><div class="chart"> <% _.each(item.getInstitutionalHoldingSummaryBar(), function(val){%> <div><div class="date"><%=val[0]%></div><div class="bar-wrapper"><div class="bar" style="width: <%=val[1]%>%"></div></div></div> <%})%> <div><div class="date date-title"><%=__(\'tab.shares\')%></div><div class="bar-wrapper"><div class="bar bar-axis"> <%_.each(item.getInstitutionalHoldingSummaryBarAxis(), function(val) {%> <span><%=val%></span> <%});%> </div></div></div></div></div></div><div class="hedgefunds-confidence-signal"><div class="header"><%=__(\'hedgefunds.confidence.signal\')%></div><div class="content"><div><div class="<%=item.getSignal().toLowerCase().replace(\' \',\'-\')%>"><%=__(\'insiders.\' + item.getSignal().toLowerCase().replace(\' \',\'.\'))%></div><div class="signal-based-on"><%= __(\'hedgefunds.signal.based.on\', item.getBasedOnNumHedgeFunds())%></div></div><div><div class="icon-signal icon-<%=item.getSignal().toLowerCase().replace(\' \',\'-\')%>"></div><div class="signal-sold-bought"><div class="sold"><%=__(\'actions.sold\')%></div><div class="bought"><%=__(\'actions.bought\')%></div></div></div></div></div></div></div></td></tr> <%})%> </tbody></table> <%} else {%> <div class="hedgefunds-empty"><div class="icon-hedgefunds-empty-blue"></div><div><%= __(\'hedgefunds.text.no.hedgefunds\')%></div>`</div> <%}%>'},function(t,e,n){(function(i,r){function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var s;void 0!==(s=function(t,e,i){var s=n(0),a=n(2),l=n(12),c=n(45),u=n(6),d=n(14),h=n(54),p=n(716),f=n(1),m=n(16),g=n(120),v=n(717),b=n(1609),y=n(1611),_=n(30),w=n(161).default,S=l.extend({subscribedInstruments:[],mainTemplate:s.template(n(1612)),hedgefundsTemplate:s.template(n(1613)),events:{"click .hedgefunds-top .icon-close-blue":"close","click .stock":"viewDetails","click .choosen-header-wrapper":"toggleFilter","click .chosen-stocks li":"filterItems","click .chosen-elm .chosen-reset":"filterReset","click th.sortable":"sortHedgefunds","click .take-tour":"openTour"},tagName:"div",className:"hedgefunds-wrapper popup-item",initialize:function(t){var e=this;l.prototype.initialize.apply(this,arguments),this.listenTo(a,"ui:header-itemclick",this.close),this.listenTo(a,"ui:instrument:change",this.close),this.listenTo(a,"ribbon:update",this.updateContentHeight),r(window).on("resize.hedgefunds",function(){return e.updateContentHeight()}),this.parent=t.parent,this.parent.find(".main-box-content").addClass("hidden"),this.activeColumn="",this.hedgefundView=[],this.direction="desc",this.getHedgefunds()},getHedgefunds:function(){var t=this;return this.addChildView(".hedgefunds",_,{parent:r(".main-box"),position:"absolute"}),u.loadHedgefunds().then(function(e){return e.data.error?(t.hedgefunds=[],t.render(),t.removeChildView(".hedgefunds"),Promise.reject()):(t.hedgefunds=t.createCollection(e.data),t.removeChildView(".hedgefunds"),t.render(),Promise.resolve())})},createCollection:function(t){var e=new c,n=[];return s.each(t,function(t){var i=t.symbol;if(d.getInstrumentBySymbol(i)&&s.has(t,"institutionalHoldingSummary")){var r=new p(t);r.set("instrument",d.getInstrumentBySymbol(i)),n.push(i),e.add(r)}}),this.subscribedInstruments=h.update(n,this.subscribedInstruments).addedSymbols,e},sortHedgefunds:function(t){var e=t.currentTarget;this.activeColumn=e.classList[0],this.direction="asc"===e.classList[2]?"desc":"asc",this.filterItems()},_sort:function(t,e){var n="desc"===this.direction?-1:1;if("column-instrument"===this.activeColumn)return t.getSymbol().localeCompare(e.getSymbol())*n},viewDetails:function(t){var e=this,n=r(t.currentTarget),i=n.closest("tr");r(i).addClass("active");var o=n.find(".stock-expand span"),a=i.parentNode.rows[i.rowIndex];if("+"===o.html()){r(a).removeClass("hidden"),o.html("-"),__eventos("tradingTools:hedgefunds:impression",{page:"details",instrumentName:r(i).attr("data-symbol")});var l=s.find(this.hedgefunds.models,function(t){return t.getSymbol()===r(i).attr("data-symbol")});0===r(a).find(".hedgefunds-holdings-graph .highcharts-container").length&&(this.addChildView(".stock-details[data-symbol="+l.getSymbol()+"]",_,{parent:r(".main-box"),position:"absolute"}),u.loadHedgefund(l.getTicker()).then(function(t){e.removeChildView(".stock-details[data-symbol="+l.getSymbol()+"]"),v(r(a).find(".hedgefunds-holdings-graph .content")[0],t.data[0].institutionalHoldingSummary,t.data[0].stockPrices,null,205,48),e.hedgefundView.push(new b({el:r(a).find(".hedgefund-data-holdings"),data:t.data[0].institutionalHoldings})),Promise.resolve()}).catch(function(t){Promise.reject(t)}))}else r(a).addClass("hidden"),r(i).removeClass("active"),o.html("+")},close:function(t){h.remove(this.subscribedInstruments),a.trigger("ui:chart:update-size"),r(window).off("resize.hedgefunds"),this.parent.find(".main-box-content").removeClass("hidden"),s.map(this.hedgefundView,function(t){return t.destroy()}),t&&a.navigate("/"),this.destroy()},toggleFilter:function(t){var e=r(t.currentTarget).parent();e.hasClass("collapsed")?(e.removeClass("collapsed").addClass("expanded"),r(document).on("click.content",function(t){r(t.target).closest(".chosen-elm")||(e.removeClass("expanded").addClass("collapsed"),r(document).off("click.content"))})):(e.removeClass("expanded").addClass("collapsed"),r(document).off("click.content"))},filterItems:function(t){var e=this;if(!s.isUndefined(t)){var n=t.currentTarget.childNodes[0];n.checked=!n.checked}var i=[],r=this.$el.find("input[name=stocks]:checked");this.$el.find(".chosen-stocks .chosen-total span").html(r.length||""),1===r.length?this.$el.find(".chosen-stocks .chosen-text").html(this.$el.find("input[name=stocks]:checked")[0].value):r.length>1?this.$el.find(".chosen-stocks .chosen-text").html(__("tipranks.filter.shares.selected",r.length)):this.$el.find(".chosen-stocks .chosen-text").html(__("tipranks.filter.all.shares"));var o=[];r.length>0&&(o=s.map(r,function(t){return t.value})),i=s.filter(this.hedgefunds.models,function(t){return!o.length||s.find(o,function(e){return e===t.getSymbol()})}),i.sort(function(t,n){return e._sort(t,n)}),this.renderFilteredData(i)},filterReset:function(t){var e=t.currentTarget.classList[1];this.$el.find(".chosen-"+e).removeClass("expanded").addClass("collapsed"),s.each(this.$el.find("input[name="+e+"]"),function(t){return t.checked=!1}),this.filterItems()},getStocksList:function(){return s.uniq(s.map(this.hedgefunds.models,function(t){return[t.getSymbol(),t.getDescription()]}),function(t){return JSON.stringify(t)})},render:function(){var t=this;l.prototype.render.call(this);var e=s.isArray(this.hedgefunds.models)&&this.hedgefunds.models.length>0?this.hedgefunds.models:[];this.$el.html(this.mainTemplate({stocks:this.getStocksList()})),this.$el.find(".content-block").html(this.hedgefundsTemplate({hedgefunds:this.hedgefunds.models,direction:this.direction,activeColumn:this.activeColumn})),this.getBuySell(e);var n=s.map(this.hedgefunds.models,function(t){return t});return m.render(f.createElement(w,{options:[].concat(o(n)),placeholder:__("tipranks.text.all_stoks"),onChange:function(e){return t.renderFilteredData(e)},transformOptionText:function(t){return t.get("description")},transformOptionValue:function(t){return t.get("symbol")}}),document.getElementById("searchableDropdown")),__eventos("tradingTools:hedgefunds:impression",{page:"main"}),this.updateContentHeight(),this},renderFilteredData:function(t){var e=s.isArray(t)&&!s.isEmpty(t)?t:this.hedgefunds.models;this.$el.find(".content-block").html(this.hedgefundsTemplate({hedgefunds:e,direction:this.direction,activeColumn:this.activeColumn})),this.getBuySell(e)},openTour:function(){this.$el.find(".content-block")[0].scrollTop=0,y(this.$el)},updateContentHeight:function(){var t=240;r(".ribbon-notification").length>0&&r(".ribbon-notification")[0].clientHeight&&(t+=r(".ribbon-notification")[0].clientHeight);var e=document.documentElement.clientHeight-t;this.$el.find(".content-block").css("height",e+"px")},getBuySell:function(t){var e=this;s.each(t,function(t,n){var i=f.createElement(g,{type:"Sell",column:{name:"Sell",key:"bid",direction:"bidDirection"},model:t.get("instrument"),isSelected:!0,onClick:function(){}}),r=f.createElement(g,{type:"Buy",column:{name:"Buy",key:"ask",direction:"askDirection"},model:t.get("instrument"),isSelected:!1,onClick:function(){}});m.render(i,e.$el.find(".instrument-sell-change tr")[n]),m.render(r,e.$el.find(".instrument-buy-change tr")[n])})}});i.exports=S}.call(e,n,e,t))&&(t.exports=s)}).call(e,n(0),n(5))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(12),s=n(38),a=n(255),l=o.extend({template:r.template(n(1610)),initialize:function(t){o.prototype.initialize.apply(this,arguments),this.options.data.length>0&&this.render()},render:function(){this.$el.append(this.template({data:this.options.data,numbro:s,defaultImg:a}))}});i.exports=l}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports="<table><thead><tr><th><%=__('hedgefunds.manager')%></th><th><%=__('hedgefunds.action')%></th><th><%=__('hedgefunds.holdings.change')%></th><th><%=__('hedgefunds.value.reported')%></th><th><%=__('hedgefunds.portfolio')%></th></tr></thead><tbody> <%_.each(data, function(item) {%> <tr><td class=\"column-manager\"><div><div class=\"manager-pic\"><img src=\"<%if(item.imageUrl != 'null'){%>https://az712682.vo.msecnd.net/expert-pictures/<%=item.imageUrl%><%} else {%><%=defaultImg%><%}%>\"></div><div class=\"manager-details\" data-tooltip-align=\"bottom\" aria-label=\"<%=__('hedgefunds.manager.stats', item.managerName, item.institutionName, item.rank, item.totalRankedInstitutions)%>\"><div class=\"manager-name\"><span><%=item.managerName%></span><span><%=item.institutionName%></span></div></div></div></td><td class=\"column-action\"><div class=\"<%if(item.change > 0){%>positive<%} else if(item.change < 0){%>negative<%}%>\"><%=__('hedgefunds.action.' + item.action.replace(' ','.').toLowerCase())%></div></td><td class=\"column-change\"><span class=\"<%if(item.change > 0){%>positive<%} else if(item.change < 0){%>negative<%}%>\"><%=item.change%>%</span></td><td class=\"column-value\">$<%=numbro(item.value).format('0a')%> </td><td> <%=numbro(item.percentageOfPortfolio).format('(0.00%)')%> </td></tr> <% });%> </tbody></table>"},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=(n(0),n(187));r.exports=function(t){var e=t.find(".take-tour");e.addClass("hidden");var n=function(e){return t.find(e)},r=function(t,e){return n(t)[e]},s=function(e,n){return"+"==t.find(".row:first-child .stock-expand span").html()&&t.find(".row:first-child .stock-expand")[0].click(),r(e,n)},a=function(){"-"==t.find(".row:first-child .stock-expand span").html()&&t.find(".row:first-child .stock-expand")[0].click()},l=[{element:r(".chosen-stocks",0),intro:__("hedgefunds.text.slide_1_text"),position:"top"},{element:s(".hedgefunds-holdings-graph",0),intro:__("hedgefunds.text.slide_2_text"),position:"top"},{element:s(".hedgefunds-confidence-signal",0),intro:__("hedgefunds.text.slide_3_text"),position:"top"},{element:r(".stock-buy-sell",0),intro:__("hedgefunds.text.slide_4_text"),position:"top"},{element:s(".hedgefund-data-holdings table tbody tr",0),intro:__("hedgefunds.text.slide_5_text"),position:"top"}];o.introJs().setOptions({nextLabel:__("tipranks.text.slide_next"),prevLabel:__("tipranks.text.slide_prev"),doneLabel:__("actions.done"),skipLabel:" ",steps:l}).oncomplete(function(){i(e.removeClass("hidden")),a()}).onexit(function(){i(e.removeClass("hidden")),a()}).start()}}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(5))},function(t,e){t.exports='<div class="popup-item-wrapper"><div class="hidden-xs hedgefunds-top"><div class="header-actions fn-close-popup btn"><i class="icon-close-blue"></i></div></div><div class="hedgefunds"><div class="header-block overflow-unset"><div class="hedgefunds-header"><h3><%=__(\'hedgefunds.title\')%></h3><span><%=__(\'hedgefunds.description\')%></span></div> <%if (stocks.length > 0) {%> <div class="take-tour"><%=__(\'tipranks.text.take_tour\')%></div> <%}%> <div class="filters"><div id="searchableDropdown"></div></div></div><div class="content-block"></div><div class="risk-warning"><%=__(\'hedgefunds.text.disclaimer\')%></div></div></div>'},function(t,e){t.exports='<% if(hedgefunds.length > 0) {%> <table class="hedgefunds-table"><thead><tr class="column-head"><th class="column-instrument sortable <%=direction%> <%if(activeColumn == \'column-instrument\'){%>active<%}%>"><%=__(\'tipranks.text.share\')%></th><th class="column-trend"><%=__(\'hedgefunds.text.trend\')%></th><th class="column-sentiment"><%=__(\'hedgefunds.text.signal\')%></th><th class="column-trade"><%=__(\'tipranks.text.trade\')%></th></tr></thead><tbody> <% _.each(hedgefunds, function(item){%> <tr class="row" data-symbol="<%= item.getSymbol()%>"><td class="column-instrument"><div class="stock"><div class="stock-expand"><span>+</span></div><div class="stock-name"><div class="stock-image instrument-img-<%= item.getSymbol().toLowerCase()%>"></div><div class="stock-data"><div><%=item.getDescription()%></div><div><%=item.getTicker()%></div></div></div></div></td><td class="column-trend"><div class="<%=item.getTrendDir().toLowerCase()%>"> <%= __(\'hedgefunds.trend.text\', __(\'hedgefunds.trend.\' + item.getTrendDir().toLowerCase()), item.getTrend()) %> </div></td><td class="column-sentiment"><div class="<%=item.getSignalDir()%>"><div><%=item.getSignal()%></div></div></td><td class="column-trade"><div class="stock-buy-sell"><div class="instrument-sell-change"><table><tr></tr></table></div><div class="instrument-buy-change"><table><tr></tr></table></div></div></td></tr><tr class="row-expand hidden"><td colspan="4"><div class="stock-details" data-symbol="<%=item.getSymbol()%>"><div class="hedgefund-data-summary"><div class="hedgefunds-holdings-graph"><div class="header"><%=__(\'hedgefunds.holdings.in\')%> <%=item.getTicker()%></div><div class="content"></div></div><div class="hedgefunds-confidence-signal"><div class="header"><%=__(\'hedgefunds.confidence.signal\')%></div><div class="content"><div class="<%=item.getSignal().toLowerCase().replace(\' \',\'-\')%>"><%=__(\'insiders.\' + item.getSignal().toLowerCase().replace(\' \',\'.\'))%></div><div class="signal-based-on"><%= __(\'hedgefunds.signal.based.on\', item.getBasedOnNumHedgeFunds())%></div><div class="icon-<%=item.getSignal().toLowerCase().replace(\' \',\'-\')%>"></div><div class="signal-sold-bought"><div class="sold"><%=__(\'actions.sold\')%></div><div class="bought"><%=__(\'actions.bought\')%></div></div></div></div></div><div class="hedgefund-data-holdings"></div></div></td><td></td></tr> <%})%> </tbody></table> <%} else {%> <div class="hedgefunds-empty"><div class="icon-hedgefunds-empty-blue"></div><div><%= __(\'hedgefunds.text.no.hedgefunds\')%></div></div> <%}%>'},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(15),o=n(80),s=n(687),a=n(2),l=n(7),c=n(1),u=n(16),d=n(0),h=n(379).default,p=n(262).SWITCH_MODE_DROPDOWN,f=n(69),m=f.OPEN_POSITION_OPTIONS,g=n(49),v=g.EMPTY,b=g.TYPE_MARKET;i.exports=o.extend({events:function(){return d.extend({},{"mousedown .fn-close-popup":"close","mousedown .fn-settings":"openSettings","mousedown .popup-header":"startDrag"},d.result(o.prototype,"events"))},initialize:function(t){var e=this;o.prototype.initialize.apply(this,arguments),this.drag=s({onStart:function(){return{startStyleTop:parseInt(e.popupContent.style.top,10)||0,startStyleLeft:parseInt(e.popupContent.style.left,10)||0}},onDrag:function(t){e.popupContent.style.top=t.startStyleTop-t.distanceY+"px",e.popupContent.style.left=t.startStyleLeft-t.distanceX+"px"}})},render:function(){return o.prototype.render.call(this),this.$(".popup-header-icon").html('<i class="icon icon-drag"></i>'),this.$(".popup-actions").remove(),this.$(".popup-header").append('\n                <div class="popup-actions fn-settings btn"></div>\n                <div class="popup-actions fn-close-popup btn">\n                    <i class="icon icon-close-grey"></i>\n                </div>\n            '),this.popupContent=this.$(".popup-content")[0],this.initSettings(),this},startDrag:function(t){this.drag.start(t)},openSettings:function(t){t.stopImmediatePropagation(),t.preventDefault()},initSettings:function(){var t=this;if(!r.mobile()){this.$settingsButton=this.$(".fn-settings")[0];var e=l.getUserCommonData().getOpenPositionMode();this.settingsDropdown=u.render(c.createElement(h,{options:m,selected:e,transformOptionText:function(t){return __("modes."+[t])},onChange:function(e){return t.changeOpenPositionMode(e)}}),this.$settingsButton)}},destroy:function(){this.settingsDropdown&&this.destroySettings(),o.prototype.destroy.call(this)},destroySettings:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$settingsButton;u.unmountComponentAtNode(t)},changeOpenPositionMode:function(t){var e=this,n=t[0],i=l.getUserCommonData().getOpenPositionMode(),r={direction:this.order.direction().value(),symbolOrId:this.model.getSymbol(),quantity:this.order.amount().value(),type:this.order.getType(),tp:this.order.takeProfit().isEnabled()?parseFloat(this.order.takeProfit().value()):v,sl:this.order.stopLoss().isEnabled()?parseFloat(this.order.stopLoss().value()):v,entry:this.order.getType()===b?v:Number(this.order.entry().value()),source:p};l.getUserCommonData().saveOpenPositionMode(n).then(function(){e.close(),a.trigger("ui:new-position",r),e.sendChangeOPModeEvent(n,i)})},sendChangeOPModeEvent:function(t,e){var n={newOPMode:t,previousOPMode:e};__eventos("tradingPlatform:orderForm:OPmodeChanged",n)}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(12),s=n(14),a=n(286),l=n(68),c=n(49),u=c.SUCCESS,d=c.FOUND,h=c.UPDATE,p=r.template(n(1617));i.exports=o.extend({initialize:function(){o.prototype.initialize.apply(this,arguments);var t=this.model;this.listenTo(t.instrumentDriver(),"change:statusOfInstrumentInfo",this.onStatusOfInstrumentInfo),this.listenTo(t.instrumentDriver(),"change:statusOfInstrument",this.onStatusOfInstrument),this.listenTo(t,"change:statusOfMarginingSettings",this.onStatusOfMarginingSettings),this.listenTo(t,"change:statusOfTradingCentralSettings",this.onStatusOfTradingCentralSettings)},render:function(){return o.prototype.render.call(this),this.renderTemplate(),this},renderTemplate:function(){var t=this.model.instrument();t&&this.$el.html(p({instrument:t,overnightInterestTime:s.overnightInterestTime?l.overnightInterestTime(s.overnightInterestTime):__("instrument_info.none"),rollover:a.getRollovers(String(t.getSymbol()).toLowerCase()),instrumentInfoLeverage:this.getInstrumentLeverage(),instrumentInfoTradingCentralValue:this.getInstrumentTradingCentralSettings(),tradingOutsideOfTradingHours:t.status.canTradeOutsideOfTradingHoursMessage()}))},getInstrumentLeverage:function(){return"1:"+this.model.get("marginRate")},getInstrumentTradingCentralSettings:function(){var t=this.model.get("tradingCentralSettings")||{},e=t.tradingHoursValue,n=t.tradingHoursRaw;return e?l.tradingHours(e,n,!0):""},onStatusOfMarginingSettings:function(){switch(this.model.get("statusOfMarginingSettings")){case u:this.renderTemplate()}},onStatusOfTradingCentralSettings:function(){switch(this.model.get("statusOfTradingCentralSettings")){case u:this.renderTemplate()}},onStatusOfInstrument:function(){switch(this.model.instrumentDriver().get("statusOfInstrument")){case d:this.renderTemplate()}},onStatusOfInstrumentInfo:function(){switch(this.model.instrumentDriver().get("statusOfInstrumentInfo")){case h:this.renderTemplate()}}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<div class="grid-2-noGutter-equalHeight"><div class="col-9 new-order__instrument-info_item"><%=__(\'instrument_info.minimum_trade_size\')%></div><div class="col-3 new-order__instrument-info_item flex flex-align-end"><%=instrument.getMinOrderSizeFormatted()%></div><div class="col-9 new-order__instrument-info_item"><%=__(\'instrument_info.overnight_interest_time\')%></div><div class="col-3 new-order__instrument-info_item flex flex-align-end"><%=overnightInterestTime%></div><div class="col-9 new-order__instrument-info_item"><%=__(\'instrument_info.leverage\')%></div><div class="col-3 new-order__instrument-info_item flex flex-align-end"><%= instrumentInfoLeverage %></div><div class="col-6 new-order__instrument-info_item"><%=__(\'instrument_info.rollover_date\')%></div><div class="col-6 new-order__instrument-info_item new-order__a-right flex flex-align-end"><%=rollover || __(\'instrument_info.none\') %></div><div class="col-6 new-order__instrument-info_item new-order__instrument-info-trading-central-name"><%=__(\'instrument_info.trading_hours\')%></div><div class="col-6 new-order__instrument-info_item new-order__a-right flex flex-align-end"><%= instrumentInfoTradingCentralValue %></div><div class="col-6 new-order__instrument-info_item"><%=__(\'instrument_info.trading.outside_of_trading_hours\')%></div><div class="col-6 new-order__instrument-info_item new-order__a-right flex flex-align-end"><%= tradingOutsideOfTradingHours %></div></div>'},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=(n(0),n(13)),o=n(287),s=n(49),a=s.EMPTY,l=s.PENDING,c=s.SUCCESS,u=s.ERROR,d=s.FOUND;i.exports=r.extend({defaults:function(){return{statusOfMarginingSettings:a,statusOfTradingCentralSettings:a,tradingCentralSettings:a}},initialize:function(){this.listenTo(this,"change:statusOfMarginingSettings",this.onStatusOfMarginingSettings),this.listenTo(this.instrumentDriver(),"change:statusOfInstrument",this.onStatusOfInstrument),this.onStatusOfInstrument()},instrumentDriver:function(){return this.get("instrumentDriver")},instrument:function(){return this.instrumentDriver().instrument()},loadMarginingSettings:function(t){var e=this.control("statusOfMarginingSettings");e(l),o.getMarginingSettings(t).then(function(t){return e(c,t)}).catch(function(t){return e(u)})},loadTradingCentralSettings:function(t){var e=this.control("statusOfTradingCentralSettings");e(l),o.getTradingCalendarsSettings(t).then(function(t){return e(c,{tradingCentralSettings:t})}).catch(function(t){return e(u)})},onStatusOfMarginingSettings:function(t,e){switch(e){case l:break;case c:this.calculateMarginRate()}},calculateMarginRate:function(){this.set({marginRate:Math.ceil(100/(this.get("marginRatePercent")||100))},{silent:!0})},onStatusOfInstrument:function(){var t=this.instrumentDriver();switch(t.get("statusOfInstrument")){case a:break;case d:var e=t.instrument().getSymbol();this.loadMarginingSettings(e),this.loadTradingCentralSettings(e)}}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(12),s=r.template(n(1620)),a=n(276);i.exports=o.extend({events:function(){return this.addEvents(o)({"click input":"clickOnInput"})},initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=r.extend({},{value:""},t),o.prototype.initialize.call(this,t)},render:function(){var t=this;o.prototype.render.call(this);var e=this.options,n=e.value,i=e.disabled;return this.$el.html(s({})),i?this.$(".new-order__search-instrument-symbol").html(n):(this.search=this.addChildView(".new-order__search-instrument-symbol",a,{value:n,handleCloseRules:!0,autoClear:!1,onCancel:function(e){return t.input$().val(e)},onRowClick:function(e,n){return t.onResultSelected(e,n)}}),this.input$().attr("placeholder","")),this},clickOnInput:function(){this.oldValue=this.input$().val(),this.input().select()},input$:function(){return this.$("input")},input:function(){return this.input$()[0]},onResultSelected:function(t,e){t.preventDefault();var n=e.getSymbol(),i=e.getDisplayName();this.input$().val(i),this.oldValue!=n&&(this.search.setOldValue(n),this.oldValue=n,this.options.onChanged(n))},disable:function(){this.input$().attr("disable",!0)},enable:function(){this.input$().removeAttr("disable")}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<div class="new-order__search new-order__search-instrument-symbol"></div>'},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(1),s=n(16),a=n(12),l=n(184).Basket,c=r.template(n(1622));i.exports=a.extend({initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=r.extend({},{},t),a.prototype.initialize.call(this,t),this.listenTo(this.model,"change:symbol",this.onSymbolChanged),this.onSymbolChanged()},onSymbolChanged:function(){var t=this.model.get("instrument");if(t){var e=t.getBasket(),n=this.$el;if(!e)return n.html("");n.html(c({}));var i=o.createElement(l,{basket:e,detailedInfo:!0});s.render(i,this.$(".basket-bar")[0])}}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<div class="basket-block"><div class="basket-bar"></div></div>'},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=(n(0),n(13)),o=n(14);i.exports=r.extend({defaults:function(){return{symbol:"",instrument:null}},setSymbol:function(t){this.set({symbol:t,instrument:o.getInstrumentBySymbol(t)})}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=(n(0),n(12));n(79),n(217);i.exports=r.extend({disable:function(){this.field.disableElement()},enable:function(){this.field.enableElement()},isChecked:function(){return this.field.isChecked()},destroy:function(){this.field.destroy(),this.field=null,r.prototype.destroy.call(this)}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e){t.exports='<div class="grid form"><div class="col-6_sm-12 new-order__entry-block"><div class="grid-equalHeight-middle"><div class="col-10 new-order__field-name new-order__field-name--padded"></div><div class="col-2 new-order__field-name--padded"><div class="flex flex-align-end"><i class="icon icon-help col-middle" aria-label=""></i></div></div><div class="col-12 new-order__control new-order__entry-control"></div></div></div><div class="col-6_sm-12"></div><div class="col-12 new-order__field-container_error error"></div></div>'},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(152);i.exports=o.extend({initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.precision=2,t.step=r.contains(["USD","EUR","GBP"],t.currency)?5:10,o.prototype.initialize.call(this,t)}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=(n(0),n(152));i.exports=r.extend({initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.step=1,t.precision=2,t.intMax=6,r.prototype.initialize.call(this,t)}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=(n(0),n(152));i.exports=r.extend({initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.intMax=6,r.prototype.initialize.call(this,t)}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(13),s=n(6),a=n(22),l=n(1630),c=n(1631),u=n(1632),d=n(1633),h=n(1634),p=n(1635),f=n(1636),m=n(1637),g=n(1638),v=n(731),b=n(1639),y=n(1640),_=n(176),w=_.ORDER_TYPE,S=n(202),E=S.getValueFromTradingSettings,x=n(49),C=x.EMPTY,T=x.UPDATE,k=(x.FOUND,x.NOT_FOUND,x.FIRST_UPDATE),O=x.TYPE_MARKET,P=x.TYPE_LIMIT,I=x.TYPE_STOP,A=x.SELL,M=x.BUY;i.exports=o.extend({defaults:function(){return{symbol:C,type:C,direction:C,amount:C,initialDirection:C,initialType:C,initialEntryPrice:C,initialStopLossPrice:C,initialTakeProfitPrice:C,refOrderChainId:C}},initialize:function(){var t=this,e=this,n=new l({order:e,value:this.get("initialType")}),i=new c({order:e,value:this.get("initialDirection")}),r=new u({order:e,type:n,direction:i,symbol:this.get("symbol")}),o=new d({order:e,type:n,direction:i,initialValue:this.get("amount"),value:this.get("amount")}),s=new h({order:e,type:n,direction:i,instrumentDriver:r}),a=new p({order:e,type:n,direction:i,amount:o,instrumentDriver:r,conversion:s}),f=new g({order:e,type:n,takeProfitPrice:this.get("initialTakeProfitPrice"),amount:o,instrumentDriver:r,conversion:s,direction:i,requiredMargin:a}),m=new y({order:e,type:n,amount:o,instrumentDriver:r,conversion:s,direction:i}),_=m.isEnabled()?new b({gsl:m,order:e,type:n,stopLossPrice:this.get("initialStopLossPrice"),amount:o,instrumentDriver:r,conversion:s,direction:i,requiredMargin:a}):new v({order:e,type:n,stopLossPrice:this.get("initialStopLossPrice"),amount:o,instrumentDriver:r,conversion:s,direction:i,requiredMargin:a});o.setConversion(s),o.setRequiredMargin(a),o.setInstrumentDriver(r),m.set({stopLoss:_,takeProfit:f}),this._type=n,this._direction=i,this._instrumentDriver=r,this._amount=o,this._requiredMargin=a,this._conversion=s,this._stopLoss=_,this._takeProfit=f,this._gsl=m,this.listenTo(n,"all",function(e,n,i){return t.trigger("type:"+e,n,i)}),this.listenTo(i,"all",function(e,n,i){return t.trigger("direction:"+e,n,i)}),this.listenTo(r,"all",function(e,n,i){return t.trigger("instrumentDriver:"+e,n,i)}),this.listenTo(o,"all",function(e,n,i){return t.trigger("amount:"+e,n,i)}),this.listenTo(a,"all",function(e,n,i){return t.trigger("requiredMargin:"+e,n,i)}),this.listenTo(_,"all",function(e,n,i){return t.trigger("stopLoss:"+e,n,i)}),this.listenTo(f,"all",function(e,n,i){return t.trigger("takeProfit:"+e,n,i)}),this.listenTo(m,"all",function(e,n,i){return t.trigger("gsl:"+e,n,i)}),this.listenTo(n,"change:value",this.onTypeChanged),this.listenTo(r,"change:statusOfInstrument",this.onStatusOfInstrument),this.listenTo(r,"change:statusOfInstrumentInfo",this.onStatusOfInstrumentInfo),this.listenTo(o,"change:statusOfAmount",this.onStatusOfAmount),this.listenTo(i,"change:value",this.onDirectionChanged),this.onTypeChanged(),this.onStatusOfInstrument(),this.onStatusOfInstrumentInfo(),this.onStatusOfAmount(),this.onDirectionChanged()},onStatusOfAmount:function(){var t=this.stopLoss(),e=this.takeProfit();switch(this.amount().get("statusOfAmount")){case T:t.isEnabled()&&t.update(),e.isEnabled()&&e.update(),this.gsl().update()}},onStatusOfInstrument:function(){this.instrumentDriver().get("statusOfInstrument")},onStatusOfInstrumentInfo:function(){var t=this.stopLoss(),e=this.takeProfit(),n=this.direction();switch(this.instrumentDriver().get("statusOfInstrumentInfo")){case k:break;case T:n.isBuyTradable()?n.isSellTradable()||n.setDirection(M):n.setDirection(A),t.isEnabled()&&t.update(),e.isEnabled()&&e.update(),this.gsl().update()}},getValueFromTradingSettings:function(){var t=this.getSymbol(),e=this.direction().isSell()?w.SHORT:w.LONG;return E(t,e)},onDirectionChanged:function(){var t=this.stopLoss(),e=this.takeProfit();t.isEnabled()&&t.update(),e.isEnabled()&&e.update()},isStopLossEnabled:function(){return this.stopLoss().isEnabled()},isTakeProfitEnabled:function(){return this.takeProfit().isEnabled()},type:function(){return this._type},direction:function(){return this._direction},instrument:function(){return this._instrumentDriver.value()},instrumentDriver:function(){return this._instrumentDriver},amount:function(){return this._amount},entry:function(){return this._entry},stopLoss:function(){return this._stopLoss},takeProfit:function(){return this._takeProfit},gsl:function(){return this._gsl},requiredMargin:function(){return this._requiredMargin},changeInstrument:function(t){this._instrumentDriver.changeInstrument(t)},getSymbol:function(){return this.get("symbol")},setType:function(t){this.type().setType(t)},getType:function(){return this.type().getType()},setDirection:function(t){this.direction().setDirection(t)},getDirection:function(){return this.direction().getDirection()},setEntryValue:function(t){var e=this.entry();e&&e.setValue(t)},onTypeChanged:function(){var t=this,e=this.type().value(),n=this.direction(),i=this.instrumentDriver(),r=this.get("initialEntryPrice");switch(e){case O:this.removeEntry();break;case P:var o=new f({value:r,order:t,type:this._type,direction:n,instrumentDriver:i});this.setEntry(o,"Limit"),setTimeout(function(){return o.update()},0);break;case I:var s=new m({value:r,order:t,type:this._type,direction:n,instrumentDriver:i});this.setEntry(s,"Stop"),setTimeout(function(){return s.update()},0)}},removeEntry:function(){var t=this.entry();t&&(this._takeProfit.removeEntry(),this._stopLoss.removeEntry(),this._requiredMargin.removeEntry(),this._gsl.removeEntry(),this.stopListening(t),t.destroy(),this._entry=null)},setEntry:function(t,e){var n=this;this.removeEntry(),this._entry=t,this._takeProfit.setEntry(t),this._stopLoss.setEntry(t),this._requiredMargin.setEntry(t),this._gsl.setEntry(t),this.listenTo(t,"all",function(t,i,r){return n.trigger("entry"+e+":"+t,i,r)})},disableAutoEntry:function(){var t=this.entry();t&&t.disableAutomatic()},destroy:function(){this._type.destroy(),this._direction.destroy(),this._amount.destroy(),this._requiredMargin.destroy(),this._conversion.destroy(),this._stopLoss.destroy(),this._takeProfit.destroy(),this._gsl.destroy(),this.removeEntry(),this._instrumentDriver.changeInstrument(null),this._instrumentDriver.destroy(),o.prototype.destroy.call(this)},hasErrors:function(){var t="errorMessage",e=this.entry(),n=this.amount().get(t),i=e&&e.get(t),o=this.stopLoss().get(t),s=this.takeProfit().get(t);return!r.every([n,i,o,s],r.isEmpty)},getData:function(){var t=this.amount(),e=this.instrument(),n=this.entry(),i=this.type().value(),r=this.direction(),o=r.value(),s=t.value(),a=n&&n.value(),l=this.stopLoss().getPrice(),c=this.takeProfit().getPrice(),u=t.getCommonData(),d=t.minOrderDistance();return{type:i,direction:o,symbol:e.getSymbol(),instrumentId:e.getId(),defaultAmount:t.get("defaultAmount").amount,amount:Number(s),currentPrice:u.currentPrice,isEntry:!!n,isSell:r.isSell(),isBuy:r.isBuy(),isStopLoss:this.isStopLossEnabled(),isTakeProfit:this.isTakeProfitEnabled(),isTypeLimit:"limit"===i,isTypeStop:"stop"===i,isTypeMarket:"market"===i,entry:a?Number(a):0,stopLoss:l!==C?Number(l):0,takeProfit:c!==C?Number(c):0,refOrderChainId:this.get("refOrderChainId"),minOrderDistance:d,isDirectionChanged:this.get("initialDirection")!==o,isTypeChanged:this.get("initialType")!==i}},placeOrder:function(){var t=this.getData(),e={effect:"OPENING",instrumentId:t.instrumentId,limitPrice:t.currentPrice,stopPrice:null,orderSide:String(t.direction).toUpperCase(),orderType:t.isTypeStop?"STOP":"LIMIT",quantity:t.isSell?-t.amount:t.amount,requestId:r.uniqueId("gwt-uid-"),timeInForce:"FOK"};return t.refOrderChainId!==C&&(t.isTypeChanged?this.cancelOrder(t.refOrderChainId):e.refOrderChainId=t.refOrderChainId),t.isEntry&&(t.isTypeLimit&&(e.limitPrice=t.entry),t.isTypeStop&&(e.stopPrice=t.entry,e.limitPrice=null)),t.isStopLoss&&(e.stopLoss={fixedOffset:t.minOrderDistance,fixedPrice:t.stopLoss,isPriceFixed:!0,orderType:"STOP"}),t.isTakeProfit&&(e.takeProfit={fixedOffset:t.minOrderDistance,fixedPrice:t.takeProfit,isPriceFixed:!0,orderType:"LIMIT"}),"market"!==t.type&&(e.timeInForce="GTC"),s.placeOrder(a.getAtmosphereId(),e)},cancelOrder:function(t){s.orderCancel(a.getAtmosphereId(),t)},getSpread:function(){var t=this.amount();return t?t.getSpread():""}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(117),o=n(0),s=["market","limit","stop"],a="Types should be one of the list: "+s,l={silent:!0};i.exports=r.extend({defaults:function(){return{value:"market"}},initialize:function(){if(r.prototype.initialize.apply(this,arguments),!this.validate())throw new Error(a)},validate:function(t){return o.contains(this.getTypes(),t||this.getType())},value:function(){return this.get("value")},setType:function(t){if(!this.validate(t))throw new Error(a);this.set({value:0},l),this.set({value:t})},getType:function(){return this.get("value")},getTypes:function(){return s}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(117),o=n(0),s={silent:!0},a=n(10),l=a.POSITION_DIRECTION_BUY,c=a.POSITION_DIRECTION_SELL,u=[c,l],d="Direction should be one of the list "+u;i.exports=r.extend({defaults:function(){return{value:c}},initialize:function(){if(r.prototype.initialize.apply(this,arguments),!this.validate())throw new Error(d)},validate:function(t){return o.contains(this.getDirections(),t||this.getDirection())},value:function(){return this.get("value")},setDirection:function(t){if(!this.validate(t))throw new Error(d);this.set({value:0},s),this.set({value:t})},getDirection:function(){return this.get("value")},getDirections:function(){return u},isSell:function(){return this.get("value")===c},isBuy:function(){return!this.isSell()},isBuyTradable:function(){return this.order().instrument().get("buyTradable")},isSellTradable:function(){return this.order().instrument().get("sellTradable")}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=(n(0),n(2),n(117)),o=(n(6),n(22),n(14)),s=(n(7),n(54)),a={silent:!0},l=n(49),c=l.EMPTY,u=l.NOT_FOUND,d=l.FOUND,h=l.UPDATE,p=l.CHANGED,f=l.FIRST_UPDATE;i.exports=r.extend({defaults:function(){return{symbol:c,prevSymbol:c,instrument:c,statusOfInstrument:c,statusOfInstrumentInfo:c}},initialize:function(){r.prototype.initialize.apply(this,arguments),this.listenTo(this,"change:statusOfInstrumentInfo",this.onStatusOfInstrumentInfo),this.listenTo(this,"change:statusOfInstrument",this.onStatusOfInstrument),this.find()},find:function(t){var e=this.control("statusOfInstrument"),n=this.control("statusOfInstrumentInfo"),i=this.get("instrument");if(i!==c&&this.stopListening(i,"change",this.onInstrumentInfo),i=o.getInstrumentBySymbol(this.get("symbol")),e(0,0,a),e(c),!i)return e(u);this.listenTo(i,"change",this.onInstrumentInfo),e(d,{instrument:i}),n(0,0,a),n(c),!0===t&&e(p),this.onInstrumentInfo()},onInstrumentInfo:function(){var t="statusOfInstrumentInfo",e=this.get(t),n=this.control(t);n(0,0,a),e===c&&n(f),n(h)},onStatusOfInstrumentInfo:function(){this.get("statusOfInstrumentInfo")},onStatusOfInstrument:function(){switch(this.get("statusOfInstrument")){case c:break;case d:this.subscribe(),s.add(this.get("symbol"))}},value:function(){return this.get("instrument")},instrument:function(){return this.value()},changeInstrument:function(t){var e=this.get("symbol");this.unsubscribe({symbol:e}),this.set({symbol:t,prevSymbol:e});this.find(!0)},subscribe:function(){s.add(this.get("symbol"))},unsubscribe:function(t){var e=t.symbol;s.remove(e)},destroy:function(){r.prototype.destroy.call(this),this.unsubscribe({symbol:this.get("symbol")})}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(117),o=n(22),s=n(6),a=n(49),l=a.EMPTY,c=a.READY,u=a.NOT_READY,d=a.SUCCESS,h=a.ERROR,p=a.UPDATE,f=a.PENDING,m=a.FOUND,g=(a.NOT_FOUND,a.CALCULATED),v=(a.USE,a.NOT_USE,{silent:!0});i.exports=r.extend({defaults:function(){return{initialValue:l,value:l,valueDirty:!1,statusOfAmount:l,statusOfDefaultAmount:l,instrument:l,requiredMargin:l,conversion:l,errorMessage:""}},initialize:function(){r.prototype.initialize.apply(this,arguments);var t=this.toJSON(),e=t.instrument,n=t.requiredMargin,i=t.conversion;if(e!==l||n!==l||i!==l)throw new Error("Don't pass instrument, requiredMargin, conversion through constructor. Do it as amount.set({instrument, requiredMargin, conversion})");this.listenTo(this,"change:statusOfDefaultAmount",this.onStatusOfDefaultAmount)},amount:function(){return this},setInstrumentDriver:function(t){var e=this.get("instrumentDriver");e&&this.stopListening(e),this.set("instrumentDriver",t),this.listenTo(t,"change:statusOfInstrument",this.onStatusOfInstrument),this.onStatusOfInstrument()},onStatusOfInstrument:function(){switch(this.instrumentDriver().get("statusOfInstrument")){case l:break;case m:this.loadDefaultAmount()}},value:function(){return this.get("value")},getAmountIncrement:function(){return this.get("defaultAmount").amountIncrement},setValue:function(t){var e=this.control("statusOfAmount");e(0,0,v),e(p,{value:t})},setSilentValue:function(t){this.set({value:t},v)},getFullAmountLabel:function(){return this.instrument().getAmountLabel()+": "+this.instrument().getGroupName()},onStatusOfDefaultAmount:function(){var t=this.control("statusOfAmount");switch(this.get("statusOfDefaultAmount")){case l:break;case h:case f:t(u);break;case d:var e=this.get("initialValue"),n=e;e===l&&(n=this.get("defaultAmount").amount),this.set("value",n,v),t(0,0,v),t(c),t(p)}},loadDefaultAmount:function(){var t=this,e=this.control("statusOfDefaultAmount"),n=this.instrument().getId();e(f),s.calculateOrderDefaultAmount(o.atmosphereId,n).then(function(n){var i=t.order().getValueFromTradingSettings();n.data.amount=i||n.data.amount,e(d,{defaultAmount:n.data})}).catch(function(t){return e(h,{statusOfDefaultAmountMessage:t.message})})},setRequiredMargin:function(t){r.prototype.setRequiredMargin.apply(this,arguments),this.listenTo(this.requiredMargin(),"change:statusOfRequiredMargin",this.onStatusOfRequiredMargin)},onStatusOfRequiredMargin:function(){switch(this.requiredMargin().get("statusOfRequiredMargin")){case g:this.validate()}},isValidated:function(){return""===this.get("errorMessage")},validate:function(){var t=this.getCommonData(),e=t.amount,n=t.isEntry,i=t.requiredMargin,r=t.power,o=t.maxOrderSize,s=t.minOrderSize,a=t.minOrderIncrement,c=t.precision,u=t.isFractionalAmountEnabled,d=t.isAmountWordUsed,h=this.control("errorMessage");if(h(""),i!==l&&e!==l){var p=i.requiredMarginInAccountCurrency,f=e*r/(p||1);f=u?f:Math.floor(f),n&&(p*=2,f=Math.floor(e*r/p));var m=u?this.divisible(e,a,Math.pow(10,c+1)):this.divisible(e,a);e<s?h(__(d?"order.form.validation.quantity_too_small":"order.form.validation.amount_too_small",s)):m?p>=0&&(e>o?h(__(d?"order.form.validation.amount_too_big":"order.form.validation.quantity_too_big",o)):e>f&&h(__("state.machine.confirmation.deposit.suggest.link"))):h(__("order.form.validation.amount_step",a))}}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(2),s=n(117),a=n(6),l=n(22),c=n(14),u=n(7),d={silent:!0},h=n(49),p=h.EMPTY,f=h.UPDATE,m=h.SUCCESS,g=h.ERROR,v=h.PENDING,b=h.FOUND;h.NOT_FOUND;i.exports=s.extend({defaults:function(){return{rate:1,statusOfConversionRate:p,statusOfConversionSubscription:p}},initialize:function(){var t=this;s.prototype.initialize.apply(this,arguments);var e=r.throttle(function(e){return t.handleConversionRate(e)},100);this.listenTo(o,"stream:type:CONVERSION_RATE",e),this.listenTo(this.instrumentDriver(),"change:statusOfInstrument",this.onStatusOfInstrument),this.onStatusOfInstrument()},value:function(){return this.get("rate")},onStatusOfInstrument:function(){var t=this.instrumentDriver();switch(this.statusOfInstrument()){case p:break;case b:var e=t.get("prevSymbol");e!==p&&this.unsubscribeConversion({symbol:e}),this.subscribeConversion()}},handleConversionRate:function(t){var e=this.control("statusOfConversionRate");e(0,0,d),e(f,{rate:t[0].value||1})},subscribeConversion:function(){var t=this.control("statusOfConversionSubscription"),e=this.instrument().getCurrency(),n=u.getUserCurrency();return t(v,{rate:1}),a.requestConversionSubscription(e,n,l.getAtmosphereId()).then(function(e){return t(m)}).catch(function(e){return t(g)})},unsubscribeConversion:function(t){var e=t.symbol,n=c.getInstrumentBySymbol(e);if(n){var i=n.getCurrency(),r=u.getUserCurrency();a.requestConversionUnsubscription(i,r,l.getAtmosphereId()),this.set("statusOfConversionSubscription",p)}},destroy:function(){this.unsubscribeConversion({symbol:this.instrumentDriver().get("symbol")}),s.prototype.destroy.call(this)}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};void 0!==(r=function(t,e,i){var r=n(0),s=n(2),a=n(117),l=n(6),c=n(22),u=(n(14),n(7)),d=n(31),h={silent:!0},p=n(49),f=p.EMPTY,m=(p.READY,p.NOT_READY,p.SUCCESS,p.ERROR,p.UPDATE),g=p.PENDING,v=(p.FOUND,p.NOT_FOUND,p.CALCULATED);i.exports=a.extend({defaults:function(){return{value:f,amount:f,instrument:f,statusOfRequiredMargin:f,requiredMarginFormat:""}},initialize:function(){var t=this;a.prototype.initialize.apply(this,arguments),this.throttleSubscribe=r.throttle(function(){return t.subscribe()},500),this.listenTo(s,"stream:type:REQUIRED_MARGIN",this.handleRequiredMargin),this.listenTo(this,"change:statusOfRequiredMargin",this.onStatusOfRequiredMargin),this.listenTo(this.amount(),"change:statusOfAmount",this.onStatusOfAmount),this.listenTo(this.type(),"change:value",this.calc),this.listenTo(this.get("order"),"entryStop:change:value",this.calc),this.listenTo(this.get("order"),"entryLimit:change:value",this.calc)},value:function(){return this.get("value")},onStatusOfAmount:function(){switch(this.amount().get("statusOfAmount")){case f:break;case m:this.throttleSubscribe()}},onStatusOfRequiredMargin:function(){switch(this.get("statusOfRequiredMargin")){case f:break;case m:this.calc()}},subscribe:function(){var t=this.amount().value(),e=this.control("statusOfRequiredMargin"),n=this.instrument();if(t!==f){e(g);var i={symbol:n.getSymbol(),quantity:t,side:String(this.direction().value()).toLocaleUpperCase(),conversionRate:this.conversion().value()};return l.requiredMarginPositionCandidateUpdate(c.getAtmosphereId(),i).catch(function(t){})}},unsubscribe:function(t){var e=t.symbol;l.unsubscribeRequiredMarginPositionCandidateUpdate(c.getAtmosphereId(),e),this.set("statusOfRequiredMargin",f)},handleRequiredMargin:function(t){var e=this.control("statusOfRequiredMargin"),n=r.findWhere(t,{instrumentSymbol:this.instrument().getSymbol()});n&&(e(f,null,h),e(m,{value:o({},n)}))},calc:function(){var t=u.getUserCurrencySymbol(),e=this.instrument().getCurrencySymbol(),n=this.value();if(n!==f){var i=n.requiredMarginInInstrumentCurrency,r=n.requiredMarginInAccountCurrency;this.getCommonData().isEntry&&(i=this.getRequiredMarginWithEntry(),r=this.getRequiredMarginWithEntry(!0));var o=function(t,e){return d(t).formatForeignCurrency(e,"$0,0.[00]")},s=o(r,t);r!==i&&(s=o(i,e)+" = "+o(r,t)),0===r&&0===i&&(s=""),this.set("requiredMarginFormat",s);var a=this.control("statusOfRequiredMargin");a(0,0,h),a(v,{calculated:{requiredMarginInInstrumentCurrency:i,requiredMarginInAccountCurrency:r}})}},getRequiredMarginWithEntry:function(t){var e=this.getCommonData(),n=e.isBuy,i=e.isEntry,r=e.price,o=e.ask,s=e.bid,a=e.conversionRate,l=e.amount,c=e.marginRate;if(!i)return 0;var u=o-s,d=u*l;t&&(d*=a);var h=n?(r+(r-u))/2:(r+(r+u))/2,p=l*h*(c/100);return t&&(p*=a),p+d},getTotal:function(){return(this.value()||{}).totalRequiredMargin}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(729);n(0);i.exports=r.extend({name:"limit",getLabel:function(){return this.isSell()?__("order.form.limit.label.sell"):__("order.form.limit.label.buy")},getLabelDescription:function(){return this.isSell()?__("help.order.entry_stop_sell"):__("help.order.entry_stop_buy")},getDefaultValue:function(){return this.getDefaultLimit()},getDefaultLimit:function(){var t=void 0,e=this.minOrderDistance(),n=this.getCommonData(),i=n.isBuy,r=n.currentPrice,o=n.currentOppositePrice,s=n.precision,a=n.pipsPrecisionSize;return i?(t=r-e)>o&&(t=Number(o-a).toFixed(s)):(t=r+e)<o&&(t=Number(o+a).toFixed(s)),Number(t).toFixed(s)},validate:function(){var t=this.getCommonData(),e=t.isBuy,n=t.isSell,i=t.precision,r=t.currentPrice,o=t.currentOppositePrice,s=t.pipsPrecisionSize,a=Number(this.value()),l=this.minOrderDistance(!0),c=0,u=this.control("errorMessage");u(""),e?(c=r-l)>o&&(c=Number(o-s).toFixed(i)):(c=r+l)<o&&(c=Number(o+s).toFixed(i)),a?(c=Number(c).toFixed(i),n&&a<c&&u(__("order.form.validation.trigger_price_higher",__("order.form.field.entry_limit"),c)),e&&a>c&&u(__("order.form.validation.trigger_price_lesser",__("order.form.field.entry_limit"),c))):u(__("order.form.validation.trigger_price_higher",__("order.form.field.entry_limit"),0))}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(729);n(0);i.exports=r.extend({name:"stop",getLabel:function(){return this.isSell()?__("order.form.stop.label.sell"):__("order.form.stop.label.buy")},getLabelDescription:function(){return this.isSell()?__("help.order.entry_limit_sell"):__("help.order.entry_limit_buy")},getDefaultValue:function(){return this.getDefaultStop()},getDefaultStop:function(){var t=void 0,e=this.minOrderDistance(),n=this.getCommonData(),i=n.isBuy,r=n.currentPrice,o=n.currentOppositePrice,s=n.precision,a=n.pipsPrecisionSize;return i?(t=r+e)<o&&(t=Number(o+a).toFixed(s)):(t=r-e)>o&&(t=Number(o-a).toFixed(s)),Number(Number(t).toFixed(s))},validate:function(){var t=this.getCommonData(),e=t.isBuy,n=t.isSell,i=t.precision,r=t.currentPrice,o=Number(this.get("value")),s=this.minOrderDistance(!0),a=Number(n?r-s:r+s).toFixed(i),l=this.control("errorMessage");l(""),o?(n&&o>a&&l(__("order.form.validation.trigger_price_lesser",__("order.form.field.entry_stop"),a)),e&&o<a&&l(__("order.form.validation.trigger_price_higher",__("order.form.field.entry_stop"),a))):l(__("order.form.validation.trigger_price_higher",__("order.form.field.entry_stop"),0))}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(730),s=(n(9),r.isUndefined,n(49)),a=s.EMPTY,l=(s.UPDATE,s.FOUND,s.NOT_FOUND,s.DISABLED,{silent:!0});i.exports=o.extend({defaults:function(){return{takeProfitPrice:a,money:a,percent:a,pips:a,status:a,autoPrice:!0,autoMoney:!0,autoPercent:!0,autoPips:!0,errorMessage:""}},initialize:function(){o.prototype.initialize.apply(this,arguments);var t=this.get("takeProfitPrice");t!==a&&(this.set({isEnabled:!0},l),this.setPrice(t))},value:function(){return this.get("takeProfitPrice")},getMoney:function(t){var e=this.value(),n=this.getCommonData(),i=n.isBuy,r=n.amount,o=n.price,s=n.conversionRate;if(r===a||e===a)return a;e=Number(t)||Number(e);var l=Math.abs(e-o)*r,c=l*s;return c=(i?e-o:o-e)<0?0:c,Number(c).toFixed(2)},getDefaultPrice:function(){var t=void 0,e=this.minOrderDistance(),n=this.get("pips"),i=this.get("autoPips"),r=this.getCommonData(),o=r.isBuy,s=r.isEntry,l=r.price,c=r.currentPrice,u=r.currentOppositePrice,d=r.precision,h=r.pipsPrecisionSize;return o?(t=c+e)<u&&(t=Number(u+h).toFixed(d)):(t=c-e)>u&&(t=Number(u-h).toFixed(d)),s&&(t=o?l+e:l-e),i||n===a||(t=o?t+Number(n):t-Number(n)),Number(t).toFixed(d)},setDefaultPrice:function(t,e){this.set({takeProfitPrice:t},l),this.set({money:this.getMoney(t)},l),this.set({percent:this.getPercent()},l),this.set({pips:this.getPips(t)},l),!e&&this.update()},setPrice:function(t,e){this.set({autoPrice:!1},l),this.setDefaultPrice(t,e),!e&&this.update()},setMoney:function(t,e){var n=this.getCommonData(),i=n.isBuy,r=n.price,o=n.conversionRate,s=n.amount,a=Number(t),c=i?r+a/(s*o):r-a/(s*o);this.set({autoMoney:!1},l),this.set({money:t},l),this.set({percent:this.getPercent()},l),this.set({takeProfitPrice:c},l),this.set({pips:this.getPips(c)},l),!e&&this.update()},setPercent:function(t,e){var n=this.getCommonData(),i=n.isBuy,r=n.conversionRate,o=n.price,s=n.amount,a=n.calculatedRequiredMarginInAccountCurrency,c=Number(t),u=i?o+c/100*a/(s*r):o-c/100*a/(s*r);this.set({autoPercent:!1},l),this.set({percent:t},l),this.set({takeProfitPrice:u},l),this.set({money:this.getMoney(u)},l),this.set({pips:this.getPips(u)},l),!e&&this.update()},setPips:function(t,e){var n=this.getCommonData(),i=n.isBuy,r=n.price,o=n.pipsPrecisionSize,s=Number(t)*o,a=i?r+s:r-s;this.set({takeProfitPrice:a},l),this.set({autoPips:!1},l),this.set({money:this.getMoney(a)},l),this.set({percent:this.getPercent()},l),this.set({pips:t},l),!e&&this.update()},validate:function(){var t=this.getCommonData(),e=t.isSell,n=t.isBuy,i=t.isEntry,r=t.entryPrice,o=t.precision,s=this.getValidationValueForProfit(),a=this.getPrice(),l=this.minOrderDistance(!0),c=this.control("errorMessage");c(""),i&&(s=e?r-l:r+l),a?(e&&a>s&&c(__("order.form.validation.take_profit_pips_lesser",Number(s).toFixed(o))),n&&a<s&&c(__("order.form.validation.take_profit_pips_higher",Number(s).toFixed(o)))):c(__("order.form.validation.take_profit_pips_higher",0))},getValidationValueForProfit:function(){var t=this.getCommonData(),e=t.precision,n=t.isBuy,i=t.currentPrice,r=t.currentOppositePrice,o=t.pipsPrecisionSize,s=this.minAllowedOrderDistance(),a=void 0,l=void 0;return n?(a=Number((i+s).toFixed(e)),l=Number((r+o).toFixed(e)),a>=l?a:l):(a=Number((i-s).toFixed(e)),l=Number((r-o).toFixed(e)),a<=l?a:l)}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=(n(0),n(731));n(9),n(7);i.exports=r.extend({validate:function(){var t=this.getCommonData(),e=t.isSell,n=t.amount,i=t.currentPrice,r=t.precision,o=t.conversionRate,s=t.isEntry,a=t.entryPrice,l=t.gsl,c=this.getValidationValueForLoss(),u=void 0,d=void 0,h=this.getPrice(),p=this.minOrderDistance(!0),f=l.getGSLByPrice(i),m=this.get("position"),g=this.control("errorMessage");if(g(""),s)d=a,u=this.getClosePrice(d),c=e?a+p:a-p;else if(m){var v=m.get("dividends")||0,b=m.get("financing")||0,y=m.get("rollover")||0,_=this.isBuy()?-1:1;d=m.get("costBasis"),u=d+_*((f+v+b+y)/(n*o))}else d=i,u=this.getClosePrice(d);h&&(e?h<c?g(__("order.form.validation.stop_loss_pips_higher",Number(c).toFixed(r))):h>u&&g(__("order.form.validation.stop_loss_pips_lesser",Number(u).toFixed(r))):h>c?g(__("order.form.validation.stop_loss_pips_lesser",Number(c).toFixed(r))):h<u&&g(__("order.form.validation.stop_loss_pips_higher",Number(u).toFixed(r))))}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(117),s=n(31),a=n(7),l={silent:!0},c=n(49),u=c.EMPTY,d=c.UPDATE;i.exports=o.extend({defaults:function(){return{value:"",format:"",statusOfGSL:u}},setEntry:function(){o.prototype.setEntry.apply(this,arguments),this.listenTo(this.entry(),"change:statusOfEntry",this.update),this.update()},removeEntry:function(){this.stopListening(this.entry()),o.prototype.removeEntry.apply(this,arguments),this.update()},isEnabled:function(){return a.isGuaranteedStopLossEnabled()},update:function(){var t=this.getCommonData(),e=t.isEntry,n=t.currentPrice,i=t.entryPrice,o=t.currency,a=this.getGSLByPrice(e?i:n),c=this.control("statusOfGSL");c(0,{value:0,format:""},l),c(d,{value:r.isNaN(a)?"":a,format:r.isNaN(a)?"":s(a).formatForeignCurrency(o,"$0,0.[00]")})},getGSLByPrice:function(t){var e=this.getCommonData(),n=e.conversionRate,i=e.amount,r=e.lotSize;return t*(e.marginRate/100)*n*i*r}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){i.exports={SimpleChartView:n(1642),SimpleChartModel:n(1645),ChartFeedSubscription:n(732),ChartFeedConverter:n(733)}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(12),s=r.template(n(1643)),a=n(409),l=n(30);n(5);n(1644)(a);var c=n(380),u=c.PENDING,d=(c.UPDATED,c.PENDING_BEGIN),h=c.PENDING_END,p=c.CONVERTER_CHANGED,f=c.NEW_FEED,m=c.UPDATE_FEED,g=c.UPDATE_ALL_FEED;i.exports=o.extend({initialize:function(){var t=this;o.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:status",this.onChange),this.oldResizeHandler=window.onresize,window.onresize=r.debounce(function(){return t.resize()},100)},render:function(){return o.prototype.render.call(this),this.$el.html(s()),this.$currentPrice=this.$(".simple-chart__current-price"),this.$currentRate=this.$(".current-price__rate"),this.$currentValue=this.$(".current-price__value"),this.onChange(),this},onChange:function(){var t=this,e=this.model;switch(e.get("status")){case u:break;case d:this.removeChart(),this.addChildView(".simple-chart",l),this.$currentPrice.addClass("hidden");break;case h:this.removeChildView(".simple-chart"),this.renderChart(e.getAllFeed()),this.$currentPrice.removeClass("hidden");break;case p:break;case f:var n=e.getNewFeed();r.each(n,function(e){return t.highstock.series[0].addPoint(e)});break;case m:var i=e.getUpdatedFeed(),o=r.first(i),s=this.highstock.series[0],a=r.last(s.points);a&&!a.dataGroup&&a.update(o,!0,!0);break;case g:this.highstock.series[0].setData(e.getAllFeed())}},renderChart:function(t){var e=this.model,n=this.$currentPrice,i=this.$currentRate,r=this.$currentValue;this.highstock=new a.stockChart({chart:{renderTo:this.$(".simple-chart__block")[0],height:"174px",marginLeft:0,animation:!1,backgroundColor:"rgba(255, 255, 255, 0.0)"},credits:{enabled:!1},rangeSelector:{enabled:!1,allButtonsEnabled:!1,inputEnabled:!1,buttonTheme:{visibility:"hidden"},labelStyle:{visibility:"hidden"}},tooltip:{enabled:!1,headerFormat:"",pointFormat:"<b>{point.y}</b>"},scrollbar:{enabled:!1},legend:{rtl:!1},navigator:{enabled:!1},exporting:{enabled:!1},xAxis:{type:"datetime",minorTickInterval:10,startOnTick:!0,endOnTick:!0},yAxis:{crosshair:!1,tickPixelInterval:10,startOnTick:!0,endOnTick:!0,labels:{align:"left",x:7,y:5,padding:0,formatter:function(){return this.value.toFixed(e.get("precision"))}},currentPriceIndicator:{enabled:!0,offset:{x:5,y:0},events:{update:function(t){var o=t.isVisible,s=t.width,a=(t.height,t.x),l=t.y,c=t.value;o&&n.hasClass("hidden")&&n.removeClass("hidden"),o||n.hasClass("hidden")||n.addClass("hidden"),n.css({top:l+"px"}),i.css({left:a+"px",width:s-10+"px"}),r.html(Number(c).toFixed(e.get("precision")))}}}},plotOptions:{line:{animation:!1},series:{dataGrouping:{enabled:!1},cropThreshold:50,animation:!1,color:"#3a68ae",enableMouseTracking:!1}},series:[{series:{showInNavigator:!1},type:e.get("type"),name:"",data:t,animation:!1,marker:{enabled:!1,radius:3},shadow:!1}]})},removeChart:function(){this.highstock&&(this.highstock.destroy(),this.highstock=null)},destroy:function(){window.resize=this.oldResizeHandler,this.removeChart(),o.prototype.destroy.call(this)},resize:function(){this.removeChart(),this.renderChart(this.model.getAllFeed())}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<div class="simple-chart"><div class="current-price simple-chart__current-price hidden"><div class="current-price__line"></div><div class="current-price__rate"><div class="current-price__value"></div></div></div><div class="simple-chart__block"></div></div>'},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0);i.exports=function(t){"use strict";function e(t){var e=t.yAxis[0],i=t.series[0],o=i.yData;if(o){var s=o[o.length-1];s=r.isArray(s)?r.last(s):s;var a=e.getExtremes(),l=a.min,c=a.max,u=t.options.yAxis[0].currentPriceIndicator,d={enabled:!1,offset:{x:0,y:0},events:{update:function(){}}},h=t.chartWidth;u=n(!0,d,u);var p=h-e.width,f=h-p,m=e.toPixels(s);f+=u.offset.x,m+=u.offset.y,u.enabled&&u.events.update({isVisible:s>=l&&s<=c,x:f,y:m,width:p,value:s})}}var n=t.merge;t.wrap(t.Chart.prototype,"init",function(t){t.apply(this,Array.prototype.slice.call(arguments,1)),e(this)}),t.wrap(t.Chart.prototype,"redraw",function(t){t.apply(this,Array.prototype.slice.call(arguments,1)),e(this)})}}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=(n(0),n(13)),o=n(732),s={silent:!0},a=n(380);a.PENDING,a.PENDING_BEGIN,a.PENDING_END;i.exports=r.extend({defaults:function(){return{type:"line",symbol:"",status:"",precision:0}},initialize:function(){this.subscription=new o({defaultConverter:this.get("type")}),this.listenTo(this.subscription,"change:status",this.onStatusOfSubscription),this.changeInstrument(this.get("symbol"))},onStatusOfSubscription:function(){var t=this.control("status");t(0,0,s),t(this.subscription.get("status"))},changeInstrument:function(t){this.subscription.remove(),this.subscription.add(t),this.set({symbol:t,precision:0},s)},getAllFeed:function(){return this.subscription.getAllFeed()},getNewFeed:function(){return this.subscription.getNewFeed()},getUpdatedFeed:function(){return this.subscription.getUpdatedFeed()},destroy:function(){this.subscription.destroy(),r.prototype.destroy.call(this)}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e){t.exports='<div class="new-order__body"><div class="new-order__content"><div class="grid-12 new-order__content-grid"><div class="col-12 grid visible-xs"><div class="col-12 new-order__block order-edit__base-info hidden"><div class="grid"><div class="col-5"><b class="instrument-symbol large"></b></div><div class="col-7"><div class="grid-12-equalHeight"><div class="col-5 flex flex-align-end"><%=__(\'actions.sell\')%>: <span class="new-order__sell-rate-value change"></span></div><div class="col-2"></div><div class="col-5 flex flex-align-end"><%=__(\'actions.buy\')%>: <span class="new-order__buy-rate-value change"></span></div></div></div><div class="col-12 order-time-block small"><span class="order-time-label"></span> <span class="order-time"></span></div><div class="col-12 order-time-block small"><%=__(\'position.form.code\')%>: <span class="order-id"></span></div></div></div><div class="col-12 new-order__rates-block new-order__block"><div class="grid-12-equalHeight"><div class="col-6"><div><%=__(\'actions.sell\')%> <span class="new-order__sell-rate-value change"></span></div></div><div class="col-6"><div><%=__(\'actions.buy\')%> <span class="new-order__buy-rate-value change"></span></div></div></div></div><div class="col-12 new-order__sentiment-block new-order__block hidden"><p><b><%=__(\'indigo.sentiment.title\')%></b></p><div class="sentiment"><div class="sellers"><span class="new-order__sentiment-sellers-value"></span>% <%=__(\'actions.sold\')%></div><div class="bar"><i></i> <b></b></div><div class="buyers"><span class="new-order__sentiment-buyers-value"></span>% <%=__(\'actions.bought\')%></div></div></div></div><div class="col-6_xs-12_sm-12 new-order__input-area"><div class="grid-12"><div class="col-12 new-order__base-area"><div class="grid-equalHeight"><div class="col-12 hidden-xs new-order__search-block"></div><div class="col-6_xs-12_sm-12 new-order__type-block"><div class="grid-equalHeight-middle"><div class="col-10 new-order__field-name new-order__field-name--padded"><%=__(\'order.form.type\')%></div><div class="col-2 new-order__field-name--padded"><div class="flex flex-align-end"><i class="icon icon-help" aria-label="<%=__(\'help.order.type\')%>"></i></div></div><div class="col-12 new-order__control new-order__type-control form"></div></div></div><div class="col-6_xs-12_sm-12 hidden-xs new-order__direction-block"><div class="grid-equalHeight-middle"><div class="col-10 new-order__field-name new-order__field-name--padded"><%=__(\'order.form.direction\')%></div><div class="col-2 new-order__field-name--padded"><div class="flex flex-align-end"><i class="icon icon-help col-middle" aria-label="<%=__(\'help.order.side\')%>"></i></div></div><div class="col-12 new-order__control new-order__direction-control form"></div></div></div><div class="col-12 visible-xs new-order__direction-dropdown-block"><div class="grid-equalHeight-middle"><div class="col-10 new-order__field-name new-order__field-name--padded"><%=__(\'order.form.direction\')%></div><div class="col-2 new-order__field-name--padded"><div class="flex flex-align-end"><i class="icon icon-help col-middle" aria-label="<%=__(\'help.order.side\')%>"></i></div></div><div class="col-12 new-order__control new-order__direction-dropdown-control form"></div></div></div><div class="col-6 new-order__amount-block"><div class="grid-equalHeight-middle"><div class="col-10_sm-12 new-order__field-name new-order__field-name--padded"><div class="new-order__amount-label"><%=fullAmountLabel%></div></div><div class="col-2 hidden-xs new-order__field-name--padded"><div class="flex flex-align-end"><i class="icon icon-help col-middle" aria-label="<%=__(\'help.order.amount\')%>"></i></div></div><div class="col-12 new-order__control new-order__amount-control form"></div></div></div><div class="col-6 new-order__required-margin new-order__require-margin-block"><div class="grid-equalHeight-middle"><div class="col-12_sm-10"><div class="new-order__field-name--padded">&nbsp;</div></div><div class="col-2 visible-xs new-order__field-name--padded"><div class="flex flex-align-end"><i class="icon icon-help col-middle" aria-label="<%=__(\'help.order.amount\')%>"></i></div></div><div class="col-12 new-order__control new-order__require-margin-control"><div class="new-order__require-margin-info"><%=__(\'order.form.required_margin\')%> <br><div class="new-order__require-margin-value"></div></div></div></div></div><div class="col-12 new-order__field-container_error new-order__field-error-amount error"></div><div class="col-12 new-order__field-container_info new-order__field-info-amount-tiered-margin info hidden"><div class="grid-12"> <%=__(\'order.form.tiered_margin.reached\')%> </div></div><div class="col-12 new-order__entry-form"></div><div class="col-12 new-order__gsl hidden"><div class="grid-12"><div class="col-11"><%=__(\'order.form.guaranteed_stop_loss\')%>: <span class="new-order__gsl-value"></span></div><div class="col-1"><div class="flex flex-align-end"><i class="icon icon-help" aria-label="<%=__(\'help.guaranteed_stop_loss\')%>"></i></div></div></div></div><div class="col-12 new-order__expiration hidden"><div class="grid-12"><div class="col-11 new-order__expiration-text"></div><div class="col-1"><div class="flex flex-align-end"><i class="icon icon-help" aria-label="<%=__(\'help.order.expiration\')%>"></i></div></div></div></div></div></div><div class="col-12 hidden-xs"><div class="new-order__horz-splitter"></div></div><div class="col-12 new-order__secondary-area"><div class="grid-12-equalHeight-middle"><div class="col-5 new-order__sl-checkbox-control"></div><div class="col-1 flex flex-align-center"></div><div class="col-5 flex flex-align-end new-order__tp-checkbox-control"></div><div class="col-1"><div class="flex flex-align-end"><i class="icon icon-help" aria-label="<b><%=__(\'order.form.take_profit\')%></b> <%=__(\'help.order.take_profit\')%> <br/><br/><b><%=__(\'order.form.stop_loss\')%></b> <%=__(\'help.order.take_profit\')%>"></i></div></div><div class="col-4 new-order__sl-price-control form"></div><div class="col-3 flex flex-align-center new-order__field-name"><%=__(\'order.rate\')%></div><div class="col-4 flex flex-align-end new-order__tp-price-control form"></div><div class="col-1"><div class="flex flex-align-end"><i class="icon icon-help" aria-label="<%=__(\'help.order.price\')%>"></i></div></div><div class="col-4 new-order__sl-money-control form"></div><div class="col-3 flex flex-align-center new-order__field-name new-order__field-money-title"></div><div class="col-4 flex flex-align-end new-order__tp-money-control form"></div><div class="col-1"><div class="flex flex-align-end"><i class="icon icon-help" aria-label="<%=__(\'help.order.money\')%>"></i></div></div><div class="col-4 new-order__sl-percent-control form"></div><div class="col-3 flex flex-align-center new-order__field-name">%</div><div class="col-4 flex flex-align-end new-order__tp-percent-control form"></div><div class="col-1"><div class="flex flex-align-end"><i class="icon icon-help" aria-label="<%=__(\'help.order.percent\')%>"></i></div></div><div class="col-4 new-order__sl-pips-control form"></div><div class="col-3 flex flex-align-center new-order__field-name"><%=__(\'order.method.PIPS\')%></div><div class="col-4 flex flex-align-end new-order__tp-pips-control form"></div><div class="col-1"><div class="flex flex-align-end"><i class="icon icon-help" aria-label="<%=__(\'help.order.pips\')%>"></i></div></div><div class="col-12"><div><div class="new-order__field-container_error new-order__sl-error-message error"></div><div class="new-order__field-container_error new-order__tp-error-message error"></div></div></div></div></div></div></div><div class="col-6_xs-12_sm-12 hidden-xs new-order__info-area"><div class="grid"><div class="col-5"><div> <%=__(\'actions.sell\')%>: <span class="new-order__sell-rate-value change"></span></div></div><div class="col-5"><div> <%=__(\'actions.buy\')%>: <span class="new-order__buy-rate-value change"></span></div></div><div class="col-2 flex-align-center"><div class="rate-box flex flex-align-end"><div class="new-order__change-block percent up"><span></span> <i class="arrow"></i></div></div></div><div class="col-12 new-order__chart-area"></div><div class="col-12 new-order__basket-block"></div><div class="col-12 new-order__instrument-info"></div><div class="col-12 new-order__horz-splitter_info-block hidden"><div class="new-order__horz-splitter new-order__horz-splitter_info"></div></div><div class="col-12 new-order__sentiment-block hidden"><p><%=__(\'indigo.sentiment.title\')%></p><div class="sentiment"><div class="sellers"><span class="new-order__sentiment-sellers-value"></span>% <%=__(\'actions.sold\')%></div><div class="bar"><i></i> <b></b></div><div class="buyers"><span class="new-order__sentiment-buyers-value"></span>% <%=__(\'actions.bought\')%></div></div></div></div></div></div></div></div><div class="new-order__footer popup-header-bg-style-grey"><div class="new-order__trading-outside-of-trading-hours hidden"> <%= __(\'order.form.send_order.trading.outside_of_trading_hours\') %> </div><div class="new-order__danger-info new-order__danger-info-mobile hidden"></div><div class="visible-xs"><div class="new-order__chart-expander"><i class="expand icon-double-arrow-up"></i> <span><%=__(\'indigo.chart.expand_chart\')%></span></div><div class="new-order__mobile-chart-area hidden"></div></div><div class="new-order__actions"><div class="visible-xs"><div class="grid-12"><div class="col-6"><button class="btn btn-secondary action__cancel action__submit_fluid fn-close-popup no-action action_height_big"><%=__(\'order.form.cancel\')%></button></div><div class="col-6"><button disabled="disabled" class="btn btn-primary action__submit action__submit_fluid action_height_big"><%=submitButtonText%></button></div></div></div><div class="hidden-xs"><div class="grid-middle"><div class="col-7 action"><button disabled="disabled" class="btn btn-primary action__submit"><%=submitButtonText%></button> <a href="#" class="fn-close-popup action__cancel no-action"><%=__(\'order.form.cancel\')%></a></div> <% if (settings.isLiveChatEnabled()) { %> <div class="col-5 new-order__action-help"> <%=__(\'help.need_help\')%> <a href="#" class="fn-help-live-chat-link"><span><%=__(\'help.right_here\')%></span></a></div> <% } %> </div></div></div><div class="new-order__danger-info hidden hidden-xs"></div></div>'},function(t,e,n){(function(i){var r,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};void 0!==(r=function(t,e,i){var r=n(0),s=n(15),a=n(2),l=n(7),c=n(9),u=n(24),d=r.template(n(1648)),h=n(720),p=n(721),f=n(722),m=n(723),g=n(724),v=n(725),b=n(726),y=n(727),_=n(728),w=n(135),S=n(154),E=n(257),x=n(153),C=n(52),T=n(1),k=n(16),O=n(379).default,P=n(262).SWITCH_MODE_DROPDOWN,I=n(69),A=I.OPEN_POSITION_OPTIONS,M=n(49),N=M.EMPTY,D=M.UPDATE,L=M.READY,R=M.FOUND,F=M.NOT_FOUND,B=M.ENABLED,U=M.DISABLED,j=M.CHANGED,z=(M.SUCCESS,M.TYPE_MARKET),V=M.TYPE_LIMIT,H=M.TYPE_STOP,G=r.isEmpty,W=function(t){return t.addClass("hidden")},q=function(t){return t.removeClass("hidden")},$=function(t){return t<0?"down":t>0?"up":"equally"};i.exports=u.extend({name:"new-order-interactive",className:"new-order-interactive x-popup responsive-popup x-popup-stretch-xs x-popup-no-padding-xs",events:function(){return this.addEvents(u)({"click .fn-deposit":"openDeposit","click .action__submit":"submit","click .fn-settings":"openSettings"})},initialize:function(){u.prototype.initialize.apply(this,arguments),this.order=this.makeOrderObject(),this.updateForTradeOutsideOfTradingHours()},makeOrderObject:function(){var t=this.model;return new _.create({symbol:t.get("symbol"),amount:t.getAmount(),initialType:t.getType(),initialDirection:t.getDirection(),initialEntryPrice:t.getEntry(),initialStopLossPrice:t.getStopLoss(),initialTakeProfitPrice:t.getTakeProfit()})},updateForTradeOutsideOfTradingHours:function(){this.order.instrument().status.canTradeOutsideOfTradingHours()&&(this.model.excludeOrderType(z),this.openFromSwitchModeDropdown()?this.order.getType()===z&&this.order.setType(V):this.order.setType(V))},openFromSwitchModeDropdown:function(){return this.options.source===P},render:function(){var t=this;u.prototype.render.call(this);var e=this.model,n=this.order,i=n.instrument(),o=n.takeProfit(),s=n.stopLoss(),l=i.getPrecision(),c=n.getType(),_=n.getDirection(),S=n.direction(),E=r.throttle(function(t){return n.amount().setValue(t)},500),x=s.isEnabled(),C=o.isEnabled();this.keyboardEvents=w({escape:function(e){return t.close(e)},enter:function(e){t.submit(e)}},this),this.setContent(d({fullAmountLabel:n.amount().getFullAmountLabel(),instrument:i,submitButtonText:e.get("submitButtonText")})),this.type=this.addChildView(".new-order-interactive__type-control",h,{name:"type",value:c,disable:!e.get("isTypeEnabled"),exclude:e.get("excludeTypes")}),this.direction=this.addChildView(".new-order-interactive__direction-control",p,{name:"direction",value:_,disable:!e.get("isDirectionEnabled")}),this.directionDropdown=this.addChildView(".new-order-interactive__direction-dropdown-control",f,{name:"directionDropdown",value:_,disable:!e.get("isDirectionEnabled"),except:S.isSellTradable()?S.isBuyTradable()?null:"buy":"sell"}),this.amount=this.addChildView(".new-order-interactive__amount-control",m,{name:"amount",precision:l}),this.entry=this.addChildView(".new-order-interactive__entry-form",g,{name:"entry",precision:l}),this.slCheckbox=this.addChildView(".new-order-interactive__sl-checkbox-control",v,{name:"sl-checkbox",checked:x,precision:l}),this.tpCheckbox=this.addChildView(".new-order-interactive__tp-checkbox-control",b,{name:"tp-checkbox",checked:C,precision:l}),this.stopLoss=this.addChildView(".new-order-interactive__sl-price-control",y,{name:"stopLoss",disable:!x,precision:l}),this.takeProfit=this.addChildView(".new-order-interactive__tp-price-control",y,{name:"takeProfit",disable:!C,precision:l}),this.amount.disable(),this.$sellRateValue=this.$(".new-order-interactive__sell-rate-value"),this.$buyRateValue=this.$(".new-order-interactive__buy-rate-value"),this.$changeBlock=this.$(".new-order-interactive__change-block"),this.$requiredMarginValue=this.$(".new-order-interactive__require-margin-value"),this.$amountLabel=this.$(".new-order-interactive__amount-label"),this.$slErrorMessage=this.$(".new-order-interactive__sl-error-message"),this.$tpErrorMessage=this.$(".new-order-interactive__tp-error-message"),this.$moneyTitle=this.$(".new-order-interactive__field-money-title"),this.$gsl=this.$(".new-order-interactive__gsl"),this.$gslValue=this.$(".new-order-interactive__gsl-value"),this.listenTo(a,"ui:new-position",this.close),this.listenTo(this.type,"change",function(t,e){return n.setType(e)}),this.listenTo(this.direction,"change",function(t,e){return n.setDirection(e)}),this.listenTo(this.direction,"change",function(e,n){return t.directionDropdown.value(n)}),this.listenTo(this.directionDropdown,"change",function(t,e){return n.setDirection(e)}),this.listenTo(this.directionDropdown,"change",function(e,n){return t.direction.setChecked(n)}),this.listenTo(this.amount,"change",function(t,e){return E(e)}),this.listenTo(this.entry,"change",function(t,e){return n.setEntryValue(e)}),this.listenTo(this.slCheckbox,"change",function(t,e){return!0===e?s.enable():s.disable()}),this.listenTo(this.stopLoss,"change",function(t,e){return s.setPrice(e)}),this.listenTo(this.tpCheckbox,"change",function(t,e){return!0===e?o.enable():o.disable()}),this.listenTo(this.takeProfit,"change",function(t,e){return o.setPrice(e)}),this.listenTo(this.entry,"focus ",function(){return n.disableAutoEntry()}),this.listenTo(this.stopLoss,"focus ",function(){return s.touch("Price")}),this.listenTo(this.takeProfit,"focus ",function(){return o.touch("Price")}),this.listenTo(n,"amount:change:statusOfAmount",this.onStatusOfAmount),this.listenTo(n,"instrumentDriver:change:statusOfInstrumentInfo",this.onStatusOfInstrumentInfo),this.listenTo(n,"instrumentDriver:change:statusOfInstrument",this.onStatusOfInstrument),this.listenTo(n,"stopLoss:change:status",this.onStatusOfStopLoss),this.listenTo(n,"takeProfit:change:status",this.onStatusOfTakeProfit),this.listenTo(n,"entryLimit:change:statusOfEntry",this.onStatusOfEntry),this.listenTo(n,"entryStop:change:statusOfEntry",this.onStatusOfEntry),this.listenTo(n,"type:change:value",this.onTypeChanged),this.listenTo(n,"direction:change:value",this.onDirectionChanged),this.listenTo(n,"requiredMargin:change:requiredMarginFormat",function(e,n){return t.$requiredMarginValue.html(n)}),this.listenTo(n,"requiredMargin:change:statusOfRequiredMargin",this.onStatusOfRequiredMargin),this.listenTo(n,"amount:change:errorMessage",this.onChangeAmountErrorMessage.bind(this)),this.listenTo(n,"stopLoss:change:errorMessage",function(e,n){return t.$slErrorMessage.html(n)}),this.listenTo(n,"takeProfit:change:errorMessage",function(e,n){return t.$tpErrorMessage.html(n)}),this.listenTo(n,"entryLimit:change:errorMessage",function(e,n){return t.entry.errorMessage(n)}),this.listenTo(n,"entryStop:change:errorMessage",function(e,n){return t.entry.errorMessage(n)}),this.listenTo(n,"gsl:change:format",function(e,n){return t.$gslValue.html(n)}),this.listenTo(n,"all",this.updateSubmitState),this.onStatusOfAmount(),this.onTypeChanged(),this.onStatusOfInstrument(),this.onStatusOfInstrumentInfo(),this.onStatusOfStopLoss(),this.onStatusOfTakeProfit(),this.showExpiration(),n.gsl().isEnabled()&&this.$gsl.removeClass("hidden");var T=document.createElement("div");T.className="header-actions fn-settings btn",T.id="settings";var k=this.$(".responsive-header")[0];return k.insertBefore(T,k.childNodes[2]),this.initSettings(),this},initSettings:function(){var t=this;if(!s.mobile()){this.$settingsButton=this.$("#settings")[0];var e=l.getUserCommonData().getOpenPositionMode();this.settingsDropdown=k.render(T.createElement(O,{options:A,selected:e,transformOptionText:function(t){return __("modes."+[t])},onChange:function(e){return t.changeOpenPositionMode(e)}}),this.$settingsButton)}},changeOpenPositionMode:function(t){var e=this,n=t[0],i=l.getUserCommonData().getOpenPositionMode(),r={direction:this.order.direction().value(),symbolOrId:this.model.getSymbol(),quantity:this.order.amount().value(),type:this.order.getType(),tp:this.order.takeProfit().isEnabled()?parseFloat(this.order.takeProfit().value()):N,sl:this.order.stopLoss().isEnabled()?parseFloat(this.order.stopLoss().value()):N,entry:this.order.getType()===z?N:Number(this.order.entry().value()),source:P};l.getUserCommonData().saveOpenPositionMode(n).then(function(){e.close(),a.trigger("ui:new-position",r),e.sendChangeOPModeEvent(n,i)})},sendChangeOPModeEvent:function(t,e){var n={newOPMode:t,previousOPMode:e};__eventos("tradingPlatform:orderForm:OPmodeChanged",n)},onTypeChanged:function(){var t=this.order.getType(),e=this.order.instrument();switch(t){case z:this.entry.hide();break;case V:case H:var n=this.order.entry();this.entry.show({precision:e.getPrecision(),step:e.getPipsPrecisionSize()}),this.entry.setLabel(n.getLabel()),this.entry.setLabelDescription(n.getLabelDescription()),this.onStatusOfEntry()}},onDirectionChanged:function(){if(this.order.getType()!==z){var t=this.order.entry();this.entry.setLabel(t.getLabel()),this.entry.setLabelDescription(t.getLabelDescription())}this.showExpiration()},showExpiration:function(){var t=this.order,e=t.getType(),n=t.instrument(),i=this.$(".new-order-interactive__expiration"),r=this.$(".new-order-interactive__expiration-text"),o=n.getExpirationDays(),s=n.getExpirationDate();if(!o)return void(i.hasClass("hidden")||i.addClass("hidden"));i.removeClass("hidden"),r.html(e!==z?__("order.form.expiration",o):__("position.form.expiration",s))},onChangeAmountErrorMessage:function(t,e){this.$(".new-order-interactive__field-error-amount").html(e===N?"":e),this.showTieredMargin()},showTieredMargin:function(){var t=this.$(".new-order-interactive__field-info-amount-tiered-margin"),e=this.order;if(e.amount().isValidated()&&e.instrument().isTieredMarginApplied())return void t.removeClass("hidden");t.addClass("hidden")},onStatusOfAmount:function(){var t=this.order,e=t.instrument(),n=t.amount(),i=this.amount;switch(n.get("statusOfAmount")){case L:var r=e.isFractionalAmountEnabled()?e.getPrecision():0,s=n.getAmountIncrement(),a={precision:r,step:s};i.setOptions(o({},a)),i.silentValue(n.value()),i.enable();break;case D:i.silentValue(n.value()),this.showTieredMargin()}},onStatusOfInstrument:function(){var t=this.order,e=t.amount();switch(t.instrumentDriver().get("statusOfInstrument")){case N:case F:break;case j:t.stopLoss().auto(),t.takeProfit().auto();break;case R:this.$moneyTitle.html(l.getUserCurrency()),this.$amountLabel.html(e.getFullAmountLabel()),this.$amountLabel.attr("title",e.getFullAmountLabel()),this.reflectSentiments(),this.reflectRates(),this.showExpiration()}},onStatusOfInstrumentInfo:function(){switch(this.order.instrumentDriver().get("statusOfInstrumentInfo")){case D:this.reflectRates(),this.reflectDirection(),this.showTieredMargin(),this.updateInstrumentTradable()}},onStatusOfStopLoss:function(){var t=this.order,e=t.instrument(),n=t.stopLoss(),i=n.get("status"),r=this.stopLoss,o=this.$slErrorMessage,s=n.value(),a=e.getPrecision(),l=(e.getPrecisionSize(),e.getPipsPrecisionSize());switch(i){case B:this.enableFields(r);break;case U:this.disableFields(r),r.silentValue(""),o.html("");break;case D:r.setOptions({precision:a,step:l}),r.silentValue(s===N?"":s)}},onStatusOfTakeProfit:function(){var t=this.order,e=t.instrument(),n=t.takeProfit(),i=n.get("status"),r=this.takeProfit,o=this.$tpErrorMessage,s=n.value(),a=e.getPrecision(),l=(e.getPrecisionSize(),e.getPipsPrecisionSize());switch(i){case B:this.enableFields(r);break;case U:this.disableFields(r),r.silentValue(""),o.html("");break;case D:r.setOptions({precision:a,step:l}),r.silentValue(s===N?"":s)}},onStatusOfRequiredMargin:function(t,e){e===D&&this.renderDangerInfo()},enableFields:function(){r.each(arguments,function(t){return t.enable()})},disableFields:function(){r.each(arguments,function(t){return t.disable()})},onStatusOfEntry:function(){var t=this.order,e=t.entry(),n=e.get("statusOfEntry"),i=this.entry,r=e.value(),o=t.instrument().getPrecision(),s=t.instrument().getPipsPrecisionSize();switch(n){case D:i.setOptions({precision:o,step:s}),i.silentValue(r===N?"":r)}},reflectRates:function(){var t=this.order.instrument(),e=this.$changeBlock,n=this.$sellRateValue,i=this.$buyRateValue,r=e.find("span"),o=t.getBid(!0),s=t.getAsk(!0),a=t.getBidDirection(),l=t.getAskDirection(),c=t.getPercentChange();s=C.formatValueToStringOrComponent(C.divideValueByPipSize(s,t.getPipsPrecision()),!0),o=C.formatValueToStringOrComponent(C.divideValueByPipSize(o,t.getPipsPrecision()),!0),n.removeClass("up down equally"),i.removeClass("up down equally"),e.removeClass("up down equally"),n.html(o),i.html(s),r.html((c>0?"+"+c:c)+"%"),n.addClass($(a)),i.addClass($(l)),e.addClass($(c))},reflectDirection:function(){var t=this.order.direction(),e=this.direction;t.isBuyTradable()&&e.enableByValue("buy"),t.isSellTradable()&&e.enableByValue("sell"),t.isBuyTradable()?t.isSellTradable()||(e.setChecked("buy"),e.disableByValue("sell")):(e.setChecked("sell"),e.disableByValue("buy"))},destroy:function(){this.keyboardEvents.off(),this.settingsDropdown&&this.destroySettings(),u.prototype.destroy.call(this),this.order.destroy()},destroySettings:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$settingsButton;k.unmountComponentAtNode(t)},reflectSentiments:function(){var t=this.$(".new-order-interactive__sentiment-block"),e=this.$(".new-order-interactive__horz-splitter_info-block"),n=this.$(".new-order-interactive__sentiment-buyers-value"),i=this.$(".new-order-interactive__sentiment-sellers-value"),r=this.$(".new-order-interactive__sentiment-block .bar i"),o=this.$(".new-order-interactive__sentiment-block .bar b"),s=this.order.instrument().get("sentiment");W(t),W(e),G(s)||(q(t),q(e),n.html(s.longs),i.html(s.shorts),o.css("width",s.longs+"%"),r.css("width",s.shorts+"%"))},openDeposit:function(){a.trigger("flow:deposit:RealDepositItemMainMenu"),this.close()},updateSubmitState:function(){var t=this.$(".action__submit");if(this.order.hasErrors())return void t.attr("disabled","true");t.removeAttr("disabled")},disableSubmitButton:function(){this.$(".action__submit").attr("disabled","true")},submit:function(t){var e=this;t.preventDefault(),t.stopPropagation();var n=this.order;n.hasErrors()||this.tradeConfirmation().then(function(){e.disableSubmitButton(),e.reportNewOrder(),n.placeOrder(),e.close()})},tradeConfirmation:function(){return S.isTradingPositionRiskWarningRequired()?new Promise(function(t){a.trigger("ui:risk-warning",{regulation:"spanish",action:"trade",onOK:t})}):Promise.resolve()},reportNewOrder:function(){var t=this.order,e=t.getData(),n=e.isTakeProfit,i=e.isStopLoss,o=t.instrument().get("sentiment"),s=this.options.source,a={instrumentName:e.symbol,orderDirection:e.direction,orderType:e.type,originalQuantity:e.defaultAmount,price:e.currentPrice,quantity:Math.abs(e.amount),isSentiment:!!o,OPmodeView:l.getUserCommonData().getOpenPositionMode()};if(e.isEntryLimit&&(a.entryLimitPrice=e.entry),e.isEntryStop&&(a.entryStopPrice=e.entry),o&&(a.sentimentBuyPercentage=o.longs),i&&(a.stopLossPrice=e.stopLoss),n&&(a.takeProfitPrice=e.takeProfit),!G(s))if(s.indexOf("Popular")>-1)a.viewSource="popular";else if(s.indexOf("Trending_now")>-1)a.viewSource="trendingNow",a.trendingCategoryId=r.compact(s.split("/")).pop();else if(s.indexOf("trading")>-1){var c=r.compact(s.split("/"));c.shift(),3===c.length&&c.pop(),a.viewSource="category",a.categoryName=c.join(".")}else s.indexOf("instrument")>-1?a.viewSource="instrument":a.viewSource=s.replace("-","_")||"";__eventos("tradingPlatform:orderForm:clkSendOrder",a),E.put(e.requestId,a)},renderDangerInfo:function(){if(x.isSpanishRegulation()&&c.isSpanishRegulationForOpenPositionEnabled()){var t=l.getUserCurrencySymbol(),e=this.order.requiredMargin().getTotal(),n=this.$(".new-order-interactive__danger-info");n.removeClass("hidden"),n.html(__("spanish.regulation.new_order.text",t+e))}},openSettings:function(t){"settings"===t.target.id&&(this.stopDragEvent(t),t.target.querySelector(".icon-hamburger-gray").click())},stopDragEvent:function(t){t.stopImmediatePropagation(),t.preventDefault()},updateInstrumentTradable:function(){var t=this.order.instrument().status,e=this.$el.find(".new-order-interactive__trading-outside-of-trading-hours");t.canTradeOutsideOfTradingHours()?e.removeClass("hidden"):e.addClass("hidden")}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<div class="new-order-interactive__body"><div class="new-order-interactive__content"><div class="grid-12 new-order-interactive__content-grid"><div class="col-12 new-order-interactive__input-area"><div class="grid-12"><div class="col-12 new-order-interactive__base-area"><div class="grid-equalHeight"><div class="col-12 new-order-interactive__search-block"></div><div class="col-6_xs-12_sm-12 new-order-interactive__type-block"><div class="grid-equalHeight-middle"><div class="col-10 new-order-interactive__field-name new-order-interactive__field-name--padded"><%=__(\'order.form.type\')%></div><div class="col-12 new-order-interactive__control new-order-interactive__type-control form"></div></div></div><div class="col-6_xs-12_sm-12 new-order-interactive__direction-block"><div class="grid-equalHeight-middle"><div class="col-10 new-order-interactive__field-name new-order-interactive__field-name--padded"><%=__(\'order.form.direction\')%></div><div class="col-12 new-order-interactive__control new-order-interactive__direction-control form"></div></div></div><div class="col-6 new-order-interactive__amount-block"><div class="grid-equalHeight-middle"><div class="col-12_sm-12 new-order-interactive__field-name new-order-interactive__field-name--padded"><div class="new-order-interactive__amount-label"><%=fullAmountLabel%></div></div><div class="col-12 new-order-interactive__control new-order-interactive__amount-control form"></div></div></div><div class="col-6 new-order-interactive__required-margin new-order-interactive__require-margin-block"><div class="col-12 new-order-interactive__entry-form"></div></div><div class="col-12 new-order-interactive__control new-order-interactive__require-margin-control"><div class="new-order-interactive__require-margin-info"><%=__(\'order.form.required_margin\')%> <br><div class="new-order-interactive__require-margin-value"></div></div></div><div class="col-12 new-order-interactive__field-container_error new-order-interactive__field-error-amount error"></div><div class="col-12 new-order-interactive__field-container_info new-order-interactive__field-info-amount-tiered-margin info hidden"><div class="grid-12"> <%=__(\'order.form.tiered_margin.reached\')%> </div></div><div class="col-12 new-order-interactive__gsl hidden"><div class="grid-12"><div class="col-11"><%=__(\'order.form.guaranteed_stop_loss\')%>: <span class="new-order-interactive__gsl-value"></span></div></div></div><div class="col-12 new-order-interactive__expiration hidden"><div class="grid-12"><div class="col-11 new-order-interactive__expiration-text"></div></div></div></div></div><div class="col-12"><div class="new-order-interactive__horz-splitter"></div></div><div class="col-12 new-order-interactive__secondary-area"><div class="grid-12-equalHeight-middle"><div class="col-5 new-order-interactive__sl-checkbox-control"></div><div class="col-2 flex flex-align-center"></div><div class="col-5 flex flex-align-end new-order-interactive__tp-checkbox-control"></div><div class="col-4 new-order-interactive__sl-price-control form"></div><div class="col-2 flex flex-align-center new-order-interactive__field-name"><%=__(\'order.rate\')%></div><div class="col-4 flex flex-align-end new-order-interactive__tp-price-control form"></div><div class="col-12"><div><div class="new-order-interactive__field-container_error new-order-interactive__sl-error-message error"></div><div class="new-order-interactive__field-container_error new-order-interactive__tp-error-message error"></div></div></div></div></div></div></div></div></div><div class="new-order-interactive__footer popup-header-bg-style-grey"><div class="new-order-interactive__trading-outside-of-trading-hours hidden"> <%= __(\'order.form.send_order.trading.outside_of_trading_hours\') %> </div><div class="new-order-interactive__actions"><div><div class="grid-middle"><div class="col-12 action"><button disabled="disabled" class="btn btn-primary action__submit"><%=submitButtonText%></button></div></div></div></div><div class="new-order-interactive__danger-info hidden"></div></div></div>'},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){function r(t){return t=a.mobile()?t.slidebox:t.popup,new(n(1650))(t)}function o(t){return!!s.isNumber(t)||!!s.isBoolean(t)&&t}var s=n(0),a=n(15),l=n(14),c=n(381),u=c.BUY,d=c.TYPE_LIMIT,h=c.TYPE_STOP;i.exports.createNewPositionPopup=function(t){var e=l.getInstrumentById(t.symbolOrId);if(e=e||l.getInstrumentBySymbol(t.symbolOrId)){var i=n(1657),s=t.direction===u,a=new i({instrumentModel:e,side:t.direction,direction:t.direction,amount:t.quantity,type:t.type,isTakeProfitEnabled:o(t.tp),takeProfit:t.tp,isStopLossEnabled:o(t.sl),stopLoss:t.sl,entryStop:t.type===h?t.entry:null,entryLimit:t.type===d?t.entry:null});return new r({popup:{parent:document.body,instrumentModel:e,isBuying:s,side:t.direction,model:a,source:t.source},slidebox:{caption:t.direction,previousCaption:__("actions.back"),instrumentModel:e,isBuying:s,side:t.direction,model:a,source:t.source}})}}}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(0),s=n(15),a=n(80),l=n(734),c=n(70),u=n(2),d=n(1),h=n(16),p=n(6),f=n(22),m=n(184).Basket,g=n(7),v=n(14),b=n(286),y=n(257),_=n(214),w=n(153),S=n(31),E=n(154),x=n(9),C=n(279),T=n(207),k=n(1652),O=n(68),P=o.template(n(1653)),I=o.template(n(1654)),A=s.mobile()?P:I,M=s.mobile()?l:a,N=n(379).default,D=n(262).SWITCH_MODE_DROPDOWN,L=n(381),R=L.IN_PROCESS,F=L.SUBMIT,B=L.EMPTY,U=L.TYPE_MARKET,j=L.TYPE_LIMIT,z=L.TYPE_STOP,V=n(69),H=V.OPEN_POSITION_OPTIONS,G=n(426).notifyMarginLevel,W=n(135),q=M.extend({events:function(){return o.extend({},{"click .fn-submit":"submitOrder","click .fn-blackout-gsl":"blackoutGsl","click .fn-more":"notifyMarginLevel","click .field-tooltip .content .fn-deposit":"onDeposit","click .fn-settings":"openSettings"},o.result(M.prototype,"events"))},onDeposit:function(t){u.trigger("flow:deposit:RealDepositItemMainMenu"),this.close()},initialize:function(t){var e=this;M.prototype.initialize.apply(this,arguments),this.isBuying=t.isBuying,this.source=t.source,this.listenTo(this.model,"change:rate change:rateDirection",this.onRateDirectionChanged),Promise.all([this.sendSubscribeToConversion(this.model.getInstrumentModel().getCurrency(),g.getUserCurrency()),this.loadModelExtraData()]).catch(function(t){var e=this;_(function(){return e.close()})}.bind(this)),this.render(),this.initForm(),this.hideRequiredMarginBlockForAmount(),this.hideProfitForTakeProfit(),this.hideLossForStopLoss(),this.hideGslForEntryStop(),this.hideGslForEntryLimit(),this.getBasket(),this.keyboardEvents=W({escape:function(){return e.close()},enter:function(){return e.submitOrder()}},this),this.listenTo(this.model,"change:statusOfSubmit",this.onSubmitStatus),this.$buyButton=this.$el.find(".info-prices-block .buy .price")[0],this.$sellButton=this.$el.find(".info-prices-block .sell .price")[0],this.initBuyAndSell(),this.initSettings(),this.updateForTradeOutsideOfTradingHours()},updateForTradeOutsideOfTradingHours:function(){if(this.updateInstrumentTradableStatus(),!this.openFromSwitchModeDropdown()){this.model.getInstrument().status.canTradeOutsideOfTradingHours()&&(this.model.setType(z),this.updateInstrumentTradable())}},openFromSwitchModeDropdown:function(){return this.source===D},initForm:function(){var t=this;this.form=new c({el:this.$el.find(".form")}),this.listenTo(this.model,"change:requiredMarginInAccountCurrency change:requiredMarginInInstrumentCurrency change:conversionRate",this.fillRequiredMarginForAmount),this.listenToOnce(this.model,"change:amount change:requiredMarginInAccountCurrency change:requiredMarginInInstrumentCurrency change:totalRequiredMargin",o.after(3,this.readyForAmountField.bind(this))),this.listenTo(this.model,"change:rate change:conversionRate",this.onUpdateProfitAndLoss),this.listenTo(this.model,"change:profitForTakeProfit",this.fillProfitForTakeProfit),this.listenTo(this.model,"change:lossForStopLoss",this.fillLossForStopLoss),this.listenTo(this.model,"change:entryLimitError",this.onEntryLimitError),this.listenTo(this.model,"change:entryStopError",this.onEntryStopError),this.listenTo(this.model,"change:amount change:requiredMarginInInstrumentCurrency",this.isSubmitButtonAvailable),this.listenTo(this.model,"change:amount",this.onUpdateMessage),this.listenTo(this.model,"change:instrumentMarginRate",this.onUpdateInstrumentMarginingSettings),this.listenTo(this.model,"change:instrumentTradingCalendarsSettings",this.onUpdateInstrumentTradingCalendarsSettings),this.listenToOnce(this.model,"request:loadExtraData:error",this.onLoadExtraDataError),this.listenTo(this.model.getInstrument(),"change:allowOrdersOutsideOfTradingHours",this.updateInstrumentTradable),this.listenTo(this.model.getInstrument(),"change:buyTradable",this.isSubmitButtonAvailable),this.listenTo(this.model.getInstrument(),"change:sellTradable",this.isSubmitButtonAvailable),this.listenTo(this.model.getInstrument(),"change:tieredMarginApplied",this.showTieredMargin),this.listenTo(this.form,"field:change:amount",this.onAmountChange),this.listenTo(this.form,"field:change:take-profit-checkbox",this.onTakeProfitCheckbox),this.listenTo(this.form,"field:change:take-profit",this.onTakeProfitChange),this.listenTo(this.form,"field:focus:take-profit",this.onTakeProfitFocus),this.listenTo(this.form,"field:change:close-at-loss-checkbox",this.onCloseAtLossCheckbox),this.listenTo(this.form,"field:change:close-at-loss",this.onCloseAtLossChange),this.listenTo(this.form,"field:focus:close-at-loss",this.onCloseAtLossFocus),this.listenTo(this.form,"field:change:entry-stop-checkbox",this.entryStopCheckboxChange),this.listenTo(this.form,"field:change:entry-stop",this.onEntryStopChange),this.listenTo(this.form,"field:change:entry-limit-checkbox",this.entryLimitCheckboxChange),this.listenTo(this.form,"field:change:entry-limit",this.onEntryLimitChange),this.listenTo(this.form,"field:change:entry-stop-checkbox",this.onEntryLimitAndStopCheckboxesChanged),this.listenTo(this.form,"field:change:entry-limit-checkbox",this.onEntryLimitAndStopCheckboxesChanged),this.listenTo(this.form,"field:change:advanced",this.onAdvancedChanged),this.listenTo(this.form,"cancel",this.onCancel);var e=this.model,n=e.getInstrumentModel(),i=n.getPipsPrecisionSize(),r=n.getMinOrderSize(),s=n.getMaxOrderSize(),a=n.getMinOrderIncrement(),l=n.getPrecision(),u=e.getErrorDivisible(a),d=this.form.field("amount"),h={min:[r,e.getErrorsForAmount(r)],divisible:[a,u]},p={min:r,max:s};n.isFractionalAmountEnabled()&&(p.precision=l,h.divisible=[a,Math.pow(10,l+1),u]),d.setOptions(p).setRules(h).disable();var f={step:i,precision:l,min:0},m=n.getPrecisionSize(),g=function(e,n){return e.setOptions(f).setRules({min:[m,t.model.getErrorNotZero(__(n))]})};g(this.getTakeProfitField(),"order.form.take_profit"),g(this.getStopLossField(),"order.form.stop_loss"),g(this.getEntryStopField(),"order.form.field.entry_stop"),g(this.getEntryLimitField(),"order.form.field.entry_limit"),this.model.isTakeProfitEnabled()&&(0!==this.model.getTakeProfit()&&this.getTakeProfitField().setState({pristine:!1}),this.form.field("take-profit-checkbox").check()),this.model.isStopLossEnabled()&&(0!==this.model.getStopLoss()&&this.getStopLossField().setState({pristine:!1}),this.form.field("close-at-loss-checkbox").check())},blackoutGsl:function(){var t=this.$el.find(".guaranteed-stop-loss-wrapper");t.hasClass("blackout")?t.removeClass("blackout"):t.addClass("blackout")},readyForAmountField:function(){this.fillAmount(),this.showRequiredMarginBlockForAmount(),this.fillRequiredMarginForAmount(),this.fillGuaranteedStopLoss()},getTakeProfitCheckBox:function(){return this.form.field("take-profit-checkbox")},getTakeProfitField:function(){return this.form.field("take-profit")},getStopLossField:function(){return this.form.field("close-at-loss")},getStopLossCheckBox:function(){return this.form.field("close-at-loss-checkbox")},getEntryLimitField:function(){return this.form.field("entry-limit")},getEntryStopField:function(){return this.form.field("entry-stop")},getBasket:function(){var t=this.model.getInstrumentModel().getBasket();if(t){var e=d.createElement(m,{basket:t});h.render(e,this.$el.find(".basket-bar")[0])}else this.$el.find(".basket-block").css({display:"none"})},onTakeProfitCheckbox:function(t,e){this.getTakeProfitField().setDefaultState(),this.model.setTakeProfitEnabled(e),e?(this.updateCalcTakeProfit(),this.showProfitForTakeProfit()):(this.model.cleanTakeProfit(),this.hideProfitForTakeProfit()),this.fillTakeProfit(),this.updateButtonAvailable()},onCloseAtLossCheckbox:function(t,e){this.getStopLossField().setDefaultState(),this.model.setStopLossEnabled(e),e?(this.updateCalcStopLoss(),this.showLossForStopLoss()):(this.model.cleanStopLoss(),this.hideLossForStopLoss()),this.fillStopLoss(),this.updateButtonAvailable()},onUpdateProfitAndLoss:function(){this.fillGuaranteedStopLoss(),this.updateCalcTakeProfit(),this.updateCalcStopLoss(),this.updateButtonAvailable()},onAmountChange:function(t){this.model.setAmount(t.value()),t.validate(),this.toggleClass(t),this.isSubmitButtonAvailable()&&(this.fillGuaranteedStopLoss(),this.updateButtonAvailable())},validateAmount:function(t){var e=this.getEntryLimitField().isEnabled(),n=this.getEntryStopField().isEnabled(),i=this.model.getInstrumentModel(),r=this.model.getAmount(),s=g.getUserAccountMetricsModel().getBuyingPower(),a=this.model.getRequiredMarginInAccountCurrency(),l=r*s/a,c=i.getMaxOrderSize();t.setDefaultState(),l=i.isFractionalAmountEnabled()?l:Math.floor(l),e&&n&&(a*=2,l=Math.floor(r*s/a)),a>=0?l<=c&&t.value()<=c?t._rules=o.extend(t._rules,{max:[l,this.model.getErrorMoreFundsRequired()]}):t._rules=o.extend(t._rules,{max:[c,this.model.getErrorAmounMax()]}):t._rules.max&&delete t._rules.max,t.state.disabled||(t.validate(),this.toggleClass(t))},onTakeProfitChange:function(t){this.model.setTakeProfit(t.value()),this.onTakeProfitError(this.model,this.model.get("takeProfitError")),0===Number(t.value())&&t.validate(),this.toggleClass(t),this.updateButtonAvailable()},onCloseAtLossChange:function(t){this.model.setStopLoss(t.value()),this.onStopLossError(this.model,this.model.get("stopLossError")),0===Number(t.value())&&t.validate(),this.toggleClass(t),this.updateButtonAvailable()},onTakeProfitFocus:function(t){this.model.validateTakeProfit(),this.onTakeProfitError(this.model,this.model.get("takeProfitError")),0===Number(t.value())&&t.validate(),this.toggleClass(t),this.updateButtonAvailable()},onCloseAtLossFocus:function(t){this.model.validateStopLoss(),this.onStopLossError(this.model,this.model.get("stopLossError")),0===Number(t.value())&&t.validate(),this.toggleClass(t),this.updateButtonAvailable()},onEntryLimitChange:function(t){this.model.setEntryLimit(t.value()),this.onEntryLimitError(this.model,this.model.get("entryLimitError")),this.updateCalcTakeProfit(),this.updateCalcStopLoss(),this.fillGuaranteedStopLoss(),this.fillRequiredMarginForAmount(),this.getTakeProfitField().isPristine()||this.model.calcProfitForTakeProfit(),this.getStopLossField().isPristine()||this.model.calcLossForStopLoss(),0===Number(t.value())&&t.validate(),this.updateButtonAvailable()},onEntryStopChange:function(t){this.model.setEntryStop(t.value()),this.onEntryStopError(this.model,this.model.get("entryStopError")),this.updateCalcTakeProfit(),this.updateCalcStopLoss(),this.fillGuaranteedStopLoss(),this.fillRequiredMarginForAmount(),this.getTakeProfitField().isPristine()||this.model.calcProfitForTakeProfit(),this.getStopLossField().isPristine()||this.model.calcLossForStopLoss(),0===Number(t.value())&&t.validate(),this.updateButtonAvailable()},onAdvancedChanged:function(t){t.value()||(this.form.field("entry-limit-checkbox").uncheck(),this.form.field("entry-stop-checkbox").uncheck()),t.getState().opened||(this.getTakeProfitField().setState({pristine:!0}),this.getStopLossField().setState({pristine:!0}),this.updateCalcTakeProfit(),this.updateCalcStopLoss());var e=t.$el.find(".fieldset-content")[0];e.style.maxHeight=e.style.maxHeight?null:e.scrollHeight+"px"},onEntryLimitError:function(t,e){this.errorInField(this.getEntryLimitField(),e)},onEntryStopError:function(t,e){this.errorInField(this.getEntryStopField(),e)},onTakeProfitError:function(t,e){0===Number(this.getTakeProfitField().value())?this.getTakeProfitField().validate():this.errorInField(this.getTakeProfitField(),e)},onStopLossError:function(t,e){0===Number(this.getStopLossField().value())?this.getStopLossField().validate():this.errorInField(this.getStopLossField(),e)},errorInField:function(t,e){if(s.mobile()&&this.toggleClassForMobile(e,t),!e)return t.setDefaultState();t.setError(e)},toggleClassForMobile:function(t,e){switch(e._name){case"take-profit":r(".fn-box-take-profit")[t?"addClass":"removeClass"]("fn-form-box-error");break;case"close-at-loss":r(".fn-box-stop-loss")[t?"addClass":"removeClass"]("fn-form-box-error");break;case"entry-stop":r(".fn-box-entry-stop")[t?"addClass":"removeClass"]("fn-form-box-error");break;case"entry-limit":r(".fn-box-entry-limit")[t?"addClass":"removeClass"]("fn-form-box-error")}},setFieldValueIfEnabled:function(t,e){var n=this.form.field(t),i=n.isEnabled()?e:"";Number(n.value())!==Number(i)&&n.value(i)},fillAmount:function(){var t=this.model.getInstrumentModel();this.form.field("amount").enable().setOptions({min:t.getMinOrderSize(),step:this.model.getAmountIncrement(),max:t.getMaxOrderSize()}),this.setFieldValueIfEnabled("amount",this.model.getAmount())},fillRequiredMarginForAmount:function(){var t=this.getEntryLimitField().isEnabled(),e=this.getEntryStopField().isEnabled(),n=g.getUserCurrencySymbol(),i=this.model.getInstrument().getCurrencySymbol(),r=0,o=0;t||e||(r=this.model.getRequiredMarginInInstrumentCurrency(),o=this.model.getRequiredMarginInAccountCurrency()),t&&(r+=this.model.calcRequiredMarginForOrder(this.model.getEntryLimit()),o+=this.model.calcRequiredMarginForOrder(this.model.getEntryLimit(),!0)),e&&(r+=this.model.calcRequiredMarginForOrder(this.model.getEntryStop()),o+=this.model.calcRequiredMarginForOrder(this.model.getEntryStop(),!0));var s=function(t,e){return S(t).formatForeignCurrency(e,"$0,0.[00]")},a=s(o,n);o!==r&&(a=s(r,i)+" = "+s(o,n)),this.$(".required-margin").html(a),this.checkAmountDerives()},checkAmountDerives:function(){this.validateAmount(this.form.field("amount")),this.showTieredMargin();var t=S(this.model.getTotalRequiredMargin()).format("0,0[.]00");this.$(".spanish-regulation-spread").html(__("spanish.regulation.new_order.text",g.getUserCurrencySymbol()+t))},fillTakeProfit:function(){this.setFieldValueIfEnabled("take-profit",this.model.getTakeProfit().toFixed(this.model.getInstrumentModel().getPrecision()))},fillStopLoss:function(){this.setFieldValueIfEnabled("close-at-loss",this.model.getStopLoss().toFixed(this.model.getInstrumentModel().getPrecision()))},fillEntryStop:function(){this.setFieldValueIfEnabled("entry-stop",Number(this.model.getEntryStop()).toFixed(this.model.getInstrumentModel().getPrecision()))},fillEntryLimit:function(){this.setFieldValueIfEnabled("entry-limit",Number(this.model.getEntryLimit()).toFixed(this.model.getInstrumentModel().getPrecision()))},fillProfitForTakeProfit:function(){var t=this.model.get("profitForTakeProfit"),e=g.getUserCurrencySymbol()+Number(t>0?t:0).toFixed(2);this.getTakeProfitField().$(".help-line > .profit").html(e)},fillLossForStopLoss:function(){var t=this.model.get("lossForStopLoss"),e=g.getUserCurrencySymbol()+Number(t>0?t:0).toFixed(2);this.getStopLossField().$(".help-line > .loss").html(e)},fillGuaranteedStopLoss:function(){if(!g.isGuaranteedStopLossEnabled())return!1;var t=g.getUserCurrencySymbol(),e=this.model.getGuaranteedStopLoss(),n=this.model.getGuaranteedStopLossEntryLimit(),i=this.model.getGuaranteedStopLossEntryStop();o.isNumber(e)&&!o.isNaN(e)&&(this.$(".guaranteed-stop-loss").html(t+S(e).format("0,0.[00]")),this.$(".guaranteed-stop-loss-entry-limit").html(t+S(n).format("0,0.[00]")),this.$(".guaranteed-stop-loss-entry-stop").html(t+S(i).format("0,0.[00]")))},entryStopCheckboxChange:function(t,e){this.getEntryStopField().setDefaultState(),this.getStopLossField().setDefaultState(),this.getTakeProfitField().setDefaultState(),e?(this.model.setIsEntryStop(!0),0!==this.model.getEntryStop()&&!1!==this.model.getEntryStop()&&null!==this.model.getEntryStop()||(this.getStopLossField().setState({pristine:!0}),this.getTakeProfitField().setState({pristine:!0}),this.model.calcEntryStop()),this.showGslForEntryStop()):(this.model.cleanEntryStop(),this.hideGslForEntryStop()),this.fillEntryStop(),this.fillGuaranteedStopLoss(),this.updateCalcTakeProfit(),this.updateCalcStopLoss(),this.getStopLossField().isEnabled()&&!this.getStopLossField().isPristine()&&this.getStopLossField().setDefaultState(),this.getTakeProfitField().isEnabled()&&!this.getTakeProfitField().isPristine()&&this.getStopLossField().setDefaultState(),this.updateButtonAvailable()},entryLimitCheckboxChange:function(t,e){this.getEntryLimitField().setDefaultState(),this.getStopLossField().setDefaultState(),this.getTakeProfitField().setDefaultState(),e?(this.model.setIsEntryLimit(!0),0!==this.model.getEntryLimit()&&!1!==this.model.getEntryLimit()&&null!==this.model.getEntryLimit()||(this.getStopLossField().setState({pristine:!0}),this.getTakeProfitField().setState({pristine:!0}),this.model.calcEntryLimit()),this.showGslForEntryLimit()):(this.model.cleanEntryLimit(),this.hideGslForEntryLimit()),this.fillEntryLimit(),this.fillGuaranteedStopLoss(),this.updateCalcTakeProfit(),this.updateCalcStopLoss(),this.getStopLossField().isEnabled()&&!this.getStopLossField().isPristine()&&this.getStopLossField().setDefaultState(),this.getTakeProfitField().isEnabled()&&!this.getTakeProfitField().isPristine()&&this.getStopLossField().setDefaultState(),this.updateButtonAvailable()},updateCalcTakeProfit:function(){var t=this.getEntryLimitField(),e=this.getEntryStopField();t.isEnabled()||e.isEnabled()?(e.isEnabled()&&this.getTakeProfitField().isPristine()&&this.model.calcTakeProfitWithEntryOrder(this.model.getEntryStop()),t.isEnabled()&&this.getTakeProfitField().isPristine()&&this.model.calcTakeProfitWithEntryOrder(this.model.getEntryLimit())):this.getTakeProfitField().isPristine()&&this.model.calcTakeProfit(),this.fillTakeProfit(),this.getTakeProfitField().isEnabled()&&!this.getTakeProfitField().isPristine()&&(this.model.validateTakeProfit(),this.onTakeProfitError(this.model,this.model.get("takeProfitError")))},updateCalcStopLoss:function(){var t=this.getEntryLimitField(),e=this.getEntryStopField();t.isEnabled()||e.isEnabled()?(e.isEnabled()&&this.getStopLossField().isPristine()&&this.model.calcStopLossWithEntryOrder(this.model.getEntryStop()),t.isEnabled()&&this.getStopLossField().isPristine()&&this.model.calcStopLossWithEntryOrder(this.model.getEntryLimit())):this.getStopLossField().isPristine()&&this.model.calcStopLoss(),this.fillStopLoss(),this.getStopLossField().isEnabled()&&!this.getStopLossField().isPristine()&&(this.model.validateStopLoss(),this.onStopLossError(this.model,this.model.get("stopLossError")))},updateButtonAvailable:function(){this.isSubmitButtonAvailable()?this.enableSubmitButton():this.disableSubmitButton()},onEntryLimitAndStopCheckboxesChanged:function(){var t=this.getEntryLimitField().isEnabled(),e=this.getEntryStopField().isEnabled(),n=this.form.field("take-profit-checkbox"),i=this.form.field("close-at-loss-checkbox");n.setDefaultState(),i.setDefaultState(),t&&e?(n.uncheck().disable(),i.uncheck().disable(),this.showMessage()):(n.enable(),i.enable(),this.hideMessage()),t||e||(this.getTakeProfitField().setState({pristine:!0}),this.getStopLossField().setState({pristine:!0}),this.updateCalcTakeProfit(),this.updateCalcStopLoss()),this.fillRequiredMarginForAmount(),t||e?this.showOrderExpiration():this.showPositionExpiration(),this.onEntryLimitAndStopCheckboxesChangedForTradeOutsideOfTradingHours()},canNotTradeOutsideOfTradingHours:function(){return this.model.getInstrument().status.canTradeOutsideOfTradingHours()&&!this.model.isEntryStopEnabled()&&!this.model.isEntryLimitEnabled()},onEntryLimitAndStopCheckboxesChangedForTradeOutsideOfTradingHours:function(){this.canNotTradeOutsideOfTradingHours()&&(this.getTakeProfitCheckBox().uncheck().disable(),this.getStopLossCheckBox().uncheck().disable(),this.disableSubmitButton())},render:function(t){M.prototype.render.call(this),this.setContent(A({direction:this.model.getDirection(),model:this.model,minTradeSize:this.model.getInstrumentModel().getMinOrderSizeFormatted(),isBuying:this.isBuying,rate:this.model.getDefiniteRate(),overnightInterestTime:O.overnightInterestTime(v.overnightInterestTime),rollover:b.getRollovers(this.model.getInstrumentModel().getSymbol().toLowerCase()),userCurrencySymbol:g.getUserCurrencySymbol(),guaranteedStopLossEnabled:g.isGuaranteedStopLossEnabled(),showNewOrderTextHintForSpanishRegulation:w.isSpanishRegulation()&&x.isSpanishRegulationForOpenPositionEnabled(),isAmount:this.model.getInstrumentModel().isAmountWordUsed(),expiration:this.model.getInstrument().getExpirationDate(),groupName:this.model.getInstrumentModel().getGroupName(),settings:x})),this.elements={$infoPricesBlock:this.$el.find(".info-prices-block"),$elementRate:this.$el.find(".rate"),$elementPercent:this.$el.find(".percent > span"),$change:this.$el.find("#change i .rate")},this.updatePercent(),this.updateRate()},showRequiredMarginBlockForAmount:function(){this.$(".fn-amount-row .help-line").css("visibility","visible")},hideRequiredMarginBlockForAmount:function(){this.$(".fn-amount-row .help-line").css("visibility","hidden")},showProfitForTakeProfit:function(){this.showOrHideProfitLoss("take-profit",!0)},hideProfitForTakeProfit:function(){this.showOrHideProfitLoss("take-profit",!1)},showLossForStopLoss:function(){this.showOrHideProfitLoss("close-at-loss",!0)},hideLossForStopLoss:function(){this.showOrHideProfitLoss("close-at-loss",!1)},showGslForEntryStop:function(){this.showOrHideProfitLoss("entry-stop",!0)},hideGslForEntryStop:function(){this.showOrHideProfitLoss("entry-stop",!1)},showGslForEntryLimit:function(){this.showOrHideProfitLoss("entry-limit",!0)},hideGslForEntryLimit:function(){this.showOrHideProfitLoss("entry-limit",!1)},showOrHideProfitLoss:function(t,e){this.form.field(t).$el.find(".help-line").css("visibility",e?"visible":"hidden")},destroy:function(){this.destroyBuyAndSell(),this.settingsDropdown&&this.destroySettings(),o.isFunction(this.options.onClose)&&this.options.onClose.call(this),this.keyboardEvents.off(),M.prototype.destroy.call(this)},close:function(){this.model.stopListening(),M.prototype.close.call(this),Promise.all([this.sendUnsubscribeFromConversion(this.model.getInstrumentModel().getCurrency(),g.getUserCurrency()),this.model.requestUnsubscription()]).catch(function(t){})},getRateData:function(t){var e=this.model.getRateDirection(),n=this.model.getInstrumentModel().fixRate(t);return{1:{add:"up",remove:"down",value:n},0:{add:"",remove:"",value:n},"-1":{add:"down",remove:"up",value:n}}[e]},getPercentData:function(t){var e=this.model.getInstrumentModel(),n=e.isPercentChangeIncreasing(),i=e.getPercentStr();return n?{add:"up",remove:"down",value:i}:{add:"down",remove:"up",value:i}},onRateDirectionChanged:function(t){this.updateRate(),this.updatePercent()},updateRate:function(){var t=this.model.getRate(),e=this.getRateData(t);this.updateRateElement(this.elements.$elementRate,e)},updatePercent:function(t){var e=this.getPercentData(),n=t||this.elements.$elementPercent,i=n.parent();n.html(e.value),i.removeClass(e.remove).addClass(e.add)},initBuyAndSell:function(){var t=this.model.getInstrumentModel().getSymbol();h.render(d.createElement(T.Ask,{symbol:t,render:k}),this.$buyButton),h.render(d.createElement(T.Bid,{symbol:t,render:k}),this.$sellButton)},initSettings:function(){var t=this;if(!s.mobile()){this.$settingsButton=this.$el.find("#settings")[0];var e=g.getUserCommonData().getOpenPositionMode();this.settingsDropdown=h.render(d.createElement(N,{options:H,selected:e,transformOptionText:function(t){return __("modes."+[t])},onChange:function(e){return t.changeOpenPositionMode(e)}}),this.$settingsButton)}},changeOpenPositionMode:function(t){var e=this,n=t[0],i=g.getUserCommonData().getOpenPositionMode(),r={direction:this.model.getDirection().toLocaleLowerCase(),symbolOrId:this.model.getInstrument().getId(),quantity:this.model.getAmount(),type:this.getCurrentOrderType(),tp:this.model.isTakeProfitEnabled()?this.model.getTakeProfit():B,sl:this.model.isStopLossEnabled()?this.model.getStopLoss():B,entry:this.getCurrentOrderEntry(),source:D};g.getUserCommonData().saveOpenPositionMode(n).then(function(){e.close(),u.trigger("ui:new-position",r),e.sendChangeOPModeEvent(n,i)})},getCurrentOrderType:function(){return this.model.isEntryStopEnabled()&&this.model.isEntryLimitEnabled()?U:this.model.isEntryStopEnabled()?z:this.model.isEntryLimitEnabled()?j:U},getCurrentOrderEntry:function(){return this.model.isEntryStopEnabled()&&this.model.isEntryLimitEnabled()?B:this.model.isEntryStopEnabled()?this.model.getEntryStop():this.model.isEntryLimitEnabled()?this.model.getEntryLimit():B},sendChangeOPModeEvent:function(t,e){var n={newOPMode:t,previousOPMode:e};__eventos("tradingPlatform:orderForm:OPmodeChanged",n)},destroyBuyAndSell:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$buyButton,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.$sellButton;h.unmountComponentAtNode(e),h.unmountComponentAtNode(t)},destroySettings:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$settingsButton;h.unmountComponentAtNode(t)},updateRateElement:function(t,e){t.html(e.value).removeClass(e.remove).addClass(e.add)},onCancel:function(){this.close()},onSubmit:function(){var t=this,e=this.form.field("amount").isDisabled(),n=this.$el.find(".fn-submit").hasClass("disabled");if(!e&&!n){var i=this.form.field("take-profit-checkbox"),r=this.form.field("close-at-loss-checkbox"),s=this.form.field("entry-stop-checkbox"),a=this.form.field("entry-limit-checkbox"),l=[];i.isChecked()&&!i.isPristine()&&l.push(this.model.get("takeProfitError")),r.isChecked()&&!r.isPristine()&&l.push(this.model.get("stopLossError")),s.isChecked()&&!s.isPristine()&&l.push(this.model.get("entryLimitError")),a.isChecked()&&!a.isPristine()&&l.push(this.model.get("entryStopError"));if(!o.some(l)&&!this.form.submit()){var c=this.form.getData(),u={effect:"OPENING",instrumentId:this.model.getInstrumentModel().getId(),limitPrice:this.model.getDefiniteRate(),orderSide:this.model.getDirection(),orderType:s.isChecked()?"STOP":"LIMIT",quantity:this.model.isSell()?-c.amount:c.amount,requestId:o.uniqueId("gwt-uid-"),stopPrice:null,timeInForce:"FOK"};r.isChecked()&&(u.stopLoss={fixedOffset:this.model.minOrderDistance(),fixedPrice:this.model.getStopLoss(),isPriceFixed:!0,orderType:"STOP"}),i.isChecked()&&(u.takeProfit={fixedOffset:this.model.minOrderDistance(),fixedPrice:this.model.getTakeProfit(),isPriceFixed:!0,orderType:"LIMIT"}),(s.isChecked()||a.isChecked())&&(u.timeInForce="GTC"),this.tradeConfirmation().then(function(){t.model.submitOrderStatus(R),s.isChecked()&&a.isChecked()?Promise.all([t.requestPlaceOrder(o.extend(o.clone(u),{stopPrice:t.model.getEntryStop(),limitPrice:null})),t.requestPlaceOrder(o.extend(o.clone(u),{limitPrice:t.model.getEntryLimit(),stopPrice:null,requestId:o.uniqueId("gwt-uid-"),orderType:"LIMIT"}))]).then(t.onSubmitSuccess.bind(t)).catch(t.onSubmitError.bind(t)):(s.isChecked()&&!a.isChecked()&&(u.stopPrice=t.model.getEntryStop(),u.limitPrice=null),a.isChecked()&&!s.isChecked()&&(u.limitPrice=t.model.getEntryLimit(),u.stopPrice=null),t.requestPlaceOrder(u).then(t.onSubmitSuccess.bind(t)).catch(t.onSubmitError.bind(t)))})}}},tradeConfirmation:function(){return E.isTradingPositionRiskWarningRequired()?new Promise(function(t){u.trigger("ui:risk-warning",{regulation:"spanish",action:"trade",onOK:t})}):Promise.resolve()},onSubmitSuccess:function(){this.close()},onSubmitError:function(t){var e=this;_(function(){return e.close()})},onLoadExtraDataError:function(t){_(function(){})},requestPlaceOrder:function(t){return this.reportNewOrder(t),p.placeOrder(f.getAtmosphereId(),t).then(this.requestPlaceOrderSuccess.bind(this)).catch(this.requestPlaceOrderError.bind(this))},reportNewOrder:function(t){var e=this.form.field("take-profit-checkbox").isChecked(),n=this.form.field("close-at-loss-checkbox").isChecked(),i={instrumentName:this.model.getInstrumentModel().getSymbol(),orderDirection:this.model.getDirection(),orderType:t.orderType,originalQuantity:this.model.getOriginalAmount(),price:this.model.getCurrentPrice(),quantity:Math.abs(t.quantity),isSentiment:!!this.model.getInstrumentSentiment(),OPmodeView:g.getUserCommonData().getOpenPositionMode()};if(o.has(t,"limitPrice")&&!o.isNull(t.limitPrice)&&(i.entryLimitPrice=t.limitPrice),o.has(t,"stopPrice")&&!o.isNull(t.stopPrice)&&(i.entryStopPrice=t.stopPrice),this.model.getInstrumentSentiment()&&(i.sentimentBuyPercentage=this.model.getInstrumentSentiment().longs),n&&(i.stopLossAmount=this.model.get("lossForStopLoss").toFixed(2),i.stopLossPrice=t.stopLoss.fixedPrice),e&&(i.takeProfitAmount=this.model.get("profitForTakeProfit").toFixed(2),i.takeProfitPrice=t.takeProfit.fixedPrice),!o.isEmpty(this.source))if(this.source.indexOf("Popular")>-1)i.viewSource="popular";else if(this.source.indexOf("Trending_now")>-1)i.viewSource="trendingNow",i.trendingCategoryId=o.compact(this.source.split("/")).pop();else if(this.source.indexOf("trading")>-1){var r=o.compact(this.source.split("/"));r.shift(),3===r.length&&r.pop(),i.viewSource="category",i.categoryName=r.join(".")}else this.source.indexOf("instrument")>-1?i.viewSource="instrument":i.viewSource=this.source.replace("-","_")||"";__eventos("tradingPlatform:orderForm:clkSendOrder",i),y.put(t.requestId,i)},requestPlaceOrderSuccess:function(){return Promise.resolve()},requestPlaceOrderError:function(t){return Promise.reject(t)},sendSubscribeToConversion:function(t,e){return C.add(t,e).then(this.requestConversionSubscriptionSuccess.bind(this)).catch(this.requestConversionSubscriptionError.bind(this))},sendUnsubscribeFromConversion:function(t,e){return C.remove(t,e).then(this.requestConversionUnsubscriptionSuccess.bind(this)).catch(this.requestConversionUnsubscriptionError.bind(this))},requestConversionSubscriptionSuccess:function(t){return Promise.resolve(t)},requestConversionSubscriptionError:function(t){return Promise.reject(t)},requestConversionUnsubscriptionSuccess:function(t){return Promise.resolve(t)},requestConversionUnsubscriptionError:function(t){return Promise.reject(t)},loadModelExtraData:function(){var t=this;return this.model.loadExtraData().then(this.model.loadExtraDataSuccess.bind(this)).then(function(){var e=t.model.getType();e&&(e===j&&(t.checkAdvancedCheckbox("entry-limit-checkbox"),0!==t.model.getEntryLimit()&&t.getEntryLimitField().setState({pristine:!1})),e===z&&(t.checkAdvancedCheckbox("entry-stop-checkbox"),0!==t.model.getEntryStop()&&t.getEntryStopField().setState({pristine:!1})))}).catch(this.model.loadExtraDataError.bind(this))},checkAdvancedCheckbox:function(t){this.form.field("advanced")&&this.form.field("advanced").toggleContent(),this.form.field(t).check()},notifyMarginLevel:function(){this.close(),G()},onUpdateInstrumentMarginingSettings:function(){this.$el.find(".instrument-info-leverage").html(this.model.getInstrumentLeverage())},onUpdateInstrumentTradingCalendarsSettings:function(){var t=this.model.getInstrumentTradingCalendarsSettings();this.$el.find(".instrument-info-trading-hours-name").html(t.tradingHoursName),this.$el.find(".instrument-info-trading-hours-value").html(O.tradingHours(t.tradingHoursValue,t.tradingHoursRaw,!0))},showTieredMargin:function(){var t=this.$(".amount-tiered-margin"),e=this.model.getAmount();if(!o.isNull(e)){var n=this.form.field("amount");if(o.isEmpty(n.validate())&&this.model.getInstrument().isTieredMarginApplied())return void t.removeClass("hidden")}t.addClass("hidden")},isSubmitButtonAvailable:function(){var t=this.model.getInstrumentModel(),e=parseFloat(this.model.getRequiredMarginInAccountCurrency()),n=parseFloat(g.getUserAccountMetricsModel().getBuyingPower()),i=this.model.getDirection();if(!t.isTradableBySide(i))return this.disableSubmitButton(t.status.getNotTradableMessage()),!1;if(e>n)return this.disableSubmitButton(this.model.getErrorMoreFundsRequired()),!1;if(this.canNotTradeOutsideOfTradingHours())return this.disableSubmitButton(),!1;var r=o.isEmpty(this.form.getErrorFields());return r?this.enableSubmitButton():this.disableSubmitButton(),r},disableSubmitButton:function(t){o.isUndefined(t)&&(t=""),this.$el.find(".fn-submit").addClass("disabled").attr("disabled",!0),this.$el.find(".button-tooltip").attr("aria-label",t)},enableSubmitButton:function(){this.$el.find(".fn-submit").removeClass("disabled").removeAttr("disabled"),this.$el.find(".button-tooltip").attr("aria-label","")},toggleClass:function(t){switch(t._name){case"amount":r(".form-row.amount")[t.hasError()?"addClass":"removeClass"]("row-error");break;case"take-profit":r(".form-row.take-profit")[t.hasError()?"addClass":"removeClass"]("row-error");break;case"close-at-loss":r(".form-row.stop-loss")[t.hasError()?"addClass":"removeClass"]("row-error")}},onUpdateMessage:function(){var t=this.form.field("entry-stop-checkbox").isChecked();this.form.field("entry-limit-checkbox").isChecked()&&t&&this.showMessage()},showMessage:function(){var t=this.model.getInstrumentModel(),e=t.isAmountWordUsed()?"order.form.double.charge.warning":"order.form.double.charge.warning.quantity";this.$el.find(".fn-message > span").html(__(e,this.model.getAmount(),t.getDisplayName().split("/")[0])),this.$el.find(".fn-message").removeClass("hidden")},hideMessage:function(){this.$el.find(".fn-message").addClass("hidden")},showPositionExpiration:function(){var t=this.model.getInstrument();r("#expiration").html(__("position.form.expiration",t.getExpirationDate()))},showOrderExpiration:function(){var t=this.model.getInstrument();r("#expiration").html(__("order.form.expiration",t.getExpirationDays()))},submitOrder:function(){this.model.submitOrder(),this.disableSubmitButton()},onSubmitStatus:function(){switch(this.model.get("statusOfSubmit")){case F:this.onSubmit()}},openSettings:function(t){"settings"===t.target.id&&(this.stopDragEvent(t),t.target.querySelector(".icon-hamburger-gray").click())},stopDragEvent:function(t){t.stopImmediatePropagation(),t.preventDefault()},updateInstrumentTradableStatus:function(){var t=this.model.getInstrument().status,e=this.$el.find(".send-order-trading-outside-of-trading-hours");this.$el.find(".instrument-info-trading-outside-of-trading-hours").html(t.canTradeOutsideOfTradingHoursMessage()),t.canTradeOutsideOfTradingHours()?e.removeClass("hidden"):e.addClass("hidden")},updateInstrumentTradable:function(){this.updateInstrumentTradableStatus(),this.model.getInstrument().status.canTradeOutsideOfTradingHours()&&this.onEntryLimitAndStopCheckboxesChangedForTradeOutsideOfTradingHours()}});i.exports=q}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports='<div class="slide-box-overlay fn-close slide-box-overlay-translucent-<%-options.overlayTranslucent%>"></div><div class="slide-box-container"><div class="slide-box-panel <%- options.showBoxShadow ? \'slide-box-panel-shadow\' : \'\' %>" style="width: <%- options.boxWidth %>; max-width: <%- options.maxBoxWidth %>"> <% if (options.showHeader) { %> <div class="slide-box-header"><div class="previous btn fn-previous"><div class="icon arrow"></div><div class="caption"><%=options.previousCaption%></div></div><div class="caption"><%=__(\'actions.\' + (_.isArray(options.caption) ? options.caption[0] : options.caption).toLowerCase())%></div><div class="navigation-box"></div></div> <% } %> <div class="slide-box-content"></div></div></div>'},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=n(52);i.exports=function(t){var e=void 0;return t.hasOwnProperty("ask")&&(e="ask"),t.hasOwnProperty("bid")&&(e="bid"),t[e]=o.divideValueByPipSize(t[e],t.pipsPrecision),r.createElement("div",{className:"rate "+t.className},o.formatValueToStringOrComponent(t[e],!1))}}.call(e,n,e,t))&&(t.exports=i)},function(t,e){t.exports='<div class="new-position-slide-box form"><div class="form-header"><div class="form-caption-box"><div class="form-box-row"><div class="order-caption"><span class="type <%=(isBuying ? \'buy\' : \'sell\')%>"><%=__(\'actions.\' + direction.toLowerCase())%></span>| <span class="symbol"><%=model.getInstrumentModel().getName()%></span></div><div class="current-rate"><div class="rate-box"><div class="caption"><%=__(\'order.instrument_info.current_rate\')%>:</div><div class="rate up"><%-rate%></div></div></div></div></div></div><div class="form-content"><div class="form-content-box"><div class="form-box-row fn-box-sentiment sentiment"><div class="text"><div><%=__(\'sentiment.title\')%></div><div class="percent up"><%=__(\'actions.change\')%> <span><%-model.getPercentChange()%></span></div></div><div class="chart"> <% if (model.getInstrumentSentiment()) { %> <div class="sellers"><%=model.getInstrumentSentiment().shorts %>% <%=__(\'actions.sold\')%></div><div class="bar"><i style="width:<%=model.getInstrumentSentiment().shorts %>%"></i> <b style="width:<%=model.getInstrumentSentiment().longs %>%"></b></div><div class="buyers"><%=model.getInstrumentSentiment().longs %>% <%=__(\'actions.bought\')%></div> <% } %> </div></div> <% if (model.getInstrumentModel().getBasket()) { %> <div class="form-box-row"><div class="basket-block"><div class="block-title"> <%=__(\'baskets.title\')%>&nbsp; <i class="icon-help" aria-label="<%=__(\'baskets.hint\')%>"></i></div><div class="basket-title"><%=__(\'baskets.consists\', model.getInstrumentModel().getBasket().instrumentSymbol) %>:</div><div class="basket-bar"></div></div></div> <% } %> <div class="form-box-row"><div class="flex-stretch"><div class="info-prices-block"><div class="sell"><div class="rate-box"><div class="caption"><%-__(\'actions.sell\')%>:</div><div class="price"></div></div></div><div class="buy"><div class="rate-box"><div class="caption"><%-__(\'actions.buy\')%>:</div><div class="price"></div></div></div></div></div></div><div class="form-box-row fn-box-amount"><div class="field field-rollout field-type-rollout field-rollout-switcher-hidden"><div class="label"><div class="text"><%=model.getAmountLabel()%>: <%=groupName%></div><div class="switcher"><label><input type="checkbox" name="amount-checkbox" class="ios-switch green" checked="checked"><div><div></div></div></label></div></div><div class="rollout-content"><div class="field field-type-spin"><div class="input"><input type="text" name="amount"></div><div class="actions"><button href="#" class="btn action-plus"><i class="icon-plus"></i></button> <button href="#" class="btn action-minus"><i class="icon-minus"></i></button></div><div class="help-line"><div><%=__(\'order.form.required_margin\')%> <span class="required-margin"></span></div></div><div class="field-tooltip"><div class="content"></div></div><div class="amount-tiered-margin hidden"><%= __(\'order.form.tiered_margin.reached\') %></div></div></div> <% if (showNewOrderTextHintForSpanishRegulation){ %> <div class="spanish-regulation-spread"></div> <% } %> </div></div> <% if (expiration){ %> <div class="form-box-row"><div class="text" id="expiration"><%=__(\'position.form.expiration\', expiration)%></div></div> <% } %> <div class="form-box-row fn-box-take-profit"><div class="field field-rollout field-type-rollout field-rollout-opened"><div class="label"><div class="text"><%=__(\'order.form.take_profit\')%></div><div class="switcher"><label><input type="checkbox" name="take-profit-checkbox" class="ios-switch green"><div><div></div></div></label></div></div><div class="rollout-content"><div class="field field-type-spin field-disabled" data-field-depends="take-profit-checkbox"><div class="input"><input type="text" name="take-profit"></div><div class="actions"><button href="#" class="btn action-plus"><i class="icon-plus"></i></button> <button href="#" class="btn action-minus"><i class="icon-minus"></i></button></div><div class="help-line"><span><%=__(\'order.form.price.limit.projection\')%>:</span>&nbsp;<span class="profit"></span></div><div class="field-tooltip"><div class="content"></div></div></div></div></div></div><div class="form-box-row fn-box-stop-loss"><div class="field field-rollout field-type-rollout"><div class="label"><div class="text"><%=__(\'order.form.stop_loss\')%></div><div class="switcher"><label><input type="checkbox" name="close-at-loss-checkbox" class="ios-switch green"><div><div></div></div></label></div></div><div class="rollout-content"><div class="field field-type-spin field-disabled" data-field-depends="close-at-loss-checkbox"><div class="input"><input type="text" name="close-at-loss"></div><div class="actions"><button href="#" class="btn action-plus"><i class="icon-plus"></i></button> <button href="#" class="btn action-minus"><i class="icon-minus"></i></button></div><div class="help-line"><span><%=__(\'order.form.price.stop.projection\')%>:</span>&nbsp;<span class="loss"></span></div><div class="field-tooltip"><div class="content"></div></div></div></div></div></div> <% if (guaranteedStopLossEnabled){ %> <div class="form-box-row flex flex-row field guaranteed-stop-loss-wrapper"><div><%=__(\'order.form.guaranteed_stop_loss\')%>&nbsp;&nbsp;<span class="guaranteed-stop-loss"></span></div><div class="flex-valign-center"><div>&nbsp;<i class="icon-help" aria-label="<%=__(\'help.guaranteed_stop_loss\')%>"></i></div></div></div> <% } %> <div class="form-box-row fn-box-entry-stop"><div class="field field-rollout field-type-rollout"><div class="label"><div class="text"><%-model.getLabelForEntryStop()%></div><div class="switcher"><label><input type="checkbox" name="entry-stop-checkbox" class="ios-switch green"><div><div></div></div></label></div></div><div class="rollout-content"><div class="field field-type-spin field-disabled" data-field-depends="entry-stop-checkbox"><div class="input"><input type="text" name="entry-stop"></div><div class="actions"><button href="#" class="btn action-plus"><i class="icon-plus"></i></button> <button href="#" class="btn action-minus"><i class="icon-minus"></i></button></div><div class="help-line info flex flex-column"> <% if (guaranteedStopLossEnabled){ %> <div> <%=__(\'order.form.guaranteed_stop_loss\')%>&nbsp;<span class="guaranteed-stop-loss-entry-stop"></span> <i class="icon-help" aria-label="<%=__(\'help.guaranteed_stop_loss\')%>"></i></div> <% } %> <div class="field-tooltip"><div class="content error"></div></div></div></div></div></div></div><div class="form-box-row fn-box-entry-limit"><div class="field field-rollout field-type-rollout"><div class="label"><div class="text"><%-model.getLabelForEntryLimit()%></div><div class="switcher"><label><input type="checkbox" name="entry-limit-checkbox" class="ios-switch green"><div><div></div></div></label></div></div><div class="rollout-content"><div class="field field-type-spin field-disabled" data-field-depends="entry-limit-checkbox"><div class="input"><input type="text" name="entry-limit"></div><div class="actions"><button href="#" class="btn action-plus"><i class="icon-plus"></i></button> <button href="#" class="btn action-minus"><i class="icon-minus"></i></button></div><div class="help-line info flex flex-column"> <% if (guaranteedStopLossEnabled){ %> <div> <%=__(\'order.form.guaranteed_stop_loss\')%>&nbsp;<span class="guaranteed-stop-loss-entry-limit"></span> <i class="icon-help" aria-label="<%=__(\'help.guaranteed_stop_loss\')%>"></i></div> <% } %> </div><div class="field-tooltip"><div class="content error"></div></div></div></div></div></div><div class="form-box-row message fn-message hidden"><span></span></div><div class="form-box-row send-order-trading-outside-of-trading-hours message hidden"> <%= __(\'order.form.send_order.trading.outside_of_trading_hours\') %> </div></div></div><div class="form-actions grid"><div class="col"><button class="btn cancel fn-cancel"><%=__(\'order.form.cancel\')%></button></div><div class="col"><button class="btn btn-primary submit fn-submit"><%=__(\'actions.\' + direction.toLowerCase())%></button></div></div></div>'},function(t,e){t.exports='<div class="new-position-popup"><div class="header"><div class="caption"><div class="order-caption"><span class="type <%=(isBuying ? \'buy\' : \'sell\')%>"><%=__(\'actions.\' + direction.toLowerCase())%></span>| <span class="symbol"><%=model.getInstrumentModel().getName()%></span></div><div class="information"><%=model.getInstrumentDescription()%></div></div><div class="popup-warning hidden"><i class="icon-warning-circle"></i> <span class="warn-content"></span></div><div class="actions"><div class="fn-settings btn" id="settings"></div><div class="fn-close-popup btn"><i class="icon-close-grey"></i></div></div></div><div class="content"><div class="form"><div class="form-row fn-amount-row amount"><div><%=model.getAmountLabel()%>: <%=groupName%></div><div class="field field-type-spin"><div class="input"><input type="text" name="amount"></div><div class="actions"><button class="btn action-plus" data-type="amount"><i class="icon-plus"></i></button> <button class="btn action-minus" data-type="amount"><i class="icon-minus"></i></button></div><div class="help"><i class="icon-help" aria-label="<%=isAmount ? __(\'help.order.amount\') : __(\'help.order.quantity\')%>"></i></div><div class="help-line"><div><%=__(\'order.form.required_margin\')%></div><div class="required-margin"></div></div><div class="field-tooltip"><div class="content"></div></div><div class="amount-tiered-margin info hidden"><%= __(\'order.form.tiered_margin.reached\') %></div></div></div> <% if (expiration){ %> <div class="form-row position-expiration"><div class="field" id="expiration"><%=__(\'position.form.expiration\', expiration)%></div><div class="field"><div class="help"><i class="icon-help" aria-label="<%= __(\'help.order.expiration\')%>"></i></div></div></div> <% } %> <div class="form-row take-profit"><div class="field field-type-checkbox"><input type="checkbox" name="take-profit-checkbox" id="take-profit"><label for="take-profit"><%=__(\'order.form.take_profit\')%></label></div><div class="field field-type-spin field-disabled" data-field-depends="take-profit-checkbox"><div class="input"><input type="text" name="take-profit"></div><div class="actions"><button class="btn action-plus" data-type="takeProfit"><i class="icon-plus"></i></button> <button class="btn action-minus" data-type="takeProfit"><i class="icon-minus"></i></button></div><div class="help"><i class="icon-help" aria-label="<%=__(\'help.order.take_profit\')%>"></i></div><div class="help-line"><div><%=__(\'order.form.price.limit.projection\')%>:</div><div class="profit"></div></div><div class="field-tooltip"><div class="content"></div></div></div></div><div class="form-row stop-loss"><div class="field field-type-checkbox"><input type="checkbox" name="close-at-loss-checkbox" id="close-at-loss"><label for="close-at-loss"><%=__(\'order.form.stop_loss\')%></label></div><div class="field field-type-spin field-disabled" data-field-depends="close-at-loss-checkbox"><div class="input"><input type="text" name="close-at-loss"></div><div class="actions"><button class="btn action-plus" data-type="stopLoss"><i class="icon-plus"></i></button> <button class="btn action-minus" data-type="stopLoss"><i class="icon-minus"></i></button></div><div class="help"><i class="icon-help" aria-label="<%=__(\'help.order.stop_loss\')%>"></i></div><div class="help-line"><div><%=__(\'order.form.price.stop.projection\')%>:</div><div class="loss"></div></div><div class="field-tooltip"><div class="content"></div></div></div></div> <% if (showNewOrderTextHintForSpanishRegulation){ %> <div class="spanish-regulation-spread"></div> <% } %> <% if (guaranteedStopLossEnabled){ %> <div class="field guaranteed-stop-loss-wrapper"><div><%=__(\'order.form.guaranteed_stop_loss\')%>&nbsp;&nbsp;<span class="guaranteed-stop-loss"></span></div><div class="help"><i class="icon-help" aria-label="<%=__(\'help.guaranteed_stop_loss\')%>"></i></div></div> <% } %> <div class="field field-fieldset field-type-fieldset" data-field-name="advanced"><div class="fieldset-legend fn-blackout-gsl"><div class="text"><%=__(\'order.form.advanced.checkbox\')%></div></div><div class="fieldset-content fields-toggle"><div class="form-row"><div class="field field-type-checkbox"><input type="checkbox" name="entry-stop-checkbox" id="entry-stop-checkbox"><label for="entry-stop-checkbox"><%-model.getLabelForEntryStop()%></label></div><div class="field field-type-spin field-disabled" data-field-depends="entry-stop-checkbox"><div class="input"><input type="text" name="entry-stop"></div><div class="actions"><button class="btn action-plus" data-type="entryStop"><i class="icon-plus"></i></button> <button class="btn action-minus" data-type="entryStop"><i class="icon-minus"></i></button></div><div class="help"><i class="icon-help" aria-label="<%-model.getEntryStopExplanation()%>"></i></div><div class="help-line"> <% if (guaranteedStopLossEnabled){ %> <div class="guaranteed-stop-loss-label"><%=__(\'order.form.guaranteed_stop_loss\')%></div><div class="guaranteed-stop-loss-row"><span class="guaranteed-stop-loss-entry-stop"></span> <span class="help"><i class="icon-help" aria-label="<%=__(\'help.guaranteed_stop_loss\')%>"></i></span></div> <% } %> </div><div class="field-tooltip"><div class="content"></div></div></div></div><div class="form-row"><div class="field field-type-checkbox"><input type="checkbox" name="entry-limit-checkbox" id="entry-limit-checkbox"><label for="entry-limit-checkbox"><%-model.getLabelForEntryLimit()%></label></div><div class="field field-type-spin field-disabled" data-field-depends="entry-limit-checkbox"><div class="input"><input type="text" name="entry-limit"></div><div class="actions"><button class="btn action-plus" data-type="entryLimit"><i class="icon-plus"></i></button> <button class="btn action-minus" data-type="entryLimit"><i class="icon-minus"></i></button></div><div class="help"><i class="icon-help" aria-label="<%-model.getEntryLimitExplanation()%>"></i></div><div class="help-line"> <% if (guaranteedStopLossEnabled){ %> <div class="guaranteed-stop-loss-label"><%=__(\'order.form.guaranteed_stop_loss\')%></div><div class="guaranteed-stop-loss-row"><span class="guaranteed-stop-loss-entry-limit"></span> <span class="help"><i class="icon-help" aria-label="<%=__(\'help.guaranteed_stop_loss\')%>"></i></span></div> <% } %> </div><div class="field-tooltip"><div class="content"></div></div></div></div></div></div><div class="form-row message fn-message hidden"><span></span></div><div class="form-row send-order-trading-outside-of-trading-hours message hidden"> <%= __(\'order.form.send_order.trading.outside_of_trading_hours\') %> </div><div class="form-row"><div class="form-actions"><span class="button-tooltip" aria-label=""><button class="btn btn-primary fn-submit"><%=__(\'order.form.send_order\')%></button> </span><span class="cancel fn-cancel"><%=__(\'order.form.cancel\')%></span></div></div></div><div class="separator"><span></span></div><div class="instrument-detail"><div class="col-box"><div class="info-prices-block visible hidden-xs"><div class="sell"><div class="rate-box"><div class="caption"><%-__(\'actions.sell\')%>:</div><div class="price"></div></div></div><div class="buy"><div class="rate-box"><div class="caption"><%-__(\'actions.buy\')%>:</div><div class="price"></div></div></div></div><div class="current-rate hidden visible-xs"><div class="rate-box"><div class="caption"><%=__(\'order.instrument_info.current_rate\')%>:</div><div class="rate"><%-rate%></div><div class="h-line"></div><div class="percent up"><span><%-model.getPercentChange()%></span><i class="arrow"></i></div></div></div><div class="line"></div><div class="information"><div class="row-box hidden-xs" id="change"><b><%-__(\'netChange.header\')%>:</b> <i><div class="rate-box"><div class="percent up"><span><%-model.getPercentChange()%></span><i class="arrow"></i></div></div></i></div><div class="row-box"><b><%=__(\'instrument_info.minimum_trade_size\')%>:</b> <i><%=minTradeSize%></i></div><div class="row-box"><b><%=__(\'instrument_info.overnight_interest_time\')%>:</b><i><%\n                        if(overnightInterestTime) {%><%=overnightInterestTime%><%} else {%>None<%}%></i></div><div class="row-box"><b><%=__(\'instrument_info.leverage\')%>:</b><i class="instrument-info-leverage"></i></div><div class="row-box"><b><%=__(\'instrument_info.rollover_date\')%>:</b><i><%=rollover || __(\'instrument_info.none\')%></i></div><div class="row-box"><b><span class="instrument-info-trading-hours-name"><%=__(\'instrument_info.trading_hours\')%></span>:</b><i class="instrument-info-trading-hours-value"></i></div><div class="row-box"><b><%= __(\'instrument_info.trading.outside_of_trading_hours\') %>:</b> <i class="instrument-info-trading-outside-of-trading-hours"></i></div></div><div class="line"></div><div class="sentiment-block"> <% if (model.getInstrumentSentiment()) { %> <p><%=__(\'sentiment.title\')%></p><div class="sentiment"><div class="sellers"><%=model.getInstrumentSentiment().shorts %>% <%=__(\'notification.3rd.SELL\')%></div><div class="bar"><i style="width:<%=model.getInstrumentSentiment().shorts %>%"></i> <b style="width:<%=model.getInstrumentSentiment().longs %>%"></b></div><div class="buyers"><%=model.getInstrumentSentiment().longs %>% <%=__(\'notification.3rd.BUY\')%></div></div><div class="line"></div> <% } %> </div> <% if (model.getInstrumentModel().getBasket()) { %> <div class="basket-block"><div class="block-title"> <%=__(\'baskets.title\')%>&nbsp; <i class="icon-help" aria-label="<%=__(\'baskets.hint\')%>"></i></div><div class="basket-title"><%=__(\'baskets.consists\', model.getInstrumentModel().getBasket().instrumentSymbol) %>:</div><div class="basket-bar"></div></div><div class="line"></div> <% } %> <% if (settings.isLiveChatEnabled()) { %> <div class="help"><span><%=__(\'help.need_help\')%></span><a href="#" class="fn-help-live-chat-link"><span><%=__(\'help.right_here\')%></span></a></div> <% } %> </div></div></div></div>'},function(t,e){t.exports='<span class="message"> <% if (showWarning) { %> <i class="icon-warning-circle"></i> <% } %> <%=message%> </span><span class="actions"> <% if (typeof showMore !== "undefined" && showMore){ %> <button class="btn btn-link fn-more"><%=__(\'notification.box.more\')%></button> <% } %> <% if (typeof hideDismiss !== "undefined" && !hideDismiss){ %> <button class="btn btn-link fn-dismiss"><%=__(\'notification.box.dismiss\')%></button> <% } %> </span>'},function(t,e){t.exports='<div class="account-block-container"><div class="account-block-header"><div class="parent"><div class="row"><div class="col-xs-6 left"><div class="my-account-header"><span><%=__(\'my_account\')%></span><span class="line"></span> <a id="myfunds"><%=__(\'account_info.header.my_funds\')%></a></div><div class="pending-deposit-message hidden"><i class="icon-warning-circle"></i><div><div><%=__(\'accountInfo.pendingDeposit\')%>:</div><div class="amount"></div></div></div></div><div class="col-xs-6 right"><div class="account-switcher"><span class="account-switch account-demo <%if(platformType != \'Live\') {%>bold<%}%>"><%=__(\'accountInfo.button.demo\')%></span><div><input type="checkbox" id="account-switch-checkbox" <%if(platformType == \'Live\')\n                            {%> checked="checked" <%}%> <%if (!isPlatformSwitchAllowed) {%> disabled="disabled" <%}%> ><label for="account-switch-checkbox"></label></div><span class="account-switch account-real <%if(platformType == \'Live\') {%>bold<%}%>"><%=__(\'accountInfo.button.real\')%></span></div></div></div></div></div><div class="account-block-body"><table class="table"><tbody><tr><td class="account-info-title"><%=__(\'accountInfo.cash\')%>:</td><td class="account-info-value"><span data-id="balance"><%=balance%></span></td><td><span class="question-tooltip" data-tooltip-align="right" aria-label="<%=__(\'help.account.balance\')%>"></span></td></tr><tr><td class="account-info-title"> <%=__(\'accountInfo.equity\')%>:</td><td class="account-info-value"><span data-id="equity"><%=equity%></span></td><td><span class="question-tooltip" data-tooltip-align="right" aria-label="<%=__(\'help.account.equity\')%>"></span></td></tr><tr><td class="account-info-title"><%=__(\'accountInfo.freeMargin\')%>:</td><td class="account-info-value"><span data-id="buyingPower"><%=buyingPower%></span></td><td><span class="question-tooltip" data-tooltip-align="right" aria-label="<%=__(\'help.account.free_margin\')%>"></span></td></tr><tr><td class="account-info-title"><%=__(\'accountInfo.usedMargin\')%>:</td><td class="account-info-value"><span data-id="margin"><%=marginUsed%></span><span data-id="riskLevel" class="<%=risk_level_class%>"> <% if (riskLevel) {%> <%=riskLevel%>% <% } else { %> N/A <% } %> </span></td><td><span class="question-tooltip" data-tooltip-align="right" aria-label="<%=__(\'help.account.used_margin\')%>"></span></td></tr><tr><td class="account-environment-separator" colspan="3"><div class="environment-indicator"><span></span> <span class="environment"> <%=__( platformType != \'Live\' ? \'accountInfo.demo.account\' : \'accountInfo.live.account\')%> </span><span></span></div></td></tr><tr><td class="account-info-title account-info-title-bold"><%=__(\'accountInfo.pl\')%></td><td class="account-info-value pl_value <%= profitLossPositive ? \'pl_pos\' : \'pl_neg\' %>"><span data-id="profitLoss"><%=profitLoss%></span></td><td><span class="question-tooltip" data-tooltip-align="right" aria-label="<%=__(\'help.account.open_p_l\')%>"></span></td></tr></tbody></table><div class="button-container"><button type="button" class="btn btn-primary btn-block fn-deposit" <%if (!isPlatformSwitchAllowed) {%> disabled="disabled" <%}%>><div class="button-label"><span><%=__(\'status.deposit_funds\')%></span></div></button></div></div></div>'},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(201),o=n(2),s=n(6),a=n(22),l=n(287),c=n(202),u=c.getValueFromTradingSettings,d=n(176),h=d.ORDER_TYPE,p=n(0),f=n(381),m=f.EMPTY,g=f.IN_PROCESS,v=f.SUBMIT,b=r.extend({defaults:function(){return{instrumentModel:null,amount:null,amountIncrement:null,currentPrice:null,conversionRate:null,takeProfit:null,stopLoss:null,entryLimit:null,entryStop:null,takeProfitError:null,stopLossError:null,entryLimitError:null,entryStopError:null,minTakeProfit:null,minTakeProfitErrorMessage_Buy:"order.form.validation.take_profit_pips_higher",minTakeProfitErrorMessage_Sell:"order.form.validation.take_profit_pips_lesser",minStopLoss:null,minStopLossErrorMessage_Buy:"order.form.validation.stop_loss_pips_lesser",minStopLossErrorMessage_Sell:"order.form.validation.stop_loss_pips_higher",maxQuantity:"order.form.validation.quantity_too_big",moreFundsRequired:"state.machine.confirmation.deposit.suggest.link",profitForTakeProfit:null,direction:null,rate:0,rateDirection:0,requiredMarginInAccountCurrency:null,requiredMarginInInstrumentCurrency:null,entryLimit_Buy_Label:__("order.form.limit.label.buy"),entryLimit_Sell_Label:__("order.form.limit.label.sell"),entryStop_Buy_Label:__("order.form.stop.label.buy"),entryStop_Sell_Label:__("order.form.stop.label.sell"),entryStop_Buy_Explanation:__("help.order.entry_stop_buy"),entryStop_Sell_Explanation:__("help.order.entry_stop_sell"),entryLimit_Buy_Explanation:__("help.order.entry_limit_buy"),entryLimit_Sell_Explanation:__("help.order.entry_limit_sell"),type:null,isTakeProfitEnabled:!1,isStopLossEnabled:!1,isEntryStopEnabled:!1,isEntryStopLimit:!1,statusOfSubmit:m}},initialize:function(){r.prototype.initialize.apply(this,arguments);var t=this.getInstrumentModel();t.set({totalRequiredMargin:null,requiredMarginInAccountCurrency:null,requiredMarginInInstrumentCurrency:null}),this.loadInstrumentMarginingSettings(),this.loadInstrumentTradingCalendarsSettings(),this.filter(),this.setCurrentPrice(this.getDefiniteRate()),this.listenTo(o,"stream:type:CONVERSION_RATE",this._onConversionRateChange),this.listenTo(this,"change:rate",this.updatePrice),this.listenTo(this,"change:currentPriceFromEntryLimit",this.calcDefaultValuesWithEntryLimit),this.listenTo(this,"change:amount",this.requestMarginSubscription),this.listenTo(this,"change:amount change:takeProfit change:rate change:conversionRate",this.calcProfitForTakeProfit),this.listenTo(this,"change:amount change:stopLoss change:rate change:conversionRate",this.calcLossForStopLoss),this.listenTo(this,"change:amount change:takeProfit change:rate change:conversionRate change:entryLimit change:entryStop",this.updateGuaranteedStopLoss),this.listenTo(this,"change:rate",p.compose(this.validateTakeProfit.bind(this),this.validateStopLoss.bind(this),this.validateEntryLimit.bind(this),this.validateEntryStop.bind(this))),this.listenTo(t,"change:marginRate",this.updateGuaranteedStopLoss),this.listenTo(t,"change:"+this.getPriceKey(),this.onRateChanged),this.listenTo(t,"change:"+this.getPriceDirectionKey(),this.onPriceDirection),this.listenTo(t,"change:requiredMarginInAccountCurrency change:requiredMarginInInstrumentCurrency change:totalRequiredMargin",this.updateMargins),this.calcDefaultValues(),this.setRate(this.getDefiniteRate()),this.setRateDirection(this.getPriceDirectionKey()?t.getAskDirection():t.getBidDirection())},loadExtraData:function(){return this.calcOrderDefaultAmount().then(this.calcOrderDefaultAmountSuccess.bind(this)).catch(this.calcOrderDefaultAmountError.bind(this))},loadExtraDataSuccess:function(){return Promise.resolve()},loadExtraDataError:function(t){this.trigger("request:loadExtraData:error")},calcOrderDefaultAmount:function(){return s.calculateOrderDefaultAmount(a.getAtmosphereId(),this.getInstrumentModel().getId())},calcOrderDefaultAmountSuccess:function(t){var e=this.getInstrumentModel().get("instrumentSymbol"),n=this.isBuy()?h.LONG:h.SHORT,i=u(e,n);return this.setAmountIncrement(t.data.amountIncrement),this.setOriginalAmount(t.data.amount),null===this.getAmount()?this.setAmount(i||t.data.amount):this.trigger("change:amount"),Promise.resolve()},calcOrderDefaultAmountError:function(t){return Promise.reject()},requestMarginSubscription:function(){var t={symbol:this.getInstrumentModel().get("instrumentSymbol"),quantity:this.getAmount(),side:this.isBuy()?"BUY":"SELL",conversionRate:this.getConversionRate()};return s.requiredMarginPositionCandidateUpdate(a.getAtmosphereId(),t).then(this.requestSubscriptionSuccess.bind(this)).catch(this.requestSubscriptionError.bind(this))},requestUnsubscription:function(){return s.unsubscribeRequiredMarginPositionCandidateUpdate(a.getAtmosphereId(),this.getInstrumentModel().get("instrumentSymbol")).then(this.requestSubscriptionSuccess.bind(this)).catch(this.requestSubscriptionError.bind(this))},requestSubscriptionSuccess:function(t){return Promise.resolve()},requestSubscriptionError:function(t){return Promise.reject(t)},getValidationValueForProfit:function(){var t=void 0,e=void 0,n=this.getInstrumentModel().getPrecision();return this.isBuy()?(t=Number((this.getRate()+this.minAllowedOrderDistance()).toFixed(n)),e=Number((this.getReflectRate()+this.getInstrumentModel().getPipsPrecisionSize()).toFixed(n)),t>=e?t:e):(t=Number((this.getRate()-this.minAllowedOrderDistance()).toFixed(n)),e=Number((this.getReflectRate()-this.getInstrumentModel().getPipsPrecisionSize()).toFixed(n)),t<=e?t:e)},getValidationValueForLoss:function(){var t=void 0,e=void 0,n=this.getInstrumentModel().getPrecision();return this.isBuy()?(t=Number((this.getRate()-this.minAllowedOrderDistance()).toFixed(n)),e=Number((this.getReflectRate()-this.getInstrumentModel().getPipsPrecisionSize()).toFixed(n)),t<=e?t:e):(t=Number((this.getRate()+this.minAllowedOrderDistance()).toFixed(n)),e=Number((this.getReflectRate()+this.getInstrumentModel().getPipsPrecisionSize()).toFixed(n)),t>=e?t:e)},getErrorsForAmount:function(t){return this.getInstrumentModel().isAmountWordUsed()?__("order.form.validation.amount_too_small",t):__("order.form.validation.quantity_too_small",t)},getErrorDivisible:function(t){return this.getInstrumentModel().isAmountWordUsed()?__("order.form.validation.amount_step",t):__("order.form.validation.quantity_step",t)},getType:function(){return this.get("type")},setType:function(t){return this.set("type",t)},isTakeProfitEnabled:function(){return this.get("isTakeProfitEnabled")},isStopLossEnabled:function(){return this.get("isStopLossEnabled")},setTakeProfitEnabled:function(t){return this.set("isTakeProfitEnabled",t)},setStopLossEnabled:function(t){return this.set("isStopLossEnabled",t)},setIsEntryStop:function(t){return this.set("isEntryStopEnabled",t),this},setIsEntryLimit:function(t){return this.set("isEntryLimitEnabled",t),this},isEntryStopEnabled:function(){return this.get("isEntryStopEnabled")},isEntryLimitEnabled:function(){return this.get("isEntryLimitEnabled")},calcEntryLimit:function(){r.prototype.calcEntryLimit.call(this),this.setIsEntryLimit(!0)},calcEntryStop:function(){r.prototype.calcEntryStop.call(this),this.setIsEntryStop(!0)},cleanEntryLimit:function(){r.prototype.cleanEntryLimit.call(this),this.setIsEntryLimit(!1)},cleanEntryStop:function(){r.prototype.cleanEntryStop.call(this),this.setIsEntryStop(!1)},calcSpred:function(){return(this.getAsk()-this.getBid())*(this.getAmount()||1)*this.getConversionRate()},submitOrder:function(){this.get("statusOfSubmit")!==g&&this.submitOrderStatus(v)},submitOrderStatus:function(t){this.set("statusOfSubmit",null,{silent:!0}),this.set("statusOfSubmit",t)},loadInstrumentMarginingSettings:function(){l.getMarginingSettings(this.getInstrumentModel().getSymbol()).then(this.calculateMarginRate.bind(this))},calculateMarginRate:function(t){this.set({instrumentMarginRate:Math.ceil(100/(t.marginRatePercent||100))})},getInstrumentLeverage:function(){return"1:"+this.get("instrumentMarginRate")},loadInstrumentTradingCalendarsSettings:function(){var t=this;l.getTradingCalendarsSettings(this.getInstrumentModel().getSymbol()).then(function(e){return t.set("instrumentTradingCalendarsSettings",e)})},getInstrumentTradingCalendarsSettings:function(){return this.get("instrumentTradingCalendarsSettings")}});i.exports=b}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(0),s=n(80),a=n(9),l=n(23),c=n(86),u=n(737),d=n(6),h=n(2),p=o.template(n(1660)),f=o.template(n(127));i.exports=s.extend({name:"change-password",events:function(){return o.extend({},o.result(s.prototype,"events"),{"click #auth-button-create-account":"changePassword","submit .change-password-form":"changePassword","click .password-eye":"showPasswordToggle","click #auth-forgot-password-link":"forgotPassword"})},getOptions:function(t){return o.extend({},s.prototype.getOptions.call(this,t),t)},initialize:function(t){s.prototype.initialize.call(this,t),this.render()},render:function(){s.prototype.render.call(this),this.setContent(p()),this.initForm(),this.show()},initForm:function(){var t=this;["auth-panel-password-field","auth-panel-original-password-field","auth-panel-confirm-password-field"].forEach(function(e){var n=t.$("."+e+" > input")[0];n&&(n.onfocus=t.onFocus.bind(t))})},onFocus:function(t){t.target.parentNode.classList.remove("field-error"),this.cleanErrors()},changePassword:function(t){var e=this;t.preventDefault(),__eventos("onBoardFlow:changePassword:clkChangePassword"),this.cleanErrors();var n=this.createValidator(),i=n.validate(this.getFormData());if(i)return void this.showErrors(i);var r=n.data("auth-panel-original-password-field"),o=n.data("auth-panel-password-field");return d.updatePassword(r,o).then(function(t){return e.requestSuccess(t,o)}).catch(this.requestError.bind(this))},requestSuccess:function(t,e){if(!o.isEmpty(t.data.error))return Promise.reject(t);d.applyCredentials(e,l.getCurrentLanguage()).then(function(t){return t.data&&d.logoutFromWidgets(t.data,l.getCurrentLanguage())});var n=this.options.onPasswordChanged;o.isFunction(n)&&n(),this.close()},requestError:function(t){function e(t,e){var n=__("validation.password."+e.key,e.params);return t.push(n===e.key?e.defaultValue:n),t}var n=void 0,i=t&&t.response&&t.response.status;if(401===i&&(n=[__("account_settings.change_password.form.validate.incorrect")]),400===i&&t&&o.isArray(t.response.data)&&(n=t.response.data.reduce(e,[])),!n)return this.networkError();this.showPasswordValidationErrors(n)},showPasswordValidationErrors:function(t){this.$(".error-block").html(f({errors:[t]})),this.$(".error-block").css("display","block")},networkError:function(){h.trigger("ui:message-box",{parent:document.body,text:__("accountInfo.outOfMarket.other.email")})},getValidatorFilters:function(){return{"auth-panel-password-field":["string"],"auth-panel-confirm-password-field":["string"],"auth-panel-original-password-field":["string"]}},getValidatorRules:function(){return{"auth-panel-original-password-field":{not_empty:__("registration.warning.field_is_required",__("popup.change.password.original.placeholder"))},"auth-panel-password-field":{not_empty:__("registration.warning.field_is_required",__("popup.change.password.new.placeholder")),alpha_numeric:a.isPasswordClientValidationEnabled()?__("account_settings.change_password.form.validate",a.getPasswordMinLength(),a.getPasswordMaxLength()):o.noop,password:a.isPasswordClientValidationEnabled()?__("account_settings.change_password.form.validate",a.getPasswordMinLength(),a.getPasswordMaxLength()):o.noop},"auth-panel-confirm-password-field":{not_empty:__("registration.warning.field_is_required",__("popup.change.password.confirm.placeholder")),strict_equals:[this.$(".auth-panel-password-field input").val(),__("account_settings.change_password.form.validate.not_match")]}}},getFormData:function(){return{"auth-panel-original-password-field":this.$(".auth-panel-original-password-field input").val(),"auth-panel-password-field":this.$(".auth-panel-password-field input").val(),"auth-panel-confirm-password-field":this.$(".auth-panel-confirm-password-field input").val()}},createValidator:function(){return new c(this.getValidatorFilters(),this.getValidatorRules())},showErrors:function(t){var e=this;o.each(t,function(t,n){e.$("."+n).addClass("field-error")}),this.$(".error-block").html(f({errors:t})),this.$(".error-block").css("display","block")},cleanErrors:function(){var t=this,e=this.getFormData();o.each(e,function(e,n){t.$("."+n).removeClass("field-error")}),this.$(".error-block").css("display","none")},hide:function(){s.prototype.hide.call(this),this.destroy()},destroy:function(){this.extAuth&&this.extAuth.destroy(),s.prototype.destroy.call(this)},showPasswordToggle:function(t){var e=r(t.target),n=e.parent().find("input");if(e.hasClass("icon-eye-gray"))return e.removeClass("icon-eye-gray"),e.addClass("icon-eye-blue"),void n.attr("type","text");e.removeClass("icon-eye-blue"),e.addClass("icon-eye-gray"),n.attr("type","password")},forgotPassword:function(){return __eventos("onBoardFlow:changePassword:clkForgetPassword"),new u({parent:r("body"),isFooterShowed:!1,backKey:"actions.back"})}})}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports='<div class="auth-box forgot-password"><form class="forgot-password-form"><div class="auth-panel"><div class="caption hidden-xs"><%=__(\'forgot_password.header\')%></div><div class="caption-xs visible-xs"><span class="welcome"><%=__(\'forgot_password.question\')%></span><span><%=__(\'forgot_password.help_line\')%></span></div><div class="forgot-password-help-line hidden-xs"> <%=__(\'forgot_password.help_line\')%> </div><div class="form"><div class="auth-panel-email-field field input-field fn-auth-forgot-password-input-email"><input type="email" placeholder="<%=__(\'account_settings.customer_info.form.email\')%>" id="auth-forgot-password-input-email"></div><button class="btn btn-primary" id="auth-forgot-password-button-submit"><%=__(\'actions.reset\')%> </button><div class="auth-addon-block padding-xs"><a href="#login" id="forgot-password-back-to-login-page-link"><%=__(backKey)%></a></div><div class="container-fluid inform-block"></div><div class="container-fluid error-block"></div></div></div> <% if (isFooterShowed) { %> <div class="auth-box-footer"><div class="auth-box-info hidden-xs"> <%=__(\'login.risk_warning\')%> </div></div> <% } %> </form></div>'},function(t,e){t.exports='<div class="auth-box change-password-popup"><form class="change-password-form"><div class="auth-panel"><div class="caption hidden-xs"><%=__(\'popup.change.password.caption.web\')%></div><div class="description"><%=__(\'popup.change.password.description.web\')%></div><div class="auth-content"><div class="auth-form"><div class="form"><div class="auth-panel-original-password-field field input-field"><input type="password" placeholder="<%=__(\'popup.change.password.original.placeholder\')%>" value=""> <i class="password-eye icon-eye-gray"></i></div><div class="auth-panel-password-field field input-field"><input type="password" placeholder="<%=__(\'popup.change.password.new.placeholder\')%>" value=""> <i class="password-eye icon-eye-gray"></i></div><div class="auth-panel-confirm-password-field field input-field"><input type="password" placeholder="<%=__(\'popup.change.password.confirm.placeholder\')%>" value=""> <i class="password-eye icon-eye-gray"></i></div><button class="btn btn-primary" id="auth-button-create-account"> <%=__(\'popup.change.password.update.button\')%> </button><div class="container-fluid error-block"><div class="row"><div class="col-sm-12 error-message"><i class="icon-warning"></i> <%=__(\'new_account.error_message\')%> </div></div></div></div></div></div></div></form><div class="auth-box-footer"><div class="auth-box-switch"><a href="#forgetpass" id="auth-forgot-password-link"><%=__(\'popup.change.password.forget.password\')%></a></div></div></div>'},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=(n(17),n(2),n(6),n(0),n(7));i.exports={_isRequestRunning:!1,_isUpdaterRunning:!1,start:function(){if(this.isUpdaterRunning())return void(this.isRequestRunning()||(this.clearTimeout(),this.load()));this._isUpdaterRunning=!0,this.load()},stop:function(){this._isUpdaterRunning=!1},isUpdaterRunning:function(){return this._isUpdaterRunning},isRequestRunning:function(){return this._isRequestRunning},clearTimeout:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){clearTimeout(this.timeoutId)}),loadWithDelay:function(t){var e=this;this.clearTimeout(),this.timeoutId=setTimeout(function(){return e.load()},t)},load:function(){var t=this;this._isRequestRunning=!0,r.getUserData().load().then(function(e){t._isRequestRunning=!1,t.loadSuccess(e)}).catch(function(e){t._isRequestRunning=!1,t.loadWithDelay(6e4)})},loadSuccess:function(){if(r.getUserData().isCompliance()||r.getUserDocumentsModel().documentsApprovedByEV())return this.stop();this.loadWithDelay(3e5)}}}.call(e,n,e,t))&&(t.exports=i)},function(t,e){t.exports='<div class="account-info-popup"><div class="content hidden-xs"><div class="data-tables"><div class="column-1"><table class="table"><tbody> <% if (pendingDeposits > 0 && settings.isLive()) {%> <tr class="pending-deposit"><td><span class="name"><%=__(\'accountInfo.pendingDeposit\')%>:</span></td><td><span><%=pendingDepositsFormatted%></span></td><td aria-label="<%=__(\'help.account.pending_deposits\')%>"><span class="question-tooltip"></span></td></tr> <% } %> <tr><td><span class="name"><%=__(\'accountInfo.cash\')%>:</span></td><td><span data-id="balance"><%=balance%></span></td><td aria-label="<%=__(\'help.account.balance\')%>"><span class="question-tooltip"></span></td></tr><tr><td><span class="name"><%=__(\'accountInfo.equity\')%>:</span></td><td><span data-id="equity"><%=equity%></span></td><td aria-label="<%=__(\'help.account.equity\')%>"><span class="question-tooltip"></span></td></tr><tr><td><span class="name"><%=__(\'accountInfo.pl\')%></span></td><td class="pl_value <%= profitLossPositive ? \'pl_pos\' : \'pl_neg\' %>"><span data-id="profitLoss"><%=profitLoss%></span></td><td aria-label="<%=__(\'help.account.open_p_l\')%>"><span class="question-tooltip"></span></td></tr><tr><td><span class="name"><%=__(\'accountInfo.freeMargin\')%>:</span></td><td><span data-id="buyingPower"><%=buyingPower%></span></td><td aria-label="<%=__(\'help.account.free_margin\')%>"><span class="question-tooltip"></span></td></tr> <% if (showSpreadRebate) { %> <tr><td><span class="name"><%=__(\'accountInfo.availableMargin\')%>:</span></td><td><span data-id="maintenance-margin"><%=maintenanceMargin%></span></td><td aria-label="<%=__(\'help.account.maintenance_margin\')%>"><span class="question-tooltip"></span></td></tr> <% } %> </tbody></table></div><div class="column-2"><table class="table"><tbody> <% if (!showSpreadRebate) { %> <tr><td><span class="name"><%=__(\'accountInfo.availableMargin\')%>:</span></td><td><span data-id="maintenance-margin"><%=maintenanceMargin%></span></td><td aria-label="<%=__(\'help.account.maintenance_margin\')%>"><span class="question-tooltip"></span></td></tr> <% } %> <tr><td><span class="name"><%=__(\'accountInfo.usedMargin\')%>:</span></td><td><span class="help" data-id="margin"><%=marginUsed%></span></td><td aria-label="<%=__(\'help.account.used_margin\')%>"><span class="question-tooltip"></span></td></tr><tr><td><span class="name"><%=__(\'accountInfo.maginLevel\')%>:</span></td><td><span data-id="riskLevel"> <% if (riskLevel) {%> <%=riskLevel%>% <% } else { %> N/A <% } %> </span></td><td aria-label="<%=__(\'help.account.margin_level\',marginAlertLevel2,liquidationLevel)%>"><span class="question-tooltip"></span></td></tr> <% if (settings.isLive() && showSpreadRebate) { %> <tr><td><span class="name"><%=__(\'funds.management.spread.rebate.title\')%></span></td><td><span data-id="spreadRebateTotal"><%=spreadRebateTotal%></span></td><td aria-label="<%=__(\'funds.management.spread.rebate.help\')%>"><span class="question-tooltip"></span></td></tr> <% } %> <% if (settings.isLive()) { %> <% if (isBonusesEnabled) { %> <tr><td><span class="name"><%=__(\'funds.management.bonuses.title\')%>:</span></td><td><span data-id="activeBonusesAmount"><%=activeBonusesAmount%></span></td><td aria-label="<%=__(\'funds.management.bonuses.help\')%>"><span class="question-tooltip"></span></td></tr> <% } %> <tr><td><span class="name"><%=__(\'funds.management.available.title\')%>:</span></td><td><span data-id="availableForWithdrawal"><%=availableForWithdrawal%></span></td><td aria-label="<%=__(\'funds.management.available.help\')%>"><span class="question-tooltip"></span></td></tr> <% } %> </tbody></table></div></div><div class="line"></div><div class="content-bottom hidden-xs"><div class="help-link"><div><%=__(\'help.need_help\')%> <a href="#" class="fn-help-live-chat-link"><%=__(\'help.right_here\')%></a></div></div><div class="action-buttons"> <% if (settings.isLive()) { %> <a class="btn btn-primary btn-block btn-secondary fn-withdraw <%if (!isPlatformSwitchAllowed) {%>disabled<%}%>" href="#"><div class="button-container"><span><%=__(\'withdraw.button.withdraw_funds\')%></span></div></a> <% } %> <a class="btn btn-primary btn-block fn-deposit <%if (!isPlatformSwitchAllowed) {%>disabled<%}%>" href="#"><div class="button-container"><span><%=__(\'status.deposit_funds\')%></span></div></a></div></div></div></div><div class="account-info-slidebox"><div class="content hidden-sm hidden-md hidden-lg"><div class="data-tables"><table class="table"><tbody> <% if (pendingDeposits > 0 && settings.isLive()) {%> <tr class="pending-deposit"><td><span class="name"><%=__(\'accountInfo.pendingDeposit\')%>:</span></td><td><span class="currency"><%=currency%></span><span><%=pendingDeposits%></span></td><td aria-label="<%=__(\'help.account.pending_deposits\')%>"><span class="question-tooltip"></span></td></tr> <% } %> <tr><td><span class="name"><%=__(\'accountInfo.cash\')%>:</span></td><td><span data-id="balance"><%=balance%></span></td><td aria-label="<%=__(\'help.account.balance\')%>"><span class="question-tooltip"></span></td></tr><tr><td><span class="name"><%=__(\'accountInfo.equity\')%>:</span></td><td><span data-id="equity"><%=equity%></span></td><td aria-label="<%=__(\'help.account.equity\')%>"><span class="question-tooltip"></span></td></tr><tr><td><span class="name"><%=__(\'accountInfo.pl\')%></span></td><td class="pl_value <%= profitLossPositive ? \'pl_pos\' : \'pl_neg\' %>"><span data-id="profitLoss"><%=profitLoss%></span></td><td aria-label="<%=__(\'help.account.open_p_l\')%>"><span class="question-tooltip"></span></td></tr><tr><td><span class="name"><%=__(\'accountInfo.freeMargin\')%>:</span></td><td><span data-id="buyingPower"><%=buyingPower%></span></td><td aria-label="<%=__(\'help.account.free_margin\')%>"><span class="question-tooltip"></span></td></tr><tr><td><span class="name"><%=__(\'accountInfo.availableMargin\')%>:</span></td><td><span data-id="maintenance-margin"><%=maintenanceMargin%></span></td><td aria-label="<%=__(\'help.account.maintenance_margin\')%>"><span class="question-tooltip"></span></td></tr><tr><td><span class="name"><%=__(\'accountInfo.usedMargin\')%>:</span></td><td><span class="help" data-id="margin"><%=marginUsed%></span></td><td aria-label="<%=__(\'help.account.used_margin\')%>"><span class="question-tooltip"></span></td></tr><tr><td><span class="name"><%=__(\'accountInfo.maginLevel\')%>:</span></td><td><span data-id="riskLevel"> <% if(riskLevel) {%> <%=riskLevel%>% <% } else { %> N/A <% } %> </span></td><td aria-label="<%=__(\'help.account.margin_level\',marginAlertLevel2,liquidationLevel)%>"><span class="question-tooltip"></span></td></tr> <% if (settings.isLive() && showSpreadRebate) { %> <tr><td><span class="name"><%=__(\'funds.management.spread.rebate.title\')%></span></td><td><span data-id="spreadRebateTotal"><%=spreadRebateTotal%></span></td><td aria-label="<%=__(\'funds.management.spread.rebate.help\')%>"><span class="question-tooltip"></span></td></tr> <% } %> <% if (settings.isLive()) { %> <% if (isBonusesEnabled) { %> <tr><td><span class="name"><%=__(\'funds.management.bonuses.title\')%>:</span></td><td><span data-id="activeBonusesAmount"><%=activeBonusesAmount%></span></td><td aria-label="<%=__(\'funds.management.bonuses.help\')%>"><span class="question-tooltip"></span></td></tr> <% } %> <tr><td><span class="name"><%=__(\'funds.management.available.title\')%>:</span></td><td><span data-id="availableForWithdrawal"><%=availableForWithdrawal%></span></td><td aria-label="<%=__(\'funds.management.available.help\')%>"><span class="question-tooltip"></span></td></tr> <% } %> </tbody></table></div></div><div class="content-bottom hidden-sm hidden-md hidden-lg"><div class="action-buttons grid"> <% if (settings.isLive()) { %> <div class="col"><button class="btn btn-secondary fn-withdraw" <%if (!isPlatformSwitchAllowed) {%> disabled="disabled" <%}%>><%=__(\'withdraw.button.withdraw_funds\')%></button></div> <% } %> <div class="col"><button class="btn btn-primary fn-deposit" <%if (!isPlatformSwitchAllowed) {%> disabled="disabled" <%}%>><%=__(\'status.deposit_funds\')%></button></div></div></div></div>'},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var r=n(0),o=n(2),s=(n(23),n(51)),a=n(7),l=(n(6),n(3)),c=r.template(n(1664)),u=n(5),d=n(213),h=s.extend({filter:{period:"today",beginPeriod:l().utc().toDate(),endPeriod:l().utc().toDate(),today:new Date},filterOptions:{period:{custom:"history.period.custom",today:"history.period.day","7|days":"history.period.week","14|days":"history.period.fortnight","1|months":"history.period.month","3|months":"history.period.season","6|months":"history.period.halfyear","1|years":"history.period.year",all:"history.period.all"}},calendarInstances:{},prepareFilters:function(){this.render(),r.each(this.calendarInstances,function(t){t.destroy()});var t=l(a.getUserInfoModel().get("account").accountCreationTime).utc().toDate();this.calendarInstances.begin=new d(this.$el.find("input[data-key=beginPeriod]")[0],{maxDate:this.filter.endPeriod||this.filter.today,minDate:t,dateFormat:"d/m/Y",disableMobile:!0,defaultDate:this.filter.beginPeriod,onChange:function(t,e,n){this.onFilterDatesUpdated(t,e,n)}.bind(this)}),this.calendarInstances.end=new d(this.$el.find("input[data-key=endPeriod]")[0],{maxDate:this.filter.today,minDate:this.filter.beginPeriod,dateFormat:"d/m/Y",disableMobile:!0,defaultDate:this.filter.endPeriod,onChange:function(t,e,n){this.onFilterDatesUpdated(t,e,n)}.bind(this)})},events:function(){return r.extend({},r.result(s.prototype,"events"),{"change select[data-key=period]":"onFilterPeriodUpdated"})},updateFilter:function(t,e){this.filter[t]=e},onFilterDatesUpdated:function(t,e,n){var i=t[0],r=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()));this.filter.period="custom",this.$el.find("select[data-key=period]").val(this.filter.period),this.updateFilter(n.element.dataset.key,r),this.calendarInstances.begin.set("maxDate",this.filter.endPeriod),this.calendarInstances.end.set("minDate",this.filter.beginPeriod)},onFilterPeriodUpdated:function(t){var e=t.currentTarget.dataset.key,n=t.currentTarget.value,i=this.$el.find(".period-detail"),r=u(this.$el.find(".custom-period"));if(this.filter[e]=n,"custom"===n)return i.addClass("hidden"),void r.removeClass("hidden");i.removeClass("hidden"),r.addClass("hidden");var o=this.filter.today,s=this.filter.today;n=n.split("|"),2===n.length&&(o=l().utc().subtract(n[0],n[1]).toDate()),"all"==n&&(o=a.getUserInfoModel().get("account").accountCreationTime),this.filter.beginPeriod=l(o).utc().toDate(),this.filter.endPeriod=l(s).utc().toDate(),this.updateHtmlPeriod()},updateHtmlPeriod:function(){var t=this.$el.find("#inputPeriod").val(),e=this.$el.find(".period-detail");e.find(".from").html(l(this.filter.beginPeriod).utc().format("DD/MM/YYYY")),e.find(".to").html(l(this.filter.endPeriod).utc().format("DD/MM/YYYY")),"custom"!=t?e.removeClass("hidden"):e.addClass("hidden")},onOK:function(t){s.prototype.onOK.apply(this,arguments);var e="all"==this.filter.period?new Date(a.getUserInfoModel().get("account").accountCreationTime):this.filter.beginPeriod;e=l(e).utc().format("YYYY-MM-DD");var n=l(this.filter.endPeriod).utc().format("YYYY-MM-DD"),i=this.filter.beginPeriod.toDateString()===this.filter.today.toDateString()?"true":"false";o.trigger("ui:generate-report",{beginPeriod:e,endPeriod:n,isToday:i})},initialize:function(t){s.prototype.initialize.apply(this,arguments),this.prepareFilters()},render:function(){return s.prototype.render.call(this),this.$el.find(".content .message").html(c({filter:this.filter,filterOptions:this.filterOptions,options:this.options})),this.updateHtmlPeriod(),this},destroy:function(){r.each(this.calendarInstances,function(t){t.destroy()}),s.prototype.destroy.call(this)}});i.exports=h}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports='<div class="account-statement-wrapper"><div class="form-inline"><div class="form-group"><label class="_sr-only" for="inputPeriod"> <%=__(\'history.period\')%> </label><div class="styled-select"><select class="form-control" data-key="period" id="inputPeriod" tabindex="1"> <% _.forEach(filterOptions.period, function(periodValue, periodKey) { %> <option value="<%= periodKey %>" <% if(periodKey == filter.period){print(\'selected\');} %>> <%- __(periodValue) %> </option> <% }); %> </select></div><div class="period-detail hidden"><%-__(\'reports.request.popup.from\')%> <span class="from"></span> <%-__(\'reports.request.popup.to\')%> <span class="to"></span></div></div><div class="form-group custom-period <% if(filter.period !== \'custom\'){print(\'hidden\');} %> inner-addon right-addon"><label class="_sr-only" for="inputFrom"><%=__(\'reports.request.popup.from\')%></label><input type="text" class="form-control" data-key="beginPeriod" id="inputFrom" tabindex="1"> <i class="glyphicon icon-calendar"></i></div><div class="form-group custom-period <% if(filter.period !== \'custom\'){print(\'hidden\');} %> inner-addon right-addon"><label class="_sr-only" for="inputTo"> <%=__(\'reports.request.popup.to\')%> </label><input type="text" class="form-control" data-key="endPeriod" id="inputTo" tabindex="1"> <i class="glyphicon icon-calendar"></i></div></div></div>'},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(24),s=n(70),a=n(6),l=n(22),c=n(38),u=n(214),d=n(135),h=n(9),p=n(289),f=p.closePosition,m=n(10),g=m.PROCESSING,v=r.template(n(1666)),b=o.extend({events:function(){return r.extend({},r.result(o.prototype,"events"),{"click .fn-submit":"onSubmit","click .fn-cancel":"onCancel"})},initialize:function(t){var e=this;t.headerStyle="wizard",o.prototype.initialize.apply(this,arguments),this.listenTo(this.model.getPositionModel(),"change:plOpen",this.updatePl),this.listenTo(this.model.getInstrumentModel(),"change:bidDirection change:askDirection",this.updatePriceBlock),this.render(),this.initForm(),this.updatePl(),this.keyboardEvents=d({escape:function(){return e.close()},enter:function(){return e.onSubmit()}},this),this.$(".fn-submit").get(0).focus()},render:function(){o.prototype.render.call(this),this.$el.find(".responsive-panel").addClass("close-position-panel"),this.setContent(v({position:{type:this.model.getType().toLowerCase(),symbol:this.model.getInstrumentModel().getDisplayName(),quantity:this.model.isSell()?Math.abs(this.model.getQuantity()):this.model.getQuantity(),costBasic:this.model.getCostBasic().toFixed(this.model.getInstrumentModel().getPrecision()),lotName:this.model.getLotName()},isBuying:"Buy"===this.model.getType(),currencySymbol:this.model.getCurrencySymbol(),isAmount:this.model.getInstrumentModel().isAmountWordUsed(),settings:h})),this.elements={plElement:this.$el.find(".row.pl .text-pl"),$sellPrice:this.$el.find(".info-prices-block .sell .rate"),$buyPrice:this.$el.find(".info-prices-block .buy .rate")},this.updatePriceBlock()},initForm:function(){this.form=new s({el:this.$el.find(".form")}),this.listenTo(this.form,"field:change:quantity",this.onQuantityChange),this.defineField()},defineField:function(){var t=this.model,e=this.form.field("quantity"),n=t.getAmount(),i=t.getInstrumentModel(),r=t.getAmountIncrement(),o=i.getPrecision(),s=i.getMinOrderIncrement();n=n<0?Math.abs(n):n,this.initialQuantity=n;var a={min:0,max:n,increment:r,step:s},l={max:[n,t.getErrorAmountMax(n)]};e.value(n),i.isFractionalAmountEnabled()&&(a.precision=o),e.setOptions(a).setRules(l).validateButtons()},onCancel:function(){this.close()},updatePl:function(){var t=this.getPlData();this.elements.plElement.html(t.value).removeClass(t.remove).addClass(t.add)},getPlData:function(){var t=c(this.model.getOpenPl()).formatForeignCurrency(this.model.getUserCurrencySymbol(),"$0.00");return this.model.isPlChangeIncreasing()?{add:"up",remove:"down",value:t}:{add:"down",remove:"up",value:t}},getRateData:function(t,e){var n=this.model.getInstrumentModel().fixRate(t);return{1:{add:"up",remove:"down equally",value:n},0:{add:"equally",remove:"up down",value:n},"-1":{add:"down",remove:"up equally",value:n}}[e]},updatePriceBlock:function(){var t=this.model.getInstrumentModel(),e=this.getRateData(t.getSellPrice(),t.getSellDirection()),n=this.getRateData(t.getBuyPrice(),t.getBuyDirection());this.updateRateElement(this.elements.$sellPrice,e),this.updateRateElement(this.elements.$buyPrice,n)},updateRateElement:function(t,e){t.html(e.value).removeClass(e.remove).addClass(e.add)},onQuantityChange:function(t){var e=this.model,n=e.getInstrumentModel(),i=this.initialQuantity,r=t.value(),o=n.getMinOrderIncrement(),s=n.getPrecision(),a=t._rules;r!==i?(a.min_gt=[0,e.getErrorAmountMin(0)],n.isFractionalAmountEnabled()?a.divisible=[o,Math.pow(10,s+1),e.getErrorDivisible(o)]:a.divisible=[o,e.getErrorDivisible(o)]):(delete a.min_gt,delete a.divisible),this.model.setAmount(r),t.validate(),this.toggleClass(t)},toggleClass:function(t){this.$(".row.quantity")[t.hasError()?"addClass":"removeClass"]("row-error")},disableSubmitButton:function(){this.$el.find(".fn-submit").addClass("disabled").attr("disabled",!0)},onSubmit:function(){if(!this.form.submit()){var t=this.form.getData(),e=store.getState().positions.closingPosition,n=this.model.getPositionCode();this.disableSubmitButton(),e[n]&&e[n]!==g||!e[n]?this.requestClosePosition(t).then(this.requestClosePositionSuccess.bind(this)).then(this.onSubmitSuccess.bind(this)).catch(this.requestClosePositionError.bind(this)).catch(this.onSubmitError.bind(this)):this.closeAfterSubmit()}},requestClosePosition:function(t){var e=this.model.getPositionCode(),n={effect:"CLOSING",timeInForce:"FOK",instrumentId:this.model.getInstrumentModel().getInstrumentId(),positionCode:e,limitPrice:this.model.getRate(),quantity:this.model.isBuy()?-t.quantity:t.quantity,orderType:"LIMIT"},i=this.model.isBuy()?t.quantity:-t.quantity;return __eventos("tradingPlatform:closePosition:clkClosePositionSendOrder",{InstrumentName:this.model.getInstrumentModel().getInstrumentSymbol(),PositionAmount:i,PositionId:e,PositionDirection:this.model.getDirection(),OrderPL:this.model.getOpenPl(),OrderAmount:i}),a.closePosition(l.getAtmosphereId(),n)},requestClosePositionSuccess:function(){return Promise.resolve()},onSubmitSuccess:function(){var t=this.model.get("amount"),e=this.initialQuantity;store.dispatch(f({positionCode:this.model.getPositionCode(),status:g,closingAmount:t,changedQuantity:e})),this.closeAfterSubmit()},closeAfterSubmit:function(){return r.isFunction(this.options.onClose)&&this.options.onClose.call(this),this.keyboardEvents.off(),o.prototype.close.call(this)},close:function(){r.isFunction(this.options.onClose)&&this.options.onClose.call(this),this.keyboardEvents.off();var t=this.model.getPositionModel();return t.trigger("ui:dialog-close",t),o.prototype.close.call(this)},requestClosePositionError:function(t){return Promise.reject(t)},onSubmitError:function(t){var e=this;u(function(){return e.close()})}});i.exports=b}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<div class="close-position-popup form"><div class="content"><div class="row info"><div><span class="position"><%=__(\'close.position.label\')%></span><span class="trap-first action-<%=(isBuying ? \'buy\' : \'sell\')%>"><%=position.type%></span><span class="trap quantity"><%=position.quantity%></span><span class="trap sumbol"><%=position.symbol%></span><span class="trap-last cost-basic">@ <%=position.costBasic%></span></div><div class="visible hidden-xs flex-stretch"><div class="info-prices-block flex-align-end"><div class="sell"><div class="rate-box"><div class="caption"><%-__(\'actions.sell\')%>:</div><div class="rate"></div></div></div><div class="buy"><div class="rate-box"><div class="caption"><%-__(\'actions.buy\')%>:</div><div class="rate"></div></div></div></div></div></div><div class="row visible-xs"><div class="flex-stretch"><div class="info-prices-block"><div class="sell"><div class="rate-box"><div class="caption"><%-__(\'actions.sell\')%>:</div><div class="rate"></div></div></div><div class="buy"><div class="rate-box"><div class="caption"><%-__(\'actions.buy\')%>:</div><div class="rate"></div></div></div></div></div></div><div class="row pl"><div class="text"><div><%= __(\'position.form.p_l\')%>:</div><div class="text-pl trap"></div></div><div class="margin fn-margin"><div><%=__(\'accountInfo.usedMargin\')%>:</div><div class="required-margin trap"></div></div></div><div class="row quantity"><div class="form-row form-quantity fn-quantity-row"><div class="form-label"><div class="text"> <%= isAmount ? __(\'close.position.quantity.label.frx\') : __(\'close.position.quantity.label.cfd\')%> </div><div class="help"><i class="icon-help" aria-label="<%=__(\'help.position.close.quantity\')%>"></i></div></div><div class="field field-type-spin-relative"><div class="input"><input type="text" name="quantity"></div><div class="actions"><button class="btn action-plus" data-type="quantity"><i class="icon-plus"></i></button> <button class="btn action-minus" data-type="quantity"><i class="icon-minus"></i></button></div><div class="help"><i class="icon-help" aria-label="<%=__(\'close.position.quantity.help\')%>"></i></div><div class="field-tooltip"><div class="content"></div></div></div></div></div></div><div class="form-actions"><div class="block-button"><button class="btn btn-primary submit fn-submit"><%=__(\'close.position.button.label\')%></button></div><div class="block-button"><button class="btn cancel fn-cancel"><%=__(\'actions.cancel\')%></button></div> <% if (settings.isLiveChatEnabled()) { %> <div class="block-help-line hidden-xs"><span><%=__(\'help.need_help\')%></span><a href="#" class="fn-help-live-chat-link"><span><%=__(\'help.right_here\')%></span></a></div> <% } %> </div></div>'},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(201),o=n(7),s=r.extend({defaults:function(){return{instrumentModel:null,amount:null,amountIncrement:null,currentPrice:null,direction:null,rate:0}},initialize:function(t){r.prototype.initialize.apply(this,arguments),this.listenTo(this.getInstrumentModel(),"change:"+this.getPriceKey(),this.onRateChanged),this.setAmount(this.getQuantity()),this.setCurrentPrice(this.getCostBasic()),this.setRate(this.getDefiniteRate())},getErrorAmountMin:function(t){return __("order.form.validation.amount_too_small",t)},getErrorDivisible:function(t){return this.getInstrumentModel().isAmountWordUsed()?__("order.form.validation.amount_step",t):__("order.form.validation.quantity_step",t)},getErrorAmountMax:function(t){return this.getInstrumentModel().isAmountWordUsed()?__("order.form.validation.amount_too_big",t):__("order.form.validation.quantity_too_big",t)},getType:function(){return this.get("type")},getPositionModel:function(){return this.get("position")},getQuantity:function(){return this.getPositionModel().get("quantity")},getCostBasic:function(){return this.getPositionModel().get("costBasis")},getLotName:function(){return this.getPositionModel().get("lotName")},getUserCurrencySymbol:function(){return o.getUserCurrencySymbol()},getOpenPl:function(){return this.getPositionModel().get("plOpen")},getPositionCode:function(){return this.getPositionModel().get("positionCode")},getAmountIncrement:function(){return this.getPositionModel().get("amountIncrement")},isPlChangeIncreasing:function(){return this.getOpenPl()>=0},getPriceKey:function(){return this.isBuy()?"bid":"ask"},isBuy:function(){return"Buy"==this.getDirection()},getDefiniteRate:function(){return this.isBuy()?this.getBid():this.getAsk()},getRate:function(){return this.get("rate")}});i.exports=s}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(0),s=n(15),a=n(24),l=n(70),c=n(184).Basket,u=n(2),d=n(1),h=n(16),p=n(6),f=n(22),m=n(38),g=n(55),v=n(426).isMarginLevelLow,b=n(7),y=n(214),_=n(1669),w=n(9),S=n(135),E=n(279),x=n(52),C=n(68),T=o.template(n(1670)),k=a.extend({events:function(){return o.extend({},o.result(a.prototype,"events"),{"click .fn-submit":"onSubmit","click .fn-cancel":"onCancel"})},initialize:function(t){var e=this;t.headerStyle="wizard",t.style="height: 100%;",a.prototype.initialize.apply(this,arguments),this.isFormChanged=!1,this.defaultFormData=!1,this.listenTo(this.model,"change:rate change:conversionRate",this.onUpdateTakeProfitAndStopLoss),this.listenTo(this.model,"change:conversionRate",this.onUpdateProfitAndLoss),this.listenTo(this.model.getInstrumentModel(),"change:bidDirection change:askDirection",this.updatePriceBlock),this.listenTo(this.model,"change:rate",this.onRateChanged),this.listenTo(this.model.getPositionModel(),"change:plOpen",this.updatePl),this.listenTo(this.model,"change:requiredMarginInAccountCurrency change:requiredMarginInInstrumentCurrency",this.fillRequiredMarginForAmount),this.listenTo(u,"user:margin:level",this.marginLevelChange),this.listenTo(this.model,"change:profitForTakeProfit",this.fillProfitForTakeProfit),this.listenTo(this.model,"change:lossForStopLoss",this.fillLossForStopLoss),Promise.all([this.sendSubscribeToConversion(this.model.getInstrument().getCurrency(),b.getUserCurrency()),this.requestSubscription()]).catch(function(t){return y(function(){return e.close()})}),this.render(),this.initForm(),this.getBasket(),this.updateRate(),this.updatePl(),this.keyboardEvents=S({escape:function(){return e.close()},enter:function(){return e.onSubmit()}},this)},render:function(){a.prototype.render.call(this);var t=this.model.getPositionCode(),e=this.model.getInstrumentModel(),n=this.model.getPositionModel(),i=n.get("time"),r=n.get("modifiedTime"),o=i===r,s=n.get("expirationDate");this.$el.find(".responsive-panel").addClass("edit-position-panel"),this.setContent(T({position:{positionCode:t,modified:C.positionTimestamp(r),GTMPostfix:C.popupGMTPostfix(),description:e.getDescription(),type:this.model.getType().toLowerCase(),symbol:e.getDisplayName(),quantity:this.model.isSell()?Math.abs(this.model.getQuantity()):this.model.getQuantity(),costBasic:this.model.getCostBasic().toFixed(e.getPrecision()),lotName:this.model.getLotName(),sentiment:e.get("sentiment"),basket:e.getBasket()},groupName:this.model.getInstrumentModel().getGroupName(),isOpened:o,isBuying:"Buy"===this.model.getType(),isMobile:window.innerWidth<=767,currencySymbol:this.model.getCurrencySymbol(),isAmount:this.model.getInstrumentModel().isAmountWordUsed(),guaranteedStopLossEnabled:b.isGuaranteedStopLossEnabled(),expirationDate:s?C.positionTimestamp(s,"DD/MM/YYYY"):null,isSimplified:this.options.simplified})),this.elements={$buyPrice:this.$el.find(".info-prices-block .buy .rate"),$sellPrice:this.$el.find(".info-prices-block .sell .rate"),sentimentRate:this.$el.find(".row.sentiment .rate"),plElement:this.$el.find(".row.pl .text-pl"),$change:this.$el.find("#change .percent span"),$gsl:this.$el.find(".guaranteed-stop-loss")},this.updatePriceBlock(),this.updatePercent(),this.fillGuaranteedStopLoss(),this.fillPriceChange()},fillPriceChange:function(){if(!s.desktop()&&w.isOpenPositionChangePriceEnabled()){var t=this.model.getInstrumentModel(),e=this.model.getPositionModel(),n=d.createElement(_,{model:e,instrument:t,withKey:!0});h.render(n,this.$el.find(".price-change")[0])}},getPercentData:function(t){var e=this.model.getInstrumentModel(),n=e.isPercentChangeIncreasing(),i=e.getPercentStr();return n?{add:"up",remove:"down",value:i}:{add:"down",remove:"up",value:i}},getBasket:function(){var t=this.model.getInstrumentModel().getBasket();if(t){var e=d.createElement(c,{basket:t});h.render(e,this.$el.find(".basket-bar")[0])}else this.$el.find(".basket-block").css({display:"none"})},updatePercent:function(){var t=this.getPercentData(),e=this.elements.$change,n=e.parent();e.html(t.value),n.removeClass(t.remove).addClass(t.add)},initForm:function(){this.form=new l({el:this.$el.find(".form")}),this.listenTo(this.form,"field:change:close-at-profit-checkbox",this.onTakeProfitCheckbox),this.listenTo(this.form,"field:change:take-profit",this.onTakeProfitChange),this.listenTo(this.form,"field:change:close-at-loss-checkbox",this.onCloseAtLossCheckbox),this.listenTo(this.form,"field:change:close-at-loss",this.onCloseAtLossChange),this.listenTo(this.form,"cancel",this.onCancel),this.setFields()},setFields:function(){var t=this.form.field("take-profit"),e=this.form.field("close-at-profit-checkbox"),n=this.form.field("close-at-loss"),i=this.form.field("close-at-loss-checkbox");t.setOptions({step:this.model.getInstrumentModel().getPipsPrecisionSize(),precision:this.model.getInstrumentModel().getPrecision()}),this.model.getTakeProfit()?(e.check(),t.value(this.model.getTakeProfit().toFixed(this.model.getInstrumentModel().getPrecision())),t.setState({pristine:!1}),this.fillProfitForTakeProfit()):this.hideProfitForTakeProfit(),n.setOptions({step:this.model.getInstrumentModel().getPipsPrecisionSize(),precision:this.model.getInstrumentModel().getPrecision()}),this.model.getStopLoss()?(i.check(),n.value(this.model.getStopLoss().toFixed(this.model.getInstrumentModel().getPrecision())),n.setState({pristine:!1}),this.fillLossForStopLoss()):this.hideLossForStopLoss(),this.defaultFormData=this.form.getData(),this.setRulesForProfitField(this.isFormChanged),this.setRulesForLossField(this.isFormChanged)},setRulesForProfitField:function(t){var e=void 0,n=this.form.field("take-profit"),i={};this.model.isBuy()?(i.min=this.model.getValidationValueForProfit(),e=0===Number(n.value())?this.model.getErrorNotZero(__("order.form.take_profit")):this.model.getErrorTakeProfitMessageBuy(this.model.getValidationValueForProfit().toFixed(this.model.getInstrumentModel().getPrecision())),n.setRules({min:[this.model.getValidationValueForProfit(),e]})):(i.max=this.model.getValidationValueForProfit(),i.min=0,e=this.model.getErrorTakeProfitMessageSell(this.model.getValidationValueForProfit().toFixed(this.model.getInstrumentModel().getPrecision())),n.setRules({max:[this.model.getValidationValueForProfit(),e],min:[this.model.getInstrumentModel().getPrecisionSize(),this.model.getErrorNotZero(__("order.form.take_profit"))]})),this.setOptions(t,n,i)},setRulesForLossField:function(t){var e=void 0,n=this.form.field("close-at-loss"),i={},r=this.model.getInstrumentModel().getPrecision(),o=void 0;if(this.model.isBuy()){if(i.max=this.model.getValidationValueForLoss(),i.min=0,e=this.model.getErrorStopLossMessageBuy(this.model.getValidationValueForLoss().toFixed(this.model.getInstrumentModel().getPrecision())),o={max:[this.model.getValidationValueForLoss(),e],min:[this.model.getInstrumentModel().getPrecisionSize(),this.model.getErrorNotZero(__("order.form.stop_loss"))]},b.isGuaranteedStopLossEnabled()){i.min=this.model.getGSLLimit();var s=this.model.getErrorStopLossMessageSell(Number(this.model.getGSLLimit()).toFixed(r));o.min=[i.min,s]}}else i.min=this.model.getValidationValueForLoss(),e=0===Number(n.value())?this.model.getErrorNotZero(__("order.form.stop_loss")):this.model.getErrorStopLossMessageSell(this.model.getValidationValueForLoss().toFixed(this.model.getInstrumentModel().getPrecision())),o={min:[this.model.getValidationValueForLoss(),e]},b.isGuaranteedStopLossEnabled()&&(i.max=this.model.getGSLLimit(),o.max=[i.max,this.model.getErrorStopLossMessageBuy(Number(this.model.getGSLLimit()).toFixed(r))]);n.setRules(o),this.setOptions(t,n,i)},setOptions:function(t,e,n){t&&""!==e.value()?(e.setOptions(n),this.toggleClass(e)):e.setOptions(n,{silent:!0})},onTakeProfitCheckbox:function(t,e){this.setFormAsChanged(),this.getTakeProfitField().setDefaultState(),e?(this.showProfitForTakeProfit(),this.getTakeProfitField().isEnabled()&&!this.model.getTakeProfit()&&this.model.calcTakeProfit()):(this.model.cleanTakeProfit(),this.hideProfitForTakeProfit(),this.updateMessage()),this.fillTakeProfit()},onCloseAtLossCheckbox:function(t,e){this.setFormAsChanged(),this.getStopLossField().setDefaultState(),e?(this.showLossForStopLoss(),this.getStopLossField().isEnabled()&&!this.model.getStopLoss()&&this.model.calcStopLoss()):(this.model.cleanStopLoss(),this.hideLossForStopLoss(),this.updateMessage()),this.fillStopLoss()},setFormAsChanged:function(){if(v())return void this.$el.find(".fn-submit").addClass("disabled");var t=this.form.getData();this.defaultFormData&&(this.isFormChanged||(this.isFormChanged=!0),o.isEqual(this.defaultFormData,t)?this.$el.find(".fn-submit").addClass("disabled"):this.$el.find(".fn-submit").removeClass("disabled"))},onTakeProfitChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.form.field("take-profit");this.setFormAsChanged(),this.setRulesForProfitField(),t.validate(),this.toggleClass(t),this.model.setTakeProfit(t.value()),this.updateButtonAvailable()},onCloseAtLossChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.form.field("close-at-loss");this.setFormAsChanged(),this.setRulesForLossField(),this.model.setStopLoss(t.value()),t.validate(),this.toggleClass(t),this.updateButtonAvailable()},updateButtonAvailable:function(){o.isEmpty(this.form.getErrorFields())?this.enableSubmitButton():this.disableSubmitButton()},disableSubmitButton:function(t){o.isUndefined(t)&&(t=""),this.$el.find(".fn-submit").addClass("disabled").attr("disabled",!0),this.$el.find(".button-tooltip").attr("aria-label",t)},enableSubmitButton:function(){this.$el.find(".fn-submit").removeClass("disabled").removeAttr("disabled"),this.$el.find(".button-tooltip").attr("aria-label","")},toggleClass:function(t){switch(t._name){case"take-profit":r(".row.entry-stop")[t.hasError()?"addClass":"removeClass"]("row-error");break;case"close-at-loss":r(".row.entry-limit")[t.hasError()?"addClass":"removeClass"]("row-error")}},getTakeProfitField:function(){return this.form.field("take-profit")},showProfitForTakeProfit:function(){this.showOrHideProfitLoss("take-profit",!0)},showOrHideProfitLoss:function(t,e){this.form.field(t).$el.find(".help-line").css("visibility",e?"visible":"hidden")},fillTakeProfit:function(){this.setFieldValueIfEnabled("take-profit",this.model.getTakeProfit())},getStopLossField:function(){return this.form.field("close-at-loss")},showLossForStopLoss:function(){this.showOrHideProfitLoss("close-at-loss",!0)},hideLossForStopLoss:function(){this.showOrHideProfitLoss("close-at-loss",!1)},fillStopLoss:function(){this.setFieldValueIfEnabled("close-at-loss",this.model.getStopLoss())},setFieldValueIfEnabled:function(t,e){var n=this.form.field(t),i=n.isEnabled()?e.toFixed(this.model.getInstrumentModel().getPrecision()):"";Number(n.value())!==Number(i)&&n.value(i)},hideProfitForTakeProfit:function(){this.showOrHideProfitLoss("take-profit",!1)},close:function(){o.isFunction(this.options.onClose)&&this.options.onClose.call(this),this.keyboardEvents.off(),a.prototype.close.call(this),Promise.all([this.sendUnsubscribeFromConversion(this.model.getInstrument().getCurrency(),b.getUserCurrency()),this.requestUnsubscription()]).catch(function(t){return y()})},onCancel:function(){this.close()},onRateChanged:function(t){var e=this.getTakeProfitField(),n=this.getStopLossField();this.updateRate(),e.isEnabled()&&e.isPristine()&&this.setRulesForProfitField(this.isFormChanged),n.isEnabled()&&n.isPristine()&&this.setRulesForLossField(this.isFormChanged)},updateRate:function(){var t=this.model.getRate(),e=this.getRateData(t);this.updateRateElement(this.elements.sentimentRate,e)},updatePl:function(){this.updateRateElement(this.elements.plElement,this.getPlData()),this.fillRequiredMarginForAmount()},getPlData:function(){var t=m(this.model.getOpenPl()).formatForeignCurrency(this.model.getUserCurrencySymbol(),"$0.00");return this.model.isPlChangeIncreasing()?{add:"up",remove:"down",value:t}:{add:"down",remove:"up",value:t}},getRateData:function(t){var e=this.model.getRateDirection(),n=this.model.getInstrumentModel().fixRate(t);return{1:{add:"up",remove:"down",value:n},0:{add:"",remove:"up down",value:n},"-1":{add:"down",remove:"up",value:n}}[e]},getRateDataByDir:function(t,e){var n=this.model.getInstrumentModel().fixRate(t);return{1:{add:"up",remove:"down equally",value:n},0:{add:"equally",remove:"up down",value:n},"-1":{add:"down",remove:"up equally",value:n}}[e]},updatePriceBlock:function(){var t=this.model.getInstrumentModel(),e=this.getRateDataByDir(t.getSellPrice(),t.getSellDirection()),n=this.getRateDataByDir(t.getBuyPrice(),t.getBuyDirection());n.value=x.formatValueToStringOrComponent(x.divideValueByPipSize(n.value,t.getPipsPrecision()),!0),e.value=x.formatValueToStringOrComponent(x.divideValueByPipSize(e.value,t.getPipsPrecision()),!0),this.updateRateElement(this.elements.$sellPrice,e),this.updateRateElement(this.elements.$buyPrice,n)},updateRateElement:function(t,e){t.html(e.value).removeClass(e.remove).addClass(e.add)},requestSubscription:function(){return p.requiredMarginByPositionUpdate(f.getAtmosphereId(),this.model.getPositionCode()).then(this.requestSubscriptionSuccess.bind(this)).catch(this.requestSubscriptionError.bind(this))},requestUnsubscription:function(){return p.unsubscribeRequiredMarginByPositionUpdate(f.getAtmosphereId(),this.model.getPositionCode()).then(this.requestSubscriptionSuccess.bind(this)).catch(this.requestSubscriptionError.bind(this))},requestSubscriptionSuccess:function(t){return Promise.resolve()},requestSubscriptionError:function(t){return Promise.reject(t)},fillRequiredMarginForAmount:function(){var t=this.model,e=b.getUserCurrencySymbol(),n=t.getInstrument().getCurrencySymbol(),i=Number(t.getRequiredMarginInInstrumentCurrency()),r=Number(t.getRequiredMarginInAccountCurrency()),o=t.getInstrument().getMarginRate(),s=t.getConversionRate();i<0&&(i=Number(-i).toFixed(2)),r<0&&(r=Number(-r).toFixed(2)),b.isGuaranteedStopLossEnabled()&&(i=o*t.getAmount()*((t.getBid()+t.getAsk())/2),r=Number(i*s));var a=m(r).format("0,0.[00]"),l=m(i).format("0,0.[00]"),c=""+e+a;r!==i&&(c=""+n+l+" = "+e+a,0===r&&(c=""+e+l)),this.$(".required-margin").html(c)},fillGuaranteedStopLoss:function(){if(!b.isGuaranteedStopLossEnabled())return!1;var t=b.getUserCurrencySymbol(),e=this.model.getGuaranteedStopLoss();this.elements.$gsl.html(t+m(e).format("0,0.[00]"))},onSubmit:function(){var t=this.$el.find(".fn-submit").hasClass("disabled");if(!this.form.submit()&&!t){var e=this.form.getData();this.disableSubmitButton(),this.requestEditPosition(e).then(this.requestEditPositionSuccess.bind(this)).then(this.onSubmitSuccess.bind(this)).catch(this.requestEditPositionError.bind(this)).catch(this.onSubmitError.bind(this))}},requestEditPosition:function(t){var e=this.form.field("close-at-profit-checkbox").isChecked(),n=this.form.field("close-at-loss-checkbox").isChecked(),i=[];if(n){var r={fixedOffset:this.model.minOrderDistance(),fixedPrice:t["close-at-loss"],isPriceFixed:!0,orderType:"STOP",requestId:null};i.push(r)}if(e){var o={fixedOffset:this.model.minOrderDistance(),fixedPrice:t["take-profit"],isPriceFixed:!0,orderType:"LIMIT",requestId:null};i.push(o)}return p.editPosition(f.getAtmosphereId(),i,this.model.getPositionCode())},requestEditPositionSuccess:function(){return Promise.resolve()},onSubmitSuccess:function(){this.close()},requestEditPositionError:function(t){return Promise.reject(t)},onSubmitError:function(t){this.close(),new g({parent:r("body"),text:t.message,isHeaderShowed:!1})},marginLevelChange:function(){if(this.setFormAsChanged(),!v())return void this.$el.find(".button-tooltip").attr("aria-label","");this.$el.find(".button-tooltip").attr("aria-label",__("margin.level_2.open_position.warning.description"))},fillProfitForTakeProfit:function(){var t=b.getUserCurrencySymbol(),e=this.model.getProfit();this.getTakeProfitField().isEnabled()&&(this.getTakeProfitField().$(".help-line").html(__("order.form.protection.profit",t,Number(e>0?e:0).toFixed(2))),this.updateMessage())},fillLossForStopLoss:function(){var t=this.model.getLoss(),e=b.getUserCurrencySymbol();this.getStopLossField().isEnabled()&&(this.getStopLossField().$(".help-line").html(__("order.form.protection.loss",e,Number(t>0?t:0).toFixed(2))),this.updateMessage())},onUpdateTakeProfitAndStopLoss:function(){var t=this.getTakeProfitField(),e=this.getStopLossField();t.isEnabled()&&t.isPristine()&&(this.model.calcTakeProfit(),this.fillTakeProfit()),e.isEnabled()&&e.isPristine()&&(this.model.calcStopLoss(),this.fillStopLoss())},onUpdateProfitAndLoss:function(){var t=this.getTakeProfitField(),e=this.getStopLossField();t.isEnabled()&&this.model.calcProfitForTakeProfit(),e.isEnabled()&&this.model.calcLossForStopLoss()},sendSubscribeToConversion:function(t,e){return E.add(t,e).then(this.requestConversionSubscriptionSuccess.bind(this)).catch(this.requestConversionSubscriptionError.bind(this))},sendUnsubscribeFromConversion:function(t,e){return E.remove(t,e).then(this.requestConversionUnsubscriptionSuccess.bind(this)).catch(this.requestConversionUnsubscriptionError.bind(this))},requestConversionSubscriptionSuccess:function(t){return Promise.resolve(t)},requestConversionSubscriptionError:function(t){return Promise.reject(t)},requestConversionUnsubscriptionSuccess:function(t){return Promise.resolve(t)},requestConversionUnsubscriptionError:function(t){return Promise.reject(t)},showMessage:function(t){this.$el.find(".fn-message > span").html(t),this.$el.find(".fn-message").removeClass("hidden")},hideMessage:function(){this.$el.find(".fn-message").addClass("hidden")},updateMessage:function(){var t=this.model.getLoss(),e=this.model.getProfit(),n=b.getUserCurrencySymbol(),i=m(-t).formatForeignCurrency(n,"$0.00"),r=m(-e).formatForeignCurrency(n,"$0.00"),o=this.$el.find(".fn-message"),s=this.getStopLossField(),a=this.getTakeProfitField(),l=Number(this.model.getTakeProfit()).toFixed(this.model.getInstrumentModel().getPrecision()),c=Number(this.model.getStopLoss()).toFixed(this.model.getInstrumentModel().getPrecision());e<0&&a.isEnabled()?(o.removeClass("stop-loss-pos"),o.addClass("take-profit-neg"),this.showMessage(__("position.form.validation.positive_take_profit",l,""+r))):t<0&&s.isEnabled()?(o.removeClass("take-profit-neg"),o.addClass("stop-loss-pos"),this.showMessage(__("position.form.validation.positive_stop_loss",c,""+i))):(o.removeClass("stop-loss-pos"),o.removeClass("take-profit-neg"),this.hideMessage())},setTakeProfit:function(t){var e=this.form.field("take-profit");e.value(t),e.onInputChange()},disableTakeProfit:function(){this.form.field("close-at-profit-checkbox").uncheck()},setStopLoss:function(t){var e=this.form.field("close-at-loss");e.value(t),e.onInputChange()},disableStopLoss:function(){this.form.field("close-at-loss-checkbox").uncheck()}});i.exports=k}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1),o=n(133),s=["ask","bid"],a=n(38);i.exports=r.createClass({displayName:"exports",getInitialState:function(){var t=this.calculatePercent();return{priceChange:t,dir:this.isDir(t),boldValue:this.isBold(t),boldKey:this.props.boldKey,endWith:""}},componentDidMount:function(){var t=this;s.forEach(function(e){t.props.instrument.on("change:"+e,t.update,t)})},componentWillUnmount:function(){var t=this;s.forEach(function(e){t.props.instrument.off("change:"+e,t.update,t)})},update:function(){var t=this.calculatePercent();this.setState({priceChange:t,dir:this.isDir(t),boldValue:this.isBold(t)})},calculatePercent:function(){var t=this.props.model,e=this.props.instrument,n=t.get("quantity"),i=Number(t.get("costBasis")),r=n>0?e.getAsk():e.getBid();return a((r-i)/i*100).format("0,0.00")},isDir:function(t){return t>0?1:t<0?-1:0},isBold:function(t){return t<=-10||10<=t},render:function(){var t=__("tab.open_positions.column.price.change");return t=!0===this.props.boldKey?r.createElement("b",null,t):t,r.createElement("div",{style:{display:"inline-block"}},!0===this.props.withKey&&r.createElement("span",null,t,": "),r.createElement(o,{value:this.state.priceChange,alwaysPrecision:!0,precision:2,postfix:"%",bold:this.state.boldValue,dir:this.state.dir,greynessDelay:0,inline:!0}),this.props.endWith)}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e){t.exports='<div class="edit-position-popup form <%=isSimplified ? \'simplified\' : \'\'%>"><div class="content"><div class="row info"><div class="title"><div class="flex flex-row flex-wrap"><span class="action-<%=position.type%>"><%= isBuying ? __(\'actions.bought\') : __(\'actions.sold\') %></span><span class="quantity"><%=position.quantity%></span><span class="hidden-xs">&nbsp;|&nbsp;</span> <span class="visible-xs"><%=position.symbol%></span><span class="symbol"><div class="flex flex-row flex-valign-center"><div class=""> <%=position.symbol%> </div><div class="rate-box" id="change"><div class="percent up"><span></span> <i class="arrow"></i></div></div></div></span><span class="cost-basic">@ <%=position.costBasic%></span></div><div><%=position.description%></div></div><div><div class="visible hidden-xs flex-stretch"><div class="info-prices-block flex-align-end"><div class="sell"><div class="rate-box"><div class="caption"><%-__(\'actions.sell\')%>:</div><div class="rate"></div></div></div><div class="buy"><div class="rate-box"><div class="caption"><%-__(\'actions.buy\')%>:</div><div class="rate"></div></div></div></div></div><div class="meta flex"><div><div><%= isOpened ? __(\'position.form.opennedAt\') : __(\'order.form.edit.lastmodified\') %> <%=position.modified%><%=position.GTMPostfix%></div><div><%=__(\'position.form.code\')%> <%=position.positionCode%></div></div></div></div></div> <% if (position.sentiment) { %> <div class="row sentiment"><div class="text"><div><%= __(\'sentiment.title\')%></div><div><%=__(\'order.instrument_info.current_rate\')%>: <span class="rate"></span></div></div><div class="chart"><div class="sellers"><%=position.sentiment.shorts %>% <%=__(\'actions.sold\')%></div><div class="bar"><i style="width:<%=position.sentiment.shorts %>%"></i> <b style="width:<%=position.sentiment.longs %>%"></b></div><div class="buyers"><%=position.sentiment.longs %>% <%=__(\'actions.bought\')%></div>&nbsp;<div class="flex flex-valign-center" data-tooltip-align="right" aria-label="<%-__(\'sentiment.text\')%>"><i class="icon icon-help"></i></div></div></div> <% } %> <% if (position.basket) { %> <div class="row"><div class="basket-block"><div class="block-title"> <%=__(\'baskets.title\')%>&nbsp; <i class="icon-help" aria-label="<%=__(\'baskets.hint\')%>"></i></div><div class="basket-title"><%=__(\'baskets.consists\', position.basket.instrumentSymbol) %>:</div><div class="basket-bar"></div></div></div> <% } %> <div class="row visible-xs"><div class="flex-stretch"><div class="info-prices-block"><div class="sell"><div class="rate-box"><div class="caption"><%-__(\'actions.sell\')%>:</div><div class="rate"></div></div></div><div class="buy"><div class="rate-box"><div class="caption"><%-__(\'actions.buy\')%>:</div><div class="rate"></div></div></div></div></div></div><div class="row quantity"><div class="text"><div><%=isAmount ?  __(\'help.order.amount\') : __(\'help.order.quantity\')%>:</div><div class="trap-last"><%=groupName%> <%=position.quantity%> @ <%=position.costBasic%></div></div></div><div class="row pl"><div class="text"><div><%= __(\'position.form.p_l\')%>:</div><div class="text-pl trap-last"></div></div><div class="price-change"></div><div class="margin fn-margin"><div><%=__(\'accountInfo.usedMargin\')%>:</div><div class="required-margin trap-last"></div></div> <% if (guaranteedStopLossEnabled){ %> <div class="guaranteed-stop-loss-wrapper"><div><%=__(\'order.form.guaranteed_stop_loss\')%>:&nbsp;<span class="guaranteed-stop-loss"></span>&nbsp; <i class="icon-help" aria-label="<%=__(\'help.guaranteed_stop_loss\')%>"></i></div></div> <% } %> </div> <% if (expirationDate){ %> <div class="row expiration"><div><%=__(\'position.form.expiration\', expirationDate)%></div><div class="help"><i class="icon-help" aria-label="<%-__(\'help.order.expiration\')%>"></i></div></div> <% } %> <div class="row entry-stop"><div class="form-box-row"><div class="field field-rollout field-type-rollout"><div class="label"><div class="text"><%=__(\'order.form.take_profit\')%></div><div class="switcher"><label><input type="checkbox" name="close-at-profit-checkbox" class="ios-switch green" id="close-at-profit-checkbox"><div><div></div></div><label for="close-at-profit-checkbox"><%=__(\'order.form.take_profit\')%></label></label></div></div><div class="rollout-content"><div class="field field-type-spin field-disabled" data-field-depends="close-at-profit-checkbox"><div class="input"><input type="text" name="take-profit"></div><div class="actions"><button href="#" class="btn action-plus"><i class="icon-plus"></i></button> <button href="#" class="btn action-minus"><i class="icon-minus"></i></button></div><div class="help"><i class="icon-help" aria-label="<%=__(\'help.order.take_profit\')%>"></i></div><div class="help-line"><div></div></div><div class="field-tooltip"><div class="content"></div></div></div></div></div></div></div><div class="row entry-limit"><div class="form-box-row"><div class="field field-rollout field-type-rollout"><div class="label"><div class="text"><%=__(\'order.form.stop_loss\')%></div><div class="switcher"><label><input type="checkbox" name="close-at-loss-checkbox" id="close-at-loss-checkbox" class="ios-switch green"><div><div></div></div><label for="close-at-loss-checkbox"><%=__(\'order.form.stop_loss\')%></label></label></div></div><div class="rollout-content"><div class="field field-type-spin field-disabled" data-field-depends="close-at-loss-checkbox"><div class="input"><input type="text" name="close-at-loss"></div><div class="actions"><button href="#" class="btn action-plus"><i class="icon-plus"></i></button> <button href="#" class="btn action-minus"><i class="icon-minus"></i></button></div><div class="help"><i class="icon-help" aria-label="<%=__(\'help.order.stop_loss\')%>"></i></div><div class="help-line"><div></div></div><div class="field-tooltip"><div class="content"></div></div></div></div></div></div></div><div class="row message fn-message hidden"><span></span></div></div><div class="form-actions"><div class="block-button button-tooltip" aria-label=""><button class="btn btn-primary submit fn-submit disabled"><%=__(\'actions.save\')%></button></div><div class="block-button"><button class="btn btn-primary cancel fn-cancel"><%=__(\'actions.cancel\')%></button></div></div></div>'},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=(n(0),n(719)),o=n(3),s=n(14);i.exports=r.extend({makeOrderObject:function(){var t=r.prototype.makeOrderObject.call(this);return t.set("refOrderChainId",this.model.get("refOrderChainId"),{silent:!0}),t},updateForTradeOutsideOfTradingHours:function(){},render:function(){r.prototype.render.apply(this,arguments);var t=this.model,e=this.$(".new-order__type-block .icon").parent(),n=t.get("refOrderChainId"),i=t.get("time"),a=t.get("modifiedTime"),l=i===a,c=o(a).utc().format("DD/MM/YYYY HH:mm"),u=s.getInstrumentBySymbol(t.get("symbol")),d=u&&u.getDisplayName();return e.html('<i class="icon icon-help" aria-label="'+__("indigo.help.order.edit.type")+'"></i>'),this.$(".order-edit__base-info").removeClass("hidden"),this.$(".new-order__rates-block").remove(),this.$(".instrument-symbol").html(d),this.$(".order-time").html(c),this.$(".order-id").html(n),this.$(".order-time-label").html(l?__("position.form.opennedAt"):__("order.form.edit.lastmodified")),this},renderDangerInfo:function(){},updateCaption:function(){},setPrice:function(t){this.entry.value(t)},setTakeProfit:function(t){this.takeProfit.value(t)},disableTakeProfit:function(){this.tpCheckbox.uncheck()},setStopLoss:function(t){this.stopLoss.value(t)},disableStopLoss:function(){this.slCheckbox.uncheck()}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=(n(0),n(718));i.exports=r.extend({})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(0),s=n(24),a=n(70),l=n(184).Basket,c=n(6),u=n(1),d=n(16),h=n(22),p=n(7),f=n(214),m=n(31),g=n(135),v=n(279),b=n(52),y=n(68),_=o.template(n(1674)),w=s.extend({events:function(){return o.extend({},o.result(s.prototype,"events"),{"click .fn-submit":"onSubmit"})},initialize:function(t){var e=this;t.headerStyle="wizard",this.action=t.action,s.prototype.initialize.apply(this,arguments),this.isFormChanged=!1,this.defaultFormData=!1,this.listenTo(this.model,"change:rate",this.onRateChanged),this.listenTo(this.model,"change:currentPrice",this.onPriceChange),this.listenTo(this.model,"change:requiredMarginInAccountCurrency change:requiredMarginInInstrumentCurrency change:conversionRate",function(){e.fillRequiredMarginForAmount(),e.fillGuaranteedStopLoss()}),this.listenTo(this.model,"change:requiredMarginInInstrumentCurrency",this.checkSubmitButtonAvailable),this.listenTo(this.model,"change:profitForTakeProfit",this.fillProfitForTakeProfit),this.listenTo(this.model,"change:lossForStopLoss",this.fillLossForStopLoss),this.listenTo(this.model.getInstrument(),"change:bidDirection change:askDirection",this.updatePriceBlock),this.listenTo(this.model.getInstrument(),"change:buyTradable",this.checkSubmitButtonAvailable),this.listenTo(this.model.getInstrument(),"change:sellTradable",this.checkSubmitButtonAvailable),this.listenTo(this.model.getInstrument(),"change:editable",this.checkSubmitButtonAvailable),this.listenTo(this.model.getInstrument(),"change:tieredMarginApplied",this.showTieredMargin),this.listenToOnce(this.model,"change:amount change:requiredMarginInInstrumentCurrency change:requiredMarginInAccountCurrency",o.after(3,this.readyForAmountField.bind(this))),this.render(),this.getBasket(),Promise.all([this.sendSubscribeToConversion(this.model.getInstrument().getCurrency(),p.getUserCurrency()),this.subscribeRequiredMarginPositionCandidateUpdate()]).then(function(){return e.showRequiredMarginBlockForAmount()}).catch(function(t){return f(function(){return e.close()})}),this.updatePriceBlock(),this.updateRate(),this.updatePercent(),this.initForm(),this.hideRequiredMarginBlockForAmount(),this.checkSubmitButtonAvailable(),this.keyboardEvents=g({escape:function(){return e.close()},enter:function(){return e.onSubmit()}},this)},render:function(){s.prototype.render.call(this),this.$el.find(".responsive-panel").addClass("edit-order-panel"),this.setContent(_({model:this.model,order:{orderID:this.model.order.getOrderChainId(),modified:y.orderTimestamp(this.model.order.get("modifiedTime")),GMTPostfix:y.popupGMTPostfix(),description:this.model.instrument.get("description"),type:this.model.order.get("type").toLowerCase(),action:this.action,symbol:this.model.getInstrumentModel().getDisplayName(),sentiment:this.model.getInstrumentModel().get("sentiment"),basket:this.model.getInstrumentModel().getBasket()},groupName:this.model.getInstrumentModel().getGroupName(),guaranteedStopLossEnabled:p.isGuaranteedStopLossEnabled(),isBuying:"buy"===this.action,isMobile:window.innerWidth<=767,currencySymbol:this.model.getCurrencySymbol(),isAmount:this.model.getInstrumentModel().isAmountWordUsed(),expirationDays:this.model.getInstrumentModel().getExpirationDays()})),this.elements={$buyPrice:this.$el.find(".info-prices-block .buy .rate"),$sellPrice:this.$el.find(".info-prices-block .sell .rate"),sentimentRate:this.$el.find(".row.sentiment .rate"),$change:this.$el.find("#change .percent span")}},getRateDataByDir:function(t,e){var n=this.model.getInstrumentModel().fixRate(t);return{1:{add:"up",remove:"down",value:n},0:{add:"",remove:"",value:n},"-1":{add:"down",remove:"up",value:n}}[e]},getPercentData:function(t){var e=this.model.getInstrumentModel(),n=e.isPercentChangeIncreasing(),i=e.getPercentStr();return n?{add:"up",remove:"down",value:i}:{add:"down",remove:"up",value:i}},getBasket:function(){var t=this.model.getInstrumentModel().getBasket();if(t){var e=u.createElement(l,{basket:t});d.render(e,this.$el.find(".basket-bar")[0])}else this.$el.find(".basket-block").css({display:"none"})},updatePercent:function(){var t=this.getPercentData(),e=this.elements.$change,n=e.parent();e.html(t.value),n.removeClass(t.remove).addClass(t.add)},updatePriceBlock:function(){var t=this.model.getInstrumentModel(),e=this.getRateDataByDir(t.getSellPrice(),t.getSellDirection()),n=this.getRateDataByDir(t.getBuyPrice(),t.getBuyDirection());n.value=b.formatValueToStringOrComponent(b.divideValueByPipSize(n.value,t.getPipsPrecision()),!0),e.value=b.formatValueToStringOrComponent(b.divideValueByPipSize(e.value,t.getPipsPrecision()),!0),this.updateRateElement(this.elements.$sellPrice,e),this.updateRateElement(this.elements.$buyPrice,n)},updateRateElement:function(t,e){t.html(e.value).removeClass(e.remove).addClass(e.add)},initForm:function(){this.form=new a({el:this.$el.find(".form")}),this.listenTo(this.form,"field:change:close-at-profit-checkbox",this.onTakeProfitCheckbox),this.listenTo(this.form,"field:change:take-profit",this.onTakeProfitChange),this.listenTo(this.form,"field:change:close-at-loss-checkbox",this.onCloseAtLossCheckbox),this.listenTo(this.form,"field:change:close-at-loss",this.onCloseAtLossChange),this.listenTo(this.form,"field:change:price",this.onPriceFieldChange),this.listenTo(this.form,"field:change:quantity",this.onQuantityChange),this.listenTo(this.form,"cancel",this.onCancel),this.defineFields()},defineFields:function(){var t=this.form.field("quantity"),e=this.model.getAmount(),n=this.form.field("price"),i=this.form.field("take-profit"),r=this.form.field("close-at-profit-checkbox"),o=this.form.field("close-at-loss"),s=this.form.field("close-at-loss-checkbox");e=e<0?-e:e,this.model.setAmount(e),t.value(e);var a=this.model,l=a.instrument,c=l.getMinOrderSize(),u=l.getMaxOrderSize(),d=l.getPrecision(),h=a.instrument.getMinOrderIncrement(),p=a.getAmountIncrement(),f={min:c,max:u,increment:p,step:h},m={min:[c,a.getErrorAmountMin(c)],max:[u,a.getErrorAmountMax(u)],divisible:[h,a.getErrorDivisible(h)]};l.isFractionalAmountEnabled()&&(f.precision=d,m.divisible=[h,Math.pow(10,d+1),a.getErrorDivisible(h)]),t.setOptions(f).setRules(m).validateButtons(),n.value(this.model.getCurrentPrice().toFixed(this.model.instrument.getPrecision())),i.setOptions({step:this.model.instrument.getPipsPrecisionSize(),precision:this.model.instrument.getPrecision()}),this.model.order.isTakeProfit()&&(r.check(),i.value(this.model.order.getTakeProfit().toFixed(this.model.getInstrumentModel().getPrecision())),i.setState({pristine:!1}),this.fillProfitForTakeProfit()),o.setOptions({step:this.model.instrument.getPipsPrecisionSize(),precision:this.model.instrument.getPrecision()}),this.model.order.isStopLoss()&&(s.check(),o.value(this.model.order.getStopLoss().toFixed(this.model.getInstrumentModel().getPrecision())),o.setState({pristine:!1}),this.fillLossForStopLoss()),this.defaultFormData=this.form.getData(),this.setRulesForPriceField(),this.setRulesForLossField(this.isFormChanged),this.setRulesForProfitField(),n.setDefaultState(),i.setDefaultState(),o.setDefaultState(),this.listenTo(t,"change",this.subscribeRequiredMarginPositionCandidateUpdate)},onRateChanged:function(t){this.updateRate(),this.getPriceField().setDefaultState(),this.setRulesForPriceField(),this.setRulesForLossField(),this.getPriceField().validate()},updateRate:function(){var t=this.model.getRate(),e=this.getRateData(t);this.updateRateElement(this.elements.sentimentRate,e)},getRateData:function(t){var e=this.model.getRateDirection(),n=this.model.getInstrumentModel().fixRate(t);return{1:{add:"up",remove:"down equally",value:n},0:{add:"equally",remove:"up down",value:n},"-1":{add:"down",remove:"up equally",value:n}}[e]},setRulesForProfitField:function(t){var e=void 0,n=this.form.field("take-profit"),i={};this.model.isBuy()?(i.min=this.model.getPrice()+this.model.minOrderDistance(!0),e=Number(n.value())<=0?this.model.getErrorNotZero(__("order.form.take_profit")):this.model.getErrorTakeProfitMessageBuy((this.model.getPrice()+this.model.minOrderDistance(!0)).toFixed(this.model.instrument.getPrecision())),n.setRules({min:[this.model.getPrice()+this.model.minOrderDistance(!0),e]})):(i.max=this.model.getPrice()-this.model.minOrderDistance(!0),i.min=0,e=this.model.getErrorTakeProfitMessageSell((this.model.getPrice()-this.model.minOrderDistance(!0)).toFixed(this.model.instrument.getPrecision())),n.setRules({max:[this.model.getPrice()-this.model.minOrderDistance(!0),e],min:[this.model.getInstrumentModel().getPrecisionSize(),this.model.getErrorNotZero(__("order.form.take_profit"))]})),this.setOptions(t,n,i)},setRulesForLossField:function(t){var e=void 0,n=this.form.field("close-at-loss"),i={},r=this.model.getInstrumentModel().getPrecision();if(this.model.isBuy()){if(i.max=this.model.getPrice()-this.model.minOrderDistance(!0),i.min=0,e=this.model.getErrorStopLossMessageBuy((this.model.getPrice()-this.model.minOrderDistance(!0)).toFixed(this.model.instrument.getPrecision())),n.setRules({max:[this.model.getPrice()-this.model.minOrderDistance(!0),e],min:[this.model.getInstrumentModel().getPrecisionSize(),this.model.getErrorNotZero(__("order.form.stop_loss"))]}),p.isGuaranteedStopLossEnabled()){i.min=this.model.calcClosePrice();var o=this.model.getErrorStopLossMessageBuy(Number(this.model.getGSLLimitForOrder()).toFixed(r));n.setRules({min:[i.min,o]})}}else if(i.min=this.model.getPrice()+this.model.minOrderDistance(!0),e=Number(n.value())<=0?this.model.getErrorNotZero(__("order.form.stop_loss")):this.model.getErrorStopLossMessageSell((this.model.getPrice()+this.model.minOrderDistance(!0)).toFixed(this.model.instrument.getPrecision())),n.setRules({min:[this.model.getPrice()+this.model.minOrderDistance(!0),e]}),p.isGuaranteedStopLossEnabled()){i.max=this.model.calcClosePrice();var s=this.model.getErrorStopLossMessageSell(Number(this.model.getGSLLimitForOrder()).toFixed(r));n.setRules({max:[i.max,s]})}this.setOptions(t,n,i)},setRulesForPriceField:function(){var t=void 0,e=this.model.order.get("type"),n=this.form.field("price"),i=(Number((this.model.getRate()*this.model.instrument.getPrecisionSize()).toFixed(this.model.instrument.getPrecision())),{step:this.model.instrument.getPipsPrecisionSize(),precision:this.model.instrument.getPrecision()});"STOP"===e?"buy"===this.action?(i.min=this.model.getValidationValueForProfit(),t=Number(n.value())<=0?this.model.getErrorNotZero(__("order.form.field.entry_stop")):this.model.getErrorEntryStopPriceHigher(this.model.getValidationValueForProfit().toFixed(this.model.instrument.getPrecision())),n.setRules({min:[Number(n.value())<=0?this.model.instrument.getPrecisionSize():this.model.getValidationValueForProfit(),t]})):(i.max=this.model.getValidationValueForProfit(),i.min=this.model.getInstrumentModel().getPrecisionAsFloat(),t=this.model.getErrorEntryStopPriceLesser(this.model.getValidationValueForProfit()),n.setRules({max:[this.model.getValidationValueForProfit(),t],min:[this.model.getInstrumentModel().getPrecisionAsFloat(),this.model.getErrorEntryStopPriceHigher(0)]})):"buy"===this.action?(i.max=this.model.getValidationValueForLoss(),i.min=this.model.getInstrumentModel().getPrecisionAsFloat(),t=this.model.getErrorEntryLimitPriceLesser(this.model.getValidationValueForLoss()),n.setRules({max:[this.model.getValidationValueForLoss(),t],min:[this.model.getInstrumentModel().getPrecisionAsFloat(),this.model.getErrorEntryLimitPriceHigher(0)]})):(i.min=this.model.getValidationValueForLoss(),t=Number(n.value())<=0?this.model.getErrorNotZero(__("order.form.field.entry_limit")):this.model.getErrorEntryLimitPriceHigher(this.model.getValidationValueForLoss().toFixed(this.model.instrument.getPrecision())),n.setRules({min:[this.model.getValidationValueForLoss(),t]})),n.setOptions(i)},setOptions:function(t,e,n){t&&""!==e.value()?(e.setOptions(n),this.toggleClass(e)):e.setOptions(n,{silent:!0})},setFormAsChanged:function(){this.defaultFormData&&(this.isFormChanged||(this.isFormChanged=!0))},close:function(){o.isFunction(this.options.onClose)&&this.options.onClose.call(this),this.keyboardEvents.off(),s.prototype.close.call(this),Promise.all([this.sendUnsubscribeFromConversion(this.model.getInstrument().getCurrency(),p.getUserCurrency()),this.unsubscribeRequiredMarginPositionCandidateUpdate()]).catch(function(t){return f()})},onCancel:function(){this.close()},onSubmit:function(){var t=this.$el.find(".fn-submit").hasClass("disabled");if(!this.form.submit()&&!t){var e=this.form.getData();this.disableSubmitButton(),this.requestPlaceOrder(e).then(this.requestPlaceOrderSuccess.bind(this)).then(this.onSubmitSuccess.bind(this)).catch(this.requestPlaceOrderError.bind(this)).catch(this.onSubmitError.bind(this))}},requestPlaceOrder:function(t){var e=this.form.field("close-at-profit-checkbox").isChecked(),n=this.form.field("close-at-loss-checkbox").isChecked(),i={effect:"OPENING",instrumentId:this.model.getInstrumentModel().getId(),orderSide:this.model.getDirection(),orderType:this.model.order.getType(),quantity:this.model.isSell()?-this.model.getAmount():this.model.getAmount(),refOrderChainId:this.model.order.getOrderChainId(),requestId:o.uniqueId("gwt-uid-"),timeInForce:"GTC"};return this.model.order.isLimitPrice()?(i.limitPrice=this.model.getCurrentPrice(),i.stopPrice=null):(i.limitPrice=null,i.stopPrice=this.model.getCurrentPrice()),n&&(i.stopLoss={fixedOffset:this.model.minOrderDistance(!1),fixedPrice:this.model.getStopLoss(),isPriceFixed:!0,orderType:"STOP"}),e&&(i.takeProfit={fixedOffset:this.model.minOrderDistance(!1),fixedPrice:this.model.getTakeProfit(),isPriceFixed:!0,orderType:"LIMIT"}),c.placeOrder(h.getAtmosphereId(),i)},requestPlaceOrderSuccess:function(){return Promise.resolve()},onSubmitSuccess:function(){this.close()},requestPlaceOrderError:function(t){return Promise.reject(t)},onSubmitError:function(t){var e=this;f(function(){return e.close()})},readyForAmountField:function(){this.showRequiredMarginBlockForAmount(),this.fillRequiredMarginForAmount(),this.fillGuaranteedStopLoss()},fillRequiredMarginForAmount:function(){var t=p.getUserCurrencySymbol(),e=this.model.getInstrument().getCurrencySymbol(),n=this.model.calcRequiredMarginForOrder(this.model.getCurrentPrice()),i=this.model.calcRequiredMarginForOrder(this.model.getCurrentPrice(),!0),r=function(t,e){return m(t).formatForeignCurrency(e,"$0,0.[00]")},o=r(i,t);i!==n&&(o=r(n,e)+" = "+r(i,t)),this.$(".required-margin").html(o),this.checkAmountDerives()},checkAmountDerives:function(){this.validateAmount(this.form.field("quantity")),this.showTieredMargin()},validateAmount:function(t){var e=this.model.getInstrumentModel(),n=Math.floor(this.model.getAmount()*p.getUserAccountMetricsModel().getBuyingPower()/this.model.getRequiredMarginInAccountCurrency());n<=e.getMaxOrderSize()?t._rules=o.extend(t._rules,{max:[n,this.model.getErrorMoreFundsRequired()]}):t._rules=o.extend(t._rules,{max:[e.getMaxOrderSize(),this.model.getErrorAmounMax()]}),t.validate()},onQuantityChange:function(t){this.setFormAsChanged(),this.model.setAmount(t.value()),this.checkSubmitButtonAvailable()},onPriceFieldChange:function(t){this.setFormAsChanged(),this.model.setCurrentPrice(t.value()),this.setRulesForPriceField(),this.checkSubmitButtonAvailable()},onPriceChange:function(){this.getTakeProfitField().isPristine()&&(this.model.calcTakeProfit(),this.fillTakeProfit()),this.getStopLossField().isPristine()&&(this.model.calcStopLoss(),this.fillStopLoss()),this.getTakeProfitField().isEnabled()&&(this.getTakeProfitField().setDefaultState(),this.setRulesForProfitField(),this.getTakeProfitField().validate()),this.getStopLossField().isEnabled()&&(this.getStopLossField().setDefaultState(),this.setRulesForLossField(),this.getStopLossField().validate()),this.fillRequiredMarginForAmount()},onTakeProfitCheckbox:function(t,e){this.setFormAsChanged(),this.getTakeProfitField().setDefaultState(),e?(this.showProfitForTakeProfit(),this.model.order.isTakeProfit()?this.model.setTakeProfit(this.model.order.getTakeProfit()):this.model.calcTakeProfit()):(this.model.cleanTakeProfit(),this.hideProfitForTakeProfit()),this.fillTakeProfit(),this.checkSubmitButtonAvailable()},onCloseAtLossCheckbox:function(t,e){this.setFormAsChanged(),this.getStopLossField().setDefaultState(),e?(this.showLossForStopLoss(),this.model.order.isStopLoss()?this.model.setStopLoss(this.model.order.getStopLoss()):this.model.calcStopLoss()):(this.model.cleanStopLoss(),this.hideLossForStopLoss()),this.fillStopLoss(),this.checkSubmitButtonAvailable()},onTakeProfitChange:function(t){this.setFormAsChanged(),this.setRulesForProfitField(),t.validate(),this.toggleClass(t),this.model.setTakeProfit(t.value()),this.checkSubmitButtonAvailable()},onCloseAtLossChange:function(t){this.setFormAsChanged(),this.setRulesForLossField(),t.validate(),this.toggleClass(t),this.model.setStopLoss(t.value()),this.checkSubmitButtonAvailable()},toggleClass:function(t){switch(t._name){case"take-profit":r(".row.entry-stop")[t.hasError()?"addClass":"removeClass"]("row-error");break;case"close-at-loss":r(".row.entry-limit")[t.hasError()?"addClass":"removeClass"]("row-error")}},getPriceField:function(){return this.form.field("price")},getTakeProfitField:function(){return this.form.field("take-profit")},showProfitForTakeProfit:function(){this.showOrHideProfitLoss("take-profit",!0)},hideProfitForTakeProfit:function(){this.showOrHideProfitLoss("take-profit",!1)},showOrHideProfitLoss:function(t,e){this.form.field(t).$el.find(".help-line").css("visibility",e?"visible":"hidden")},fillTakeProfit:function(){this.setFieldValueIfEnabled("take-profit",this.model.getTakeProfit().toFixed(this.model.getInstrumentModel().getPrecision()))},setFieldValueIfEnabled:function(t,e){var n=this.form.field(t),i=n.isEnabled()?e:"";Number(n.value())!==Number(i)&&n.value(i)},getStopLossField:function(){return this.form.field("close-at-loss")},showLossForStopLoss:function(){this.showOrHideProfitLoss("close-at-loss",!0)},hideLossForStopLoss:function(){this.showOrHideProfitLoss("close-at-loss",!1)},fillStopLoss:function(){this.setFieldValueIfEnabled("close-at-loss",this.model.getStopLoss().toFixed(this.model.getInstrumentModel().getPrecision()))},hideRequiredMarginBlockForAmount:function(){this.$(".fn-margin-row").css("display","none")},showRequiredMarginBlockForAmount:function(){this.$(".fn-margin-row").css("display","block")},checkSubmitButtonAvailable:function(){var t=this.model.getInstrumentModel(),e=parseFloat(this.model.getRequiredMarginInAccountCurrency()),n=parseFloat(p.getUserAccountMetricsModel().getBuyingPower()),i=this.form.getData();return t.isEditable()?this.defaultFormData&&o.isEqual(this.defaultFormData,i)?void this.disableSubmitButton():e>n?(this.disableSubmitButton(this.model.getErrorMoreFundsRequired()),!1):(this.enableSubmitButton(),!0):(this.disableSubmitButton(t.status.getNotTradableMessage()),!1)},disableSubmitButton:function(t){o.isUndefined(t)&&(t=""),this.$el.find(".fn-submit").addClass("disabled").attr("disabled",!0),this.$el.find(".button-tooltip").attr("aria-label",t)},enableSubmitButton:function(){this.$el.find(".fn-submit").removeClass("disabled").removeAttr("disabled"),this.$el.find(".button-tooltip").attr("aria-label","")},fillProfitForTakeProfit:function(){var t=p.getUserCurrencySymbol(),e=this.model.getProfit();this.getTakeProfitField().isEnabled()&&this.getTakeProfitField().$(".help-line").html(__("order.form.protection.profit",t,Number(e>0?e:0).toFixed(2)))},fillLossForStopLoss:function(){var t=this.model.getLoss(),e=p.getUserCurrencySymbol();this.getStopLossField().isEnabled()&&this.getStopLossField().$(".help-line").html(__("order.form.protection.loss",e,Number(t>0?t:0).toFixed(2)))},subscribeRequiredMarginPositionCandidateUpdate:function(t){var e=this.model,n=e.getInstrumentModel(),i=t?t.value():e.getAmount(),r={conversionRate:e.getConversionRate(),quantity:Math.abs(i),side:String(e.get("type")).toUpperCase(),symbol:n.getSymbol()};return c.requiredMarginPositionCandidateUpdate(h.getAtmosphereId(),r)},unsubscribeRequiredMarginPositionCandidateUpdate:function(){var t=this.model.getInstrumentModel().getSymbol();return c.unsubscribeRequiredMarginPositionCandidateUpdate(h.getAtmosphereId(),t)},sendSubscribeToConversion:function(t,e){return v.add(t,e).then(this.requestConversionSubscriptionSuccess.bind(this)).catch(this.requestConversionSubscriptionError.bind(this))},sendUnsubscribeFromConversion:function(t,e){return v.remove(t,e).then(this.requestConversionUnsubscriptionSuccess.bind(this)).catch(this.requestConversionUnsubscriptionError.bind(this))},requestConversionSubscriptionSuccess:function(t){return Promise.resolve(t)},requestConversionSubscriptionError:function(t){return Promise.reject(t)},requestConversionUnsubscriptionSuccess:function(t){return Promise.resolve(t)},requestConversionUnsubscriptionError:function(t){return Promise.reject(t)},fillGuaranteedStopLoss:function(){if(!p.isGuaranteedStopLossEnabled())return!1;var t=p.getUserCurrencySymbol();this.$el.find(".guaranteed-stop-loss").html(t+m(this.model.getGSL()).format("0,0.[00]"))},showTieredMargin:function(){var t=this.$(".amount-tiered-margin"),e=this.form.field("quantity");if(o.isEmpty(e.validate())&&this.model.getInstrument().isTieredMarginApplied())return void t.removeClass("hidden");t.addClass("hidden")},setPrice:function(t){var e=this.form.field("price");e.value(t),e.onInputChange()},setTakeProfit:function(t){var e=this.form.field("take-profit");e.value(t),e.onInputChange()},disableTakeProfit:function(){this.form.field("close-at-profit-checkbox").uncheck()},setStopLoss:function(t){var e=this.form.field("close-at-loss");e.value(t),e.onInputChange()},disableStopLoss:function(){this.form.field("close-at-loss-checkbox").uncheck()}});i.exports=w}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports='<div class="edit-order-popup form"><div class="content"><div class="row info hidden-xs"><div class="title"><div class="flex flex-row flex-wrap"><div><%=__(\'type.\' + order.type.toUpperCase())%></div><div class="action-<%=(isBuying ? \'buy\' : \'sell\')%>"><%=__(\'actions.\' + order.action.toLowerCase())%></div><span class="hidden-xs">|&nbsp;</span><div class="flex flex-row flex-valign-center"><div class=""> <%=order.symbol%> </div><div class="rate-box" id="change"><div class="percent up"><span></span> <i class="arrow"></i></div></div></div></div><div><%=order.description%></div></div><div><div class="visible hidden-xs flex-stretch"><div class="info-prices-block flex-align-end"><div class="sell"><div class="rate-box"><div class="caption"><%-__(\'actions.sell\')%>:</div><div class="rate"></div></div></div><div class="buy"><div class="rate-box"><div class="caption"><%-__(\'actions.buy\')%>:</div><div class="rate"></div></div></div></div></div><div class="meta"><div><%=__(\'actions.modified\')%>: <%=order.modified%><%=order.GMTPostfix%></div><div><%=__(\'order.form.edit.id\')%> <%=order.orderID%></div></div></div></div><div class="row info visible-xs"><div class="title"><div><span><%=order.type%></span><span class="action-<%=(isBuying ? \'buy\' : \'sell\')%>"><%=order.action%></span><span class="hidden-xs">| </span><span><%=order.symbol%></span></div><div><%=order.description%></div></div><div class="meta"><div><%=__(\'actions.modified\')%>: <%=order.modified%><%=order.GMTPostfix%></div><div><%=__(\'order.form.edit.id\')%> <%=order.orderID%></div></div></div><div class="row sentiment"><div class="text"><div><%=__(\'sentiment.title\')%></div><div><%=__(\'order.instrument_info.current_rate\')%>: <span class="rate"></span></div></div><div class="chart"> <% if (order.sentiment) { %> <div class="sellers"><%=order.sentiment.shorts %>% <%=__(\'actions.sold\')%></div><div class="bar"><i style="width:<%=order.sentiment.shorts %>%"></i> <b style="width:<%=order.sentiment.longs %>%"></b></div><div class="buyers"><%=order.sentiment.longs %>% <%=__(\'actions.bought\')%></div> <% } %> </div></div> <% if (order.basket) { %> <div class="row"><div class="basket-block"><div class="block-title"> <%=__(\'baskets.title\')%>&nbsp; <i class="icon-help" aria-label="<%=__(\'baskets.hint\')%>"></i></div><div class="basket-title"><%=__(\'baskets.consists\', order.basket.instrumentSymbol) %>:</div><div class="basket-bar"></div></div></div> <% } %> <div class="row visible-xs"><div class="flex-stretch"><div class="info-prices-block"><div class="sell"><div class="rate-box"><div class="caption"><%-__(\'actions.sell\')%>:</div><div class="rate"></div></div></div><div class="buy"><div class="rate-box"><div class="caption"><%-__(\'actions.buy\')%>:</div><div class="rate"></div></div></div></div></div></div><div class="row quantity"><div class="form-row form-quantity fn-quantity-row"><div class="form-label"><div class="text"> <%=isAmount ? __(\'order.form.amount.frx\') : __(\'order.form.amount.cfd\')%>: <%=groupName %> </div></div><div class="field field-type-spin-relative"><div class="input"><input type="text" name="quantity"></div><div class="actions"><button class="btn action-plus" data-type="quantity"><i class="icon-plus"></i></button> <button class="btn action-minus" data-type="quantity"><i class="icon-minus"></i></button></div><div class="help"><i class="icon-help" aria-label="<%=isAmount ? __(\'help.order.amount\') : __(\'help.order.quantity\')%>"></i></div><div class="field-tooltip"><div class="content"></div></div><div class="amount-tiered-margin info hidden"><%= __(\'order.form.tiered_margin.reached\') %></div></div></div></div><div class="row price"><div class="form-row form-price fn-price-row"><div class="form-label"><div class="text"><%=__(\'price\')%>:</div></div><div class="field field-type-spin"><div class="input"><input type="text" name="price"></div><div class="actions"><button class="btn action-plus" data-type="price"><i class="icon-plus"></i></button> <button class="btn action-minus" data-type="price"><i class="icon-minus"></i></button></div><div class="help"><i class="icon-help" aria-label="<%-model.getPriceExplanation()%>"></i></div><div class="field-tooltip"><div class="content"></div></div></div></div><div class="form-row form-margin fn-margin-row"><div></div><div class="flex flex-column"><div><span><%=__(\'order.form.required_margin\')%></span>&nbsp;<span class="required-margin"></span></div> <% if (guaranteedStopLossEnabled){ %> <div class="flex flex-row"><div class="flex-valign-center"><%=__(\'order.form.guaranteed_stop_loss\')%>&nbsp;&nbsp;<span class="guaranteed-stop-loss"></span>&nbsp;</div><div class="flex-valign-center"><i class="icon-help" aria-label="<%=__(\'help.guaranteed_stop_loss\')%>"></i></div></div> <% } %> </div></div></div> <% if (expirationDays){ %> <div class="row expiration"><div><%=__(\'order.form.expiration\', expirationDays)%></div><div class="help"><i class="icon-help" aria-label="<%-__(\'help.order.expiration\')%>"></i></div></div> <% } %> <div class="row entry-stop"><div class="form-box-row"><div class="field field-rollout field-type-rollout"><div class="label"><div class="text"><%=__(\'order.form.take_profit\')%></div><div class="switcher"><label><input type="checkbox" name="close-at-profit-checkbox" class="ios-switch green" id="close-at-profit-checkbox"><div><div></div></div><label for="close-at-profit-checkbox"><%=__(\'order.form.take_profit\')%></label></label></div></div><div class="rollout-content"><div class="field field-type-spin field-disabled" data-field-depends="close-at-profit-checkbox"><div class="input"><input type="text" name="take-profit"></div><div class="actions"><button href="#" class="btn action-plus"><i class="icon-plus"></i></button> <button href="#" class="btn action-minus"><i class="icon-minus"></i></button></div><div class="help"><i class="icon-help" aria-label="<%=__(\'help.order.take_profit\')%>"></i></div><div class="help-line"><div></div></div><div class="field-tooltip"><div class="content"></div></div></div></div></div></div></div><div class="row entry-limit"><div class="form-box-row"><div class="field field-rollout field-type-rollout"><div class="label"><div class="text"><%=__(\'order.form.stop_loss\')%></div><div class="switcher"><label><input type="checkbox" name="close-at-loss-checkbox" id="close-at-loss-checkbox" class="ios-switch green"><div><div></div></div><label for="close-at-loss-checkbox"><%=__(\'order.form.stop_loss\')%></label></label></div></div><div class="rollout-content"><div class="field field-type-spin field-disabled" data-field-depends="close-at-loss-checkbox"><div class="input"><input type="text" name="close-at-loss"></div><div class="actions"><button href="#" class="btn action-plus"><i class="icon-plus"></i></button> <button href="#" class="btn action-minus"><i class="icon-minus"></i></button></div><div class="help"><i class="icon-help" aria-label="<%=__(\'help.order.stop_loss\')%>"></i></div><div class="help-line"><div></div></div><div class="field-tooltip"><div class="content"></div></div></div></div></div></div></div></div><div class="form-actions grid"><div class="block-button button-tooltip" aria-label=""><button class="btn btn-primary submit fn-submit" disabled="disabled"><%=__(\'actions.save\')%></button></div><div class="block-button"><button class="btn btn-primary cancel fn-cancel"><%=__(\'actions.cancel\')%></button></div></div></div>'},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(260),s=n(10),a=s.ERROR,l=s.SUCCESS;r.exports=o.extend({initialize:function(){this.loadDepositAmountConfig()},update:function(){var t=this.toJSON(),e=t.statusOfDepositAmountConfig;e===a&&this.set("status",a),e===l&&this.set("status",l)},getAtmAmount:function(){var t=this.get("atmAmount");return-1===t?"Other":i.isUndefined(t)?"N/A":t},isBonusApplied:function(){return!0===this.get("bonusApplied")}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(2),s=n(7),a=n(24),l=r.template(n(1677)),c=r.template(n(1678)),u=(n(6),n(22),n(70)),d=n(38),h=n(97),p=h.ERROR,f=h.SUCCESS,m=function(t,e,n,i){n=String(n),__eventos(t,{depositSource:e,defaultAmount:n,sentAmount:i})},g=/^(0|[1-9]\d*)(\.|\.\d{1,2})?$/i,v=a.extend({name:"first-deposit-popup",events:function(){return r.extend({},r.result(a.prototype,"events"),{"click .fn-submit":"onSubmit","click .fn-cancel":"onClose"})},initialize:function(t){this.options=t,"banner_click"===t.source?t.source="RealBanner":t.source=this.options.source.split(":")[1],a.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:status",this.onStatusChange),o.trigger("ui:loading")},render:function(){return o.trigger("ui:loading:hide"),a.prototype.render.call(this),this.setContent(l()),this.$el.addClass("first-deposit-popup").find(".content").html(c({options:this.options,userCurrencySymbol:s.getUserCurrencySymbol()})),this.initForm(),this},initForm:function(){this.form=new u({el:this.$el.find(".form")}),this.listenTo(this.form,"field:change:amount",this.onAmountChange),this.defineField()},defineField:function(){var t=this.form.field("amount"),e=this.model,n=this.getDefaultAmount(),i=e.getMinAmount(),r=e.getMaxAmount();this.showText(n),t.value(n),t.setOptions({min:i,max:r}),t.setRules({min:[i,__("first_deposit.popup.amount.validate.range.min",i)],max:[r,__("first_deposit.popup.amount.validate.range.max",r)]})},onAmountChange:function(t){var e="",n=t.value();n.length<=12&&g.test(n)?this.lastValidValue=e=n:(this.lastValidValue&&""!==n?e=this.lastValidValue:(this.lastValidValue="",e=0),""!==n&&t.value(this.lastValidValue)),this.showText(e)},showText:function(t){var e=this.model.getCurrentLeverageValue(),n=__("first_deposit.popup.notes",e),i=__("first_deposit.popup.description",d(e*t).formatForeignCurrency(s.getUserCurrencySymbol(),"$0,0.[00]")),r=this.$(".block-text");r.find(".block-text-first").html(n),r.find(".block-text-second").html(i)},onClose:function(){this.close(),this.eventosClose()},eventosClose:function(){m("onBoardFlow:FirstDepositWindow:clkClose",this.options.source,this.getDefaultAmount(),"N/A")},getDefaultAmount:function(){return this.model.get("selectedAmount")||this.model.getDefaultAmount()},eventosDeposit:function(t){m("onBoardFlow:FirstDepositWindow:clkDeposit",this.options.source,this.getDefaultAmount(),t)},onSubmit:function(){var t=Number(this.form.field("amount").value()),e=this.form.submit();this.eventosDeposit(t),e||(this.model.set({amount:t}),this.eventosClose(),this.close(),this.handleCallback("onSuccess"))},onStatusChange:function(){var t=this.model.get("status");return t==p?this.close():t==f?this.render():void 0},handleCallback:function(t){var e=this.options,n=r.isObject(e)&&e[t];r.isFunction(n)&&n()}});i.exports=v}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<div class="deposit-first-popup-body"><div class="top"><div class="header"><span> <%=__(\'first_deposit.popup.title\')%> </span></div><div class="content"></div></div><div class="footer"><div class="block-help-line"><div class="fn-cancel"><span><%=__(\'first_deposit.popup.later.desktop\')%></span></div></div></div></div>'},function(t,e){t.exports='<div class="content-blocks"><div class="block-form form"><div class="form-row"><div class="form-label col-top"><div class="text"> <%=__(\'form_deposit_funds_header\')%>&nbsp;&nbsp;<%=userCurrencySymbol%> </div></div><div class="field field-type-input"><div class="input"><input type="text" name="amount"><div class="field-tooltip"><div class="arrow"></div><div class="content"></div></div></div></div></div></div><div class="block-text"><span class="block-text-first"></span> <span class="block-text-second"></span></div><div class="block-button"><button class="btn btn-primary submit fn-submit"><span class="flex flex-align-center flex-valign-center"><%=__(\'first_deposit.popup.button\')%></span></button></div></div>'},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(260),o=n(97),s=n(0),a=o.ERROR,l=o.SUCCESS;i.exports=r.extend({initialize:function(){this.loadDepositAmountConfig(),this.loadLeverage()},update:function(){var t=this.toJSON(),e=t.statusOfLeverage,n=t.statusOfDepositAmountConfig,i=function(t,i){return i([e,n],function(e){return e===t})},r=i(a,s.some),o=i(l,s.every);r&&this.set("status",a),o&&this.set("status",l)}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var r=n(0),o=n(80),s=n(5),a=n(2),l=n(9),c=n(31),u=n(97),d=n(7),h=n(56),p=r.template(n(1681)),f=u.SUCCESS,m=u.ERROR,g=u.CANCELLED,v=u.REJECTED,b=u.SELECTED,y=u.MANUAL_SELECT_AMOUNT,_=o.extend({className:"select-deposit-amount",name:"select-deposit-amount",events:function(){return r.extend({},r.result(o.prototype,"events"),{"click .fn-amount":"selectAmount"})},initialize:function(){o.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:status",this.onStatusChange),a.trigger("ui:loading")},render:function(){o.prototype.render.apply(this),a.trigger("ui:loading:hide");var t=this.model.toJSON(),e=this.model.getCurrentLeverageValue(),n=function(t,e){return c(e).formatForeignCurrency(t,"0,0")}.bind(null,t.accountCurrencySymbol);this.setContent(p({model:t,maxDeposit:t.defaultAmount*e,leverage:"1:"+e,numbro:c,transformValue:n,isMarketsX:d.isPromotionMarketsX()&&!h.FIRST_DEPOSIT_MADE()}));var i=d.getUserCommonData();d.isPromotionMarketsX()&&!h.FIRST_DEPOSIT_MADE()&&(this.$el.find("i.icon-close-blue").removeClass("icon-close-blue").addClass("icon-marketsX-close-"+i.getAppTheme()),this.$el.addClass("marketsX-popup-deposit"))},selectAmount:function(t){var e=Number(s(t.currentTarget).attr("data-value"));l.isManualDepositAmountNeeded()&&-1===e?this.openManualSelectAmount():(this.model.set({selectedAmount:e,status:b}),this.close()),this.eventosClkButton(e)},openManualSelectAmount:function(){this.model.set("status",y),this.close()},onStatusChange:function(){var t=this.model,e=t.get("status");if(e===m&&this.close(),e===f)if(t.isSelectingAmountEnabled())this.render();else{if(!l.isManualDepositAmountNeeded())return t.set("status",v),this.close();this.openManualSelectAmount()}},close:function(){a.trigger("ui:loading:hide"),o.prototype.close.call(this)},onPopupClose:function(){this.model.set("status",g),o.prototype.onPopupClose.call(this),this.eventosClkClose()},eventosClkButton:function(t){__eventos("onBoardFlow:ATM:clkButton",{userChoice:t>-1?"Predefined Amount":"Other Amount",amount:t})},eventosClkClose:function(){__eventos("onBoardFlow:ATM:clkClose")}});i.exports=_}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports='<div class="content flex flex-column flex-align-center"><p class="large caption"> <%if(isMarketsX){%> <%- __(\'marketsX.atm_deposit.popup.title\') %></p> <%}else{%> <%- __(\'atm_deposit.popup.title\') %><p></p> <%}%> <div class="flex flex-column flex-align-center"><ul class="list"> <% _.each(model.amounts, function(amountValue) { %> <li class="item"><button class="btn btn-primary large fn-amount <%= amountValue.emphasized ? \'premium\' : \'\' %>" data-value="<%-amountValue.amount%>"> <% if (amountValue.emphasized) { %> <div class="premium__text"> <%= __(\'premium_account\') %> </div> <% } %> <div><%- transformValue(amountValue.amount) %></div></button></li> <% }) %> <% if (model.amounts.length  % 2 !== 0) { %> <li class="item"><button class="btn btn-primary large fn-amount" data-value="-1"><div class="other-amount-button"> <%- __(\'atm_deposit.popup.other_button\') %> </div></button></li> <% } %> </ul> <% if (model.amounts.length  % 2 === 0) { %> <div class="flex flex-align-center"><button class="btn btn-primary large fn-amount other-amount other-amount-button" data-value="-1"><%- __(\'atm_deposit.popup.other_button\') %></button></div> <% } %> </div><hr><p class="info"><%- __(\'atm_deposit.popup.description\', model.accountCurrencySymbol + numbro(model.defaultAmount).format(\'0,0\'), model.accountCurrencySymbol + numbro(maxDeposit).format(\'0,0\'), leverage) %></p></div>'},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(260);i.exports=r.extend({initialize:function(){this.loadDepositAmountSizes(),this.loadLeverage(),this.loadDepositAmountConfig()}})}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(0),s=(n(2),n(24)),a=n(30),l=n(6),c=o.template(n(1684)),u=o.template(n(1685)),d=n(15),h=s.extend({initialize:function(t){s.prototype.initialize.apply(this,arguments),this.getTutorials()},getTutorials:function(){var t=this;return this.createLoadingView(),l.loadTutorials().then(function(e){if(o.has(e,"data")&&""!=e.data){var n=o.filter(e.data,function(t){return t.playlist.mobile==d.mobile()});t.videos=o.reduce(n,function(t,e){return t.concat(e.videos)},[]),t.render(n),t.destroyLoadingView()}else t.render([])}).catch(function(){t.render([])})},events:function(){return o.extend({},o.result(s.prototype,"events"),{"click .playlist-title":"togglePlaylist","click .video":"openVideo"})},getOptions:function(t){return o.extend({},o.result(s.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("hint.video_tutorials"),previousCaption:__("actions.back"),headerStyle:"wizard"},t)},render:function(t){if(s.prototype.render.call(this),t.length>0){var e={};this.getLastVideo()?(e=this.getVideoById(this.getLastVideo()),o.isUndefined(e)&&(e=t[0].videos[0],this.setLastVideo(e.resourceId.videoId))):(e=t[0].videos[0],this.setLastVideo(e.resourceId.videoId));var n=this.getNextVideo(e.resourceId.videoId);this.setContent(c({playlists:t,youtubeUrl:"https://www.youtube.com/embed/",youtubeParams:"?rel=0",mainVideo:e,nextVideo:n})),this.updatePlaylistTree(e.resourceId.videoId),this.$el.find('[data-id="'+e.resourceId.videoId+'"]').find(".video-title").addClass("video-selected")}else this.setContent(u());return this},openVideo:function(t){var e=r(t.currentTarget).attr("data-id"),n=this.getVideoById(e),i=this.getNextVideo(e);this.$el.find(".tutorails-main iframe").attr("src","https://www.youtube.com/embed/"+e+"?rel=0"),this.$el.find(".tutorials-main-details").find("div:first-child").html(n.title),this.$el.find(".tutorials-main-details").find("div:last-child").html(n.description),this.$el.find(".next-video .video").attr("data-id",i.resourceId.videoId),this.$el.find(".next-video .video-thumb img").attr("src",i.thumbnails.medium.url),this.$el.find(".next-video .video-title").html(i.title),this.$el.find(".tutorials")[0].scrollTop=0,this.$el.find(".video-title").removeClass("video-selected"),this.$el.find('[data-id="'+e+'"]').find(".video-title").addClass("video-selected"),this.setLastVideo(e),this.updatePlaylistTree(e)},getVideoById:function(t){return o.find(this.videos,function(e){return e.resourceId.videoId==t})},getNextVideo:function(t){var e=o.findIndex(this.videos,function(e){return e.resourceId.videoId==t});return e==this.videos.length-1?this.videos[0]:this.videos[e+1]},togglePlaylist:function(t){var e=r(t.currentTarget).parent();this.togglePlaylistTree(e)},togglePlaylistTree:function(t){t.hasClass("closed")?(this.$el.find(".playlist").addClass("closed"),t.removeClass("closed")):t.addClass("closed")},updatePlaylistTree:function(t){var e=this.$el.find('[data-id="'+t+'"]').parent().parent();e.hasClass("closed")&&this.togglePlaylistTree(e)},setLastVideo:function(t){localStorage.setItem("lastVideo",t)},getLastVideo:function(){return localStorage.getItem("lastVideo")||""},createLoadingView:function(){this.loadingView=new a({parent:this.$(".tutorials"),position:"relative"})},destroyLoadingView:function(){this.loadingView&&(this.loadingView.destroy(),this.loadingView=null)}});i.exports=h}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports='<div class="tutorials"><div class="tutorials-content"><div class="tutorails-main"><iframe src="<%=youtubeUrl%><%=mainVideo.resourceId.videoId%><%=youtubeParams%>" frameborder="0" allowfullscreen></iframe><div class="tutorials-main-data"><div class="tutorials-main-details"><div><%=mainVideo.title%></div><div><%=mainVideo.description%></div></div></div></div><div class="tutorials-sidebar"><div class="next-video"><div class="next-title"><%=__(\'tutorials.up.next\')%></div><div class="video" data-id="<%=nextVideo.resourceId.videoId%>"><div class="video-thumb"><img src="<%= nextVideo.thumbnails.medium.url%>"></div><div class="video-title"><%=nextVideo.title%></div></div></div><div class="videos-list"> <%  _.each(playlists, function(playlist, i) { %> <div class="playlist <% if (i > 0) {%>closed<%}%>"><div class="playlist-title"><%=playlist.playlist.title%></div><div class="playlist-videos"> <% _.each(playlist.videos, function(video) { %> <% if (_.has(video, \'thumbnails\')) {%> <div class="video" data-id="<%=video.resourceId.videoId%>"><div class="video-thumb"><img src="<%= video.thumbnails.medium.url%>"></div><div class="video-title"><%=video.title%></div></div> <% } %> <% }); %> </div></div> <% }); %> </div></div></div></div>'},function(t,e){t.exports="<div class=\"tutorials coming-soon\"> <%=__('coming_soon')%> </div>"},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(16),o=n(1),s=n(8).Provider,a=n(0),l=n(24),c=n(1687).default,u=l.extend({initialize:function(t){l.prototype.initialize.apply(this,arguments),this.render()},getOptions:function(t){return a.extend({},a.result(l.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("hint.video_education"),previousCaption:__("actions.back"),headerStyle:"wizard"},t)},render:function(){l.prototype.render.call(this);var t=this.options;return this.$el.find(".responsive-popup-content").addClass("education"),r.render(o.createElement(s,{store:store},o.createElement(c,t)),this.$el.find(".responsive-popup-body")[0]),this},destroy:function(){r.unmountComponentAtNode(this.$el.find(".responsive-popup-body")[0]),l.prototype.destroy.call(this)}});i.exports=u}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){"use strict";function i(){return function(t,e){t({types:[h.a,h.c,h.b],callApi:function(){return f()}})}}function r(t){return function(e,n){e({type:h.g,payload:t}),e(s(t))}}function o(t){return function(e,n){e({type:h.f,payload:t}),e(a(t))}}function s(t){return function(e,n){var i=Object(p.a)();i.url=t,Object(p.b)(i),e({type:h.e,payload:t})}}function a(t){return function(e,n){var i=Object(p.a)();i.group=t,Object(p.b)(i),e({type:h.d,payload:t})}}function l(t,e){return{selectedUrl:t.education.selectedUrl}}function c(t,e){var n=t.education;return{playlists:n.playlists,selectedGroup:n.selectedGroup,isOpenGroup:n.isOpenGroup}}function u(t,e){var n=t.education;return{playlists:n.playlists,selectedGroup:n.selectedGroup,isOpenGroup:n.isOpenGroup,selectedUrl:n.selectedUrl}}Object.defineProperty(e,"__esModule",{value:!0});var d=n(8),h=n(682),p=n(683),f=function(){return Promise.resolve([{name:"beginner",playlist:[{url:"https://global.recognia.com/videos/moodle_video/Beginner/f66a10e7e02210916f4056af50913c64/20110101000000/Introduction.mp4",title:"Introduction"},{url:"https://global.recognia.com/videos/moodle_video/Beginner/b784f2c5a41754c065dec77912519448/20110101000000/Trendlines.mp4",title:"Trendlines"},{url:"https://global.recognia.com/videos/moodle_video/Beginner/b17a767a2e15c8c23fd81982677c089c/20110101000000/Volume.mp4",title:"Volume"},{url:"https://global.recognia.com/videos/moodle_video/Beginner/941740bbd49e6b6cef2d30001247c8d0/20110101000000/MethodsOfPlottingCharts.mp4",title:"Methods Of Plotting Charts"},{url:"https://global.recognia.com/videos/moodle_video/Beginner/8922c585da5769f3aa3024cabc0035dc/20110101000000/Trends.mp4",title:"Trends"},{url:"https://global.recognia.com/videos/moodle_video/Beginner/2f3c84b94bd104fa3699a982a5c53348/20110101000000/SupportAndResistance.mp4",title:"Support And Resistance"},{url:"https://global.recognia.com/videos/moodle_video/Beginner/0dd8a8f11f9f0bb3dcaa063e5ec695b8/20110101000000/PeakAndTrough.mp4",title:"Peak And Trough"},{url:"https://global.recognia.com/videos/moodle_video/Beginner/04926726ff340464a6ad944b2ca48830/20110101000000/MovingAverages.mp4",title:"Moving Averages"}]},{name:"intermediated",playlist:[{url:"https://global.recognia.com/videos/moodle_video/Intermediate/f98fa452696479bd7c8a55bfa35952bd/20110101000000/Rectangles.mp4",title:"Rectangles"},{url:"https://global.recognia.com/videos/moodle_video/Intermediate/f71cfa713f6cfde2598cf2c3fc72a2d2/20110101000000/DarkCloud.mp4",title:"Dark Cloud"},{url:"https://global.recognia.com/videos/moodle_video/Intermediate/d86d79a483e0c1679405611a6239da72/20110101000000/EngulfingPatterns.mp4",title:"Engulfing Patterns"},{url:"https://global.recognia.com/videos/moodle_video/Intermediate/9d2e09ec70383b361defc49395fabcd3/20110101000000/MarketplaceExamples.mp4",title:"Marketplace Examples"},{url:"https://global.recognia.com/videos/moodle_video/Intermediate/8fe07e62303a5e03675dc63233527e1c/20110101000000/ReversalPatterns.mp4",title:"Reversal Patterns"},{url:"https://global.recognia.com/videos/moodle_video/Intermediate/8fa21fec3e85df62f5ea4df2b568f4bd/20110101000000/Stars.mp4",title:"Stars"},{url:"https://global.recognia.com/videos/moodle_video/Intermediate/6de1ebf346aa15c45c82cb70f95dc5b9/20110101000000/BollingerBands.mp4",title:"Bollinger Bands"},{url:"https://global.recognia.com/videos/moodle_video/Intermediate/4fbfc94c53ab0e5890b492ddcbc2434f/20110101000000/EngulfingPatterns.mp4",title:"Engulfing Patterns"},{url:"https://global.recognia.com/videos/moodle_video/Intermediate/4daf5c9925b240704f7f5f76caf88465/20110101000000/Triangles.mp4",title:"Triangles"},{url:"https://global.recognia.com/videos/moodle_video/Intermediate/4bb9936725ad43dd9c8500f90c6d066c/20110101000000/DoubleTopsAndBottoms.mp4",title:"DoubleTops And Bottoms"},{url:"https://global.recognia.com/videos/moodle_video/Intermediate/0117e916e2c48fd3b3d9299e79881ffe/20110101000000/IntroToCandles.mp4",title:"Intro To Candles"},{url:"https://global.recognia.com/videos/moodle_video/Intermediate/00b310a87b8cee8e2e3a9929733fd864/20110101000000/HeadAndShoulders.mp4",title:"Head And Shoulders"}]},{name:"advanced",playlist:[{url:"https://global.recognia.com/videos/moodle_video/Advanced/fe826fbfaac469f73438f75cc216e79b/20110101000000/OutsideBars.mp4",title:"Outside Bars"},{url:"https://global.recognia.com/videos/moodle_video/Advanced/f532f76e80306b32046837b7e4ab8687/20110101000000/TwoBarReversals.mp4",title:"Two Bar Reversals"},{url:"https://global.recognia.com/videos/moodle_video/Advanced/eda889b1feb4873c9555dab95f37fd80/20110101000000/MomentumOBOS.mp4",title:"Momentum OBOS"},{url:"https://global.recognia.com/videos/moodle_video/Advanced/e50916c746c4d9e269fd10cb3925f731/20110101000000/TrendDeviationMACD.mp4",title:"TrendDeviation MACD"},{url:"https://global.recognia.com/videos/moodle_video/Advanced/d37d414beb48146d7ea1ff1160b7b5ab/20110101000000/Stochastics.mp4",title:"Stochastics"},{url:"https://global.recognia.com/videos/moodle_video/Advanced/b6eb6792327c85e139e20376a56c648c/20110101000000/KeyReversalBar.mp4",title:"Key Reversal Bar"},{url:"https://global.recognia.com/videos/moodle_video/Advanced/a7259b1bc286510b7ac8b0c1e98bb61e/20110101000000/MomentumTrendReversals.mp4",title:"Momentum Trend Reversals"},{url:"https://global.recognia.com/videos/moodle_video/Advanced/7d3c84fc268c7fecc3717fabc3808402/20110101000000/InsideBars.mp4",title:"Inside Bars"},{url:"https://global.recognia.com/videos/moodle_video/Advanced/79b27c5e655731b813635ee341bda8d5/20110101000000/MomentumDivergences.mp4",title:"Momentum Divergences"},{url:"https://global.recognia.com/videos/moodle_video/Advanced/612c0b83e938bdfc98a8998a5f63f25c/20110101000000/RSI.mp4",title:"RSI"},{url:"https://global.recognia.com/videos/moodle_video/Advanced/4c5b834758298e2f0ae71fa4b0d93d77/20110101000000/PinocchioBars.mp4",title:"Pinocchio Bars"},{url:"https://global.recognia.com/videos/moodle_video/Advanced/0a4f0536ec9c99f2d1a024b3fb1771c7/20110101000000/MomentumIntroduction.mp4",title:"Momentum Introduction"}]}])},m=n(1),g=n.n(m),v=n(29),b=n.n(v),y=Object(d.connect)(l)(function(t){var e=t.selectedUrl;return g.a.createElement("div",{className:"education-main"},g.a.createElement("video",{src:e,controls:!0}))}),_=function(t,e){return{selectUrlAction:function(){t(r(e.url))}}},w=Object(d.connect)(null,_)(function(t){var e=t.url,n=t.children,i=t.selectUrlAction;return g.a.createElement("div",{className:"video","data-id":e,onClick:i},n)}),S=n(11),E=n.n(S),x=function(t){var e=t.title,n=t.active,i=E()({"video-title":!0,"video-selected":n});return g.a.createElement("div",{className:i},e)},C=function(t,e){return{setGroup:function(n){t(o(e.group))}}},T=Object(d.connect)(null,C)(function(t){var e=t.setGroup,n=t.group;return g.a.createElement("div",{className:"playlist-title",onClick:e},n)}),k=Object(d.connect)(c)(function(t){var e=t.children,n=t.isOpenGroup,i=t.selectedGroup,r=t.group,o=E()({playlist:!0,closed:!(n&&r===i)});return g.a.createElement("div",{className:o},e)}),O=n(0),P=n.n(O),I=Object(d.connect)(u)(function(t){var e=t.playlists,n=t.selectedUrl;return g.a.createElement("div",{className:"education-sidebar"},g.a.createElement("div",{className:"videos-list"},P.a.map(e,function(t){return g.a.createElement(k,{key:t.name,group:t.name},g.a.createElement(T,{group:t.name}),g.a.createElement("div",{className:"playlist-videos"},P.a.map(t.playlist,function(t,e){return g.a.createElement(w,{url:t.url,key:e},g.a.createElement(x,{title:t.title,active:n===t.url}))})))})))}),A=function(t){return{loadEducation:function(){t(i())}}};e.default=Object(d.connect)(null,A)(b()({componentDidMount:function(){this.props.loadEducation()},render:function(){this.props.selectedUrl;return g.a.createElement("div",{className:"education-body"},g.a.createElement("div",{className:"education-content"},g.a.createElement(y,null),g.a.createElement(I,null)))}}))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(1689),o=n(1694);i.exports={NewAccountView:r,NewAccountModel:o}}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(0),s=n(80),a=n(30),l=n(422),c=n(86),u=n(7),d=n(23),h=n(2),p=n(3),f=n(75),m=n(740),g=n(9),v=n(122),b=n(114),y=n(690),_=n(6),w=n(880),S=w.getPhoneCodesByCountryCode,E=w.getCountriesPhoneCodes,x=o.template(n(1691)),C=o.template(n(1692)),T=o.template(n(127)),k=n(71),O="GB",P=void 0,I=void 0,A=n(741),M=A.EMPTY,N=A.LOADING,D=A.SUCCESS,L=(A.ERROR,n(199)),R=n(258).DEVICES,F=n(1),B=n(16),U=n(742).default,j=n(250),z={EMAIL:"auth-panel-email-field",PASSWORD:"auth-panel-password-field",CONFIRM_PASSWORD:"auth-panel-confirm-password-field",REFERRAL_CODE:"auth-panel-referral-code-field"},V=s.extend({events:function(){return o.extend({},o.result(s.prototype,"events"),{"click #auth-button-create-account":"createAccount","click .auth-login-link":"close","click .currency-change":"showChangeCurrency","click .password-eye":"showPasswordToggle","submit .new-account-form":"createAccount"})},getOptions:function(t){return o.extend({},s.prototype.getOptions.call(this,t),t)},initialize:function(t){s.prototype.initialize.call(this,t),this.listenTo(this.model,"change:statusOfCurrencies",this.onStatusOfCurrenciesChanged),this.listenTo(this.model,"change:statusOfRegistrationOptions",this.onStatusOfRegistrationOptionsChanged),this.listenTo(h,"ui:change-theme",this.renderCaptcha),this.render()},loadCurrenciesError:function(t){return Promise.reject(t)},onStatusOfCurrenciesChanged:function(){switch(this.model.get("statusOfCurrencies")){case M:case N:break;case D:this.renderCurrencies()}},onStatusOfRegistrationOptionsChanged:function(){this.model.get("statusOfRegistrationOptions")===D&&this.visibilityEsmaRegulationWarning()},visibilityEsmaRegulationWarning:function(){var t=this.model.isEsmaRegulatedCountry()?__("login_page.create_account.esma.warning_message"):__("login.risk_warning");g.isRegistrationCustomerSelectedCompanyEnabled()&&this.model.isCustomerSelectCompany()&&this.model.needShowCustomerSelectCompanyRiskWarning()&&(t=__("create_account.customer_selected_company.risk_warning.message")),this.$(".auth-box-info").html(t)},renderCurrencies:function(){this.$(".fn-currencies").html(C({currencies:this.model.getCurrencies()}))},getTemplateCfd:function(){return Promise.all([this.processLocation(),_.loadCountries()]).then(this.parsePhoneData.bind(this)).catch(function(t){return Promise.reject(t)})},processLocation:function(){return new Promise(function(t){return _.getLocation().then(function(e){return t(e&&e.data&&String(e.data.countryCode||"uk").toLowerCase())}).catch(function(){return t("uk")})})},parsePhoneData:function(t){var e=t[0],n=t[1].data,i=E(this.model.filterCountries(n)),r=o.find(i,function(t){return t.code===e}),s=r?r.value:function(){return e=O.toLowerCase(),S(O)}();return this.setContent(x({isAdvancedShortRegistration:g.isAdvancedShortRegistration(),phoneOptions:{countries:i,defaultPhoneValue:s,defaultCountry:e},isReferralCodeEnabled:g.isReferralCodeEnabled(),needShowPersonalDataUsage:g.needShowPersonalDataUsage(),isMarketsX:f.isMarketsX()}))},getTemplate:function(){return Promise.resolve(this.setContent(x({isReferralCodeEnabled:g.isReferralCodeEnabled(),needShowPersonalDataUsage:g.needShowPersonalDataUsage(),isMarketsX:f.isMarketsX(),theme:k.name})))},render:function(){s.prototype.render.call(this);var t=g.isAdvancedShortRegistration()?this.getTemplateCfd():this.getTemplate();t.then(this.initForm.bind(this)),t.then(this.renderCurrencies.bind(this)),this.renderCaptcha(),__eventos("onBoardFlow:leadForm:display",{lang:d.getLanguage()||"en"})},renderCaptcha:function(){var t=this;g.isCaptchaEnabled()&&j.getCookie("show_create_account_captcha")&&(this.disableCreateAccountButton(),this.clearFormFieldsOnFocusListener(),B.render(F.createElement(U,{key:o.uniqueId("create.account.captcha"),verifyCallback:this.verifyCaptcha.bind(this),expiredCallback:this.expiredCaptcha.bind(this)}),this.$el.find(".captcha-block")[0]),setTimeout(function(){return t.setUpFormFieldsOnFocusListener()},500))},verifyCaptcha:function(t){this.captchaResponse=t,this.cleanErrors(),this.enableCreateAccountButton()},expiredCaptcha:function(t){this.captchaResponse=t,this.disableCreateAccountButton()},disableCreateAccountButton:function(){this.$el.find("#auth-button-create-account").addClass("disabled").attr("disabled",!0)},enableCreateAccountButton:function(){this.$el.find("#auth-button-create-account").removeClass("disabled").removeAttr("disabled")},setUpFormFieldsOnFocusListener:function(){var t=this,e=[z.EMAIL,z.PASSWORD,z.CONFIRM_PASSWORD];g.isReferralCodeEnabled()&&e.push(z.REFERRAL_CODE),o.each(e,function(e){t.$("."+e+" > input")[0].onfocus=t.onFocus.bind(t)})},clearFormFieldsOnFocusListener:function(){var t=this,e=[z.EMAIL,z.PASSWORD,z.CONFIRM_PASSWORD];g.isReferralCodeEnabled()&&e.push(z.REFERRAL_CODE),o.each(e,function(e){t.$("."+e+" > input")[0].onfocus=null})},initForm:function(){this.setUpFormFieldsOnFocusListener(),g.isAdvancedShortRegistration()&&(P=new y({el:this.$(".auth-panel-phone-field"),form:this}),I=new b({el:this.$(".auth-panel-mail-checkbox"),form:this}),g.isMarketingProgramCheckboxMandatory()||I.check()),g.isSocialLoginEnabled()&&(this.extAuth=new m({el:this.$el.find(".auth-form")}))},onFocus:function(t){t.target.parentNode.classList.remove("field-error"),this.cleanErrors()},createAccount:function(t){t.preventDefault(),__eventos("onBoardFlow:leadForm:clientSubmit"),this.cleanErrors();var e=this.createValidator(),n=e.validate(this.getFormData());if(n)return void this.showErrors(n);var i={email:e.data(z.EMAIL),password:e.data(z.PASSWORD),referralCode:e.data(z.REFERRAL_CODE),phone:e.data("auth-panel-phone-field"),marketingProgram:this.getFormData()["auth-panel-mail-checkbox"],locale:__("lang"),appSource:R[L.device()],currency:(e.data("auth-panel-currency-field")||"USD").toUpperCase()};g.isRegistrationCustomerSelectedCompanyEnabled()&&this.model.isCustomerSelectCompany()&&(i.partnerCompanyId=this.model.getPartnerCompanyId()),o.isEmpty(this.captchaResponse)||(i.captcha=this.captchaResponse),this.disableCreateAccountButton(),this.makeNewAccountRequest(i).then(function(){g.isSocialLoginEnabled()&&v.closeOneTap(),h.trigger("login:success")}).catch(function(){})},showFixedLoadingView:function(){return this.fixedLoadingView=new a({parent:document.body,position:"fixed",translucent:"2"}),Promise.resolve()},hideFixedLoadingView:function(){return this.fixedLoadingView.destroy(),Promise.resolve()},showAbsoluteLoadingView:function(){return this.absoluteLoadingView=new a({parent:this.$el.find(".auth-box"),position:"absolute",translucent:"2"}),Promise.resolve()},hideAbsoluteLoadingView:function(){return this.absoluteLoadingView&&this.absoluteLoadingView.destroy(),Promise.resolve()},makeNewAccountRequest:function(t){return this.showAbsoluteLoadingView(),u.newAccount(t).then(this.onUserNewAccountSuccess.bind(this)).then(this.hideAbsoluteLoadingView.bind(this)).catch(this.onUserNewAccountError.bind(this))},onUserNewAccountSuccess:function(t){f.removeAffiliateTracking(),h.trigger("login:success")},onUserNewAccountError:function(t){this.hideAbsoluteLoadingView(),this.enableCreateAccountButton();var e=[__("generic.error.message")],n=t.response,i=JSON.parse(n.config.data),r={email:i.email,locale:i.locale};if(400===n.status)if(o.isArray(n.data)){var s=function(t,e){var n=__("validation.password."+e.key,e.params);return t.push(n===e.key?e.defaultValue:n),t};e=n.data.reduce(s,[])}else switch(r.errorCode=n.data.errorCode,n.data.errorCode){case 2026:e=[__("create.account.restricted")];break;case 2008:e=[__("create.account.exist")+'<br><a href="#forgetpassword" id="auth-forgot-password-link">'+__("create.account.exist.have_account")+"</a>"];break;default:e=[__("generic.error.message")]}return 429===n.status&&(e=[__("login.too_many_login_attempts")]),h.trigger("log:error",r),this.showPasswordValidationErrors(e),this.renderCaptcha(),Promise.reject(t)},getValidatorFilters:function(){return{"auth-panel-email-field":["string","trim"],"auth-panel-password-field":["string"],"auth-panel-confirm-password-field":["string"],"auth-panel-referral-code-field":["string"]}},getValidatorRules:function(){return{"auth-panel-email-field":{not_empty:__("registration.warning.field_is_required",__("account_settings.customer_info.form.email")),email:__("withdraw.form.error.email")},"auth-panel-password-field":{not_empty:__("registration.warning.field_is_required",__("new_account.input.password.placeholder")),alpha_numeric:g.isPasswordClientValidationEnabled()?__("account_settings.change_password.form.validate",g.getPasswordMinLength(),g.getPasswordMaxLength()):o.noop,password:g.isPasswordClientValidationEnabled()?__("account_settings.change_password.form.validate",g.getPasswordMinLength(),g.getPasswordMaxLength()):o.noop},"auth-panel-confirm-password-field":{not_empty:__("registration.warning.field_is_required",__("new_account.input.confirm_password.placeholder")),strict_equals:[this.$(".auth-panel-password-field input").val(),__("account_settings.change_password.form.validate.not_match")]}}},hasPromotionCode:function(){return this.$(".auth-panel-referral-code-field input").val()},getFormData:function(){var t={"auth-panel-email-field":this.$(".auth-panel-email-field input").val(),"auth-panel-password-field":this.$(".auth-panel-password-field input").val(),"auth-panel-confirm-password-field":this.$(".auth-panel-confirm-password-field input").val(),"auth-panel-currency-field":this.$(".radio_list input:checked").val(),"auth-panel-phone-field":P?P.phoneSelect()+P.phoneInput():"","auth-panel-mail-checkbox":I?I.value():""};return t[z.REFERRAL_CODE]=g.isReferralCodeEnabled()&&this.hasPromotionCode()?this.$(".auth-panel-referral-code-field input").val():"",t},createValidator:function(){var t=this.getValidatorRules();return g.isReferralCodeEnabled()&&this.hasPromotionCode()&&(t[z.REFERRAL_CODE]={min_length:[2,__("registration.warning.promo_code_length")],max_length:[20,__("registration.warning.promo_code_length")]}),g.isAdvancedShortRegistration()&&(t["auth-panel-phone-field"]={not_empty:l.notEmpty("phone"),numeric:l.numeric("phone"),validateLength:function(t){t=P?{phone:P.phoneSelect()+P.phoneInput(),phoneSelect:P.phoneSelect(),phoneInput:P.phoneInput()}:"";return t.phone.length>20?__("registration.phone.max",20):t.phoneInput.length<6?__("registration.phone.min",6):o.isEmpty(t.phoneSelect)?l.notEmpty("phone"):null}},g.isMarketingProgramCheckboxMandatory()&&(t["auth-panel-mail-checkbox"]={required:__("registration.warning.field_is_required",__("registration.field.label.allowMarketingEmails"))})),new c(this.getValidatorFilters(),t)},showErrors:function(t){var e=this;o.each(t,function(t,n,i){e.$("."+n).addClass("field-error")}),this.$(".error-block").html(T({errors:t})),this.$(".error-block").css("display","block")},cleanErrors:function(){var t=this,e=this.getFormData();o.each(e,function(e,n){t.$("."+n).removeClass("field-error")}),this.$(".error-block").css("display","none")},showPasswordValidationErrors:function(t){this.$(".error-block").html(T({errors:[t]})),this.$(".error-block").css("display","block")},hide:function(){s.prototype.hide.call(this),this.destroy()},destroy:function(){this.extAuth&&this.extAuth.destroy(),s.prototype.destroy.call(this)},showChangeCurrency:function(){this.$el.find(".currency-selected").css("display","none"),this.$el.find(".radio_list").css("display","block")},showPasswordToggle:function(t){var e=r(t.target),n=e.parent().find("input");if(e.hasClass("icon-eye-gray"))return e.removeClass("icon-eye-gray"),e.addClass("icon-eye-blue"),void n.attr("type","text");e.removeClass("icon-eye-blue"),e.addClass("icon-eye-gray"),n.attr("type","password")}});g.isRegistrationAutocompleteEnabled()&&(V.prototype.events=o.extend({},o.result(V.prototype,"events"),{"dblclick .auth-box":"__doubleClickOnInput"}),V.prototype.__doubleClickOnInput=function(){var t="test_"+p().format("DDMMMYY_HHmmss")+"@i.ua",e=g.isPasswordClientValidationEnabled()?"Test123":"Test123!";this.$("#new-account-input-email").val(t),this.$("#new-account-input-password").val(e),this.$("#new-account-input-confirm-password").val(e),g.isReferralCodeEnabled()&&this.$("#new-account-input-referral-code").val("QQQQ");this.$(".field-type-phone [name=phone]").val(function(){return o.sample("0123456789".split(""),7).join("")}()),this.$(".dk-select").forEach(function(t){var e=r(t).find(".dk-select-options li");o.sample(o.initial(e)).click()})}),i.exports=V}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports='<div class="external-auth"><div class="external-auth-content"><div class="or-line"><span><%=__(\'social.login.or.divider.text\')%></span></div><div class="ext-buttons"><div class="google-btn"><i class="icon-google"></i> <span>Google</span></div><div class="fb-btn"><i class="icon-fb"></i> <span>Facebook</span></div></div></div></div>'},function(t,e){t.exports='<div class="auth-box auth-box-create-account <%=(typeof isAdvancedShortRegistration !== \'undefined\' && isAdvancedShortRegistration ? \'create-account-advanced\' : \'\')%>"><form class="new-account-form"><div class="auth-panel"><div class="caption hidden-xs"><%=__(\'new_account.caption.web\')%></div><div class="caption-xs visible-xs"><span class="welcome"><%=__(\'new_account.caption.mobile\')%></span><span><%=__(\'new_account.create\')%></span></div><div class="auth-content"><div class="auth-form"><div class="form"><div class="auth-panel-email-field field input-field"><span class="icon-contact"></span> <input type="email" id="new-account-input-email" placeholder="<%=__(\'account_settings.customer_info.form.email\')%>" value=""></div><div class="auth-panel-password-field field input-field"><span class="icon-locked"></span> <input type="password" id="new-account-input-password" placeholder="<%=__(\'new_account.input.password.placeholder\')%>" value=""> <i class="password-eye icon-eye-gray"></i></div><div class="auth-panel-confirm-password-field field input-field"><span class="icon-locked"></span> <input type="password" id="new-account-input-confirm-password" placeholder="<%=__(\'new_account.input.confirm_password.placeholder\')%>" value=""> <i class="password-eye icon-eye-gray"></i></div> <% if (typeof isAdvancedShortRegistration !== \'undefined\' && isAdvancedShortRegistration) { %> <div class="field field-type-phone auth-panel-phone-field"><div class="form-complex-inline-input"><div class="styled-select"><select class="form-control" default-value="<%=phoneOptions.defaultPhoneValue%>"> <% _.each(phoneOptions.countries, function(option) { %> <option value="<%=option.value ? option.value : \'\'%>"> <%="+" + option.value%> </option> <% }); %> </select></div><div class="dk-select"> <% var countryCode = \'phoneOptions.defaultCountry\'%> <div class="dk-selected" tabindex="0"><span class="flag flag-<%=phoneOptions.defaultCountry ? phoneOptions.defaultCountry : \'unknown\' %>"></span> +<%=phoneOptions.defaultPhoneValue%> </div><ul class="dk-select-options" aria-expanded="false"> <% _.each(phoneOptions.countries, function(option) { %> <li class="dk-option" data-value="<%=option.value ? option.value : \'\'%>"><span class="flag flag-<%=option.code%>"></span> <span class="select-code"><%="+" + option.value%></span><span class="select-country"><%= option.name%></span></li> <%}); %> </ul></div><div class="input form-control"><input type="text" name="phone" placeholder="<%=__(\'registration.field.label.phone\')%>" default-value=""></div></div></div> <% } %> <% if (isReferralCodeEnabled) { %> <div class="auth-panel-referral-code-field field input-field"><input type="string" id="new-account-input-referral-code" placeholder="<%=__(\'new_account.input.referral_code.placeholder\')%>" minlength="2" maxlength="20" value=""></div> <% } %> <div class="auth-panel-currency-field fn-currencies"></div> <% if (needShowPersonalDataUsage) { %> <div class="auth-panel-personal-data-usage"> <%=__(\'login_page.create_account.personal_data_usage\')%> </div> <% } %> <% if (typeof isAdvancedShortRegistration !== \'undefined\' && isAdvancedShortRegistration) { %> <div class="field auth-panel-mail-checkbox"><div class="checkbox-row"><label for="allow_marketing_emails_"><input type="checkbox" value="" id="allow_marketing_emails_" name="allowMarketingEmails" default-value="" parse-string=""> <span class="checkbox_label_inline"><%=__(\'registration.field.label.allow_marketing_emails.v2\')%></span></label></div></div> <% } %> <div class="captcha-block"></div><button class="btn btn-primary" id="auth-button-create-account"> <%= isMarketsX ? __(\'markets_x.new_account.button.text\') : __(\'new_account.button.text\')%> </button><div class="auth-box-switch visible-xs"><span><%=__(\'new_account.have_account\')%></span><a href="#login" class="auth-login-link"><%=__(\'new_account.login_link\')%></a></div><div class="container-fluid error-block"><div class="row"><div class="col-sm-12 error-message"><i class="icon-warning"></i> <%=__(\'new_account.error_message\')%> </div></div></div></div></div><div class="secure-platform-panel"><div><span class="icon-column icon-trade-register"></span> <span class="secure-platform-text"><%=__(\'indigo.new.account.privacy.label\',\'</br>\')%></span></div><div><span class="icon-column icon-part-register"></span> <span class="secure-platform-text"><%=__(\'indigo.new.account.regulated.label\', \'</br>\')%></span></div><div><span class="icon-column icon-web-register"></span> <span class="secure-platform-text"><%=__(\'indigo.new.account.secure.label\', \'</br>\')%></span></div></div></div></div></form><div class="auth-box-footer"><div class="auth-box-switch hidden-xs"><span><%=__(\'new_account.have_account\')%></span><a href="#login" class="auth-login-link"><%=__(\'new_account.login_link\')%></a></div><div class="auth-box-info"> <%=__(\'login.risk_warning\')%> </div></div></div>'},function(t,e){t.exports='<label><%=__(\'new_account.label.account_currency\')%></label><span class="currency-selected"><%=currencies[0]%> <a class="currency-change"> <%=__(\'actions.change\')%> </a></span><div class="radio_list"> <% _.each(currencies, function (currency, i){ %> <span><input type="radio" name="registration[currency]" id="registration_currency_<%=currency%>" value="<%=currency%>" <%= i=== 0 ? \'checked\' : \'\'%> ><label for="registration_currency_<%=currency%>"><%=currency%></label></span> <% })%> </div>'},function(t,e,n){!function(e,i){t.exports=i(n(1))}(0,function(t){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(6),c=i(l),u=n(4),d=i(u),h={className:d.default.string,onloadCallbackName:d.default.string,elementID:d.default.string,onloadCallback:d.default.func,verifyCallback:d.default.func,expiredCallback:d.default.func,render:d.default.oneOf(["onload","explicit"]),sitekey:d.default.string,theme:d.default.oneOf(["light","dark"]),type:d.default.string,verifyCallbackName:d.default.string,expiredCallbackName:d.default.string,size:d.default.oneOf(["invisible","compact","normal"]),tabindex:d.default.string,hl:d.default.string,badge:d.default.oneOf(["bottomright","bottomleft","inline"])},p={elementID:"g-recaptcha",className:"g-recaptcha",onloadCallback:void 0,onloadCallbackName:"onloadCallback",verifyCallback:void 0,verifyCallbackName:"verifyCallback",expiredCallback:void 0,expiredCallbackName:"expiredCallback",render:"onload",theme:"light",type:"image",size:"normal",tabindex:"0",hl:"en",badge:"bottomright"},f=function(){return"undefined"!=typeof window&&void 0!==window.grecaptcha&&"function"==typeof window.grecaptcha.render},m=void 0,g=function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n._renderGrecaptcha=n._renderGrecaptcha.bind(n),n.reset=n.reset.bind(n),n.state={ready:f(),widget:null},n.state.ready||"undefined"==typeof window||(m=setInterval(n._updateReadyState.bind(n),1e3)),n}return s(e,t),a(e,[{key:"componentDidMount",value:function(){this.state.ready&&this._renderGrecaptcha()}},{key:"componentDidUpdate",value:function(t,e){var n=this.props,i=n.render,r=n.onloadCallback;"explicit"===i&&r&&this.state.ready&&!e.ready&&this._renderGrecaptcha()}},{key:"componentWillUnmount",value:function(){clearInterval(m)}},{key:"reset",value:function(){var t=this.state,e=t.ready,n=t.widget;e&&null!==n&&grecaptcha.reset(n)}},{key:"execute",value:function(){var t=this.state,e=t.ready,n=t.widget;e&&null!==n&&grecaptcha.execute(n)}},{key:"_updateReadyState",value:function(){f()&&(this.setState({ready:!0}),clearInterval(m))}},{key:"_renderGrecaptcha",value:function(){this.state.widget=grecaptcha.render(this.props.elementID,{sitekey:this.props.sitekey,callback:this.props.verifyCallback?this.props.verifyCallback:void 0,theme:this.props.theme,type:this.props.type,size:this.props.size,tabindex:this.props.tabindex,hl:this.props.hl,badge:this.props.badge,"expired-callback":this.props.expiredCallback?this.props.expiredCallback:void 0}),this.props.onloadCallback&&this.props.onloadCallback()}},{key:"render",value:function(){return"explicit"===this.props.render&&this.props.onloadCallback?c.default.createElement("div",{id:this.props.elementID,"data-onloadcallbackname":this.props.onloadCallbackName,"data-verifycallbackname":this.props.verifyCallbackName}):c.default.createElement("div",{id:this.props.elementID,className:this.props.className,"data-sitekey":this.props.sitekey,"data-theme":this.props.theme,"data-type":this.props.type,"data-size":this.props.size,"data-badge":this.props.badge,"data-tabindex":this.props.tabindex})}}]),e}(l.Component);e.default=g,g.propTypes=h,g.defaultProps=p,t.exports=e.default},function(t,e){"use strict";function n(t){return function(){return t}}var i=function(){};i.thatReturns=n,i.thatReturnsFalse=n(!1),i.thatReturnsTrue=n(!0),i.thatReturnsNull=n(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i,o,s,a,l){if(r(e),!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,o,s,a,l],d=0;c=new Error(e.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var r=function(t){};t.exports=i},function(t,e,n){"use strict";var i=n(1),r=n(2),o=n(5);t.exports=function(){function t(t,e,n,i,s,a){a!==o&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e};return n.checkPropTypes=i,n.PropTypes=n,n}},function(t,e,n){t.exports=n(3)()},function(t,e){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,n){e.exports=t}])})},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(13),o=n(6),s=n(9),a=n(0),l=n(741),c=l.EMPTY,u=l.SUCCESS,d=l.ERROR;i.exports=r.extend({defaults:function(){return{statusOfCurrencies:c,statusOfCountries:c,statusOfRegistrationOptions:c,currencies:[],countries:[],defaultCurrencies:["USD"],esmaRegulatedCountry:!1}},initialize:function(){this.loadCurrencies(),this.loadRegistrationOptions()},loadCurrencies:function(){var t=this,e=this.control("statusOfCurrencies");o.getCurrencies().then(function(n){return e(u,{currencies:t.filterCurrencies(n.data)})}).catch(function(t){return e(d)})},filterCurrencies:function(t){return a.isArray(t)?t:this.get("defaultCurrencies")},getCurrencies:function(){var t=this.get("currencies");return a.isEmpty(t)?this.get("defaultCurrencies"):t},filterCountries:function(t){var e=a.filter(t,function(t){return"00"!==t.code});return a.filter(e,"allowed")},loadCountries:function(){var t=this,e=this.control("statusOfCountries");o.loadCountries().then(function(n){return e(u,{countries:t.filterCountries(n.data)})}).catch(function(t){return e(d)})},getCountries:function(){return this.get("countries")},isEsmaRegulatedCountry:function(){return this.get("esmaRegulatedCountry")},loadRegistrationOptions:function(){var t=this.control("statusOfRegistrationOptions");o.getRegistrationOptions().then(function(e){return t(u,{esmaRegulatedCountry:e.data.esmaRegulatedCountry})}).catch(function(e){return t(d)})},isCustomerSelectCompany:function(){return!a.isEmpty(this.getPartnerCompanyId())},getPartnerCompanyId:function(){return this.get("company")},needShowCustomerSelectCompanyRiskWarning:function(){return!!this.isCustomerSelectCompany()&&a.contains(s.showCustomRiskWarningForCustomerSelectedCompany(),this.getPartnerCompanyId())}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o;void 0!==(o=function(t,e,i){function o(t,e,i){return new(n(55))({parent:document.body,caption:t,text:e,onOK:i,actions:{onClose:i}})}var s=n(0),a=n(2),l=n(15),c=n(6),u=n(24),d=n(30),h=n(1696),p=n(211),f=n(210),m=n(1699),g=n(10),v=g.REJECTED,b=g.PENDING,y=g.FORBIDDEN,_=s.template(n(1700)),w=s.template(n(1701)),S={},E=[],x=["transactions","portfolio_size","professional"],C=n(743),T=C.STEP_IN_PROGRESS,k=C.STEP_PENDING;i.exports=u.extend({events:function(){return s.extend({},s.result(u.prototype,"events"),{"click .fn-next":"onNext","click .fn-back":"onBack","click .fn-finish":"onProfessionalTraderFinish","click .fn-close":"closePopup"})},name:"account-classification",className:"account-classification-popup x-popup responsive-popup x-popup-stretch-xs x-popup-no-padding-xs",stepsViews:[],currentStepView:null,initialize:function(t){s.extend(t||{},{isHeaderShowed:!0,caption:"<div class='hidden-sm hidden-md hidden-lg'>"+__("account_classification.type.elective_professional")+"</div><div class='hidden-xs'>"+__("elective_professional.desc.page.title").toUpperCase()+"</div>",previousCaption:__("actions.close"),style:"height: 100%;",maxBoxWidth:""}),u.prototype.initialize.apply(this,arguments),Promise.all([this.getProfTraderFlow(),c.getProfessionalAccAnswers(),this.getCacheObj()]).then(this.parseProfessionalAccountFlow.bind(this)).then(function(t){a.trigger("professional-trader:load:after"),s.extend(t.steps[0],{status:T});var e=s.chain(t.steps).forEach(function(t){return s.defaults(t,{status:k})}).map(function(t){return new p(t)}).value();this.stepsCollection=new m,this.stepsCollection.setData(e)}.bind(this)).then(this.onDataLoaded.bind(this)).catch(this.handleError.bind(this))},onDataLoaded:function(){this.render(),this.setContent(_()),this.stepsViews=this.stepsCollection.map(function(t){return new f({$parent:this.$el.find(".content"),model:t})},this);for(var t=0;t<this.stepsCollection.length;t++){var e=this.stepsCollection.models[t],n=e.attributes?e.attributes.title:"";s.includes(x,n)&&(this.stepsViews[t].isActive=!1)}this.showControlButtons(),this.currentStepView=this.stepsViews[this.stepsCollection.getCurrentStepId()],this.currentStepView.show(),a.trigger("professional-trader:start")},getProfTraderFlow:function(){return c.getProfessionalAccountFlow()},getCacheObj:function(){return S},isSelectBoxComponent:function(t,e){return s(e).map("shortName").some(function(e){return e===t})},answersMapFunction:function(t,e){var n=this;return s(t.answers).map(function(i){return"other"!==i.answerKey.toLowerCase()||n.isSelectBoxComponent(t.questionKey,e)?i.answerKey:i.otherAnswer})},addOtherComponentMetaData:function(t,e,n){var i=t.shortName+"_other",r={shortName:i,questions:[{shortName:"other"}]},o=s.where(e,{shortName:t.group})[0].questions,a=o.indexOf(t);if(o.splice(a,0,r),!s.isEmpty(n)){var l=s(n).where({questionKey:t.shortName})[0].answers,c=s(l).where({answerKey:"other"});n.push({questionKey:i,answers:c})}},prepareDataForUI:function(t,e){var n=this,i=s.chain(t).map("questions").flatten().groupBy("questionType").value().LIST;return i.forEach(function(i){return n.addOtherComponentMetaData(i,t,e)}),s.object(s(e).map("questionKey"),s(e).map(function(t){return n.answersMapFunction(t,i)}))},isAllowedToShow:function(t,e){return"ELECTIVE_PROFESSIONAL"!==e.toUpperCase()&&(!(!s.isEmpty(t)&&t!==v)||t===b)},parseProfessionalAccountFlow:function(t){var e=t[0].data;E=s.chain(e).map("questions").flatten().map("possibleAnswers").flatten().map("shortName").uniq().value();var n=t[1],i=n.data.questionnaireAnswers;s.each(n,function(t,e){"UNKNOWN"===t&&(n[e]="")});var r=n.data.approvalStatus,o=n.data.clientClassification;if(!this.isAllowedToShow(r,o))return Promise.reject({code:y});var a=r===v?{}:this.prepareDataForUI(e,i);return{steps:h.ProfessionalTraderConfig({savedData:a}).getFormElements(e)}},close:function(){this.stopListening(),s.each(this.stepsViews,function(t){t.remove()}),u.prototype.close.call(this)},showControlButtons:function(){this.stepsCollection.isFirstStep()?(this.$el.find(".prev-button-text").forEach(function(t){return t.textContent=__("questionnaire.close.btn")}),this.$el.find(".next-button-text").forEach(function(t){return t.textContent=__("account_classification.apply_now.btn")})):(this.$el.find(".next-button-text").forEach(function(t){return t.textContent=__("actions.next")}),this.$el.find(".prev-button-text").forEach(function(t){return t.textContent=__("actions.previous")})),this.$el.find(".allow-next").css("display",this.stepsCollection.isLastStep()?"none":"block"),this.$el.find(".allow-back").css("display",this.stepsCollection.isFirstStep()&&l.mobile()?"none":"block");s.where(this.stepsViews[this.stepsCollection.getCurrentStepId()].model.attributes.form[0],{shortName:"warning_confirmation"});this.$el.find(".allow-finish").css("display",this.stepsCollection.isLastStep()?"block":"none")},changeStep:function(t){this.currentStepView.remove(),this.stepsCollection.moveStep(t),this.currentStepView=this.stepsViews[this.stepsCollection.getCurrentStepId()],this.currentStepView.isActive?this.currentStepView.show():this.changeStep(t),this.showControlButtons(),l.mobile()&&this.$el.find(".registration").scrollTo({duration:1e3,complete:s.noop,top:0})},onNext:function(){if(!1===this.currentStepView.validate()){this.submitSteps();var t=this.currentStepView.model.getSavedData().criteria_selection;if(s.isArray(t)&&!s.isEmpty(t)){for(var e={},n=0;n<this.stepsCollection.length;n++){var i=this.stepsCollection.models[n],o=i.attributes?i.attributes.title:"";s.includes(x,o)&&(this.stepsViews[n].isActive=!1,s.assign(e,r({},o,this.stepsViews[n])))}t.forEach(function(t){switch(t){case"client_work_experience":e.professional&&(e.professional.isActive=!0);break;case"transactions_significant_size":e.transactions&&(e.transactions.isActive=!0);break;case"client_portfolio_size":e.portfolio_size&&(e.portfolio_size.isActive=!0)}})}this.changeStep(1)}else if(l.mobile()){var a=this.currentStepView.getErrorFields()[0];if(!a)return;this.$el.find(".registration").scrollTo({duration:1e3,complete:s.noop,element:a.$el})}},onProfessionalTraderFinish:function(){if(!1!==this.currentStepView.validate())return void this.scrollToFirstNotValidField();this.submitSteps(),this.setContent(w())},scrollToFirstNotValidField:function(){var t=this.currentStepView.getErrorFields()[0];t&&this.$el.find(".content").scrollTo({duration:1e3,complete:s.noop,element:t.$el})},onBack:function(){this.stepsCollection.isFirstStep()?this.close():(this.currentStepView.saveData(),this.changeStep(-1))},transformAnswer:function(t,e){function n(t){var e=!s.contains(E,t);return{answerKey:e?"other":t,otherAnswer:e?t:""}}return{questionKey:e,answers:s.isArray(t)?s.map(t,n):new Array(n(t))}},adoptOtherMetadata:function(t){for(var e=function(){return s.invert(t).other};e()&&t[e()+"_other"];){var n=e();t[n]=t[n+"_other"],t=s(t).omit(n+"_other")}return t},prepareDataToTransfer:function(t){var e=this,n=this.currentStepView.model.attributes.groupName,i=t[this.stepsCollection.getCurrentStepId()];return i=this.adoptOtherMetadata(i),i=s(i).map(function(t,n){return e.transformAnswer(t,n)}),{groupName:n,questionnaireAnswers:i}},submit:function(t){var e=this.prepareDataToTransfer(t);s.flatten(s.map(e.questionnaireAnswers,function(t){return t.answers})).length>0&&(this.showLoadingPopup(),c.requestEpaQuestionnaireAnswers(e).then(function(t){return this.hideLoadingPopup(),t&&t.data&&t.data.error?Promise.reject(t.data.error):t}.bind(this)).catch(function(e){this.hideLoadingPopup(),s.assign(S,t),this.handleError(e)}.bind(this)))},submitSteps:function(){return this.currentStepView.saveData(),this.submit(s.chain(this.stepsViews).map(function(t){return t.model.getSavedData()}).value())},showLoadingPopup:function(){this.fixedLoadingView||(this.fixedLoadingView=new d({parent:this.$el,position:"fixed",translucent:"2"}))},hideLoadingPopup:function(){this.fixedLoadingView&&(this.fixedLoadingView.destroy(),this.fixedLoadingView=null)},handleError:function(t){s.has(t,"code")&&t.code===y||new o(__("state.machine.confirmation.error.title"),__("generic.error.message"),this.close.bind(this))},closePopup:function(){u.prototype.closePopup.call(this),a.trigger("professional-trader:abort");var t=this.options,e=t&&t.onAbort;s.isFunction(e)&&e()}})}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0))},function(t,e,n){(function(i){function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o;void 0!==(o=function(t,e,i){function o(t,e){if(this.value(this.value().trim()),this.isEmpty()){var n=this.getDependentFieldByName(t);if(a.isEmpty(n))return this.$el.addClass("field-error"),void this.showTooltip();this.disable(),n.setDefaultValue(),n.enable(),"none"===n.$el.css("display")&&n.$el.css("display","block")}}function s(t){function e(e){var n=e.shortName;if(!i[n])return{name:n};var o=t.savedData[n]?{savedData:t.savedData[n]}:{},s=[];a.map(e.possibleAnswers,function(t){return s.push(new Object(t.shortName))}),e.name=n;var l=a.extend({},e,o,i[n],r({},"options",s));return l.template!==c.selectBox&&l.template!==c.selectBoxOverflowWidth||a.contains(l.options,h)||(l.options.unshift(h),a.isEmpty(o.savedData)&&(l.savedData=h)),l}function n(t){return t.unshift({shortName:"custom",questions:[{shortName:"custom_html_element"}]}),a.map(t,function(t){return{groupName:t.shortName,title:t.shortName,status:t.status,top:[],form:[a.map(t.questions,e)],bottom:[]}})}var i={custom_html_element:{template:d,benefitsSectionEnabled:!l.isAccountClassificationBenefitsSectionHidden(),confidentialSectionEnabled:!l.isAccountClassificationConfidentialSectionHidden(),disable:!1},criteria_selection:{title:__("elective_professional.criteria_selection"),translationKey:"criteria_selection",translationGroupPrefix:"elective_professional.criteria_selection",template:c.multiCheckBox,validation:u.multiCheckBoxRequired(2,"criteria_selection"),disable:!1},trade_volume:{title:__("elective_professional.trade_volume"),translationKey:"trade_volume",translationGroupPrefix:"elective_professional.trade_volume",template:c.radioWithDescription,validation:u.radioNotEmpty("trade_volume"),disable:!1,column:!0,description:__("elective_professional.trade_volume.description")},portfolio:{title:__("elective_professional.portfolio"),translationKey:"portfolio",translationGroupPrefix:"elective_professional.portfolio",template:c.radioWithDescription,validation:u.radioNotEmpty("portfolio"),disable:!1,column:!0,description:__("elective_professional.portfolio.description")},employer_sector:{title:__("elective_professional.employer_sector"),translationKey:"employer_sector",translationGroupPrefix:"elective_professional.employer_sector",template:c.selectBox,validation:u.selectNotEmpty("employer_sector"),disable:!1},employer_sector_other:{title:__("elective_professional.employer_sector"),translationKey:"employer_sector_other",template:c.inputBox,validation:u.inputNotEqual(__("prof.trader.field.label.employer_sector_other")),options:{defaultValue:__("registration.field.label.study_field_other")},dependent:[{name:"employer_sector",handler:p.inputOther}],events:{onblur:a.partial(o,"employer_sector")},placeholder:__("registration.field.value.provide"),disable:!0},employer_name:{title:__("elective_professional.employer_name"),translationKey:"employer_name",template:c.inputBox,validation:u.notEmpty("employer_name"),disable:!1},employer_regulated:{title:__("elective_professional.employer_regulated"),translationKey:"employer_regulated",translationGroupPrefix:"elective_professional.employer_regulated",template:c.radioWithDescription,validation:u.radioNotEmpty("employer_regulated"),disable:!1,column:!1},role:{title:__("elective_professional.role"),translationKey:"role",translationGroupPrefix:"elective_professional.role",template:c.selectBox,validation:u.selectNotEmpty("role"),disable:!1},role_other:{title:__("elective_professional.role"),translationKey:"role_other",template:c.inputBox,validation:u.inputNotEqual(__("registration.field.label.study_field_other")),options:{defaultValue:__("registration.field.label.study_field_other")},dependent:[{name:"role",handler:p.inputOther}],events:{onblur:a.partial(o,"role")},placeholder:__("registration.field.value.provide"),disable:!0},comment:{title:__("elective_professional.comment"),translationKey:"comment",translationGroupPrefix:"elective_professional.comment",template:c.textArea,validation:u.notEmpty("comment"),settings:{rows:3,columns:30},disable:!1},warning_confirmation:{title:"",translationKey:"warning_confirmation",translationGroupPrefix:"elective_professional.warning_confirmation",template:c.multiCheckBox,validation:u.singleCheckBoxRequired("warning_confirmation"),disable:!1},experience_title:{title:__("elective_professional.experience_title"),translationKey:"experience_title",template:c.textLabel,disable:!1,description:__("elective_professional.experience_title.description")},confidential_info:{title:__("elective_professional.confidential_info"),translationKey:"confidential_info",template:c.textLabel,disable:!1},change_protection_consequences:{title:__("elective_professional.change_protection_consequences"),translationKey:"change_protection_consequences",template:c.textLabel,disable:!1,description:__("elective_professional.change_protection_consequences.description")},lose_protections:{title:__("elective_professional.lose_protections"),translationKey:"lose_protections",template:c.textLabel,disable:!1,description:__("elective_professional.lose_protections.description")},trade_volume_note:{title:__("elective_professional.trade_volume.note"),translationKey:"trade_volume_note",template:c.textLabel,disable:!1}};return{getFormElements:n}}var a=n(0),l=(n(5),n(15),n(9)),c=n(79),u=n(1697),d=a.template(n(1698)),h="EMPTY",p={inputOther:function(t){if("OTHER"===t.value().toUpperCase())return t.disable(),this.enable(),void this.focus();t.enable(),this.disable()}};i.exports.ProfessionalTraderConfig=s}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,r){var o=n(13),s="professional.trader.field.label.",a="questionnaire.validation.not_empty_field",l=o.extend({selectNotEmpty:function(t){return{rules:{not_equals:["EMPTY",__(t?"registration.warning.field_is_required":a,__(s+t))]},filters:[]}},multiSelectNotEmpty:function(t){return{rules:{not_equals_array:[["EMPTY"],__(t?"registration.warning.field_is_required":a,__(s+t))]},filters:[]}},multiCheckBoxNotEmpty:function(t){return{rules:{not_empty:__(a,__(t?s+t:a))},filters:[]}},radioNotEmpty:function(t){return{rules:{not_empty:__(a,__(t?s+t:a))},filters:[]}},inputNotEqual:function(t){return{rules:{not_equals:[t,__("indigo.account_settings.change_password.form.validate.not_empty")]},filters:[]}},notEmpty:function(t){return{rules:{not_equals:["",__(t?"registration.warning.field_is_required":a,__(s+t))]},filters:[]}},multiCheckBoxRequired:function(t,e){return{rules:{custom_required:function(n,r){var o=n[e];return i.isArray(o)?o.length<t?__("questionnaire.validation.multiple_answers_count"):"":o?void 0:__("questionnaire.validation.multiple_answers_count")}},filters:[]}},singleCheckBoxRequired:function(t){return{rules:{custom_required:function(e,n){if(!e[t])return __("questionnaire.validation.not_empty_field")}},filters:[]}}});r.exports=new l}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<div><p> <%=__(\'elective_professional.desc.page.desc\')%> </p> <% if(benefitsSectionEnabled) { %> <p><strong><%=__(\'elective_professional.desc.benefits.title\')%></strong></p><div class="grid-12_sm-1"><div class="col-6_sm-12 grid-spaceAround icon-box"><div class="col-2_sm-2"><i class="icon-trade-review"></i></div><div class="col-10_sm-10 icon-text"><span><%=__(\'elective_professional.desc.trade_review.title\')%></span></div></div><div class="col-6_sm-12 grid-spaceAround icon-box"><div class="col-2_sm-2"><i class="icon-video-lectures"></i></div><div class="col-10_sm-10 icon-text"><span><%=__(\'elective_professional.desc.video_lectures.title\')%></span></div></div><div class="col-6_sm-12 grid-spaceAround icon-box"><div class="col-2_sm-2"><i class="icon-epa-support"></i></div><div class="col-10_sm-10 icon-text"><span><%=__(\'elective_professional.desc.support.title\')%></span></div></div><div class="col-6_sm-12 grid-spaceAround icon-box"><div class="col-2_sm-2"><i class="icon-epa-business-report"></i></div><div class="col-10_sm-10 icon-text"><span><%=__(\'elective_professional.desc.business_report.title\')%></span></div></div></div> <% } %> <p> <%=__(\'elective_professional.desc.notes\')%> </p> <% if(confidentialSectionEnabled) { %> <p><strong> <%=__(\'elective_professional.desc.privacy_policy.title\')%> </strong></p> <% } %> </div>'},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(45),s=n(743),a=s.STEP_DONE,l=s.STEP_IN_PROGRESS,c=s.STEP_PENDING;i.exports=o.extend({_currentStepId:-1,setData:function(t){r.each(t,function(t){this.add(t)},this),this._currentStepId=r.findIndex(t,function(t){return t.get("status")===l})},getCurrentStepId:function(){return this._currentStepId},moveStep:function(t){var e=this.getNewStatus(t);if(e){this.updateStepStatus(this._currentStepId,e);var n=this._currentStepId+t;n<0&&(n=0),n>=this.numberOfSteps()&&(n=this.numberOfSteps()-1),this._currentStepId=n;t<0&&this.at(this._currentStepId).get("status")!==a&&this.moveStep(-1),this.updateStepStatus(this._currentStepId,l),this.trigger("steps:change",n)}},updateStepStatus:function(t,e){this.at(t).set("status",e)},numberOfSteps:function(){return this.length},isLastStep:function(){return this._currentStepId+1===this.numberOfSteps()},isFirstStep:function(){return 0===this._currentStepId},getNewStatus:function(t){return t<0?this.isFirstStep()?null:c:t>0?this.isLastStep()?null:a:void 0},setNewStatus:function(t,e){e=e||this._currentStepId,this.at(e).set("status",t)},getCurrentStep:function(){return this.at(this._currentStepId)},getProgressBarWidth:function(){return this.isFirstStep()?15:this.isLastStep()?100:(15+this.getCurrentStepId()*(100/this.length))%100}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<div class="prof-trader-container"><div class="registration"><div class="content"></div><div class="separator hidden-xs"><span></span></div><div class="footer hidden-xs"><a url="#" class="back allow-back fn-back prev-button-text" style="display:none"><%=__(\'actions.previous\')%></a><div class="right allow-next"><button class="btn btn-primary fn-next next-button-text"><%=__(\'actions.next\')%></button></div><div class="right allow-finish" style="display:none"><button class="btn btn-primary fn-finish"><%=__(\'credit_card.popup.submit\')%></button></div></div><div class="footer hidden-sm hidden-md hidden-lg"><div class="allow-next"><div class="form-actions"><button class="btn btn-link back allow-back fn-back col prev-button-text" style="display:none">&larr; <%=__(\'actions.previous\')%></button> <button class="btn btn-primary fn-next col next-button-text"><%=__(\'registration.button.next\')%> &rarr;</button></div></div><div class="allow-finish" style="display:none"><div class="form-actions"><button class="btn btn-link back allow-back fn-back col prev-button-text" style="display:none">&larr; <%=__(\'actions.previous\')%></button> <button class="btn btn-primary fn-finish col"><%=__(\'credit_card.popup.submit\')%></button></div></div></div></div></div>'},function(t,e){t.exports='<div class="prof-trader-container"><div class="registration"><div class="content"><div class="form congrats"><div><i class="icon-congrats-review"></i></div><div class="title"><span><%=__(\'elective_professional.last_page.title\')%></span></div><div class="description"><span><%=__(\'elective_professional.last_page.desc\')%></span></div></div></div><div class="separator hidden-xs"><span></span></div><div class="footer congrats-footer hidden-xs"><div class="right allow-finish"><button class="btn btn-primary fn-close"><%=__(\'actions.close\')%></button></div></div><div class="footer congrats-footer hidden-sm hidden-md hidden-lg"><div class="allow-finish"><div class="form-actions"><button class="btn btn-primary fn-close col"><%=__(\'actions.close\')%></button></div></div></div></div></div>'},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=n(832),o=n(833);i.exports={InsightsView:r,InsightsModel:o}}.call(e,n,e,t))&&(t.exports=i)},function(t,e){t.exports='<div class="block-no-data"><%=__(\'insights.no_data\', instrument)%></div><div class="block-1"></div><div class="block-2"></div><div class="block-3"></div><div class="block-4"></div><div class="block-5"></div><div class="block-6"></div>'},function(t,e){t.exports='<div class="grid-equalHeight insights__daily"><div class="col-12"><div class="insights__title"><%=__(\'tab.tipranks\')%></div></div><div class="col-4 insights__column-name"><div class="grid-equalHeight"><div class="col-2"></div><div class="col-10"><%=__(\'tipranks.text.recommendation\')%></div></div></div><div class="col-4 insights__column-name"><%=__(\'tipranks.text.analyst_consensus\')%></div><div class="col-4 insights__column-name"><%=__(\'tipranks.text.avg_target_price\')%></div><div class="col-12"><div class="grid-12-equalHeight"><div class="grid-12-equalHeight insights__daily-item"><div class="col-12 insights__info"><div class="grid-equalHeight"><div class="col-3"><div class="grid-equalHeight"><div class="col-2 flex flex-align-center"><div class="expander expander__close"></div></div><div class="col-10"><div> <% if (stock.isBuy) { %> <button class="btn btn-buy fn-buy btn--fluid"><%=__(\'tipranks.text.\' + stock.consensus_lowercase)%></button> <% } else if (stock.isSell) { %> <button class="btn btn-sell fn-sell btn--fluid"><%=__(\'tipranks.text.\' + stock.consensus_lowercase)%></button> <% } else { %> <button class="btn btn-default btn--fluid"><%=__(\'tipranks.text.\' + stock.consensus_lowercase)%></button> <% } %> </div></div></div></div><div class="col-4"><div class="grid"><div class="col-12"><div class="bar bar--line"><div class="bar__item bar__item_positive" style="width: <%=stock.total_analysts_buy_percent%>%"></div><div class="bar__item bar__item_negative" style="width: <%=stock.total_analysts_sell_percent%>%"></div><div class="bar__item bar__item_default" style="width: <%=stock.total_analysts_hold_percent%>%"></div></div></div><div class="col-12"><div class="flex flex-row flex-wrap"><div class="bar bar--rect"><div class="bar--rect bar__item bar__item_positive"></div><div class="bar__label"><%=__(\'tipranks.text.buy\')%> <%=stock.total_analysts_buy_percent%>% (<%=stock.total_analysts_buy%>)</div></div><div class="bar bar--rect"><div class="bar__item bar__item_negative"></div><div class="bar__label"><%=__(\'tipranks.text.sell\')%> <%=stock.total_analysts_sell_percent%>% (<%=stock.total_analysts_sell%>)</div></div><div class="bar bar--rect"><div class="bar__item bar__item_default"></div><div class="bar__label"><%=__(\'tipranks.text.hold\')%> <%=stock.total_analysts_hold_percent%>% (<%=stock.total_analysts_hold%>)</div></div></div></div></div></div><div class="col-5"><div class="grid"><div class="col-3"><div class="grid-column"><div class="col"><b>$<%=stock.avg_target_price%></b></div><div class="col"><div class="rate-box"><div class="percent <%=stock.avg_upside < 0 ? \'down\' : \'up\'%>"><%=stock.avg_upside%>% <i class="arrow"></i></div></div></div></div></div><div class="col-9"><div class="graph-block"><div class="content"> <%=priceTargetGraph%> </div></div></div></div></div><div class="col-3"></div><div class="col-4"><div> <%=__(\'tipranks.text.consensus_description\', stock.total_analysts_recommendations, stock.name, stock.consensus)%> </div></div><div class="col-5"><div> <%=__(\'tipranks.text.price_target_description\', stock.total_analysts_recommendations, stock.name, currency + stock.avg_target_price, currency + stock.high_target_price, currency + stock.low_target_price)%> </div></div></div></div><div class="col-4-bottom insights__list-column-name hidden"><%=__(\'tipranks.text.analyst\')%></div><div class="col-2-bottom insights__list-column-name hidden"><%=__(\'actions.change\')%></div><div class="col-2-bottom insights__list-column-name hidden"><%=__(\'tipranks.text.recommendation\')%></div><div class="col-2-bottom insights__list-column-name hidden"><%=__(\'tipranks.text.target_price\')%></div><div class="col-2-bottom insights__list-column-name hidden"><%=__(\'tipranks.text.upside\')%> / <%=__(\'tipranks.text.downside\')%></div><div class="col-12"><div class="grid-12-equalHeight insights__list hidden"> <%_.each(recommendations, function(item) { %> <div class="col-12 grid-equalHeight-middle insights__list-item"><div class="col-4"><div class="flex flex"><div><img class="list-item__icon" src="https://az712682.vo.msecnd.net/expert-pictures/<%= analysts[item.analyst_id].image %>" alt=""></div><div class="grid-column"><div class="col"><b><%=analysts[item.analyst_id].name%></b></div><div class="col"><%=analysts[item.analyst_id].firm%></div><div class="col"><div><div class="rating"><div class="rating__fill" style="width: <%=(analysts[item.analyst_id].rating / 5 * 100)%>%"></div></div></div></div></div></div></div><div class="col-2"><div class="grid-12-equalHeight"><div class="col-12"><b> <%=__(\'tipranks.text.\' + item.action) %> </b></div><div class="col-12"><%=formatRecommendationDate(item.date)%></div></div></div><div class="col-2"><div> <% if (item.recommendation == \'Buy\') { %> <button class="btn btn-success fn-buy"><%=__(\'actions.buy\')%></button> <% } else if (item.recommendation == \'Sell\') { %> <button class="btn btn-danger fn-sell"><%=__(\'actions.sell\')%></button> <% } else { %> <button class="btn btn-default"><%=__(\'tipranks.text.hold\')%></button> <% } %> </div></div><div class="col-2"><b><%=item.analyst_target_price ? \'$\' + item.analyst_target_price : \'NA\'%></b></div><div class="col-2"><div class="rate-box"> <% if (item.analyst_upside) { %> <div class="percent <%=item.analyst_upside < 0 ? \'down\' : \'up\'%>"><%=item.analyst_upside%>% <i class="arrow"></i></div> <% } else { %> <div class="percent">NA</div> <% } %> </div></div></div> <% }) %> </div></div></div></div></div></div>'},function(t,e){t.exports='<div class="grid-equalHeight insights__events"><div class="col-12"><div class="insights__title"><%=__(\'autochartist.text.events_description_title\')%></div></div><div class="col-3 insights__column-name"><%=__(\'autochartist.text.news_event\')%></div><div class="col-2 insights__column-name"><%=__(\'autochartist.text.when_time\')%></div><div class="col-2 insights__column-name"><%=__(\'autochartist.text.trade_opportunities\')%></div><div class="col-2 insights__column-name"><%=__(\'autochartist.text.prediction_range\')%></div><div class="col-3 insights__column-name"><%=__(\'tab.price-alerts.alert-types.reminder\')%></div><div class="col-12 insights__list flex flex-column"><div class="more more--compact"> <% _.each(items, function(m) { %> <div class="grid-12-equalHeight-middle insights__list-item"><div class="col-3"><div class="flex"><div class="flex flex-valign-center"><div class="icon icon-help" aria-label="<%=m.getDescription()%>"></div></div><div><img src="<%=m.getFlagUrl()%>"></div><div class="text"><%=m.getName()%></div></div></div><div class="col-2"><%=m.formatDate()%></div><div class="col-2"><%=m.getOpportunitiesNumber()%> <%=__(\'autochartist.text.opportunities_available\')%>ble</div><div class="col-2"><%=m.getPredictionRange()%></div><div class="col-3"><div><div class="grid-middle"><div class="col"><button class="icon icon-google" data-event-id="<%=m.getId()%>"></button></div><div class="col"><button class="icon icon-outlook" data-event-id="<%=m.getId()%>"></button></div><div class="col"><div><button class="btn btn-primary fn-details" data-event-id="<%=m.getId()%>"><%=__(\'actions.more_details\')%></button></div></div></div></div></div></div> <% }) %> </div><div class="insights__more"><a href="#" class="no-action"><b><%=__(\'indigo.notification.box.more\')%></b></a></div></div></div>'},function(t,e){t.exports='<div class="grid-equalHeight insights__insiders"><div class="col-12 insights__column"><div class="insights__title"><%=__(\'insiders.header\')%></div></div><div class="insights__column-name insights__column-name--trend"><%=__(\'insiders.trend\')%></div><div class="insights__column-name insights__column-name--signal-reasoning"><%=__(\'insiders.signal.reasoning\')%></div><div class="insights__column-name insights__column-name--chart"><%=__(\'insiders.stock.behavior\')%></div><div class="insights__column-name insights__column-name--signal-direction"><%=__(\'insiders.stock.insider.signal\')%></div><div class="col-12 insights__list"><div><div class="insights__list-item"><div class="insights__list-item__block insights__list-item__block--trend"><div><%=__(\'indigo.insiders.trend.3month\', insider.description, (insider.stockLast3MonthTrendAmount > 0 ? __(\'actions.bought\') : __(\'actions.sold\')), numbro(Math.abs(insider.stockLast3MonthTrendAmount)).format(\'0,0[.]00\'))%></div></div><div class="insights__list-item__block insights__list-item__block--signal-reasoning"><div><span><%=__(\'insiders.signal.reasoning.count\', insider.transactionCount, insider.transactionDistinctInisdersCount)%></span><div class="rate-box"><div class="percent <%=insider.signalDirection%>"><i class="arrow"></i> <%=insider.signalDirection == \'down\' ? __(\'actions.sold\') : __(\'actions.bought\')%> </div></div></div></div><div class="insights__list-item__block insights__list-item__block--chart"> <%if(insider.stockLast3MonthChangePercent || insider.stockLast3MonthChangePercent == 0 ) {%> <div class="chart__button <%if(insider.stockLast3MonthChangePercent > 0){%>up<% } else {%>down<%}%>-bg"> <%=insider.stockLast3MonthChangePercent.toFixed(2)%>%</div> <%}%> <div> <%if(insider.stockLast3MonthChangeChartImg) {%> <span class="icon-coordinate-plane"><img src="<%=insider.stockLast3MonthChangeChartImg%>"> </span> <%}%> </div></div><div class="insights__list-item__block insights__list-item__block--signal-direction"> <% if (insider.signalDirection == \'up\') { %> <div><i class="icon-positive-sentiment"></i></div><div class="signal-label up"><b><%=__(\'insiders.positive.sentiment\')%></b></div> <% } else if (insider.signalDirection == \'down\') { %> <div><i class="icon-negative-sentiment"></i></div><div class="signal-label down"><b><%=__(\'insiders.negative.sentiment\')%></b></div> <% } else { %> <div><i class="icon-neutral-sentiment"></i></div><div class="signal-label"><b><%=__(\'insiders.neutral.sentiment\')%></b></div> <% } %> </div><div class="insights__list-item__block insights__list-item__block--actions"><a class="view-report" href="#insiders/<%=insider.stockTicker%>" data-url="#insiders/<%=insider.stockTicker%>"><span><%=__(\'insiders.detailed.report\')%></span></a></div></div></div></div></div>'},function(t,e){t.exports='<div class="grid-equalHeight insights__bloggers"><div class="col-12"><div class="insights__title"><%=__(\'tab.bloggers\')%></div></div><div class="col-1 insights__column-name"><div class="grid-equalHeight"><div class="col-2"></div><div class="col-10">&nbsp;</div></div></div><div class="col-5 insights__column-name"><%=__(\'bloggers.consensus\')%></div><div class="col-6 insights__column-name opinion-distribution-title"><%=__(\'bloggers.opinion.distribution\')%></div><div class="col-12"><div class="grid-12-equalHeight"><div class="col-12 insights__daily-item insights__info"><div class="grid-equalHeight"><div class="col-1"><div class="grid-12-equalHeight-middle"><div class="col-12 flex flex-align-center"><div class="expander expander__close"></div></div></div></div><div class="col-4"><div class="row"><div class="col-6"><div class="consensus-graph"><div class="consensus-bearish"><i class="icon icon-bearish"></i><div><%=__(\'bloggers.bearish\')%></div></div><div class="bar"><b style="width: <%=stock.bearishRatio * 100%>%"></b> <i style="width: <%=stock.bullishRatio * 100%>%"></i></div><div class="consensus-bullish"><i class="icon icon-bullish"></i><div><%=__(\'bloggers.bullish\')%></div></div></div></div><div class="col-6"><div class="consensus-text <%=stock.consensus.toLowerCase()%>"> <%=__(\'bloggers.consensus.text\', stock.ticker, stock.numberOfBloggers, stock.consensus)%> </div></div></div></div><div class="col-7"><div class="opinion-distribution"><div class="content"></div></div></div></div></div><div class="col-4-bottom insights__list-column-name hidden"><%=__(\'bloggers.text.blogger\')%></div><div class="col-2-bottom insights__list-column-name hidden"><%=__(\'bloggers.text.sentiment\')%></div><div class="col-6-bottom insights__list-column-name hidden"><%=__(\'insiders.header.date\')%></div><div class="col-12"><div class="grid-12-equalHeight insights__list hidden"> <%_.each(bloggers, function(item) { %> <div class="col-12 grid-equalHeight-middle insights__list-item"><div class="col-4"><div><div class="analyst-pic"><img src="<%=getBloggerPicture(item.expertPictureUrl)%>"></div><div class="analyst-details"><div class="analyst-name"><span><%=item.bloggerName%></span><span><%=item.firmName%></span></div><div class="analyst-rating"><div class="stars"></div><div class="fill" style="width: <%=(74 * item.stars)/5%>px"></div></div></div></div></div><div class="col-2"><div class="sentiment"><div class="<%=item.recommendation.toLowerCase()%>"> <%if (item.recommendation.toLowerCase() != \'neutral\'){%><i class="icon icon-<%=item.recommendation.toLowerCase()%>"></i><%}%> <div><%=item.recommendation.toLowerCase()%></div></div></div></div><div class="col-6"><%=__(\'insiders.days.ago\', bloggersDateDiff(item.recommendationDate))%></div></div> <%});%> </div></div></div></div></div>'},function(t,e){t.exports='<div class="grid-equalHeight insights__hedgefunds"><div class="col-12"><div class="insights__title"><%=__(\'tab.hedgefunds\')%></div></div><div class="col-1 insights__column-name"><div class="grid-equalHeight"><div class="col-2"></div><div class="col-10">&nbsp;</div></div></div><div class="col-6 insights__column-name"><%=__(\'hedgefunds.text.trend\')%></div><div class="col-5 insights__column-name"><%=__(\'hedgefunds.text.signal\')%></div><div class="col-12"><div class="grid-12-equalHeight"><div class="col-12 insights__list-item"><div class="grid-equalHeight"><div class="col-1"><div class="grid-12-equalHeight-middle"><div class="col-12 flex flex-align-center"><div class="expander expander__close"></div></div></div></div><div class="col-6"><div class="row row-trend"><div class="<%=trendDir.toLowerCase()%>"> <%= __(\'hedgefunds.trend.text\', __(\'hedgefunds.trend.\' + trendDir.toLowerCase()), trend) %> </div></div></div><div class="col-5"><div class="row row-sentiment"><div class="<%=signalDir%>"><div><%=data.rating%></div></div></div></div></div></div><div class="col-12"><div class="grid-12-equalHeight insights__list insights__list-item hidden"><div class="col-9"><div class="hedgefunds-holdings-graph"><div class="header"><%=__(\'hedgefunds.holdings.in\')%> <%=data.stockTicker%></div><div class="content"></div></div></div><div class="col-3"><div class="hedgefunds-confidence-signal"><div class="header"><%=__(\'hedgefunds.confidence.signal\')%></div><div class="content"><div class="<%=data.rating.toLowerCase().replace(\' \',\'-\')%>"><%=__(\'insiders.\' + data.rating.toLowerCase().replace(\' \',\'.\'))%></div><div class="signal-based-on"><%= __(\'hedgefunds.signal.based.on\', data.basedOnNumHedgeFunds)%></div><div class="icon-<%=data.rating.toLowerCase().replace(\' \',\'-\')%>"></div><div class="signal-sold-bought"><div class="sold"><%=__(\'actions.sold\')%></div><div class="bought"><%=__(\'actions.bought\')%></div></div></div></div></div></div></div></div></div></div>'},function(t,e){t.exports='<div class="grid-equalHeight insights__news_sentiment"><div class="col-12 insights__column"><div class="insights__title"><%=__(\'tab.news.sentiment\')%></div></div> <%if (item.bullishPercentage > 0 && item.bearishPercentage > 0){%> <div class="insights__column-name insights__column-name--last-seven-days"><%=__(\'news.sentiment.last.seven.days\')%></div> <%}%> <div class="insights__column-name insights__column-name--media-buzz"><%=__(\'news.sentiment.media.buzz\')%></div><div class="insights__column-name insights__column-name--news-score"><%=__(\'news.sentiment.news.score\')%></div><div class="insights__column-name insights__column-name--actions"></div><div class="col-12 insights__list"><div><div class="insights__list-item"> <%if (item.bullishPercentage > 0 && item.bearishPercentage > 0){%> <div class="insights__list-item__block insights__list-item__block--last-seven-days"><div><div class="bullish"><div class="icon icon-bullish"></div><span class="positive"><%=item.bullishPercentage%>% <%=__(\'tipranks.bullish\')%></span></div><div class="bearish"><div class="icon icon-bearish"></div><span class="negative"><%=item.bearishPercentage%>% <%=__(\'tipranks.bearish\')%></span></div></div></div> <%}%> <div class="insights__list-item__block insights__list-item__block--media-buzz"><span><i class="icon icon-articles"></i><%=item.numberOfArticles%> <%=__(\'news.sentiment.articles\')%></span></div><div class="insights__list-item__block insights__list-item__block--news-score <%=score%>"> <%=item.newsScore%> </div><div class="insights__list-item__block insights__list-item__block--actions"><a class="view-report" href="#news-sentiment/<%=item.stockTicker%>" data-url="#news-sentiment/<%=item.stockTicker%>"><span><%=__(\'tipranks.full.report\')%></span></a></div></div></div></div></div>'},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(13),s=n(3),a=o.extend({idAttribute:"event_uid",defaults:function(){return{consensus:"",country:"",country_name:"",description:"",event_type_code:"",event_uid:0,items:[],name:"",released_at:"",flag_url:""}},getName:function(){return this.get("name")},getTime:function(){return this.get("released_at")},getId:function(){return this.get("event_uid")},getDescription:function(){return this.get("description")},formatDate:function(){var t=this.getTime(),e=this.numDaysBetween(new Date(t),new Date);return new Date(t).toDateString()===(new Date).toDateString()?__("autochartist.text.date.today",s(t).format("h:mm a")):new Date(t).toDateString()===this.getTomorrow(new Date).toDateString()?__("autochartist.text.date.tomorrow",s(t).format("h:mm a")):e<6?s(t).format("dddd [at] h:mm a"):s(t).format("D/M/YYYY")},getOpportunitiesNumber:function(){return this.getInstruments().length},getCountryCode:function(){return this.get("country").toLowerCase()},getInstruments:function(){return this.get("items")},getFlagUrl:function(){return this.get("flag_url")},getPredictionRange:function(){var t=this,e=this.getInstruments(),n=r.map(e,function(e){return[t.minNonZero(e.delta_gt_up,e.delta_lt_up,e.delta_eq_up,e.delta_gt_down,e.delta_lt_down,e.delta_eq_down),Math.max(e.delta_gt_up,e.delta_lt_up,e.delta_eq_up,e.delta_gt_down,e.delta_lt_down,e.delta_eq_down)]}),i=r.min(n,"0"),o=r.max(n,"1");return Math.round(100*i[0])+"%-"+Math.round(100*o[1])+"%"},getAffectedInstruments:function(){return r.uniq(r.map(this.getInstruments(),function(t){return t.symbol.name}))},getAffectedInstrumentsList:function(){var t=this;return r.uniq(r.map(this.getInstruments(),function(e){return t.instrumentNameWithSlash(e.symbol.name)})).join(", ")},itemsByGroups:function(){var t=this,e=[],n=[],i=[];return r.each(this.getInstruments(),function(o){if(o.delta_gt_up>0||o.delta_gt_down>0){var s=r.clone(o);s.delta=Math.round(100*Math.max(s.delta_gt_up,s.delta_gt_down));var a=t.maxIndex([s.delta_gt_up,s.delta_gt_down]);s.dir=0==a?__("tipranks.text.upside"):__("tipranks.text.downside"),i.push(s)}if(o.delta_lt_up>0||o.delta_lt_down>0){var l=r.clone(o);l.delta=Math.round(100*Math.max(l.delta_lt_up,l.delta_lt_down));var c=t.maxIndex([l.delta_lt_up,l.delta_lt_down]);l.dir=0==c?__("tipranks.text.upside"):__("tipranks.text.downside"),e.push(l)}if(o.delta_eq_up>0||o.delta_eq_down>0){var l=r.clone(o);l.delta=Math.round(100*Math.max(l.delta_eq_up,l.delta_eq_down));var u=t.maxIndex([l.delta_eq_up,l.delta_eq_down]);l.dir=0==u?__("tipranks.text.upside"):__("tipranks.text.downside"),n.push(l)}}),[e,n,i]},minNonZero:function(t){return Array.prototype.reduce.call(arguments,function(t,e){return t&&e?Math.min(t,e):t||e})},maxIndex:function(t){return t.reduce(function(t,e,n,i){return e>i[t]?n:t},0)},numDaysBetween:function(t,e){return Math.abs(t.getTime()-e.getTime())/864e5},getTomorrow:function(t){return new Date(t.setDate(t.getDate()+1))},instrumentNameWithSlash:function(t){return t.substring(0,3)+"/"+t.substring(3,6)}});i.exports=a}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(2),s=n(371),a=n(24),l=n(282),c=n(9),u=r.template(n(1712));i.exports=a.extend({name:"trading-central-settings",events:function(){return r.extend({},r.result(a.prototype,"events"),{"click #restore-defaults":"restoreDefaults","change #tc-switch-checkbox":"changeStatus","click .fn-save":"onSave","click .fn-cancel":"onCancel"})},restoreDefaults:function(){r.extend(this.settings,s.defaults),this.render()},getOptions:function(t){return r.extend({},r.result(a.prototype,"getOptions"),{isHeaderShowed:!0,closeIconStyle:"blue",headerStyle:"wizard",caption:__("trading.central.study.title"),indicators:this.indicators},t)},onSave:function(){s.save(this.enabled,this.settings).then(function(){o.trigger("ui:chart:resubscribe")}),this.close()},onCancel:function(){this.close()},initialize:function(){if(!s.isAvailable())return void s.showUnavailableMessage(this);a.prototype.initialize.apply(this,arguments),this.enabled=s.isEnabled(),this.settings=s.settings,this.render()},render:function(){a.prototype.render.call(this),this.setContent(u({settings:c,resistanceColor:this.settings.lines[0].colors[0],supportColor:this.settings.lines[1].colors[0],pivotColor:this.settings.lines[2].colors[0],isEnabled:this.enabled})),this.colorPickers=[];var t=this.$el.find(".field-type-colorpicker");r.each(t,function(t){var e=new l({el:t,container:this.el,field:t.dataset.field});delete t.dataset.field,this.listenTo(e,"change",this.onFieldChanged.bind(this,e.field)),this.colorPickers.push(e)},this)},changeStatus:function(t){this.onStatusChanged(void 0,t.currentTarget.checked)},onStatusChanged:function(t,e){this.enabled=e},onFieldChanged:function(t,e){if(void 0!==t){t=t.split(".");for(var n=0,i=this.settings;n<t.length-1;)i=i[t[n]],n++;i[t[n]]=e.value()}}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<div id="tc-settings-container" class="form"><div class="tc-settings-description"> <%=__(\'trading.central.study.description\')%> </div><div class="tc-settings-activation"><span><%=__(\'trading.central.study.activation\')%></span><div class="tc-switcher"><span class="tc-switch"><%=__(\'trading.central.study.activation.off\')%></span><div><input type="checkbox" id="tc-switch-checkbox" <%=isEnabled ? \'checked\' : \'\'%> ><label for="tc-switch-checkbox"></label></div><span class="tc-switch"><%=__(\'trading.central.study.activation.on\')%></span></div></div><div class="tc-settings-colors"><div><div class="tc-settings-colors-title"><%=__(\'trading.central.study.colors\')%></div><a id="restore-defaults"><%-__(\'chart_studies.restore_defaults\')%></a></div><div class="tc-settings-color-picker"> <%-__(\'trading.central.study.resistance.title\')%> <div class="field-type-colorpicker" data-color="<%-resistanceColor%>" data-field="lines.0.colors.0"></div></div><div class="tc-settings-color-picker"> <%-__(\'trading.central.study.support.title\')%> <div class="field-type-colorpicker" data-color="<%-supportColor%>" data-field="lines.1.colors.0"></div></div><div class="tc-settings-color-picker"> <%-__(\'trading.central.study.pivot.title\')%> <div class="field-type-colorpicker" data-color="<%-pivotColor%>" data-field="lines.2.colors.0"></div></div></div><div class="tc-settings-footer"><div class="action-buttons"><button class="btn btn-primary fn-save"><%=__(\'actions.save\')%></button> <button class="btn fn-cancel"><%=__(\'actions.cancel\')%></button></div> <% if (settings.isLiveChatEnabled()) { %> <div class="help-link"><span><%=__(\'help.need_help\')%></span><a href="#" class="fn-help-live-chat-link"><span><%=__(\'help.right_here\')%></span></a></div> <% } %> </div></div>'},function(t,e,n){var i=n(12),r=n(0),o=r.template(n(1714)),s=n(850),a=n(7),l=n(428),c=(l.EMPTY,l.PENDING,l.SUCCESS);l.ERROR;n(1715),t.exports=i.extend({className:"page signals-page",events:function(){return this.addEvents(i)({"click .icon-close-blue":"destroy"})},initialize:function(t){i.prototype.initialize.call(this,t),this.model||(this.model=s),this.listenTo(this.model,"change:status",this.update),this.model.load()},render:function(){return i.prototype.render.call(this),this.update(),this},detach:function(){a.getApplicationSettings().set("signals:isFloated",!0)},update:function(){if(this.model.get("status")===c){var t=this.model.getItems();this.$el.html(o({items:t,isEmpty:r.isEmpty(t),getCssClassByConsensus:this.getCssClassByConsensus,isFloated:a.getApplicationSettings().get("signals:isFloated")}))}},getCssClassByConsensus:function(t){return"StrongBuy"==t||"Buy"==t?"buy":"StrongSell"==t||"Sell"==t?"sell":""}})},function(t,e){t.exports='<div class="page signals__page"><div class="pane header header_blue"><div class="header__body"><div class="header__title"> <%=__(\'signals.title\')%> </div><div class="header__description"> <%=__(\'signals.page.description\')%> </div></div><div class="header__actions"><div class="header__action-item"><div class="header__action-item-body"><i class="icon icon-close-blue"></i></div></div></div></div><div class="page__body pane__scroll"><div class="pane__scroll-content page__content"><div class="list"><div class="list__columns"><div class="list__column signals__asset"><%=__(\'asset.title\')%></div><div class="list__column signals__source"><%=__(\'source.title\')%></div><div class="list__column signals__direction"><%=__(\'indigo.help.order.direction\')%></div><div class="list__column signals__published"></div></div><div class="list__items"> <% _.each(items, function(v, i, a) { %> <div class="list__item"><div class="asset name"><%=v.displayName%></div><div class="source"><%=v.source%></div><div class="signals__direction <%=getCssClassByConsensus(v.signal)%>"><%=v.signalName%></div><div class="signals__published"></div></div> <% }) %> </div></div></div></div></div>'},function(t,e){},function(t,e,n){(function(e){var i=n(12),r=n(0),o=r.template(n(1717)),s=n(1718),a=(n(7),n(292)),l=a.SUCCESS;n(1720),t.exports=i.extend({className:"page eco-calendar eco-calendar__fluid",events:function(){return this.addEvents(i)({"click .icon-close-blue":"destroy","click .stacked__item":"changeFilter"})},initialize:function(t){i.prototype.initialize.call(this,t),this.model||(this.model=s),this.listenTo(this.model,"change:status",this.onStatusChanged)},onStatusChanged:function(){switch(this.model.get("status")){case l:this.update()}},changeFilter:function(t){var n=e(t.target).attr("data-id");this.model.filterBy(n)},render:function(){return i.prototype.render.call(this),this.update(),this},update:function(){this.model.getItems();this.$el.html(o({items:this.model.getItems(),filterType:this.model.getFilterType()}))}})}).call(e,n(5))},function(t,e){t.exports='<div class="page eco-calendar__page"><div class="pane header header_blue"><div class="header__body"><div class="header__title"> <%=__(\'eco_calendar.page.title\')%> </div><div class="header__description"> <%=__(\'eco_calendar.page.description\')%> </div></div><div class="header__actions"><div class="header__action-item"><div class="header__action-item-body"><i class="icon icon-close-blue"></i></div></div></div></div><div class="page__body pane__scroll"><div class="flex flex-stretch flex-column"><div class="eco-calendar__stacked"><div class="stacked"><div data-id="yesterday" class="stacked__item stacked_blue <%=filterType == \'yesterday\' ? \'stacked__item_active\' : \'\'%>"><div class="stacked__name">Yesterday</div></div><div data-id="today" class="stacked__item stacked_blue <%=filterType == \'today\' ? \'stacked__item_active\' : \'\'%>"><div class="stacked__name">Today</div></div><div data-id="tomorrow" class="stacked__item stacked_blue <%=filterType == \'tomorrow\' ? \'stacked__item_active\' : \'\'%>"><div class="stacked__name">Tomorrow</div></div><div data-id="this_week" class="stacked__item stacked_blue <%=filterType == \'this_week\' ? \'stacked__item_active\' : \'\'%>"><div class="stacked__name">This week</div></div><div data-id="next_week" class="stacked__item stacked_blue <%=filterType == \'next_week\' ? \'stacked__item_active\' : \'\'%>"><div class="stacked__name">Next week</div></div><div class="stacked__item stacked_blue"><div class="stacked__ico"><div class="icon icon-calendar"></div></div></div></div></div><div class="pane__scroll"><div class="pane__scroll-content page__content"><div class="list list--column"><div class="list__columns eco-calendar__list-columns"><div class="list__column eco-calendar__time"><%=__(\'history.order.time\')%></div><div class="list__column eco-calendar__currency"><%=__(\'currency\')%></div><div class="list__column eco-calendar__event"><%=__(\'event\')%></div><div class="list__column eco-calendar__actual"><%=__(\'actual\')%></div><div class="list__column eco-calendar__forecast"><%=__(\'forecast\')%></div><div class="list__column eco-calendar__previous"><%=__(\'actions.previous\')%></div></div><div class="list__items"><div class="list__item-splitter eco-calendar__list-item-splitter">Thursday, May 10, 2018</div> <% _.each(items, function(v, i, a) { %> <div class="list__item eco-calendar__list-item"><div class="eco-calendar__time"><%=v.time%></div><div class="eco-calendar__currency"><img src="https://eia.delkos.com/eia/images/flags/JP.gif" alt=""><%=v.currency%></div><div class="eco-calendar__event"><%=v.event%></div><div class="eco-calendar__actual"><%=v.actual.value%></div><div class="eco-calendar__forecast"><%=v.forecast.value%></div><div class="eco-calendar__previous"><%=v.previous.value%></div></div> <% }) %> </div></div></div></div></div></div></div>'},function(t,e,n){var i=n(0),r=n(13),o=n(6),s=(n(3),n(1719)),a=s.EMPTY,l=s.PENDING,c=s.SUCCESS,u=s.ERROR,d={silent:!0},h=r.extend({defaults:function(){return{status:a,dataOfEvents:[],filterType:"today"}},initialize:function(){},load:function(){var t=this,e=this.control("status");e(0,0,d),e(l),o.loadEconomicCalendar().then(function(n){return e(c,{data:t.filter(n.data),items:t.filter(n.data)})}).catch(function(t){return e(u,{err:t})})},filter:function(t){return t},filterBy:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"today";this.set("items",0,d),this.set({items:[],filterType:t})},getFilterType:function(){return this.get("filterType")},getItems:function(){return i.map([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],function(t){return{time:"01:00",currency:"JPY",event:"Economy Watchers Current Index (Apr)",actual:{value:49,direction:"up"},forecast:{value:49.9,direction:"down"},previous:{value:48.9,direction:"up"}}})},isEmpty:function(){return i.isEmpty(this.getItems())}});t.exports=new h},function(t,e){t.exports={EMPTY:"EMPTY",PENDING:"PENDING",SUCCESS:"SUCCESS",ERROR:"ERROR"}},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(414),r=n(12),o=n.n(r),s=n(16),a=n.n(s),l=n(1),c=n.n(l),u=n(8),d=n(357),h=n(159),p=n(2),f=n.n(p),m=n(280),g=Object(h.a)(function(){return n.e(44).then(n.bind(null,1923))}),v=Object(h.a)(function(){return n.e(43).then(n.bind(null,1924))});e.default=o.a.extend({initialize:function(){var t=this;o.a.prototype.initialize.apply(this,arguments),this.options.selectedNewsId&&store.dispatch(Object(i.selectNews)(this.options.selectedNewsId,m.a)),this.listenTo(f.a,"ui:header-itemclick",function(){return t.options.onClose(!1)})},render:function(){o.a.prototype.render.call(this);var t=this.options;return a.a.render(c.a.createElement(u.Provider,{store:store},c.a.createElement("div",{className:"news-wrapper popup-item"},c.a.createElement(d.a,{screenSize:"sm"},c.a.createElement(g,t),c.a.createElement(v,t),"  // second component is else statement"))),this.el),this},destroy:function(){a.a.unmountComponentAtNode(this.el),o.a.prototype.destroy.call(this)}})},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(12),s=n(1723),a=n(1725);i.exports=o.extend({showOneBonusRequest:function(t){new a({parent:this.parent,requests:t}).render()},showAllBonusRequests:function(t){var e=this;r.each(t,function(t){new s({parent:e.parent,request:t}).render()})},showBonusRequests:function(){var t=this;this.model.hasBonusRequests()&&r.each(this.model.getBonusRequests(),function(e){t.model.canShowMultipleBonusRequests(e)?t.showOneBonusRequest(e):t.showAllBonusRequests(e)})}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(744),s=r.template(n(1724)),a=n(383);i.exports=o.extend({render:function(){return o.prototype.render.call(this),this.setContent(s({caption:this.getTitle(this.getRequest()),request:this.enrich(this.getRequest()),isMtBonus:this.isMtBonus(),mtCaption:this.getMtTitle()})),this},getRequest:function(){return this.options.request},getTitle:function(t){return __default(this.getBonusTypeLocalizationKey(t,"bonus_request.popup.bonus.title."),"bonus_request.popup.bonus.title.undefined",this.getBonusCurrency(t),t.amount)},enrich:function(t){return r.isEmpty(t)||(t.currencySymbol=this.getBonusCurrency(t),t.bonusName=__default(this.getBonusTypeLocalizationKey(t,"bonus_request.popup.bonus.name."),"bonus_request.popup.bonus.name.undefined")),t},onApprove:function(){this.sendApprove(this.getRequest()),o.prototype.onApprove.call(this)},onReject:function(){this.sendReject(this.getRequest()),o.prototype.onReject.call(this)},trackClickTerms:function(){a.clickTerms(this.getRequest())},isMtBonus:function(){return!r.isEmpty(this.getRequest().tradePlatformType)},getMtTitle:function(){return this.getRequest().tradePlatformType+" - "+this.getRequest().tradingAccountId}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<div class="fluid-scroll-content flex flex-column"><div class="content"><div class="caption"><%=caption%></div> <% if (isMtBonus) { %> <div class="caption"><%=mtCaption%></div> <% } %> <div class="description"> <%=__(\'bonus_request.popup.text\', request.currencySymbol, request.amount, request.bonusName)%> </div></div><div class="actions flex flex-row"><button class="btn btn-primary flex-stretch fn-approve"><%=__(\'bonus_request.popup.confirm\')%></button> <button class="btn flex-stretch fn-reject"><%=__(\'bonus_request.popup.cancel\')%></button></div></div>'},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(744),s=r.template(n(1726)),a=n(383);i.exports=o.extend({render:function(){return o.prototype.render.call(this),this.setContent(s({requests:this.enrich(this.getRequests()),isMtBonus:this.isMtBonus(),mtCaption:this.getMtTitle()})),this},getRequests:function(){return this.options.requests},enrich:function(t){var e=this;return r.each(t,function(t){return r.isEmpty(t)||(t.currencySymbol=e.getBonusCurrency(t),t.bonusName=__default(e.getBonusTypeLocalizationKey(t,"bonus_request.popup.multiple.bonus.name."),"bonus_request.popup.bonus.name.undefined")),t}),t},onApprove:function(){var t=this;r.each(this.getRequests(),function(e){return t.sendApprove(e)}),a.approveMultiple(),o.prototype.onApprove.call(this)},onReject:function(){var t=this;r.each(this.getRequests(),function(e){return t.sendReject(e)}),a.rejectMultiple(),o.prototype.onReject.call(this)},trackClickTerms:function(){a.clickTermsMultiple()},isMtBonus:function(){return!r.isEmpty(r.first(this.getRequests()).tradePlatformType)},getMtTitle:function(){var t=r.first(this.getRequests());return t.tradePlatformType+" - "+t.tradingAccountId}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<div class="fluid-scroll-content flex flex-column"><div class="content"><div class="description"><p><%=__(\'bonus_request.popup.multiple.header\')%></p> <% if (isMtBonus) { %> <p><%=mtCaption%></p> <% } %> <div class="multiple-requests"> <% _.each(requests, function(request) { %> <div> <%=__(\'bonus_request.popup.multiple.format\', request.currencySymbol, request.amount, request.bonusName)%> </div> <% }) %> </div> <%=__(\'bonus_request.popup.multiple.footer\')%> </div></div><div class="actions flex flex-row"><button class="btn btn-primary flex-stretch fn-approve"><%=__(\'bonus_request.popup.confirm\')%></button> <button class="btn flex-stretch fn-reject"><%=__(\'bonus_request.popup.cancel\')%></button></div></div>'},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var r=n(0),o=n(5),s=n(2),a=n(7),l=n(9),c=n(6),u=n(56),d=n(436),h=n(24),p=n(210),f=n(211),m=n(1728),g=r.template(n(1730)),v=h.extend({name:"retake-quiz",events:function(){return r.extend({},r.result(h.prototype,"events"),{"click .fn-finish":"onQuizFinish"})},getOptions:function(t){return r.extend({},r.result(h.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("quiz.retake.header"),previousCaption:__("actions.exit"),headerStyle:"wizard",style:"height: 100%;",ignorableByLoginMessage:!0},t)},initialize:function(t){h.prototype.initialize.apply(this,arguments),this.loadQuizFlow()},loadQuizFlow:function(){return s.trigger("ui:loading"),c.queryCustomerEligibleQuiz().then(this.buildQuizFormConfig.bind(this)).then(this.startCustomerQuiz.bind(this))},buildQuizFormConfig:function(t){this.quizName=t.data.name;var e=new m({name:this.quizName,questions:t.data.questions,localizationPrefix:"quiz",saveData:{}});return e.buildForm(),e},startCustomerQuiz:function(t){if(s.trigger("ui:loading:hide"),t.isQuizNotEligible())return void this.close();this.render(),this.setContent(g({settings:l}));var e=new f(t.getFormConfig());this.formView=new p({$parent:this.$el.find(".content"),model:e}),this.formView.show()},close:function(){this.stopListening(),h.prototype.close.call(this)},onQuizFinish:function(){!1===this.formView.validate()&&(s.trigger("ui:loading"),this.gatherQuizAnswers().then(this.updateQuizAnswers.bind(this)).then(this.onQuizPassed.bind(this)))},updateQuizAnswers:function(t){return c.updateCustomerEligibleQuizAnswers(t)},gatherQuizAnswers:function(){this.formView.saveData();var t=this.formView.getData();return Promise.resolve(t)},onQuizPassed:function(t){this.formView.remove(),this.close(),s.trigger("ui:loading:hide"),this.updateCustomerState()},showQuizResult:function(){if(u.LOW_SCORE()){var t=__("quiz."+this.quizName+".low_score");a.getUserQuizStatus().isQuizEligible()?d.quizFallenRetake(t):d.quizFallen(t)}else{var e=__("quiz."+this.quizName+".high_score");d.quizPassed(e)}},updateCustomerState:function(){return Promise.all([a.getUserData().load(),a.getUserQuizStatus().load()]).then(this.showQuizResult.bind(this)).then(function(){return s.trigger("sm","quiz_passed")})}});l.isRegistrationAutocompleteEnabled()&&(v.prototype.events=r.extend({},r.result(v.prototype,"events"),{"dblclick .content":"__doubleClick"}),v.prototype.__doubleClick=function(t){this.$(".dk-select").forEach(function(t){var e=o(t).find(".dk-select-options li");r.sample(r.initial(e)).click()})}),i.exports=v}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(13),s=n(79),a=n(422),l=n(825),c=n(1729).INPUT_TYPE;i.exports=o.extend({defaults:function(){return{top:[],form:[],bottom:[]}},buildForm:function(){var t=this;r.each(this.attributes.questions,function(e){return t.putFormField(e)})},putFormField:function(t){var e=this.resolveFormElement(t);e&&this.get("form").push(e)},resolveFormElement:function(t){switch(t.type){case c.LIST:return this.generateListConfig(t)}},getQuestionTitle:function(t){return __(this.attributes.localizationPrefix+"."+t.name)},findSaveData:function(t){return r.isEmpty(this.attributes.savedData)||r.isEmpty(this.attributes.savedData[t.name])?{}:this.attributes.savedData[t.name]},generateListConfig:function(t){var e={name:t.name,title:this.getQuestionTitle(t),translationGroupPrefix:this.attributes.localizationPrefix+"."+t.name,template:s.selectBoxOverflowWidth,validation:a.selectNotEmpty(),disable:!1,events:{onchange:l.validateFieldOnChange},options:r.map(t.answers,function(t){return t}),savedData:this.findSaveData(t)};return r.contains(e.options,"EMPTY")||(e.options.unshift("EMPTY"),r.isEmpty(e.savedData)&&(e.savedData="EMPTY")),e},splitByColumns:function(t,e,n){if(e<2)return[t];var i=t.length,r=[],o=0,s=void 0;if(i%e==0)for(s=Math.floor(i/e);o<i;)r.push(t.slice(o,o+=s));else if(n)for(;o<i;)s=Math.ceil((i-o)/e--),r.push(t.slice(o,o+=s));else{for(e--,s=Math.floor(i/e),i%s==0&&s--;o<s*e;)r.push(t.slice(o,o+=s));r.push(t.slice(s*e))}return r},isQuizNotEligible:function(){return r.isEmpty(this.attributes.questions)},getFormConfig:function(){return{groupName:this.attributes.name,status:"in-progress",top:this.get("top"),form:this.splitByColumns(this.get("form"),3,!0),bottom:this.get("bottom")}}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){var i;void 0!==(i=function(t,e,n){var i=Object.freeze({NONE:"NONE",LABEL:"LABEL",EDIT_TEXT:"EDIT_TEXT",EDIT_TEXT_AREA:"EDIT_TEXT_AREA",LIST:"LIST",CHECKBOX:"CHECKBOX",MULTI_CHECKBOX:"MULTI_CHECKBOX",RADIO:"RADIO",HORIZONTAL_RADIO:"HORIZONTAL_RADIO",DATE:"DATE",DATETIME:"DATETIME",PHONE:"PHONE",EMAIL:"EMAIL",COUNTRY:"COUNTRY",PASSWORD:"PASSWORD",CURRENCY:"CURRENCY",MULTI_SELECT_ALL:"MULTISELECT_ALL",MULTI_SELECT_NONE:"MULTISELECT_NONE",MULTI_SELECT_ALL_NONE:"MULTISELECT_ALL_NONE"});n.exports={INPUT_TYPE:i}}.call(e,n,e,t))&&(t.exports=i)},function(t,e){t.exports='<div class="registration-container"><div class="registration"><div class="content"></div><div class="separator hidden-xs"><span></span></div><div class="footer hidden-xs"><div class="left"> <% if (settings.isLiveChatEnabled()) { %> <span><%=__(\'help.need_help\')%></span><a href="#" class="fn-help-live-chat-link"><span><%=__(\'help.right_here\')%></span></a> <% } %> </div><div class="right allow-finish"><button class="btn btn-primary fn-finish"><%=__(\'actions.finish\')%></button></div></div><div class="footer hidden-sm hidden-md hidden-lg"><div class="allow-finish"><div class="form-actions"><button class="btn btn-primary fn-finish col"><%=__(\'actions.finish\')%></button></div></div></div></div></div>'},function(t,e){t.exports='<div class="confirm-dialog"><div class="content <%=(options.hideCancelButton)?\'single\':\'\' %> pane pane__column"><div class="caption pane"><%=options.confirmCaption%></div><div class="message pane"><%=options.confirmMessage%></div><div class="content-list"><div class="pane fn-list"></div></div></div><div class="actions"><div class="block-button"><button class="btn fn-cancel"><span class="flex flex-align-center flex-valign-center"><%=options.confirmCancelBtnText%></span></button></div><div class="block-button"><button class="btn btn-primary fn-ok <%=(options.hideCancelButton)?\'single\':\'\' %>"><span class="flex flex-align-center flex-valign-center"><%=options.confirmOKBtnText%></span></button></div></div></div>'},function(t,e,n){var i=n(1),r=n(29),o=n(58),s=n(31),a=function(t,e){var n=o.getPositionByCode(t),i="";return n&&(i=!0===e?Math.abs(n.getQuantity()):n.getQuantity(),i=s(i).format("0,0.[000]")),i};t.exports=r({displayName:"exports",getDefaultProps:function(){return{as:"span",className:null,positionCode:"",useAbs:!0}},getInitialState:function(){return{value:a(this.props.positionCode,this.props.useAbs)}},shouldComponentUpdate:function(t){return t.positionCode!==this.props.positionCode},componentWillUpdate:function(t,e){var n=t.positionCode;n!==this.props.positionCode&&(e.value=a(n,this.props.useAbs))},render:function(){var t=this.props.className,e=this.state.value;return i.createElement(this.props.as,{className:t},e)}})},function(t,e,n){var i=n(1),r=n(29),o=n(58),s=n(14),a=function(t){var e=o.getPositionByCode(t);if(e){var n=e.getInstrumentId(),i=s.getInstrumentById(n),r=e.getCostBasis();return i&&(r=Number(r).toFixed(i.getPrecision())),r}};t.exports=r({displayName:"exports",getDefaultProps:function(){return{as:"span",className:null,positionCode:""}},getInitialState:function(){return{value:a(this.props.positionCode)}},shouldComponentUpdate:function(t){return t.positionCode!==this.props.positionCode},componentWillUpdate:function(t,e){var n=t.positionCode;n!==this.props.positionCode&&(e.value=a(n))},render:function(){var t=this.props.className,e=this.state.value;return i.createElement(this.props.as,{className:t},e)}})},function(t,e,n){var i=n(1),r=n(29),o=n(58),s=function(t){var e=o.getPositionByCode(t);return e&&e.getQuantity()<0?__("actions.sold"):__("actions.bought")};t.exports=r({displayName:"exports",getDefaultProps:function(){return{as:"span",className:null,positionCode:""}},getInitialState:function(){return{value:s(this.props.positionCode)}},shouldComponentUpdate:function(t){return t.positionCode!==this.props.positionCode},componentWillUpdate:function(t,e){var n=t.positionCode;n!==this.props.positionCode&&(e.value=s(n))},render:function(){var t=this.props.className,e=this.state.value;return i.createElement(this.props.as,{className:t},e)}})},function(t,e,n){var i=n(1),r=n(29),o=n(58),s=n(1736),a=function(t){var e=o.getPositionByCode(t);return e&&e.getInstrumentId()};t.exports=r({displayName:"exports",getDefaultProps:function(){return{as:"span",className:null,positionCode:""}},getInitialState:function(){return{instrumentId:a(this.props.positionCode)}},shouldComponentUpdate:function(t){return t.positionCode!==this.props.positionCode},componentWillUpdate:function(t,e){var n=t.positionCode;n!==this.props.positionCode&&(e.instrumentId=a(n))},render:function(){var t=this.props,e=t.className,n=t.as,r=this.state.instrumentId;return i.createElement(s,{instrumentId:r,as:n,className:e})}})},function(t,e,n){var i=n(1),r=n(29),o=(n(0),n(14)),s=function(t,e){var n=o.getInstrumentBySymbol(t);return n||(n=o.getInstrumentById(e)),n&&n.getName()};t.exports=r({displayName:"exports",getDefaultProps:function(){return{symbol:"",instrumentId:"",className:"",as:"span"}},getInitialState:function(){return{value:s(this.props.symbol,this.props.instrumentId)}},shouldComponentUpdate:function(t){return t.symbol!==this.props.symbol||t.instrumentId!==this.props.instrumentId},componentWillUpdate:function(t,e){t.symbol===this.props.symbol&&t.instrumentId===this.props.instrumentId||(e.value=s(t.symbol,t.instrumentId))},render:function(){var t=this.props,e=t.className,n=this.state.value;return i.createElement(t.as,{className:e},n)}})},function(t,e){t.exports='<div class="confirm-dialog"><div class="content <%=(options.hideCancelButton)?\'single\':\'\' %> pane pane__column"><div class="caption pane"><%=options.confirmCaption%></div><div class="message pane"><%=options.confirmMessage%></div><div class="content-list"><div class="pane fn-list"></div></div></div><div class="actions"><div class="block-button"><button class="btn fn-cancel"><span class="flex flex-align-center flex-valign-center"><%=options.confirmCancelBtnText%></span></button></div><div class="block-button"><button class="btn btn-primary fn-ok <%=(options.hideCancelButton)?\'single\':\'\' %>"><span class="flex flex-align-center flex-valign-center"><%=options.confirmOKBtnText%></span></button></div></div></div>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n.n(i),o=n(29),s=n.n(o),a=n(108),l=n(14),c=function(t){var e=a.getOrderById(t);if(e){var n=l.getInstrumentById(e.get("instrumentId"));return n&&n.getName()}};e.default=s()({displayName:"OrderInstrumentName",getDefaultProps:function(){return{as:"span",orderId:"",className:null}},getInitialState:function(){return{value:c(this.props.orderId)}},componentWillUpdate:function(t,e){t.orderId!==this.props.orderId&&(e.value=c(t.orderId))},shouldComponentUpdate:function(t){return t.orderId!==this.props.orderId},render:function(){var t=this.props.className,e=this.state.value;return r.a.createElement(this.props.as,{className:t},e)}})},function(t,e,n){function i(t){return n(r(t))}function r(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./events.trade.popup.mobile.view":1740,"./events.trade.popup.view":1746};i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id=1739},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(2),s=n(0),a=n(45),l=n(6),c=n(54),u=(n(1),n(30)),d=n(24),h=s.template(n(1741)),p=s.template(n(1742)),f=n(1743),m=n(1744),g=(n(23),function(t){return Date.parse(t)/1e3}),v=d.extend({subscribedInstruments:[],initialize:function(t){d.prototype.initialize.apply(this,arguments),this.getEvents(),this.listenTo(o,"ui:instrument:change",this.close)},getEvents:function(){var t=this;return this.addChildView(".events-trade-mobile-wrapper",u,{parent:r(".main-box"),position:"absolute"}),l.loadEventsAndTrade().then(function(e){return e.data.error?(t.events=[],t.render(),t.removeChildView(".events-trade-mobile-wrapper"),Promise.reject()):(t.events=t.createCollection(e.data),t.render(),t.removeChildView(".events-trade-mobile-wrapper"),Promise.resolve())})},createCollection:function(t){var e=new a,n=[],i=t.sort(function(t,e){return g(t.data.released_at)-g(e.data.released_at)});return s.each(i,function(t){var i=new f(t.data);n=n.concat(i.getAffectedInstruments()),e.add(i)}),n=s.uniq(n),this.subscribedInstruments=c.update(n,this.subscribedInstruments).addedSymbols,e},events:function(){return s.extend({},s.result(d.prototype,"events"),{"click .event-details .btn":"viewDetails","change [name=instruments]":"filterInstruments"})},getOptions:function(t){return s.extend({},s.result(d.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("tab.financial_events"),previousCaption:__("actions.back"),headerStyle:"wizard",bodyStyle:"trading-tools",headerCaptionStyle:"events-trade-mobile-header"},t)},close:function(t){c.remove(this.subscribedInstruments),d.prototype.close.call(this),this.destroy()},getAllInstruments:function(){return s.unique(s.reduce(s.map(this.events.models,function(t){return t.getAffectedInstruments()}),function(t,e){return t.concat(e)},[]))},filterInstruments:function(t){var e=this.$el.find("select[name=instruments] option:checked"),n=[];e.length>0&&(n=s.map(e,function(t){return r(t).val()}));var i=s.filter(this.events.models,function(t){return s.find(n,function(e){return s.includes(t.getAffectedInstruments(),e)})});this.renderFilteredData(i)},viewDetails:function(t){var e=r(t.currentTarget).attr("data-id"),n=s.find(this.events.models,function(t){return t.getId()===parseInt(e)}),i=new m({parent:_app.getPopupsPlaceholder(),event:n,startTime:Date.now(),onClose:function(){return i=null}});__eventos("tradingTools:delkos:impression",{page:"details",economicEvent:n.getName()})},render:function(){d.prototype.render.call(this);var t=s.isArray(this.events.models)&&this.events.models.length>0?this.events.models:[];return this.setContent(h({events:t,instruments:this.getAllInstruments()})),this.$el.find(".content-block").html(p({events:t})),__eventos("tradingTools:delkos:impression",{page:"main"}),this},renderFilteredData:function(t){var e=s.isArray(t)&&t.length>0?t:this.events.models;this.$el.find(".content-block").html(p({events:e}))}});i.exports=v}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports='<div class="events-trade-mobile-wrapper"><div class="events-trade-mobile"> <%if(instruments.length > 0){%> <div class="filters"><div class="styled-select"><select name="instruments" multiple="multiple" size="4"><option disabled="disabled" selected="selected" class="hidden"><%=__(\'wizard.form.label.DEFAULT_EMPTY\')%></option> <%_.each(instruments, function(instrument){ %> <option value="<%=instrument%>"><%=instrument.substring(0,3) + \'/\' + instrument.substring(3,6)%></option> <% }); %> </select></div></div> <%}%> <div class="content-block"></div></div></div>'},function(t,e){t.exports='<div class="events-mobile"> <% if(events.length > 0) {%> <% _.each(events, function(event){%> <div class="event"><div class="event-country"><span class="flag flag-<%=event.getCountryCode()%>"></span></div><div class="event-data"><div class="event-name"><%=event.getName()%></div><div><span><%=__(\'autochartist.text.when\') + \' (\' + __(\'autochartist.text.when_time\') + \')\'%>:</span><span> <%=event.formatDate()%></span></div><div><span><%=__(\'autochartist.text.prediction_range\')%>:</span><span> <%=event.getPredictionRange()%></span></div><div><span><%=event.getOpportunitiesNumber()%> <%=__(\'autochartist.text.opportunities_available\')%></span></div><div><span><%=__(\'autochartist.text.affected_instruments\')%>:</span><span> <%=event.getAffectedInstrumentsList()%></span></div></div><div class="event-details"><button class="btn btn-primary fn-details" data-id="<%=event.getId()%>"><span><%=__(\'autochartist.text.details\')%></span></button></div></div> <%})%> <%} else {%> <div class="events-trade-empty"><div class="icon-events-trade"></div><div><%= __(\'autochartist.text.no_upcoming_events\')%></div></div> <%}%> </div>'},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(13),s=n(3),a=n(178).roundToTwo,l=o.extend({defaults:function(){return{consensus:"",country:"",country_name:"",description:"",event_type_code:"",event_uid:0,items:[],name:"",released_at:""}},getName:function(){return this.get("name")},getTime:function(){return this.get("released_at")},getId:function(){return this.get("event_uid")},formatDate:function(){var t=this.getTime(),e=this.numDaysBetween(new Date(t),new Date);return new Date(t).toDateString()===(new Date).toDateString()?__("autochartist.text.date.today",s(t).format("h:mm a")):new Date(t).toDateString()===this.getTomorrow(new Date).toDateString()?__("autochartist.text.date.tomorrow",s(t).format("h:mm a")):e<6?s(t).format("dddd [at] h:mm a"):s(t).format("D/M/YYYY")},getOpportunitiesNumber:function(){return this.getInstruments().length},getCountryCode:function(){return this.get("country").toLowerCase()},getInstruments:function(){return this.get("items")},getPredictionRange:function(){var t=this,e=this.getInstruments(),n=r.map(e,function(e){return[t.minNonZero(e.delta_gt_up,e.delta_lt_up,e.delta_eq_up,e.delta_gt_down,e.delta_lt_down,e.delta_eq_down),Math.max(e.delta_gt_up,e.delta_lt_up,e.delta_eq_up,e.delta_gt_down,e.delta_lt_down,e.delta_eq_down)]}),i=r.min(n,"0"),o=r.max(n,"1");return a(100*i[0])+"%-"+a(100*o[1])+"%"},getAffectedInstruments:function(){return r.uniq(r.map(this.getInstruments(),function(t){return t.symbol.name}))},getAffectedInstrumentsList:function(){var t=this;return r.uniq(r.map(this.getInstruments(),function(e){return t.instrumentNameWithSlash(e.symbol.name)})).join(", ")},itemsByGroups:function(){var t=this,e=[],n=[],i=[];return r.each(this.getInstruments(),function(o){if(o.delta_gt_up>0||o.delta_gt_down>0){var s=r.clone(o);s.delta=a(100*Math.max(s.delta_gt_up,s.delta_gt_down));var l=t.maxIndex([s.delta_gt_up,s.delta_gt_down]);s.dir=0==l?__("tipranks.text.upside"):__("tipranks.text.downside"),i.push(s)}if(o.delta_lt_up>0||o.delta_lt_down>0){var c=r.clone(o);c.delta=a(100*Math.max(c.delta_lt_up,c.delta_lt_down));var u=t.maxIndex([c.delta_lt_up,c.delta_lt_down]);c.dir=0==u?__("tipranks.text.upside"):__("tipranks.text.downside"),e.push(c)}if(o.delta_eq_up>0||o.delta_eq_down>0){var c=r.clone(o);c.delta=a(100*Math.max(c.delta_eq_up,c.delta_eq_down));var d=t.maxIndex([c.delta_eq_up,c.delta_eq_down]);c.dir=0==d?__("tipranks.text.upside"):__("tipranks.text.downside"),n.push(c)}}),[e,n,i]},minNonZero:function(t){return Array.prototype.reduce.call(arguments,function(t,e){return t&&e?Math.min(t,e):t||e})},maxIndex:function(t){return t.reduce(function(t,e,n,i){return e>i[t]?n:t},0)},numDaysBetween:function(t,e){return Math.abs(t.getTime()-e.getTime())/864e5},getTomorrow:function(t){return new Date(t.setDate(t.getDate()+1))},instrumentNameWithSlash:function(t){return t.substring(0,3)+"/"+t.substring(3,6)}});i.exports=l}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(0),s=n(14),a=n(24),l=n(1),c=n(16),u=n(120),d=o.template(n(1745)),h=a.extend({initialize:function(t){a.prototype.initialize.apply(this,arguments),this.event=t.event,this.render()},events:function(){return o.extend({},o.result(a.prototype,"events"),{"click .group":"changeGroup"})},changeGroup:function(t){this.$el.find(".group").removeClass("active"),this.$el.find(".items").addClass("hidden"),r(t.currentTarget).addClass("active");var e=Array.prototype.indexOf.call(t.currentTarget.parentElement.children,t.currentTarget);r(this.$el.find(".items").get(e)).removeClass("hidden")},getOptions:function(t){return o.extend({},o.result(a.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("tab.financial_events"),previousCaption:__("actions.back"),headerStyle:"wizard",bodyStyle:"trading-tools"},t)},render:function(t){a.prototype.render.call(this);var e=this.event.itemsByGroups(),n=e.indexOf(o.find(e,function(t){return t.length>0})),i=[__("autochartist.text.actual_lt_consensus"),__("autochartist.text.actual_eq_consensus"),__("autochartist.text.actual_gt_consensus")];return this.setContent(d({event:this.event,itemGroups:e,activeGroupIndex:n,groupDescriptions:i})),this.getBuySell(e),this},getBuySell:function(t){var e=this,n=0;o.each(t,function(t){o.each(t,function(t){var i=t.symbol.name.substring(0,3)+"/"+t.symbol.name.substring(3,6),r=s.getInstrumentBySymbol(i),a=l.createElement(u,{type:"Sell",column:{name:"Sell",key:"bid",direction:"bidDirection"},model:r,isSelected:!0,onClick:o.noop()}),d=l.createElement(u,{type:"Buy",column:{name:"Buy",key:"ask",direction:"askDirection"},model:r,isSelected:!1,onClick:o.noop()});c.render(a,e.$el.find(".instrument-sell-change tr")[n]),c.render(d,e.$el.find(".instrument-buy-change tr")[n]),n++})})},close:function(){a.prototype.close.call(this)}});i.exports=h}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports='<div class="events-trade-mobile-wrapper"><div class="event-view"><div class="item-groups"> <%_.each(itemGroups, function(group, index){%> <div class="group <%if(activeGroupIndex == index){%>active<%}%> <%if (group.length == 0){%>hidden<%}%>"><%if(group.length > 0){%><%=groupDescriptions[index]%><%}%></div> <%})%> </div><div class="event-data"><div class="event-country"><span class="flag flag-<%=event.getCountryCode()%>"></span></div><div class="event-details"><div class="event-name"><%=event.getName()%></div><div><span><%=__(\'autochartist.text.when\') + \' (\' + __(\'autochartist.text.when_time\') + \')\'%>:</span><span> <%=event.formatDate()%></span></div></div></div> <%_.each(itemGroups, function(group, index){%> <div class="items <%if(activeGroupIndex != index){%>hidden<%}%>"> <%_.each(group, function(item){%> <div class="item"><div class="item-data"><div class="instrument"><%=item.symbol.name.substring(0,3) + \'/\' + item.symbol.name.substring(3,6)%></div><div><%=__(\'autochartist.text.projected_trend_period\')%>: <%=item.time_frame/60%> <%=__(\'autochartist.text.hours\')%></div><div class="<%=item.dir.toLowerCase()%>"><%=__(\'autochartist.text.projected_trend\')%>: <span><%=item.dir%><span class="arrow"></span></span></div><div><%=__(\'autochartist.text.probability\')%>: <%=item.delta%>%</div></div><div class="buttons"><div class="instrument-sell-change"><table><tr></tr></table></div><div class="instrument-buy-change"><table><tr></tr></table></div></div></div> <%})%> </div> <%})%> </div></div>'},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(2),s=n(12),a=n(14),l=n(54),c=n(7),u=n(6),d=n(119),h=n(1),p=n(16),f=n(161).default,m=r.template(n(1747)),g=s.extend({usedSymbols:[],initialize:function(){this.userTimezone=d.user,s.prototype.initialize.apply(this,arguments),this.listenTo(o,"ui:header-itemclick",this.closePopup),this.listenTo(o,"ui:instrument:change",this.closePopup),this.render()},events:function(){return r.extend({},r.result(s.prototype,"events"),{"click .header-events-trade .fn-close-popup":"closePopup"})},closePopup:function(t){l.remove(this.usedSymbols),this.$el.find(".events-trade-wrapper").remove(),o.trigger("ui:chart:update-size"),t&&o.navigate("/")},loadAutochartist:function(t){var e=this;financialEvents&&r.isFunction(financialEvents.init)&&financialEvents.init({className:"events-trade",customDropdown:this.addCustomDropdown,locale:"en",eventTypeCode:c.getApplicationSettings().get("event_and_trade:selectedEventTypeCode"),symbol:c.getApplicationSettings().get("event_and_trade:selectedSymbol"),preloadData:t||null,onChange:function(t){var e=t.symbol,n=t.eventTypeCode;o.navigate("events-and-trade/"+n+"/"+e,{trigger:!1,replace:!1})},buySellCallback:function(t,e,n){var i=a.getInstrumentBySymbol(t);if(!0===n)return!(!i||i.isTradableBySide(e))&&i.get(e+"NotTradableMessage");if(i){var r={direction:e,symbolOrId:i.id,quantity:null,type:!1,tp:!1,sl:!1,source:"events_and_trade"};o.trigger("ui:new-position",r)}},timeOffsetCallback:function(t,n){return e.userTimezone.setDateAsNewDate(t,n)},getGMTPostfix:function(){return e.userTimezone.GMTPostfix()},project:"indigo",subscriptionCallback:function(t){return e.usedSymbols=l.update(t,e.usedSymbols).addedSymbols}})},addCustomDropdown:function(t,e,n){p.render(h.createElement(f,{placeholder:__("search.all.instruments"),options:e,onChange:n,transformOptionText:function(t){return String(t).substring(0,3)+"/"+String(t).substring(3,t.length)}}),t)},render:function(){var t=this;return s.prototype.render.call(this),this.$el.append(m({})),u.loadEventsAndTrade().then(function(e){return t.loadAutochartist(e.data)}).catch(function(){return t.loadAutochartist()}),this}});i.exports=g}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<div class="events-trade-wrapper popup-item"><div class="popup-item-wrapper"><div class="hidden-xs header-events-trade"><div class="header-actions fn-close-popup"><i class="icon-close-blue"></i></div></div><div class="events-trade"></div></div></div>'},function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function r(t,e){var n=e.id;return{value:Object(H.h)(t,n)}}function o(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function s(t,e){var n=e.id;return{value:Object(H.j)(t,n)||null}}function a(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function d(t,e){var n=e.id;return{value:Object(H.h)(t,n)}}function h(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function p(t,e){var n=e.id;return{value:Object(H.g)(t,n)}}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function g(t,e){var n=e.id;return{active:Object(H.o)(t,n),newItemsId:Object(H.d)(t)}}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _(t){var e=t.commentaries.isFirstLoad;return{sortedItemsId:Object(H.e)(t),isFirstLoad:e,isCommentaryLoading:Object(H.q)(t),selectedCommentaryId:Object(H.m)(t)}}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function E(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function x(t){return{sortedItemsId:Object(H.e)(t),selectedCommentaryId:Object(H.m)(t)}}Object.defineProperty(e,"__esModule",{value:!0});var C=n(118),T=n(2),k=n.n(T),O=n(12),P=n.n(O),I=n(0),A=n.n(I),M=n(1),N=n.n(M),D=n(33),L=n.n(D),R=n(804),F=n.n(R),B=n(293),U=n(294),j=n(295),z=n(421),V=n(8),H=n(88),G=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},W=function(t){var e=t.value,n=(t.dispatch,t.as),r=void 0===n?"span":n,o=i(t,["value","dispatch","as"]);return N.a.createElement(r||"span",G({},o),e)},q=Object(V.connect)(r)(W),$=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Y=function(t){var e=t.value,n=(t.dispatch,t.as),i=o(t,["value","dispatch","as"]);return N.a.createElement(n||"a",$({href:e},i),e)},X=Object(V.connect)(s)(Y),K=n(186),Q=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),J=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),Q(e,[{key:"componentDidMount",value:function(){this.props.value||this.props.dispatch(Object(K.loadCommentary)(this.props.id))}},{key:"render",value:function(){var t=this.props,e=t.value,n=(t.dispatch,t.children),i=a(t,["value","dispatch","children"]);return e?N.a.createElement(i.as,i,n):null}}]),e}(N.a.Component);J.defaultProps={as:"span"};var Z=Object(V.connect)(d)(J),tt=function(t){var e=t.value,n=(t.dispatch,t.id),i=h(t,["value","dispatch","id"]);return e?N.a.createElement("div",i,N.a.createElement("div",{className:"date"},N.a.createElement(U.a,{id:n,as:"span"})," | "," ",N.a.createElement(j.a,{id:n,as:"span"})),N.a.createElement(B.a,{id:n,as:"div",className:"caption"}),N.a.createElement(Z,{id:n,as:"div",className:"text"},N.a.createElement(q,{id:n,as:"div"})),N.a.createElement("div",{className:"source"},__("source"),":"," ",N.a.createElement(X,{id:n,target:"_blank",className:"source"}))):null},et=Object(V.connect)(p)(tt),nt=n(11),it=n.n(nt),rt=n(826),ot=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},st=function(t){var e,n=t.active,i=(t.dispatch,t.children),r=t.activeClassName,o=void 0===r?"active":r,s=t.notActiveClassName,a=void 0===s?"":s,l=t.className,c=m(t,["active","dispatch","children","activeClassName","notActiveClassName","className"]),u=it()((e={},f(e,l,!!l),f(e,o,n),f(e,a,!n),e));return N.a.createElement(rt.a,ot({className:u},c),i)},at=Object(V.connect)(g)(st),lt=n(429),ct=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ut=function(t){function e(t){v(this,e);var n=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return L()(n),n}return y(e,t),ct(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.dispatch,n=t.uriCommentaryId;Object(lt.b)(e).then(function(){e(n?Object(K.selectCommentary)(n):Object(K.selectFirstItem)())})}},{key:"componentWillUnmount",value:function(){Object(lt.a)()}},{key:"click",value:function(t){this.props.dispatch(Object(K.selectCommentary)(t)),this.props.dispatch(Object(K.loadCommentary)(t)),k.a.navigate("commentary/"+t)}},{key:"close",value:function(){this.props.onClose()}},{key:"render",value:function(){var t=this,e=this.props,n=e.isCommentaryLoading,i=e.selectedCommentaryId,r=e.sortedItemsId;return e.isFirstLoad&&n?N.a.createElement("div",{className:"cssload-jumping small-px"},N.a.createElement("span",null),N.a.createElement("span",null),N.a.createElement("span",null)):N.a.createElement("div",{className:"page pane pane__fluid commentaries"},N.a.createElement("div",{className:"pane header header_blue"},N.a.createElement("div",{className:"header__body"},N.a.createElement("div",{className:"header__title"},__("service.commentary.page.title")),N.a.createElement("div",{className:"header__description"},__("service.commentary.page.description"))),N.a.createElement("div",{className:"header__actions"},N.a.createElement("div",{onClick:this.close},N.a.createElement("i",{className:"icon-close-blue"})))),N.a.createElement("div",{className:"commentary__wrapper page__body pane__row"},N.a.createElement("div",{className:"pane pane__fluid commentaries__page-container"},N.a.createElement("div",{className:"pane__scroll"},N.a.createElement("div",{className:"pane__scroll-content"},N.a.createElement(F.a,null,N.a.createElement("div",{className:"list list--column"},A.a.map(r,function(e){return N.a.createElement(at,{as:"div",id:e,key:e,className:"list__item flex flex-column",notActiveClassName:"color__platform-3 bg__platform-1-hover",activeClassName:"active bg__platform-1",onClick:function(n){return t.click(e)}},N.a.createElement("div",{className:"date text-muted small-px"},N.a.createElement(U.a,{id:e})," | ",N.a.createElement(j.a,{id:e}),N.a.createElement(z.a,{id:e,className:"commentary-block__label_new"})),N.a.createElement(B.a,{id:e,as:"div",className:"color__brand-primary medium-px"}))})))))),N.a.createElement("div",{className:"pane pane__fluid"},N.a.createElement("div",{className:"pane__scroll"},N.a.createElement("div",{className:"pane__scroll-content"},N.a.createElement(F.a,null,N.a.createElement("div",{className:"commentaries__page-content"},n&&N.a.createElement("div",null),i&&N.a.createElement(et,{id:i,className:"content"}))))))))}}]),e}(N.a.Component),dt=Object(V.connect)(_)(ut),ht=function(t){var e=t.children,n=t.caption,i=t.captionBack,r=t.onBackClick,o=it()({"x-popup responsive-popup x-popup-stretch-xs":!0,"x-popup-no-padding-xs responsive-popup-fixed x-popup-fixed":!0,"responsive-popup-translucent-1 x-popup-translucent-1":!0,"show-popup account-settings-popup":!0,"responsive-popup-opened":!0}),s=it()({"hidden-sm hidden-md hidden-lg":!0,"slide-box-overlay slide-box-overlay-translucent-1":!0});return N.a.createElement("div",{tabIndex:"-1",className:o,id:"view4054"},N.a.createElement("div",{className:s}),N.a.createElement("div",{className:"x-popup-box responsive-container"},N.a.createElement("div",{className:"x-popup-panel responsive-panel"},N.a.createElement("div",{className:"x-popup-holder"},N.a.createElement("div",{className:"x-popup-content"},N.a.createElement("div",{className:"responsive-popup-content"},N.a.createElement("div",{className:"hidden-sm hidden-md hidden-lg responsive-header "},N.a.createElement("div",{className:"previous btn fn-previous",onClick:r},N.a.createElement("div",{className:"arrow"}),N.a.createElement("div",{className:"caption"},i)),N.a.createElement("div",{className:"caption"},n),N.a.createElement("div",{className:"navigation-box"})),N.a.createElement("div",{className:"responsive-popup-body",style:{height:"100%"}},N.a.createElement("div",{className:"pane pane__fluid pane__scroll"},N.a.createElement("div",{className:"pane__scroll-content"},e)))))))))},pt=ht,ft=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),mt=function(t){function e(t){w(this,e);var n=S(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return L()(n),n}return E(e,t),ft(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.dispatch,n=t.uriCommentaryId;Object(lt.b)(e).then(function(){n&&e(Object(K.selectCommentary)(n))})}},{key:"componentWillUnmount",value:function(){Object(lt.a)()}},{key:"click",value:function(t){this.props.dispatch(Object(K.selectCommentary)(t)),this.props.dispatch(Object(K.loadCommentary)(t)),k.a.navigate("#commentary/"+t,{trigger:!1})}},{key:"close",value:function(){this.props.onClose()}},{key:"cleanSelectedCommentary",value:function(){this.props.dispatch(Object(K.selectCommentary)(null)),k.a.navigate("#commentary",{trigger:!1})}},{key:"render",value:function(){var t=this,e=this.props,n=e.selectedCommentaryId,i=e.sortedItemsId;return n?N.a.createElement(pt,{caption:__("service.commentary.page.title"),captionBack:__("actions.back"),onBackClick:this.cleanSelectedCommentary},N.a.createElement(Z,{as:"div",className:"commentaries commentaries__mobile full pane__fluid",id:n},N.a.createElement("div",{className:"date smaller-px"},N.a.createElement(U.a,{id:n})," ","|"," ",N.a.createElement(j.a,{id:n})),N.a.createElement(B.a,{id:n,as:"div",className:"caption big-b-px"}),N.a.createElement(q,{id:n,as:"div",className:"text medium-px"}),N.a.createElement("div",{className:"source"},__("source"),":"," ",N.a.createElement(X,{id:n,target:"_blank",className:"source smaller-px"})))):N.a.createElement(pt,{caption:__("service.commentary.page.title"),captionBack:__("actions.back"),onBackClick:this.close},N.a.createElement("div",{className:"commentaries__mobile list list--column"},A.a.map(i,function(e){return N.a.createElement(at,{as:"div",id:e,key:e,className:"list__item",notActiveClassName:"color__platform-3 bg__platform-1-hover",activeClassName:"active bg__platform-1",onClick:function(n){return t.click(e)}},N.a.createElement("div",{className:"pane pane__fluid pane__row"},N.a.createElement("div",{className:"pane pane__fluid flex flex-column"},N.a.createElement("div",{className:"date smaller-px"},N.a.createElement(U.a,{id:e})," ","|"," ",N.a.createElement(j.a,{as:"span",id:e}),N.a.createElement(z.a,{id:e,className:"commentary-block__label_new"})),N.a.createElement(B.a,{id:e,as:"div",className:"color__brand-primary medium-px"})),N.a.createElement("div",{className:"pane flex flex-valign-center arrow"},N.a.createElement("div",{className:"right icon-marketsX-popup-arrow-right"}),N.a.createElement("div",{className:"left icon-marketsX-popup-arrow-left"}))))})))}}]),e}(N.a.Component),gt=Object(V.connect)(x)(mt),vt=n(16),bt=n.n(vt);e.default=P.a.extend({initialize:function(){var t=this;P.a.prototype.initialize.apply(this,arguments),this.listenTo(k.a,"ui:header-itemclick",function(){return t.options.onClose(!1)})},render:function(){P.a.prototype.render.call(this);var t=this.options;return bt.a.render(N.a.createElement(V.Provider,{store:store},N.a.createElement("div",{className:"commentaries-wrapper popup-item"},N.a.createElement(C.default,{minWidth:768},N.a.createElement(dt,t)),N.a.createElement(C.default,{maxWidth:767},N.a.createElement(gt,t)))),this.el),this},destroy:function(){bt.a.unmountComponentAtNode(this.el),P.a.prototype.destroy.call(this)}})},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var r=n(5),o=n(0),s=n(12),a=(n(2),n(95),n(7),s.extend({name:"",className:"platform-type-popup",template:o.template(n(1750)),initialize:function(t){s.prototype.initialize.apply(this,arguments),this.render()},onDemoClick:function(){__eventos("onBoardFlow:platformModeSelector:clkButtonDemo"),this.options.cancel(),this.destroy()},onRealClick:function(){__eventos("onBoardFlow:platformModeSelector:clkButtonReal"),this.options.success(),this.destroy()},events:function(){return o.extend({},o.result(s.prototype,"events"),{"click .demo-mode":"onDemoClick","click .real-mode":"onRealClick"})},render:function(){s.prototype.render.call(this),this.$el.html(r(this.template()))}}));i.exports=a}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports='<div class="account-mode-popup"><div class="account-mode-popup-content"><div class="account-mode-caption"> <%= __(\'first.login.registraion.title\') %> <span><%= __(\'platform.popup.caption.description\') %></span></div><div class="account-buttons"><div class="demo-mode"><div class="demo-button-icon"></div><div class="account-buttons-caption"> <%= __(\'platform.popup.demo.button.title\') %> <span class="account-buttons-footer"> <%= __(\'platform.popup.demo.button.footer\') %> </span></div></div><div class="real-mode"><div class="real-button-icon"></div><div class="account-buttons-caption"> <%= __(\'platform.popup.real.button.title\') %> <span class="account-buttons-footer"> <%= __(\'platform.popup.real.button.footer\') %> </span></div></div></div></div><div class="account-mode-footer"> <%= __(\'platform.popup.footer\') %> </div></div>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),r=n.n(i),o=n(16),s=n.n(o),a=n(1),l=n.n(a),c=n(8),u=n(2),d=n.n(u),h=n(851),p=n(1808);e.default=r.a.extend({initialize:function(){var t=this;r.a.prototype.initialize.apply(this,arguments),this.listenTo(d.a,"ui:header-itemclick",function(){return t.options.onClose(!1)})},events:{"click .take-tour":"openTour"},openTour:function(){this.$el.find(".acuity__body")[0];Object(p.a)(this.$el)},render:function(){return r.a.prototype.render.call(this),s.a.render(l.a.createElement(c.Provider,{store:store},l.a.createElement(h.b,this.options)),this.el),this},destroy:function(){s.a.unmountComponentAtNode(this.el),r.a.prototype.destroy.call(this)}})},function(t,e,n){n(1753),t.exports=n(48).Object.getPrototypeOf},function(t,e,n){var i=n(218),r=n(750);n(387)("getPrototypeOf",function(){return function(t){return r(i(t))}})},function(t,e,n){n(1755);var i=n(48).Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},function(t,e,n){var i=n(99);i(i.S+i.F*!n(130),"Object",{defineProperty:n(121).f})},function(t,e,n){t.exports={default:n(1757),__esModule:!0}},function(t,e,n){n(220),n(268),t.exports=n(393).f("iterator")},function(t,e,n){var i=n(390),r=n(384);t.exports=function(t){return function(e,n){var o,s,a=String(r(e)),l=i(n),c=a.length;return l<0||l>=c?t?"":void 0:(o=a.charCodeAt(l),o<55296||o>56319||l+1===c||(s=a.charCodeAt(l+1))<56320||s>57343?t?a.charAt(l):o:t?a.slice(l,l+2):s-56320+(o-55296<<10)+65536)}}},function(t,e,n){"use strict";var i=n(391),r=n(219),o=n(267),s={};n(156)(s,n(67)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(s,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var i=n(121),r=n(105),o=n(204);t.exports=n(130)?Object.defineProperties:function(t,e){r(t);for(var n,s=o(e),a=s.length,l=0;a>l;)i.f(t,n=s[l++],e[n]);return t}},function(t,e,n){var i=n(157),r=n(434),o=n(1762);t.exports=function(t){return function(e,n,s){var a,l=i(e),c=r(l.length),u=o(s,c);if(t&&n!=n){for(;c>u;)if((a=l[u++])!=a)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}}},function(t,e,n){var i=n(390),r=Math.max,o=Math.min;t.exports=function(t,e){return t=i(t),t<0?r(t+e,0):o(t,e)}},function(t,e,n){"use strict";var i=n(1764),r=n(1765),o=n(181),s=n(157);t.exports=n(753)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):"keys"==e?r(0,n):"values"==e?r(0,t[n]):r(0,[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){t.exports={default:n(1767),__esModule:!0}},function(t,e,n){n(1768),n(759),n(1773),n(1774),t.exports=n(48).Symbol},function(t,e,n){"use strict";var i=n(66),r=n(155),o=n(130),s=n(99),a=n(754),l=n(1769).KEY,c=n(180),u=n(386),d=n(267),h=n(265),p=n(67),f=n(393),m=n(394),g=n(1770),v=n(1771),b=n(105),y=n(129),_=n(157),w=n(389),S=n(219),E=n(391),x=n(1772),C=n(396),T=n(121),k=n(204),O=C.f,P=T.f,I=x.f,A=i.Symbol,M=i.JSON,N=M&&M.stringify,D=p("_hidden"),L=p("toPrimitive"),R={}.propertyIsEnumerable,F=u("symbol-registry"),B=u("symbols"),U=u("op-symbols"),j=Object.prototype,z="function"==typeof A,V=i.QObject,H=!V||!V.prototype||!V.prototype.findChild,G=o&&c(function(){return 7!=E(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=O(j,e);i&&delete j[e],P(t,e,n),i&&t!==j&&P(j,e,i)}:P,W=function(t){var e=B[t]=E(A.prototype);return e._k=t,e},q=z&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},$=function(t,e,n){return t===j&&$(U,e,n),b(t),e=w(e,!0),b(n),r(B,e)?(n.enumerable?(r(t,D)&&t[D][e]&&(t[D][e]=!1),n=E(n,{enumerable:S(0,!1)})):(r(t,D)||P(t,D,S(1,{})),t[D][e]=!0),G(t,e,n)):P(t,e,n)},Y=function(t,e){b(t);for(var n,i=g(e=_(e)),r=0,o=i.length;o>r;)$(t,n=i[r++],e[n]);return t},X=function(t,e){return void 0===e?E(t):Y(E(t),e)},K=function(t){var e=R.call(this,t=w(t,!0));return!(this===j&&r(B,t)&&!r(U,t))&&(!(e||!r(this,t)||!r(B,t)||r(this,D)&&this[D][t])||e)},Q=function(t,e){if(t=_(t),e=w(e,!0),t!==j||!r(B,e)||r(U,e)){var n=O(t,e);return!n||!r(B,e)||r(t,D)&&t[D][e]||(n.enumerable=!0),n}},J=function(t){for(var e,n=I(_(t)),i=[],o=0;n.length>o;)r(B,e=n[o++])||e==D||e==l||i.push(e);return i},Z=function(t){for(var e,n=t===j,i=I(n?U:_(t)),o=[],s=0;i.length>s;)!r(B,e=i[s++])||n&&!r(j,e)||o.push(B[e]);return o};z||(A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===j&&e.call(U,n),r(this,D)&&r(this[D],t)&&(this[D][t]=!1),G(this,t,S(1,n))};return o&&H&&G(j,t,{configurable:!0,set:e}),W(t)},a(A.prototype,"toString",function(){return this._k}),C.f=Q,T.f=$,n(758).f=x.f=J,n(269).f=K,n(395).f=Z,o&&!n(203)&&a(j,"propertyIsEnumerable",K,!0),f.f=function(t){return W(p(t))}),s(s.G+s.W+s.F*!z,{Symbol:A});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)p(tt[et++]);for(var nt=k(p.store),it=0;nt.length>it;)m(nt[it++]);s(s.S+s.F*!z,"Symbol",{for:function(t){return r(F,t+="")?F[t]:F[t]=A(t)},keyFor:function(t){if(!q(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){H=!0},useSimple:function(){H=!1}}),s(s.S+s.F*!z,"Object",{create:X,defineProperty:$,defineProperties:Y,getOwnPropertyDescriptor:Q,getOwnPropertyNames:J,getOwnPropertySymbols:Z}),M&&s(s.S+s.F*(!z||c(function(){var t=A();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(y(e)||void 0!==t)&&!q(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!q(e))return e}),i[1]=e,N.apply(M,i)}}),A.prototype[L]||n(156)(A.prototype,L,A.prototype.valueOf),d(A,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},function(t,e,n){var i=n(265)("meta"),r=n(129),o=n(155),s=n(121).f,a=0,l=Object.isExtensible||function(){return!0},c=!n(180)(function(){return l(Object.preventExtensions({}))}),u=function(t){s(t,i,{value:{i:"O"+ ++a,w:{}}})},d=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[i].i},h=function(t,e){if(!o(t,i)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[i].w},p=function(t){return c&&f.NEED&&l(t)&&!o(t,i)&&u(t),t},f=t.exports={KEY:i,NEED:!1,fastKey:d,getWeak:h,onFreeze:p}},function(t,e,n){var i=n(204),r=n(395),o=n(269);t.exports=function(t){var e=i(t),n=r.f;if(n)for(var s,a=n(t),l=o.f,c=0;a.length>c;)l.call(t,s=a[c++])&&e.push(s);return e}},function(t,e,n){var i=n(205);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(157),r=n(758).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return r(t)}catch(t){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?a(t):r(i(t))}},function(t,e,n){n(394)("asyncIterator")},function(t,e,n){n(394)("observable")},function(t,e,n){t.exports={default:n(1776),__esModule:!0}},function(t,e,n){n(1777),t.exports=n(48).Object.setPrototypeOf},function(t,e,n){var i=n(99);i(i.S,"Object",{setPrototypeOf:n(1778).set})},function(t,e,n){var i=n(129),r=n(105),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n(188)(Function.call,n(396).f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){t.exports={default:n(1780),__esModule:!0}},function(t,e,n){n(1781);var i=n(48).Object;t.exports=function(t,e){return i.create(t,e)}},function(t,e,n){var i=n(99);i(i.S,"Object",{create:n(391)})},function(t,e,n){n(1783),t.exports=n(48).Object.assign},function(t,e,n){var i=n(99);i(i.S+i.F,"Object",{assign:n(1784)})},function(t,e,n){"use strict";var i=n(204),r=n(395),o=n(269),s=n(218),a=n(756),l=Object.assign;t.exports=!l||n(180)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=i})?function(t,e){for(var n=s(t),l=arguments.length,c=1,u=r.f,d=o.f;l>c;)for(var h,p=a(arguments[c++]),f=u?i(p).concat(u(p)):i(p),m=f.length,g=0;m>g;)d.call(p,h=f[g++])&&(n[h]=p[h]);return n}:l},function(t,e,n){n(1786),t.exports=n(48).Object.keys},function(t,e,n){var i=n(218),r=n(204);n(387)("keys",function(){return function(t){return r(i(t))}})},function(t,e,n){t.exports={default:n(1788),__esModule:!0}},function(t,e,n){n(759),n(220),n(268),n(1789),n(1797),n(1798),t.exports=n(48).Promise},function(t,e,n){"use strict";var i,r,o,s,a=n(203),l=n(66),c=n(188),u=n(398),d=n(99),h=n(129),p=n(266),f=n(1790),m=n(1791),g=n(761),v=n(762).set,b=n(1793)(),y=n(399),_=n(763),w=n(1794),S=n(764),E=l.TypeError,x=l.process,C=x&&x.versions,T=C&&C.v8||"",k=l.Promise,O="process"==u(x),P=function(){},I=r=y.f,A=!!function(){try{var t=k.resolve(1),e=(t.constructor={})[n(67)("species")]=function(t){t(P,P)};return(O||"function"==typeof PromiseRejectionEvent)&&t.then(P)instanceof e&&0!==T.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),M=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},N=function(t,e){if(!t._n){t._n=!0;var n=t._c;b(function(){for(var i=t._v,r=1==t._s,o=0;n.length>o;)!function(e){var n,o,s,a=r?e.ok:e.fail,l=e.resolve,c=e.reject,u=e.domain;try{a?(r||(2==t._h&&R(t),t._h=1),!0===a?n=i:(u&&u.enter(),n=a(i),u&&(u.exit(),s=!0)),n===e.promise?c(E("Promise-chain cycle")):(o=M(n))?o.call(n,l,c):l(n)):c(i)}catch(t){u&&!s&&u.exit(),c(t)}}(n[o++]);t._c=[],t._n=!1,e&&!t._h&&D(t)})}},D=function(t){v.call(l,function(){var e,n,i,r=t._v,o=L(t);if(o&&(e=_(function(){O?x.emit("unhandledRejection",r,t):(n=l.onunhandledrejection)?n({promise:t,reason:r}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t._h=O||L(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},L=function(t){return 1!==t._h&&0===(t._a||t._c).length},R=function(t){v.call(l,function(){var e;O?x.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},F=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),N(e,!0))},B=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw E("Promise can't be resolved itself");(e=M(t))?b(function(){var i={_w:n,_d:!1};try{e.call(t,c(B,i,1),c(F,i,1))}catch(t){F.call(i,t)}}):(n._v=t,n._s=1,N(n,!1))}catch(t){F.call({_w:n,_d:!1},t)}}};A||(k=function(t){f(this,k,"Promise","_h"),p(t),i.call(this);try{t(c(B,this,1),c(F,this,1))}catch(t){F.call(this,t)}},i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n(1795)(k.prototype,{then:function(t,e){var n=I(g(this,k));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=O?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=c(B,t,1),this.reject=c(F,t,1)},y.f=I=function(t){return t===k||t===s?new o(t):r(t)}),d(d.G+d.W+d.F*!A,{Promise:k}),n(267)(k,"Promise"),n(1796)("Promise"),s=n(48).Promise,d(d.S+d.F*!A,"Promise",{reject:function(t){var e=I(this);return(0,e.reject)(t),e.promise}}),d(d.S+d.F*(a||!A),"Promise",{resolve:function(t){return S(a&&this===s?k:this,t)}}),d(d.S+d.F*!(A&&n(870)(function(t){k.all(t).catch(P)})),"Promise",{all:function(t){var e=this,n=I(e),i=n.resolve,r=n.reject,o=_(function(){var n=[],o=0,s=1;m(t,!1,function(t){var a=o++,l=!1;n.push(void 0),s++,e.resolve(t).then(function(t){l||(l=!0,n[a]=t,--s||i(n))},r)}),--s||i(n)});return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=I(e),i=n.reject,r=_(function(){m(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(188),r=n(868),o=n(869),s=n(105),a=n(434),l=n(435),c={},u={},e=t.exports=function(t,e,n,d,h){var p,f,m,g,v=h?function(){return t}:l(t),b=i(n,d,e?2:1),y=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(p=a(t.length);p>y;y++)if((g=e?b(s(f=t[y])[0],f[1]):b(t[y]))===c||g===u)return g}else for(m=v.call(t);!(f=m.next()).done;)if((g=r(m,b,f.value,e))===c||g===u)return g};e.BREAK=c,e.RETURN=u},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(66),r=n(762).set,o=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,l="process"==n(205)(s);t.exports=function(){var t,e,n,c=function(){var i,r;for(l&&(i=s.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(l)n=function(){s.nextTick(c)};else if(!o||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var u=a.resolve(void 0);n=function(){u.then(c)}}else n=function(){r.call(i,c)};else{var d=!0,h=document.createTextNode("");new o(c).observe(h,{characterData:!0}),n=function(){h.data=d=!d}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},function(t,e,n){var i=n(66),r=i.navigator;t.exports=r&&r.userAgent||""},function(t,e,n){var i=n(156);t.exports=function(t,e,n){for(var r in e)n&&t[r]?t[r]=e[r]:i(t,r,e[r]);return t}},function(t,e,n){"use strict";var i=n(66),r=n(48),o=n(121),s=n(130),a=n(67)("species");t.exports=function(t){var e="function"==typeof r[t]?r[t]:i[t];s&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var i=n(99),r=n(48),o=n(66),s=n(761),a=n(764);i(i.P+i.R,"Promise",{finally:function(t){var e=s(this,r.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then(function(){return n})}:t,n?function(n){return a(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var i=n(99),r=n(399),o=n(763);i(i.S,"Promise",{try:function(t){var e=r.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){n(1800);var i=n(48).Object;t.exports=function(t,e){return i.getOwnPropertyDescriptor(t,e)}},function(t,e,n){var i=n(157),r=n(396).f;n(387)("getOwnPropertyDescriptor",function(){return function(t,e){return r(i(t),e)}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(1802),o=i(r),s=n(1805),a=i(s);e.default=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,l=(0,a.default)(t);!(i=(s=l.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&l.return&&l.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,o.default)(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){t.exports={default:n(1803),__esModule:!0}},function(t,e,n){n(268),n(220),t.exports=n(1804)},function(t,e,n){var i=n(398),r=n(67)("iterator"),o=n(181);t.exports=n(48).isIterable=function(t){var e=Object(t);return void 0!==e[r]||"@@iterator"in e||o.hasOwnProperty(i(e))}},function(t,e,n){t.exports={default:n(1806),__esModule:!0}},function(t,e,n){n(268),n(220),t.exports=n(1807)},function(t,e,n){var i=n(105),r=n(435);t.exports=n(48).getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},function(t,e,n){"use strict";(function(t){var i=n(0),r=(n.n(i),n(187)),o=n.n(r);e.a=function(e){var n=e.find(".take-tour");n.addClass("hidden");var i=function(t){return e.find(t)},r=function(t,e){return i(t)[e]},s=[{element:r(".ReactVirtualized__List",0),intro:__("acuity-trading.text.slide_1_text"),position:"top"},{element:r(".acuity__table-column-sentiment",0),intro:__("acuity-trading.text.slide_2_text"),position:"bottom"},{element:r(".acuity__bar",0),intro:__("acuity-trading.text.slide_3_text"),position:"top"},{element:r(".acuity__bar",1),intro:__("acuity-trading.text.slide_4_text"),position:"bottom"},{element:r(".acuity__info-news-sentiment-circle",0),intro:__("acuity-trading.text.slide_5_text"),position:"top"},{element:r(".acuity__info-chart",0),intro:__("acuity-trading.text.slide_6_text"),position:"top"},{element:r(".acuity-header__controls",0),intro:__("acuity-trading.text.slide_7_text"),position:"bottom"}];o.a.introJs().setOptions({nextLabel:__("tipranks.text.slide_next"),prevLabel:__("tipranks.text.slide_prev"),doneLabel:__("actions.done"),skipLabel:" ",steps:s}).oncomplete(function(){t(n.removeClass("hidden"))}).onexit(function(){t(n.removeClass("hidden"))}).start()}}).call(e,n(5))},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=(n(5),n(0)),o=n(51),s=n(9),a=r.template(n(1810)),l={terms_and_conditions_bonus:s.isBonusesAwardsEnabled()};i.exports=o.extend({getOptions:function(t){return r.extend({},r.result(o.prototype,"getOptions"),{hideCancelButton:!0,showHeader:!1,confirmCaption:__("legal_documents"),confirmOKBtnText:__("ok"),confirmMessage:a({isBonusesAwardsEnabled:s.isBonusesAwardsEnabled(),links:r.filter(s.getLegalDocumentsPopupLinks(),function(t){return!1!==l[t]})}),parent:document.body},t)},initialize:function(t){o.prototype.initialize.apply(this,arguments)}})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports="<div class=\"legal-documents-wrapper\"><p><%=__('legal_documents.popup.disclaimer')%></p><ul> <% _.each(links, function(link) { %> <% var key = 'legal_documents.popup.' + link; %> <li><%=__(key)%></li> <% }) %> </ul></div>"},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(24),s=r.template(n(1812)),a=o.extend({initialize:function(t){o.prototype.initialize.apply(this,arguments),this.render()},render:function(){return o.prototype.render.call(this),this.setContent(s({helpCenterURL:__("link.faq")})),this}});i.exports=a}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<div class="help-center-wrapper"><iframe src="<%=helpCenterURL%>"></iframe></div>'},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(80),s=r.template(n(1814)),a=(n(2),n(7),o.extend({events:function(){return r.extend({},r.result(o.prototype,"events"),{"click .btn":"onButtonClick"})},getOptions:function(t){return r.extend({},r.result(o.prototype,"getOptions"),{isHeaderShowed:!1,closeIconStyle:"grey",headerBgStyle:"transparent",onClose:function(){},onLogin:function(){}},t)},initialize:function(t){o.prototype.initialize.apply(this,arguments),this.render()},render:function(){o.prototype.render.call(this),this.setContent(s())},close:function(t){o.prototype.close.call(this,t),this.options.onClose()},onButtonClick:function(t){o.prototype.close.call(this,t),this.options.onLogin()}}));i.exports=a}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<div class="session-expired-popup"><div class="session-expired-popup-content"><div class="icon-no-activity"></div><div class="title"><%=__(\'session_expired.title\')%></div><div class="description"><%=__(\'session_expired.description\')%></div></div><div class="actions"><button class="btn btn-primary"><%=__(\'new_account.login_link\')%></button></div></div>'},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var h=n(12),p=n.n(h),f=n(16),m=n.n(f),g=n(8),v=n(1),b=n.n(v),y=n(2),_=n.n(y),w=n(11),S=n.n(w),E=n(400),x=n(766),C=n(767),T=n(47),k=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),O=function(t){return{setActiveType:function(e){return t(Object(T.setActiveTab)(e))},messagesSelectAll:function(e,n){return t(Object(T.messagesSelectAll)(e,n))}}},P=function(t){function e(){var t;i(this,e);for(var n=arguments.length,o=Array(n),s=0;s<n;s++)o[s]=arguments[s];var a=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o)));return a.setActiveType=a.setActiveType.bind(a),a}return o(e,t),k(e,[{key:"render",value:function(){var t=this.props.name,e=S()({"notification-center__tab":!0,active:this.props.isActive});return b.a.createElement("div",{className:e,onClick:this.setActiveType},b.a.createElement("span",null,__("notification.center.tab."+t.toLowerCase())),b.a.createElement(x.a,{tabId:t}))}}]),e}(C.a);P.defaultProps={isActive:!1,name:""};var I=Object(g.connect)(void 0,O)(P),A=n(401),M=n(768),N=n(53),D=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),L=function(t){return{activeTab:Object(N.b)(t),tabs:Object(N.i)(t)}},R=function(t){function e(){return s(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),D(e,[{key:"render",value:function(){var t=this;return b.a.createElement("div",{className:"notification-center__tabs"},this.props.tabs.map(function(e){return b.a.createElement(I,{key:e,name:e,isActive:t.props.activeTab===e})}),b.a.createElement(M.a,null))}}]),e}(A.a),F=Object(g.connect)(L)(R),B=n(0),U=n.n(B),j=n(33),z=n.n(j),V=n(402),H=n(115),G=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),W=function(t){return{marked:Object(N.g)(t),garbage:Object(N.d)(t),activeTab:Object(N.b)(t),isMessageVisible:Object(N.k)(t),markAllCheckboxState:Object(N.f)(t)}},q=function(t){return{garbageAddMultiple:function(e,n){return t(Object(T.garbageAddMultiple)(e,n))},messagesSelectAll:function(e,n){return t(Object(T.messagesSelectAll)(e,n))},messagesReadMarked:function(e,n){return t(Object(T.messagesToggleReadSelectedRequest)(e,n))}}},$=function(t){function e(){var t;c(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=u(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i)));return o.state={isShouldMessagesBeRead:!0,isShouldMessagesBeMarked:!0},z()(o),o}return d(e,t),G(e,[{key:"componentWillUpdate",value:function(t){this.props.activeTab===t.activeTab&&this.props.garbage.count===t.garbage.count||this.setState({isShouldMessagesBeRead:!0,isShouldMessagesBeMarked:!0})}},{key:"onSelectAll",value:function(){var t=this,e=this.state.isShouldMessagesBeMarked;this.setState({isShouldMessagesBeMarked:!e},function(){t.props.messagesSelectAll(t.props.activeTab,e)})}},{key:"render",value:function(){var t=this.props,e=t.marked,n=t.garbage,i=t.isMessageVisible,r=t.markAllCheckboxState,o=U.a.difference(e.list,n.list).length,s=this.state.isShouldMessagesBeRead;return!o||i?null:b.a.createElement("div",{className:"notification-center__tab_action-buttons--mobile"},r===H.TAB_CHECKBOX_CHECKED&&b.a.createElement("i",{className:"icon icon-select-all-lg",onClick:this.onSelectAll}),r!==H.TAB_CHECKBOX_CHECKED&&b.a.createElement("i",{className:"icon icon-unselect-all-lg",onClick:this.onSelectAll}),b.a.createElement("i",{className:"icon icon-trash-lg",onClick:this.onDelete}),s&&b.a.createElement("i",{className:"icon icon-mail-read-lg",onClick:this.onRead}),!s&&b.a.createElement("i",{className:"icon icon-mail-read-lg",onClick:this.onRead}))}}]),e}(V.a),Y=Object(g.connect)(W,q)($),X=function(t){return{marked:Object(N.g)(t),garbage:Object(N.d)(t),isActiveMessageVisible:Object(N.k)(t)}},K=function(t){var e=t.marked,n=t.garbage,i=t.isActiveMessageVisible,r=U.a.difference(e.list,n.list).length,o=r&&!i,s=S()({"notification-center__title":!o,"notification-center__title--left":o});return o?b.a.createElement("div",{className:s},r+" "+__("notification.center.selected")):b.a.createElement("div",{className:s},__("notification.center.title"))},Q=Object(g.connect)(X)(K),J=n(403),Z=function(t){return{isOpened:Object(N.l)(t)}},tt=function(t){return{onBack:function(){t(Object(T.messagesUnselectAll)()),t(Object(T.setIsActiveMessageVisible)(!1)),t(Object(T.setOpenPopupState)(!1)),_.a.trigger("ui:notification-center:close")}}},et=function(t){var e=t.onBack,n=S()({"x-popup x-popup-notification-center":!0,"x-popup-stretch-xs x-popup-no-padding-xs":!0,"responsive-popup  responsive-popup-fixed x-popup-fixed responsive-popup-translucent-1":!0,"x-popup-translucent-1 account-settings-popup":!0,"show-popup  responsive-popup-opened":!0});return b.a.createElement("div",{tabIndex:"-1",className:n},b.a.createElement("div",{className:"hidden-sm hidden-md hidden-lg slide-box-overlay fn-close slide-box-overlay-translucent-1"}),b.a.createElement("div",{className:"x-popup-box responsive-container"},b.a.createElement("div",{className:"x-popup-panel responsive-panel"},b.a.createElement("div",{className:"x-popup-holder"},b.a.createElement("div",{className:"x-popup-content"},b.a.createElement("div",{className:"responsive-popup-content"},b.a.createElement("div",{className:"hidden-sm hidden-md hidden-lg responsive-header "},b.a.createElement("div",{className:"previous btn fn-previous",onClick:e},b.a.createElement("div",{className:"arrow"})),b.a.createElement("div",{className:"caption"},b.a.createElement(Q,null)),b.a.createElement("div",{className:"navigation-box"},b.a.createElement(Y,null))),b.a.createElement("div",{className:"responsive-popup-body"},b.a.createElement("div",{className:"notification-center pane pane__fluid pane__column"},b.a.createElement(F,null),b.a.createElement(J.a,null),b.a.createElement(E.a,null)))))))))},nt=Object(g.connect)(Z,tt)(et),it=n(771),rt=function(t){return{isOpened:Object(N.l)(t)}},ot=function(t){return{closePopup:function(){t(Object(T.messagesUnselectAll)()),t(Object(T.setIsActiveMessageVisible)(!1)),t(Object(T.setOpenPopupState)(!1))}}},st=function(t){var e=t.isOpened,n=t.onClose;return e?b.a.createElement("div",{className:"page pane pane__fluid popup notification-center-tablet"},b.a.createElement("div",{className:"pane header"},b.a.createElement("div",{className:"header__body"},b.a.createElement("div",{className:"header__title"})),b.a.createElement("div",{className:"header__actions"},b.a.createElement("div",{onClick:n},b.a.createElement("i",{className:"icon-close-blue"})))),b.a.createElement("div",{className:"page__body pane__column"},b.a.createElement("div",{className:"notification-center pane pane__column"},b.a.createElement(V.b,null),b.a.createElement(it.a,null),b.a.createElement(A.b,null),b.a.createElement(J.a,null),b.a.createElement(E.a,null)))):null},at=Object(g.connect)(rt,ot)(st),lt=n(303),ct=n.n(lt),ut=p.a.extend({initialize:function(t){p.a.prototype.initialize.apply(this,arguments),this.options=t},render:function(){p.a.prototype.render.call(this);var t=this.options;return m.a.render(b.a.createElement(g.Provider,{store:store},b.a.createElement("div",{className:"popup-item"},b.a.createElement(ct.a,{mobile:!0},b.a.createElement(nt,t)),b.a.createElement(ct.a,{tablet:!0},b.a.createElement(at,t)))),this.el),this},destroy:function(){m.a.unmountComponentAtNode(this.el),p.a.prototype.destroy.call(this)}});e.default={initNotificationCenterView:ut}},function(t,e,n){t.exports=n.p+"images/11c7a766583c.svg"},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.CopyToClipboard=void 0;var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(1),d=i(u),h=n(1818),p=i(h);(e.CopyToClipboard=function(t){function e(){var t,n,i,r;o(this,e);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=i=s(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),i.onClick=function(t){var e=i.props,n=e.text,r=e.onCopy,o=e.children,s=e.options,a=d.default.Children.only(o),l=(0,p.default)(n,s);r&&r(n,l),a&&a.props&&"function"==typeof a.props.onClick&&a.props.onClick(t)},r=n,s(i,r)}return a(e,t),c(e,[{key:"render",value:function(){var t=this.props,e=(t.text,t.onCopy,t.options,t.children),n=r(t,["text","onCopy","options","children"]),i=d.default.Children.only(e);return d.default.cloneElement(i,l({},n,{onClick:this.onClick}))}}]),e}(d.default.PureComponent)).defaultProps={onCopy:void 0,options:void 0}},function(t,e,n){"use strict";function i(t){var e=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function r(t,e){var n,r,a,l,c,u=!1;e||(e={}),e.debug;try{r=o(),a=document.createRange(),l=document.getSelection(),c=document.createElement("span"),c.textContent=t,c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",function(n){n.stopPropagation(),e.format&&(n.preventDefault(),n.clipboardData.clearData(),n.clipboardData.setData(e.format,t))}),document.body.appendChild(c),a.selectNodeContents(c),l.addRange(a);if(!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(r){try{window.clipboardData.setData(e.format||"text",t),u=!0}catch(r){n=i("message"in e?e.message:s),window.prompt(n,t)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(a):l.removeAllRanges()),c&&document.body.removeChild(c),r()}return u}var o=n(1819),s="Copy to clipboard: #{key}, Enter";t.exports=r},function(t,e){t.exports=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],i=0;i<t.rangeCount;i++)n.push(t.getRangeAt(i));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null}return t.removeAllRanges(),function(){"Caret"===t.type&&t.removeAllRanges(),t.rangeCount||n.forEach(function(e){t.addRange(e)}),e&&e.focus()}}},function(t,e,n){t.exports=n.p+"images/d89848159f24.svg"},function(t,e,n){t.exports=n.p+"images/2d4282eac0a8.svg"},function(t,e,n){t.exports=n.p+"images/f5991be047e0.svg"},function(t,e,n){t.exports=n.p+"images/92e30e555165.svg"},function(t,e,n){t.exports=n.p+"images/7c884708d09d.svg"},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){function r(){if(!c)return null;var t=c.getUserData();return t?t.getCrmboCustomer():null}function o(t){if(!t)return null;var e=t.id;if(!e)return null;var n="en"===t.language?"en-us":t.language;return{Source:t.affilatedId,Language:n,Brand:"markets",Site:"",Identifier:e}}function s(t,e){try{if(!window.dataLayer||!window.dataLayer.push)return;var n=o(e||r());if(!n)return;window.dataLayer.push(l.extend(n,t))}catch(t){}}var a=n(2),l=n(0),c=n(7);a.on("gtm:deposit",function(t){return s({event:"deposit",amount:t})}),a.on("gtm:lead",function(t){return s({event:"lead"},t)}),a.on("gtm:full_registration",function(){return s({event:"full_registration"})})}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){(function(i){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0!==(o=function(t,e,o){var a=n(17),l=n(2),c=n(7),u=c.getAddToHomeScreen(),d=n(9),h=n(1827),p=n(15),f=n(3),m=function(t){return f().add(t,"day").toDate().getTime()},g=function(t){return m(Math.pow(2,t))},v=function(t){return!i.isNull(t)&&!i.isUndefined(t)},b=function(){function t(){var e=this;r(this,t),this._excludePaths=["register","login","forgetpassword","deposit"],this._readyToWork=!1,this._isRegistration=!1,this._isProfessionalTraderProgress=!1,this._isNativePopupBlocked=!1,this._checkCount=0,l.on("registration:start",function(){return e._isRegistration=!0}),l.on("professional-trader:start",function(){return e._isProfessionalTraderProgress=!0}),l.on("professional-trader:abort professional-trader:completed",function(){return e._isProfessionalTraderProgress=!1}),l.on("registration:abort registration:filled",function(){return e._isRegistration=!1}),l.on("native-popups:block",function(t){return e._isNativePopupBlocked=!0}),l.on("native-popups:release",function(t){return e._isNativePopupBlocked=!1}),l.on("app:initialize:finish",this.onAppFinished,this)}return s(t,[{key:"onAppFinished",value:function(){var t=this;d.isAddToHomeScreenEnabled()&&(this._readyToWork=!0,u.getImpressionCount()>5||u.getNextCheck()>=Date.now()||this._timer||this.getInstallationStatus().then(function(){t.isAppInstalled()||p.desktop()||(t._timer=setTimeout(t.periodicCheck.bind(t),2e4))}).catch(function(e){p.desktop()||(t._timer=setTimeout(t.periodicCheck.bind(t),2e4))}))}},{key:"periodicCheck",value:function(){var t=this.checkBannerShowConditions();return v(window.__deferredInstallPromptEvent)&&t?(this._timer=null,void this.showBanner(window.__deferredInstallPromptEvent)):(this._checkCount++,!v(window.__deferredInstallPromptEvent)&&this._checkCount>10?void(this._timer=null):void(this._timer=setTimeout(this.periodicCheck.bind(this),2e4)))}},{key:"checkBannerShowConditions",value:function(){if(!this._readyToWork||this._isRegistration||this._isNativePopupBlocked||!0===this._isAppInstalled)return!1;var t=a.history.getFragment();return!(-1!==this._excludePaths.indexOf(t)||!c.getUserData().isFullRegistrationCompleted()||!d.isLive())}},{key:"showBanner",value:function(t){var e=this,n=new h;__eventos("onBoardFlow:addToHomeScreen:confirmImpression",{}),u.setNextCheck(m(1)),n.showConfirmMessage(function(){u.setImpressionCount(6),__eventos("onBoardFlow:addToHomeScreen:confirmAccept",{}),t.prompt(),n.showArrowBox(),__eventos("onBoardFlow:addToHomeScreen:nativeImpression",{}),t.userChoice.then(function(t){if(n.close(),"dismissed"===t.outcome)return void __eventos("onBoardFlow:addToHomeScreen:nativeReject",{});e.getInstallationStatus().then(function(){}).catch(function(){}),__eventos("onBoardFlow:addToHomeScreen:installed",{}),window.__deferredInstallPromptEvent=null}).catch(function(t){n.close(),window.__deferredInstallPromptEvent=null})},function(){__eventos("onBoardFlow:addToHomeScreen:confirmReject",{}),u.incImpressionCount(),u.setNextCheck(g(u.getImpressionCount())),window.__deferredInstallPromptEvent=null,n.close()})}},{key:"getInstallationStatus",value:function(){var t=this;return i.isFunction(navigator.getInstalledRelatedApps)?navigator.getInstalledRelatedApps().then(function(e){t._installedAppsMetadata=e,t._isAppInstalled=e.length>0}):Promise.reject({message:"getInstalledRelatedApps not defined"})}},{key:"isAppInstalled",value:function(){return this._isAppInstalled}},{key:"getInstalledAppsMetadata",value:function(){return this._installedAppsMetadata}}]),t}();o.exports=new b}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0))},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(12),s=n(0),a=(n(2),s.template('\n        <div class="ni-popup-overlay visible">\n            <div class="content"></div>\n        </div>\n    ')),l=s.template('\n                <div class="ni-confirm-popup-wrapper">                    \n                    <div class="ni-message-container">\n                        <i class="ni-brand-icon"></i>\n                        <span><%=__(\'indigo.native_integration.add_to_homescreen.confirm\')%></span>\n                    </div>\n                    <div class="ni-buttons-container">\n                        <button class="ni-button-no btn"><%=__(\'no\')%></button>\n                        <button class="ni-button-yes btn"><%=__(\'yes\')%></button>\n                    </div>                                        \n                </div>'),c=s.template('\n                <div class="ni-popup-wrapper">\n                    <div class="ni-arrow-box">\n                    <%=__(\'indigo.native_integration.add_to_homescreen.arrow\')%>\n                    </div>\n                </div>');i.exports=o.extend({className:"ni-popup-popup-container",events:{"click .ni-button-no":"clientReject","click .ni-button-yes":"clientAccept"},initialize:function(){o.prototype.initialize.apply(this,arguments),this.render()},render:function(){o.prototype.render.call(this),this.$el.html(a()),this.$el.appendTo(r("body")),this.$content=this.$el.find(".content")},clientAccept:function(){this._onClientAccept()},clientReject:function(){this._onClientReject()},showConfirmMessage:function(t,e){this._onClientAccept=t||function(){},this._onClientReject=e||function(){},this.$content.html(l())},showArrowBox:function(){this.$content.html(c())},close:function(){this.destroy()}})}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var r=n(0),o=n(17),s=n(2),a=n(7),l=n(95),c=n(15),u=n(1829),d=n(5),h=n(14),p=n(137),f=n(87),m=f.selectInstrumentCategoryTreePath,g=f.setSection,v=f.changeInstrumentInfoVisibility,b=f.selectFirstSymbolInSymbolList,y=n(198),_=n(852).default,w=n(10),S=w.UI_SECTION_TRADING,E=w.UI_SECTION_MULTI_CHARTS,x=w.UI_SECTION_PRICE_ALERTS,C=w.HIDDEN,T=n(87),k=T.setFavoritesSection,O=T.setOpenPositionsSection,P=T.setOrdersSection,I=T.setTradingSection,A=T.updateCategorySections,M=T.selectInstrumentSymbolAndUpdateUrl,N=T.selectInstrumentCategorySymbol,D=function(t){t&&store.dispatch(M(t))};return o.Router.extend({initialize:function(){var t=this;this.listenTo(s,"app:reload:after:login",function(){var e=t.suspendedRoute?t.suspendedRoute.fragment:"";s.navigate(e,{trigger:!1}),window.location.reload()}),this.appView=new u({el:d("#wrapper")})},routes:{"":"index",login:"login",register:"register",forgetpassword:"forgetPassword",resetpassword:"resetPassword",deposit:"deposit","events-and-trade(/*eventTypeCode/*symbol)":"eventsTrade",analyst:"tipRanks","insiders(/*ticker)":"insiders","news-sentiment(/*ticker)":"newsSentiment",bloggers:"bloggers",hedgefunds:"hedgefunds",webinars:"webinars",blog:"blog","trading(/*url)":"trading","featured(/*url)":"trading","instrument(/*symbol)":"instrument","price-alerts(/*symbol)":"priceAlerts","multi-charts":"multiCharts",signals:"signals","economic-calendar":"economic_calendar","news(/:id)":"news","commentary(/:id)":"commentary","news-alerts":"newsAlerts","open-positions(/*symbol)":"openPositions","orders(/*symbol)":"orders","favorites(/*symbol)":"favorites",":tab(/*instrumentPath)":"tabRouter","*any":"anyRouter"},index:function(){if(a.isLoggedIn())return s.navigate("trading");a.wasLoggedIn()?s.navigate("login"):s.navigate("register")},before:function(t,e,n,i,o){y.setRouter(o);var s=["login","register","index"];r.contains(s,i)||a.isLoggedIn()||(this.suspendedRoute={callback:e,args:n,name:i,fragment:o})},exec:function(t,e,n){return o.Router.prototype.execute.apply(this,[t,e,n])},process:function(t,e,n){!1!==this.execute(t,e,n)&&(this.trigger.apply(this,["route:"+n].concat(e)),this.trigger("route",n,e),o.history.trigger("route",this,n,e))},after:function(t,e,n,i,r){},route:function(t,e,n){r.isRegExp(t)||(t=this._routeToRegExp(t)),r.isFunction(e)&&(n=e,e=""),n||(n=this[e]);var i=this;return o.history.route(t,function(r){var o=i._extractParameters(t,r);!1!==i.before(t,n,o,e,r)&&(i.process(n,o,e),i.after(t,n,o,e,r))}),this},trading:function(t){if(!a.isLoggedIn())return s.navigate("/");var e=a.getApplicationSettings(),n=h.analyzePath(t),i=n.instrumentSymbol,r=n.categoryPath;t||(r=e.get("selectedCategoryPath")),p.isDetected()&&p.getMainMenuActiveTab()===S&&(r=store.getState().instruments.defaultInstrumentTreeCategoryPath),r||(r=h.getFirstCategory().path),r=l.normalize(r,!0,"/"),t||s.navigate("/trading"+r,{trigger:!1,replace:!0}),e.set("tabs:selectedTabName","trading"),s.trigger("ui:close-instrument-details"),s.trigger("router:change:tab","trading",r),store.dispatch(m(r)),store.dispatch(I()),i?store.dispatch(M(i)):store.dispatch(b()),store.dispatch(A())},instrument:function(t){if(!a.isLoggedIn()||!t)return s.navigate("/");h.getInstrumentBySymbol(t)&&(s.trigger("ui:instrument:change"),s.trigger("router:change:tab","instrument",t))},priceAlerts:function(t){if(!a.isLoggedIn())return s.navigate("/");var e=a.getApplicationSettings();e.set("tabs:selectedTabName","price-alerts"),t&&e.set("tabs:alerts:selectedInstrumentSymbol",t),store.dispatch(v(C)),store.dispatch(g(x)),s.trigger("router:change:tab","price-alerts",t)},multiCharts:function(t){if(!a.isLoggedIn()||c.mobile())return s.navigate("/");a.getApplicationSettings().set("tabs:selectedTabName","multi-charts"),store.dispatch(v(C)),store.dispatch(g(E)),s.trigger("router:change:tab","multi-charts",t)},tabRouter:function(t,e,n){if(!a.isLoggedIn())return s.navigate("/");store.dispatch(g(t)),a.getApplicationSettings().set("tabs:selectedTabName",t),s.trigger("router:change:tab",t,e)},login:function(){if(a.isLoggedIn())return s.navigate("trading");localStorage.removeItem("_ftpl"),_.clear(),this.appView.showLoginView()},forgetPassword:function(){if(a.isLoggedIn())return void s.navigate("/");this.appView.showForgotPasswordView()},resetPassword:function(){var t=new RegExp("[?&]token=([^&#]*)","i"),e=t.exec(window.location.href),n=e?e[1]:null;if(a.isLoggedIn()||r.isEmpty(n))return void s.navigate("/");this.appView.showResetPasswordView(n)},register:function(){if(a.isLoggedIn())return void s.navigate("trading");var t=l.getQueryParams();this.appView.showNewAccountView(t)},deposit:function(){if(!a.isLoggedIn())return void s.navigate("/");s.trigger("flow:deposit")},eventsTrade:function(t,e){if(!a.isLoggedIn())return void s.navigate("/");a.getApplicationSettings().set({"event_and_trade:selectedEventTypeCode":t,"event_and_trade:selectedSymbol":e}),s.trigger("flow:events-and-trade")},tipRanks:function(){if(!a.isLoggedIn())return void s.navigate("/");s.trigger("ui:tip-ranks")},insiders:function(t){if(!a.isLoggedIn())return void s.navigate("/");a.getApplicationSettings().set({"insiders:stockTicker":t}),s.trigger("ui:insiders")},newsSentiment:function(t){if(!a.isLoggedIn())return void s.navigate("/");a.getApplicationSettings().set({"newsSentiment:stockTicker":t}),s.trigger("ui:newsSentiment")},bloggers:function(){if(!a.isLoggedIn())return void s.navigate("/");s.trigger("ui:bloggers")},hedgefunds:function(){if(!a.isLoggedIn())return void s.navigate("/");s.trigger("ui:hedgefunds")},webinars:function(){if(!a.isLoggedIn())return void s.navigate("/");s.trigger("flow:webinars")},blog:function(){if(!a.isLoggedIn())return void s.navigate("/");s.trigger("flow:blog")},anyRouter:function(){return a.isLoggedIn()?s.navigate("trading"):a.wasLoggedIn()?s.navigate("login"):s.navigate("register")},signals:function(){s.trigger("ui:signals")},economic_calendar:function(){s.trigger("ui:economic-calendar")},news:function(t){if(!a.isLoggedIn())return void s.navigate("/");setTimeout(function(){return s.trigger("ui:news",t)},0)},commentary:function(t){if(!a.isLoggedIn())return void s.navigate("/");setTimeout(function(){return s.trigger("ui:commentary",t)},0)},newsAlerts:function(){if(!a.isLoggedIn())return void s.navigate("/");setTimeout(function(){return s.trigger("ui:acuity-trading")},0)},openPositions:function(t){if(!a.isLoggedIn())return s.navigate("/");store.dispatch(N(t)),store.dispatch(O()),D(t)},orders:function(t){if(!a.isLoggedIn())return s.navigate("/");store.dispatch(N(t)),store.dispatch(P()),D(t)},favorites:function(t){if(!a.isLoggedIn())return s.navigate("/");store.dispatch(N(t)),store.dispatch(k(t)),D(t)}})}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(5),n(0))},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){function r(t){return!!t}var o=n(0),s=n(5),a=n(12),l=n(2),c=n(1830),u=n(1831),d=n(1854),h=n(737),p=n(1856),f=n(7),m=n(23),g=n(30),v=n(1858),b=n(9),y=n(1882),_=n(15),w=n(1),S=n(16),E=n(8),x=E.Provider,C=n(823),T=C.LazyBasicDashboard,k=C.LazyAdvancedDashboard,O=C.LazyNewAdvancedDashboard,P=n(828).default,I=n(1883).default,A=a.extend({initEvents:{"user:load:data-compliance:success":!1,"user:load:credit-card:success":!1,"user:info":!1},template:o.template(c),user:f,_initDone:!1,appViews:[],initialize:function(){a.prototype.initialize.apply(this,arguments),this.subscribe(),this.render(),y.initialize(),this.wrapperElement=this.$el,this.mainBoxElement=this.$el.find(".main-box"),this.popupsPlaceholderElement=s("#popups-placeholder")},subscribe:function(){this.listenTo(f.getApplicationSettings(),"change:chartVisibility",this.handleChartVisibility),this.listenTo(l,"stream:type:MESSAGE",this.onStreamMessage),this.listenTo(l,"user:token",v.init.bind(v)),this.listenTo(m,"language:changing:before",this.showLoadingPopup),this.listenTo(m,"language:changing:after",this.hideLoadingPopup),this.listenTo(l,"app:initialize:finish",this.onAppInitializeFinish),this._initDone=!1,this.listenTo(l,"all",this.initDoneEvent,this)},onAppInitializeFinish:function(){},initDoneEvent:function(t){!1===this.initEvents[t]&&(this.initEvents[t]=!0),!this._initDone&&o.every(this.initEvents,r)&&(this.stopListening(l,"all",this.initDoneEvent,this),this.renderDefault(),this._initDone=!0,v.init(),this.hideLoadingPopup(),l.trigger("app:loaded"),l.trigger("app:ready"),l.trigger("flow:login"),l.trigger("app:initialize:finish"))},render:function(){this.$el.html(this.template()),this.header=new u({el:this.$el.find("header")}),f.getSessionModel().isSessionActive()?(this.addChildView(".main-box",g,{position:"fixed",translucent:"no"}),l.trigger("user:login"),l.trigger("app:session:active"),l.trigger("app:initialize:finish")):l.trigger("ui:login"),this.handleChartVisibility()},handleChartVisibility:function(t){"visible"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.getApplicationSettings().getChartVisibility())?this._onShowChart():this._onHideChart()},renderDefault:function(){if(this.removeChildView(".main-box"),s(document.body).addClass("phonegap"),b.isBonusesEnabled()&&f.isLoggedIn()&&_.mobile()){var t=n(778);this.activeBonusProgressBarView=new t({el:this.$el.find(".active-bonus-panel")})}b.isHotjarEnabled()&&S.render(w.createElement(P,{className:"hotjar__container"},w.createElement(x,{store:store},w.createElement(I,null))),this.popupsPlaceholderElement[0]);var e=f.getUserCommonData().isAdvancedTradingView();return b.isNewAdvancedDashboardEnabled()&&e?(this.$el.addClass("advanced"),void S.render(w.createElement(x,{store:store},w.createElement(O,null)),s(".main-box-content")[0])):e?(s("html").addClass("advanced"),this.$el.addClass("advanced"),void S.render(w.createElement(x,{store:store},w.createElement(k,null)),s(".main-box-content")[0])):(this.hideLoadingPopup(),S.render(w.createElement(x,{store:store},w.createElement(T,null)),this.$el.find(".main-box-content")[0]),void this.appViews.push(this.aside,this.search,this.activeBonusProgressBarView))},showNewAccountView:function(t){this.hideLoadingPopup(),this.removeAppViews(),l.trigger("ui:new-account",t)},showLoginView:function(){this.hideLoadingPopup(),this.removeAppViews();var t=new d({parent:s(".main-box"),isAutoLogin:f.isRemembered(),translucent:"no",nameClass:"auth-popup"});this.appViews.push(t)},showForgotPasswordView:function(){this.removeAppViews();var t=new h({parent:s(".main-box"),translucent:"no",backKey:"forgot_password.back_to_login"});this.appViews.push(t)},showResetPasswordView:function(t){this.removeAppViews();var e=new p({parent:s(".main-box"),translucent:"no",backKey:"forgot_password.back_to_login",token:t});this.appViews.push(e)},_onHideChart:function(){var t=f.getUserCommonData().isAdvancedTradingView(),e=f.getApplicationSettings().get("tabs:selectedTabName");t&&o.contains(["orders","open-positions"],e)||(this.$el.find(".chart-splitter-box").css({display:"none"}),f.getUserCommonData().isAdvancedTradingView()||this.$el.find(".chart-box").addClass("hidden"))},_onShowChart:function(){this.$el.find(".chart-splitter-box").css({display:"block"}),l.trigger("ui:chart:reflow"),f.getUserCommonData().isAdvancedTradingView()||this.$el.find(".chart-box").removeClass("hidden")},destroy:function(){this.undelegateEvents(),this.stopListening(),this.$el.empty(),this.listenTo(l,"app:destroy",this.destroy)},showLoadingPopup:function(){this.fixedLoadingView||(this.fixedLoadingView=new g({parent:document.body,position:"fixed",translucent:"2"}))},hideLoadingPopup:function(){this.fixedLoadingView&&(this.fixedLoadingView.destroy(),this.fixedLoadingView=null)},checkPendingDeposit:function(){},removeAppViews:function(){this.removeChildView(".main-box"),this.appViews.forEach(function(t){t.destroy()}),this.appViews=[]},isInitComplete:function(){return this._initDone}});i.exports=A}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports='<header class="header-box"></header><div class="notification-box hidden-lg no-arrow"></div><div class="active-bonus-panel hidden-lg"></div><div class="ribbon-box"></div><div class="main-box"><div class="main-box-content"></div><div class="balloon-message"><div class="title"></div><div class="body"></div></div></div><div class="floating-open-positions hidden-xs hidden-sm hidden-md"></div>'},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var r=n(12),o=n(0),s=n(7),a=n(2),l=n(23),c=n(15),u=n(1832),d=n(9),h=n(56),p=n(153),f=n(5),m=n(52).resizeString,g=n(71),v=n(776),b=n(6),y=n(122),_=n(154),w=n(264),S=n(1838),E=n(1),x=n(16),C=n(8),T=C.Provider,k=n(775),O=o.template(n(1841)),P=o.template(n(1842)),I=n(118).default,A=n(1843).default,M=n(1844).default,N=n(1845).default,D=n(38),L=n(158),R=L.getUiSection,F=n(10),B=F.UI_SECTION_CANCELED_ORDERS,U=F.UI_SECTION_CLOSED_POSITIONS,j=F.UI_SECTION_FAVORITES,z=F.UI_SECTION_MULTI_CHARTS,V=F.UI_SECTION_OPEN_POSITION,H=F.UI_SECTION_ORDERS,G=F.UI_SECTION_PRICE_ALERTS,W=F.UI_SECTION_TRADING,q=F.LOW_SCORE,$=n(1846).default,Y=n(404).default,X=n(1848).default,K=n(303),Q=n(373),J=Q.notificationCenterSubscribeService,Z=n(47),tt=Z.setOpenPopupState,et=n(10),nt=et.BREAKPOINT_SCREEN_LG_MAX,it=n(1849).default,rt=r.extend({events:function(){return o.extend({},o.result(r.prototype,"events"),{"click [data-url]":"gotoByUrl","click .dropdown":"stopPropagation","click .fn-toggle-desktop-menu":"toggleDesktopMenu","click .fn-toggle-mobile-menu":"toggleMobileMenu","click .fn-set-lang":"setUserLang","click .fn-previous":"onPrevious","click .fn-deposit":"onDeposit","click .fn-withdraw":"onWithdraw","click .fn-verify":"onVerify","click .fn-user-signout":"signout","click .fn-open-account-settings":"openAccountSettings","click .fn-open-account-level-settings":"openAccountLevelSettings","click .fn-open-leverage-settings":"openLeverageSettings","click [data-ui]":"generateOpenUIEvent","click .fn-menu-item":"onMenuItemClick","click .fn-expander":"expanderMenu","click .fn-metatrader-link":"onMetaTraderClick","change .mobile-dropdown-lang":"mobileLangSelect","click .themes-switcher span":"changeTheme","change .themes-switcher input[type=checkbox]":"changeTheme","click .platform-switcher":"switchPlatform","click .fn-notification-center":"onOpenNotificationCenter"})},timingMs:200,isOpened:!1,menuShown:!1,fastShown:!1,initialize:function(){var t=this;r.prototype.initialize.apply(this,arguments),this.listenTo(a,"user:info",this.renderLoggedUserHeader),this.listenTo(a,"user:logout",this.render),this.listenTo(s.getUserData(),"change:userData",this.renderOnUserDataChange),this.listenTo(a,"mobile:header:update",this.updateTab),this.listenTo(a,"ui:show-search",this.showSearchButton),this.listenTo(p,"change:metaTraderEnabled",this.visibilityMetaTraderItem),this.listenTo(a,"ui:mt4",this.onMetaTraderClick),this.listenTo(w,"change:hasBonuses",this.showBonusesMenuItem),this.listenTo(a,"ui:metatrader",this.onMetaTraderClick),this.listenTo(a,"ui:instruments:select-category",this.updateMobileHeader),this.listenTo(s.getApplicationSettings(),"change:tabs:selectedTabName",this.updateMobileHeader),this.listenTo(s.getApplicationSettings(),"change:instrumentDetailsStatus",this.updateHeader),this.listenTo(s.getApplicationSettings(),"change:instrumentDetailsStatus",this.updateMobileHeader),this.listenTo(a,"user:leverage:updated",this.visibilityLeverageSettings),this.listenTo(a,"funds:deposit:success",this.renderNavigationBox),f(window).on("resize",function(){Math.min(t.el.offsetWidth,window._headerWidth)<nt&&Math.max(t.el.offsetWidth,window._headerWidth)>nt&&t.updateHeader.bind(t)}),this._getNotificationCenterTargetHeader=function(){return t.$(".topmenu-notification-center")[0]},this._getNotificationCenterTargetMenu=function(){return t.$(".navigation-button>.icon-menu")[0]},this._getBonusProgressBarTargetHeader=function(){return t.$(".topmenu-bonus-progress-bar")[0]},this.render()},visibilityLeverageSettings:function(){var t=this.$("#item-leverage-settings");s.getUserLeverageLevels().canChangeLeverage()?t.removeClass("hidden"):t.addClass("hidden")},visibilityMetaTraderItem:function(){var t=this.$(".item-metatrader");p.isMetaTraderVisible()?t.removeClass("hidden"):t.addClass("hidden")},changeTheme:function(t){var e=this.$el.find('.themes-switcher input[type="checkbox"]')[0],n=t.currentTarget.dataset.switcher;n&&(e.checked="1"===n),g.change(e.checked?1:0,!0)},renderLoggedUserHeader:function(){return this.render(),this.$el.addClass("header-box--logged-in"),this.renderActiveBonusProgressBar(),this.checkWebinars(),this},renderOnUserDataChange:function(t,e){o.isUndefined(this.customerLevelGoalAlert)&&!o.isUndefined(e.customerLevelGoalAlert)&&this.render(),this.customerLevelGoalAlert=e.customerLevelGoalAlert},render:function(){this.destroyNotificationCenter(),this.$el.html(P()),this.renderNavigationBox();var t=document.documentElement.getAttribute("theme");if(t){var e=this.$el.find('.theme[data-theme="'+t+'"]');if(e.length>0&&e.addClass("active"),this.$el.find('.themes-switcher input[type="checkbox"]').length>0){var n=this.$el.find(".themes-switcher"),i=n.find('[data-theme="'+t+'"]')[0],r=f(i).attr("data-switcher");n.find('input[type="checkbox"]')[0].checked="1"===r}}return this.updateMobileHeader(),d.isNotificationCenterEnabled()&&this.renderNotificationCenter(),x.render(E.createElement(T,{store:store},E.createElement(A,null)),this.$(".header__left-action")[0]),x.render(E.createElement(T,{store:store},E.createElement("div",null,E.createElement(M,null),E.createElement(N,null))),this.$(".header-tab-box")[0]),this},renderActiveBonusProgressBar:function(){d.isBonusesEnabled()&&s.isLoggedIn()&&!c.mobile()&&x.render(E.createElement(T,{store:store},E.createElement(it,null)),this._getBonusProgressBarTargetHeader())},renderNavigationBox:function(){var t=this;this.destroyNotificationCenter();var e=!h.LOW_SCORE()||!h.FULL_REGISTRATION_COMPLETED(),n=s.getUserData().getCrmboCustomer(),i=s.getUserData().getAccount(),r=n.firstName&&n.lastName?m(n.firstName+" "+n.lastName,25,"."):s.getUserInfoModel().getFullName(25,"."),a=s.isCustomerLevelGoalAlert(),u=i.currency?s.getUserCurrencySymbol():"",p=a?D(s.getUserTotalDeposits()).formatForeignCurrency(u).split(".")[0]:"",f=a?D(s.getMarketxThreshold()).formatForeignCurrency(u).split(".")[0]:"",v=a?D(s.getAdditionalDepositForMarketX()).formatForeignCurrency(u).split(".")[0]:"",b=s.getUserData().attributes.scoreLevel===q&&!d.isLive();this.$(".navigation-box").html(O({isSessionDetected:s.getSessionModel().isDetected(),isLoggedIn:s.isLoggedIn(),userInfo:s.getUserInfoModel(),userModel:s,lang:l.getLanguage(),languages:o.without(l.getLanguages(),l.getLanguage()),allLanguages:l.getLanguages(),MAX_NAME_FIELD_LENGTH:25,isPlatformSwitchAllowed:e,device:c,userName:r,totalDeposits:p,marketxThreshold:f,promotionTooltip:__("promotion.bar.marketsx.tooltip",v),showPromotionBar:s.isCustomerLevelGoalAlert()&&!s.isEligibleForMarketsX()&&s.getAdditionalDepositForMarketX()>0,themes:g.switcherConfig,isThemesEnabled:g.isEnabled(),settings:d,isAdvancedTradingView:s.getUserCommonData().isAdvancedTradingView(),isFullRegistrationCompleted:s.getUserData().isFullRegistrationCompleted(),showAccountSettingLeverage:d.isLeverageChangeEnabled(),isMarketsXEnable:s.getUserLevelsModel().isEnable(),isMarketsX:s.getUserLevelsModel().isMarketsX(),isLowScore:h.LOW_SCORE(),isLiveAccount:d.isLive(),userTimezoneOffset:s.getUserCommonData().getUserTimezoneObject().gmt,acoountSwitcherDisabled:b,isPlatformSwitcherVisible:function(){return s.getUserCommonData().isAdvancedTradingView()&&(c.desktop()||c.tablet()||c.mobile()&&window.innerWidth>=nt)}()})),this.visibilityMetaTraderItem(),this.visibilityTradingTools().then(function(){t.visibilityLeverageSettings(),s.isLoggedIn()&&s.getUserCommonData().isAdvancedTradingView()&&t.addChildView(".account-info",S.view),d.checkCustomerLevelsEnabled().then(function(e){return e&&t.setBadgeForMarketsXTools()})}),d.isNotificationCenterEnabled()&&this.renderNotificationCenter()},visibilityTradingTools:function(){var t=this;return s.isLoggedIn()?Promise.all([d.checkEventsAndTradeEnabled(),d.checkPriceAlertsEnabled(),d.checkMultiChartsEnabled(),d.checkTipranksEnabled(),d.checkInsidersEnabled(),d.checkBloggersEnabled(),d.checkHedgeFundsEnabled(),d.checkWebinarsEnabled(),d.checkVideoTutorialsEnabled(),d.checkForexliveEnabled(),d.checkBlogEnabled(),d.checkNewsSentimentEnabled(),d.checkNewsFeedEnabled(),d.checkPremiumSupportPhoneEnabled(),d.checkEducationEnabled(),d.checkAcuityNewsSentimentEnabled()]).then(function(e){var n=!1;e[0]&&(t.$(".tool-events-trade").removeClass("hidden"),n=!0),e[1]&&(t.$(".tool-price-alerts").removeClass("hidden"),n=!0),n&&t.$(".tools-topmenu-fundamental").removeClass("hidden");var i=!1;d.isTradingCentralEnabled()&&(t.$(".tool-trading-central").removeClass("hidden"),i=!0),e[2]&&(t.$(".tool-multi-charts").removeClass("hidden"),i=!0),i&&t.$(".tools-topmenu-technical").removeClass("hidden");var r=!1;e[3]&&(t.$(".tool-tipranks").removeClass("hidden"),r=!0),e[4]&&(t.$(".tool-insiders").removeClass("hidden"),r=!0),e[5]&&(t.$(".tool-bloggers").removeClass("hidden"),r=!0),e[6]&&(t.$(".tool-hedgefunds").removeClass("hidden"),r=!0),r&&t.$(".tools-topmenu-sentiment").removeClass("hidden");var o=!1;if(e[7]&&(t.$(".tool-webinars").removeClass("hidden"),o=!0),e[8]&&(t.$(".tool-video-tutorials").removeClass("hidden"),o=!0),e[9]&&t.$(".tool-commentary").removeClass("hidden"),e[10]&&t.$(".tool-blog").removeClass("hidden"),e[11]&&t.$(".tool-news-sentiment").removeClass("hidden"),o&&t.$(".tools-topmenu-knowledge-center").removeClass("hidden"),(n||i||r||o)&&t.$(".topmenu-trading-tools").removeClass("hidden"),e[12]&&t.$(".tool-news").removeClass("hidden"),e[13]){var s=e[13];t.$(".vip-support-menu-item").removeClass("hidden").find(".premium-support-phone-value").html(s)}e[14]&&t.$(".tool-video-education").removeClass("hidden"),e[15]&&t.$(".tool-news-alerts").removeClass("hidden")}):Promise.resolve(!0)},setBadgeForMarketsXTools:function(){var t=this;d.getPremiumToolsBadge().forEach(function(e){var n=s.getUserLevelsModel().isMarketsX(),i=t.$el.find(".tool-"+e);if(!i.hasClass("hidden"))return void(n&&t.markAsMarketsX(i,n));t.markAsMarketsX(i,n),i.removeClass("hidden"),n||i.addClass("disabled")})},markAsMarketsX:function(t,e){var n=f(t),i=n.find("a"),r=f("<span>"+i.html()+"</span>");n.addClass("premium-menu"),i.attr("aria-label",__("marketsX.tooltip.text"+(e?".available":""))).html("").append(r)},stopPropagation:function(t){t.preventDefault(),t.stopPropagation()},updateTab:function(t){this.url=t.url},updateHeader:function(){},updateMobileHeader:function(){if(!c.desktop()&&s.isLoggedIn()){var t=R(store.getState());switch(t){case V:a.trigger("mobile:header:update",{url:t,title:__("tab.open_positions"),textLink:__("actions.back"),icon:"arrow"});break;case H:a.trigger("mobile:header:update",{url:t,title:__("tab.orders"),textLink:__("actions.back"),icon:"arrow"});break;case W:var e=store.getState().ui.selectedInstrumentCategoryTreePath,n=k.getItemByPath(e),i=n?n.get("name"):"",r=n?n.get("localizedNameKey"):"";a.trigger("mobile:header:update",{url:t,title:i,titleKey:r,textLink:"",icon:"search"});break;case j:a.trigger("mobile:header:update",{url:t,title:__("tab.favorites"),textLink:__("actions.back"),icon:"arrow"});break;case U:a.trigger("mobile:header:update",{url:t,title:__("tab.closed_positions"),textLink:__("actions.back"),icon:"arrow"});break;case B:a.trigger("mobile:header:update",{url:t,title:__("order.history.cancelled_orders"),textLink:__("actions.back"),icon:"arrow"});break;case G:a.trigger("mobile:header:update",{url:t,title:__("tab.price_alerts"),textLink:__("actions.back"),icon:"arrow"});break;case z:a.trigger("mobile:header:update",{url:t,title:__("tab.multi_charts"),textLink:__("actions.back"),icon:"arrow"})}}},closeDesktopMenu:function(t){t.find(".submenu").css({display:"none"}),t.attr("data-submenu-shown",!1),f(document).off("click.closeMainDropdown")},closeAllDesktopMenus:function(){for(var t=this.$el.find("[data-submenu-shown=true]"),e=t.length-1;e>=0;e--)this.closeDesktopMenu(f(t[e]));window.store.dispatch(tt(!1))},openDesktopMenu:function(t){this.closeAllDesktopMenus(),t.find(".submenu").css({display:"block"}),t.attr("data-submenu-shown",!0)},toggleDesktopMenu:function(t){var e=this,n=f(t.currentTarget).parent();"false"===n.attr("data-submenu-shown")?(this.openDesktopMenu(n),f(document).on("click.closeMainDropdown",function(t){e.closeDesktopMenu(n)})):this.closeDesktopMenu(n)},toggleMobileMenu:function(){new(n(1852))},signout:function(t){a.trigger("ui:signout"),this.closeAllDesktopMenus()},showBackButton:function(){var t=this.$el.find(".fn-previous"),e=t.find(".icon"),n=t.find(".caption");t.removeClass("fn-open-instruments-tree"),e.removeClass("search").addClass("arrow"),n.html(__("header.home"))},showAllButton:function(){var t=this.$el.find(".fn-previous"),e=t.find(".icon"),n=t.find(".caption");t.removeClass("fn-open-instruments-tree").addClass("fn-close-instrument-details"),e.removeClass("search").addClass("arrow"),n.html(__("instrument.page.all"))},showSearchButton:function(){var t=this.$el.find(".fn-previous"),e=t.find(".icon"),n=t.find(".caption");t.addClass("fn-open-instruments-tree"),e.removeClass("arrow").addClass("search"),n.html("")},openInstrumentsTree:function(t){this._instrumentsTreePopupView||(this._instrumentsTreePopupView=new u({parent:f("body"),size:"mobile-tree"})),this.showBackButton(),this._instrumentsTreePopupView.show(),f(window).on("resize.menu",this.closeMobileMenu.bind(this))},closeMobileMenu:function(){this.el.offsetWidth>768&&this._instrumentsTreePopupView&&(this._instrumentsTreePopupView.hide(),f(window).off("resize.menu"))},setUserLang:function(t){t.preventDefault();var e=f(t.currentTarget).attr("data-lang");a.trigger("ui:change-language",e)},onDeposit:function(t){a.trigger("flow:deposit:RealDepositItemMainMenu"),this.closeAllDesktopMenus()},onWithdraw:function(t){a.trigger("ui:withdraw"),this.closeAllDesktopMenus()},onPrevious:function(t){var e=f(t.currentTarget),n=store.getState().ui.section===W;return e.hasClass("fn-close-instrument-details")&&c.tablet()?(e.removeClass("visible-xs visible-sm visible-md fn-close-instrument-details"),e.removeClass("fn-close-instrument-details"),a.trigger("ui:close-instrument-details")):n?this.openInstrumentsTree(t):this.onBack(t)},onBack:function(){a.navigate("/")},onVerify:function(t){a.trigger("flow:verify"),this.closeAllDesktopMenus()},openAccountSettings:function(t){a.trigger("ui:account-settings"),this.closeAllDesktopMenus()},openAccountLevelSettings:function(t){a.trigger("ui:account-settings","account-level"),this.closeAllDesktopMenus()},generateOpenUIEvent:function(t){a.trigger("ui:header-itemclick"),a.trigger(f(t.currentTarget).attr("data-ui")),this.closeAllDesktopMenus()},expanderMenu:function(t){var e=f(t.currentTarget);o.delay(function(){e.hasClass("opened")?e.removeClass("opened"):e.addClass("opened")},1)},onMenuItemClick:function(t){var e=f(t.currentTarget).attr("data-ui"),n=!("ui:order-history"===e||"ui:closed-positions"===e);a.trigger("ui:header-itemclick",n),this.closeAllDesktopMenus()},openLeverageSettings:function(t){a.trigger("flow:leverage-settings"),this.closeAllDesktopMenus()},mobileLangSelect:function(t){a.trigger("ui:change-language",f(t.target).val())},getSetPasswordMessage:function(){return new v({parent:document.body,hideCancelButton:!1,confirmOKBtnText:__("new_account.login_link"),confirmCancelBtnText:__("cancel"),confirmCaption:""})},onMetaTraderClick:function(t){var e=this,n=function(t){var e=window.open("","_blank");e.location=t,e.focus&&e.focus()};this.confirmation().then(function(){if(d.isMetaTraderInternalEnabled())a.trigger("ui:open-metatrader","metatrader-accounts"),e.closeAllDesktopMenus();else{if(y.isExternalLoginDetected()){if(s.getUserData().get("externalLogin")){var t=s.getUserData().getCrmboCustomer();return b.forgotPasswordById(t.id).then(function(){return a.trigger("ui:message-box",{text:__("mt4.password.need.reset",t.email),isHeaderShowed:!1,okBtnText:__("ok"),isShowCloseForMobile:!1})})}return e.getSetPasswordMessage()}var i=s.getMetaTraderLink();i&&n(i)}})},confirmation:function(){return _.isTradingPositionRiskWarningRequired()?new Promise(function(t){a.trigger("ui:risk-warning",{regulation:"spanish",action:"trade",onOK:t})}):Promise.resolve()},checkWebinars:function(){var t=this;s.isLoggedIn()&&d.checkWebinarsEnabled().then(function(e){e&&t.$el.find(".webinars").removeClass("hidden")})},showBonusesMenuItem:function(){this.$el.find(".bonuses-menu").removeClass("hidden")},gotoByUrl:function(t){var e=f(t.currentTarget),n=e.attr("data-url"),i=window.location.hash;f(e.parent().closest("li")).hasClass("disabled")||(n&&i!==n&&(window.location.href=n,a.trigger("ui:header-itemclick")),this.closeAllDesktopMenus())},switchPlatform:function(){a.trigger("platform:switch:sync",d.isLive()?"demo":"live")},destroyNotificationCenter:function(){var t=this._getNotificationCenterTargetHeader(),e=this._getNotificationCenterTargetMenu();x.findDOMNode(t)&&x.unmountComponentAtNode(t),x.findDOMNode(e)&&x.unmountComponentAtNode(e)},renderNotificationCenter:function(){if(s.isLoggedIn()){var t=this._getNotificationCenterTargetHeader(),e=this._getNotificationCenterTargetMenu();J(),c.desktop()&&t&&x.render(E.createElement(T,{store:store},E.createElement($,null)),t),c.desktop()||(e&&x.render(E.createElement(T,{store:store},E.createElement("span",null,E.createElement(Y,null),E.createElement(X,null))),e),t&&x.render(E.createElement(T,{store:store},E.createElement(K,{landscape:!0},E.createElement(I,{minWidth:nt-1},E.createElement($,null)))),t))}},onOpenNotificationCenter:function(){window.store.dispatch(tt(!0))}});i.exports=rt}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(0),s=n(2),a=n(276),l=n(773),c=n(775),u=n(12),d=o.template(n(1836)),h=n(95).normalize,p=n(7),f=n(14),m=n(87),g=m.selectInstrumentCategoryTreePath,v=m.selectFirstSymbolInSymbolList,b=m.setTradingSection,y=n(78),_=y.getInstrumentCategoryByPath,w=u.extend({tagName:"div",className:"instruments-popup",events:{"click .close-icon":"clickHandle","click .instruments-popup-overlay":"clickHandle","touchstart .close-icon":"clickHandle","touchstart .instruments-popup-overlay":"clickHandle"},initialize:function(t){var e=this;o.extend(t,{overlayTranslucent:"1",position:"absolute popup-tree"}),u.prototype.initialize.call(this,t),this.render(),this.search=new a({el:this.$el.find(".instruments-popup-search"),onRowClick:function(t,n){e.removeSelectionFromMenu(),e.hide();var i=n.get("symbol");f.getInstrumentBySymbol(i)&&(store.dispatch(b()),s.trigger("ui:instrument",i,!0))}}),this.tree=new l({el:this.$el.find(".instruments-popup-tree"),collection:c}),this.listenTo(this.tree,"node:click",this.onTreeNodeClick),this.listenTo(s,"router:change:tab",this.hide),this.listenTo(s,"close:mobile:instruments:tree",function(){s.trigger("ui:show-search"),e.hide()});var n=p.getApplicationSettings().get("selectedCategoryPath");n||(n=f.getFirstCategory().path),this.openCategoryByPath(n)},render:function(){u.prototype.render.call(this),this.showOverlay(),this.$el.append(d())},close:function(){this.hideOverlay(),u.prototype.close.apply(this,arguments)},showOverlay:function(){var t=this.$el.find(".instruments-popup-overlay"),e=t.css("opacity");t.css("opacity",0),setTimeout(function(){t.css("opacity",e)},0)},hideOverlay:function(){this.$el.find(".instruments-popup").css("opacity",0)},showFooter:function(){r("footer").removeClass("hidden")},hideFooter:function(){r("footer").addClass("hidden")},onTreeNodeClick:function(t){"folder"!==t.type&&t.path!==p.getApplicationSettings().get("selectedCategoryPath")&&(this.removeSelectionFromMenu(),s.trigger("ui:show-search"),s.trigger("mobile:header:update",{url:"trading",title:t.name,titleKey:t.localizedNameKey}),s.navigate("/trading"+h(t.path,!0,"/"),{trigger:!1}),this.openCategoryByPath(t.path),this.hide(),this.$el.one("transitionend",function(){store.dispatch(g(t.path)),store.dispatch(v(t.path)),store.dispatch(b())}))},hide:function(){this.$el.removeClass("opened")},show:function(){this.$el.addClass("opened")},openCategoryByPath:function(t){this.removeSelectionFromMenu();var e=t?t.split("/"):"",n=_(store.getState(),t);if(n){var i=n._localizedNameKey,r=__(i);this.tree.openByPath(o.map(e,function(t){return t.replace(new RegExp("_","g")," ")})),s.trigger("mobile:header:update",{url:"trading",title:r,titleKey:i})}},clickHandle:function(t){s.trigger("ui:show-search"),t.preventDefault(),this.hide()},removeSelectionFromMenu:function(){this.$(".tree_node_selected").removeClass("tree_node_selected")}});i.exports=w}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e,n){var i;void 0!==(i=function(t,e,i){var r=(n(0),n(17)),o=r.Model.extend({defaults:{id:"",name:"",type:"",parentId:"",closed:!0},getId:function(){return this.get("id")},getChildren:function(){return this.collection.filter({parentId:this.getId()})}});i.exports=o}.call(e,n,e,t))&&(t.exports=i)},function(t,e){t.exports='<div class="tree-container"> <%=nodeTemplate({items: items, nodeTemplate: nodeTemplate})%> </div>'},function(t,e){t.exports='<% _.each(items, function(v, i, a) { %> <div class="node <%=(v.type ? v.type : \'\')%> <%=(v.closed ? \'closed\' : \'\')%>" data-id="<%=v.id%>"><div class="name"><div class="icon"><%=(v.type == \'folder\' ? \'<i class="arrow"></i>\' : \'\')%></div> <% var nodeName = v.name; %> <% if (v.localizedNameKey) { %> <% var translated = __(v.localizedNameKey) %> <% nodeName = v.localizedNameKey !== translated ? translated : v.name; %> <% } %> <div class="text"><%=nodeName%></div></div> <% if (v.children) { %> <div class="children"><%=nodeTemplate({items: v.children, nodeTemplate: nodeTemplate})%></div> <% } %> </div> <% }) %>'},function(t,e){t.exports='<div class="instruments-popup-overlay"></div><div class="instruments-popup-wrapper popup-tree popup-translucent-1"><div class="instruments-popup-container"><div class="instruments-popup-content hidden-md hidden-lg"><div class="close-icon"><i class="icon-close-white"></i></div><div class="instruments-popup-search"></div><div class="instruments-popup-tree"></div></div></div></div>'},function(t,e){t.exports='<span><%=__(\'mt4.enter.password\')%></span><div class="auth-box metatrader-password"><form class="login-form"><div class="auth-panel"><div class="form"><div class="auth-panel-password-field field input-field"><input type="password" id="account-password" placeholder="<%=__(\'new_account.input.password.placeholder\')%>" maxlength="20" value=""> <i class="password-eye icon-eye-gray"></i></div><div class="container-fluid error-block"><div class="row"><div class="col-sm-12 error-message"><i class="icon-warning"></i> <%=__(\'new_account.error_message\')%> </div></div></div><div class="forgot-password"><a href="#" class="forgot-password-link"><%=__(\'forgot_password.question\')%></a></div></div></div></form></div>'},function(t,e,n){(function(e){function i(t){new h(a.extend({parent:e("body"),isHeaderShowed:!0,template:x,actions:{"fn-deposit":function(){return c.trigger("flow:deposit")},"fn-close-positions":a.partial(c.navigate,"/open-positions")}},t))}function r(){var t=l.getUserAccountMetricsModel().getRiskLevel();return t||(t=U),t>=D?D:A<t&&t<=I?I:M+10<t&&t<=A?A:M<=t&&t<=N?N:t<M?M:void 0}function o(){var t=r();t===I&&i({caption:__("margin.level_1.popup.caption"),description:__("margin.level_1.popup.description")}),t<=A&&i({caption:__("margin.level_1.popup.caption"),description:__("margin.level_2.popup.description")})}var s=n(12),a=n(0),l=n(7),c=n(2),u=n(38),d=n(9),h=n(55),p=n(735),f=n(15),m=n(134),g=n(51),v=n(58),b=n(263).MessageType,y=n(10),_=(y.NA,y.LOW_SCORE,n(736)),w=_.TOPIC_NAMES,S=n(150),E=S.MARGIN_VALUES,x=a.template(n(382)),C=n(1),T=n(16),k=n(8),O=k.Provider,P=n(1839).default,I=E.MARGIN_LEVEL_1,A=E.MARGIN_LEVEL_2,M=E.LIQUIDATION_LEVEL,N=E.LIQUIDATION_LEVEL_BUFFER,D=E.MARGIN_LEVEL_OK,L=E.CHECK_PENDING_DEPOSIT_INTERVAL,R=E.CHECK_PENDING_DEPOSIT_FORCE_INTERVAL,F=E.CHECK_PENDING_DEPOSIT_FORCE_MAX_COUNT,B=E.MAX_NUMBER_SIZE,U=E.RISK_LEVEL_MAX;n(777),t.exports.view=s.extend({template:a.template(n(1840)),floatingTemplate:a.template(n(438)),className:"account-info-wrapper",_oldLevelRange:D,_liqudationRibbonNotificationId:null,_marginWarnRibbonNotificationId:null,_marginWarnRibbonPendingMessages:[],_marginWarnRibbonChangingMessage:!1,_fontSize:null,_pendingDepositCheckForced:!1,_pendingDepositCheckTimer:null,initialize:function(){s.prototype.initialize.apply(this,arguments),this.subscribeAndRender(),this.checkMarginLevel(!0)},subscribeAndRender:function(){var t=this;this.listenTo(c,"user:account-metrics",this.checkMarginLevel),this.listenTo(c,"stream:type:MESSAGE",function(e){a.each(e,function(e){e.type===b.ORDER_LIQUIDATION&&t.onLiquidationMessage(__("margin.liquidation.popup.description"))})}),c.onEvent("stream:opened",function(){t.checkPendingDeposit(),t.startRegularCheck()}),this.listenTo(c,"user:balance:updated",function(){t.checkPendingDeposit(),t.startRegularCheck()}),this.listenTo(c,"pending:deposit:updated",this.startRegularCheck),this.listenTo(c,"check:pending:deposit:force",this.startForcedCheck),this.render()},startForcedCheck:function(t){if(!this._pendingDepositCheckForced){this._pendingDepositCheckForced=!0,clearInterval(this._pendingDepositCheckTimer);var e=0,n=this;this._pendingDepositCheckTimer=setInterval(function(){if(e>=F)return void n.startRegularCheck();n.checkPendingDeposit(),e++},t||R),this.checkPendingDeposit()}},startRegularCheck:function(){(this._pendingDepositCheckForced||a.isNil(this._pendingDepositCheckTimer))&&(clearInterval(this._pendingDepositCheckTimer),this._pendingDepositCheckTimer=setInterval(this.checkPendingDeposit.bind(this),L),this._pendingDepositCheckForced=!1)},notifyMarginLevel:function(){o()},showMarginRibbon:function(t){p.hide(this._marginWarnRibbonNotificationId),this._marginWarnRibbonNotificationId=p.show(a.extend({type:"notify",message:__("margin.low_level.ribbon.message"),level:1800,onMoreClick:o,hideDismiss:!0},t))},checkMarginLevel:function(t){if(!this._liqudationRibbonNotificationId){var e=r();if(e!==this._oldLevelRange){c.trigger("user:margin:level",e);var n=this._oldLevelRange;if(this._oldLevelRange=e,a.map(m.getAllInstruments(),function(t){t.set({isMarginLevelLow:e<=A})}),e===M)return t?void this.onLiquidationMessage(0===v.length?__("margin.liquidation.login.popup.description",__("margin.liquidation.all.positions")):__("margin.liquidation.login.popup.description",__("margin.liquidation.part.positions"))):void this.onLiquidationMessage(__("margin.liquidation.popup.description"));if(e===N&&f.mobile())return void this.showMarginRibbon({type:"error",topic:w.LIQUIDATION_LEVEL_BUFFER,level:1900});if(e===I&&f.mobile()){if(n===A)return;return void this.showMarginRibbon({topic:w.MARGIN_LEVEL_1})}if(e===A&&f.mobile()){if(n===I)return;return void this.showMarginRibbon({topic:w.MARGIN_LEVEL_2})}this._marginWarnRibbonNotificationId&&(p.hide(this._marginWarnRibbonNotificationId),this._marginWarnRibbonNotificationId=null)}}},render:function(){return T.render(C.createElement(O,{store:store},C.createElement(P,null)),e(".account-info")[0]),this},onLiquidationMessage:function(t){var e=this;this._liqudationRibbonNotificationId||(this._liqudationRibbonNotificationId=p.show({message:__("margin.liquidation.popup.caption"),type:"error",topic:w.LIQUIDATION_LEVEL,level:2e3,onMoreClick:function(){return new g({parent:document.body,confirmCaption:__("margin.liquidation.popup.caption"),confirmMessage:__(t),confirmOKBtnText:__("Ok"),hideCancelButton:!0,isHeaderShowed:!1,maxBoxWidth:"30em",onOK:function(){p.hide(e._liqudationRibbonNotificationId),e._liqudationRibbonNotificationId=null}})},hideDismiss:!0}))},checkPendingDeposit:function(){l.getUserData().isFirstDeposit()&&l.updateUserPendingDeposit().then(function(){var t=l.getUserPendingDeposit();if(a.isNumber(t)){if(t>0&&d.isLive()){var e=l.getUserData();!1===e.isFirstDeposit()&&(e.set("firstDeposit",!0),c.trigger("sm","deposit_successful"),c.trigger("funds:deposit:success"));var n=u(t).formatForeignCurrency(l.getUserCurrencySymbol());return void(f.mobile()&&!this._pandingRibbonNotificationId&&(this._pandingRibbonNotificationId=p.show({message:__("accountInfo.pendingDeposit")+": "+n,type:"pending-deposit",topic:w.PENDING_DEPOSIT,level:900,persist:!0,onClick:this.onMoreClick.bind(this),showMore:!1,hideDismiss:!0,showWarning:!1})))}this._pandingRibbonNotificationId&&(this._pandingRibbonNotificationId=null,p.hide(this._pandingRibbonNotificationId))}}.bind(this))},onMoreClick:function(){var t=u(l.getUserPendingDeposit()).formatForeignCurrency(l.getUserCurrencySymbol());new g({parent:document.body,confirmCaption:__("accountInfo.pendingDeposit"),confirmMessage:__("accountInfo.pendingDeposit.message",t),confirmOKBtnText:__("actions.verify"),confirmCancelBtnText:__("actions.close"),onOK:function(){c.trigger("flow:verify")},onCancel:function(){}})}}),t.exports.getMarginLevelRange=r,t.exports.isMarginLevelLow=function(){return r()<=A},t.exports.notifyMarginLevel=o,t.exports.MARGIN_LEVEL_OK=D,t.exports.MARGIN_LEVEL_1=I,t.exports.MARGIN_LEVEL_2=A,t.exports.LIQUIDATION_LEVEL_BUFFER=N,t.exports.LIQUIDATION_LEVEL=M,t.exports.MAX_NUMBER_SIZE=B}).call(e,n(5))},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function w(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function x(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function k(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function I(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function N(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function D(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function R(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function F(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function U(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function V(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function H(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function W(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function X(){return function(){return{type:ht.g,payload:Object(mt.c)()}}}function K(){return function(t){return{types:[ht.e,ht.f,ht.d],callApi:function(){return Object(mt.f)(t)},additionalData:t}}}function Q(){return function(t){return{type:ht.k,payload:t}}}function J(){return function(t){return{types:[ht.i,ht.j,ht.h],callApi:function(){return Object(mt.g)(t)},additionalData:t}}}function Z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tt(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function it(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var rt=n(1),ot=n.n(rt),st=n(16),at=n.n(st),lt=n(0),ct=n.n(lt),ut=n(11),dt=n.n(ut),ht=n(177),pt=n(9),ft=n.n(pt),mt=n(77),gt=n(62),vt=n(8),bt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),yt=function(t){return{pendingDeposit:Object(gt.n)(t)}},_t=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),bt(e,[{key:"render",value:function(){var t=this.props,e=t.pendingDeposit,n=t.isAccountInfo;if(ft.a.isDemo()||e<=0)return null;var i=Object(mt.a)(e);return n?ot.a.createElement("div",{className:"item pending-deposit-message"},ot.a.createElement("div",{className:"content"},ot.a.createElement("div",{className:"header"},ot.a.createElement("i",{className:"icon-warning-red"}),__("accountInfo.pendingDeposit")),ot.a.createElement("div",{className:"body amount"},i))):ot.a.createElement("div",null,ot.a.createElement("div",{className:"name"},ot.a.createElement("i",{className:"icon-warning-red"}),__("accountInfo.pendingDeposit")),ot.a.createElement("div",{className:"value"},ot.a.createElement("div",null,i),ot.a.createElement("div",{"aria-label":__("help.account.pending_deposits")},ot.a.createElement("span",{className:"question-tooltip"}))))}}]),e}(ot.a.Component),wt=Object(vt.connect)(yt)(_t),St=n(33),Et=n.n(St),xt=n(2),Ct=n.n(xt),Tt=n(56),kt=n.n(Tt),Ot=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Pt=function(t){function e(t){s(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return Et()(n),n}return l(e,t),Ot(e,[{key:"onDeposit",value:function(){Ct.a.trigger("flow:deposit:RealFundsManDeposit"),this.props.onClick()}},{key:"render",value:function(){var t=!kt.a.LOW_SCORE()||!kt.a.FULL_REGISTRATION_COMPLETED(),e=dt()({btn:!0,"btn-primary":!0,disabled:!t,"autotests-action-add-funds":!0});return ot.a.createElement("div",{className:e,onClick:this.onDeposit},ot.a.createElement("div",{className:"button-container"},ot.a.createElement("span",null,__("funds.add_funds.title"))))}}]),e}(ot.a.Component);Pt.defaultProps={onClick:ct.a.noop};var It=Pt,At=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Mt=function(t){function e(t){c(this,e);var n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return Et()(n),n}return d(e,t),At(e,[{key:"onWithdraw",value:function(){Ct.a.trigger("ui:withdraw"),this.props.onClick()}},{key:"render",value:function(){if(ft.a.isDemo())return null;var t=!kt.a.LOW_SCORE()||!kt.a.FULL_REGISTRATION_COMPLETED(),e=dt()({btn:!0,"btn-primary":!0,disabled:!t,"autotests-action-withdraw-funds":!0});return ot.a.createElement("div",{className:e,onClick:this.onWithdraw},ot.a.createElement("div",{className:"button-container"},ot.a.createElement("span",null,__("actions.withdraw"))))}}]),e}(ot.a.Component);Mt.defaultProps={onClick:ct.a.noop};var Nt=Mt,Dt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Lt=function(t){function e(){return h(this,e),p(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),Dt(e,[{key:"render",value:function(){var t=this.props,e=t.onActionButtonCLick,n=t.itemsList,i=t.onToggleItem,r=t.error;return ot.a.createElement("div",{className:"funds-management"},ot.a.createElement("div",{className:"funds-management--header"},ot.a.createElement("span",null,__("funds.management"))),ot.a.createElement("div",{className:"funds-management--body"},ot.a.createElement("div",{className:"data"},ot.a.createElement(wt,{isAccountInfo:!1}),ct.a.map(n,function(t,e){var n=t;return ot.a.createElement(n,{key:e,toggleItem:i})})),ot.a.createElement("div",{className:"actions"},ot.a.createElement(It,{onClick:e}),ot.a.createElement(Nt,{onClick:e})),r&&ot.a.createElement("div",{className:"error"},__("accountInfo.validation.message",ht.c,ht.b))))}}]),e}(ot.a.Component);Lt.defaultProps={onActiveFieldsChange:ct.a.noop};var Rt=Lt,Ft=n(44),Bt=function(t){return t.accountInfo},Ut=Object(Ft.a)(Bt,function(t){return t.myAccountActiveFields}),jt=Object(Ft.a)(Bt,function(t){return t.myAccountIsOpened}),zt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Vt=function(t){return{activeFields:Ut(t)}},Ht=function(t){function e(){return g(this,e),v(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return b(e,t),zt(e,[{key:"render",value:function(){var t=this.props,e=t.item,n=t.name,i=t.tooltip,r=t.value,o=t.activeFields,s=t.itemClass,a=t.toggleItem,l=ct.a.includes(o,e),c=dt()(m({body:!0},s,!!s));if(!ct.a.isFunction(a))return ot.a.createElement("div",{className:"item autotests-account-info-"+e},ot.a.createElement("div",{className:"content"},ot.a.createElement("div",{className:"header"},n),ot.a.createElement("div",{className:c},r)));var u=dt()(m({value:!0},s,!!s));return ot.a.createElement("div",{className:"autotests-account-info-"+e},ot.a.createElement("div",{className:"name",onClick:function(){return a(e)}},ot.a.createElement("span",{className:"field-selected"},l&&ot.a.createElement("i",{className:"icon-checked-white"})),ot.a.createElement("span",null,n)),ot.a.createElement("div",{className:u},ot.a.createElement("div",null,r),ot.a.createElement("div",{"aria-label":i},ot.a.createElement("span",{className:"question-tooltip"}))))}}]),e}(ot.a.Component),Gt=Object(vt.connect)(Vt)(Ht),Wt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),qt=function(t){return{balance:Object(gt.f)(t)}},$t=function(t){function e(){return y(this,e),_(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return w(e,t),Wt(e,[{key:"render",value:function(){var t=this.props,e=t.toggleItem,n=t.balance;return ot.a.createElement(Gt,{item:"balance",name:__("accountInfo.cash"),value:Object(mt.a)(n),tooltip:__("help.account.balance"),toggleItem:e})}}]),e}(ot.a.Component),Yt=Object(vt.connect)(qt)($t),Xt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Kt=function(t){return{equity:Object(gt.h)(t)}},Qt=function(t){function e(){return S(this,e),E(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return x(e,t),Xt(e,[{key:"render",value:function(){var t=this.props,e=t.toggleItem,n=t.equity;return ot.a.createElement(Gt,{item:"equity",name:__("accountInfo.equity"),value:Object(mt.a)(n),tooltip:__("help.account.equity"),toggleItem:e})}}]),e}(ot.a.Component),Jt=Object(vt.connect)(Kt)(Qt),Zt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),te=function(t){return{profitLoss:Object(gt.o)(t),profitLossClass:Object(gt.o)(t)>=0?ht.n:ht.m}},ee=function(t){function e(){return C(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return k(e,t),Zt(e,[{key:"render",value:function(){var t=this.props,e=t.toggleItem,n=t.profitLoss,i=t.profitLossClass;return ot.a.createElement(Gt,{item:"profitLoss",name:__("accountInfo.pl"),value:Object(mt.a)(n),tooltip:__("help.account.open_p_l"),itemClass:i,toggleItem:e})}}]),e}(ot.a.Component),ne=Object(vt.connect)(te)(ee),ie=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),re=function(t){return{buyingPower:Object(gt.g)(t)}},oe=function(t){function e(){return O(this,e),P(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return I(e,t),ie(e,[{key:"render",value:function(){var t=this.props,e=t.toggleItem,n=t.buyingPower;return ot.a.createElement(Gt,{item:"buyingPower",name:__("accountInfo.freeMargin"),tooltip:__("help.account.free_margin"),value:Object(mt.a)(n),toggleItem:e})}}]),e}(ot.a.Component),se=Object(vt.connect)(re)(oe),ae=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),le=function(t){return{maintenanceMargin:Object(gt.j)(t)}},ce=function(t){function e(){return A(this,e),M(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return N(e,t),ae(e,[{key:"render",value:function(){var t=this.props,e=t.toggleItem,n=t.maintenanceMargin;return ot.a.createElement(Gt,{item:"maintenanceMargin",name:__("accountInfo.availableMargin"),tooltip:__("help.account.maintenance_margin"),value:Object(mt.a)(n),toggleItem:e})}}]),e}(ot.a.Component),ue=Object(vt.connect)(le)(ce),de=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),he=function(t){return{marginUsed:Object(gt.m)(t)}},pe=function(t){function e(){return D(this,e),L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return R(e,t),de(e,[{key:"render",value:function(){var t=this.props,e=t.toggleItem,n=t.marginUsed;return ot.a.createElement(Gt,{item:"marginUsed",name:__("accountInfo.usedMargin"),tooltip:__("help.account.used_margin"),value:Object(mt.a)(n),toggleItem:e})}}]),e}(ot.a.Component),fe=Object(vt.connect)(he)(pe),me=n(150),ge=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ve=function(t){return{activeFields:Ut(t),riskLevel:Object(gt.p)(t),liquidationLevel:(Object(gt.i)(t)*ht.l).toFixed(),marginAlertLevel2:(Object(gt.k)(t)*ht.l).toFixed(),marginLevelRange:Object(gt.l)(t)}},be=function(t){function e(t){F(this,e);var n=B(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return Et()(n),n.state={isLiquidationWarning:!1},n}return U(e,t),ge(e,[{key:"componentDidMount",value:function(){this.checkMarginLevel()}},{key:"componentDidUpdate",value:function(t){t.marginLevelRange!==this.props.marginLevelRange&&this.checkMarginLevel()}},{key:"checkMarginLevel",value:function(){var t=this.props.marginLevelRange;ct.a.contains(me.MARGIN_VALUES_WARNING_LEVELS,t)&&this.setState({isLiquidationWarning:!0})}},{key:"notifyMarginLevel",value:function(){var t=this.props.marginLevelRange;t===me.MARGIN_VALUES.MARGIN_LEVEL_1&&Object(mt.e)({caption:__("margin.level_1.popup.caption"),description:__("margin.level_1.popup.description")}),t<=me.MARGIN_VALUES.MARGIN_LEVEL_2&&Object(mt.e)({caption:__("margin.level_1.popup.caption"),description:__("margin.level_2.popup.description")})}},{key:"render",value:function(){var t=this.props,e=t.activeFields,n=t.toggleItem,i=t.riskLevel,r=t.marginLevelRange,o=t.liquidationLevel,s=t.marginAlertLevel2,a=this.state.isLiquidationWarning,l=ct.a.includes(e,"riskLevel"),c=dt()({item:!0,down:a,blink:r===me.MARGIN_VALUES.LIQUIDATION_LEVEL_BUFFER,"autotests-account-info-marginLevel":!0});if(!ct.a.isFunction(n))return ot.a.createElement("div",{className:c},ot.a.createElement("div",{className:"content"},ot.a.createElement("div",{className:"header"},__("accountInfo.maginLevel")),ot.a.createElement("div",{className:"body"},Object(mt.b)(i))));var u=dt()({value:!0,down:a});return ot.a.createElement("div",{className:"autotests-account-info-marginLevel"},ot.a.createElement("div",{className:"name",onClick:function(){return n("riskLevel")}},ot.a.createElement("span",{className:"field-selected"},l&&ot.a.createElement("i",{className:"icon-checked-white"})),a&&ot.a.createElement("span",{className:"liquidation-level"},ot.a.createElement("i",{className:"icon-warning-red"}),ot.a.createElement("span",{onClick:this.notifyMarginLevel},__("accountInfo.maginLevel"))),!a&&ot.a.createElement("span",null,__("accountInfo.maginLevel"))),ot.a.createElement("div",{className:u},ot.a.createElement("div",null,Object(mt.b)(i)),ot.a.createElement("div",{"aria-label":__("help.account.margin_level",s,o)},ot.a.createElement("span",{className:"question-tooltip"}))))}}]),e}(ot.a.Component),ye=Object(vt.connect)(ve)(be),_e=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),we=function(t){return{availableForWithdrawal:Object(gt.e)(t)}},Se=function(t){function e(){return j(this,e),z(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return V(e,t),_e(e,[{key:"render",value:function(){var t=this.props,e=t.toggleItem,n=t.availableForWithdrawal;return ot.a.createElement(Gt,{item:"availableForWithdrawal",name:__("funds.management.available.title"),tooltip:__("funds.management.available.help"),value:Object(mt.a)(n),toggleItem:e})}}]),e}(ot.a.Component),Ee=Object(vt.connect)(we)(Se),xe=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Ce=function(t){return{activeBonusesAmount:Object(gt.d)(t)}},Te=function(t){function e(){return H(this,e),G(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return W(e,t),xe(e,[{key:"render",value:function(){var t=this.props,e=t.toggleItem,n=t.activeBonusesAmount;return ft.a.isDemo()||0===n?null:ot.a.createElement(Gt,{item:"activeBonusesAmount",name:__("funds.management.bonuses.title"),tooltip:__("funds.management.bonuses.help"),value:Object(mt.a)(n),toggleItem:e})}}]),e}(ot.a.Component),ke=Object(vt.connect)(Ce)(Te),Oe=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Pe=n(261),Ie=function(t){function e(t){q(this,e);var n=$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={spreadRebateData:!1},n}return Y(e,t),Oe(e,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillMount",value:function(){var t=this;(new Pe).load().then(function(e){ct.a.has(e,"data")&&t._isMounted&&t.setState({spreadRebateData:e.data})})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var t=!1,e=0,n=this.state.spreadRebateData;if(ft.a.isDemo())return!1;if(n&&(t=!0===n.active&&!1===n.expired&&ft.a.isSpreadRebateEnabled(),e=Object(mt.a)(n.spreadRebateTotal)),!t)return null;var i=this.props.toggleItem;return ot.a.createElement(Gt,{item:"spreadRebateTotal",name:__("funds.management.spread.rebate.title"),tooltip:__("funds.management.spread.rebate.title"),value:e,toggleItem:i})}}]),e}(ot.a.Component),Ae=Ie,Me=(n(777),n(246)),Ne=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),De=function(t){return{myAccountActiveFields:Ut(t),myAccountIsOpened:jt(t),marginLevelRange:Object(gt.l)(t),riskLevel:Object(gt.p)(t),pendingDeposit:Object(gt.n)(t)}},Le=function(t){return{getFields:Object(Me.bindActionCreators)(X(),t),setPosition:Object(Me.bindActionCreators)(Q(),t),savePosition:Object(Me.bindActionCreators)(J(),t),saveActiveFields:Object(Me.bindActionCreators)(K(),t)}},Re=function(t){function e(t){et(this,e);var n=nt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={isFundsManagementOpened:!1,isLiquidationWarning:!1,hasError:!1},Et()(n),n}return it(e,t),Ne(e,[{key:"componentDidMount",value:function(){this.checkMarginLevel(),this.props.getFields(),this.props.setPosition(Object(mt.d)()),document.addEventListener("click",this.handleClickOutsideFundsManagement)}},{key:"componentDidUpdate",value:function(t){t.marginLevelRange!==this.props.marginLevelRange&&this.checkMarginLevel()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutsideFundsManagement)}},{key:"checkMarginLevel",value:function(){var t=this.props.marginLevelRange;ct.a.contains(me.MARGIN_VALUES_WARNING_LEVELS,t)&&this.setState({isLiquidationWarning:!0})}},{key:"toggleAccountInfo",value:function(t){t.preventDefault(),this.setState({isFundsManagementOpened:!1}),this.props.setPosition(!this.props.myAccountIsOpened),this.props.savePosition(!this.props.myAccountIsOpened)}},{key:"toggleFundsManagement",value:function(){this.setState({isFundsManagementOpened:!this.state.isFundsManagementOpened})}},{key:"closeFundsManagement",value:function(){this.setState({isFundsManagementOpened:!1})}},{key:"handleClickOutsideFundsManagement",value:function(t){var e=at.a.findDOMNode(this.refs.fundsManagementComponent),n=at.a.findDOMNode(this.refs.toggleFundsManagementComponent);!this.state.isFundsManagementOpened||e.contains(t.target)||n.contains(t.target)||this.closeFundsManagement()}},{key:"toggleItem",value:function(t){var e=[].concat(tt(this.props.myAccountActiveFields)),n=!1;ct.a.contains(e,t)?e.length>ht.c?e=ct.a.filter(e,function(e){return e!==t}):n=!0:e.length<ht.b?e.push(t):n=!0,this.setState({hasError:n}),this.props.saveActiveFields(e)}},{key:"render",value:function(){var t,e=this.state,n=e.isFundsManagementOpened,i=e.isLiquidationWarning,r=e.hasError,o=this.props,s=o.myAccountActiveFields,a=o.myAccountIsOpened,l=o.pendingDeposit,c=dt()({opened:a,"account-info-list":!0,"bg-lighter":!0}),u=dt()((t={},Z(t,a?"icon-account-info-opened-ico":"icon-account-info-closed-ico",!0),Z(t,"list-toggle__icon",!0),Z(t,"fs-18",!0),t)),d=dt()({"item item--poor item--pointer":!0,"item--rotated":n,"autotests-funds-management-toggle-button":!0}),h={balance:Yt,equity:Jt,profitLoss:ne,buyingPower:se,maintenanceMargin:ue,marginUsed:fe,riskLevel:ye,availableForWithdrawal:Ee,activeBonusesAmount:ke,spreadRebateTotal:Ae},p=dt()({"list-toggle":!0,warn:l>0||i,"autotests-account-info-toggle-button":!0});return ot.a.createElement("div",null,ot.a.createElement("div",{className:"account-info-wrapper"},ot.a.createElement("div",{className:c},ot.a.createElement("div",{className:p},ot.a.createElement("span",{className:u,onClick:this.toggleAccountInfo})),ot.a.createElement("div",{className:"list flex flex-valign-center"},ot.a.createElement("div",{className:"flex flex-column flex-valign-center"},ot.a.createElement("div",{className:"flex flex-row flex-valign-center"},ot.a.createElement(wt,{isAccountInfo:!0}),i&&ot.a.createElement(ye,null),ct.a.map(s,function(t,e){if(ct.a.has(h,t)&&("riskLevel"!==t||!i)){var n=h[t];return ot.a.createElement(n,{key:e})}}),ot.a.createElement("div",{ref:"toggleFundsManagementComponent",className:d,onClick:this.toggleFundsManagement},ot.a.createElement("div",{className:"icon icon-arrow-down-white"}))))))),n&&ot.a.createElement(Rt,{onActionButtonCLick:this.closeFundsManagement,itemsList:h,error:r,ref:"fundsManagementComponent",onToggleItem:this.toggleItem}))}}]),e}(ot.a.Component);e.default=Object(vt.connect)(De,Le)(Re)},function(t,e){t.exports='<div class="account-info-list bg-lighter"><div class="list-toggle"><span class="list-toggle__icon"></span></div><div class="list flex flex-valign-center"><div class="flex flex-column flex-valign-center"><div class="flex flex-row flex-valign-center"><div class="item pending-deposit-message hidden"><div class="content"><div class="header"><i class="icon-warning-red"></i><%=__(\'accountInfo.pendingDeposit\')%></div><div class="body amount"></div></div></div><div class="item"><div class="content" aria-label="<%=__(\'help.account.balance\')%>" data-tooltip-align="bottom"><div class="header"><%=__(\'accountInfo.cash\')%></div><div class="body" data-id="balance" id="advanced-balance-value"><%=balance%></div></div></div><div class="item"><div class="content" aria-label="<%=__(\'help.account.equity\')%>" data-tooltip-align="bottom"><div class="header"><%=__(\'accountInfo.equity\')%></div><div class="body" data-id="equity" id="advanced-equity-value"><%=equity%></div></div></div><div class="item"><div class="content" aria-label="<%=__(\'help.account.free_margin\')%>" data-tooltip-align="bottom"><div class="header"><%=__(\'accountInfo.freeMargin\')%></div><div class="body" data-id="buyingPower" id="advanced-free_margin-value"><%=buyingPower%></div></div></div><div class="item"><div class="content" aria-label="<%=__(\'help.account.used_margin\')%>" data-tooltip-align="bottom"><div class="header"> <%=__(\'accountInfo.usedMargin\')%> <span data-id="riskLevel" class="<%=risk_level_class%>"><span><%= riskLevel ? riskLevel : \'N/A\' %></span></span></div><div class="body" data-id="margin" id="advanced-used_margin-value"> <%=marginUsed%> </div></div></div><div class="item"><div class="content" aria-label="<%=__(\'help.account.open_p_l\')%>" data-tooltip-align="bottom"><div class="header"><%=__(\'indigo.position.form.p_l\')%></div><div data-id="profitLoss" class="body pl_value <%= profitLossPositive ? \'up\' : \'down\' %>" id="advanced-profit_loss-value"><%=profitLoss%> </div></div></div><div class="item item--poor item--pointer ui-funds-management"><div class="icon icon-arrow-down-white"></div></div></div></div></div></div>'},function(t,e){t.exports='<div class="navigation-panel <%=isMarketsX ? \'navigation-panel--premium\' : \'\' %>"> <% if (!device.mobile() && isSessionDetected && !isLoggedIn && isThemesEnabled) { %> <div class="themes-switcher"><div class="themes-holder"><span data-theme="<%-themes[0]%>" data-switcher="0"><%-__(\'themes.label.\' + themes[0])%></span><div><input type="checkbox" id="switch"><label for="switch"></div><span data-theme="<%-themes[1]%>" data-switcher="1"><%-__(\'themes.label.\' + themes[1])%></span></div></div> <% } %> <ul class="navigation-menu hidden-xs hidden-sm hidden-md"> <% if (isSessionDetected && device.desktop() && !isLoggedIn) {%> <li class="dropdown lang" data-submenu-shown="false"><a href="#" class="fn-toggle-desktop-menu"><span class="<%=\'icon-lang-\' + lang%>"></span> <span><%=__(\'language.\' + lang)%></span><i class="icon-arrow-down-white-new"></i></a><ul class="submenu"> <% for(var lg in languages) { %> <li><a href="#" class="fn-set-lang" data-lang="<%=languages[lg]%>"><span class="lang-container"><span class="<%=\'icon-lang-\' + languages[lg]%>"></span> <span><%=__(\'language.\' + languages[lg])%></span></span></a></li> <% } %> </ul></li> <% } %> <% if (isLoggedIn && isSessionDetected) { %> <% var accountCode = userModel.getUserData().getAccount().userName; %> <% var accountCurrency = userModel.getUserCurrencySymbol() %> <% if(settings.isBonusesEnabled()) { %> <li class="topmenu-bonus-progress-bar"></li> <% } %> <% if (settings.isNotificationCenterEnabled()) { %> <li class="topmenu-notification-center"></li> <% } %> <li class="dropdown hint topmenu-trading-tools hidden" data-submenu-shown="false"><a href="#" class="fn-toggle-desktop-menu"><i class="icon-trading-tools-header-ico fs-21"></i></a><ul class="submenu submenu--trading-tools submenu--min-width"><li class="trading-tools-title"><%=__(\'tab.trading_tools\')%></li><li class="expend-menu fn-expander tools-topmenu-fundamental hidden"><a href="#"><span><i class="expand-arrow"></i><%=__(\'topmenu.fundamental\')%></span></a><ul><li class="tool-events-trade hidden"><a href="#" data-url="#events-and-trade"><%=__(\'tab.financial_events\')%></a></li><li class="tool-price-alerts hidden"><a href="#" data-url="#price-alerts"><%=__(\'tab.price-alerts.caption\')%></a></li><li class="tool-commentary hidden"><a href="#" data-url="#commentary"><%=__(\'tab.commentary\')%></a></li><li class="tool-news hidden"><a href="#" data-url="#news"><%=__(\'tab.news\')%></a></li></ul></li><li class="expend-menu fn-expander tools-topmenu-technical hidden"><a href="#"><span><i class="expand-arrow"></i><%=__(\'topmenu.technical\')%></span></a><ul> <% if (device.desktop()) { %> <li class="tool-trading-central hidden"><a href="#" data-ui="ui:trading-central"><%=__(\'trading.central.study.title\')%></a></li> <% } %> <li class="tool-multi-charts hidden"><a href="#multi-charts" data-url="#multi-charts"><p><%=__(\'tab.multi_charts\')%></p></a></li></ul></li><li class="expend-menu fn-expander tools-topmenu-sentiment hidden"><a href="#"><span><i class="expand-arrow"></i><%=__(\'topmenu.sentiment\')%></span></a><ul><li class="tool-insiders hidden"><a href="#" data-url="#insiders"><%=__(\'tab.insiders\')%></a></li><li class="tool-tipranks hidden"><a href="#" data-url="#analyst"><%=__(\'tab.tipranks\')%></a></li><li class="tool-bloggers hidden"><a href="#" data-url="#bloggers"><%=__(\'tab.bloggers\')%></a></li><li class="tool-hedgefunds hidden"><a href="#" data-url="#hedgefunds"><%=__(\'tab.hedgefunds\')%></a></li><li class="tool-news-sentiment hidden"><a href="#" data-url="#news-sentiment"><%=__(\'tab.news.sentiment\')%></a></li><li class="tool-news-alerts hidden"><a href="#" data-url="#news-alerts"><%=__(\'tab.news.alerts\')%></a></li></ul></li><li class="expend-menu fn-expander tools-topmenu-knowledge-center hidden"><a href="#"><span><i class="expand-arrow"></i><%=__(\'topmenu.knowledge_center\')%></span></a><ul><li class="tool-webinars hidden"><a href="#" class="fn-webinars" data-url="#webinars"><%=__(\'menu.webinar\')%></a></li><li class="tool-video-tutorials hidden"><a href="#" data-ui="ui:tutorials"><%=__(\'hint.video_tutorials\')%></a></li><li class="tool-video-education hidden"><a href="#" data-ui="ui:education"><%=__(\'hint.video_education\')%></a></li><li class="tool-blog hidden"><a href="#" data-url="#blog"><%=__(\'tab.blog\')%></a></li></ul></li></ul></li><li class="navigation-menu__separator"><i></i></li><li class="dropdown my-account" data-submenu-shown="false"><a class="fn-toggle-desktop-menu <%=isMarketsX ? \'premium-name\' : \'\'%>" href="#"><span><span class="account-type"> <%if (settings.isLive()){ %> <%=__(\'accountInfo.button.real\')%> <%} else {%> <%=__(\'accountInfo.button.demo\')%> <%}%> </span><span class="scroll-full-name"><span><%= isMarketsX ? \'markets\' : __(\'my_account\')%></span></span></span><i class="icon icon-arrow-down-white-new"></i></a><ul class="submenu"><li><div class="<%=isMarketsX ? \'premium-user\' : \'user\'%>"><div class="top"><div class="timezone"><i class="icon icon-timezone-light"></i> <%=userTimezoneOffset%> </div><span class="fn-user-signout"><span><%=__(\'sign_out\')%><i class="icon icon-signout-light"></i></span></span></div><div class="middle"><div class="name"><%=userName ? userName : \'\'%></div><div class="email"><%=accountCode%> (<%=accountCurrency%>)</div></div><div class="bottom"> <% if (isPlatformSwitchAllowed) { %> <div class="btn btn-primary fn-deposit fn-menu-item"><div class="button-container"><span><%=__(\'funds.add_funds.title\')%></span></div></div> <% if (settings.isLive()) { %> <div class="btn btn-primary fn-withdraw fn-menu-item"><div class="button-container"><span><%=__(\'actions.withdraw\')%></span></div></div> <% } %> <% } %> </div></div> <% if(showPromotionBar) {%> <div class="promotion-bar" data-tooltip-align="left" aria-label="<%=promotionTooltip%>"><span><%=__(\'promotion.bar.pending\')%></span><span class="amount"> <%=totalDeposits%> / <%=marketxThreshold%> </span></div> <% } %> </li><li><a class="fn-verify fn-menu-item" href="#"><span><%=__(\'verification_center.popup.title\')%></span></a></li><li><a href="#" class="fn-menu-item fn-open-account-settings"><span><%=__(\'account_settings.popup.title\')%></span></a></li> <% if (isFullRegistrationCompleted && isMarketsXEnable && !isLowScore && isLiveAccount) { %> <li><a href="#" class="fn-menu-item fn-open-account-level-settings"><span><%=__(\'account_settings.account-level.menu.title\')%></span></a></li> <% } %> <% if (isPlatformSwitchAllowed && showAccountSettingLeverage) { %> <li id="item-leverage-settings"><a href="#" class="fn-menu-item fn-open-leverage-settings"><span><%=__(\'account_settings.update_leverage.menu.title\')%></span></a></li> <% } %> <li class="expend-menu fn-expander"><a><span><i class="expand-arrow"></i><%=__(\'topmenu.reports\')%> </span></a><ul><li><a href="#" class="fn-menu-item" data-ui="ui:account-statement"> <%=__(\'report\')%> </a></li><li><a class="fn-menu-item" data-ui="ui:closed-positions"> <%=__(\'tab.closed_positions\')%> </a></li><li><a class="fn-menu-item" data-ui="ui:order-history"> <%=__(\'order.history.cancelled_orders\')%> </a></li></ul></li><li class="bonuses-menu hidden"><a href="#" class="fn-menu-item fn-bonuses" data-ui="ui:menu:bonuses"><span><%=__(\'bonus.menu.title\')%></span></a></li><li class="expend-menu fn-expander"><a><span><i class="expand-arrow"></i><%=__(\'support\')%> </span></a><ul><li><a href="#" class="fn-menu-item" data-ui="ui:contact-us"> <%=__(\'contact_support\')%> </a></li><li><a href="#" class="fn-menu-item" data-ui="ui:help-center"> <%=__(\'faq.menu.title\')%> </a></li> <% if (settings.isLiveChatEnabled()) { %> <li class="<%if(isMarketsX){%>vip-support<%}%>"><a href="#" class="fn-menu-item" data-ui="ui:need-help-menu"> <%= isMarketsX ? __(\'marketsX.live.chat\') : __(\'live-chat\') %> </a></li> <% } %> <% if(settings.isCompliantMenuEnabled()) { %> <li><a href="#" class="fn-menu-item" data-ui="ui:file-compliant"> <%=__(\'help_complaint.menu\')%> </a></li> <% } %> <li><a href="#" class="fn-menu-item" data-ui="ui:legal-documents"> <%=__(\'legal_documents\')%> </a></li> <% if (settings.isTradingAnnouncementEnabled()) { %> <li><a href="#" class="fn-menu-item" data-ui="ui:trading-announcement"> <%=__(\'trading_announcement\')%> </a></li> <% } %> </ul></li> <% if (isMarketsX) {%> <li class="vip-support vip-support-menu-item hidden"><a href="#" class="fn-menu-item"><span class="vip-support__text"><span><%= __(\'marketsx.premium.phone\') %></span><span class="premium-support-phone-value"></span></span></a></li> <% } %> <li class="item-metatrader hidden"><a class="fn-menu-item fn-metatrader-link"><span><%=__(\'mt4_accounts\')%></span></a></li> <% if (isPlatformSwitcherVisible) {%> <li><a class="platform-switcher" href="#"><span><%= settings.isLive() ? __(\'switch_to_practice\') : __(\'switch_to_real\') %></span></a></li> <% } %> </ul></li> <% } %> </ul> <% if (!isLoggedIn && isSessionDetected && (device.mobile() || device.tablet())) { %> <div class="mobile-lang-switch"><ul class="navigation-menu"><li class="dropdown lang"><a href="#" class="no-action"><span class="<%=\'icon-lang-\' + lang%>"></span> <i class="icon icon-arrow-down-white-new-new"></i></a></li></ul><select class="mobile-dropdown-lang"> <% for(var lg in allLanguages) { %> <option value="<%=allLanguages[lg]%>" <% if(allLanguages[lg] == lang) {%> selected="selected" <%}%>><%=__(\'language.\' + allLanguages[lg])%></option> <% } %> </select></div> <% } else if (isSessionDetected && device.desktop() && !isLoggedIn) { %> <div class="dropdown lang lang-desktop hidden-lg" data-submenu-shown="false"><a href="#" class="fn-toggle-desktop-menu"><span class="<%=\'icon-lang-\' + lang%>"></span> <i class="icon-arrow-down-white-new-new"></i></a><ul class="submenu"> <% for(var lg in languages) { %> <li><a href="#" class="fn-set-lang" data-lang="<%=languages[lg]%>"><span class="lang-container"><span class="<%=\'icon-lang-\' + languages[lg]%>"></span> <span><%=__(\'language.\' + languages[lg])%></span></span></a></li> <% } %> </ul></div> <% } %> <div class="navigation-menu-xs visible-xs visible-sm visible-md"> <% if (isLoggedIn && isSessionDetected) { %> <div class="navigation-button btn fn-toggle-mobile-menu"><i class="icon-menu"></i></div><div class="navigation-overlay fn-toggle-mobile-menu"></div><div class="navigation-container"></div> <% } %> </div></div>'},function(t,e){t.exports='<div class="header-panel"><div class="logotype-box"></div><div class="header__left-action"></div><div class="notification-box-container"><div class="notification-box hidden-xs hidden-sm hidden-md"></div><div class="active-bonus-panel hidden-xs hidden-sm hidden-md"></div></div><div class="account-info hidden-xs hidden-sm hidden-md"></div><div class="header-tab-box visible-xs visible-sm visible-md fn-header-tab-box"></div><div class="navigation-box"></div></div>'},function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function r(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function o(t,e){var n=e.as;return{value:t.ui.header.title,isRoot:t.ui.section===w.UI_SECTION_TRADING,as:n||"span"}}function s(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),l=n.n(a),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u=function(t){var e=t.as,n=(t.dispatch,i(t,["as","dispatch"]));return l.a.createElement(e||"span",c({},n),l.a.createElement("span",{className:"logotype-box"},l.a.createElement("span",{className:"logotype"})))},d=n(7),h=n.n(d),p=function(t){var e=t.invert,n=t.children;return(e?!h.a.isLoggedIn():h.a.isLoggedIn())?n:null},f=n(303),m=n.n(f),g=n(8),v=n(11),b=n.n(v),y=n(15),_=n.n(y),w=n(10),S=Object(g.connect)(o)(function(t){var e=t.isRoot,n=(t.value,t.dispatch,t.useSearch),i=void 0===n?_.a.mobile():n,o=r(t,["isRoot","value","dispatch","useSearch"]),s=b()({icon:!0,arrow:!e,search:i&&e});return l.a.createElement(o.as,o,l.a.createElement("div",{className:s}),!e&&l.a.createElement("div",{className:"caption"}))});e.default=function(t){var e=s(t,[]);return l.a.createElement("div",e,l.a.createElement(m.a,{desktop:!0},l.a.createElement(u,null)),l.a.createElement(m.a,{tablet:!0},l.a.createElement(u,null)),l.a.createElement(m.a,{mobile:!0},l.a.createElement("div",null,l.a.createElement(p,{invert:!0},l.a.createElement(u,null)),l.a.createElement(p,null,l.a.createElement(S,{as:"div",className:"previous btn fn-previous"})))))}},function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function r(t){return{value:t.ui.header.title}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),s=n.n(o),a=n(8),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.default=Object(a.connect)(r)(function(t){var e=t.as,n=t.value,r=(t.dispatch,i(t,["as","value","dispatch"]));return n?s.a.createElement(e||"span",l({},r),n):null})},function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function r(t){return{value:t.ui.header.description}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),s=n.n(o),a=n(8),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.default=Object(a.connect)(r)(function(t){var e=t.as,n=t.value,r=(t.dispatch,i(t,["as","value","dispatch"]));return n?s.a.createElement(e||"span",l({},r),n):null})},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var c=n(1),u=n.n(c),d=n(8),h=n(401),p=n(771),f=n(400),m=n(402),g=n(403),v=n(47),b=n(53),y=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_=function(t){return{isOpened:Object(b.l)(t)}},w=function(t){return{messagesUnselectAll:function(){return t(Object(v.messagesUnselectAll)())},closeActiveMessage:function(){return t(Object(v.setIsActiveMessageVisible)(!1))}}},S=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),y(e,[{key:"componentWillUnmount",value:function(){this.props.messagesUnselectAll(),this.props.closeActiveMessage()}},{key:"render",value:function(){return this.props.isOpened?u.a.createElement("div",{className:"notification-center__popup"},u.a.createElement("div",{ref:"notification_center"},u.a.createElement(p.a,null),u.a.createElement(m.b,null),u.a.createElement(h.b,null),u.a.createElement(g.a,null),u.a.createElement(f.a,null))):null}}]),e}(u.a.Component),E=Object(d.connect)(_,w)(S),x=n(404),C=(n(1847),n(33)),T=n.n(C),k=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),O=function(t){return{isOpened:Object(b.l)(t)}},P=function(t){return{setPopupState:function(e){return t(Object(v.setOpenPopupState)(e))},messagesUnselectAll:function(){return t(Object(v.messagesUnselectAll)())},closeActiveMessage:function(){return t(Object(v.setIsActiveMessageVisible)(!1))}}},I=function(t){function e(){var t;s(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=a(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i)));return T()(o),o}return l(e,t),k(e,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.onClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onClick)}},{key:"onClick",value:function(t){this.props.isOpened&&this.refs.wrapper&&!this.refs.wrapper.contains(t.target)&&this.onToggle()}},{key:"onToggle",value:function(){var t=!this.props.isOpened;this.props.setPopupState(t),t&&(this.props.messagesUnselectAll(),this.props.closeActiveMessage())}},{key:"render",value:function(){return u.a.createElement("div",{ref:"wrapper",className:"notification-center__icon"},u.a.createElement("span",{className:"icon-notification fs-21",onClick:this.onToggle}),u.a.createElement(x.default,null),u.a.createElement(E,null))}}]),e}(u.a.Component);e.default=Object(d.connect)(O,P)(I)},function(t,e,n){t.exports=n.p+"images/828128d7e6da.svg"},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(1),a=n.n(s),l=n(8),c=n(2),u=n.n(c),d=n(5),h=n.n(d),p=n(15),f=n.n(p),m=n(10),g=n(33),v=n.n(g),b=n(53),y=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_=function(t){return{isOpened:Object(b.l)(t)}},w=function(t){function e(){var t;i(this,e);for(var n=arguments.length,o=Array(n),s=0;s<n;s++)o[s]=arguments[s];var a=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o)));return a.prevIsOpenState=!1,a.isPrevOrientationPortrait=void 0,a.state={isPortrait:void 0},v()(a),a}return o(e,t),y(e,[{key:"componentDidMount",value:function(){h()(window).on("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){h()(window).off("resize",this.onResize),u.a.trigger("ui:notification-center:close")}},{key:"onResize",value:function(){this.setState({isPortrait:f.a.portrait()})}},{key:"isHeaderInMobileView",value:function(){return f.a.mobile()||f.a.tablet()&&(f.a.portrait()||window.innerWidth<m.BREAKPOINT_SCREEN_LG_MAX)}},{key:"shouldComponentUpdate",value:function(t,e){return(this.isPrevOrientationPortrait!==e.isPortrait||t.isOpened!==this.props.isOpened&&this.prevIsOpenState!==t.isOpened)&&(this.prevIsOpenState=t,this.isPrevOrientationPortrait=e.isPortrait,t.isOpened&&this.isHeaderInMobileView()?u.a.trigger("ui:notification-center:open"):u.a.trigger("ui:notification-center:close"),!1)}},{key:"render",value:function(){return null}}]),e}(a.a.Component);e.default=Object(l.connect)(_)(w)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t){return{activeBonusesAmount:Object(x.d)(t)}}Object.defineProperty(e,"__esModule",{value:!0});var u=n(1),d=n.n(u),h=n(33),p=n.n(h),f=n(820),m=n.n(f),g=n(778),v=n.n(g),b=n(0),y=n.n(b),_=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),w=function(t){function e(t){i(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return p()(n),n}return o(e,t),_(e,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.onClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onClick)}},{key:"onClick",value:function(t){this.refs.el&&!this.refs.el.contains(t.target)&&this.props.onOutsideClick()}},{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement("div",{ref:"el",className:"topmenu-bonus-progress-bar__content active-bonus-panel"},d.a.createElement(m.a,{name:v.a})))}}]),e}(d.a.Component);w.defaultProps={onOutsideClick:y.a.noop};var S=w,E=n(8),x=n(62),C=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),T=function(t){function e(t){s(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return p()(n),n.state={isOpened:!1},n}return l(e,t),C(e,[{key:"onClick",value:function(){this.setState({isOpened:!this.state.isOpened})}},{key:"render",value:function(){var t=this.state.isOpened,e=this.props.activeBonusesAmount;return d.a.createElement("div",{className:"topmenu-bonus-progress-bar__icon"},e>0&&d.a.createElement("div",{className:"icon-bonus-menu fs-20",onClick:this.onClick}),t&&d.a.createElement(S,{onOutsideClick:this.onClick}))}}]),e}(d.a.Component);e.default=Object(E.connect)(c)(T)},function(t,e,n){t.exports=n.p+"images/7b76516ef530.svg"},function(t,e){t.exports='<div class="active-bonus"><div class="bonus-icon"><div class="icon-bonuses-white"></div></div><div class="bonus-amount"><%= amount %></div><div class="bonus-progress"><div class="progress-bar"><div class="progress-bar-fill" style="width: <%= progressPercent %>%"><img class="progress-bar-fill__icon" src="<%=indicatorIcon%>"></div></div><div class="points"><div class="current-points" style="width: <%= (progressPercent + 3) %>%"> <% if(currentPoints > 0) { %> <div>0</div><div class="current-points__value <%if (currentPoints < 10 || (currentPoints > targetPoints - 10)){%>current-points__space<%}%>"><%= currentPoints%></div> <% } else { %> <div class="current-points__value">0</div> <% } %> </div><div><%= targetPoints%></div></div></div></div>'},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var r=n(5),o=n(0),s=n(734),a=(n(773),n(2)),l=n(58),c=n(108),u=n(6),d=n(7),h=n(38),p=n(15),f=n(9),m=n(56),g=n(153),v=n(23),b=n(221),y=n(122),_=n(154),w=n(776),S=n(867),E=n(264),x=n(173).SECTION,C=n(367).default,T=n(1),k=n(16),O=n(404).default,P=n(47),I=P.setOpenPopupState,A=n(8),M=A.Provider,N=o.template(n(1853)),D=s.extend({events:function(){return o.extend({"click .fn-notification-center":"onOpenNotificationCenter","click .fn-open-account-settings":"openAccountSettings","click .fn-open-metatrader":"openMetatrader","click .fn-deposit":"onDeposit","click .fn-withdrawal":"onWithdrawal","click .fn-bonuses":"onBonuses","click .fn-trading-tools":"onTradingTools","click .fn-verify":"onVerify","click .fn-lang-switch":"onLanguageChange","change .mobile-dropdown-lang":"mobileLangSelect","click .fn-submenu":"toggleSubmenu","click a.mobile-nav-switch":"switch_account","click .nav-content-body a":"onMenuItemClick","click .fn-open-store":"onOpenStore"},o.result(s.prototype,"events"))},initialize:function(t){t=o.extend({},{showHeader:!1,boxWidth:"80%",maxBoxWidth:"20em",showBoxShadow:!0},t),this.phoneNumber="",s.prototype.initialize.call(this,t),this._metatraderLeverage=new S,this.listenTo(a,"orders:long:count",this._onChangeCount),this.listenTo(l,"remove update",this.onPositionsUpdate),this.listenTo(c,"remove update",this.onOrdersUpdate),this.listenTo(b,"remove update",this.onPriceAlertsUpdate),this.listenTo(g,"change:metaTraderEnabled",this.visibilityMetaTraderItem),this.listenTo(this._metatraderLeverage,"change:statusOfMetaTraderAccounts",this.metaTraderAccountsChanged),this.listenTo(a,"user:leverage:updated",this.visibilityLeverageSettings),a.trigger("orders:get:count")},innerRender:function(t){var e=this,n=d.getUserAccountMetricsModel(),i=d.getUserCurrencySymbol(),s=h(n.getBalance()).formatForeignCurrency(i),a=h(n.getBuyingPower()).formatForeignCurrency(i),l=h(n.getEquity()).formatForeignCurrency(i),c=h(n.getProfitLoss()).formatForeignCurrency(i),u=n.getProfitLoss()>=0,g=!m.LOW_SCORE()||!m.FULL_REGISTRATION_COMPLETED(),b=f.isTradingSettingsSectionEnabled(),y=f.isViewSettingsSectionEnabled(),_=f.isLocalizationSettingsSectionEnabled(),w=d.getUserCommonData().getUserTimezoneObject().displayName,S=d.getUserCommonData().getUserTimezoneObject().gmt,C=d.getUserPendingDeposit();C=o.isNumber(C)&&C>0&&f.isLive()?h(C).formatForeignCurrency(i):null;var T=d.getUserData().getAccount(),k=d.isCustomerLevelGoalAlert(),O=T.currency?d.getUserCurrencySymbol():"",P=k?h(d.getUserTotalDeposits()).formatForeignCurrency(O).split(".")[0]:"",I=k?h(d.getMarketxThreshold()).formatForeignCurrency(O).split(".")[0]:"",A=k?h(d.getAdditionalDepositForMarketX()).formatForeignCurrency(O).split(".")[0]:"";this.setContent(N({currency:i,balance:s,buyingPower:a,equity:l,profitLoss:c,profitLossPositive:u,isPlatformSwitchAllowed:g,isTradingSettingsAllowed:b,isViewSettingsAllowed:y,isLocalizationAllowed:_,isAndroid:p.android(),device:p,languages:v.getLanguages(),lang:v.getLanguage(),settings:f,promotionTooltip:__("promotion.bar.marketsx.tooltip",A),showMobilePromotionBar:d.isCustomerLevelGoalAlert()&&!d.isEligibleForMarketsX()&&d.getAdditionalDepositForMarketX()>0,totalDeposits:P,marketxThreshold:I,electiveProfessionalEnabled:f.isAccountClassificationEnabled()&&d.isElectiveProfessionalEnabled(),spreadRebateEnabled:f.isSpreadRebateEnabled()&&t.spreadRebate&&!0===t.spreadRebate.active,fullRegistrationCompleted:m.FULL_REGISTRATION_COMPLETED(),needShowBonusesMenuItem:f.isBonusesEnabled()&&E.hasBonuses(),showAccountSettingLeverage:f.isLeverageChangeEnabled()&&m.FULL_REGISTRATION_COMPLETED(),section:x,isMarketsXEnable:d.getUserLevelsModel().isEnable()&&d.getUserLevelsModel().getLevels().length>0,isMarketsX:d.getUserLevelsModel().isMarketsX(),isLowScore:m.LOW_SCORE(),isLiveAccount:f.isLive(),userTimezoneDisplayName:w,userTimezoneOffset:S,pendingDepositAmount:C})),this.$el.find(".nav-store-links").addClass("hidden"),this.onPositionsUpdate(),this.onOrdersUpdate(),this.onPriceAlertsUpdate();var M=__("menu.label.new");f.getTabsWithBadge().forEach(function(t){var e=r('<span class="menu-new-badge">'+M+"</span>");r("#"+t).append(e)}),this.visibilityTradingTools().then(function(){e.visibilityMetaTraderItem(),e.visibilityLeverageSettings(),f.checkCustomerLevelsEnabled().then(function(t){return t&&e.setBadgeForMarketsXTools()}),f.isNotificationCenterEnabled()&&e.renderNotificationCenterCounter()})},renderNotificationCenterCounter:function(){k.render(T.createElement(M,{store:store},T.createElement(O,null)),this.$("#mobile-nav-notification-center>.icon-notification")[0])},visibilityTradingTools:function(){var t=this;return Promise.all([f.checkEventsAndTradeEnabled(),f.checkPriceAlertsEnabled(),f.checkMultiChartsEnabled(),f.checkTipranksEnabled(),f.checkInsidersEnabled(),f.checkBloggersEnabled(),f.checkHedgeFundsEnabled(),f.checkWebinarsEnabled(),f.checkVideoTutorialsEnabled(),f.checkForexliveEnabled(),f.checkBlogEnabled(),f.checkNewsSentimentEnabled(),f.checkNewsFeedEnabled(),f.checkPremiumSupportPhoneEnabled(),f.checkEducationEnabled(),f.checkAcuityNewsSentimentEnabled()]).then(function(e){var n=!1;e[0]&&(t.$el.find(".tool-events-trade").removeClass("hidden"),n=!0),e[1]&&(t.$el.find(".tool-price-alerts").removeClass("hidden"),n=!0),n&&t.$el.find(".tools-topmenu-fundamental").removeClass("hidden");var i=!1;e[2]&&!p.mobile()&&(t.$el.find(".tool-multi-charts").removeClass("hidden"),i=!0),i&&t.$el.find(".tools-topmenu-technical").removeClass("hidden");var r=!1;e[3]&&(t.$el.find(".tool-tipranks").removeClass("hidden"),r=!0),e[4]&&(t.$el.find(".tool-insiders").removeClass("hidden"),r=!0),e[5]&&(t.$el.find(".tool-bloggers").removeClass("hidden"),r=!0),e[6]&&(t.$el.find(".tool-hedgefunds").removeClass("hidden"),r=!0),r&&t.$el.find(".tools-topmenu-sentiment").removeClass("hidden");var o=!1;if(e[7]&&(t.$el.find(".tool-webinars").removeClass("hidden"),o=!0),e[8]&&(t.$el.find(".tool-video-tutorials").removeClass("hidden"),o=!0),e[9]&&t.$el.find(".tool-commentaries").removeClass("hidden"),e[10]&&t.$el.find(".tool-blog").removeClass("hidden"),e[11]&&t.$el.find(".tool-news-sentiment").removeClass("hidden"),o&&t.$el.find(".tools-topmenu-knowledge-center").removeClass("hidden"),(n||i||r||o)&&t.$el.find("#mobile-trading-tools-menu.hidden").removeClass("hidden"),e[12]&&t.$el.find(".tool-news").removeClass("hidden"),e[13]){var s=e[13];t.phoneNumber=s,t.$el.find(".vip-support-menu-item").removeClass("hidden").find(".premium-support-phone-link").attr("href","tel:"+s)}e[14]&&t.$(".tool-video-education").removeClass("hidden"),e[15]&&t.$el.find(".tool-news-alerts").removeClass("hidden")})},setBadgeForMarketsXTools:function(){var t=this;f.getPremiumToolsBadge().forEach(function(e){var n=d.getUserLevelsModel().isMarketsX(),i=t.$el.find(".tool-"+e);if(!i.hasClass("hidden"))return void(n&&t.markAsMarketsX(i,n));t.markAsMarketsX(i,n),i.removeClass("hidden"),n||(i.addClass("disabled"),i.attr("aria-label",__("marketsX.tooltip.text"+(n?".available":""))))})},markAsMarketsX:function(t,e){var n=r(t);n.addClass("premium-menu");var i=e?"active":"disabled",o=r('<i class="icon-premium-'+i+' marketsX-label"></i>'),s=n.find("[id]"),a=r(n.find("[id]").html());s.html("").append(o).append(a)},render:function(){var t=this;s.prototype.render.apply(this),(new(n(261))).load().then(function(e){t.innerRender({spreadRebate:e.data})}).catch(function(e){t.innerRender({})})},visibilityLeverageSettings:function(){var t=this.$("#item-leverage-settings");d.getUserLeverageLevels().canChangeLeverage()?t.removeClass("hidden"):t.addClass("hidden")},visibilityMetaTraderItem:function(){var t=this.$("#mobile-metatrader-menu");g.isMetaTraderVisible()?t.removeClass("hidden"):t.addClass("hidden")},onMenuItemClick:function(t){if(this.isMenuItemPhone(r(t.currentTarget)))return void window.open("tel:"+this.phoneNumber);if(t.preventDefault(),t.stopImmediatePropagation(),!this.isMenuItemDisable(r(t.currentTarget))){var e=r(t.currentTarget),n=e.attr("href"),i=e.attr("data-ui");i?a.trigger(i):o.isEmpty(n)&&"#"===n||a.navigate(n,{replace:!0}),"open-promotion-dialog"!==i&&this.closePanel()}},onDeposit:function(){a.trigger("flow:deposit:RealDepositItemMainMenu"),this.closePanel()},onVerify:function(){a.trigger("flow:verify")},onWithdrawal:function(t){this.triggerUIAsync("ui:withdraw",t)},onBonuses:function(t){this.triggerUIAsync("ui:menu:bonuses",t)},isMenuItemDisable:function(t){var e=C(t,"li");return r(e).hasClass("disabled")},isMenuItemPhone:function(t){var e=t.attr("href");return e&&e.startsWith("tel:")},triggerUIAsync:function(t,e){if(!this.isMenuItemDisable(r(e.currentTarget))){var n=r(e.currentTarget).attr("data-tab-id");setTimeout(function(){return a.trigger(t,{currentTabId:n})},0),this.closePanel()}},onTradingTools:function(t){t.stopImmediatePropagation(),this.triggerUI(t)},triggerUI:function(t){this.isMenuItemDisable(r(t.currentTarget))||(a.trigger(r(t.currentTarget).attr("data-tab-id")),this.closePanel())},_onChangeCount:function(t){this.$el.find("#mobile-nav-orders .badge").html(t)},open_funds_slidebox:function(){return new(n(738))({parent:document.body})},switch_account:function(){a.trigger("platform:switch:sync",f.isLive()?"demo":"live")},onPositionsUpdate:function(){this.$el.find("#mobile-nav-open-positions .badge").html(l.size())},onOrdersUpdate:function(){this.$el.find("#mobile-nav-orders .badge").html(c.size())},onPriceAlertsUpdate:function(){this.$el.find("#mobile-nav-price-alerts .badge").html(b.size())},onLanguageChange:function(t){t.preventDefault(),t.stopImmediatePropagation()},openAccountSettings:function(t){t.preventDefault(),t.stopPropagation();var e=r(t.currentTarget).attr("data-tab-id");switch(e){case x.LEVERAGE:case x.NOTIFICATIONS:case x.PASSWORD:a.trigger("flow:"+e);break;default:a.trigger("ui:account-settings",e)}this.closePanel()},getSetPasswordMessage:function(){return new w({parent:document.body,hideCancelButton:!1,confirmOKBtnText:__("new_account.login_link"),confirmCancelBtnText:__("cancel"),confirmCaption:""})},openMetatrader:function(t){var e=this,n=function(t){var e=window.open("","_blank");e.location=t,e.focus&&e.focus()};t.preventDefault(),t.stopPropagation(),this.confirmation().then(function(){if(f.isMetaTraderInternalEnabled()){var i=r(t.currentTarget).attr("data-tab-id"),o=r(t.currentTarget).attr("bonuses-tab");a.trigger("ui:open-metatrader",i,o)}else{if(y.isExternalLoginDetected()){if(d.getUserData().get("externalLogin")){var s=d.getUserData().getCrmboCustomer();return u.forgotPasswordById(s.id).then(function(){return a.trigger("ui:message-box",{text:__("mt4.password.need.reset",s.email),isHeaderShowed:!1,okBtnText:__("ok"),isShowCloseForMobile:!1})})}return e.getSetPasswordMessage()}var l=d.getMetaTraderLink();l&&n(l)}}),this.closePanel()},confirmation:function(){return _.isTradingPositionRiskWarningRequired()?new Promise(function(t){a.trigger("ui:risk-warning",{regulation:"spanish",action:"trade",onOK:t})}):Promise.resolve()},toggleSubmenu:function(t){t.preventDefault(),t.stopPropagation();var e=r(t.currentTarget).find('a[href^="tel:"]')[0];if(!(this.isMenuItemDisable(r(t.target))||e&&e.contains(t.target))){var n=r(t.currentTarget);n.hasClass("opened")?(n.removeClass("opened"),n.find(".opened").removeClass("opened")):n.addClass("opened")}},onOpenStore:function(t){a.trigger("ui:open-application-store"),this.closePanel()},mobileLangSelect:function(t){var e=r(t.target).val();this.closePanel(),a.trigger("ui:change-language",e)},metaTraderAccountsChanged:function(){this.showLeverageTab(),this.showBonusesTab(),this.showFundsTransferTab()},showLeverageTab:function(){if(f.isMetaTraderInternalLeverageEnabled()){var t=o.filter(this._metatraderLeverage.get("metaTraderAccounts"),function(t){return!o.isEmpty(t.platformAccountId)&&"ACTIVE"===t.tradingAccountStatus});o.isEmpty(t)?this.$el.find('li[data-tab-id="metatrader-leverage"]').addClass("hidden"):this.$el.find('li[data-tab-id="metatrader-leverage"]').removeClass("hidden")}else this.$el.find('li[data-tab-id="metatrader-leverage"]').addClass("hidden")},showBonusesTab:function(){if(f.isBonusesEnabled()){var t=this.getActiveAccountsWithBonuses();o.isEmpty(t)?this.$el.find('li[id="metatrader-bonuses-menu"]').addClass("hidden"):this.$el.find('li[id="metatrader-bonuses-menu"]').removeClass("hidden")}else this.$el.find('li[id="metatrader-bonuses-menu"]').addClass("hidden")},showFundsTransferTab:function(){var t=o.filter(this._metatraderLeverage.get("metaTraderAccounts"),function(t){return!o.isEmpty(t.platformAccountId)&&"ACTIVE"===t.tradingAccountStatus});o.isEmpty(t)?this.$el.find('li[data-tab-id="metatrader-funds-transfer"]').addClass("hidden"):this.$el.find('li[data-tab-id="metatrader-funds-transfer"]').removeClass("hidden")},getActiveAccountsWithBonuses:function(){return o.filter(this._metatraderLeverage.get("metaTraderAccounts"),function(t){return!o.isEmpty(t.platformAccountId)&&"ACTIVE"===t.tradingAccountStatus&&t.hasBonuses})},onOpenNotificationCenter:function(){window.store.dispatch(I(!0))}});i.exports=D}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports='<div class="mobile-navigation-menu"><div class="nav-box"><div class="nav-header-box"><div class="btn fn-close"><i class="icon-close-white"></i></div> <%if (isPlatformSwitchAllowed) {%> <div class="addon"><a class="btn btn-sm mobile-nav-switch"><span> <% if (settings.isLive()) { %><%=__(\'switch_to_practice\')%><% } else { %><%=__(\'switch_to_real\')%><% } %> </span></a></div> <%}%> <div class="timezone"><div><%=userTimezoneDisplayName%></div><div><%=userTimezoneOffset%></div></div></div><div class="nav-content-box"><div class="nav-store-links"><div class="icon-phone-blue"></div><div class="text"><%=__(\'store.link.text\')%></div><i class="<%= isAndroid ? \'icon-googleplay\' : \'icon-appstore\'%> fn-open-store"></i></div> <% if(isMarketsX) {%> <div class="premium-level-block"><i class="icon-diamond"></i> <span><%= __(\'premium.marketsX.account\')%></span></div> <% } %> <div class="nav-content-body"><ul> <% if(showMobilePromotionBar) {%> <li><a href="#" data-ui="open-promotion-dialog" data-tooltip-align="top" aria-label="<%=promotionTooltip%>"><span class="mobile-promotion-item"><%=__(\'promotion.bar.pending\')%></span><span class="mobile-promotion-item amount"> <%=totalDeposits%> / <%=marketxThreshold%> </span></a></li> <% } %> <% if (settings.isNotificationCenterEnabled() ) { %> <li><a href="#" id="mobile-nav-notification-center" class="fn-notification-center"><span class="icon-notification"></span> <span><%=__(\'notification.center.title\')%> <i class="badge"></i></span></a></li> <% } %> <li><a href="#favorites" id="mobile-nav-favorites"><span class="icon-star"></span> <span><%=__(\'tab.favorites\')%> <i class="badge"></i></span></a></li><li><a href="#open-positions" id="mobile-nav-open-positions"><span class="icon-open-positions"></span> <span><%=__(\'tab.open_positions\')%> <i class="badge"></i></span></a></li><li><a href="#orders" id="mobile-nav-orders"><span class="icon-orders-menu"></span> <span><%=__(\'tab.orders\')%> <i class="badge"></i></span></a></li><li><a href="#" id="mobile-nav-funds-management" data-ui="ui:funds-management"><span class="icon-funds-managment"></span> <span><%=__(\'funds.management\')%></span></a></li> <% if (settings.isLive() && isPlatformSwitchAllowed && settings.isAutomaticWithdrawalEnabled() ) {\n                    %> <li id="mobile-withdrawal-menu" class="submenu fn-submenu"><div><span class="icon-withdraw"></span> <span><%=__(\'withdraw.menu.mobile\')%></span><i class="expand-arrow"></i></div><ul><li><div id="mobile-nav-withdarwal" class="fn-withdrawal" data-tab-id="withdrawal"><span><%=__(\'withdraw.button.save\')%> <i class="badge"></i></span></div></li><li><div id="mobile-nav-withdarwal-manage" class="fn-withdrawal" data-tab-id="methods"><span><%=__(\'withdraw.menu.mobile.manage\')%> <i class="badge"></i></span></div></li><li><div id="mobile-nav-withdarwal-statuses" class="fn-withdrawal" data-tab-id="statuses"><span><%=__(\'withdraw.menu.mobile.status\')%> <i class="badge"></i></span></div></li></ul></li> <% } %> <% if (settings.isLive() && isPlatformSwitchAllowed && !settings.isAutomaticWithdrawalEnabled() ) {\n                    %> <li><div id="mobile-nav-withdarwal" class="fn-withdrawal" data-tab-id="withdrawal"><span class="icon-withdraw"></span> <span><%=__(\'withdraw.menu.mobile\')%> <i class="badge"></i></span></div></li> <% } %> <li><a class="fn-verify" href="#"><span class="icon-verification-center"></span> <span><%=__(\'verification_center.popup.title\')%></span></a></li><li id="mobile-trading-tools-menu" class="submenu fn-submenu hidden"><div><span class="icon-trading-tools"></span> <span><%=__(\'tab.trading_tools\')%></span><i class="expand-arrow"></i></div><ul><li class="submenu subsubmenu fn-submenu tools-topmenu-fundamental hidden"><div><span><%=__(\'topmenu.fundamental\')%></span><i class="expand-arrow"></i></div><ul><li class="tool-events-trade hidden"><div id="mobile-nav-events-and-trade" class="fn-trading-tools" data-tab-id="flow:events-and-trade"><span><%=__(\'tab.financial_events\')%> <i class="badge"></i></span></div></li><li class="tool-price-alerts hidden"><a href="#price-alerts" id="mobile-nav-price-alerts"><span><%=__(\'tab.price_alerts\')%> <i class="badge"></i></span></a></li><li class="tool-commentaries hidden"><a id="mobile-nav-commentaries" href="#commentary" class="fn-trading-tools"><span><%=__(\'tab.commentary\')%> <i class="badge"></i></span></a></li><li class="tool-news hidden"><a id="mobile-nav-news" href="#news" class="fn-trading-tools"><span><%=__(\'tab.news\')%> <i class="badge"></i></span></a></li></ul></li><li class="submenu subsubmenu fn-submenu tools-topmenu-technical hidden"><div><span><%=__(\'topmenu.technical\')%></span><i class="expand-arrow"></i></div><ul><li class="tool-multi-charts hidden"><a href="#multi-charts" id="mobile-nav-multicharts"><span><%=__(\'tab.multi_charts\')%></span></a></li></ul></li><li class="submenu subsubmenu fn-submenu tools-topmenu-sentiment hidden"><div><span><%=__(\'topmenu.sentiment\')%></span><i class="expand-arrow"></i></div><ul><li class="tool-insiders hidden"><div id="mobile-nav-insiders" class="fn-trading-tools" data-tab-id="flow:insiders"><span><%=__(\'tab.insiders\')%> <i class="badge"></i></span></div></li><li class="tool-tipranks hidden"><div id="mobile-nav-tipranks" class="fn-trading-tools" data-tab-id="flow:tip-ranks"><span><%=__(\'tab.tipranks\')%> <i class="badge"></i></span></div></li><li class="tool-bloggers hidden"><div id="mobile-nav-bloggers" class="fn-trading-tools" data-tab-id="flow:bloggers"><span><%=__(\'tab.bloggers\')%> <i class="badge"></i></span></div></li><li class="tool-hedgefunds hidden"><div id="mobile-nav-hedgefunds" class="fn-trading-tools" data-tab-id="flow:hedgefunds"><span><%=__(\'tab.hedgefunds\')%> <i class="badge"></i></span></div></li><li class="tool-news-sentiment hidden"><div id="mobile-nav-news-sentiment" class="fn-trading-tools" data-tab-id="flow:newsSentiment"><span><%=__(\'tab.news.sentiment\')%> <i class="badge"></i></span></div></li><li class="tool-news-alerts hidden"><div id="mobile-nav-news-alerts" class="fn-trading-tools" data-tab-id="ui:acuity-trading"><span><%=__(\'tab.news.alerts\')%> <i class="badge"></i></span></div></li></ul></li><li class="submenu subsubmenu fn-submenu tools-topmenu-knowledge-center hidden"><div><span><%=__(\'topmenu.knowledge_center\')%></span><i class="expand-arrow"></i></div><ul><li class="tool-webinars hidden"><a href="#" class="fn-menu-item fn-webinars" data-ui="flow:webinars"><span><%=__(\'menu.webinar\')%></span></a></li><li class="tool-video-tutorials hidden"><a href="#" class="fn-menu-item video-tutorials" data-ui="ui:tutorials"><span><%=__(\'hint.video_tutorials\')%></span></a></li><li class="tool-video-education hidden"><a href="#" class="fn-menu-item video-education" data-ui="ui:education"><span><%=__(\'hint.video_education\')%></span></a></li><li class="tool-blog hidden"><a href="#" class="fn-menu-item blog" data-ui="flow:blog"><span><%=__(\'tab.blog\')%></span></a></li></ul></li></ul></li><li id="mobile-my-account-menu" class="submenu fn-submenu"><div><span class="icon-setting"></span> <span><%=__(\'account_settings.popup.title\')%></span><i class="expand-arrow"></i></div><ul> <% if (device.mobile() || device.tablet()) { %> <li><div class="mobile-lang-switch fn-lang-switch"><span><%=__(\'account_settings.change_language\')%> <i class="badge"></i></span><select class="mobile-dropdown-lang"> <% for(var lg in languages) { %> <option value="<%=languages[lg]%>" <% if(languages[lg] == lang) {%> selected="selected" <%}%>><%=__(\'language.\' + languages[lg])%></option> <% } %> </select></div></li> <% } %> <li><div id="mobile-nav-customer-info" data-tab-id="<%=section.CUSTOMER_INFO%>" class="fn-open-account-settings"><span><%=__(\'account_settings.customer_info.menu.title\')%> <i class="badge"></i></span></div></li> <% if (isPlatformSwitchAllowed) { %> <% if (showAccountSettingLeverage) { %> <li id="item-leverage-settings"><div id="mobile-nav-leverage-settings" data-tab-id="<%=section.LEVERAGE%>" class="fn-open-account-settings"><span><%=__(\'account_settings.update_leverage.form.title\')%> <i class="badge"></i></span></div></li> <% } %> <% if (settings.isLive()) { %> <% if (electiveProfessionalEnabled) { %> <li><div id="mobile-nav-professional-settings" data-tab-id="<%=section.ACCOUNT_CLASSIFICATION%>" class="fn-open-account-settings"><span><%=__(\'account_classification.title\')%><i class="badge"></i></span></div></li> <% } %> <% if (spreadRebateEnabled) { %> <li><div id="mobile-nav-spread-rebate" data-tab-id="<%=section.SPREAD_REBATE%>" class="fn-open-account-settings"><span><%=__(\'account_settings.spread_rebate.menu.title\')%> <i class="badge"></i></span></div></li> <% } %> <li><div id="mobile-nav-change-password" data-tab-id="<%=section.PASSWORD%>" class="fn-open-account-settings"><span><%=__(\'account_settings.change_password.form.title\')%> <i class="badge"></i></span></div></li> <% } %> <% } %> <% if (isPlatformSwitchAllowed && fullRegistrationCompleted) { %> <li><div id="mobile-nav-notification-settings" data-tab-id="<%=section.NOTIFICATIONS%>" class="fn-open-account-settings"><span><%=__(\'account_settings.notifications.menu.title\')%> <i class="badge"></i></span></div></li> <% } %> <li id="mobile-nav-platform-features" class="submenu fn-submenu"><div><span> <%=__(\'account_settings.platform_features.menu.title\')%> </span><i class="expand-arrow"></i></div><ul> <% if (isTradingSettingsAllowed) { %> <li><div id="mobile-nav-trading-settings" data-tab-id="<%=section.TRADING_SETTINGS%>" class="fn-open-account-settings"><span class="mobile-submenu-item"> <%=__(\'account_settings.trading-settings.menu.title\')%> </span></div></li> <% } %> <% if (isViewSettingsAllowed) { %> <li><div id="mobile-nav-view-settings" data-tab-id="<%=section.VIEW_SETTINGS%>" class="fn-open-account-settings"><span class="mobile-submenu-item"> <%=__(\'account_settings.view-settings.menu.title\')%> </span></div></li> <% } %> <% if (isLocalizationAllowed) { %> <li><div id="mobile-nav-localization-settings" data-tab-id="<%=section.LOCALIZATION%>" class="fn-open-account-settings"><span class="mobile-submenu-item"> <%=__(\'account_settings.localization.menu.title\')%> </span></div></li> <% } %> </ul></li> <% if (fullRegistrationCompleted && isMarketsXEnable && !isLowScore && isLiveAccount) { %> <li><div id="mobile-nav-account-level" data-tab-id="account-level" class="fn-open-account-settings"><span><%= __(\'account_settings.account-level.menu.title\') %> <i class="badge"></i></span></div></li> <% } %> </ul></li> <% if (needShowBonusesMenuItem) { %> <li id="mobile-bonuses-menu" class="submenu fn-submenu bonuses-menu"><div><span class="icon-bonus-menu"></span> <span><%=__(\'bonus.menu.title\')%></span><i class="expand-arrow"></i></div><ul><li><div id="mobile-nav-bonuses-in-progress" class="fn-bonuses" data-tab-id="in-progress"><span><%=__(\'bonus.tab.in_progress\')%> <i class="badge"></i></span></div></li><li><div id="mobile-nav-bonuses-completed" class="fn-bonuses" data-tab-id="completed"><span><%=__(\'bonus.tab.completed\')%> <i class="badge"></i></span></div></li></ul></li> <% } %> <li id="mobile-report-menu" class="submenu fn-submenu"><div><span class="icon-reports-ico"></span> <span><%=__(\'topmenu.reports\')%></span><i class="expand-arrow"></i></div><ul> <% if (isPlatformSwitchAllowed) { %> <li><a href="#" id="mobile-nav-account-statement" data-ui="ui:account-statement"><span><%=__(\'report\')%></span></a></li> <% } %> <li><a href="#closed-positions" id="mobile-nav-closed-positions"><span><%=__(\'tab.closed_positions\')%></span></a></li><li><a href="#canceled-orders" id="mobile-nav-order-history"><span><%=__(\'order.history.cancelled_orders\')%> <i class="badge"></i></span></a></li></ul></li><li id="mobile-support-menu" class="submenu fn-submenu"><div><span class="icon-support"></span> <span><%=__(\'support\')%></span><i class="expand-arrow"></i></div><ul> <% if (isMarketsX) {%> <li class="vip-support vip-support-menu-item hidden"><a href="tel:" class="premium-support-phone-link"><span class="vip-support__text"><i class="icon-premium-active"></i> <span><%= __(\'marketsx.premium.phone\') %></span></span><i class="icon-marketsx-phone"></i></a></li> <% } %> <li><a href="#" id="mobile-nav-contact-us" data-ui="ui:contact-us"><span><%=__(\'contact_support\')%></span></a></li><li><a href="#" class="fn-menu-item" data-ui="ui:help-center"><span><%=__(\'faq.menu.title\')%></span></a></li> <% if (settings.isLiveChatEnabled()) { %> <li class="<%if(isMarketsX){%>vip-support<%}%>"><a href="#" id="mobile-nav-live-chat" data-ui="ui:need-help-menu"><span><%= isMarketsX ? __(\'marketsX.live.chat\') : __(\'live-chat\') %></span></a></li> <% } %> <% if(settings.isCompliantMenuEnabled()) { %> <li><a href="#" id="mobile-nav-file-compliant" data-ui="ui:file-compliant"><span><%=__(\'help_complaint.menu\')%></span></a></li> <% } %> <li><a href="#" id="mobile-nav-legal-documents" data-ui="ui:legal-documents"><span><%=__(\'legal_documents\')%></span></a></li></ul></li> <% if (settings.isMetaTraderInternalEnabled()) { %> <li id="mobile-metatrader-menu" class="submenu fn-submenu hidden"><div><span class="icon-metatrader"></span> <span><%=__(\'metatrader.accounts.title\')%></span><i class="expand-arrow"></i></div><ul><li data-tab-id="metatrader-accounts" class="fn-open-metatrader"><div><span><%=__(\'metatrader.accounts.title\')%></span></div></li><li data-tab-id="metatrader-funds-transfer" class="fn-open-metatrader"><div><span><%=__(\'metatrader.funds-transfer.title\')%></span></div></li><li data-tab-id="metatrader-leverage" class="fn-open-metatrader"><div><span><%=__(\'metatrader.leverage.title\')%></span></div></li><li id="metatrader-bonuses-menu" class="submenu fn-submenu hidden"><div><span><%=__(\'metatrader.bonuses.title\')%> <i class="expand-arrow"></i></span></div><ul><li><div data-tab-id="metatrader-bonuses" bonuses-tab="in-progress" class="fn-open-metatrader"><span><%=__(\'bonus.tab.in_progress\')%></span></div></li><li><div data-tab-id="metatrader-bonuses" bonuses-tab="completed" class="fn-open-metatrader"><span><%=__(\'bonus.tab.completed\')%></span></div></li></ul></li><li><div data-tab-id="metatrader-deposit" class="fn-open-metatrader"><span><%=__(\'metatrader.deposit.title\')%></span></div></li></ul></li> <% } %> <li><a href="#" id="mobile-nav-signout" data-ui="ui:signout"><span class="icon-logout"></span> <span><%=__(\'sign_out\') %></span></a></li></ul></div><div class="nav-content-information"> <% if (pendingDepositAmount) { %> <div class="pending-deposit"><p><%=__(\'accountInfo.pendingDeposit\')%>:</p><b><span data-id="pendingDeposit"><%=pendingDepositAmount%></span></b><span class="question-tooltip" aria-label="<%=__(\'help.account.pending_deposits\')%>"></span></div> <% } %> <div><p><%=__(\'accountInfo.cash\')%>:</p><b><span data-id="balance"><%=balance%></span></b><span class="question-tooltip" aria-label="<%=__(\'help.account.balance\')%>"></span></div><div><p><%=__(\'accountInfo.equity\')%>:</p><b><span data-id="equity"><%=equity%></span></b><span class="question-tooltip" aria-label="<%=__(\'help.account.equity\')%>"></span></div><div><p><%=__(\'accountInfo.freeMargin\')%>:</p><b><span data-id="buyingPower"><%=buyingPower%></span></b><span class="question-tooltip" aria-label="<%=__(\'help.account.free_margin\')%>"></span></div><div class="pl_value <%= profitLossPositive ? \'pl_pos\' : \'pl_neg\' %>"><p><%=__(\'accountInfo.pl\')%></p><b><span data-id="profitLoss"><%=profitLoss%></span></b><span class="question-tooltip" aria-label="<%=__(\'help.account.open_p_l\')%>"></span></div></div><div><a href="#" class="nav-content-button btn btn-primary fn-deposit <%if (!isPlatformSwitchAllowed) {%>disabled<%}%>"><div class="caption"><%=__(\'status.deposit_funds\')%></div></a></div></div></div></div>'},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){var r=n(0),o=n(80),s=n(30),a=r.template(n(1855)),l=r.template(n(127)),c=n(86),u=n(7),d=n(2),h=n(23),p=n(9),f=n(740),m=n(75),g=n(1),v=n(16),b=n(742).default,y=n(250),_={EMAIL:"auth-panel-email-field",PASSWORD:"auth-panel-password-field"},w=o.extend({_fontSize:null,templateOptions:function(){return{email:"",password:""}},events:function(){return r.extend({},r.result(o.prototype,"events"),{"click #auth-button-login":"login","click .auth-create-account-link":"createAccount","click #auth-forgot-password-link":"forgotPassword","click #remember-me-checkbox":"remember","submit .login-form":"login","click .debug-platforms-list button":"chooseServer"})},getOptions:function(t){return r.extend({isAutoLogin:!1,onEnterClick:this.login.bind(this)},o.prototype.getOptions.call(this,t),t)},initialize:function(t){if(o.prototype.initialize.apply(this,arguments),this.options.isAutoLogin)return void this.showFixedLoadingView().then(this.makeAutoLoginRequest.bind(this)).then(this.hideFixedLoadingView.bind(this)).catch(this.onAutoLoginError.bind(this));this.listenTo(d,"ui:change-theme",this.renderCaptcha),this.render(),this._fontSize=parseFloat(this.$el.find(".caption").css("font-size")),this.fitHeaderToStringLength()},fitHeaderToStringLength:function(){parseFloat(this.$el.find(".caption span").css("height"))>parseFloat(this.$el.find(".caption").css("height"))&&(this._fontSize--,this.$el.find(".caption").css("font-size",this._fontSize+"px"),this.fitHeaderToStringLength())},showFixedLoadingView:function(){return this.fixedLoadingView=new s({parent:document.body,position:"fixed",translucent:"2"}),Promise.resolve()},hideFixedLoadingView:function(){return this.fixedLoadingView.destroy(),Promise.resolve()},showAbsoluteLoadingView:function(){return this.absoluteLoadingView=new s({parent:this.$el.find(".auth-box"),position:"absolute",translucent:"2"}),Promise.resolve()},hideAbsoluteLoadingView:function(){return this.absoluteLoadingView&&this.absoluteLoadingView.destroy(),Promise.resolve()},onAutoLoginError:function(t){this.hideFixedLoadingView(),this.render(),u.getUserLogin().clearRememberedData()},render:function(){return o.prototype.render.call(this),this.setContent(a(r.result(this,"templateOptions"))),this.setUpFormFieldsOnFocusListener(),p.isSocialLoginEnabled()&&(this.extAuth=new f({el:this.$el.find(".form")})),this.renderCaptcha(),__eventos("onBoardFlow:login:display",{lang:h.getLanguage()||"en"}),this},renderCaptcha:function(){var t=this;p.isCaptchaEnabled()&&y.getCookie("show_login_captcha")&&(this.disableLoginButton(),this.clearFormFieldsOnFocusListener(),v.render(g.createElement(b,{key:r.uniqueId("login.captcha"),verifyCallback:this.verifyCaptcha.bind(this),expiredCallback:this.expiredCaptcha.bind(this)}),this.$el.find(".captcha-block")[0]),setTimeout(function(){return t.setUpFormFieldsOnFocusListener()},500))},verifyCaptcha:function(t){this.captchaResponse=t,this.cleanErrors(),this.enableLoginButton()},expiredCaptcha:function(t){this.captchaResponse=t,this.disableLoginButton()},disableLoginButton:function(){this.$el.find("#auth-button-login").addClass("disabled").attr("disabled",!0)},enableLoginButton:function(){this.$el.find("#auth-button-login").removeClass("disabled").removeAttr("disabled")},setUpFormFieldsOnFocusListener:function(){var t=this,e=[_.EMAIL,_.PASSWORD];r.each(e,function(e){t.$("."+e+" > input")[0].onfocus=t.onFocus.bind(t)})},clearFormFieldsOnFocusListener:function(){var t=this,e=[_.EMAIL,_.PASSWORD];r.each(e,function(e){t.$("."+e+" > input")[0].onfocus=null})},onFocus:function(t){t.target.parentNode.classList.remove("field-error"),this.cleanErrors()},remember:function(){__eventos("onBoardFlow:login:clkrememberMeCheckBox",{rememberMeStatus:!this.$(".remember-me input")[0].checked})},createAccount:function(){this.close(),__eventos("onBoardFlow:login:clkCreateNewAccount")},forgotPassword:function(){this.close(),__eventos("onBoardFlow:login:clkForgetPassword")},login:function(t){t.preventDefault(),__eventos("onBoardFlow:login:clkLogin",{rememberMeStatus:this.$(".remember-me input")[0].checked}),this.cleanErrors();var e=this.createValidator(),n=e.validate(this.getFormData());this.getFormData();if(n)return void this.showErrors(n);var i={email:e.data(_.EMAIL),password:e.data(_.PASSWORD),remember:e.data("remember-me")},o=m.getLoginTracking();r.isEmpty(o)||(i.params=o),r.isEmpty(this.captchaResponse)||(i.captcha=this.captchaResponse),this.disableLoginButton(),this.makeUserLoginRequest(i).then(function(){return d.trigger("login:success")})},chooseServer:function(){var t=this.$el.find(".debug-platforms-list"),e=t.find(".servers input:checked").val();_app.setPlatformHost(e),t.remove()},makeAutoLoginRequest:function(){return u.autoLogin()},makeUserLoginRequest:function(t){return this.showAbsoluteLoadingView(),u.login(t,!1).catch(this.onUserLoginError.bind(this))},onUserLoginError:function(t){return this.hideAbsoluteLoadingView(),this.enableLoginButton(),this.showUserLoginError(t.message?t.message:t),this.renderCaptcha(),Promise.reject(t)},getValidatorFilters:function(){return{"auth-panel-email-field":["string","trim"],"auth-panel-password-field":["string"]}},getValidatorRules:function(){return{"auth-panel-email-field":{not_empty:__("registration.warning.field_is_required",__("account_settings.customer_info.form.email"))},"auth-panel-password-field":{not_empty:__("registration.warning.field_is_required",__("new_account.input.password.placeholder"))}}},getFormData:function(){return{"auth-panel-email-field":this.$(".auth-panel-email-field input").val(),"auth-panel-password-field":this.$(".auth-panel-password-field input").val(),"remember-me":this.$(".remember-me input")[0].checked}},createValidator:function(){return new c(this.getValidatorFilters(),this.getValidatorRules())},showErrors:function(t){r.each(t,function(t,e){this.$("."+e).addClass("field-error")},this),this.$(".error-block").html(l({errors:t})),this.$(".error-block").css("display","block")},cleanErrors:function(){var t=this.getFormData();r.each(t,function(t,e){this.$("."+e).removeClass("field-error")},this),this.$(".error-block").css("display","none")},showUserLoginError:function(t){this.$(".error-block").html(l({errors:[[t]]})),this.$(".error-block").css("display","block")},hide:function(){o.prototype.hide.call(this),this.destroy()},destroy:function(){this.extAuth&&this.extAuth.destroy(),o.prototype.destroy.call(this)}});i.exports=w}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e){t.exports='<div class="auth-box"><form class="login-form"><div class="auth-panel"><div class="caption hidden-xs"><%=__(\'login.caption.web\')%></div><div class="caption-xs visible-xs"><span class="welcome"><%=__(\'login.welcome\')%></span><span><%=__(\'login.to.account\')%></span></div><div class="form"><div class="auth-panel-email-field field input-field"><input type="email" placeholder="<%=__(\'account_settings.customer_info.form.email\')%>" value="<%-email%>"></div><div class="auth-panel-password-field field input-field"><input type="password" placeholder="<%=__(\'new_account.input.password.placeholder\')%>" value="<%-password%>"></div><div class="auth-addon-block"><div class="remember-me"><div class="field field-type-checkbox"><input type="checkbox" id="remember-me-checkbox"><label for="remember-me-checkbox"><%=__(\'login.remember.me\')%></label></div></div><div class="forgot-password"><a href="#forgetpassword" id="auth-forgot-password-link"><%=__(\'forgot_password.question\')%></a></div></div><div class="captcha-block"></div><button class="btn btn-primary" id="auth-button-login"><%=__(\'new_account.login_link\')%></button><div class="auth-box-switch visible-xs"><span><%=__(\'login.new.here\')%></span><a href="#register" class="auth-create-account-link"><%=__(\'login.create.account\')%></a></div><div class="container-fluid error-block"><div class="row"><div class="col-sm-12 error-message"><i class="icon-warning"></i> <%=__(\'new_account.error_message\')%> </div></div></div></div></div></form><div class="auth-box-footer"><div class="auth-box-switch hidden-xs"><span><%=__(\'login.new.here\')%></span><a href="#register" class="auth-create-account-link"><%=__(\'login.create.account\')%></a></div><div class="auth-box-info"> <%=__(\'login.risk_warning\')%> </div></div></div>'},function(t,e,n){(function(i,r){var o;void 0!==(o=function(t,e,i){var o=n(0),s=n(80),a=o.template(n(1857)),l=o.template(n(127)),c=n(86),u=n(9),d=n(6),h=n(2),p=s.extend({events:function(){return o.extend({},o.result(s.prototype,"events"),{"click #auth-forgot-password-button-submit":"submit","click #forgot-password-back-to-login-page-link":"close","submit .forgot-password-form":"submit","click .password-eye":"showPasswordToggle"})},isFooterShowed:!0,ui:{password:"#auth-forgot-password-input-password",confirmPassword:"#auth-forgot-password-input-confirm-password",submit:"#auth-forgot-password-button-submit",error:".error-block"},getOptions:function(t){return o.extend({},s.prototype.getOptions.call(this,t),t)},initialize:function(t){s.prototype.initialize.apply(this,arguments),this.token=t.token,t.backKey&&(this.backKey=t.backKey),void 0!==t.isFooterShowed&&(this.isFooterShowed=t.isFooterShowed),this.render()},render:function(){s.prototype.render.call(this),this.setContent(a({isFooterShowed:this.isFooterShowed,backKey:this.backKey?this.backKey:"actions.back"})),this.initForm()},initForm:function(){["fn-auth-forgot-password-input-password","fn-auth-forgot-password-input-confirm-password"].forEach(function(t){this.$("."+t+" > input")[0].onfocus=this.onFocus.bind(this)},this)},onFocus:function(t){t.target.parentNode.classList.remove("field-error"),this.cleanErrors()},getValidatorFilters:function(){return{"fn-auth-forgot-password-input-password":["string"],"fn-auth-forgot-password-input-confirm-password":["string"]}},getValidatorRules:function(){return{"fn-auth-forgot-password-input-password":{not_empty:__("registration.warning.field_is_required",__("new_account.input.password.placeholder")),alpha_numeric:u.isPasswordClientValidationEnabled()?__("account_settings.change_password.form.validate",u.getPasswordMinLength(),u.getPasswordMaxLength()):o.noop,password:u.isPasswordClientValidationEnabled()?__("account_settings.change_password.form.validate",u.getPasswordMinLength(),u.getPasswordMaxLength()):o.noop},"fn-auth-forgot-password-input-confirm-password":{not_empty:__("registration.warning.field_is_required",__("new_account.input.confirm_password.placeholder")),strict_equals:[this.$(".fn-auth-forgot-password-input-password input").val(),__("account_settings.change_password.form.validate.not_match")]}}},getFormData:function(){return{"fn-auth-forgot-password-input-password":this.$(this.ui.password).val(),"fn-auth-forgot-password-input-confirm-password":this.$(this.ui.confirmPassword).val()}},validate:function(){var t=new c(this.getValidatorFilters(),this.getValidatorRules()),e=this.getFormData();return t.validate(e)},submit:function(t){var e=this;t.preventDefault(),this.cleanErrors(),this.hideBlock(this.ui.error);var n=this.validate();if(n)return void this.showErrors(n);this.disableForm();var i=this.getFormData()["fn-auth-forgot-password-input-password"],r=this;d.resetPassword(this.token,i).then(function(){h.trigger("ui:message-box",{text:__("reset_password.success"),onClose:function(){r.close(),h.navigate("login")}})}).catch(function(t){e.enableForm();var n=t&&t.response&&t.response.status;if(400===n){var i=t.response.data.reduce(e.reduceMessages,[]);e.showPasswordValidationErrors(i)}else 403===n?e.error(__("reset_password.link.expired")):e.error(__("generic.error.message"))})},reduceMessages:function(t,e){var n=__("validation.password."+e.key,e.params);return t.push(n===e.key?e.defaultValue:n),t},close:function(){s.prototype.close.call(this)},showPasswordValidationErrors:function(t){var e=this.$el.find(this.ui.error);e.html(l({errors:[t]})),e.css("display","block")},error:function(t){this.$el.find(this.ui.error).html(t),this.showBlock(this.ui.error)},hideBlock:function(t){this.$el.find(t).css("display","none")},showBlock:function(t){this.$el.find(t).css("display","block")},disableForm:function(){this.$el.find(this.ui.password).attr("disabled",!0),this.$el.find(this.ui.confirmPassword).attr("disabled",!0),this.$el.find(this.ui.submit).attr("disabled",!0)},enableForm:function(){this.$el.find(this.ui.password).removeAttr("disabled"),this.$el.find(this.ui.confirmPassword).removeAttr("disabled"),this.$el.find(this.ui.submit).removeAttr("disabled")},showErrors:function(t){var e=this;o.each(t,function(t,n,i){e.$("."+n).addClass("field-error")});var n=this.$el.find(this.ui.error);n.html(l({errors:t})),n.css("display","block")},cleanErrors:function(){var t=this,e=this.getFormData();o.each(e,function(e,n){t.$("."+n).removeClass("field-error")}),this.$el.find(this.ui.error).css("display","none")},showPasswordToggle:function(t){var e=r(t.target),n=e.parent().find("input");if(e.hasClass("icon-eye-gray"))return e.removeClass("icon-eye-gray"),e.addClass("icon-eye-blue"),void n.attr("type","text");e.removeClass("icon-eye-blue"),e.addClass("icon-eye-gray"),n.attr("type","password")}});i.exports=p}.call(e,n,e,t))&&(t.exports=o)}).call(e,n(0),n(5))},function(t,e){t.exports='<div class="auth-box forgot-password"><form class="forgot-password-form"><div class="auth-panel"><div class="caption hidden-xs"><%=__(\'reset_password.header\')%></div><div class="caption-xs visible-xs"><span><%=__(\'reset_password.help_line\')%></span></div><div class="forgot-password-help-line hidden-xs"> <%=__(\'reset_password.help_line\')%> </div><div class="form"><div class="auth-panel-password-field field input-field fn-auth-forgot-password-input-password"><input type="password" placeholder="<%=__(\'new_account.input.password.placeholder\')%>" id="auth-forgot-password-input-password"> <i class="password-eye icon-eye-gray"></i></div><div class="auth-panel-password-field field input-field fn-auth-forgot-password-input-confirm-password"><input type="password" placeholder="<%=__(\'new_account.input.confirm_password.placeholder\')%>" id="auth-forgot-password-input-confirm-password"> <i class="password-eye icon-eye-gray"></i></div><button class="btn btn-primary" id="auth-forgot-password-button-submit"><%=__(\'actions.save\')%> </button><div class="auth-addon-block padding-xs"><a href="#login" id="forgot-password-back-to-login-page-link"><%=__(backKey)%></a></div><div class="container-fluid error-block"></div></div></div> <% if (isFooterShowed) { %> <div class="auth-box-footer"><div class="auth-box-info hidden-xs"> <%=__(\'login.risk_warning\')%> </div></div> <% } %> </form></div>'},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){function r(){var t=l.getUserTokenModel().getToken();l.getUserData().getAccount();return t?{cId:l.getUserData().getCrmboCustomer().id,language:a.getLanguage()||"en",isReal:c.isLive(),token:t,platform:"indigo",isMobile:u.mobile(),actionHandlers:{openRegistrationDialog:function(){d.trigger("sm","registration_only")},openDepositDialog:function(){d.trigger("flow:deposit")},openVerificationCenter:function(){d.trigger("flow:verify")},openTradeDialog:function(t,e){var n={direction:e,symbolOrId:t,quantity:null,type:!1,tp:!1,sl:!1,source:"in_app_messaging"};d.trigger("ui:new-position",n)},switchToReal:function(){c.isLive()||d.trigger("platform:switch","live")},openInstPage:function(t){d.trigger("ui:instrument",t)}}}:null}var o=(n(0),n(5)),s=n(1859),a=n(23),l=n(7),c=n(9),u=n(15),d=n(2),h=!1;i.exports.init=function(){if(!h&&void 0!==window.MessagingService){var t=r();if(t){try{window.MessagingService.init(t,o,s)}catch(t){return}h=!0}}}}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(5))},function(t,e,n){function i(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,i=r(t),o=i.source,c=i.id,u=i.path,d=l[c]&&u in l[c].nsps,h=e.forceNew||e["force new connection"]||!1===e.multiplex||d;return h?(a("ignoring socket cache for %s",o),n=s(o,e)):(l[c]||(a("new io instance for %s",o),l[c]=s(o,e)),n=l[c]),i.query&&!e.query&&(e.query=i.query),n.socket(i.path,e)}var r=n(1860),o=n(406),s=n(783),a=n(270)("socket.io-client");t.exports=e=i;var l=e.managers={};e.protocol=o.protocol,e.connect=i,e.Manager=n(783),e.Socket=n(788)},function(t,e,n){(function(e){function i(t,n){var i=t;n=n||e.location,null==t&&(t=n.protocol+"//"+n.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(o("protocol-less url %s",t),t=void 0!==n?n.protocol+"//"+t:"https://"+t),o("parse %s",t),i=r(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";var s=-1!==i.host.indexOf(":"),a=s?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+a+":"+i.port,i.href=i.protocol+"://"+a+(n&&n.port===i.port?"":":"+i.port),i}var r=n(779),o=n(270)("socket.io-client:url");t.exports=i}).call(e,n(41))},function(t,e,n){function i(t){var n,i=0;for(n in t)i=(i<<5)-i+t.charCodeAt(n),i|=0;return e.colors[Math.abs(i)%e.colors.length]}function r(t){function n(){if(n.enabled){var t=n,i=+new Date,r=i-(c||i);t.diff=r,t.prev=c,t.curr=i,c=i;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=e.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var a=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(n,i){if("%%"===n)return n;a++;var r=e.formatters[i];if("function"==typeof r){var s=o[a];n=r.call(t,s),o.splice(a,1),a--}return n}),e.formatArgs.call(t,o);(n.log||e.log||void 0).apply(t,o)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=i(t),"function"==typeof e.init&&e.init(n),n}function o(t){e.save(t),e.names=[],e.skips=[];for(var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length,r=0;r<i;r++)n[r]&&(t=n[r].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function s(){e.enable("")}function a(t){var n,i;for(n=0,i=e.skips.length;n<i;n++)if(e.skips[n].test(t))return!1;for(n=0,i=e.names.length;n<i;n++)if(e.names[n].test(t))return!0;return!1}function l(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=r.debug=r.default=r,e.coerce=l,e.disable=s,e.enable=o,e.enabled=a,e.humanize=n(405),e.names=[],e.skips=[],e.formatters={};var c},function(t,e,n){(function(i){function r(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function o(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(r++,"%c"===t&&(o=r))}),t.splice(o,0,i)}}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function l(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==i&&"env"in i&&(t=Object({NODE_ENV:"production"}).DEBUG),t}e=t.exports=n(1863),e.log=s,e.formatArgs=o,e.save=a,e.load=l,e.useColors=r,e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(l())}).call(e,n(126))},function(t,e,n){function i(t){var n,i=0;for(n in t)i=(i<<5)-i+t.charCodeAt(n),i|=0;return e.colors[Math.abs(i)%e.colors.length]}function r(t){function n(){if(n.enabled){var t=n,i=+new Date,o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var l=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(n,i){if("%%"===n)return n;l++;var r=e.formatters[i];if("function"==typeof r){var o=s[l];n=r.call(t,o),s.splice(l,1),l--}return n}),e.formatArgs.call(t,s);(n.log||e.log||void 0).apply(t,s)}}var r;return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=i(t),n.destroy=o,"function"==typeof e.init&&e.init(n),e.instances.push(n),n}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}function s(t){e.save(t),e.names=[],e.skips=[];var n,i=("string"==typeof t?t:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&(t=i[n].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var o=e.instances[n];o.enabled=e.enabled(o.namespace)}}function a(){e.enable("")}function l(t){if("*"===t[t.length-1])return!0;var n,i;for(n=0,i=e.skips.length;n<i;n++)if(e.skips[n].test(t))return!1;for(n=0,i=e.names.length;n<i;n++)if(e.names[n].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=r.debug=r.default=r,e.coerce=c,e.disable=a,e.enable=s,e.enabled=l,e.humanize=n(405),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(t){function i(t,e){if(!t)return t;if(s(t)){var n={_placeholder:!0,num:e.length};return e.push(t),n}if(o(t)){for(var r=new Array(t.length),a=0;a<t.length;a++)r[a]=i(t[a],e);return r}if("object"==typeof t&&!(t instanceof Date)){var r={};for(var l in t)r[l]=i(t[l],e);return r}return t}function r(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(o(t))for(var n=0;n<t.length;n++)t[n]=r(t[n],e);else if("object"==typeof t)for(var i in t)t[i]=r(t[i],e);return t}var o=n(781),s=n(782),a=Object.prototype.toString,l="function"==typeof t.Blob||"[object BlobConstructor]"===a.call(t.Blob),c="function"==typeof t.File||"[object FileConstructor]"===a.call(t.File);e.deconstructPacket=function(t){var e=[],n=t.data,r=t;return r.data=i(n,e),r.attachments=e.length,{packet:r,buffers:e}},e.reconstructPacket=function(t,e){return t.data=r(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){function n(t,a,u){if(!t)return t;if(l&&t instanceof Blob||c&&t instanceof File){i++;var d=new FileReader;d.onload=function(){u?u[a]=this.result:r=this.result,--i||e(r)},d.readAsArrayBuffer(t)}else if(o(t))for(var h=0;h<t.length;h++)n(t[h],h,t);else if("object"==typeof t&&!s(t))for(var p in t)n(t[p],p,t)}var i=0,r=t;n(r),i||e(r)}}).call(e,n(41))},function(t,e,n){t.exports=n(1867),t.exports.parser=n(183)},function(t,e,n){(function(e){function i(t,n){if(!(this instanceof i))return new i(t,n);n=n||{},t&&"object"==typeof t&&(n=t,t=null),t?(t=u(t),n.hostname=t.host,n.secure="https"===t.protocol||"wss"===t.protocol,n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=u(n.host).host),this.secure=null!=n.secure?n.secure:e.location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(e.location?location.hostname:"localhost"),this.port=n.port||(e.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=d.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.transportOptions=n.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized||n.rejectUnauthorized,this.forceNode=!!n.forceNode;var r="object"==typeof e&&e;r.global===r&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function r(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var o=n(784),s=n(182),a=n(273)("engine.io-client:socket"),l=n(787),c=n(183),u=n(779),d=n(271);t.exports=i,i.priorWebsocketSuccess=!1,s(i.prototype),i.protocol=c.protocol,i.Socket=i,i.Transport=n(408),i.transports=n(784),i.parser=n(183),i.prototype.createTransport=function(t){a('creating transport "%s"',t);var e=r(this.query);e.EIO=c.protocol,e.transport=t;var n=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new o[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0})},i.prototype.open=function(){var t;if(this.rememberUpgrade&&i.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},i.prototype.setTransport=function(t){a("setting transport %s",t.name);var e=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},i.prototype.probe=function(t){function e(){if(h.onlyBinaryUpgrades){var e=!this.supportsBinary&&h.transport.supportsBinary;d=d||e}d||(a('probe transport "%s" opened',t),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(e){if(!d)if("pong"===e.type&&"probe"===e.data){if(a('probe transport "%s" pong',t),h.upgrading=!0,h.emit("upgrading",u),!u)return;i.priorWebsocketSuccess="websocket"===u.name,a('pausing current transport "%s"',h.transport.name),h.transport.pause(function(){d||"closed"!==h.readyState&&(a("changing transport and sending upgrade packet"),c(),h.setTransport(u),u.send([{type:"upgrade"}]),h.emit("upgrade",u),u=null,h.upgrading=!1,h.flush())})}else{a('probe transport "%s" failed',t);var n=new Error("probe error");n.transport=u.name,h.emit("upgradeError",n)}}))}function n(){d||(d=!0,c(),u.close(),u=null)}function r(e){var i=new Error("probe error: "+e);i.transport=u.name,n(),a('probe transport "%s" failed because of error: %s',t,e),h.emit("upgradeError",i)}function o(){r("transport closed")}function s(){r("socket closed")}function l(t){u&&t.name!==u.name&&(a('"%s" works - aborting "%s"',t.name,u.name),n())}function c(){u.removeListener("open",e),u.removeListener("error",r),u.removeListener("close",o),h.removeListener("close",s),h.removeListener("upgrading",l)}a('probing transport "%s"',t);var u=this.createTransport(t,{probe:1}),d=!1,h=this;i.priorWebsocketSuccess=!1,u.once("open",e),u.once("error",r),u.once("close",o),this.once("close",s),this.once("upgrading",l),u.open()},i.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",i.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},i.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(a('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else a('packet received with socket readyState "%s"',this.readyState)},i.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},i.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},i.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},i.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},i.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},i.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},i.prototype.write=i.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},i.prototype.sendPacket=function(t,e,n,i){if("function"==typeof e&&(i=e,e=void 0),"function"==typeof n&&(i=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){n=n||{},n.compress=!1!==n.compress;var r={type:t,data:e,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}},i.prototype.close=function(){function t(){i.onClose("forced close"),a("socket closing - telling transport to close"),i.transport.close()}function e(){i.removeListener("upgrade",e),i.removeListener("upgradeError",e),t()}function n(){i.once("upgrade",e),i.once("upgradeError",e)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var i=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():t()}):this.upgrading?n():t()}return this},i.prototype.onError=function(t){a("socket error %j",t),i.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},i.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){a('socket close with reason: "%s"',t);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),n.writeBuffer=[],n.prevBufferLen=0}},i.prototype.filterUpgrades=function(t){for(var e=[],n=0,i=t.length;n<i;n++)~l(this.transports,t[n])&&e.push(t[n]);return e}}).call(e,n(41))},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(t,e,n){(function(e){function i(){}function r(t){if(l.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,e.location){var n="https:"===location.protocol,i=location.port;i||(i=n?443:80),this.xd=t.hostname!==e.location.hostname||i!==t.port,this.xs=t.secure!==n}}function o(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function s(){for(var t in o.requests)o.requests.hasOwnProperty(t)&&o.requests[t].abort()}var a=n(407),l=n(785),c=n(182),u=n(272),d=n(273)("engine.io-client:polling-xhr");t.exports=r,t.exports.Request=o,u(r,l),r.prototype.supportsBinary=!0,r.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new o(t)},r.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,i=this.request({method:"POST",data:t,isBinary:n}),r=this;i.on("success",e),i.on("error",function(t){r.onError("xhr post error",t)}),this.sendXhr=i},r.prototype.doPoll=function(){d("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},c(o.prototype),o.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new a(t),i=this;try{d("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(var r in this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this.extraHeaders[r])}}catch(t){}if("POST"===this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{n.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in n&&(n.withCredentials=!0),this.requestTimeout&&(n.timeout=this.requestTimeout),this.hasXDR()?(n.onload=function(){i.onLoad()},n.onerror=function(){i.onError(n.responseText)}):n.onreadystatechange=function(){if(2===n.readyState)try{var t=n.getResponseHeader("Content-Type");i.supportsBinary&&"application/octet-stream"===t&&(n.responseType="arraybuffer")}catch(t){}4===n.readyState&&(200===n.status||1223===n.status?i.onLoad():setTimeout(function(){i.onError(n.status)},0))},d("xhr data %s",this.data),n.send(this.data)}catch(t){return void setTimeout(function(){i.onError(t)},0)}e.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},o.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},o.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=i:this.xhr.onreadystatechange=i,t)try{this.xhr.abort()}catch(t){}e.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t="application/octet-stream"===e?this.xhr.response||this.xhr.responseText:this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},o.prototype.hasXDR=function(){return void 0!==e.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},o.requestsCount=0,o.requests={},e.document&&(e.attachEvent?e.attachEvent("onunload",s):e.addEventListener&&e.addEventListener("beforeunload",s,!1))}).call(e,n(41))},function(t,e){t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var i in t)n.call(t,i)&&e.push(i);return e}},function(t,e){t.exports=function(t,e,n){var i=t.byteLength;if(e=e||0,n=n||i,t.slice)return t.slice(e,n);if(e<0&&(e+=i),n<0&&(n+=i),n>i&&(n=i),e>=i||e>=n||0===i)return new ArrayBuffer(0);for(var r=new Uint8Array(t),o=new Uint8Array(n-e),s=e,a=0;s<n;s++,a++)o[a]=r[s];return o.buffer}},function(t,e){function n(t,e,n){function r(t,i){if(r.count<=0)throw new Error("after called too many times");--r.count,t?(o=!0,e(t),e=n):0!==r.count||o||e(null,i)}var o=!1;return n=n||i,r.count=t,0===t?e():r}function i(){}t.exports=n},function(t,e){function n(t){for(var e,n,i=[],r=0,o=t.length;r<o;)e=t.charCodeAt(r++),e>=55296&&e<=56319&&r<o?(n=t.charCodeAt(r++),56320==(64512&n)?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),r--)):i.push(e);return i}function i(t){for(var e,n=t.length,i=-1,r="";++i<n;)e=t[i],e>65535&&(e-=65536,r+=f(e>>>10&1023|55296),e=56320|1023&e),r+=f(e);return r}function r(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function o(t,e){return f(t>>e&63|128)}function s(t,e){if(0==(4294967168&t))return f(t);var n="";return 0==(4294965248&t)?n=f(t>>6&31|192):0==(4294901760&t)?(r(t,e)||(t=65533),n=f(t>>12&15|224),n+=o(t,6)):0==(4292870144&t)&&(n=f(t>>18&7|240),n+=o(t,12),n+=o(t,6)),n+=f(63&t|128)}function a(t,e){e=e||{};for(var i,r=!1!==e.strict,o=n(t),a=o.length,l=-1,c="";++l<a;)i=o[l],c+=s(i,r);return c}function l(){if(p>=h)throw Error("Invalid byte index");var t=255&d[p];if(p++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function c(t){var e,n,i,o,s;if(p>h)throw Error("Invalid byte index");if(p==h)return!1;if(e=255&d[p],p++,0==(128&e))return e;if(192==(224&e)){if(n=l(),(s=(31&e)<<6|n)>=128)return s;throw Error("Invalid continuation byte")}if(224==(240&e)){if(n=l(),i=l(),(s=(15&e)<<12|n<<6|i)>=2048)return r(s,t)?s:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(n=l(),i=l(),o=l(),(s=(7&e)<<18|n<<12|i<<6|o)>=65536&&s<=1114111))return s;throw Error("Invalid UTF-8 detected")}function u(t,e){e=e||{};var r=!1!==e.strict;d=n(t),h=d.length,p=0;for(var o,s=[];!1!==(o=c(r));)s.push(o);return i(s)}var d,h,p,f=String.fromCharCode;t.exports={version:"2.1.2",encode:a,decode:u}},function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),i=0;i<t.length;i++)n[t.charCodeAt(i)]=i;e.encode=function(e){var n,i=new Uint8Array(e),r=i.length,o="";for(n=0;n<r;n+=3)o+=t[i[n]>>2],o+=t[(3&i[n])<<4|i[n+1]>>4],o+=t[(15&i[n+1])<<2|i[n+2]>>6],o+=t[63&i[n+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o},e.decode=function(t){var e,i,r,o,s,a=.75*t.length,l=t.length,c=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),d=new Uint8Array(u);for(e=0;e<l;e+=4)i=n[t.charCodeAt(e)],r=n[t.charCodeAt(e+1)],o=n[t.charCodeAt(e+2)],s=n[t.charCodeAt(e+3)],d[c++]=i<<2|r>>4,d[c++]=(15&r)<<4|o>>2,d[c++]=(3&o)<<6|63&s;return u}}()},function(t,e){function n(t){return t.map(function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var n=new Uint8Array(t.byteLength);n.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=n.buffer}return e}return t})}function i(t,e){e=e||{};var i=new o;return n(t).forEach(function(t){i.append(t)}),e.type?i.getBlob(e.type):i.getBlob()}function r(t,e){return new Blob(n(t),e||{})}var o=void 0!==o?o:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,s=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),a=s&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),l=o&&o.prototype.append&&o.prototype.getBlob;"undefined"!=typeof Blob&&(i.prototype=Blob.prototype,r.prototype=Blob.prototype),t.exports=function(){return s?a?Blob:r:l?i:void 0}()},function(t,e,n){function i(t){var n,i=0;for(n in t)i=(i<<5)-i+t.charCodeAt(n),i|=0;return e.colors[Math.abs(i)%e.colors.length]}function r(t){function n(){if(n.enabled){var t=n,i=+new Date,o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var l=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(n,i){if("%%"===n)return n;l++;var r=e.formatters[i];if("function"==typeof r){var o=s[l];n=r.call(t,o),s.splice(l,1),l--}return n}),e.formatArgs.call(t,s);(n.log||e.log||void 0).apply(t,s)}}var r;return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=i(t),n.destroy=o,"function"==typeof e.init&&e.init(n),e.instances.push(n),n}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}function s(t){e.save(t),e.names=[],e.skips=[];var n,i=("string"==typeof t?t:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&(t=i[n].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var o=e.instances[n];o.enabled=e.enabled(o.namespace)}}function a(){e.enable("")}function l(t){if("*"===t[t.length-1])return!0;var n,i;for(n=0,i=e.skips.length;n<i;n++)if(e.skips[n].test(t))return!1;for(n=0,i=e.names.length;n<i;n++)if(e.names[n].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=r.debug=r.default=r,e.coerce=c,e.disable=a,e.enable=s,e.enabled=l,e.humanize=n(405),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e,n){(function(e){function i(){}function r(t){o.call(this,t),this.query=this.query||{},a||(e.___eio||(e.___eio=[]),a=e.___eio),this.index=a.length;var n=this;a.push(function(t){n.onData(t)}),this.query.j=this.index,e.document&&e.addEventListener&&e.addEventListener("beforeunload",function(){n.script&&(n.script.onerror=i)},!1)}var o=n(785),s=n(272);t.exports=r;var a,l=/\n/g,c=/\\n/g;s(r,o),r.prototype.supportsBinary=!1,r.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},r.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},r.prototype.doWrite=function(t,e){function n(){i(),e()}function i(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(t){r.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+r.iframeId+'">';o=document.createElement(t)}catch(t){o=document.createElement("iframe"),o.name=r.iframeId,o.src="javascript:0"}o.id=r.iframeId,r.form.appendChild(o),r.iframe=o}var r=this;if(!this.form){var o,s=document.createElement("form"),a=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=u,s.method="POST",s.setAttribute("accept-charset","utf-8"),a.name="d",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),i(),t=t.replace(c,"\\\n"),this.area.value=t.replace(l,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===r.iframe.readyState&&n()}:this.iframe.onload=n}}).call(e,n(41))},function(t,e,n){(function(e){function i(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=d&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(h=r),o.call(this,t)}var r,o=n(408),s=n(183),a=n(271),l=n(272),c=n(786),u=n(273)("engine.io-client:websocket"),d=e.WebSocket||e.MozWebSocket;if("undefined"==typeof window)try{r=n(1879)}catch(t){}var h=d;h||"undefined"!=typeof window||(h=r),t.exports=i,l(i,o),i.prototype.name="websocket",i.prototype.supportsBinary=!0,i.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?e?new h(t,e):new h(t):new h(t,e,n)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},i.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},i.prototype.write=function(t){function n(){i.emit("flush"),setTimeout(function(){i.writable=!0,i.emit("drain")},0)}var i=this;this.writable=!1;for(var r=t.length,o=0,a=r;o<a;o++)!function(t){s.encodePacket(t,i.supportsBinary,function(o){if(!i.usingBrowserWebSocket){var s={};if(t.options&&(s.compress=t.options.compress),i.perMessageDeflate){("string"==typeof o?e.Buffer.byteLength(o):o.length)<i.perMessageDeflate.threshold&&(s.compress=!1)}}try{i.usingBrowserWebSocket?i.ws.send(o):i.ws.send(o,s)}catch(t){u("websocket closed before onclose event")}--r||n()})}(t[o])},i.prototype.onClose=function(){o.prototype.onClose.call(this)},i.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},i.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||(t.b64=1),t=a.encode(t),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},i.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===i.prototype.name)}}).call(e,n(41))},function(t,e){},function(t,e){function n(t,e){var n=[];e=e||0;for(var i=e||0;i<t.length;i++)n[i-e]=t[i];return n}t.exports=n},function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}},function(t,e,n){(function(i){var r;void 0!==(r=function(t,e,i){function r(t){var e=t.get("quantity"),n=t.get("stopLoss"),i=t.get("takeProfit"),r=d.getInstrumentById(t.get("instrumentId")),o=r.get("precision");return{amount:e,quantity:Math.abs(e),isBought:e>0,rate:Number(t.get("costBasis")).toFixed(o),sl:n&&n.fixedPrice?Number(n.fixedPrice).toFixed(o):null,tp:i&&i.fixedPrice?i.fixedPrice:null,symbol:r.get("instrumentSymbol"),formattedQuantity:f(Math.abs(e)).format("0,0.[000]")}}function o(t){return m.extend(r(t),{stopLimitPrice:t.get("stopLimitPrice"),stopPrice:t.get("stopPrice")})}function s(t,e){var n=e?"SL: "+e:"",i=t?"TP: "+t:"";return(n?n+" ":"")+i}function a(t){var e=o(t),n=s(e.tp,e.sl),i=e.isBought?"buy":"sell",r=t.get("stopPrice"),a=e.isBought?m.isNumber(r)?"above":"below":m.isNumber(r)?"below":"above";return e.symbol+", "+__("tab.orders."+i+"."+a,[e.formattedQuantity])+" "+e.stopLimitPrice+" "+n}var l=n(17),c=n(58),u=n(108),d=n(14),h=n(2),p=n(297),f=n(38),m=n(0),g=n(263).MessageType,v=n(739).MessageCategory,b=m.extend({},l.Events,{initialize:function(){this.listenTo(h,"stream:type:MESSAGE",this.onStreamMessage),this.listenTo(c,"add",this.wrapTradingStarted(this.onNewPosition),this),this.listenTo(c,"remove",this.wrapTradingStarted(this.onRemovePosition),this),this.listenTo(c,"change:quantity change:takeProfit change:stopLoss",this.wrapTradingStarted(this.onPositionChanged),this),this.listenTo(u,"add",this.wrapTradingStarted(this.onNewOrder),this),this.listenTo(u,"remove",this.wrapTradingStarted(this.onRemoveOrder),this),this.listenTo(u,"change:quantity change:takeProfit change:stopLoss",this.wrapTradingStarted(this.onOrderChanged),this)},wrapTradingStarted:function(t){return function(e){this.userStartedTrading&&t.call(this,e)}.bind(this)},onNewPosition:function(t){var e=r(t),n=s(e.tp,e.sl);p.show({title:__("position.opened.title"),body:__("position.confirmation."+(e.isBought?"buy":"sell"),[e.formattedQuantity,e.symbol,e.rate])+" "+n})},onRemovePosition:function(t){var e=r(t),n=s(e.tp,e.sl);p.show({title:__("position.closed.title"),body:__("position.confirmation."+(e.isBought?"buy":"sell"),[e.formattedQuantity,e.symbol,e.rate])+" "+n})},onPositionChanged:function(t){var e=r(t);if(t.hasChanged("quantity")){var n=t.previous("quantity"),i=f(Math.abs(n)-Math.abs(e.quantity)).format("0,0.[00]");return void p.show({title:__("position.partial-closed.title"),body:__("position.confirmation."+(e.isBought?"sell":"buy"),[i,e.symbol,e.rate])})}if(t.hasChanged("takeProfit")||t.hasChanged("stopLoss")){var o=t.hasChanged("takeProfit")?"TP: "+(e.tp?e.tp:"removed"):"",s=t.hasChanged("stopLoss")?"SL: "+(e.sl?e.sl:" removed"):"";p.show({title:__("position.updated.title"),body:e.symbol+", "+(s?s+" ":"")+o})}},onNewOrder:function(t){p.show({title:__("order.placed.title"),body:a(t)})},onRemoveOrder:function(t){p.show({title:__("order.canceled.title"),body:a(t)})},onOrderChanged:function(t){p.show({title:__("order.updated.title"),body:a(t)})},onStreamMessage:function(t){m.each(t,function(t){if(t.type===g.ORDER_REJECTED)return this.processOrderRejectedMessage(t);t.category===v.TRADE_LOG&&(this.userStartedTrading=!0)},this)},processOrderRejectedMessage:function(t){var e=t.localizableMessage.key,n=t.localizableMessage.parameters,i=t.type,r=String(t.reasonKey);("message_filled_buy"===e||"message_filled_sell"===e&&n[1])&&(n[1]=parseInt(n[1]));var o=__default("traderejected."+r.toLowerCase(),"traderejected.default",n[2],n[0]);p.show({critical:!0,title:__("message.header."+i),body:o})}});i.exports.initialize=function(){b.initialize()}}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return{enable:Object(c.a)(t),visible:Object(c.b)(t)}}function a(t){return{init:function(){t(Object(l.a)()),t(Object(l.b)())}}}var l=n(1884),c=n(1885),u=n(1),d=n.n(u),h=n(8),p=n(33),f=n.n(p),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g=function(t){function e(){i(this,e);var t=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return f()(t),t}return o(e,t),m(e,[{key:"componentDidMount",value:function(){this.props.init()}},{key:"onClose",value:function(){this.props.onClose()}},{key:"onClick",value:function(){this.props.onClick()}},{key:"render",value:function(){var t=this.props,e=t.enabled,n=t.visible;return e&&n?d.a.createElement("div",{className:"hotjar hotjar--effect hotjar--size"},d.a.createElement("div",{className:"hotjar__close hotjar__close--position hotjar__close--size",onClick:this.onClose}),d.a.createElement("div",{className:"hotjar__content",onClick:this.onClick})):null}}]),e}(d.a.Component);g.defaultProps={onClose:t.noop,onClick:t.noop},e.default=Object(h.connect)(s,a)(g)}.call(e,n(0))},function(t,e,n){"use strict";function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.head;return new Promise(function(n){var i=document.createElement("script");i.async=!0,i.textContent=t,e.appendChild(i),n()})}function r(t){i(a(t))}function o(){return{type:l.b}}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a.getHotjarId();return function(e){e({type:l.c}),r(t)}}var a=function(t){return"\n(function(h,o,t,j,a,r){\n    h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};\n    h._hjSettings={hjid:"+t+",hjsv:6};\n    a=o.getElementsByTagName('head')[0];\n    r=o.createElement('script');r.async=1;\n    r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;\n    a.appendChild(r);\n})(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');\n"},l=n(693),c=n(9),u=n.n(c);e.a=o,e.b=s},function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"b",function(){return u});var i=n(10),r=n(44),o=n(9),s=n.n(o),a=function(t){return t.hotjar},l=Object(r.a)(a,function(t){return s.a.isHotjarEnabled()}),c=Object(r.a)(a,function(t){return t.visibility}),u=Object(r.a)(c,function(t){return t===i.VISIBLE})},,function(t,e){function n(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=i(r);return[n].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([o]).join("\n")}return[n].join("\n")}function i(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=n(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e,n){function i(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=f[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(u(i.parts[o],e))}else{for(var s=[],o=0;o<i.parts.length;o++)s.push(u(i.parts[o],e));f[i.id]={id:i.id,refs:1,parts:s}}}}function r(t,e){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],s=e.base?o[0]+e.base:o[0],a=o[1],l=o[2],c=o[3],u={css:a,media:l,sourceMap:c};i[s]?i[s].parts.push(u):n.push(i[s]={id:s,parts:[u]})}return n}function o(t,e){var n=g(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=y[y.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),y.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function s(t){t.parentNode.removeChild(t);var e=y.indexOf(t);e>=0&&y.splice(e,1)}function a(t){var e=document.createElement("style");return t.attrs.type="text/css",c(e,t.attrs),o(t,e),e}function l(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",c(e,t.attrs),o(t,e),e}function c(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function u(t,e){var n,i,r,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var c=b++;n=v||(v=a(e)),i=d.bind(null,n,c,!1),r=d.bind(null,n,c,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(e),i=p.bind(null,n,e),r=function(){s(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(e),i=h.bind(null,n),r=function(){s(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}function d(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=w(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function h(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e,n){var i=n.css,r=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||o)&&(i=_(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var s=new Blob([i],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}var f={},m=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),g=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t.call(this,n)),e[n]}}(function(t){return document.querySelector(t)}),v=null,b=0,y=[],_=n(1082);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},void 0===e.singleton&&(e.singleton=m()),void 0===e.insertInto&&(e.insertInto="head"),void 0===e.insertAt&&(e.insertAt="bottom");var n=r(t,e);return i(n,e),function(t){for(var o=[],s=0;s<n.length;s++){var a=n[s],l=f[a.id];l.refs--,o.push(l)}if(t){i(r(t,e),e)}for(var s=0;s<o.length;s++){var l=o[s];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete f[l.id]}}}};var w=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},,,,function(t,e,n){t.exports=n.p+"images/36e071480819.svg"},function(t,e,n){t.exports=n.p+"images/470c28af08f2.svg"},function(t,e,n){t.exports=n.p+"images/eb7da89aa91e.svg"},function(t,e,n){t.exports=n.p+"images/233d89c3f315.svg"},function(t,e,n){t.exports=n.p+"images/60b50f309d17.svg"},function(t,e,n){t.exports=n.p+"images/5b108f2b0db2.svg"},function(t,e,n){t.exports=n.p+"images/dbb9e92116c9.svg"},function(t,e,n){t.exports=n.p+"images/521adf0a8ecc.svg"},function(t,e,n){t.exports=n.p+"images/0d9a9947ff46.svg"},function(t,e,n){t.exports=n.p+"images/28fee50a842a.svg"},function(t,e,n){t.exports=n.p+"images/4e11fafaea44.svg"},function(t,e,n){t.exports=n.p+"images/cf2294bacdc8.svg"},function(t,e,n){t.exports=n.p+"images/895f900a4ef0.svg"},function(t,e,n){t.exports=n.p+"images/b095644e8090.svg"},function(t,e,n){t.exports=n.p+"images/d41fe85e122d.svg"}],[890]);