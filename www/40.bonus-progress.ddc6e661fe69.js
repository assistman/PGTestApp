webpackJsonp([40],{

/***/ 2021:
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = (function name(require, exorts, module) {\n    var BonusProgressPopupView = __webpack_require__(2872);\n    var BonusProgressPopupModel = __webpack_require__(2874);\n\n    module.exports = {\n        BonusProgressPopupView: BonusProgressPopupView,\n        BonusProgressPopupModel: BonusProgressPopupModel\n    };\n}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/bonus/bonus-progress/index.js\n// module id = 2021\n// module chunks = 40\n\n//# sourceURL=webpack:///./src/js/modules/bonus/bonus-progress/index.js?");

/***/ }),

/***/ 2302:
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(_) {var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require, exports, module) {\n    var _ = __webpack_require__(0);\n    var Model = __webpack_require__(16);\n    var server = __webpack_require__(11);\n\n    module.exports = Model.extend({\n        defaults: function defaults() {\n            return {\n                bonuses: []\n            };\n        },\n        load: function load() {\n            var _this = this;\n\n            return server.queryBonusProgress().then(function (res) {\n                return _this.set({ bonuses: res.data });\n            });\n        },\n        getBonuses: function getBonuses() {\n            return this.get('bonuses');\n        },\n        hasBonuses: function hasBonuses() {\n            return _.isEmpty(this.getBonuses());\n        },\n\n\n        filter: function filter(statuses) {\n            return function (bonus) {\n                return _.contains(statuses, bonus.status);\n            };\n        }\n\n    });\n}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/bonus/bonus-progress/base.bonus.model.js\n// module id = 2302\n// module chunks = 28 40\n\n//# sourceURL=webpack:///./src/js/modules/bonus/bonus-progress/base.bonus.model.js?");

/***/ }),

/***/ 2363:
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(_) {var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require, exports, module) {\n    var _ = __webpack_require__(0);\n    var View = __webpack_require__(15);\n    var localization = __webpack_require__(28);\n\n    module.exports = View.extend({\n\n        enrichBonusInfo: function enrichBonusInfo(info, currency) {\n            var _this = this;\n\n            if (_.isArray(info)) {\n                _.each(info, function (bonus) {\n                    return _this.enrich(bonus, currency);\n                });\n            } else {\n                this.enrich(info, currency);\n            }\n\n            return info;\n        },\n\n        enrich: function enrich(bonus, currency) {\n            if (!_.isEmpty(bonus)) {\n                bonus.statusClass = this.getStatusClass(bonus);\n                bonus.statusLabel = this.formatStatus(bonus);\n                bonus.title = this.getTitle(bonus);\n                bonus.amountTitle = this.getAmountTitle(bonus, currency);\n                bonus.note = this.getNote(bonus, currency);\n                bonus.points = this.getBonusPoints(bonus);\n                bonus.pointsEarned = this.getBonusPointsEarned(bonus);\n                bonus.progressPercent = this.calculateProgressPercent(bonus);\n                bonus.progressClass = this.getProgressClass(bonus);\n                bonus.expirationTime = this.formatBonusExpirationTime(bonus, false);\n                bonus.expirationTimeShort = this.formatBonusExpirationTime(bonus, true);\n                bonus.expirationDate = this.formatBonusExpirationDate(bonus);\n                bonus.helpMessage = this.getHelpMessage(bonus, currency);\n            }\n\n            return bonus;\n        },\n\n        getBonusPoints: function getBonusPoints(bonus) {\n            return __('bonus.item.points', bonus.currentPoints, bonus.targetPoints);\n        },\n\n        getBonusPointsEarned: function getBonusPointsEarned(bonus) {\n            return __('bonus.item.points.earned', bonus.currentPoints, bonus.targetPoints);\n        },\n\n        calculateProgressPercent: function calculateProgressPercent(bonus) {\n            return 100 * bonus.currentPoints / bonus.targetPoints;\n        },\n\n        getProgressClass: function getProgressClass(bonus) {\n            switch (bonus.status) {\n                case \"COMPLETED\":\n                case \"EXPIRED\":\n                case \"LOST\":\n                case \"WAITING\":\n                    return \"inactive\";\n\n                default:\n                    return \"\";\n            }\n        },\n\n        getStatusClass: function getStatusClass(bonus) {\n            return bonus.status.toLowerCase();\n        },\n\n        getAmountTitle: function getAmountTitle(bonus, currency) {\n            return currency + bonus.volume + \" \" + this.getTitle(bonus);\n        },\n\n        getTitle: function getTitle(bonus) {\n            switch (bonus.type) {\n                case \"COMPLIANCE\":\n                    return __('bonus.item.compliance.title');\n\n                case \"WELCOME_BONUS\":\n                    return __('bonus.item.wb.title');\n\n                case \"PENDING_BONUS\":\n                    return __('bonus.item.pb.title');\n\n                case \"FD_BONUS\":\n                    return __('bonus.item.fd.title');\n\n                case \"SMS_BONUS\":\n                    return __('bonus.item.sms.title');\n\n                case \"VERIFY_POI\":\n                    return __('bonus.item.id.title');\n\n                case \"VERIFY_POR\":\n                    return __('bonus.item.residence.title');\n\n                case \"UNKNOWN\":\n                    return __('bonus.item.unknown.reason.' + bonus.reason);\n\n                default:\n                    return \"\";\n            }\n        },\n\n        formatStatus: function formatStatus(bonus) {\n            switch (bonus.status) {\n                case \"IN_PROGRESS\":\n                    return __('bonus.item.status.in_progress');\n\n                case \"WAITING\":\n                    return __('bonus.item.status.waiting');\n\n                case \"COMPLETED\":\n                    return __('bonus.item.status.completed');\n\n                case \"EXPIRED\":\n                    return __('bonus.item.status.expired');\n\n                case \"LOST\":\n                    return __('bonus.item.status.lost');\n\n                default:\n                    return \"\";\n            }\n        },\n\n        getHelpMessage: function getHelpMessage(bonus, currency) {\n            switch (bonus.status) {\n                case \"IN_PROGRESS\":\n                    return __('bonus.item.ip.help.message');\n\n                case \"WAITING\":\n                    return __('bonus.item.waiting.help.message');\n\n                case \"COMPLETED\":\n                    return __('bonus.item.completed.help.message', currency + bonus.volume);\n\n                case \"EXPIRED\":\n                    return __('bonus.item.expired.help.message');\n\n                case \"LOST\":\n                    return __('bonus.item.lost.help.message');\n\n                default:\n                    return \"\";\n            }\n        },\n\n        getNote: function getNote(bonus, currency) {\n            switch (bonus.status) {\n                case \"LOST\":\n                    return \"\";\n\n                default:\n                    return __('bonus.item.note', currency + bonus.volume);\n            }\n        },\n\n        formatBonusExpirationTime: function formatBonusExpirationTime(bonus, isShortFormat) {\n            var expiration = bonus.expiration;\n            var expirationFormat = __('bonus.item.expiration.format', expiration.days, expiration.hours, expiration.minutes);\n            var prefix = isShortFormat ? __('bonus.item.expiration.short') : __('bonus.item.expiration');\n            return prefix + \" \" + expirationFormat;\n        },\n\n        formatBonusExpirationDate: function formatBonusExpirationDate(bonus) {\n            var date = new Date(bonus.expireAt);\n            var monthNames = localization.splitByComma(__('calendar.month_names.short'));\n            return date.getDate() + ' ' + monthNames[date.getMonth()] + ', ' + date.getFullYear();\n        }\n\n    });\n}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/bonus/bonus-progress/base.bonus.view.js\n// module id = 2363\n// module chunks = 28 40\n\n//# sourceURL=webpack:///./src/js/modules/bonus/bonus-progress/base.bonus.view.js?");

/***/ }),

/***/ 2689:
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(_) {var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require, exports, module) {\n    var _ = __webpack_require__(0);\n    var BaseBonusView = __webpack_require__(2363);\n    var template = _.template(__webpack_require__(2690));\n    var bonusItemTemplate = _.template(__webpack_require__(2691));\n\n    module.exports = BaseBonusView.extend({\n\n        className: 'bonus-in-progress',\n\n        render: function render() {\n            BaseBonusView.prototype.render.call(this);\n            this.$el.html(template({\n                bonusTemplate: bonusItemTemplate,\n                in_progress: this.enrichBonusInfo(this.model.getInProgressBonus(), this.model.getAccountCurrency()),\n                waiting: this.enrichBonusInfo(this.model.getWaitingBonuses(), this.model.getAccountCurrency())\n            }));\n\n            return this;\n        }\n\n    });\n}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/bonus/bonus-progress/in-progress.view.js\n// module id = 2689\n// module chunks = 28 40\n\n//# sourceURL=webpack:///./src/js/modules/bonus/bonus-progress/in-progress.view.js?");

/***/ }),

/***/ 2690:
/***/ (function(module, exports) {

eval("module.exports = \"<div class=\\\"bonus-progress-body flex flex-column\\\">\\n\\n    <div class=\\\"forms-container flex flex-column flex-stretch\\\">\\n        <div class=\\\"flex flex-column flex-stretch min-height-content\\\">\\n\\n            <% if (_.isEmpty(in_progress)) { %>\\n            <div class=\\\"empty\\\">\\n                <%=__('bonus.empty.no.inprogress.message')%>\\n                <a href=\\\"mailto:<%=__('brand.support.email')%>\\\"><%=__('bonus.nobonus.contact.us')%></a>\\n            </div>\\n            <% } else { %>\\n\\n            <div class=\\\"header\\\"><%=__('bonus.status.inprogress')%></div>\\n\\n            <%=bonusTemplate({ bonus: in_progress })%>\\n\\n            <br><br>\\n\\n            <% if (_.isEmpty(waiting)) { %>\\n            <div class=\\\"empty\\\">\\n                <%=__('bonus.empty.no.next.message')%>\\n                <a href=\\\"mailto:<%=__('brand.support.email')%>\\\"><%=__('bonus.nobonus.contact.us')%></a>\\n            </div>\\n            <% } else { %>\\n\\n            <div class=\\\"header\\\"><%=__('bonus.status.next')%></div>\\n\\n            <% _.each(waiting, function(waiting_bonus) { %>\\n            <%=bonusTemplate({ bonus: waiting_bonus })%>\\n            <% }) %>\\n\\n            <% } %>\\n\\n            <% } %>\\n\\n        </div>\\n\\n    </div>\\n</div>\\n\\n\";\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/bonus/bonus-progress/templates/in-progress.html\n// module id = 2690\n// module chunks = 28 40\n\n//# sourceURL=webpack:///./src/js/modules/bonus/bonus-progress/templates/in-progress.html?");

/***/ }),

/***/ 2691:
/***/ (function(module, exports) {

eval("module.exports = \"<div class=\\\"bonus-line <%= bonus.statusClass %>\\\">\\n    <div class=\\\"bonus-title\\\">\\n        <span class=\\\"title\\\"><%= bonus.title %></span>\\n        <span class=\\\"note\\\"><%= bonus.note %></span>\\n    </div>\\n    <div class=\\\"bonus-progress\\\">\\n        <div class=\\\"points hidden-xs\\\"><%= bonus.points %></div>\\n\\n        <div class=\\\"bonus-progress-wrapper visible-xs visible-sm visible-md\\\">\\n            <span class=\\\"earned-points <%= bonus.statusClass %>\\\"><%= bonus.points %></span>\\n            <span class=\\\"expiration-short\\\"><%= bonus.expirationTimeShort %></span>\\n        </div>\\n\\n        <div class=\\\"progress-bar <%= bonus.progressClass %>\\\">\\n            <div style=\\\"width: <%= bonus.progressPercent %>%\\\"></div>\\n        </div>\\n\\n        <div class=\\\"expiration hidden-xs\\\"><%= bonus.expirationTime %></div>\\n    </div>\\n    <div class=\\\"bonus-help\\\"><%= bonus.helpMessage %></div>\\n</div>\";\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/bonus/bonus-progress/templates/bonus.item.html\n// module id = 2691\n// module chunks = 28 40\n\n//# sourceURL=webpack:///./src/js/modules/bonus/bonus-progress/templates/bonus.item.html?");

/***/ }),

/***/ 2692:
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(_) {var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require, exports, module) {\n    var _ = __webpack_require__(0);\n    var BaseBonusView = __webpack_require__(2363);\n    var template = _.template(__webpack_require__(2693));\n    var bonusItemTemplate = _.template(__webpack_require__(2694));\n\n    module.exports = BaseBonusView.extend({\n\n        className: 'bonus-completed',\n\n        render: function render() {\n            BaseBonusView.prototype.render.call(this);\n\n            this.$el.html(template({\n                bonusTemplate: bonusItemTemplate,\n                completed: this.enrichBonusInfo(this.model.getCompletedBonuses(), this.model.getAccountCurrency())\n            }));\n\n            return this;\n        }\n\n    });\n}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/bonus/bonus-progress/completed.view.js\n// module id = 2692\n// module chunks = 28 40\n\n//# sourceURL=webpack:///./src/js/modules/bonus/bonus-progress/completed.view.js?");

/***/ }),

/***/ 2693:
/***/ (function(module, exports) {

eval("module.exports = \"<div class=\\\"bonus-progress-body flex flex-column\\\">\\n\\n    <div class=\\\"forms-container flex flex-column flex-stretch\\\">\\n        <div class=\\\"flex flex-column flex-stretch min-height-content\\\">\\n\\n            <% if (_.isEmpty(completed)) { %>\\n            <div class=\\\"empty\\\">\\n                <%=__('bonus.empty.no.completed.message')%>\\n                <a href=\\\"mailto:<%=__('brand.support.email')%>\\\"><%=__('bonus.nobonus.contact.us')%></a>\\n            </div>\\n            <% } else { %>\\n\\n            <div class=\\\"grid-12-equalHeight header-grid hidden-xs\\\">\\n                <div class=\\\"col-5\\\"><%=__('bonus.item.completed.name')%></div>\\n                <div class=\\\"col-2\\\"><%=__('bonus.item.completed.expiration.title')%></div>\\n                <div class=\\\"col-3\\\"><%=__('bonus.item.completed.points.earned.title')%></div>\\n                <div class=\\\"col-2\\\"><%=__('bonus.item.status')%></div>\\n            </div>\\n\\n            <% _.each(completed, function(completed_bonus) { %>\\n                <%=bonusTemplate({ bonus: completed_bonus })%>\\n            <% }) %>\\n\\n            <% } %>\\n\\n        </div>\\n\\n    </div>\\n</div>\\n\\n\";\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/bonus/bonus-progress/templates/completed.html\n// module id = 2693\n// module chunks = 28 40\n\n//# sourceURL=webpack:///./src/js/modules/bonus/bonus-progress/templates/completed.html?");

/***/ }),

/***/ 2694:
/***/ (function(module, exports) {

eval("module.exports = \"<div class=\\\"grid-12-equalHeight bonus-line-grid hidden-xs\\\">\\n    <div class=\\\"col-5 title\\\"><%= bonus.amountTitle %></div>\\n    <div class=\\\"col-2 expiration\\\"><%= bonus.expirationDate %></div>\\n    <div class=\\\"col-3 points\\\"><%= bonus.pointsEarned %></div>\\n    <div class=\\\"col-2\\\">\\n        <div class=\\\"status\\\">\\n            <span class=\\\"<%= bonus.statusClass %>\\\"><%= bonus.statusLabel %></span>\\n            <span class='question-tooltip' aria-label=\\\"<%= bonus.helpMessage %>\\\" data-tooltip-align=\\\"right\\\" ></span>\\n        </div>\\n    </div>\\n</div>\\n\\n\\n<div class=\\\"grid-12-equalHeight bonus-line-grid visible-xs visible-sm visible-md\\\">\\n    <div class=\\\"col-12 bonus-line-column\\\">\\n        <div class=\\\"grid-12-equalHeight-middle\\\">\\n            <div class=\\\"col-5 title\\\"><%=__('bonus.item.completed.name')%></div>\\n            <div class=\\\"col-7 title\\\"><%= bonus.amountTitle %></div>\\n        </div>\\n    </div>\\n    <div class=\\\"col-12 bonus-line-column\\\">\\n        <div class=\\\"grid-12-equalHeight-middle\\\">\\n            <div class=\\\"col-5\\\"><%=__('bonus.item.completed.expiration.title')%></div>\\n            <div class=\\\"col-7 expiration\\\"><%= bonus.expirationDate %></div>\\n        </div>\\n    </div>\\n    <div class=\\\"col-12 bonus-line-column\\\">\\n        <div class=\\\"grid-12-equalHeight-middle\\\">\\n            <div class=\\\"col-5\\\"><%=__('bonus.item.completed.points.earned.title')%></div>\\n            <div class=\\\"col-7 points\\\"><%= bonus.pointsEarned %></div>\\n        </div>\\n    </div>\\n    <div class=\\\"col-12 bonus-line-column\\\">\\n        <div class=\\\"grid-12-equalHeight-middle\\\">\\n            <div class=\\\"col-5\\\"><%=__('bonus.item.status')%></div>\\n            <div class=\\\"col-7 status <%= bonus.statusClass %>\\\"><%= bonus.statusLabel %></div>\\n        </div>\\n    </div>\\n</div>\\n\";\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/bonus/bonus-progress/templates/bonus.item.grid.html\n// module id = 2694\n// module chunks = 28 40\n\n//# sourceURL=webpack:///./src/js/modules/bonus/bonus-progress/templates/bonus.item.grid.html?");

/***/ }),

/***/ 2695:
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(_) {var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require, exports, module) {\n    var _ = __webpack_require__(0);\n    var BaseBonusModel = __webpack_require__(2302);\n\n    module.exports = BaseBonusModel.extend({\n        defaults: function defaults() {\n            return {\n                in_progress: {},\n                waiting: []\n            };\n        },\n        initialize: function initialize() {\n            BaseBonusModel.prototype.initialize.apply(this, arguments);\n            this.load();\n        },\n        load: function load() {\n            this.set({\n                in_progress: this.parseInProgressBonus(),\n                waiting: _.filter(this.getBonuses(), this.filter(['WAITING']))\n            });\n        },\n        parseInProgressBonus: function parseInProgressBonus() {\n            var bonuses = _.filter(this.getBonuses(), this.filter(['IN_PROGRESS']));\n            return !_.isEmpty(bonuses) ? bonuses[0] : {};\n        },\n        getInProgressBonus: function getInProgressBonus() {\n            return this.get('in_progress');\n        },\n        getWaitingBonuses: function getWaitingBonuses() {\n            return this.get('waiting');\n        },\n        getAccountCurrency: function getAccountCurrency() {\n            return this.get(\"accountCurrency\");\n        }\n    });\n}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/bonus/bonus-progress/in-progress.model.js\n// module id = 2695\n// module chunks = 28 40\n\n//# sourceURL=webpack:///./src/js/modules/bonus/bonus-progress/in-progress.model.js?");

/***/ }),

/***/ 2696:
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(_) {var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require, exports, module) {\n    var _ = __webpack_require__(0);\n    var BaseBonusModel = __webpack_require__(2302);\n\n    module.exports = BaseBonusModel.extend({\n        defaults: function defaults() {\n            return {\n                completed: []\n            };\n        },\n        initialize: function initialize() {\n            this.load();\n        },\n        load: function load() {\n            this.set({\n                completed: _.filter(this.getBonuses(), this.filter(['COMPLETED', 'LOST', 'EXPIRED']))\n            });\n        },\n        getCompletedBonuses: function getCompletedBonuses() {\n            return this.get('completed');\n        },\n        getAccountCurrency: function getAccountCurrency() {\n            return this.get(\"accountCurrency\");\n        }\n    });\n}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/bonus/bonus-progress/completed.model.js\n// module id = 2696\n// module chunks = 28 40\n\n//# sourceURL=webpack:///./src/js/modules/bonus/bonus-progress/completed.model.js?");

/***/ }),

/***/ 2872:
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(_, $) {var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require, exports, module) {\n    var _ = __webpack_require__(0);\n    var $ = __webpack_require__(7);\n    var user = __webpack_require__(10);\n    var PopupView = __webpack_require__(87);\n    var LoadingView = __webpack_require__(35);\n    var template = _.template(__webpack_require__(2873));\n\n    function parseWizardHeader(caption) {\n        var caption = _.map(caption, function (s) {\n            return s.toUpperCase();\n        });\n        return \"<span>\" + _.map(_.initial(caption), function (a) {\n            return \"<span class='color-platform-text-color'>\" + a + \" </span>\";\n        }).join('') + \"<span class='color-platform-accent'>\" + _.last(caption) + \"</span>\" + \"</span>\";\n    }\n\n    module.exports = PopupView.extend({\n\n        className: 'bonus-progress',\n        name: 'bonus-progress',\n\n        events: function events() {\n            return this.addEvents(PopupView)({\n                'click .fn-tab': 'changeTab'\n            });\n        },\n\n        initialize: function initialize(options) {\n            PopupView.prototype.initialize.apply(this, arguments);\n\n            this.listenTo(this.model, 'change:currentTabId', this.updateTab);\n            this.listenTo(this.model, 'change:bonuses', this.loadCompleted);\n\n            this.render();\n        },\n\n        render: function render() {\n            PopupView.prototype.render.call(this);\n\n            this.setContent(template({\n                options: this.options,\n                model: this.model.toJSON(),\n                parseWizardHeader: parseWizardHeader(this.options.caption)\n            }));\n\n            this.showLoading();\n\n            return this;\n        },\n\n        updateTab: function updateTab() {\n            var _model$getCurrentTabD = this.model.getCurrentTabData(),\n                view = _model$getCurrentTabD.view,\n                model = _model$getCurrentTabD.model;\n\n            this.addChildView('.tab-content', view, {\n                model: new model({\n                    bonuses: this.model.getBonuses(),\n                    accountCurrency: user.getUserCurrencySymbol()\n                })\n            });\n\n            this.$('.header-container-xs .caption').html(__(this.model.getCurrentTabName()));\n            this.$('.tab').removeClass('active');\n\n            var tabId = this.model.getCurrentTabId();\n            this.$('.tab[data-tab-id=' + tabId + ']').addClass('active');\n        },\n\n        changeTab: function changeTab(event) {\n            this.model.setCurrentTabById($(event.currentTarget).attr('data-tab-id'));\n        },\n\n        loadCompleted: function loadCompleted() {\n            this.updateTab();\n            this.hideLoading();\n        },\n\n\n        showLoading: function showLoading() {\n            this.addChildView('.bonus-progress-content', LoadingView, { parent: this.$el, translucent: '2' });\n        },\n\n        hideLoading: function hideLoading() {\n            this.removeChildView('.bonus-progress-content');\n        }\n\n    });\n}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0), __webpack_require__(7)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/bonus/bonus-progress/bonus.progress.popup.view.js\n// module id = 2872\n// module chunks = 40\n\n//# sourceURL=webpack:///./src/js/modules/bonus/bonus-progress/bonus.progress.popup.view.js?");

/***/ }),

/***/ 2873:
/***/ (function(module, exports) {

eval("module.exports = \"<div class=\\\"popup-header popup-header-bg-style-grey popup-header-style-default hidden-xs\\\">\\n    <div class=\\\"popup-caption flex flex-valign-center\\\">\\n        <%=parseWizardHeader%>\\n        <span class='question-tooltip' aria-label=\\\"<%=__('bonus.help.message')%>\\\" data-tooltip-align=\\\"right\\\" ></span>\\n    </div>\\n    <div class=\\\"popup-actions fn-close-popup btn\\\">\\n        <i class=\\\"icon-close-blue\\\"></i>\\n    </div>\\n</div>\\n\\n<div class=\\\"visible-xs header-container-xs\\\">\\n    <div class=\\\"left flex fn-close-popup flex-valign-center btn\\\">\\n        <div class=\\\"icon arrow\\\"></div>\\n        <b><%-__('actions.back') %></b>\\n    </div>\\n    <div class=\\\"caption flex flex-valign-center flex-align-center\\\">\\n        <%-model.currentTabName || model.currentTabNameMobile%>\\n    </div>\\n    <div class=\\\"right flex flex-valign-center btn\\\"></div>\\n</div>\\n\\n<div class=\\\"bonus-progress-content\\\">\\n    <div class=\\\"modal-dialog-container\\\"></div>\\n\\n    <div class=\\\"tabs flex flex-row flex-align-start hidden-xs\\\">\\n        <% _.each(model.tabs, function(v) { %>\\n        <div class=\\\"tab fn-tab flex flex-stretch flex-valign-center active <%- model.currentTabId == v.id ? 'active' : '' %>\\\" data-tab-id=\\\"<%- v.id %>\\\"><%- v.name %></div>\\n        <% }) %>\\n    </div>\\n\\n    <div class=\\\"tab-content\\\"></div>\\n</div>\";\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/bonus/bonus-progress/templates/bonus.progress.popup.html\n// module id = 2873\n// module chunks = 40\n\n//# sourceURL=webpack:///./src/js/modules/bonus/bonus-progress/templates/bonus.progress.popup.html?");

/***/ }),

/***/ 2874:
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(_) {var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require, exports, module) {\n    var InProgressView = __webpack_require__(2689);\n    var CompletedView = __webpack_require__(2692);\n    var InProgressModel = __webpack_require__(2695);\n    var CompletedModel = __webpack_require__(2696);\n    var BaseBonusModel = __webpack_require__(2302);\n\n    module.exports = BaseBonusModel.extend({\n        defaults: function defaults() {\n            return {\n                tabs: [{ id: 'in-progress', name: __('bonus.tab.in_progress'), viewClass: InProgressView, modelClass: InProgressModel }, { id: 'completed', name: __('bonus.tab.completed'), viewClass: CompletedView, modelClass: CompletedModel }],\n                currentTabId: 'in-progress',\n                defaultTabId: 'in-progress'\n            };\n        },\n        initialize: function initialize() {\n            this.load();\n        },\n        getCurrentTab: function getCurrentTab() {\n            return _.findWhere(this.get('tabs'), { id: this.getCurrentTabId() });\n        },\n        getCurrentTabId: function getCurrentTabId() {\n            var currentTabId = this.get('currentTabId');\n\n            if (!currentTabId) {\n                currentTabId = this.get('defaultTabId');\n            }\n\n            return currentTabId;\n        },\n        getCurrentTabName: function getCurrentTabName() {\n            return this.getCurrentTab().name;\n        },\n        getCurrentTabData: function getCurrentTabData() {\n            var tab = this.getCurrentTab();\n\n            var view = tab.viewClass;\n            var model = tab.modelClass;\n\n            return { view: view, model: model };\n        },\n        getTabById: function getTabById(id) {\n            return _.findWhere(this.get('tabs'), { id: id });\n        },\n        enableAllTabs: function enableAllTabs() {\n            _.each(this.get('tabs'), function (item) {\n                return item.disable = false;\n            });\n        },\n        disableTabById: function disableTabById(id) {\n            var tab = this.getTabById(id);\n            if (tab) tab.disable = true;\n        },\n        enableTabById: function enableTabById(id) {\n            var tab = this.getTabById(id);\n            if (tab) tab.disable = false;\n        },\n        setCurrentTabById: function setCurrentTabById(id) {\n            var tab = this.getTabById(id);\n            if (tab) {\n                this.set({\n                    currentTabId: tab.id,\n                    currentTabName: tab.name\n                });\n            }\n\n            return tab;\n        }\n    });\n}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/bonus/bonus-progress/bonus.progress.popup.model.js\n// module id = 2874\n// module chunks = 40\n\n//# sourceURL=webpack:///./src/js/modules/bonus/bonus-progress/bonus.progress.popup.model.js?");

/***/ })

});