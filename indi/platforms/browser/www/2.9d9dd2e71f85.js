webpackJsonp([2],{

/***/ 1192:
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require, exports, module) {\n    var WebinarsPopupView = __webpack_require__(1291);\n    var WebinarView = __webpack_require__(1235);\n    var WebinarModel = __webpack_require__(1234);\n\n    function initWebinarsPopupView(options) {\n        return new WebinarsPopupView(options);\n    }\n    function initWebinarView(options) {\n        return new WebinarView(options);\n    }\n    function initWebinarModel(options) {\n        return new WebinarModel(options);\n    }\n\n    module.exports = {\n        initWebinarsPopupView: initWebinarsPopupView,\n        initWebinarView: initWebinarView,\n        initWebinarModel: initWebinarModel\n    };\n}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/webinars/index.js\n// module id = 1192\n// module chunks = 2\n\n//# sourceURL=webpack:///./src/js/modules/webinars/index.js?");

/***/ }),

/***/ 1234:
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require, exports, module) {\n    var _ = __webpack_require__(0);\n    var Model = __webpack_require__(17);\n    var moment = __webpack_require__(6);\n    var settings = __webpack_require__(10);\n    var ONE_MIN = 1000 * 60;\n    var webinarModel = Model.extend({\n\n        defaults: function defaults() {\n            return {\n                id: null,\n                title: '',\n                description: '',\n                presentor: {\n                    title: '',\n                    name: '',\n                    img: '',\n                    _cid: ''\n                },\n                language: 'EN',\n                category: '',\n                startTime: '',\n                duration: 60,\n                url: '',\n                img: '',\n                historyVODUrl: '',\n                isRegistered: false,\n                isJoined: false\n            };\n        },\n\n        getWebinarId: function getWebinarId() {\n            return this.get('id');\n        },\n\n        getWebinarImg: function getWebinarImg() {\n            if (this.get('img')) return this.get('img');\n            if (this.get('category')) {\n                try {\n                    return __webpack_require__(1292)(\"./\" + this.get('category').toLowerCase().replace(/\\W+/g, '_') + '.png');\n                } catch (e) {}\n            }\n            return __webpack_require__(1298);\n        },\n\n        getWebinarTime: function getWebinarTime() {\n            return this.isActive() ? __('webinars.now') : moment(this.get('startTime')).local().format('dddd, D MMM YYYY, h:mm a');\n        },\n\n        getWebinarStartTime: function getWebinarStartTime() {\n            return __('webinars.start.time') + ': ' + moment(this.get('startTime')).format(\"h:mm a\");\n        },\n\n        getWebinarGoogleCalendarLink: function getWebinarGoogleCalendarLink() {\n            return encodeURI(['https://www.google.com/calendar/render', '?action=TEMPLATE', '&text=' + (this.getWebinarTitle() || ''), '&dates=' + (moment(this.get('startTime')).format(\"YYYYMMDD[T]HHmmss\") || ''), '/' + (moment(parseInt(this.get('startTime')) + this.getWebinarDuration() * 60 * 1000).format(\"YYYYMMDD[T]HHmmss\") || ''), '&details=' + (this.getWebinarDescription() || ''), '&location=' + (window.location.href || ''), '&sprop=&sprop=name:'].join(''));\n        },\n\n        getWebinarOutlookCalendarLink: function getWebinarOutlookCalendarLink() {\n            return encodeURI('data:text/calendar;charset=utf8,' + ['BEGIN:VCALENDAR', 'VERSION:2.0', 'BEGIN:VEVENT', 'URL:' + window.location.href, 'DTSTART:' + moment(this.get('startTime')).format(\"YYYYMMDD[T]HHmmss\"), 'DTEND:' + moment(parseInt(this.get('startTime')) + this.getWebinarDuration() * 60 * 1000).format(\"YYYYMMDD[T]HHmmss\"), 'SUMMARY:' + (this.getWebinarTitle() || ''), 'DESCRIPTION:' + (this.getWebinarDescription() || ''), 'END:VEVENT', 'END:VCALENDAR'].join('\\n'));\n        },\n\n        getWebinarTitle: function getWebinarTitle() {\n            return this.get('title');\n        },\n\n        getWebinarPresenterImg: function getWebinarPresenterImg() {\n            var presenter = this.get('presenter');\n            return presenter.img || __webpack_require__(1299);\n        },\n\n        getWebinarPresenterName: function getWebinarPresenterName() {\n            return this.get('presenter').name;\n        },\n\n        getWebinarPresenterTitle: function getWebinarPresenterTitle() {\n            return this.get('presenter').title;\n        },\n\n        getWebinarDescription: function getWebinarDescription() {\n            return this.get('description');\n        },\n\n        getWebinarLanguage: function getWebinarLanguage() {\n            return this.get('language').toLowerCase();\n        },\n\n        getWebinarDuration: function getWebinarDuration() {\n            return this.get('duration');\n        },\n\n        isRegistered: function isRegistered() {\n            return this.get('isRegistered');\n        },\n\n        isJoined: function isJoined() {\n            return this.get('isJoined');\n        },\n\n        isUpcoming: function isUpcoming() {\n            var currentTime = new Date().getTime();\n            return parseInt(this.get('startTime')) + this.getWebinarDuration() * 60 * 1000 + settings.getWebinarsActiveAdditionTime() > currentTime;\n        },\n\n        isActive: function isActive() {\n            var currentTime = new Date().getTime();\n            var startTime = parseInt(this.get('startTime'));\n            var duration = this.getWebinarDuration() * ONE_MIN;\n            var activeAdditionTime = settings.getWebinarsActiveAdditionTime();\n            var preActiveAdditionTime = settings.getWebinarsPreActiveAdditionTime();\n\n            return (startTime < currentTime || startTime - preActiveAdditionTime < currentTime) && startTime + duration + activeAdditionTime > currentTime;\n        },\n\n        updateRegistration: function updateRegistration(status) {\n            this.set('isRegistered', status);\n        },\n\n        getWebinarURL: function getWebinarURL() {\n            return this.isActive() ? this.get('url') : this.get('historyVODUrl') || null;\n        }\n    });\n\n    module.exports = webinarModel;\n}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/webinars/webinar.model.js\n// module id = 1234\n// module chunks = 2\n\n//# sourceURL=webpack:///./src/js/modules/webinars/webinar.model.js?");

/***/ }),

/***/ 1235:
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(_, $) {var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require, exports, module) {\n    var _ = __webpack_require__(0);\n    var core = __webpack_require__(4);\n    var ResponsivePopupView = __webpack_require__(24);\n    var server = __webpack_require__(9);\n    var template = _.template(__webpack_require__(1300));\n    var moment = __webpack_require__(6);\n    var user = __webpack_require__(7);\n    var FeedbackPopup = __webpack_require__(1301);\n    var settings = __webpack_require__(10);\n    var device = __webpack_require__(18);\n\n    var messageTemplate = _.template('\\n        <li>\\n            <div class=\"message-data\">          \\n              <span class=\"message-data-time\"><%=time%></span>\\n            </div>\\n            <div class=\"message\">\\n              <%=messageOutput%>\\n            </div>\\n        </li>');\n\n    var WebinarPopupView = ResponsivePopupView.extend({\n\n        initialize: function initialize(options) {\n            ResponsivePopupView.prototype.initialize.apply(this, arguments);\n            this.webinar = options.webinar;\n            this.startTime = options.startTime || '';\n            this.openedActiveWebinar = this.webinar.isActive();\n            this.listenTo(core, 'ui:webinar:close', this.close);\n            this.render();\n        },\n\n        events: function events() {\n            return _.extend({}, _.result(ResponsivePopupView.prototype, 'events'), {\n                \"click .icon-send-message\": \"addMessage\"\n            });\n        },\n\n        getOptions: function getOptions(options) {\n            return _.extend({}, _.result(ResponsivePopupView.prototype, 'getOptions'), {\n                isHeaderShowed: true,\n                caption: __('menu.webinar'),\n                previousCaption: __('actions.back'),\n                isDraggable: !device.ipad(),\n                closeIconStyle: 'grey',\n                headerStyle: 'wizard'\n            }, options);\n        },\n\n        addMessage: function addMessage() {\n            var chatTextarea = this.$el.find('#message-to-send');\n            if (chatTextarea.val().trim() == '') return;\n            var msg = chatTextarea.val();\n            var context = {\n                messageOutput: msg,\n                time: moment().format(\"h:mm a\")\n            };\n            this.$el.find('.chat-history ul').append(messageTemplate(context));\n            chatTextarea.val('');\n            this.scrollToBottom();\n            var userId = user.getUserData().getCrmboCustomer().id;\n            var webinarId = this.webinar.getWebinarId();\n            return server.webinarChatMessage(userId, webinarId, msg).then(function (res) {\n                if (res.data.error) {\n                    return Promise.reject();\n                }\n            });\n        },\n\n        scrollToBottom: function scrollToBottom() {\n            var chatHistory = this.$el.find('.chat-history');\n            chatHistory[0].scrollTop = chatHistory[0].scrollHeight;\n        },\n\n        render: function render(playlists) {\n            ResponsivePopupView.prototype.render.call(this);\n            this.setContent(template({ webinar: this.webinar }));\n            return this;\n        },\n\n        close: function close() {\n            ResponsivePopupView.prototype.close.call(this);\n            if (this.openedActiveWebinar && Date.now() - this.startTime > settings.getWebinarsFeedbackMinViewTime() && localStorage.getItem('webinar' + this.webinar.getWebinarId()) != 'true') {\n                var feedback_popup = new FeedbackPopup({\n                    parent: $('body'),\n                    webinarId: this.webinar.getWebinarId(),\n                    onClose: function onClose() {\n                        return feedback_popup = null;\n                    }\n                });\n            }\n        }\n    });\n\n    module.exports = WebinarPopupView;\n}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0), __webpack_require__(5)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/webinars/webinar.view.js\n// module id = 1235\n// module chunks = 2\n\n//# sourceURL=webpack:///./src/js/modules/webinars/webinar.view.js?");

/***/ }),

/***/ 1291:
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(_, $) {var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require, exports, module) {\n    var _ = __webpack_require__(0);\n    var core = __webpack_require__(4);\n    var View = __webpack_require__(11);\n    var Collection = __webpack_require__(23);\n    var server = __webpack_require__(9);\n    var webinarModel = __webpack_require__(1234);\n    var user = __webpack_require__(7);\n    var LoadingView = __webpack_require__(21);\n    var BalloonMessageView = __webpack_require__(438);\n    var WebinarPopup = __webpack_require__(1235);\n\n    var refreshTime = 5 * 60 * 1000;\n\n    var WebinarsPopupView = View.extend({\n\n        template: _.template(__webpack_require__(1303)),\n        events: {\n            \"click .webinars-top .fn-close-popup\": \"close\",\n            \"click .fn-join\": \"join\",\n            \"click .fn-watch\": \"watch\",\n            \"click .fn-reg\": \"register\"\n        },\n        tagName: 'div',\n        className: 'webinars-wrapper',\n\n        initialize: function initialize(options) {\n            var _this = this;\n\n            View.prototype.initialize.apply(this, arguments);\n            this.parent = options.parent;\n            this.parent.find('.main-box-content').addClass('hidden');\n            core.trigger('ui:webinar:close');\n            this.listenTo(core, 'ribbon:update', this.updateContentHeight);\n            $(window).on(\"resize.insider\", function () {\n                return _this.updateContentHeight();\n            });\n            this.loadWebinars();\n            this.reload = setInterval(function () {\n                _this.loadWebinars();\n            }, refreshTime);\n        },\n\n        loadWebinars: function loadWebinars() {\n            user.getUserWebinarsModel().load();\n            this.createLoadingView();\n            this.getWebinars();\n        },\n\n        getWebinars: function getWebinars() {\n            var _this2 = this;\n\n            user.getUserWebinarsModel().ready(function (model) {\n                _this2.createCollection(model);\n                _this2.render();\n                _this2.destroyLoadingView();\n            });\n        },\n\n        createCollection: function createCollection(data) {\n            var _this3 = this;\n\n            this.upcoming_webinars = new Collection();\n            this.past_webinars = new Collection();\n            var webinars = data.attributes.webinars;\n\n            _.each(webinars, function (model) {\n                var item = new webinarModel(model);\n                if (item.isUpcoming()) {\n                    _this3.upcoming_webinars.add(item);\n                } else {\n                    _this3.past_webinars.add(item);\n                }\n            });\n            this.upcoming_webinars.comparator = function (a, b) {\n                return a.get('startTime') - b.get('startTime');\n            };\n            this.upcoming_webinars.sort();\n\n            this.past_webinars.comparator = function (a, b) {\n                return b.get('startTime') - a.get('startTime');\n            };\n            this.past_webinars.sort();\n        },\n\n        joinWebinar: function joinWebinar(webinarId) {\n            var userId = user.getUserData().getCrmboCustomer().id;\n            var webinar = _.find(this.upcoming_webinars.models, function (webinar) {\n                return webinar.getWebinarId() == webinarId;\n            });\n\n            var webinar_popup = new WebinarPopup({\n                parent: $('body'),\n                webinar: webinar,\n                startTime: Date.now(),\n                onClose: function onClose() {\n                    return webinar_popup = null;\n                }\n            });\n            this.close();\n            return server.joinWebinar(userId, webinarId).then(function (res) {\n                if (res.data.error) {\n                    return Promise.reject();\n                }\n            });\n        },\n\n        registerWebinar: function registerWebinar(webinarId) {\n            var userId = user.getUserData().getCrmboCustomer().id;\n            var webinar = _.find(this.upcoming_webinars.models, function (webinar) {\n                return webinar.getWebinarId() == webinarId;\n            });\n            var status = !webinar.isRegistered();\n            webinar.updateRegistration(status);\n            this.$el.find('[data-id=\"' + webinarId + '\"]').find('span').html(status ? __('webinars.unregister') : __('webinars.register'));\n\n            var msg_title = status ? __('webinars.register.title') : __('webinars.unregister.title');\n            var msg_text = status ? __('webinars.register.text') : __('webinars.unregister.text');\n            BalloonMessageView.show({\n                title: msg_title,\n                body: msg_text\n            });\n            return server.registerWebinar(userId, webinarId, status).then(function (res) {\n                if (res.data.error) {\n                    return Promise.reject();\n                }\n            });\n        },\n\n        close: function close() {\n            core.trigger(\"ui:chart:update-size\");\n            $(window).off(\"resize.webinars\");\n            this.parent.find('.main-box-content').removeClass('hidden');\n            clearInterval(this.reload);\n            core.navigate('/');\n            this.destroy();\n        },\n\n        render: function render() {\n            View.prototype.render.call(this);\n            this.parent.append(this.$el);\n            var futureWebinarsNum = _.reduce(this.upcoming_webinars.models, function (result, model) {\n                if (model.isUpcoming() && !model.isActive()) result += 1;\n                return result;\n            }, 0);\n            this.$el.html(this.template({ upcoming_webinars: this.upcoming_webinars.models, past_webinars: this.past_webinars.models, futureWebinarsNum: futureWebinarsNum }));\n            __eventos('learn:webinars:impression', {});\n            this.updateContentHeight();\n            return this;\n        },\n\n        join: function join(e) {\n            var webinarId = $(e.currentTarget).attr('data-id');\n            this.joinWebinar(webinarId);\n        },\n\n        watch: function watch(e) {\n            var webinarId = $(e.currentTarget).attr('data-id');\n            var webinar = _.find(this.past_webinars.models, function (webinar) {\n                return webinar.getWebinarId() == webinarId;\n            });\n            var webinar_popup = new WebinarPopup({\n                parent: $('body'),\n                webinar: webinar,\n                onClose: function onClose() {\n                    return webinar_popup = null;\n                }\n            });\n            this.close();\n        },\n\n        register: function register(e) {\n            var webinarId = $(e.currentTarget).attr('data-id');\n            this.registerWebinar(webinarId);\n        },\n\n        updateContentHeight: function updateContentHeight() {\n            var heightSpan = 210;\n            if ($('.ribbon-notification').length > 0 && $('.ribbon-notification')[0].clientHeight) {\n                heightSpan += $('.ribbon-notification')[0].clientHeight;\n            }\n            var contentHeight = document.documentElement.clientHeight - heightSpan;\n            this.$el.find('.content-block').css('height', contentHeight + 'px');\n        },\n\n        createLoadingView: function createLoadingView() {\n            this.loadingView = new LoadingView({\n                parent: $('.main-box'),\n                position: 'absolute'\n            });\n        },\n\n        destroyLoadingView: function destroyLoadingView() {\n            if (this.loadingView) {\n                this.loadingView.destroy();\n                this.loadingView = null;\n            }\n        }\n    });\n\n    module.exports = WebinarsPopupView;\n}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0), __webpack_require__(5)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/webinars/webinars.popup.view.js\n// module id = 1291\n// module chunks = 2\n\n//# sourceURL=webpack:///./src/js/modules/webinars/webinars.popup.view.js?");

/***/ }),

/***/ 1292:
/***/ (function(module, exports, __webpack_require__) {

eval("var map = {\n\t\"./education.png\": 1293,\n\t\"./end_of_day.png\": 1294,\n\t\"./morning_report.png\": 1295,\n\t\"./question_answer.png\": 1296,\n\t\"./sunday_preview.png\": 1297\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1292;\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/common/webinars/categories ^\\.\\/.*\\.png$\n// module id = 1292\n// module chunks = 2\n\n//# sourceURL=webpack:///./src/images/common/webinars/categories_^\\.\\/.*\\.png$?");

/***/ }),

/***/ 1293:
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__.p + \"images/62d927bd2781.png\";\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/common/webinars/categories/education.png\n// module id = 1293\n// module chunks = 2\n\n//# sourceURL=webpack:///./src/images/common/webinars/categories/education.png?");

/***/ }),

/***/ 1294:
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__.p + \"images/0436c246e84c.png\";\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/common/webinars/categories/end_of_day.png\n// module id = 1294\n// module chunks = 2\n\n//# sourceURL=webpack:///./src/images/common/webinars/categories/end_of_day.png?");

/***/ }),

/***/ 1295:
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__.p + \"images/50a58690351b.png\";\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/common/webinars/categories/morning_report.png\n// module id = 1295\n// module chunks = 2\n\n//# sourceURL=webpack:///./src/images/common/webinars/categories/morning_report.png?");

/***/ }),

/***/ 1296:
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__.p + \"images/99027bdb87e9.png\";\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/common/webinars/categories/question_answer.png\n// module id = 1296\n// module chunks = 2\n\n//# sourceURL=webpack:///./src/images/common/webinars/categories/question_answer.png?");

/***/ }),

/***/ 1297:
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__.p + \"images/2015fcf00aa6.png\";\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/common/webinars/categories/sunday_preview.png\n// module id = 1297\n// module chunks = 2\n\n//# sourceURL=webpack:///./src/images/common/webinars/categories/sunday_preview.png?");

/***/ }),

/***/ 1298:
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__.p + \"images/476e57053b36.png\";\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/common/webinars/webinar-default.png\n// module id = 1298\n// module chunks = 2\n\n//# sourceURL=webpack:///./src/images/common/webinars/webinar-default.png?");

/***/ }),

/***/ 1299:
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__.p + \"images/e405f868ba7b.png\";\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/common/webinars/presenter-default.png\n// module id = 1299\n// module chunks = 2\n\n//# sourceURL=webpack:///./src/images/common/webinars/presenter-default.png?");

/***/ }),

/***/ 1300:
/***/ (function(module, exports) {

eval("module.exports = \"<div class=\\\"webinar-view\\\">\\n    <div class=\\\"webinar-content\\\">\\n        <div class=\\\"video\\\">\\n            <iframe src=\\\"<%=webinar.getWebinarURL()%>\\\" frameborder=\\\"0\\\" scrolling=\\\"no\\\" allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen></iframe>\\n        </div>\\n        <div class=\\\"info\\\">\\n            <div>\\n                <div class=\\\"time\\\"><%=webinar.getWebinarStartTime()%></div>\\n                <div class=\\\"title\\\"><%=webinar.getWebinarTitle()%></div>\\n                <div class=\\\"bottom-details\\\">\\n                    <div class=\\\"hosted-by\\\">\\n                        <img src=\\\"<%=webinar.getWebinarPresenterImg()%>\\\">\\n                        <div>\\n                            <div><%=__('webinars.hosted.by')%>: <%=webinar.getWebinarPresenterName()%></div>\\n                            <div><%=webinar.getWebinarPresenterTitle()%></div>\\n                        </div>\\n                    </div>\\n                    <div class=\\\"other-details\\\">\\n                        <div class=\\\"language\\\">\\n                            <span class=\\\"icon-lang-<%=webinar.getWebinarLanguage()%>\\\"></span>\\n                            <span><%=__('language.' + webinar.getWebinarLanguage())%></span>\\n                        </div>\\n                        <div class=\\\"duration\\\">\\n                            <span class=\\\"icon-watch\\\"></span>\\n                            <span><%=webinar.getWebinarDuration()%> <%=__('webinars.duration.minutes')%></span>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <% if (webinar.isActive()) {%>\\n        <div class=\\\"questions\\\">\\n            <div class=\\\"chat\\\">\\n                <div class=\\\"chat-header clearfix\\\">\\n                    <div class=\\\"chat-about\\\">\\n                        <i class=\\\"icon-ask-a-question\\\"></i>\\n                        <span><%= __('webinar.chat.ask.question')%></span>\\n                    </div>\\n                </div>\\n\\n                <div class=\\\"chat-history\\\">\\n                    <ul>\\n\\n                    </ul>\\n                </div>\\n                <div class=\\\"chat-message clearfix\\\">\\n                    <textarea name=\\\"message-to-send\\\" id=\\\"message-to-send\\\" placeholder=\\\"<%=__('webinar.chat.type.message')%>\\\" rows=\\\"3\\\"></textarea>\\n                    <i class=\\\"icon-send-message\\\"></i>\\n                </div>\\n            </div>\\n\\n        </div>\\n    <%}%>\\n</div>\";\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/webinars/templates/webinar.html\n// module id = 1300\n// module chunks = 2\n\n//# sourceURL=webpack:///./src/js/modules/webinars/templates/webinar.html?");

/***/ }),

/***/ 1301:
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(_) {var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require, exports, module) {\n    var _ = __webpack_require__(0);\n    var core = __webpack_require__(4);\n    var ResponsivePopupView = __webpack_require__(24);\n    var server = __webpack_require__(9);\n    var template = _.template(__webpack_require__(1302));\n    var user = __webpack_require__(7);\n    var LoadingView = __webpack_require__(21);\n    var settings = __webpack_require__(10);\n\n    var FeedbackPopupView = ResponsivePopupView.extend({\n\n        initialize: function initialize(options) {\n            ResponsivePopupView.prototype.initialize.apply(this, arguments);\n            this.webinarId = options.webinarId;\n            this.feedbackSent = false;\n            this.render();\n        },\n\n        events: function events() {\n            return _.extend({}, _.result(ResponsivePopupView.prototype, 'events'), {\n                \"click .fn-feedback\": \"addFeedback\",\n                \"keyup .review textarea\": \"updateCounter\"\n            });\n        },\n\n        getOptions: function getOptions(options) {\n            return _.extend({}, _.result(ResponsivePopupView.prototype, 'getOptions'), {\n                isHeaderShowed: true,\n                caption: __('webinar.leave.feedback'),\n                previousCaption: __('actions.back'),\n                closeIconStyle: 'grey',\n                headerStyle: 'wizard'\n            }, options);\n        },\n\n        addFeedback: function addFeedback() {\n            var msg = this.$el.find('textarea').val();\n            if (msg.length > settings.getWebinarsFeedbackMaxLength()) msg = msg.substring(0, settings.getWebinarsFeedbackMaxLength() - 1);\n            var rate = this.$el.find('input[name=\"rating\"]:checked').val() || 0;\n            this.createLoadingView();\n            return this.sendFeedback(msg, rate, true);\n        },\n\n        addFeedbackOnClose: function addFeedbackOnClose() {\n            var msg = '';\n            var rate = -1;\n            return this.sendFeedback(msg, rate, false);\n        },\n\n        sendFeedback: function sendFeedback(msg, rate, isSuccess) {\n            var _this = this;\n\n            var userId = user.getUserData().getCrmboCustomer().id;\n            return server.webinarFeedback(userId, this.webinarId, msg, rate).then(function (res) {\n                if (res.data.error) {\n                    return Promise.reject();\n                }\n                localStorage.setItem('webinar' + _this.webinarId, true);\n                if (isSuccess) {\n                    _this.feedbackSent = true;\n                    _this.destroyLoadingView();\n                    _this.$el.find('.webinars-feedback-view').addClass('hidden');\n                    _this.$el.find('.webinars-feedback-thankyou').removeClass('hidden');\n                }\n            });\n        },\n\n        updateCounter: function updateCounter(e) {\n            var textLength = e.currentTarget.value.length;\n            var errorBlock = this.$el.find('.errors-block');\n            var btn = this.$el.find('.btn');\n\n            this.$el.find('.chars-num').html(textLength);\n\n            if (e.currentTarget.value.length > settings.getWebinarsFeedbackMaxLength()) {\n                errorBlock.removeClass('invisible');\n                btn.addClass('disabled');\n            } else {\n                if (!errorBlock.hasClass('invisible')) {\n                    errorBlock.addClass('invisible');\n                    btn.removeClass('disabled');\n                }\n            }\n        },\n\n        render: function render() {\n            ResponsivePopupView.prototype.render.call(this);\n            this.setContent(template({ theme: document.documentElement.getAttribute('theme') }));\n            return this;\n        },\n\n        close: function close() {\n            if (!this.feedbackSent) this.addFeedbackOnClose();\n            ResponsivePopupView.prototype.close.call(this);\n        },\n\n        createLoadingView: function createLoadingView() {\n            this.loadingView = new LoadingView({\n                parent: this.$el.find('.webinars-feedback-view'),\n                position: 'absolute'\n            });\n        },\n\n        destroyLoadingView: function destroyLoadingView() {\n            if (this.loadingView) {\n                this.loadingView.destroy();\n                this.loadingView = null;\n            }\n        }\n\n    });\n\n    module.exports = FeedbackPopupView;\n}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/webinars/feedback.view.js\n// module id = 1301\n// module chunks = 2\n\n//# sourceURL=webpack:///./src/js/modules/webinars/feedback.view.js?");

/***/ }),

/***/ 1302:
/***/ (function(module, exports) {

eval("module.exports = \"<div class=\\\"webinars-feedback-view\\\">\\n    <div class=\\\"title\\\"><%= __('webinar.feedback.rate')%></div>\\n    <div class=\\\"rating\\\">\\n        <div class=\\\"stars\\\">\\n            <input type=\\\"radio\\\" id=\\\"star5\\\" name=\\\"rating\\\" value=\\\"5\\\" /><label for=\\\"star5\\\"></label>\\n            <input type=\\\"radio\\\" id=\\\"star4\\\" name=\\\"rating\\\" value=\\\"4\\\" /><label for=\\\"star4\\\"></label>\\n            <input type=\\\"radio\\\" id=\\\"star3\\\" name=\\\"rating\\\" value=\\\"3\\\" /><label for=\\\"star3\\\"></label>\\n            <input type=\\\"radio\\\" id=\\\"star2\\\" name=\\\"rating\\\" value=\\\"2\\\" /><label for=\\\"star2\\\"></label>\\n            <input type=\\\"radio\\\" id=\\\"star1\\\" name=\\\"rating\\\" value=\\\"1\\\" /><label for=\\\"star1\\\"></label>\\n        </div>\\n    </div>\\n    <div class=\\\"review\\\">\\n        <textarea placeholder=\\\"<%=__('webinar.feedback.default.text')%>\\\"></textarea>\\n        <div>\\n            <div class=\\\"errors-block invisible\\\"><%=__('webinar.feedback.max.characters')%></div>\\n            <div class=\\\"chars-num\\\">0</div>\\n        </div>\\n    </div>\\n    <a class=\\\"btn btn-primary btn-block fn-feedback\\\" href=\\\"#\\\">\\n        <div class=\\\"button-container\\\">\\n            <span><%=__('webinar.feedback.send')%></span>\\n        </div>\\n    </a>\\n</div>\\n<div class=\\\"webinars-feedback-thankyou hidden\\\">\\n    <div>\\n        <i class=\\\"icon-feedback-thankyou-<%-theme%>\\\"></i>\\n        <div><%=__('webinar.feedback.thankyou')%></div>\\n    </div>\\n</div>\";\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/webinars/templates/feedback.html\n// module id = 1302\n// module chunks = 2\n\n//# sourceURL=webpack:///./src/js/modules/webinars/templates/feedback.html?");

/***/ }),

/***/ 1303:
/***/ (function(module, exports) {

eval("module.exports = \"<div class=\\\"hidden-xs webinars-top\\\">\\n    <div class=\\\"header-actions fn-close-popup btn\\\">\\n        <i class=\\\"icon-close-blue-circle\\\"></i>\\n        <span><%=__('close')%></span>\\n    </div>\\n</div>\\n<div class=\\\"webinars\\\">\\n    <div class=\\\"header-block\\\">\\n        <div class=\\\"webinars-header\\\">\\n            <h3><%=__('webinars.header')%></h3>\\n            <span><%=__('webinars.description')%></span>\\n        </div>\\n    </div>\\n    <div class=\\\"content-block\\\">\\n        <div class=\\\"current-webinars\\\">\\n            <%_.each(upcoming_webinars, function(webinar) {%>\\n                <div class=\\\"webinar <%if(webinar.isActive()){%>active<%}%>\\\">\\n                    <div class=\\\"webinar-content\\\">\\n                        <div class=\\\"webinar-logo\\\">\\n                            <img src=\\\"<%=webinar.getWebinarImg()%>\\\" />\\n                        </div>\\n                        <div>\\n                            <div class=\\\"time\\\"><%=webinar.getWebinarTime()%></div>\\n                            <div class=\\\"title\\\"><%=webinar.getWebinarTitle()%></div>\\n                            <div class=\\\"hosted-by\\\">\\n                                <img src=\\\"<%=webinar.getWebinarPresenterImg()%>\\\">\\n                                <div>\\n                                    <div><%=__('webinars.hosted.by')%>: <%=webinar.getWebinarPresenterName()%></div>\\n                                    <div><%=webinar.getWebinarPresenterTitle()%></div>\\n                                </div>\\n                            </div>\\n                        </div>\\n                        <div>\\n                            <div class=\\\"details\\\"><%= __('webinars.details')%>:</div>\\n                            <div class=\\\"description\\\"><%=webinar.getWebinarDescription()%></div>\\n                            <div class=\\\"language\\\">\\n                                <span class=\\\"icon-lang-<%=webinar.getWebinarLanguage()%>\\\"></span>\\n                                <span><%=__('language.' + webinar.getWebinarLanguage())%></span>\\n                            </div>\\n                            <div class=\\\"duration\\\">\\n                                <span class=\\\"icon-watch\\\"></span>\\n                                <span><%=webinar.getWebinarDuration()%> <%=__('webinars.duration.minutes')%></span>\\n                            </div>\\n                        </div>\\n                        <div>\\n                            <div class=\\\"button\\\">\\n                                <%if(webinar.isActive()) {%>\\n                                    <a class=\\\"btn btn-primary btn-block fn-join\\\"  data-id=\\\"<%=webinar.getWebinarId()%>\\\">\\n                                        <div class=\\\"button-container\\\">\\n                                            <span>\\n                                                <%=__('webinars.join.us')%>\\n                                            </span>\\n                                        </div>\\n                                    </a>\\n                                <%}else{%>\\n                                    <a class=\\\"btn btn-primary btn-block fn-reg\\\" data-id=\\\"<%=webinar.getWebinarId()%>\\\">\\n                                        <div class=\\\"button-container\\\">\\n                                            <span>\\n                                                <%if(webinar.isRegistered()) {%>\\n                                                    <%=__('webinars.unregister')%>\\n                                                <%} else {%>\\n                                                    <%=__('webinars.register')%>\\n                                                <%}%>\\n                                            </span>\\n                                        </div>\\n                                    </a>\\n                                <%}%>\\n                            </div>\\n                            <%if(!webinar.isActive()) {%>\\n                                <div class=\\\"calendar\\\">\\n                                    <div>\\n                                        <%=__('webinars.add.to.calendar')%>:\\n                                    </div>\\n                                    <div>\\n                                        <a class=\\\"icon icon-google\\\" target=\\\"_blank\\\" href=\\\"<%=webinar.getWebinarGoogleCalendarLink()%>\\\"></a>\\n                                        <a class=\\\"icon icon-outlook\\\" target=\\\"_blank\\\" href=\\\"<%=webinar.getWebinarOutlookCalendarLink()%>\\\"></a>\\n                                    </div>\\n                                </div>\\n                            <%}%>\\n                        </div>\\n                    </div>\\n                </div>\\n            <%})%>\\n            <%if(futureWebinarsNum == 0) {%>\\n                <div class=\\\"no-future-webinars\\\">\\n                    <span class=\\\"icon icon-future-webinars\\\"></span>\\n                    <div><%=__('webinars.no.future.webinars')%></div>\\n                </div>\\n            <%}%>\\n        </div>\\n        <div class=\\\"past-webinars\\\">\\n            <div class=\\\"webinars-title\\\"><%=__('webinars.past.webinars')%></div>\\n            <%if (!_.isUndefined(past_webinars) && past_webinars.length > 0) {%>\\n                <%_.each(past_webinars, function(webinar) {%>\\n                    <div class=\\\"webinar\\\">\\n                        <div class=\\\"webinar-content\\\">\\n                            <div>\\n                                <div class=\\\"time\\\"><%=webinar.getWebinarTime()%></div>\\n                                <div class=\\\"title\\\"><%=webinar.getWebinarTitle()%></div>\\n                                <div class=\\\"hosted-by\\\">\\n                                    <img src=\\\"<%=webinar.getWebinarPresenterImg()%>\\\">\\n                                    <div>\\n                                        <div><%=__('webinars.hosted.by')%>: <%=webinar.getWebinarPresenterName()%></div>\\n                                        <div><%=webinar.getWebinarPresenterTitle()%></div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                            <div>\\n                                <div class=\\\"details\\\"><%= __('webinars.details')%>:</div>\\n                                <div class=\\\"description\\\"><%=webinar.getWebinarDescription()%></div>\\n\\n                                <div class=\\\"bottom-block\\\">\\n                                    <div>\\n                                        <div class=\\\"language\\\">\\n                                            <span class=\\\"icon-lang-<%=webinar.getWebinarLanguage()%>\\\"></span>\\n                                            <span><%=__('language.' + webinar.getWebinarLanguage())%></span>\\n                                        </div>\\n                                        <div class=\\\"duration\\\">\\n                                            <span class=\\\"icon-watch\\\"></span>\\n                                            <span><%=webinar.getWebinarDuration()%> <%=__('webinars.duration.minutes')%></span>\\n                                        </div>\\n                                    </div>\\n                                    <div>\\n                                        <div class=\\\"button\\\">\\n                                            <a class=\\\"btn btn-primary btn-block <%if(webinar.getWebinarURL()){%>fn-watch<%}else{%>disabled<%}%>\\\" data-id=\\\"<%=webinar.getWebinarId()%>\\\">\\n                                                <div class=\\\"button-container\\\">\\n                                                    <span>\\n                                                        <%=__('webinars.watch')%>\\n                                                    </span>\\n                                                </div>\\n                                            </a>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                <%})%>\\n            <%} else {%>\\n                <div class=\\\"no-past-webinars\\\">\\n                    <span class=\\\"icon icon-past-webinars\\\"></span>\\n                    <div><%=__('webinars.no.past.webinars')%></div>\\n                </div>\\n            <%}%>\\n        </div>\\n    </div>\\n</div>\";\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/webinars/templates/webinars.html\n// module id = 1303\n// module chunks = 2\n\n//# sourceURL=webpack:///./src/js/modules/webinars/templates/webinars.html?");

/***/ })

});