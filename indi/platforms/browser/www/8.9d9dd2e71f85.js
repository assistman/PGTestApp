webpackJsonp([8],{

/***/ 1188:
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require, exports, module) {\n    var LeverageSelectionModel = __webpack_require__(1261);\n    var LeverageSelectionView = __webpack_require__(1262);\n\n    module.exports = {\n        LeverageSelectionModel: LeverageSelectionModel,\n        LeverageSelectionView: LeverageSelectionView\n    };\n}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/leverage-selection/index.js\n// module id = 1188\n// module chunks = 8\n\n//# sourceURL=webpack:///./src/js/modules/leverage-selection/index.js?");

/***/ }),

/***/ 1233:
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require, exports, module) {\n    var EMPTY = 'EMPTY';\n    var LOADING = 'LOADING';\n    var SUCCESS = 'SUCCESS';\n    var ERROR = 'ERROR';\n    var UPDATING = 'UPDATING';\n    var UPDATING_SUCCEEDED = 'UPDATING_SUCCEEDED';\n\n    module.exports = {\n        EMPTY: EMPTY,\n        LOADING: LOADING,\n        SUCCESS: SUCCESS,\n        ERROR: ERROR,\n        UPDATING: UPDATING,\n        UPDATING_SUCCEEDED: UPDATING_SUCCEEDED\n    };\n}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/leverage-selection/types.js\n// module id = 1233\n// module chunks = 8\n\n//# sourceURL=webpack:///./src/js/modules/leverage-selection/types.js?");

/***/ }),

/***/ 1261:
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require, exports, module) {\n    var Model = __webpack_require__(17);\n    var LeverageModel = __webpack_require__(190);\n\n    var _require = __webpack_require__(1233),\n        EMPTY = _require.EMPTY,\n        LOADING = _require.LOADING,\n        SUCCESS = _require.SUCCESS,\n        ERROR = _require.ERROR,\n        UPDATING = _require.UPDATING,\n        UPDATING_SUCCEEDED = _require.UPDATING_SUCCEEDED;\n\n    var LeverageSelectionModel = LeverageModel.extend({\n        defaults: function defaults() {\n            return {\n                statusOfLeverages: EMPTY\n            };\n        },\n        initialize: function initialize() {\n            this.loadLeverages();\n        },\n        loadLeverages: function loadLeverages() {\n            var status = this.control('statusOfLeverages');\n\n            status(LOADING);\n\n            this.load().then(function (res) {\n                return status(SUCCESS);\n            }).catch(function (err) {\n                return status(ERROR);\n            });\n        },\n        updateLeverage: function updateLeverage(leverage) {\n            var status = this.control('statusOfLeverages');\n\n            status(UPDATING);\n            this.setNewLeverage(leverage);\n\n            return this.save().then(function (res) {\n                return status(UPDATING_SUCCEEDED);\n            }).catch(function (err) {\n                return status(ERROR);\n            });\n        }\n    });\n\n    module.exports = LeverageSelectionModel;\n}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/leverage-selection/leverage.selection.model.js\n// module id = 1261\n// module chunks = 8\n\n//# sourceURL=webpack:///./src/js/modules/leverage-selection/leverage.selection.model.js?");

/***/ }),

/***/ 1262:
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(_, $) {var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require, exports, module) {\n    var _ = __webpack_require__(0);\n    var PopupView = __webpack_require__(47);\n    var LeverageTemplate = _.template(__webpack_require__(1263));\n    var LoadingView = __webpack_require__(21);\n    var settings = __webpack_require__(10);\n    var core = __webpack_require__(4);\n    var eventTracker = __webpack_require__(437);\n\n    var _require = __webpack_require__(1233),\n        EMPTY = _require.EMPTY,\n        LOADING = _require.LOADING,\n        SUCCESS = _require.SUCCESS,\n        ERROR = _require.ERROR,\n        UPDATING = _require.UPDATING,\n        UPDATING_SUCCEEDED = _require.UPDATING_SUCCEEDED;\n\n    var LeverageSelectionView = PopupView.extend({\n        events: function events() {\n            return _.extend({}, _.result(PopupView.prototype, 'events'), {\n                'click .fn-leverage': 'updateLeverage'\n            });\n        },\n\n        className: 'leverage-selection',\n        defaultCustomerLeverage: 0,\n        changedLeverage: 0,\n\n        initialize: function initialize() {\n            PopupView.prototype.initialize.apply(this, arguments);\n            this.listenTo(this.model, 'change:statusOfLeverages', this.onStatusOfLeveragesChanged);\n            this.render();\n        },\n        render: function render() {\n            PopupView.prototype.render.call(this);\n            this.$el.find('.fn-close-popup').remove();\n            this.onStatusOfLeveragesChanged();\n        },\n        renderLeverages: function renderLeverages() {\n            var model = this.model;\n            var showMostPopular = _.contains(model.asArray(), parseInt(settings.getLeverageMostPopular()));\n\n            this.defaultCustomerLeverage = this.model.getCurrentLeverageValue();\n\n            this.setContent(LeverageTemplate({\n                leverages: model.getLeverage(),\n                defaultLeverage: model.getDefaultValue(),\n                settings: settings,\n                showMostPopular: showMostPopular\n            }));\n        },\n        onStatusOfLeveragesChanged: function onStatusOfLeveragesChanged() {\n            var status = this.model.get('statusOfLeverages');\n            var uiContent = '.popup-body';\n\n            switch (status) {\n                case EMPTY:\n                case LOADING:\n                    this.addChildView(uiContent, LoadingView, { parent: this.$el });\n                    break;\n                case SUCCESS:\n                    this.removeChildView(uiContent);\n                    this.renderLeverages();\n                    break;\n                case UPDATING:\n                    this.addChildView(uiContent, LoadingView, { parent: this.$el });\n                    break;\n                case UPDATING_SUCCEEDED:\n                    this.removeChildView(uiContent);\n                    this.selected();\n                    break;\n                case ERROR:\n                    this.removeChildView(uiContent);\n                    core.trigger('ui:message-box', {\n                        text: __('indigo.generic.error.message')\n                    });\n                    break;\n            }\n        },\n        updateLeverage: function updateLeverage(event) {\n            event.preventDefault();\n            this.changedLeverage = $(event.currentTarget).attr('data-leverage');\n            this.model.updateLeverage(this.changedLeverage).then(this.updateSuccess.bind(this));\n        },\n\n\n        updateSuccess: function updateSuccess() {\n            eventTracker.trackRegistrationLeverageChange(this.defaultCustomerLeverage, this.changedLeverage);\n        },\n\n        selected: function selected() {\n            var options = this.options;\n            var ok = options && options.onOK;\n\n            _.isFunction(ok) && ok();\n\n            this.close();\n        }\n    });\n\n    module.exports = LeverageSelectionView;\n}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0), __webpack_require__(5)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/leverage-selection/leverage.selection.view.js\n// module id = 1262\n// module chunks = 8\n\n//# sourceURL=webpack:///./src/js/modules/leverage-selection/leverage.selection.view.js?");

/***/ }),

/***/ 1263:
/***/ (function(module, exports) {

eval("module.exports = \"<div class=\\\"leverage\\\">\\n    <div class=\\\"leverage-top\\\">\\n        <div>\\n            <span class=\\\"leverage-selection-title hidden-sm hidden-md hidden-lg\\\"><%= __('leverage.popup.title')%></span>\\n            <%=__('leverage.popup.header.info')%>\\n        </div>\\n        <div class=\\\"bold\\\"><%=__('leverage.popup.header.select')%></div>\\n    </div>\\n    <div class=\\\"leverage-content\\\">\\n        <% _.each(leverages, function (v){ %>\\n            <div class=\\\"leverage-level\\\">\\n                <% if (settings.getLeverageMostPopular() == v.leverage) { %>\\n                    <div class=\\\"is-most-popular-panel\\\" dir=\\\"ltr\\\">\\n                        <div class=\\\"most-popular\\\"><%= __('leverage.popup.option.most_popular')%></div>\\n                    </div>\\n                <% } else { %>\\n                    <div class=\\\"top\\\"></div>\\n                <% } %>\\n                <span class=\\\"select-leverage hidden-sm hidden-md hidden-lg\\\"><%= __('actions.select') %></span>\\n                <span class=\\\"leverage-value\\\">1:<%=v.leverage%></span>\\n                <span class=\\\"question-tooltip\\\">\\n                    <div class=\\\"tooltiptext\\\">\\n                        <table>\\n                            <thead>\\n                                <tr>\\n                                    <th><%=__('leverage.popup.option.tooltip.asset_classes')%></th>\\n                                    <th><%=__('leverage.popup.option.tooltip.up_to')%></th>\\n                                </tr>\\n                            </thead>\\n                            <tbody>\\n                                <tr>\\n                                    <td><%=__('leverage.popup.option.tooltip.class_forex')%></td>\\n                                    <td>1:<%=__('leverage.popup.option.tooltip.value.for.' + v.leverage + '.class_forex')%></td>\\n                                </tr>\\n                                <tr>\\n                                    <td><%=__('leverage.popup.option.tooltip.class_commodities')%></td>\\n                                    <td>1:<%=__('leverage.popup.option.tooltip.value.for.' + v.leverage + '.class_commodities')%></td>\\n                                </tr>\\n                                <tr>\\n                                    <td><%=__('leverage.popup.option.tooltip.class_bonds_indices')%></td>\\n                                    <td>1:<%=__('leverage.popup.option.tooltip.value.for.' + v.leverage + '.class_bonds_indices')%></td>\\n                                </tr>\\n                                <tr>\\n                                    <td><%=__('leverage.popup.option.tooltip.class_shares')%></td>\\n                                    <td>1:<%=__('leverage.popup.option.tooltip.value.for.' + v.leverage + '.class_shares')%></td>\\n                                </tr>\\n                                <tr>\\n                                    <td><%=__('leverage.popup.option.tooltip.class_etfs')%></td>\\n                                    <td>1:<%=__('leverage.popup.option.tooltip.value.for.' + v.leverage + '.class_etfs')%></td>\\n                                </tr>\\n                            </tbody>\\n                        </table>\\n                    </div>\\n                </span>\\n                <a class=\\\"btn btn-primary btn-block fn-leverage \\\" href=\\\"#\\\" data-leverage=\\\"<%=v.leverage%>\\\">\\n                    <div class=\\\"button-container hidden-xs\\\">\\n                        <span><%= __('actions.select') %></span>\\n                    </div>\\n                </a>\\n                <% if(v.defaultValue) {%><span class=\\\"default-leverage\\\"><%= __('leverage.popup.option.default')%></span><% } %>\\n            </div>\\n        <% }) %>\\n    </div>\\n    <div class=\\\"line\\\"></div>\\n    <div class=\\\"leverage-bottom\\\">\\n        <%if(showMostPopular){%><%=__('leverage.popup.footer.most_popular',settings.getLeverageMostPopular())%><br /><%}%>\\n        <%=__('leverage.popup.footer.default', defaultLeverage)%><br />\\n        <%=__('leverage.popup.footer.description.notes')%><br />\\n        <%=__('leverage.popup.footer.description.links')%><br />\\n\\n    </div>\\n</div>\";\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/leverage-selection/templates/leverage.selection.html\n// module id = 1263\n// module chunks = 8\n\n//# sourceURL=webpack:///./src/js/modules/leverage-selection/templates/leverage.selection.html?");

/***/ })

});