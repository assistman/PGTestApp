webpackJsonp([54],{1964:function(e,t,n){"use strict";function a(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function r(e,t){var n=t.pathUrl,a=e.instruments.treePathsMap[n];return{localizationKey:a&&a._localizedNameKey,name:a&&a.category}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=e.ui,a=n.selectedInstrumentCategoryTreePath;return{selected:n.section===h.UI_SECTION_TRADING&&t.node._pathUrl===a}}function l(e){return{selectCategoryPath:U.a.throttle(function(t){e(Object(C.selectInstrumentCategoryTreePath)(t)),e(Object(C.selectFirstSymbolInSymbolList)(t)),e(Object(C.closeInstrumentDetails)()),e(Object(C.setTradingSection)())},10)}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function m(e){return{tree:e.instruments.tree}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function b(e){return{section:e.ui.section}}function O(e){return{openFavoritesSection:function(){e(Object(C.closeInstrumentDetails)()),e(Object(C.setFavoritesSection)())},openOpenPositionSection:function(){e(Object(C.closeInstrumentDetails)()),e(Object(C.setOpenPositionsSection)())},openOrdersSection:function(){e(Object(C.closeInstrumentDetails)()),e(Object(C.setOrdersSection)())}}}Object.defineProperty(t,"__esModule",{value:!0});var h=n(10),y=n(303),E=n.n(y),j=n(2639),_=n(2856),g=n.n(_),N=n(2640),P=n(1),S=n.n(P),k=n(11),w=n.n(k),I=n(8),C=n(87),x=n(0),U=n.n(x),T=n(23),D=n.n(T),z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},R=Object(I.connect)(r)(function(e){var t=(e.value,e.pathUrl,e.localizationKey),n=e.name,r=(e.dispatch,e.as),o=a(e,["value","pathUrl","localizationKey","name","dispatch","as"]);return S.a.createElement(r||"div",z({},o),D.a.fixCategoryName(t,n))}),F=(n(2),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),M=function(e){function t(e){o(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.click=n.click.bind(n),n}return i(t,e),F(t,[{key:"click",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.selectCategoryPath(this.props.node._pathUrl)}},{key:"render",value:function(){var e=w()({node:!0,tree_node_selected:this.props.selected});return S.a.createElement("div",{className:e,onMouseDown:this.click},S.a.createElement("div",{className:"name"},S.a.createElement("div",{className:"icon"}),S.a.createElement(R,{as:"div",className:"text",pathUrl:this.props.node._pathUrl})))}}]),t}(P.Component),K=Object(I.connect)(s,l)(M),A=n(296),G=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),J=function(e){function t(e){u(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={closed:!0},n.click=n.click.bind(n),n}return f(t,e),G(t,[{key:"click",value:function(e){e.stopPropagation(),this.setState({closed:!this.state.closed})}},{key:"render",value:function(){var e=this.props.node,n=w()({node:!0,folder:!0,closed:this.state.closed});return e.empty?null:S.a.createElement("div",{className:n},S.a.createElement("div",{className:"name",onClick:this.click},S.a.createElement("div",{className:"icon"},S.a.createElement("i",{className:"arrow"})),S.a.createElement(R,{as:"div",className:"text",pathUrl:e._pathUrl})),!this.state.closed&&e.elements&&e.elements.length&&S.a.createElement("div",{className:"children"},U.a.map(e.elements,function(e){return Object(A.f)(e)?null:Object(A.e)(e)?S.a.createElement(t,{key:e._pathUrl,node:e}):S.a.createElement(K,{key:e._pathUrl,node:e})})))}}]),t}(P.Component),L=J,V=function(e){var t=e.tree;return S.a.createElement("div",{className:"tree-container"},U.a.map(t,function(e){return e.empty?null:Object(A.e)(e)?S.a.createElement(L,{key:e._pathUrl,node:e}):S.a.createElement(K,{key:e._pathUrl,node:e})}))},W=Object(I.connect)(m)(V);n.d(t,"SelectedSectionState",function(){return B}),n.d(t,"InstrumentTreeContainer",function(){return H});var q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},B=Object(I.connect)(b)(function(e){var t,n=(e.dispatch,e.className),a=e.section,r=e.sectionName,o=e.children,c=v(e,["dispatch","className","section","sectionName","children"]),i=w()((t={},d(t,n,!!n),d(t,"tree_node_selected",a===r),t));return S.a.createElement(c.as||"div",q({},c,{className:i}),o)}),H=function(e){var t=e.openFavoritesSection,n=e.openOpenPositionSection,a=e.openOrdersSection;return S.a.createElement("div",{className:"pane pane__column pane__fluid"},S.a.createElement("div",{className:"tree-container menu"},S.a.createElement(B,{as:"div",className:"node",sectionName:h.UI_SECTION_FAVORITES},S.a.createElement("div",{className:"name",id:"instruments-tree-favorites",onClick:t},S.a.createElement("div",{className:"icon"}),S.a.createElement("div",{className:"text"},__("tab.favorites")))),S.a.createElement(B,{as:"div",className:"node",sectionName:h.UI_SECTION_OPEN_POSITION},S.a.createElement("div",{className:"name",id:"instruments-tree-open-positions",onClick:n},S.a.createElement("div",{className:"icon"}),S.a.createElement("div",{className:"text flex flex-valign-center"},__("tab.open_positions"),S.a.createElement("div",{className:"badge"},S.a.createElement(j.a,{as:"span"})),S.a.createElement(E.a,{desktop:!0},S.a.createElement(g.a,{as:"span"}))))),S.a.createElement(B,{as:"div",className:"node",sectionName:h.UI_SECTION_ORDERS},S.a.createElement("div",{className:"name",id:"instruments-tree-orders",onClick:a},S.a.createElement("div",{className:"icon"}),S.a.createElement("div",{className:"text  flex flex-valign-center"},__("tab.orders"),S.a.createElement("div",{className:"badge"},S.a.createElement(N.a,{as:"span"})))))),S.a.createElement("div",{className:"instruments-tree"},S.a.createElement(W,null)))};t.default=Object(I.connect)(null,O)(H)},2043:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"c",function(){return m}),n.d(t,"d",function(){return b}),n.d(t,"b",function(){return O});var a=n(206),r=n(44),o=n(158),c=n(0),i=n.n(c),s=n(109),l=function(e){return e.positions},u=Object(r.a)(l,function(e){return e.instrumentPositions}),p=Object(r.a)(u,function(e){return i.a.keys(e)}),f=Object(r.a)(l,function(e){return i.a.keys(e.instrumentPositions)}),m=(Object(r.a)(l,function(e){return e.OPEN_POSITION}),Object(r.a)(l,function(e){return e.totalPositionsCount})),d=Object(r.a)(l,function(e){return e.instrumentPositionsCounter}),v=Object(r.a)([d,s.a],function(e,t){return e[t]}),b=Object(r.a)(v,function(e){return!!e&&e._count>0}),O=Object(r.a)([o.getInstrumentSymbolMap,f,o.getSymbolsSortName,o.getSymbolsSortDirection],a.n)},2639:function(e,t,n){"use strict";function a(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function r(e){return{value:Object(o.c)(e)}}var o=n(2043),c=n(1),i=n.n(c),s=n(8),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(e){var t=e.value,n=e.as,r=(e.dispatch,a(e,["value","as","dispatch"]));return i.a.createElement(n||"span",l({},r),t)};t.a=Object(s.connect)(r)(u)},2640:function(e,t,n){"use strict";function a(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function r(e){return{value:Object(s.e)(e)}}var o=n(1),c=n.n(o),i=n(8),s=n(802),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(e){var t=e.as,n=e.value,r=(e.dispatch,a(e,["as","value","dispatch"]));return c.a.createElement(t||"span",l({},r),n)};t.a=Object(i.connect)(r)(u)},2856:function(e,t,n){var a=n(1),r=n(29),o=n(11),c=n(7),i=n(58),s=n(2),l=function(){return c.getApplicationSettings()};e.exports=r({displayName:"exports",getDefaultProps:function(){return{as:"span",className:""}},getInitialState:function(){return{visible:i.size(),open:l().floatingOpenPositionsEnabled()}},componentDidMount:function(){l().on("change:floatingOpenPositionsEnabled",this.handle,this),i.on("remove update",this.handle,this)},componentWillUnmount:function(){l().off("change:floatingOpenPositionsEnabled",this.handle,this),i.off("remove update",this.handle,this)},handle:function(){this.setState({visible:i.size(),open:l().floatingOpenPositionsEnabled()})},click:function(e){e.stopPropagation();var t=!l().floatingOpenPositionsEnabled();l().floatingOpenPositionsEnabled(t),s.trigger("ui:click:floating:open-positions",t)},render:function(){var e=this.props,t=e.as,n=e.className,r=this.state,c=r.open,i=r.visible,s=o({"icon-open-floating-view":!c,"icon-close-floating-view":c});return i?a.createElement(t,{className:n+" "+s,onClick:this.click}):null}})}});