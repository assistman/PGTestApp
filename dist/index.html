<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<input type="text" id="text" />
<input type="button" value="SEND" onClick="javascript: send()" />
<div id="log">

</div>

<script>
    var socket = null;

    function $(selector) {
    	return document.querySelector(selector);
    }
    function log(text) {
	    $('#log').innerHTML += '<br/>' + text;
    }
    function send() {
    	var text = $('#text').value;
        log('Sent: ' + text)
    	socket && socket.send(text);
    }
    document.addEventListener('DOMContentLoaded', function () {
    	var host = 'wss://echo.websocket.org';
	    socket = new WebSocket(host);

	    log('Host: ' + host);

	    log('Connecting ...');

	    socket.onopen = function(e) {
		    log('Websocket... CONNECTED');
	    };

	    socket.onerror = function (e) {
		    log('Websocket... ERROR. ' + e.message);
	    };

	    socket.onmessage = function (e) {
		    log('Websocket... RECEIVED. ' + JSON.stringify(e.data));
	    };

	    socket.onclose = function (e) {
		    var code = e.code;
		    var reason = e.reason;

		    log('Websocket... CLOSED. Code: ' + code + ', Reason: ' + reason);
	    };
    });
</script>
</body>
</html>